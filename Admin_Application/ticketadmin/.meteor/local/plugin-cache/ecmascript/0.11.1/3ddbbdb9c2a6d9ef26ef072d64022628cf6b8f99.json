{"metadata":{},"options":{"plugins":[{"key":"base$1$0","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"Program":{"enter":[null],"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","throwIfNamespace":true,"useBuiltIns":false}},{"key":"base$1$1","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"generateLetDeclarations":true,"enforceStrictMode":false}},{"key":"base$0$1","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$2","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"CallExpression":{"enter":[null]},"OptionalCallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"InterfaceTypeAnnotation":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeInternalSlot":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"base$0$3","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"polyfill":false,"useBuiltIns":true}},{"key":"base$0$4","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$5","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-meteor-async-await","visitor":{"AwaitExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ObjectMethod":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"ClassMethod":{"exit":[null]}},"options":{"useNativeAsyncAwait":false}},{"key":"transform-meteor-dynamic-import","visitor":{"_exploded":{},"_verified":{},"CallExpression":{"enter":[null]}},"options":{}},{"key":"base$0$8","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"base$0$9","visitor":{"Program":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"allowTopLevelThis":true,"strictMode":false,"loose":true}},{"key":"base$0$10","visitor":{"_exploded":{},"_verified":{},"PrivateName":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]}},"options":{"loose":true}}],"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/tristan/Documents/Uni/2018/Semester 2/COS 301/Group Project/TicketSalad/ticketsalad/Admin_Application/ticketadmin/semantic/tasks/docs/serve.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining","pipelineOperator","throwExpressions","jsx",["flow",{}],["flow",{}],"objectRestSpread","objectRestSpread","dynamicImport","asyncGenerators","classProperties","classPrivateProperties"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"strictMode":false},"sourceFileName":"semantic/tasks/docs/serve.js","filename":"/Users/tristan/Documents/Uni/2018/Semester 2/COS 301/Group Project/TicketSalad/ticketsalad/Admin_Application/ticketadmin/semantic/tasks/docs/serve.js","passPerPreset":false,"envName":"development","cwd":"/Users/tristan/Documents/Uni/2018/Semester 2/COS 301/Group Project/TicketSalad/ticketsalad/Admin_Application/ticketadmin","root":"/Users/tristan/Documents/Uni/2018/Semester 2/COS 301/Group Project/TicketSalad/ticketsalad/Admin_Application/ticketadmin","presets":[],"generatorOpts":{"filename":"/Users/tristan/Documents/Uni/2018/Semester 2/COS 301/Group Project/TicketSalad/ticketsalad/Admin_Application/ticketadmin/semantic/tasks/docs/serve.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"semantic/tasks/docs/serve.js"}},"code":"/*******************************\n           Serve Docs\n*******************************/\nvar gulp = require('gulp'),\n    // node dependencies\nconsole = require('better-console'),\n    fs = require('fs'),\n    // gulp dependencies\nautoprefixer = require('gulp-autoprefixer'),\n    chmod = require('gulp-chmod'),\n    clone = require('gulp-clone'),\n    gulpif = require('gulp-if'),\n    header = require('gulp-header'),\n    less = require('gulp-less'),\n    minifyCSS = require('gulp-clean-css'),\n    plumber = require('gulp-plumber'),\n    print = require('gulp-print'),\n    rename = require('gulp-rename'),\n    replace = require('gulp-replace'),\n    uglify = require('gulp-uglify'),\n    util = require('gulp-util'),\n    watch = require('gulp-watch'),\n    // user config\nconfig = require('../config/docs'),\n    // task config\ntasks = require('../config/tasks'),\n    configSetup = require('../config/project/config'),\n    install = require('../config/project/install'),\n    // shorthand\nbanner = tasks.banner,\n    comments = tasks.regExp.comments,\n    log = tasks.log,\n    settings = tasks.settings,\n    globs,\n    assets,\n    output,\n    source;\n\nrequire('../collections/internal')(gulp);\n\nmodule.exports = function () {\n  // use a different config\n  config = configSetup.addDerivedValues(config); // shorthand\n\n  globs = config.globs;\n  assets = config.paths.assets;\n  output = config.paths.output;\n  source = config.paths.source;\n  /*--------------\n     Copy Source\n  ---------------*/\n\n  gulp.watch(['src/**/*.*'], function (file) {\n    console.clear();\n    return gulp.src(file.path, {\n      base: 'src/'\n    }).pipe(gulp.dest(output.less)).pipe(print(log.created));\n  });\n  /*--------------\n    Copy Examples\n  ---------------*/\n\n  gulp.watch(['examples/**/*.*'], function (file) {\n    console.clear();\n    return gulp.src(file.path, {\n      base: 'examples/'\n    }).pipe(gulp.dest(output.examples)).pipe(print(log.created));\n  });\n  /*--------------\n      Watch CSS\n  ---------------*/\n\n  gulp.watch([source.config, source.definitions + '/**/*.less', source.site + '/**/*.{overrides,variables}', source.themes + '/**/*.{overrides,variables}'], function (file) {\n    var lessPath, stream, compressedStream, uncompressedStream, isDefinition, isPackagedTheme, isSiteTheme, isConfig; // log modified file\n\n    gulp.src(file.path).pipe(print(log.modified));\n    /*--------------\n       Find Source\n    ---------------*/\n    // recompile on *.override , *.variable change\n\n    isConfig = file.path.indexOf('theme.config') !== -1 || file.path.indexOf('site.variables') !== -1;\n    isPackagedTheme = file.path.indexOf(source.themes) !== -1;\n    isSiteTheme = file.path.indexOf(source.site) !== -1;\n    isDefinition = file.path.indexOf(source.definitions) !== -1;\n\n    if (isConfig) {\n      // console.info('Rebuilding all files');\n      // cant rebuild paths are wrong\n      // gulp.start('build-docs');\n      return;\n    } else if (isPackagedTheme) {\n      console.log('Change detected in packaged theme');\n      lessPath = util.replaceExtension(file.path, '.less');\n      lessPath = lessPath.replace(tasks.regExp.theme, source.definitions);\n    } else if (isSiteTheme) {\n      console.log('Change detected in site theme');\n      lessPath = util.replaceExtension(file.path, '.less');\n      lessPath = lessPath.replace(source.site, source.definitions);\n    } else {\n      console.log('Change detected in definition');\n      lessPath = file.path;\n    }\n    /*--------------\n      Create CSS\n    ---------------*/\n\n\n    if (fs.existsSync(lessPath)) {\n      // unified css stream\n      stream = gulp.src(lessPath).pipe(plumber()).pipe(less(settings.less)).pipe(replace(comments.variables.in, comments.variables.out)).pipe(replace(comments.large.in, comments.large.out)).pipe(replace(comments.small.in, comments.small.out)).pipe(replace(comments.tiny.in, comments.tiny.out)).pipe(autoprefixer(settings.prefix)).pipe(gulpif(config.hasPermission, chmod(config.permission))); // use 2 concurrent streams from same pipe\n\n      uncompressedStream = stream.pipe(clone());\n      compressedStream = stream.pipe(clone());\n      uncompressedStream.pipe(plumber()).pipe(replace(assets.source, assets.uncompressed)).pipe(header(banner, settings.header)).pipe(gulp.dest(output.uncompressed)).pipe(print(log.created)).on('end', function () {\n        gulp.start('package uncompressed docs css');\n      });\n      compressedStream = stream.pipe(plumber()).pipe(replace(assets.source, assets.compressed)).pipe(minifyCSS(settings.minify)).pipe(rename(settings.rename.minCSS)).pipe(header(banner, settings.header)).pipe(gulp.dest(output.compressed)).pipe(print(log.created)).on('end', function () {\n        gulp.start('package compressed docs css');\n      });\n    } else {\n      console.log('Cannot find UI definition at path', lessPath);\n    }\n  });\n  /*--------------\n      Watch JS\n  ---------------*/\n\n  gulp.watch([source.definitions + '/**/*.js'], function (file) {\n    gulp.src(file.path).pipe(plumber()).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.uncompressed)).pipe(print(log.created)).pipe(uglify(settings.uglify)).pipe(rename(settings.rename.minJS)).pipe(gulp.dest(output.compressed)).pipe(print(log.created)).on('end', function () {\n      gulp.start('package compressed docs js');\n      gulp.start('package uncompressed docs js');\n    });\n  });\n  /*--------------\n    Watch Assets\n  ---------------*/\n  // only copy assets that match component names (or their plural)\n\n  gulp.watch([source.themes + '/**/assets/**/' + globs.components + '?(s).*'], function (file) {\n    // copy assets\n    gulp.src(file.path, {\n      base: source.themes\n    }).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.themes)).pipe(print(log.created));\n  });\n};","map":{"version":3,"sources":["semantic/tasks/docs/serve.js"],"names":["gulp","require","console","fs","autoprefixer","chmod","clone","gulpif","header","less","minifyCSS","plumber","print","rename","replace","uglify","util","watch","config","tasks","configSetup","install","banner","comments","regExp","log","settings","globs","assets","output","source","module","exports","addDerivedValues","paths","file","clear","src","path","base","pipe","dest","created","examples","definitions","site","themes","lessPath","stream","compressedStream","uncompressedStream","isDefinition","isPackagedTheme","isSiteTheme","isConfig","modified","indexOf","replaceExtension","theme","existsSync","variables","in","out","large","small","tiny","prefix","hasPermission","permission","uncompressed","on","start","compressed","minify","minCSS","minJS","components"],"mappings":"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","sourcesContent":["/*******************************\n           Serve Docs\n*******************************/\nvar\n  gulp         = require('gulp'),\n\n  // node dependencies\n  console      = require('better-console'),\n  fs           = require('fs'),\n\n  // gulp dependencies\n  autoprefixer = require('gulp-autoprefixer'),\n  chmod        = require('gulp-chmod'),\n  clone        = require('gulp-clone'),\n  gulpif       = require('gulp-if'),\n  header       = require('gulp-header'),\n  less         = require('gulp-less'),\n  minifyCSS    = require('gulp-clean-css'),\n  plumber      = require('gulp-plumber'),\n  print        = require('gulp-print'),\n  rename       = require('gulp-rename'),\n  replace      = require('gulp-replace'),\n  uglify       = require('gulp-uglify'),\n  util         = require('gulp-util'),\n  watch        = require('gulp-watch'),\n\n  // user config\n  config       = require('../config/docs'),\n\n  // task config\n  tasks        = require('../config/tasks'),\n  configSetup  = require('../config/project/config'),\n  install      = require('../config/project/install'),\n\n  // shorthand\n  banner       = tasks.banner,\n  comments     = tasks.regExp.comments,\n  log          = tasks.log,\n  settings     = tasks.settings,\n\n  globs,\n  assets,\n  output,\n  source\n;\n\nrequire('../collections/internal')(gulp);\n\nmodule.exports = function () {\n\n  // use a different config\n  config = configSetup.addDerivedValues(config);\n\n  // shorthand\n  globs  = config.globs;\n  assets = config.paths.assets;\n  output = config.paths.output;\n  source = config.paths.source;\n\n\n  /*--------------\n     Copy Source\n  ---------------*/\n\n  gulp\n    .watch([\n      'src/**/*.*'\n    ], function(file) {\n      console.clear();\n      return gulp.src(file.path, {\n          base: 'src/'\n        })\n        .pipe(gulp.dest(output.less))\n        .pipe(print(log.created))\n      ;\n    })\n  ;\n\n  /*--------------\n    Copy Examples\n  ---------------*/\n\n  gulp\n    .watch([\n      'examples/**/*.*'\n    ], function(file) {\n      console.clear();\n      return gulp.src(file.path, {\n          base: 'examples/'\n        })\n        .pipe(gulp.dest(output.examples))\n        .pipe(print(log.created))\n      ;\n    })\n  ;\n\n  /*--------------\n      Watch CSS\n  ---------------*/\n\n  gulp\n    .watch([\n      source.config,\n      source.definitions   + '/**/*.less',\n      source.site          + '/**/*.{overrides,variables}',\n      source.themes        + '/**/*.{overrides,variables}'\n    ], function(file) {\n\n      var\n        lessPath,\n\n        stream,\n        compressedStream,\n        uncompressedStream,\n\n        isDefinition,\n        isPackagedTheme,\n        isSiteTheme,\n        isConfig\n      ;\n\n      // log modified file\n      gulp.src(file.path)\n        .pipe(print(log.modified))\n      ;\n\n      /*--------------\n         Find Source\n      ---------------*/\n\n      // recompile on *.override , *.variable change\n      isConfig        = (file.path.indexOf('theme.config') !== -1 || file.path.indexOf('site.variables') !== -1);\n      isPackagedTheme = (file.path.indexOf(source.themes) !== -1);\n      isSiteTheme     = (file.path.indexOf(source.site) !== -1);\n      isDefinition    = (file.path.indexOf(source.definitions) !== -1);\n\n      if(isConfig) {\n        // console.info('Rebuilding all files');\n        // cant rebuild paths are wrong\n        // gulp.start('build-docs');\n        return;\n      }\n      else if(isPackagedTheme) {\n        console.log('Change detected in packaged theme');\n        lessPath = util.replaceExtension(file.path, '.less');\n        lessPath = lessPath.replace(tasks.regExp.theme, source.definitions);\n      }\n      else if(isSiteTheme) {\n        console.log('Change detected in site theme');\n        lessPath = util.replaceExtension(file.path, '.less');\n        lessPath = lessPath.replace(source.site, source.definitions);\n      }\n      else {\n        console.log('Change detected in definition');\n        lessPath = file.path;\n      }\n\n      /*--------------\n        Create CSS\n      ---------------*/\n\n      if( fs.existsSync(lessPath) ) {\n\n        // unified css stream\n        stream = gulp.src(lessPath)\n          .pipe(plumber())\n          .pipe(less(settings.less))\n          .pipe(replace(comments.variables.in, comments.variables.out))\n          .pipe(replace(comments.large.in, comments.large.out))\n          .pipe(replace(comments.small.in, comments.small.out))\n          .pipe(replace(comments.tiny.in, comments.tiny.out))\n          .pipe(autoprefixer(settings.prefix))\n          .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n        ;\n\n        // use 2 concurrent streams from same pipe\n        uncompressedStream = stream.pipe(clone());\n        compressedStream   = stream.pipe(clone());\n\n        uncompressedStream\n          .pipe(plumber())\n          .pipe(replace(assets.source, assets.uncompressed))\n          .pipe(header(banner, settings.header))\n          .pipe(gulp.dest(output.uncompressed))\n          .pipe(print(log.created))\n          .on('end', function() {\n            gulp.start('package uncompressed docs css');\n          })\n        ;\n\n        compressedStream = stream\n          .pipe(plumber())\n          .pipe(replace(assets.source, assets.compressed))\n          .pipe(minifyCSS(settings.minify))\n          .pipe(rename(settings.rename.minCSS))\n          .pipe(header(banner, settings.header))\n          .pipe(gulp.dest(output.compressed))\n          .pipe(print(log.created))\n          .on('end', function() {\n            gulp.start('package compressed docs css');\n          })\n        ;\n\n      }\n      else {\n        console.log('Cannot find UI definition at path', lessPath);\n      }\n    })\n  ;\n\n  /*--------------\n      Watch JS\n  ---------------*/\n\n  gulp\n    .watch([\n      source.definitions   + '/**/*.js'\n    ], function(file) {\n      gulp.src(file.path)\n        .pipe(plumber())\n        .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n        .pipe(gulp.dest(output.uncompressed))\n        .pipe(print(log.created))\n        .pipe(uglify(settings.uglify))\n        .pipe(rename(settings.rename.minJS))\n        .pipe(gulp.dest(output.compressed))\n        .pipe(print(log.created))\n        .on('end', function() {\n          gulp.start('package compressed docs js');\n          gulp.start('package uncompressed docs js');\n        })\n      ;\n    })\n  ;\n\n  /*--------------\n    Watch Assets\n  ---------------*/\n\n  // only copy assets that match component names (or their plural)\n  gulp\n    .watch([\n      source.themes   + '/**/assets/**/' + globs.components + '?(s).*'\n    ], function(file) {\n      // copy assets\n      gulp.src(file.path, { base: source.themes })\n        .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n        .pipe(gulp.dest(output.themes))\n        .pipe(print(log.created))\n      ;\n    })\n  ;\n\n\n};\n"]},"sourceType":"script","hash":"3ddbbdb9c2a6d9ef26ef072d64022628cf6b8f99"}
