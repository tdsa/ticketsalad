{"metadata":{},"options":{"plugins":[{"key":"base$0$0","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"generateLetDeclarations":true,"enforceStrictMode":false}},{"key":"transform-meteor-dynamic-import","visitor":{"_exploded":{},"_verified":{},"CallExpression":{"enter":[null]}},"options":{}},{"key":"base$0$2","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"polyfill":false,"useBuiltIns":true}},{"key":"base$0$3","visitor":{"_exploded":{},"_verified":{},"PrivateName":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]}},"options":{"loose":true}},{"key":"base$0$4","visitor":{"Program":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"allowTopLevelThis":true,"strictMode":false,"loose":true}},{"key":"base$0$1$0","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"Program":{"enter":[null],"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","throwIfNamespace":true,"useBuiltIns":false}},{"key":"base$0$1$1","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$1","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$2","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$3","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$4","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$5","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$6","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]}},"options":{}},{"key":"base$0$0$7","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$8","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"CallExpression":{"enter":[null]},"OptionalCallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"InterfaceTypeAnnotation":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeInternalSlot":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"base$0$0$9","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$10","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}}],"presets":[],"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/tristan/Documents/Uni/2018/Semester 2/COS 301/Group Project/TicketSalad/ticketsalad/Admin_Application/ticketadmin/semantic/src/definitions/behaviors/visibility.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining","pipelineOperator","throwExpressions","dynamicImport","classProperties","classPrivateProperties","jsx",["flow",{}],"asyncGenerators","objectRestSpread","objectRestSpread",["flow",{}],"asyncGenerators"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"strictMode":false},"sourceFileName":"semantic/src/definitions/behaviors/visibility.js","filename":"/Users/tristan/Documents/Uni/2018/Semester 2/COS 301/Group Project/TicketSalad/ticketsalad/Admin_Application/ticketadmin/semantic/src/definitions/behaviors/visibility.js","passPerPreset":false,"envName":"development","cwd":"/Users/tristan/Documents/Uni/2018/Semester 2/COS 301/Group Project/TicketSalad/ticketsalad/Admin_Application/ticketadmin","root":"/Users/tristan/Documents/Uni/2018/Semester 2/COS 301/Group Project/TicketSalad/ticketsalad/Admin_Application/ticketadmin","generatorOpts":{"filename":"/Users/tristan/Documents/Uni/2018/Semester 2/COS 301/Group Project/TicketSalad/ticketsalad/Admin_Application/ticketadmin/semantic/src/definitions/behaviors/visibility.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"semantic/src/definitions/behaviors/visibility.js"}},"code":"/*!\n * # Semantic UI - Visibility\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.visibility = function (parameters) {\n    var $allModules = $(this),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue,\n        moduleCount = $allModules.length,\n        loadedCount = 0;\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.visibility.settings, parameters) : $.extend({}, $.fn.visibility.settings),\n          className = settings.className,\n          namespace = settings.namespace,\n          error = settings.error,\n          metadata = settings.metadata,\n          eventNamespace = '.' + namespace,\n          moduleNamespace = 'module-' + namespace,\n          $window = $(window),\n          $module = $(this),\n          $context = $(settings.context),\n          $placeholder,\n          selector = $module.selector || '',\n          instance = $module.data(moduleNamespace),\n          requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {\n        setTimeout(callback, 0);\n      },\n          element = this,\n          disabled = false,\n          contextObserver,\n          observer,\n          module;\n\n      module = {\n        initialize: function () {\n          module.debug('Initializing', settings);\n          module.setup.cache();\n\n          if (module.should.trackChanges()) {\n            if (settings.type == 'image') {\n              module.setup.image();\n            }\n\n            if (settings.type == 'fixed') {\n              module.setup.fixed();\n            }\n\n            if (settings.observeChanges) {\n              module.observeChanges();\n            }\n\n            module.bind.events();\n          }\n\n          module.save.position();\n\n          if (!module.is.visible()) {\n            module.error(error.visible, $module);\n          }\n\n          if (settings.initialCheck) {\n            module.checkVisibility();\n          }\n\n          module.instantiate();\n        },\n        instantiate: function () {\n          module.debug('Storing instance', module);\n          $module.data(moduleNamespace, module);\n          instance = module;\n        },\n        destroy: function () {\n          module.verbose('Destroying previous module');\n\n          if (observer) {\n            observer.disconnect();\n          }\n\n          if (contextObserver) {\n            contextObserver.disconnect();\n          }\n\n          $window.off('load' + eventNamespace, module.event.load).off('resize' + eventNamespace, module.event.resize);\n          $context.off('scroll' + eventNamespace, module.event.scroll).off('scrollchange' + eventNamespace, module.event.scrollchange);\n\n          if (settings.type == 'fixed') {\n            module.resetFixed();\n            module.remove.placeholder();\n          }\n\n          $module.off(eventNamespace).removeData(moduleNamespace);\n        },\n        observeChanges: function () {\n          if ('MutationObserver' in window) {\n            contextObserver = new MutationObserver(module.event.contextChanged);\n            observer = new MutationObserver(module.event.changed);\n            contextObserver.observe(document, {\n              childList: true,\n              subtree: true\n            });\n            observer.observe(element, {\n              childList: true,\n              subtree: true\n            });\n            module.debug('Setting up mutation observer', observer);\n          }\n        },\n        bind: {\n          events: function () {\n            module.verbose('Binding visibility events to scroll and resize');\n\n            if (settings.refreshOnLoad) {\n              $window.on('load' + eventNamespace, module.event.load);\n            }\n\n            $window.on('resize' + eventNamespace, module.event.resize); // pub/sub pattern\n\n            $context.off('scroll' + eventNamespace).on('scroll' + eventNamespace, module.event.scroll).on('scrollchange' + eventNamespace, module.event.scrollchange);\n          }\n        },\n        event: {\n          changed: function (mutations) {\n            module.verbose('DOM tree modified, updating visibility calculations');\n            module.timer = setTimeout(function () {\n              module.verbose('DOM tree modified, updating sticky menu');\n              module.refresh();\n            }, 100);\n          },\n          contextChanged: function (mutations) {\n            [].forEach.call(mutations, function (mutation) {\n              if (mutation.removedNodes) {\n                [].forEach.call(mutation.removedNodes, function (node) {\n                  if (node == element || $(node).find(element).length > 0) {\n                    module.debug('Element removed from DOM, tearing down events');\n                    module.destroy();\n                  }\n                });\n              }\n            });\n          },\n          resize: function () {\n            module.debug('Window resized');\n\n            if (settings.refreshOnResize) {\n              requestAnimationFrame(module.refresh);\n            }\n          },\n          load: function () {\n            module.debug('Page finished loading');\n            requestAnimationFrame(module.refresh);\n          },\n          // publishes scrollchange event on one scroll\n          scroll: function () {\n            if (settings.throttle) {\n              clearTimeout(module.timer);\n              module.timer = setTimeout(function () {\n                $context.triggerHandler('scrollchange' + eventNamespace, [$context.scrollTop()]);\n              }, settings.throttle);\n            } else {\n              requestAnimationFrame(function () {\n                $context.triggerHandler('scrollchange' + eventNamespace, [$context.scrollTop()]);\n              });\n            }\n          },\n          // subscribes to scrollchange\n          scrollchange: function (event, scrollPosition) {\n            module.checkVisibility(scrollPosition);\n          }\n        },\n        precache: function (images, callback) {\n          if (!(images instanceof Array)) {\n            images = [images];\n          }\n\n          var imagesLength = images.length,\n              loadedCounter = 0,\n              cache = [],\n              cacheImage = document.createElement('img'),\n              handleLoad = function () {\n            loadedCounter++;\n\n            if (loadedCounter >= images.length) {\n              if ($.isFunction(callback)) {\n                callback();\n              }\n            }\n          };\n\n          while (imagesLength--) {\n            cacheImage = document.createElement('img');\n            cacheImage.onload = handleLoad;\n            cacheImage.onerror = handleLoad;\n            cacheImage.src = images[imagesLength];\n            cache.push(cacheImage);\n          }\n        },\n        enableCallbacks: function () {\n          module.debug('Allowing callbacks to occur');\n          disabled = false;\n        },\n        disableCallbacks: function () {\n          module.debug('Disabling all callbacks temporarily');\n          disabled = true;\n        },\n        should: {\n          trackChanges: function () {\n            if (methodInvoked) {\n              module.debug('One time query, no need to bind events');\n              return false;\n            }\n\n            module.debug('Callbacks being attached');\n            return true;\n          }\n        },\n        setup: {\n          cache: function () {\n            module.cache = {\n              occurred: {},\n              screen: {},\n              element: {}\n            };\n          },\n          image: function () {\n            var src = $module.data(metadata.src);\n\n            if (src) {\n              module.verbose('Lazy loading image', src);\n              settings.once = true;\n              settings.observeChanges = false; // show when top visible\n\n              settings.onOnScreen = function () {\n                module.debug('Image on screen', element);\n                module.precache(src, function () {\n                  module.set.image(src, function () {\n                    loadedCount++;\n\n                    if (loadedCount == moduleCount) {\n                      settings.onAllLoaded.call(this);\n                    }\n\n                    settings.onLoad.call(this);\n                  });\n                });\n              };\n            }\n          },\n          fixed: function () {\n            module.debug('Setting up fixed');\n            settings.once = false;\n            settings.observeChanges = false;\n            settings.initialCheck = true;\n            settings.refreshOnLoad = true;\n\n            if (!parameters.transition) {\n              settings.transition = false;\n            }\n\n            module.create.placeholder();\n            module.debug('Added placeholder', $placeholder);\n\n            settings.onTopPassed = function () {\n              module.debug('Element passed, adding fixed position', $module);\n              module.show.placeholder();\n              module.set.fixed();\n\n              if (settings.transition) {\n                if ($.fn.transition !== undefined) {\n                  $module.transition(settings.transition, settings.duration);\n                }\n              }\n            };\n\n            settings.onTopPassedReverse = function () {\n              module.debug('Element returned to position, removing fixed', $module);\n              module.hide.placeholder();\n              module.remove.fixed();\n            };\n          }\n        },\n        create: {\n          placeholder: function () {\n            module.verbose('Creating fixed position placeholder');\n            $placeholder = $module.clone(false).css('display', 'none').addClass(className.placeholder).insertAfter($module);\n          }\n        },\n        show: {\n          placeholder: function () {\n            module.verbose('Showing placeholder');\n            $placeholder.css('display', 'block').css('visibility', 'hidden');\n          }\n        },\n        hide: {\n          placeholder: function () {\n            module.verbose('Hiding placeholder');\n            $placeholder.css('display', 'none').css('visibility', '');\n          }\n        },\n        set: {\n          fixed: function () {\n            module.verbose('Setting element to fixed position');\n            $module.addClass(className.fixed).css({\n              position: 'fixed',\n              top: settings.offset + 'px',\n              left: 'auto',\n              zIndex: settings.zIndex\n            });\n            settings.onFixed.call(element);\n          },\n          image: function (src, callback) {\n            $module.attr('src', src);\n\n            if (settings.transition) {\n              if ($.fn.transition !== undefined) {\n                if ($module.hasClass(className.visible)) {\n                  module.debug('Transition already occurred on this image, skipping animation');\n                  return;\n                }\n\n                $module.transition(settings.transition, settings.duration, callback);\n              } else {\n                $module.fadeIn(settings.duration, callback);\n              }\n            } else {\n              $module.show();\n            }\n          }\n        },\n        is: {\n          onScreen: function () {\n            var calculations = module.get.elementCalculations();\n            return calculations.onScreen;\n          },\n          offScreen: function () {\n            var calculations = module.get.elementCalculations();\n            return calculations.offScreen;\n          },\n          visible: function () {\n            if (module.cache && module.cache.element) {\n              return !(module.cache.element.width === 0 && module.cache.element.offset.top === 0);\n            }\n\n            return false;\n          },\n          verticallyScrollableContext: function () {\n            var overflowY = $context.get(0) !== window ? $context.css('overflow-y') : false;\n            return overflowY == 'auto' || overflowY == 'scroll';\n          },\n          horizontallyScrollableContext: function () {\n            var overflowX = $context.get(0) !== window ? $context.css('overflow-x') : false;\n            return overflowX == 'auto' || overflowX == 'scroll';\n          }\n        },\n        refresh: function () {\n          module.debug('Refreshing constants (width/height)');\n\n          if (settings.type == 'fixed') {\n            module.resetFixed();\n          }\n\n          module.reset();\n          module.save.position();\n\n          if (settings.checkOnRefresh) {\n            module.checkVisibility();\n          }\n\n          settings.onRefresh.call(element);\n        },\n        resetFixed: function () {\n          module.remove.fixed();\n          module.remove.occurred();\n        },\n        reset: function () {\n          module.verbose('Resetting all cached values');\n\n          if ($.isPlainObject(module.cache)) {\n            module.cache.screen = {};\n            module.cache.element = {};\n          }\n        },\n        checkVisibility: function (scroll) {\n          module.verbose('Checking visibility of element', module.cache.element);\n\n          if (!disabled && module.is.visible()) {\n            // save scroll position\n            module.save.scroll(scroll); // update calculations derived from scroll\n\n            module.save.calculations(); // percentage\n\n            module.passed(); // reverse (must be first)\n\n            module.passingReverse();\n            module.topVisibleReverse();\n            module.bottomVisibleReverse();\n            module.topPassedReverse();\n            module.bottomPassedReverse(); // one time\n\n            module.onScreen();\n            module.offScreen();\n            module.passing();\n            module.topVisible();\n            module.bottomVisible();\n            module.topPassed();\n            module.bottomPassed(); // on update callback\n\n            if (settings.onUpdate) {\n              settings.onUpdate.call(element, module.get.elementCalculations());\n            }\n          }\n        },\n        passed: function (amount, newCallback) {\n          var calculations = module.get.elementCalculations(),\n              amountInPixels; // assign callback\n\n          if (amount && newCallback) {\n            settings.onPassed[amount] = newCallback;\n          } else if (amount !== undefined) {\n            return module.get.pixelsPassed(amount) > calculations.pixelsPassed;\n          } else if (calculations.passing) {\n            $.each(settings.onPassed, function (amount, callback) {\n              if (calculations.bottomVisible || calculations.pixelsPassed > module.get.pixelsPassed(amount)) {\n                module.execute(callback, amount);\n              } else if (!settings.once) {\n                module.remove.occurred(callback);\n              }\n            });\n          }\n        },\n        onScreen: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onOnScreen,\n              callbackName = 'onScreen';\n\n          if (newCallback) {\n            module.debug('Adding callback for onScreen', newCallback);\n            settings.onOnScreen = newCallback;\n          }\n\n          if (calculations.onScreen) {\n            module.execute(callback, callbackName);\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback !== undefined) {\n            return calculations.onOnScreen;\n          }\n        },\n        offScreen: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onOffScreen,\n              callbackName = 'offScreen';\n\n          if (newCallback) {\n            module.debug('Adding callback for offScreen', newCallback);\n            settings.onOffScreen = newCallback;\n          }\n\n          if (calculations.offScreen) {\n            module.execute(callback, callbackName);\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback !== undefined) {\n            return calculations.onOffScreen;\n          }\n        },\n        passing: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onPassing,\n              callbackName = 'passing';\n\n          if (newCallback) {\n            module.debug('Adding callback for passing', newCallback);\n            settings.onPassing = newCallback;\n          }\n\n          if (calculations.passing) {\n            module.execute(callback, callbackName);\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback !== undefined) {\n            return calculations.passing;\n          }\n        },\n        topVisible: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onTopVisible,\n              callbackName = 'topVisible';\n\n          if (newCallback) {\n            module.debug('Adding callback for top visible', newCallback);\n            settings.onTopVisible = newCallback;\n          }\n\n          if (calculations.topVisible) {\n            module.execute(callback, callbackName);\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback === undefined) {\n            return calculations.topVisible;\n          }\n        },\n        bottomVisible: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onBottomVisible,\n              callbackName = 'bottomVisible';\n\n          if (newCallback) {\n            module.debug('Adding callback for bottom visible', newCallback);\n            settings.onBottomVisible = newCallback;\n          }\n\n          if (calculations.bottomVisible) {\n            module.execute(callback, callbackName);\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback === undefined) {\n            return calculations.bottomVisible;\n          }\n        },\n        topPassed: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onTopPassed,\n              callbackName = 'topPassed';\n\n          if (newCallback) {\n            module.debug('Adding callback for top passed', newCallback);\n            settings.onTopPassed = newCallback;\n          }\n\n          if (calculations.topPassed) {\n            module.execute(callback, callbackName);\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback === undefined) {\n            return calculations.topPassed;\n          }\n        },\n        bottomPassed: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onBottomPassed,\n              callbackName = 'bottomPassed';\n\n          if (newCallback) {\n            module.debug('Adding callback for bottom passed', newCallback);\n            settings.onBottomPassed = newCallback;\n          }\n\n          if (calculations.bottomPassed) {\n            module.execute(callback, callbackName);\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback === undefined) {\n            return calculations.bottomPassed;\n          }\n        },\n        passingReverse: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onPassingReverse,\n              callbackName = 'passingReverse';\n\n          if (newCallback) {\n            module.debug('Adding callback for passing reverse', newCallback);\n            settings.onPassingReverse = newCallback;\n          }\n\n          if (!calculations.passing) {\n            if (module.get.occurred('passing')) {\n              module.execute(callback, callbackName);\n            }\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback !== undefined) {\n            return !calculations.passing;\n          }\n        },\n        topVisibleReverse: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onTopVisibleReverse,\n              callbackName = 'topVisibleReverse';\n\n          if (newCallback) {\n            module.debug('Adding callback for top visible reverse', newCallback);\n            settings.onTopVisibleReverse = newCallback;\n          }\n\n          if (!calculations.topVisible) {\n            if (module.get.occurred('topVisible')) {\n              module.execute(callback, callbackName);\n            }\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback === undefined) {\n            return !calculations.topVisible;\n          }\n        },\n        bottomVisibleReverse: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onBottomVisibleReverse,\n              callbackName = 'bottomVisibleReverse';\n\n          if (newCallback) {\n            module.debug('Adding callback for bottom visible reverse', newCallback);\n            settings.onBottomVisibleReverse = newCallback;\n          }\n\n          if (!calculations.bottomVisible) {\n            if (module.get.occurred('bottomVisible')) {\n              module.execute(callback, callbackName);\n            }\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback === undefined) {\n            return !calculations.bottomVisible;\n          }\n        },\n        topPassedReverse: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onTopPassedReverse,\n              callbackName = 'topPassedReverse';\n\n          if (newCallback) {\n            module.debug('Adding callback for top passed reverse', newCallback);\n            settings.onTopPassedReverse = newCallback;\n          }\n\n          if (!calculations.topPassed) {\n            if (module.get.occurred('topPassed')) {\n              module.execute(callback, callbackName);\n            }\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback === undefined) {\n            return !calculations.onTopPassed;\n          }\n        },\n        bottomPassedReverse: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onBottomPassedReverse,\n              callbackName = 'bottomPassedReverse';\n\n          if (newCallback) {\n            module.debug('Adding callback for bottom passed reverse', newCallback);\n            settings.onBottomPassedReverse = newCallback;\n          }\n\n          if (!calculations.bottomPassed) {\n            if (module.get.occurred('bottomPassed')) {\n              module.execute(callback, callbackName);\n            }\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback === undefined) {\n            return !calculations.bottomPassed;\n          }\n        },\n        execute: function (callback, callbackName) {\n          var calculations = module.get.elementCalculations(),\n              screen = module.get.screenCalculations();\n          callback = callback || false;\n\n          if (callback) {\n            if (settings.continuous) {\n              module.debug('Callback being called continuously', callbackName, calculations);\n              callback.call(element, calculations, screen);\n            } else if (!module.get.occurred(callbackName)) {\n              module.debug('Conditions met', callbackName, calculations);\n              callback.call(element, calculations, screen);\n            }\n          }\n\n          module.save.occurred(callbackName);\n        },\n        remove: {\n          fixed: function () {\n            module.debug('Removing fixed position');\n            $module.removeClass(className.fixed).css({\n              position: '',\n              top: '',\n              left: '',\n              zIndex: ''\n            });\n            settings.onUnfixed.call(element);\n          },\n          placeholder: function () {\n            module.debug('Removing placeholder content');\n\n            if ($placeholder) {\n              $placeholder.remove();\n            }\n          },\n          occurred: function (callback) {\n            if (callback) {\n              var occurred = module.cache.occurred;\n\n              if (occurred[callback] !== undefined && occurred[callback] === true) {\n                module.debug('Callback can now be called again', callback);\n                module.cache.occurred[callback] = false;\n              }\n            } else {\n              module.cache.occurred = {};\n            }\n          }\n        },\n        save: {\n          calculations: function () {\n            module.verbose('Saving all calculations necessary to determine positioning');\n            module.save.direction();\n            module.save.screenCalculations();\n            module.save.elementCalculations();\n          },\n          occurred: function (callback) {\n            if (callback) {\n              if (module.cache.occurred[callback] === undefined || module.cache.occurred[callback] !== true) {\n                module.verbose('Saving callback occurred', callback);\n                module.cache.occurred[callback] = true;\n              }\n            }\n          },\n          scroll: function (scrollPosition) {\n            scrollPosition = scrollPosition + settings.offset || $context.scrollTop() + settings.offset;\n            module.cache.scroll = scrollPosition;\n          },\n          direction: function () {\n            var scroll = module.get.scroll(),\n                lastScroll = module.get.lastScroll(),\n                direction;\n\n            if (scroll > lastScroll && lastScroll) {\n              direction = 'down';\n            } else if (scroll < lastScroll && lastScroll) {\n              direction = 'up';\n            } else {\n              direction = 'static';\n            }\n\n            module.cache.direction = direction;\n            return module.cache.direction;\n          },\n          elementPosition: function () {\n            var element = module.cache.element,\n                screen = module.get.screenSize();\n            module.verbose('Saving element position'); // (quicker than $.extend)\n\n            element.fits = element.height < screen.height;\n            element.offset = $module.offset();\n            element.width = $module.outerWidth();\n            element.height = $module.outerHeight(); // compensate for scroll in context\n\n            if (module.is.verticallyScrollableContext()) {\n              element.offset.top += $context.scrollTop() - $context.offset().top;\n            }\n\n            if (module.is.horizontallyScrollableContext()) {\n              element.offset.left += $context.scrollLeft - $context.offset().left;\n            } // store\n\n\n            module.cache.element = element;\n            return element;\n          },\n          elementCalculations: function () {\n            var screen = module.get.screenCalculations(),\n                element = module.get.elementPosition(); // offset\n\n            if (settings.includeMargin) {\n              element.margin = {};\n              element.margin.top = parseInt($module.css('margin-top'), 10);\n              element.margin.bottom = parseInt($module.css('margin-bottom'), 10);\n              element.top = element.offset.top - element.margin.top;\n              element.bottom = element.offset.top + element.height + element.margin.bottom;\n            } else {\n              element.top = element.offset.top;\n              element.bottom = element.offset.top + element.height;\n            } // visibility\n\n\n            element.topPassed = screen.top >= element.top;\n            element.bottomPassed = screen.top >= element.bottom;\n            element.topVisible = screen.bottom >= element.top && !element.topPassed;\n            element.bottomVisible = screen.bottom >= element.bottom && !element.bottomPassed;\n            element.pixelsPassed = 0;\n            element.percentagePassed = 0; // meta calculations\n\n            element.onScreen = (element.topVisible || element.passing) && !element.bottomPassed;\n            element.passing = element.topPassed && !element.bottomPassed;\n            element.offScreen = !element.onScreen; // passing calculations\n\n            if (element.passing) {\n              element.pixelsPassed = screen.top - element.top;\n              element.percentagePassed = (screen.top - element.top) / element.height;\n            }\n\n            module.cache.element = element;\n            module.verbose('Updated element calculations', element);\n            return element;\n          },\n          screenCalculations: function () {\n            var scroll = module.get.scroll();\n            module.save.direction();\n            module.cache.screen.top = scroll;\n            module.cache.screen.bottom = scroll + module.cache.screen.height;\n            return module.cache.screen;\n          },\n          screenSize: function () {\n            module.verbose('Saving window position');\n            module.cache.screen = {\n              height: $context.height()\n            };\n          },\n          position: function () {\n            module.save.screenSize();\n            module.save.elementPosition();\n          }\n        },\n        get: {\n          pixelsPassed: function (amount) {\n            var element = module.get.elementCalculations();\n\n            if (amount.search('%') > -1) {\n              return element.height * (parseInt(amount, 10) / 100);\n            }\n\n            return parseInt(amount, 10);\n          },\n          occurred: function (callback) {\n            return module.cache.occurred !== undefined ? module.cache.occurred[callback] || false : false;\n          },\n          direction: function () {\n            if (module.cache.direction === undefined) {\n              module.save.direction();\n            }\n\n            return module.cache.direction;\n          },\n          elementPosition: function () {\n            if (module.cache.element === undefined) {\n              module.save.elementPosition();\n            }\n\n            return module.cache.element;\n          },\n          elementCalculations: function () {\n            if (module.cache.element === undefined) {\n              module.save.elementCalculations();\n            }\n\n            return module.cache.element;\n          },\n          screenCalculations: function () {\n            if (module.cache.screen === undefined) {\n              module.save.screenCalculations();\n            }\n\n            return module.cache.screen;\n          },\n          screenSize: function () {\n            if (module.cache.screen === undefined) {\n              module.save.screenSize();\n            }\n\n            return module.cache.screen;\n          },\n          scroll: function () {\n            if (module.cache.scroll === undefined) {\n              module.save.scroll();\n            }\n\n            return module.cache.scroll;\n          },\n          lastScroll: function () {\n            if (module.cache.screen === undefined) {\n              module.debug('First scroll event, no last scroll could be found');\n              return false;\n            }\n\n            return module.cache.screen.top;\n          }\n        },\n        setting: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            settings[name] = value;\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        instance.save.scroll();\n        instance.save.calculations();\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.visibility.settings = {\n    name: 'Visibility',\n    namespace: 'visibility',\n    debug: false,\n    verbose: false,\n    performance: true,\n    // whether to use mutation observers to follow changes\n    observeChanges: true,\n    // check position immediately on init\n    initialCheck: true,\n    // whether to refresh calculations after all page images load\n    refreshOnLoad: true,\n    // whether to refresh calculations after page resize event\n    refreshOnResize: true,\n    // should call callbacks on refresh event (resize, etc)\n    checkOnRefresh: true,\n    // callback should only occur one time\n    once: true,\n    // callback should fire continuously whe evaluates to true\n    continuous: false,\n    // offset to use with scroll top\n    offset: 0,\n    // whether to include margin in elements position\n    includeMargin: false,\n    // scroll context for visibility checks\n    context: window,\n    // visibility check delay in ms (defaults to animationFrame)\n    throttle: false,\n    // special visibility type (image, fixed)\n    type: false,\n    // z-index to use with visibility 'fixed'\n    zIndex: '10',\n    // image only animation settings\n    transition: 'fade in',\n    duration: 1000,\n    // array of callbacks for percentage\n    onPassed: {},\n    // standard callbacks\n    onOnScreen: false,\n    onOffScreen: false,\n    onPassing: false,\n    onTopVisible: false,\n    onBottomVisible: false,\n    onTopPassed: false,\n    onBottomPassed: false,\n    // reverse callbacks\n    onPassingReverse: false,\n    onTopVisibleReverse: false,\n    onBottomVisibleReverse: false,\n    onTopPassedReverse: false,\n    onBottomPassedReverse: false,\n    // special callbacks for image\n    onLoad: function () {},\n    onAllLoaded: function () {},\n    // special callbacks for fixed position\n    onFixed: function () {},\n    onUnfixed: function () {},\n    // utility callbacks\n    onUpdate: false,\n    // disabled by default for performance\n    onRefresh: function () {},\n    metadata: {\n      src: 'src'\n    },\n    className: {\n      fixed: 'fixed',\n      placeholder: 'placeholder',\n      visible: 'visible'\n    },\n    error: {\n      method: 'The method you called is not defined.',\n      visible: 'Element is hidden, you must call refresh after element becomes visible'\n    }\n  };\n})(jQuery, window, document);","map":{"version":3,"sources":["semantic/src/definitions/behaviors/visibility.js"],"names":["$","window","document","undefined","Math","self","Function","fn","visibility","parameters","$allModules","moduleSelector","selector","time","Date","getTime","performance","query","arguments","methodInvoked","queryArguments","slice","call","returnedValue","moduleCount","length","loadedCount","each","settings","isPlainObject","extend","className","namespace","error","metadata","eventNamespace","moduleNamespace","$window","$module","$context","context","$placeholder","instance","data","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","callback","setTimeout","element","disabled","contextObserver","observer","module","initialize","debug","setup","cache","should","trackChanges","type","image","fixed","observeChanges","bind","events","save","position","is","visible","initialCheck","checkVisibility","instantiate","destroy","verbose","disconnect","off","event","load","resize","scroll","scrollchange","resetFixed","remove","placeholder","removeData","MutationObserver","contextChanged","changed","observe","childList","subtree","refreshOnLoad","on","mutations","timer","refresh","forEach","mutation","removedNodes","node","find","refreshOnResize","throttle","clearTimeout","triggerHandler","scrollTop","scrollPosition","precache","images","Array","imagesLength","loadedCounter","cacheImage","createElement","handleLoad","isFunction","onload","onerror","src","push","enableCallbacks","disableCallbacks","occurred","screen","once","onOnScreen","set","onAllLoaded","onLoad","transition","create","onTopPassed","show","duration","onTopPassedReverse","hide","clone","css","addClass","insertAfter","top","offset","left","zIndex","onFixed","attr","hasClass","fadeIn","onScreen","calculations","get","elementCalculations","offScreen","width","verticallyScrollableContext","overflowY","horizontallyScrollableContext","overflowX","reset","checkOnRefresh","onRefresh","passed","passingReverse","topVisibleReverse","bottomVisibleReverse","topPassedReverse","bottomPassedReverse","passing","topVisible","bottomVisible","topPassed","bottomPassed","onUpdate","amount","newCallback","amountInPixels","onPassed","pixelsPassed","execute","callbackName","onOffScreen","onPassing","onTopVisible","onBottomVisible","onBottomPassed","onPassingReverse","onTopVisibleReverse","onBottomVisibleReverse","onBottomPassedReverse","screenCalculations","continuous","removeClass","onUnfixed","direction","lastScroll","elementPosition","screenSize","fits","height","outerWidth","outerHeight","scrollLeft","includeMargin","margin","parseInt","bottom","percentagePassed","search","setting","name","value","internal","silent","log","prototype","console","info","apply","message","currentTime","executionTime","previousTime","display","title","totalTime","index","group","table","groupCollapsed","groupEnd","invoke","passedArguments","object","maxDepth","found","response","split","depth","camelCaseValue","charAt","toUpperCase","method","isArray","jQuery"],"mappings":"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","sourcesContent":["/*!\n * # Semantic UI - Visibility\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.visibility = function(parameters) {\n  var\n    $allModules    = $(this),\n    moduleSelector = $allModules.selector || '',\n\n    time           = new Date().getTime(),\n    performance    = [],\n\n    query          = arguments[0],\n    methodInvoked  = (typeof query == 'string'),\n    queryArguments = [].slice.call(arguments, 1),\n    returnedValue,\n\n    moduleCount    = $allModules.length,\n    loadedCount    = 0\n  ;\n\n  $allModules\n    .each(function() {\n      var\n        settings        = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.visibility.settings, parameters)\n          : $.extend({}, $.fn.visibility.settings),\n\n        className       = settings.className,\n        namespace       = settings.namespace,\n        error           = settings.error,\n        metadata        = settings.metadata,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n\n        $window         = $(window),\n\n        $module         = $(this),\n        $context        = $(settings.context),\n\n        $placeholder,\n\n        selector        = $module.selector || '',\n        instance        = $module.data(moduleNamespace),\n\n        requestAnimationFrame = window.requestAnimationFrame\n          || window.mozRequestAnimationFrame\n          || window.webkitRequestAnimationFrame\n          || window.msRequestAnimationFrame\n          || function(callback) { setTimeout(callback, 0); },\n\n        element         = this,\n        disabled        = false,\n\n        contextObserver,\n        observer,\n        module\n      ;\n\n      module = {\n\n        initialize: function() {\n          module.debug('Initializing', settings);\n\n          module.setup.cache();\n\n          if( module.should.trackChanges() ) {\n\n            if(settings.type == 'image') {\n              module.setup.image();\n            }\n            if(settings.type == 'fixed') {\n              module.setup.fixed();\n            }\n\n            if(settings.observeChanges) {\n              module.observeChanges();\n            }\n            module.bind.events();\n          }\n\n          module.save.position();\n          if( !module.is.visible() ) {\n            module.error(error.visible, $module);\n          }\n\n          if(settings.initialCheck) {\n            module.checkVisibility();\n          }\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.debug('Storing instance', module);\n          $module\n            .data(moduleNamespace, module)\n          ;\n          instance = module;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous module');\n          if(observer) {\n            observer.disconnect();\n          }\n          if(contextObserver) {\n            contextObserver.disconnect();\n          }\n          $window\n            .off('load'   + eventNamespace, module.event.load)\n            .off('resize' + eventNamespace, module.event.resize)\n          ;\n          $context\n            .off('scroll'       + eventNamespace, module.event.scroll)\n            .off('scrollchange' + eventNamespace, module.event.scrollchange)\n          ;\n          if(settings.type == 'fixed') {\n            module.resetFixed();\n            module.remove.placeholder();\n          }\n          $module\n            .off(eventNamespace)\n            .removeData(moduleNamespace)\n          ;\n        },\n\n        observeChanges: function() {\n          if('MutationObserver' in window) {\n            contextObserver = new MutationObserver(module.event.contextChanged);\n            observer        = new MutationObserver(module.event.changed);\n            contextObserver.observe(document, {\n              childList : true,\n              subtree   : true\n            });\n            observer.observe(element, {\n              childList : true,\n              subtree   : true\n            });\n            module.debug('Setting up mutation observer', observer);\n          }\n        },\n\n        bind: {\n          events: function() {\n            module.verbose('Binding visibility events to scroll and resize');\n            if(settings.refreshOnLoad) {\n              $window\n                .on('load'   + eventNamespace, module.event.load)\n              ;\n            }\n            $window\n              .on('resize' + eventNamespace, module.event.resize)\n            ;\n            // pub/sub pattern\n            $context\n              .off('scroll'      + eventNamespace)\n              .on('scroll'       + eventNamespace, module.event.scroll)\n              .on('scrollchange' + eventNamespace, module.event.scrollchange)\n            ;\n          }\n        },\n\n        event: {\n          changed: function(mutations) {\n            module.verbose('DOM tree modified, updating visibility calculations');\n            module.timer = setTimeout(function() {\n              module.verbose('DOM tree modified, updating sticky menu');\n              module.refresh();\n            }, 100);\n          },\n          contextChanged: function(mutations) {\n            [].forEach.call(mutations, function(mutation) {\n              if(mutation.removedNodes) {\n                [].forEach.call(mutation.removedNodes, function(node) {\n                  if(node == element || $(node).find(element).length > 0) {\n                    module.debug('Element removed from DOM, tearing down events');\n                    module.destroy();\n                  }\n                });\n              }\n            });\n          },\n          resize: function() {\n            module.debug('Window resized');\n            if(settings.refreshOnResize) {\n              requestAnimationFrame(module.refresh);\n            }\n          },\n          load: function() {\n            module.debug('Page finished loading');\n            requestAnimationFrame(module.refresh);\n          },\n          // publishes scrollchange event on one scroll\n          scroll: function() {\n            if(settings.throttle) {\n              clearTimeout(module.timer);\n              module.timer = setTimeout(function() {\n                $context.triggerHandler('scrollchange' + eventNamespace, [ $context.scrollTop() ]);\n              }, settings.throttle);\n            }\n            else {\n              requestAnimationFrame(function() {\n                $context.triggerHandler('scrollchange' + eventNamespace, [ $context.scrollTop() ]);\n              });\n            }\n          },\n          // subscribes to scrollchange\n          scrollchange: function(event, scrollPosition) {\n            module.checkVisibility(scrollPosition);\n          },\n        },\n\n        precache: function(images, callback) {\n          if (!(images instanceof Array)) {\n            images = [images];\n          }\n          var\n            imagesLength  = images.length,\n            loadedCounter = 0,\n            cache         = [],\n            cacheImage    = document.createElement('img'),\n            handleLoad    = function() {\n              loadedCounter++;\n              if (loadedCounter >= images.length) {\n                if ($.isFunction(callback)) {\n                  callback();\n                }\n              }\n            }\n          ;\n          while (imagesLength--) {\n            cacheImage         = document.createElement('img');\n            cacheImage.onload  = handleLoad;\n            cacheImage.onerror = handleLoad;\n            cacheImage.src     = images[imagesLength];\n            cache.push(cacheImage);\n          }\n        },\n\n        enableCallbacks: function() {\n          module.debug('Allowing callbacks to occur');\n          disabled = false;\n        },\n\n        disableCallbacks: function() {\n          module.debug('Disabling all callbacks temporarily');\n          disabled = true;\n        },\n\n        should: {\n          trackChanges: function() {\n            if(methodInvoked) {\n              module.debug('One time query, no need to bind events');\n              return false;\n            }\n            module.debug('Callbacks being attached');\n            return true;\n          }\n        },\n\n        setup: {\n          cache: function() {\n            module.cache = {\n              occurred : {},\n              screen   : {},\n              element  : {},\n            };\n          },\n          image: function() {\n            var\n              src = $module.data(metadata.src)\n            ;\n            if(src) {\n              module.verbose('Lazy loading image', src);\n              settings.once           = true;\n              settings.observeChanges = false;\n\n              // show when top visible\n              settings.onOnScreen = function() {\n                module.debug('Image on screen', element);\n                module.precache(src, function() {\n                  module.set.image(src, function() {\n                    loadedCount++;\n                    if(loadedCount == moduleCount) {\n                      settings.onAllLoaded.call(this);\n                    }\n                    settings.onLoad.call(this);\n                  });\n                });\n              };\n            }\n          },\n          fixed: function() {\n            module.debug('Setting up fixed');\n            settings.once           = false;\n            settings.observeChanges = false;\n            settings.initialCheck   = true;\n            settings.refreshOnLoad  = true;\n            if(!parameters.transition) {\n              settings.transition = false;\n            }\n            module.create.placeholder();\n            module.debug('Added placeholder', $placeholder);\n            settings.onTopPassed = function() {\n              module.debug('Element passed, adding fixed position', $module);\n              module.show.placeholder();\n              module.set.fixed();\n              if(settings.transition) {\n                if($.fn.transition !== undefined) {\n                  $module.transition(settings.transition, settings.duration);\n                }\n              }\n            };\n            settings.onTopPassedReverse = function() {\n              module.debug('Element returned to position, removing fixed', $module);\n              module.hide.placeholder();\n              module.remove.fixed();\n            };\n          }\n        },\n\n        create: {\n          placeholder: function() {\n            module.verbose('Creating fixed position placeholder');\n            $placeholder = $module\n              .clone(false)\n              .css('display', 'none')\n              .addClass(className.placeholder)\n              .insertAfter($module)\n            ;\n          }\n        },\n\n        show: {\n          placeholder: function() {\n            module.verbose('Showing placeholder');\n            $placeholder\n              .css('display', 'block')\n              .css('visibility', 'hidden')\n            ;\n          }\n        },\n        hide: {\n          placeholder: function() {\n            module.verbose('Hiding placeholder');\n            $placeholder\n              .css('display', 'none')\n              .css('visibility', '')\n            ;\n          }\n        },\n\n        set: {\n          fixed: function() {\n            module.verbose('Setting element to fixed position');\n            $module\n              .addClass(className.fixed)\n              .css({\n                position : 'fixed',\n                top      : settings.offset + 'px',\n                left     : 'auto',\n                zIndex   : settings.zIndex\n              })\n            ;\n            settings.onFixed.call(element);\n          },\n          image: function(src, callback) {\n            $module\n              .attr('src', src)\n            ;\n            if(settings.transition) {\n              if( $.fn.transition !== undefined) {\n                if($module.hasClass(className.visible)) {\n                  module.debug('Transition already occurred on this image, skipping animation');\n                  return;\n                }\n                $module.transition(settings.transition, settings.duration, callback);\n              }\n              else {\n                $module.fadeIn(settings.duration, callback);\n              }\n            }\n            else {\n              $module.show();\n            }\n          }\n        },\n\n        is: {\n          onScreen: function() {\n            var\n              calculations   = module.get.elementCalculations()\n            ;\n            return calculations.onScreen;\n          },\n          offScreen: function() {\n            var\n              calculations   = module.get.elementCalculations()\n            ;\n            return calculations.offScreen;\n          },\n          visible: function() {\n            if(module.cache && module.cache.element) {\n              return !(module.cache.element.width === 0 && module.cache.element.offset.top === 0);\n            }\n            return false;\n          },\n          verticallyScrollableContext: function() {\n            var\n              overflowY = ($context.get(0) !== window)\n                ? $context.css('overflow-y')\n                : false\n            ;\n            return (overflowY == 'auto' || overflowY == 'scroll');\n          },\n          horizontallyScrollableContext: function() {\n            var\n              overflowX = ($context.get(0) !== window)\n                ? $context.css('overflow-x')\n                : false\n            ;\n            return (overflowX == 'auto' || overflowX == 'scroll');\n          }\n        },\n\n        refresh: function() {\n          module.debug('Refreshing constants (width/height)');\n          if(settings.type == 'fixed') {\n            module.resetFixed();\n          }\n          module.reset();\n          module.save.position();\n          if(settings.checkOnRefresh) {\n            module.checkVisibility();\n          }\n          settings.onRefresh.call(element);\n        },\n\n        resetFixed: function () {\n          module.remove.fixed();\n          module.remove.occurred();\n        },\n\n        reset: function() {\n          module.verbose('Resetting all cached values');\n          if( $.isPlainObject(module.cache) ) {\n            module.cache.screen = {};\n            module.cache.element = {};\n          }\n        },\n\n        checkVisibility: function(scroll) {\n          module.verbose('Checking visibility of element', module.cache.element);\n\n          if( !disabled && module.is.visible() ) {\n\n            // save scroll position\n            module.save.scroll(scroll);\n\n            // update calculations derived from scroll\n            module.save.calculations();\n\n            // percentage\n            module.passed();\n\n            // reverse (must be first)\n            module.passingReverse();\n            module.topVisibleReverse();\n            module.bottomVisibleReverse();\n            module.topPassedReverse();\n            module.bottomPassedReverse();\n\n            // one time\n            module.onScreen();\n            module.offScreen();\n            module.passing();\n            module.topVisible();\n            module.bottomVisible();\n            module.topPassed();\n            module.bottomPassed();\n\n            // on update callback\n            if(settings.onUpdate) {\n              settings.onUpdate.call(element, module.get.elementCalculations());\n            }\n          }\n        },\n\n        passed: function(amount, newCallback) {\n          var\n            calculations   = module.get.elementCalculations(),\n            amountInPixels\n          ;\n          // assign callback\n          if(amount && newCallback) {\n            settings.onPassed[amount] = newCallback;\n          }\n          else if(amount !== undefined) {\n            return (module.get.pixelsPassed(amount) > calculations.pixelsPassed);\n          }\n          else if(calculations.passing) {\n            $.each(settings.onPassed, function(amount, callback) {\n              if(calculations.bottomVisible || calculations.pixelsPassed > module.get.pixelsPassed(amount)) {\n                module.execute(callback, amount);\n              }\n              else if(!settings.once) {\n                module.remove.occurred(callback);\n              }\n            });\n          }\n        },\n\n        onScreen: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onOnScreen,\n            callbackName = 'onScreen'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for onScreen', newCallback);\n            settings.onOnScreen = newCallback;\n          }\n          if(calculations.onScreen) {\n            module.execute(callback, callbackName);\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback !== undefined) {\n            return calculations.onOnScreen;\n          }\n        },\n\n        offScreen: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onOffScreen,\n            callbackName = 'offScreen'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for offScreen', newCallback);\n            settings.onOffScreen = newCallback;\n          }\n          if(calculations.offScreen) {\n            module.execute(callback, callbackName);\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback !== undefined) {\n            return calculations.onOffScreen;\n          }\n        },\n\n        passing: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onPassing,\n            callbackName = 'passing'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for passing', newCallback);\n            settings.onPassing = newCallback;\n          }\n          if(calculations.passing) {\n            module.execute(callback, callbackName);\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback !== undefined) {\n            return calculations.passing;\n          }\n        },\n\n\n        topVisible: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onTopVisible,\n            callbackName = 'topVisible'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for top visible', newCallback);\n            settings.onTopVisible = newCallback;\n          }\n          if(calculations.topVisible) {\n            module.execute(callback, callbackName);\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback === undefined) {\n            return calculations.topVisible;\n          }\n        },\n\n        bottomVisible: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onBottomVisible,\n            callbackName = 'bottomVisible'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for bottom visible', newCallback);\n            settings.onBottomVisible = newCallback;\n          }\n          if(calculations.bottomVisible) {\n            module.execute(callback, callbackName);\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback === undefined) {\n            return calculations.bottomVisible;\n          }\n        },\n\n        topPassed: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onTopPassed,\n            callbackName = 'topPassed'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for top passed', newCallback);\n            settings.onTopPassed = newCallback;\n          }\n          if(calculations.topPassed) {\n            module.execute(callback, callbackName);\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback === undefined) {\n            return calculations.topPassed;\n          }\n        },\n\n        bottomPassed: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onBottomPassed,\n            callbackName = 'bottomPassed'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for bottom passed', newCallback);\n            settings.onBottomPassed = newCallback;\n          }\n          if(calculations.bottomPassed) {\n            module.execute(callback, callbackName);\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback === undefined) {\n            return calculations.bottomPassed;\n          }\n        },\n\n        passingReverse: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onPassingReverse,\n            callbackName = 'passingReverse'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for passing reverse', newCallback);\n            settings.onPassingReverse = newCallback;\n          }\n          if(!calculations.passing) {\n            if(module.get.occurred('passing')) {\n              module.execute(callback, callbackName);\n            }\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback !== undefined) {\n            return !calculations.passing;\n          }\n        },\n\n\n        topVisibleReverse: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onTopVisibleReverse,\n            callbackName = 'topVisibleReverse'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for top visible reverse', newCallback);\n            settings.onTopVisibleReverse = newCallback;\n          }\n          if(!calculations.topVisible) {\n            if(module.get.occurred('topVisible')) {\n              module.execute(callback, callbackName);\n            }\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback === undefined) {\n            return !calculations.topVisible;\n          }\n        },\n\n        bottomVisibleReverse: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onBottomVisibleReverse,\n            callbackName = 'bottomVisibleReverse'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for bottom visible reverse', newCallback);\n            settings.onBottomVisibleReverse = newCallback;\n          }\n          if(!calculations.bottomVisible) {\n            if(module.get.occurred('bottomVisible')) {\n              module.execute(callback, callbackName);\n            }\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback === undefined) {\n            return !calculations.bottomVisible;\n          }\n        },\n\n        topPassedReverse: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onTopPassedReverse,\n            callbackName = 'topPassedReverse'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for top passed reverse', newCallback);\n            settings.onTopPassedReverse = newCallback;\n          }\n          if(!calculations.topPassed) {\n            if(module.get.occurred('topPassed')) {\n              module.execute(callback, callbackName);\n            }\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback === undefined) {\n            return !calculations.onTopPassed;\n          }\n        },\n\n        bottomPassedReverse: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onBottomPassedReverse,\n            callbackName = 'bottomPassedReverse'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for bottom passed reverse', newCallback);\n            settings.onBottomPassedReverse = newCallback;\n          }\n          if(!calculations.bottomPassed) {\n            if(module.get.occurred('bottomPassed')) {\n              module.execute(callback, callbackName);\n            }\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback === undefined) {\n            return !calculations.bottomPassed;\n          }\n        },\n\n        execute: function(callback, callbackName) {\n          var\n            calculations = module.get.elementCalculations(),\n            screen       = module.get.screenCalculations()\n          ;\n          callback = callback || false;\n          if(callback) {\n            if(settings.continuous) {\n              module.debug('Callback being called continuously', callbackName, calculations);\n              callback.call(element, calculations, screen);\n            }\n            else if(!module.get.occurred(callbackName)) {\n              module.debug('Conditions met', callbackName, calculations);\n              callback.call(element, calculations, screen);\n            }\n          }\n          module.save.occurred(callbackName);\n        },\n\n        remove: {\n          fixed: function() {\n            module.debug('Removing fixed position');\n            $module\n              .removeClass(className.fixed)\n              .css({\n                position : '',\n                top      : '',\n                left     : '',\n                zIndex   : ''\n              })\n            ;\n            settings.onUnfixed.call(element);\n          },\n          placeholder: function() {\n            module.debug('Removing placeholder content');\n            if($placeholder) {\n              $placeholder.remove();\n            }\n          },\n          occurred: function(callback) {\n            if(callback) {\n              var\n                occurred = module.cache.occurred\n              ;\n              if(occurred[callback] !== undefined && occurred[callback] === true) {\n                module.debug('Callback can now be called again', callback);\n                module.cache.occurred[callback] = false;\n              }\n            }\n            else {\n              module.cache.occurred = {};\n            }\n          }\n        },\n\n        save: {\n          calculations: function() {\n            module.verbose('Saving all calculations necessary to determine positioning');\n            module.save.direction();\n            module.save.screenCalculations();\n            module.save.elementCalculations();\n          },\n          occurred: function(callback) {\n            if(callback) {\n              if(module.cache.occurred[callback] === undefined || (module.cache.occurred[callback] !== true)) {\n                module.verbose('Saving callback occurred', callback);\n                module.cache.occurred[callback] = true;\n              }\n            }\n          },\n          scroll: function(scrollPosition) {\n            scrollPosition      = scrollPosition + settings.offset || $context.scrollTop() + settings.offset;\n            module.cache.scroll = scrollPosition;\n          },\n          direction: function() {\n            var\n              scroll     = module.get.scroll(),\n              lastScroll = module.get.lastScroll(),\n              direction\n            ;\n            if(scroll > lastScroll && lastScroll) {\n              direction = 'down';\n            }\n            else if(scroll < lastScroll && lastScroll) {\n              direction = 'up';\n            }\n            else {\n              direction = 'static';\n            }\n            module.cache.direction = direction;\n            return module.cache.direction;\n          },\n          elementPosition: function() {\n            var\n              element = module.cache.element,\n              screen  = module.get.screenSize()\n            ;\n            module.verbose('Saving element position');\n            // (quicker than $.extend)\n            element.fits          = (element.height < screen.height);\n            element.offset        = $module.offset();\n            element.width         = $module.outerWidth();\n            element.height        = $module.outerHeight();\n            // compensate for scroll in context\n            if(module.is.verticallyScrollableContext()) {\n              element.offset.top += $context.scrollTop() - $context.offset().top;\n            }\n            if(module.is.horizontallyScrollableContext()) {\n              element.offset.left += $context.scrollLeft - $context.offset().left;\n            }\n            // store\n            module.cache.element = element;\n            return element;\n          },\n          elementCalculations: function() {\n            var\n              screen     = module.get.screenCalculations(),\n              element    = module.get.elementPosition()\n            ;\n            // offset\n            if(settings.includeMargin) {\n              element.margin        = {};\n              element.margin.top    = parseInt($module.css('margin-top'), 10);\n              element.margin.bottom = parseInt($module.css('margin-bottom'), 10);\n              element.top    = element.offset.top - element.margin.top;\n              element.bottom = element.offset.top + element.height + element.margin.bottom;\n            }\n            else {\n              element.top    = element.offset.top;\n              element.bottom = element.offset.top + element.height;\n            }\n\n            // visibility\n            element.topPassed        = (screen.top >= element.top);\n            element.bottomPassed     = (screen.top >= element.bottom);\n            element.topVisible       = (screen.bottom >= element.top) && !element.topPassed;\n            element.bottomVisible    = (screen.bottom >= element.bottom) && !element.bottomPassed;\n            element.pixelsPassed     = 0;\n            element.percentagePassed = 0;\n\n            // meta calculations\n            element.onScreen  = ((element.topVisible || element.passing) && !element.bottomPassed);\n            element.passing   = (element.topPassed && !element.bottomPassed);\n            element.offScreen = (!element.onScreen);\n\n            // passing calculations\n            if(element.passing) {\n              element.pixelsPassed     = (screen.top - element.top);\n              element.percentagePassed = (screen.top - element.top) / element.height;\n            }\n            module.cache.element = element;\n            module.verbose('Updated element calculations', element);\n            return element;\n          },\n          screenCalculations: function() {\n            var\n              scroll = module.get.scroll()\n            ;\n            module.save.direction();\n            module.cache.screen.top    = scroll;\n            module.cache.screen.bottom = scroll + module.cache.screen.height;\n            return module.cache.screen;\n          },\n          screenSize: function() {\n            module.verbose('Saving window position');\n            module.cache.screen = {\n              height: $context.height()\n            };\n          },\n          position: function() {\n            module.save.screenSize();\n            module.save.elementPosition();\n          }\n        },\n\n        get: {\n          pixelsPassed: function(amount) {\n            var\n              element = module.get.elementCalculations()\n            ;\n            if(amount.search('%') > -1) {\n              return ( element.height * (parseInt(amount, 10) / 100) );\n            }\n            return parseInt(amount, 10);\n          },\n          occurred: function(callback) {\n            return (module.cache.occurred !== undefined)\n              ? module.cache.occurred[callback] || false\n              : false\n            ;\n          },\n          direction: function() {\n            if(module.cache.direction === undefined) {\n              module.save.direction();\n            }\n            return module.cache.direction;\n          },\n          elementPosition: function() {\n            if(module.cache.element === undefined) {\n              module.save.elementPosition();\n            }\n            return module.cache.element;\n          },\n          elementCalculations: function() {\n            if(module.cache.element === undefined) {\n              module.save.elementCalculations();\n            }\n            return module.cache.element;\n          },\n          screenCalculations: function() {\n            if(module.cache.screen === undefined) {\n              module.save.screenCalculations();\n            }\n            return module.cache.screen;\n          },\n          screenSize: function() {\n            if(module.cache.screen === undefined) {\n              module.save.screenSize();\n            }\n            return module.cache.screen;\n          },\n          scroll: function() {\n            if(module.cache.scroll === undefined) {\n              module.save.scroll();\n            }\n            return module.cache.scroll;\n          },\n          lastScroll: function() {\n            if(module.cache.screen === undefined) {\n              module.debug('First scroll event, no last scroll could be found');\n              return false;\n            }\n            return module.cache.screen.top;\n          }\n        },\n\n        setting: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            settings[name] = value;\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        instance.save.scroll();\n        instance.save.calculations();\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.visibility.settings = {\n\n  name                   : 'Visibility',\n  namespace              : 'visibility',\n\n  debug                  : false,\n  verbose                : false,\n  performance            : true,\n\n  // whether to use mutation observers to follow changes\n  observeChanges         : true,\n\n  // check position immediately on init\n  initialCheck           : true,\n\n  // whether to refresh calculations after all page images load\n  refreshOnLoad          : true,\n\n  // whether to refresh calculations after page resize event\n  refreshOnResize        : true,\n\n  // should call callbacks on refresh event (resize, etc)\n  checkOnRefresh         : true,\n\n  // callback should only occur one time\n  once                   : true,\n\n  // callback should fire continuously whe evaluates to true\n  continuous             : false,\n\n  // offset to use with scroll top\n  offset                 : 0,\n\n  // whether to include margin in elements position\n  includeMargin          : false,\n\n  // scroll context for visibility checks\n  context                : window,\n\n  // visibility check delay in ms (defaults to animationFrame)\n  throttle               : false,\n\n  // special visibility type (image, fixed)\n  type                   : false,\n\n  // z-index to use with visibility 'fixed'\n  zIndex                 : '10',\n\n  // image only animation settings\n  transition             : 'fade in',\n  duration               : 1000,\n\n  // array of callbacks for percentage\n  onPassed               : {},\n\n  // standard callbacks\n  onOnScreen             : false,\n  onOffScreen            : false,\n  onPassing              : false,\n  onTopVisible           : false,\n  onBottomVisible        : false,\n  onTopPassed            : false,\n  onBottomPassed         : false,\n\n  // reverse callbacks\n  onPassingReverse       : false,\n  onTopVisibleReverse    : false,\n  onBottomVisibleReverse : false,\n  onTopPassedReverse     : false,\n  onBottomPassedReverse  : false,\n\n  // special callbacks for image\n  onLoad                 : function() {},\n  onAllLoaded            : function() {},\n\n  // special callbacks for fixed position\n  onFixed                : function() {},\n  onUnfixed              : function() {},\n\n  // utility callbacks\n  onUpdate               : false, // disabled by default for performance\n  onRefresh              : function(){},\n\n  metadata : {\n    src: 'src'\n  },\n\n  className: {\n    fixed       : 'fixed',\n    placeholder : 'placeholder',\n    visible     : 'visible'\n  },\n\n  error : {\n    method  : 'The method you called is not defined.',\n    visible : 'Element is hidden, you must call refresh after element becomes visible'\n  }\n\n};\n\n})( jQuery, window, document );\n"]},"sourceType":"script","hash":"e25b27e7e1c1af7928a35510e1388cc430fbf4a6"}
