[{"type":"js","data":"/* Imports for global scope */\n\nMongo = Package.mongo.Mongo;\nReactiveVar = Package['reactive-var'].ReactiveVar;\nTracker = Package.tracker.Tracker;\nDeps = Package.tracker.Deps;\nLaunchScreen = Package['launch-screen'].LaunchScreen;\nSession = Package.session.Session;\nMeteor = Package.meteor.Meteor;\nglobal = Package.meteor.global;\nmeteorEnv = Package.meteor.meteorEnv;\nWebApp = Package.webapp.WebApp;\nDDP = Package['ddp-client'].DDP;\nmeteorInstall = Package.modules.meteorInstall;\nmeteorBabelHelpers = Package['babel-runtime'].meteorBabelHelpers;\nPromise = Package.promise.Promise;\nAutoupdate = Package.autoupdate.Autoupdate;\nReload = Package.reload.Reload;\n\n","servePath":"/global-imports.js"},{"type":"js","data":"var require = meteorInstall({\"client\":{\"templates\":{\"editEvent.html\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/editEvent.html                                                                                     //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.watch(require(\"./template.editEvent.js\"), {\n  \"*\": module.makeNsSetter(true)\n});\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.editEvent.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/template.editEvent.js                                                                              //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\n  var templateUrl = \"client/templates/editEvent.html\";\n  angular.module('angular-templates')\n    .run(['$templateCache', function($templateCache) {\n      $templateCache.put(templateUrl, \"<ion-view view-title=\\\"Editing {{editEvent.event.name}}\\\"> <ion-content> <div class=\\\"ui center aligned segment\\\"> <form class=\\\"ui form\\\" style=\\\"padding-top:5%\\\"> <div class=\\\"field\\\"> <label>Event Name</label> <input type=\\\"text\\\" name=\\\"name\\\" ng-model=\\\"editEvent.event.name\\\"> </div> <div class=\\\"field\\\"> <label>City</label> <input type=\\\"text\\\" name=\\\"city\\\" ng-model=\\\"editEvent.event.city\\\"> </div> <div class=\\\"field\\\"> <label>Country</label> <input type=\\\"text\\\" name=\\\"country\\\" ng-model=\\\"editEvent.event.country\\\"> </div> <div class=\\\"field\\\"> <label>Starting date</label> <input type=\\\"text\\\" name=\\\"from\\\" ng-model=\\\"editEvent.event.from\\\"> </div> <div class=\\\"field\\\"> <label>Webpage</label> <input type=\\\"text\\\" name=\\\"webpage\\\" ng-model=\\\"editEvent.event.webpage\\\"> </div> <div class=\\\"field\\\"> <label>Cost per claim</label> <input type=\\\"text\\\" name=\\\"credits\\\" ng-model=\\\"editEvent.event.credits\\\"> </div> <div class=\\\"field\\\"> <label>Tickets</label> <input type=\\\"text\\\" name=\\\"tickets\\\" ng-model=\\\"editEvent.event.tickets\\\"> </div> <div class=\\\"field\\\"> <label>About</label> <input type=\\\"textarea\\\" name=\\\"about\\\" ng-model=\\\"editEvent.event.about\\\"> </div> <div class=\\\"ui buttons\\\"> <button class=\\\"ui button\\\" ng-click=\\\"editEvent.delete()\\\">Delete</button> <div class=\\\"or\\\"></div> <button class=\\\"ui positive button\\\" ng-click=\\\"editEvent.done()\\\">Save</button> </div> </form> </div> </ion-content> </ion-view>\");\n    }]);\n  if (typeof exports !== 'undefined') {\n    exports.__esModule = true;\n    exports.default = templateUrl;\n  }\n  \n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"events.html\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/events.html                                                                                        //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.watch(require(\"./template.events.js\"), {\n  \"*\": module.makeNsSetter(true)\n});\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.events.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/template.events.js                                                                                 //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\n  var templateUrl = \"client/templates/events.html\";\n  angular.module('angular-templates')\n    .run(['$templateCache', function($templateCache) {\n      $templateCache.put(templateUrl, \"<ion-view view-title=\\\"Manage Events\\\"> <ion-content> <ion-list> <ion-item ng-repeat=\\\"event in events.data\\\" type=\\\"item-text-wrap\\\" href=\\\"#!/tab/editEvent\\\" ng-click=\\\"events.loadEvent(event)\\\"> <h2>{{ event.name }}</h2> <h3>{{event.city}}, {{event.country}}</h3> <p>Current Claims: {{event.claims}}</p> </ion-item> <ion-item href=\\\"#!/tab/newEvent\\\"> Add new event </ion-item> </ion-list> </ion-content> </ion-view>\");\n    }]);\n  if (typeof exports !== 'undefined') {\n    exports.__esModule = true;\n    exports.default = templateUrl;\n  }\n  \n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"newEvent.html\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/newEvent.html                                                                                      //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.watch(require(\"./template.newEvent.js\"), {\n  \"*\": module.makeNsSetter(true)\n});\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.newEvent.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/template.newEvent.js                                                                               //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\n  var templateUrl = \"client/templates/newEvent.html\";\n  angular.module('angular-templates')\n    .run(['$templateCache', function($templateCache) {\n      $templateCache.put(templateUrl, \"<ion-view view-title=\\\"Create New Event\\\"> <ion-content> <div class=\\\"ui center aligned segment\\\"> <form class=\\\"ui form\\\" style=\\\"padding-top:5%\\\"> <div class=\\\"field\\\"> <label>Event Name</label> <input type=\\\"text\\\" name=\\\"name\\\" ng-model=\\\"newEvent.name\\\"> </div> <div class=\\\"field\\\"> <label>City</label> <input type=\\\"text\\\" name=\\\"city\\\" ng-model=\\\"newEvent.city\\\"> </div> <div class=\\\"field\\\"> <label>Country</label> <input type=\\\"text\\\" name=\\\"country\\\" ng-model=\\\"newEvent.country\\\"> </div> <div class=\\\"field\\\"> <label>Starting date</label> <input type=\\\"text\\\" name=\\\"from\\\" ng-model=\\\"newEvent.from\\\"> </div> <div class=\\\"field\\\"> <label>Webpage</label> <input type=\\\"text\\\" name=\\\"webpage\\\" ng-model=\\\"newEvent.webpage\\\"> </div> <div class=\\\"field\\\"> <label>Cost per claim</label> <input type=\\\"number\\\" name=\\\"credits\\\" ng-model=\\\"newEvent.credits\\\"> </div> <div class=\\\"field\\\"> <label>Tickets</label> <input type=\\\"number\\\" name=\\\"tickets\\\" ng-model=\\\"newEvent.tickets\\\"> </div> <div class=\\\"field\\\"> <label>About</label> <input type=\\\"textarea\\\" name=\\\"about\\\" ng-model=\\\"newEvent.about\\\"> </div> <button class=\\\"ui button\\\" ng-click=\\\"newEvent.done()\\\">Save</button> </form> </div> </ion-content> </ion-view>\");\n    }]);\n  if (typeof exports !== 'undefined') {\n    exports.__esModule = true;\n    exports.default = templateUrl;\n  }\n  \n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"tabs.html\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/tabs.html                                                                                          //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.watch(require(\"./template.tabs.js\"), {\n  \"*\": module.makeNsSetter(true)\n});\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.tabs.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/template.tabs.js                                                                                   //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\n  var templateUrl = \"client/templates/tabs.html\";\n  angular.module('angular-templates')\n    .run(['$templateCache', function($templateCache) {\n      $templateCache.put(templateUrl, \"<ion-tabs class=\\\"tabs-stable tabs-icon-top tabs-color-positive\\\" ng-cloak> <ion-tab title=\\\"Events\\\" icon-on=\\\"ion-ios-chatbubble\\\" icon-off=\\\"ion-ios-chatbubble-outline\\\" href=\\\"#/tab/events\\\"> <ion-nav-view name=\\\"tab-events\\\"></ion-nav-view> </ion-tab> <ion-tab title=\\\"Settings\\\" icon-on=\\\"ion-ios-cog\\\" icon-off=\\\"ion-ios-cog-outline\\\" href=\\\"#/tab/settings\\\"> <ion-nav-view name=\\\"tab-settings\\\"></ion-nav-view> </ion-tab> </ion-tabs>\");\n    }]);\n  if (typeof exports !== 'undefined') {\n    exports.__esModule = true;\n    exports.default = templateUrl;\n  }\n  \n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"scripts\":{\"lib\":{\"app.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/scripts/lib/app.js                                                                                           //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nconst module1 = module;\nmodule1.watch(require(\"angular-animate\"));\nmodule1.watch(require(\"angular-meteor\"));\nmodule1.watch(require(\"angular-sanitize\"));\nmodule1.watch(require(\"angular-ui-router\"));\nmodule1.watch(require(\"ionic-scripts\"));\nlet Angular;\nmodule1.watch(require(\"angular\"), {\n  default(v) {\n    Angular = v;\n  }\n\n}, 0);\nlet Loader;\nmodule1.watch(require(\"angular-ecmascript/module-loader\"), {\n  default(v) {\n    Loader = v;\n  }\n\n}, 1);\nlet Meteor;\nmodule1.watch(require(\"meteor/meteor\"), {\n  Meteor(v) {\n    Meteor = v;\n  }\n\n}, 2);\nlet EventsCtrl;\nmodule1.watch(require(\"../controllers/events.controller\"), {\n  default(v) {\n    EventsCtrl = v;\n  }\n\n}, 3);\nlet NewEventCtrl;\nmodule1.watch(require(\"../controllers/newEvent.controller\"), {\n  default(v) {\n    NewEventCtrl = v;\n  }\n\n}, 4);\nlet EditEventCtrl;\nmodule1.watch(require(\"../controllers/editEvent.controller\"), {\n  default(v) {\n    EditEventCtrl = v;\n  }\n\n}, 5);\nlet CalendarFilter;\nmodule1.watch(require(\"../filters/calendar.filter\"), {\n  default(v) {\n    CalendarFilter = v;\n  }\n\n}, 6);\nlet RoutesConfig;\nmodule1.watch(require(\"../routes\"), {\n  default(v) {\n    RoutesConfig = v;\n  }\n\n}, 7);\nconst App = 'TicketSalad Administration'; // App\n\nAngular.module(App, ['angular-meteor', 'ionic']);\nnew Loader(App).load(EventsCtrl).load(NewEventCtrl).load(EditEventCtrl).load(CalendarFilter).load(RoutesConfig); // Startup\n\nif (Meteor.isCordova) {\n  Angular.element(document).on('deviceready', onReady);\n} else {\n  Angular.element(document).ready(onReady);\n}\n\nfunction onReady() {\n  Angular.bootstrap(document, [App]);\n}\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"controllers\":{\"editEvent.controller.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/scripts/controllers/editEvent.controller.js                                                                  //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nconst module1 = module;\nmodule1.export({\n  default: () => EditEventCtrl\n});\nlet Moment;\nmodule1.watch(require(\"moment\"), {\n  default(v) {\n    Moment = v;\n  }\n\n}, 0);\nlet Controller;\nmodule1.watch(require(\"angular-ecmascript/module-helpers\"), {\n  Controller(v) {\n    Controller = v;\n  }\n\n}, 1);\nlet Events;\nmodule1.watch(require(\"../../../lib/collections\"), {\n  Events(v) {\n    Events = v;\n  }\n\n}, 2);\n\nclass EditEventCtrl extends Controller {\n  constructor() {\n    super(...arguments);\n    this.helpers({\n      data() {\n        return Events.find();\n      },\n\n      load() {\n        this.event = Session.get(\"editEvent\");\n        console.log(this.event);\n      }\n\n    });\n  }\n\n  done() {\n    Events.update(this.event._id, {\n      $set: {\n        name: this.event.name,\n        city: this.event.city,\n        country: this.event.country,\n        from: this.event.from,\n        to: this.event.to,\n        webpage: this.event.webpage,\n        credits: this.event.credits,\n        about: this.event.about\n      }\n    });\n    this.$state.go(\"tab.events\");\n  }\n\n  delete() {\n    Events.remove(this.event._id);\n    this.$state.go(\"tab.events\");\n  }\n\n}\n\nEditEventCtrl.$name = 'EditEventCtrl';\nEditEventCtrl.$inject = ['$state', '$ionicPopup', '$log'];\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"events.controller.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/scripts/controllers/events.controller.js                                                                     //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nconst module1 = module;\nmodule1.export({\n  default: () => EventsCtrl\n});\nlet Moment;\nmodule1.watch(require(\"moment\"), {\n  default(v) {\n    Moment = v;\n  }\n\n}, 0);\nlet Controller;\nmodule1.watch(require(\"angular-ecmascript/module-helpers\"), {\n  Controller(v) {\n    Controller = v;\n  }\n\n}, 1);\nlet Events;\nmodule1.watch(require(\"../../../lib/collections\"), {\n  Events(v) {\n    Events = v;\n  }\n\n}, 2);\n\nclass EventsCtrl extends Controller {\n  constructor() {\n    super(...arguments);\n    this.helpers({\n      data() {\n        return Events.find();\n      }\n\n    });\n  }\n\n  createNew() {\n    console.log(\"new\");\n    this.$state.go('tab.newEvent');\n    console.log(\"gone\");\n  }\n\n  loadEvent(event) {\n    console.log(\"Loading event\");\n    Session.set(\"editEvent\", event);\n  }\n\n}\n\nEventsCtrl.$name = 'EventsCtrl';\nEventsCtrl.$inject = ['$state', '$ionicPopup', '$log'];\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"newEvent.controller.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/scripts/controllers/newEvent.controller.js                                                                   //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nconst module1 = module;\nmodule1.export({\n  default: () => NewEventCtrl\n});\nlet Moment;\nmodule1.watch(require(\"moment\"), {\n  default(v) {\n    Moment = v;\n  }\n\n}, 0);\nlet Controller;\nmodule1.watch(require(\"angular-ecmascript/module-helpers\"), {\n  Controller(v) {\n    Controller = v;\n  }\n\n}, 1);\nlet Events;\nmodule1.watch(require(\"../../../lib/collections\"), {\n  Events(v) {\n    Events = v;\n  }\n\n}, 2);\n\nclass NewEventCtrl extends Controller {\n  constructor() {\n    super(...arguments);\n    this.helpers({\n      data() {\n        return Events.find();\n      }\n\n    });\n  }\n\n  generateCode() {\n    var code = \"\";\n\n    for (var index = 0; index < 5; index++) {\n      var digit = Math.floor(Math.random() * 10);\n      code += digit + \"\";\n    } //Console.log(code);\n\n\n    return code;\n  }\n\n  done() {\n    var event = {\n      name: this.name,\n      city: this.city,\n      country: this.country,\n      picture: 'img/TL.jpg',\n      from: this.from,\n      to: this.to,\n      webpage: this.webpage,\n      credits: this.credits,\n      about: this.about,\n      claims: 0,\n      code: this.generateCode(),\n      claimed: 0,\n      winner: null\n    };\n    Events.insert(event);\n    this.$state.go(\"tab.events\");\n  }\n\n}\n\nNewEventCtrl.$name = 'NewEventCtrl';\nNewEventCtrl.$inject = ['$state', '$ionicPopup', '$log'];\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"filters\":{\"calendar.filter.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/scripts/filters/calendar.filter.js                                                                           //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nconst module1 = module;\nmodule1.export({\n  default: () => CalendarFilter\n});\nlet Moment;\nmodule1.watch(require(\"moment\"), {\n  default(v) {\n    Moment = v;\n  }\n\n}, 0);\nlet Filter;\nmodule1.watch(require(\"angular-ecmascript/module-helpers\"), {\n  Filter(v) {\n    Filter = v;\n  }\n\n}, 1);\n\nclass CalendarFilter extends Filter {\n  filter(time) {\n    if (!time) return;\n    return Moment(time).calendar(null, {\n      lastDay: '[Yesterday]',\n      sameDay: 'LT',\n      lastWeek: 'dddd',\n      sameElse: 'DD/MM/YY'\n    });\n  }\n\n}\n\nCalendarFilter.$name = 'calendar';\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"routes.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/scripts/routes.js                                                                                            //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nconst module1 = module;\nmodule1.export({\n  default: () => RoutesConfig\n});\nlet Config, Runner;\nmodule1.watch(require(\"angular-ecmascript/module-helpers\"), {\n  Config(v) {\n    Config = v;\n  },\n\n  Runner(v) {\n    Runner = v;\n  }\n\n}, 0);\nlet eventsTemplateUrl;\nmodule1.watch(require(\"../templates/events.html\"), {\n  default(v) {\n    eventsTemplateUrl = v;\n  }\n\n}, 1);\nlet newEventTemplateUrl;\nmodule1.watch(require(\"../templates/newEvent.html\"), {\n  default(v) {\n    newEventTemplateUrl = v;\n  }\n\n}, 2);\nlet editEventTemplateUrl;\nmodule1.watch(require(\"../templates/editEvent.html\"), {\n  default(v) {\n    editEventTemplateUrl = v;\n  }\n\n}, 3);\nlet tabsTemplateUrl;\nmodule1.watch(require(\"../templates/tabs.html\"), {\n  default(v) {\n    tabsTemplateUrl = v;\n  }\n\n}, 4);\n\nclass RoutesConfig extends Config {\n  configure() {\n    this.$stateProvider.state('tab', {\n      url: '/tab',\n      abstract: true,\n      templateUrl: tabsTemplateUrl\n    }).state('tab.events', {\n      url: '/events',\n      views: {\n        'tab-events': {\n          templateUrl: eventsTemplateUrl,\n          controller: 'EventsCtrl as events'\n        }\n      }\n    }).state('tab.newEvent', {\n      url: '/newEvent',\n      views: {\n        'tab-events': {\n          templateUrl: newEventTemplateUrl,\n          controller: 'NewEventCtrl as newEvent'\n        }\n      }\n    }).state('tab.editEvent', {\n      url: '/editEvent',\n      views: {\n        'tab-events': {\n          templateUrl: editEventTemplateUrl,\n          controller: 'EditEventCtrl as editEvent'\n        }\n      }\n    });\n    this.$urlRouterProvider.otherwise('tab/events');\n  }\n\n}\n\nRoutesConfig.$inject = ['$stateProvider', '$urlRouterProvider'];\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}}},\"lib\":{\"collections.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// lib/collections.js                                                                                                  //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.export({\n  Events: () => Events\n});\nlet Mongo;\nmodule.watch(require(\"meteor/mongo\"), {\n  Mongo(v) {\n    Mongo = v;\n  }\n\n}, 0);\nconst Events = new Mongo.Collection('events');\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"semantic\":{\"tasks\":{\"config\":{\"admin\":{\"templates\":{\"component-package.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/config/admin/templates/component-package.js                                                          //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nPackage.describe({\n  name: 'semantic:ui-{component}',\n  summary: 'Semantic UI - {Component}: Single component release',\n  version: '{version}',\n  git: 'git://github.com/Semantic-Org/UI-{Component}.git'\n});\nPackage.onUse(function (api) {\n  api.versionsFrom('1.0');\n  api.addFiles([{\n    files\n  }], 'client');\n});\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"css-package.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/config/admin/templates/css-package.js                                                                //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar where = 'client' // Adds files only to the client\n;\nPackage.describe({\n  name: 'semantic:ui-css',\n  summary: 'Semantic UI - CSS Release of Semantic UI',\n  version: '{version}',\n  git: 'git://github.com/Semantic-Org/Semantic-UI-CSS.git'\n});\nPackage.onUse(function (api) {\n  api.versionsFrom('1.0');\n  api.use('jquery', 'client');\n  api.addFiles([// icons\n  'themes/default/assets/fonts/icons.eot', 'themes/default/assets/fonts/icons.svg', 'themes/default/assets/fonts/icons.ttf', 'themes/default/assets/fonts/icons.woff', 'themes/default/assets/fonts/icons.woff2', // flags\n  'themes/default/assets/images/flags.png', // release\n  'semantic.css', 'semantic.js'], 'client');\n});\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"less-package.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/config/admin/templates/less-package.js                                                               //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar where = 'client' // Adds files only to the client\n;\nPackage.describe({\n  name: 'semantic:ui',\n  summary: 'Semantic UI - LESS Release of Semantic UI',\n  version: '{version}',\n  git: 'git://github.com/Semantic-Org/Semantic-UI-LESS.git'\n});\nPackage.onUse(function (api) {\n  api.versionsFrom('1.0');\n  api.use('less', 'client');\n  api.addFiles([{\n    files\n  }], 'client');\n});\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"github.js\":function(require,exports,module,__filename,__dirname){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/config/admin/github.js                                                                               //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n          GitHub Login\n*******************************/\n\n/*\n  Logs into GitHub using OAuth\n*/\nvar fs = require('fs'),\n    path = require('path'),\n    githubAPI = require('github'),\n    // stores oauth info for GitHub API\noAuthConfig = path.join(__dirname, 'oauth.js'),\n    oAuth = fs.existsSync(oAuthConfig) ? require(oAuthConfig) : false,\n    github;\n\nif (!oAuth) {\n  console.error('Must add oauth token for GitHub in tasks/config/admin/oauth.js');\n}\n\ngithub = new githubAPI({\n  version: '3.0.0',\n  debug: true,\n  protocol: 'https',\n  timeout: 5000\n});\ngithub.authenticate({\n  type: 'oauth',\n  token: oAuth.token\n});\nmodule.exports = github;\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"oauth.example.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/config/admin/oauth.example.js                                                                        //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*\n Used to import GitHub Auth Token\n To Automate GitHub Updates\n*/\nmodule.exports = {\n  token: 'AN-OAUTH2-TOKEN',\n  username: 'github-username',\n  name: 'Your Name',\n  email: 'user@email.com'\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"release.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/config/admin/release.js                                                                              //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n        Release Settings\n*******************************/\n// release settings\nmodule.exports = {\n  // path to components for repos\n  source: './dist/components/',\n  // modified asset paths for component repos\n  paths: {\n    source: '../themes/default/assets/',\n    output: 'assets/'\n  },\n  templates: {\n    bower: './tasks/config/admin/templates/bower.json',\n    composer: './tasks/config/admin/templates/composer.json',\n    package: './tasks/config/admin/templates/package.json',\n    meteor: {\n      css: './tasks/config/admin/templates/css-package.js',\n      component: './tasks/config/admin/templates/component-package.js',\n      less: './tasks/config/admin/templates/less-package.js'\n    },\n    readme: './tasks/config/admin/templates/README.md',\n    notes: './RELEASE-NOTES.md'\n  },\n  org: 'Semantic-Org',\n  repo: 'Semantic-UI',\n  // files created for package managers\n  files: {\n    composer: 'composer.json',\n    config: 'semantic.json',\n    npm: 'package.json',\n    meteor: 'package.js'\n  },\n  // root name for distribution repos\n  distRepoRoot: 'Semantic-UI-',\n  // root name for single component repos\n  componentRepoRoot: 'UI-',\n  // root name for package managers\n  packageRoot: 'semantic-ui-',\n  // root path to repos\n  outputRoot: '../repos/',\n  homepage: 'http://www.semantic-ui.com',\n  // distributions that get separate repos\n  distributions: ['LESS', 'CSS'],\n  // components that get separate repositories for bower/npm\n  components: ['accordion', 'ad', 'api', 'breadcrumb', 'button', 'card', 'checkbox', 'comment', 'container', 'dimmer', 'divider', 'dropdown', 'embed', 'feed', 'flag', 'form', 'grid', 'header', 'icon', 'image', 'input', 'item', 'label', 'list', 'loader', 'menu', 'message', 'modal', 'nag', 'popup', 'progress', 'rail', 'rating', 'reset', 'reveal', 'search', 'segment', 'shape', 'sidebar', 'site', 'statistic', 'step', 'sticky', 'tab', 'table', 'transition', 'visibility']\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"npm\":{\"gulpfile.js\":function(require){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/config/npm/gulpfile.js                                                                               //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n            Set-up\n*******************************/\nvar gulp = require('gulp-help')(require('gulp')),\n    // read user config to know what task to load\nconfig = require('./tasks/config/user'),\n    // watch changes\nwatch = require('./tasks/watch'),\n    // build all files\nbuild = require('./tasks/build'),\n    buildJS = require('./tasks/build/javascript'),\n    buildCSS = require('./tasks/build/css'),\n    buildAssets = require('./tasks/build/assets'),\n    // utility\nclean = require('./tasks/clean'),\n    version = require('./tasks/version'),\n    // docs tasks\nserveDocs = require('./tasks/docs/serve'),\n    buildDocs = require('./tasks/docs/build'),\n    // rtl\nbuildRTL = require('./tasks/rtl/build'),\n    watchRTL = require('./tasks/rtl/watch');\n/*******************************\n             Tasks\n*******************************/\n\n\ngulp.task('default', false, ['watch']);\ngulp.task('watch', 'Watch for site/theme changes', watch);\ngulp.task('build', 'Builds all files from source', build);\ngulp.task('build-javascript', 'Builds all javascript from source', buildJS);\ngulp.task('build-css', 'Builds all css from source', buildCSS);\ngulp.task('build-assets', 'Copies all assets from source', buildAssets);\ngulp.task('clean', 'Clean dist folder', clean);\ngulp.task('version', 'Displays current version of Semantic', version);\n/*--------------\n      Docs\n---------------*/\n\n/*\n  Lets you serve files to a local documentation instance\n  https://github.com/Semantic-Org/Semantic-UI-Docs/\n*/\n\ngulp.task('serve-docs', 'Serve file changes to SUI Docs', serveDocs);\ngulp.task('build-docs', 'Build all files and add to SUI Docs', buildDocs);\n/*--------------\n      RTL\n---------------*/\n\nif (config.rtl) {\n  gulp.task('watch-rtl', 'Watch files as RTL', watchRTL);\n  gulp.task('build-rtl', 'Build all files as RTL', buildRTL);\n}\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"project\":{\"config.js\":function(require,exports,module,__filename,__dirname){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/config/project/config.js                                                                             //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n            Set-up\n*******************************/\nvar extend = require('extend'),\n    fs = require('fs'),\n    path = require('path'),\n    defaults = require('../defaults');\n/*******************************\n            Exports\n*******************************/\n\n\nmodule.exports = {\n  getPath: function (file, directory) {\n    var configPath,\n        walk = function (directory) {\n      var nextDirectory = path.resolve(path.join(directory, path.sep, '..')),\n          currentPath = path.normalize(path.join(directory, file));\n\n      if (fs.existsSync(currentPath)) {\n        // found file\n        configPath = path.normalize(directory);\n        return;\n      } else {\n        // reached file system root, let's stop\n        if (nextDirectory == directory) {\n          return;\n        } // otherwise recurse\n\n\n        walk(nextDirectory, file);\n      }\n    }; // start walk from outside require-dot-files directory\n\n\n    file = file || defaults.files.config;\n    directory = directory || path.join(__dirname, path.sep, '..');\n    walk(directory);\n    return configPath || '';\n  },\n  // adds additional derived values to a config object\n  addDerivedValues: function (config) {\n    config = config || extend(false, {}, defaults);\n    /*--------------\n       File Paths\n    ---------------*/\n\n    var configPath = this.getPath(),\n        sourcePaths = {},\n        outputPaths = {},\n        folder; // resolve paths (config location + base + path)\n\n    for (folder in config.paths.source) {\n      if (config.paths.source.hasOwnProperty(folder)) {\n        sourcePaths[folder] = path.resolve(path.join(configPath, config.base, config.paths.source[folder]));\n      }\n    }\n\n    for (folder in config.paths.output) {\n      if (config.paths.output.hasOwnProperty(folder)) {\n        outputPaths[folder] = path.resolve(path.join(configPath, config.base, config.paths.output[folder]));\n      }\n    } // set config paths to full paths\n\n\n    config.paths.source = sourcePaths;\n    config.paths.output = outputPaths; // resolve \"clean\" command path\n\n    config.paths.clean = path.resolve(path.join(configPath, config.base, config.paths.clean));\n    /*--------------\n        CSS URLs\n    ---------------*/\n    // determine asset paths in css by finding relative path between themes and output\n    // force forward slashes\n\n    config.paths.assets = {\n      source: '../../themes',\n      // source asset path is always the same\n      uncompressed: './' + path.relative(config.paths.output.uncompressed, config.paths.output.themes).replace(/\\\\/g, '/'),\n      compressed: './' + path.relative(config.paths.output.compressed, config.paths.output.themes).replace(/\\\\/g, '/'),\n      packaged: './' + path.relative(config.paths.output.packaged, config.paths.output.themes).replace(/\\\\/g, '/')\n    };\n    /*--------------\n       Permission\n    ---------------*/\n\n    if (config.permission) {\n      config.hasPermissions = true;\n    } else {\n      // pass blank object to avoid causing errors\n      config.permission = {};\n      config.hasPermissions = false;\n    }\n    /*--------------\n         Globs\n    ---------------*/\n\n\n    if (!config.globs) {\n      config.globs = {};\n    } // remove duplicates from component array\n\n\n    if (config.components instanceof Array) {\n      config.components = config.components.filter(function (component, index) {\n        return config.components.indexOf(component) == index;\n      });\n    } // takes component object and creates file glob matching selected components\n\n\n    config.globs.components = typeof config.components == 'object' ? config.components.length > 1 ? '{' + config.components.join(',') + '}' : config.components[0] : '{' + defaults.components.join(',') + '}';\n    return config;\n  }\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"install.js\":function(require,exports,module,__filename,__dirname){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/config/project/install.js                                                                            //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n            Set-up\n*******************************/\nvar fs = require('fs'),\n    path = require('path'),\n    defaults = require('../defaults'),\n    release = require('./release'),\n    requireDotFile = require('require-dot-file');\n/*******************************\n          When to Ask\n*******************************/\n\n/* Preconditions for install questions */\n\n\nvar when = {\n  // path\n  changeRoot: function (questions) {\n    return questions.useRoot !== undefined && questions.useRoot !== true;\n  },\n  // permissions\n  changePermissions: function (questions) {\n    return questions.changePermissions && questions.changePermissions === true;\n  },\n  // install\n  hasConfig: function () {\n    return requireDotFile('semantic.json', process.cwd());\n  },\n  allowOverwrite: function (questions) {\n    return questions.overwrite === undefined || questions.overwrite == 'yes';\n  },\n  notAuto: function (questions) {\n    return questions.install !== 'auto' && (questions.overwrite === undefined || questions.overwrite == 'yes');\n  },\n  custom: function (questions) {\n    return questions.install === 'custom' && (questions.overwrite === undefined || questions.overwrite == 'yes');\n  },\n  express: function (questions) {\n    return questions.install === 'express' && (questions.overwrite === undefined || questions.overwrite == 'yes');\n  },\n  // customize\n  customize: function (questions) {\n    return questions.customize === true;\n  },\n  primaryColor: function (questions) {\n    return questions.primaryColor;\n  },\n  secondaryColor: function (questions) {\n    return questions.secondaryColor;\n  }\n};\n/*******************************\n        Response Filters\n*******************************/\n\n/* Filters to user input from install questions */\n\nvar filter = {\n  removeTrailingSlash: function (path) {\n    return path.replace(/(\\/$|\\\\$)+/mg, '');\n  }\n};\n/*******************************\n          Configuration\n*******************************/\n\nmodule.exports = {\n  // check whether install is setup\n  isSetup: function () {\n    return when.hasConfig();\n  },\n  // detect whether there is a semantic.json configuration and that the auto-install option is set to true\n  shouldAutoInstall: function () {\n    var config = when.hasConfig();\n    return config['autoInstall'];\n  },\n  // checks if files are in a PM directory\n  getPackageManager: function (directory) {\n    var // returns last matching result (avoid sub-module detection)\n    walk = function (directory) {\n      var pathArray = directory.split(path.sep),\n          folder = pathArray[pathArray.length - 1],\n          nextDirectory = path.join(directory, path.sep, '..');\n\n      if (folder == 'bower_components') {\n        return {\n          name: 'Bower',\n          root: nextDirectory\n        };\n      } else if (folder == 'node_modules') {\n        return {\n          name: 'NPM',\n          root: nextDirectory\n        };\n      } else if (folder == 'composer') {\n        return {\n          name: 'Composer',\n          root: nextDirectory\n        };\n      }\n\n      if (path.resolve(directory) == path.resolve(nextDirectory)) {\n        return false;\n      } // recurse downward\n\n\n      return walk(nextDirectory);\n    }; // start walk from current directory if none specified\n\n\n    directory = directory || __dirname + path.sep;\n    return walk(directory);\n  },\n  // checks if files is PMed submodule\n  isSubModule: function (directory) {\n    var moduleFolders = 0,\n        walk = function (directory) {\n      var pathArray = directory.split(path.sep),\n          folder = pathArray[pathArray.length - 2],\n          nextDirectory = path.join(directory, path.sep, '..');\n\n      if (folder == 'bower_components') {\n        moduleFolders++;\n      } else if (folder == 'node_modules') {\n        moduleFolders++;\n      } else if (folder == 'composer') {\n        moduleFolders++;\n      }\n\n      if (path.resolve(directory) == path.resolve(nextDirectory)) {\n        return moduleFolders > 1;\n      } // recurse downward\n\n\n      return walk(nextDirectory);\n    }; // start walk from current directory if none specified\n\n\n    directory = directory || __dirname + path.sep;\n    return walk(directory);\n  },\n  createJSON: function (answers) {\n    var json = {\n      paths: {\n        source: {},\n        output: {}\n      }\n    }; // add components\n\n    if (answers.components) {\n      json.components = answers.components;\n    } // add rtl choice\n\n\n    if (answers.rtl) {\n      json.rtl = answers.rtl;\n    } // add permissions\n\n\n    if (answers.permission) {\n      json.permission = answers.permission;\n    } // add path to semantic\n\n\n    if (answers.semanticRoot) {\n      json.base = path.normalize(answers.semanticRoot);\n    } // record version number to avoid re-installing on same version\n\n\n    json.version = release.version; // add dist folder paths\n\n    if (answers.dist) {\n      answers.dist = path.normalize(answers.dist);\n      json.paths.output = {\n        packaged: path.normalize(answers.dist + '/'),\n        uncompressed: path.normalize(answers.dist + '/components/'),\n        compressed: path.normalize(answers.dist + '/components/'),\n        themes: path.normalize(answers.dist + '/themes/')\n      };\n    } // add site path\n\n\n    if (answers.site) {\n      json.paths.source.site = path.normalize(answers.site + '/');\n    }\n\n    if (answers.packaged) {\n      json.paths.output.packaged = path.normalize(answers.packaged + '/');\n    }\n\n    if (answers.compressed) {\n      json.paths.output.compressed = path.normalize(answers.compressed + '/');\n    }\n\n    if (answers.uncompressed) {\n      json.paths.output.uncompressed = path.normalize(answers.uncompressed + '/');\n    }\n\n    return json;\n  },\n  // files cleaned up after install\n  setupFiles: ['./src/theme.config.example', './semantic.json.example', './src/_site'],\n  regExp: {\n    // used to match siteFolder variable in theme.less\n    siteVariable: /@siteFolder .*\\'(.*)/mg\n  },\n  // source paths (when installing)\n  source: {\n    config: './semantic.json.example',\n    definitions: './src/definitions',\n    gulpFile: './gulpfile.js',\n    lessImport: './src/semantic.less',\n    site: './src/_site',\n    tasks: './tasks',\n    themeConfig: './src/theme.config.example',\n    themeImport: './src/theme.less',\n    themes: './src/themes',\n    defaultTheme: './src/themes/default',\n    userGulpFile: './tasks/config/npm/gulpfile.js'\n  },\n  // expected final filenames\n  files: {\n    config: 'semantic.json',\n    lessImport: 'src/semantic.less',\n    site: 'src/site',\n    themeConfig: 'src/theme.config',\n    themeImport: 'src/theme.less'\n  },\n  // folder paths to files relative to root\n  folders: {\n    config: './',\n    definitions: 'src/definitions/',\n    lessImport: 'src/',\n    modules: 'node_modules/',\n    site: 'src/site/',\n    tasks: 'tasks/',\n    themeConfig: 'src/',\n    themeImport: 'src/',\n    themes: 'src/themes/',\n    defaultTheme: 'default/' // only path that is relative to another directory and not root\n\n  },\n  // questions asked during install\n  questions: {\n    root: [{\n      type: 'list',\n      name: 'useRoot',\n      message: '{packageMessage} Is this your project folder? {root}',\n      choices: [{\n        name: 'Yes',\n        value: true\n      }, {\n        name: 'No, let me specify',\n        value: false\n      }]\n    }, {\n      type: 'input',\n      name: 'customRoot',\n      message: 'Please enter the absolute path to your project root',\n      default: '/my/project/path',\n      when: when.changeRoot\n    }, {\n      type: 'input',\n      name: 'semanticRoot',\n      message: 'Where should we put Semantic UI inside your project?',\n      default: 'semantic/'\n    }],\n    setup: [{\n      type: 'list',\n      name: 'overwrite',\n      message: 'It looks like you have a semantic.json file already.',\n      when: when.hasConfig,\n      choices: [{\n        name: 'Yes, extend my current settings.',\n        value: 'yes'\n      }, {\n        name: 'Skip install',\n        value: 'no'\n      }]\n    }, {\n      type: 'list',\n      name: 'install',\n      message: 'Set-up Semantic UI',\n      when: when.allowOverwrite,\n      choices: [{\n        name: 'Automatic (Use default locations and all components)',\n        value: 'auto'\n      }, {\n        name: 'Express (Set components and output folder)',\n        value: 'express'\n      }, {\n        name: 'Custom (Customize all src/dist values)',\n        value: 'custom'\n      }]\n    }, {\n      type: 'checkbox',\n      name: 'components',\n      message: 'What components should we include in the package?',\n      // duplicated manually from tasks/defaults.js with additional property\n      choices: [{\n        name: \"reset\",\n        checked: true\n      }, {\n        name: \"site\",\n        checked: true\n      }, {\n        name: \"button\",\n        checked: true\n      }, {\n        name: \"container\",\n        checked: true\n      }, {\n        name: \"divider\",\n        checked: true\n      }, {\n        name: \"flag\",\n        checked: true\n      }, {\n        name: \"header\",\n        checked: true\n      }, {\n        name: \"icon\",\n        checked: true\n      }, {\n        name: \"image\",\n        checked: true\n      }, {\n        name: \"input\",\n        checked: true\n      }, {\n        name: \"label\",\n        checked: true\n      }, {\n        name: \"list\",\n        checked: true\n      }, {\n        name: \"loader\",\n        checked: true\n      }, {\n        name: \"rail\",\n        checked: true\n      }, {\n        name: \"reveal\",\n        checked: true\n      }, {\n        name: \"segment\",\n        checked: true\n      }, {\n        name: \"step\",\n        checked: true\n      }, {\n        name: \"breadcrumb\",\n        checked: true\n      }, {\n        name: \"form\",\n        checked: true\n      }, {\n        name: \"grid\",\n        checked: true\n      }, {\n        name: \"menu\",\n        checked: true\n      }, {\n        name: \"message\",\n        checked: true\n      }, {\n        name: \"table\",\n        checked: true\n      }, {\n        name: \"ad\",\n        checked: true\n      }, {\n        name: \"card\",\n        checked: true\n      }, {\n        name: \"comment\",\n        checked: true\n      }, {\n        name: \"feed\",\n        checked: true\n      }, {\n        name: \"item\",\n        checked: true\n      }, {\n        name: \"statistic\",\n        checked: true\n      }, {\n        name: \"accordion\",\n        checked: true\n      }, {\n        name: \"checkbox\",\n        checked: true\n      }, {\n        name: \"dimmer\",\n        checked: true\n      }, {\n        name: \"dropdown\",\n        checked: true\n      }, {\n        name: \"embed\",\n        checked: true\n      }, {\n        name: \"modal\",\n        checked: true\n      }, {\n        name: \"nag\",\n        checked: true\n      }, {\n        name: \"popup\",\n        checked: true\n      }, {\n        name: \"progress\",\n        checked: true\n      }, {\n        name: \"rating\",\n        checked: true\n      }, {\n        name: \"search\",\n        checked: true\n      }, {\n        name: \"shape\",\n        checked: true\n      }, {\n        name: \"sidebar\",\n        checked: true\n      }, {\n        name: \"sticky\",\n        checked: true\n      }, {\n        name: \"tab\",\n        checked: true\n      }, {\n        name: \"transition\",\n        checked: true\n      }, {\n        name: \"api\",\n        checked: true\n      }, {\n        name: \"form\",\n        checked: true\n      }, {\n        name: \"state\",\n        checked: true\n      }, {\n        name: \"visibility\",\n        checked: true\n      }],\n      when: when.notAuto\n    }, {\n      type: 'list',\n      name: 'changePermissions',\n      when: when.notAuto,\n      message: 'Should we set permissions on outputted files?',\n      choices: [{\n        name: 'No',\n        value: false\n      }, {\n        name: 'Yes',\n        value: true\n      }]\n    }, {\n      type: 'input',\n      name: 'permission',\n      message: 'What octal file permission should outputted files receive?',\n      default: defaults.permission,\n      when: when.changePermissions\n    }, {\n      type: 'list',\n      name: 'rtl',\n      message: 'Do you use a RTL (Right-To-Left) language?',\n      when: when.notAuto,\n      choices: [{\n        name: 'No',\n        value: false\n      }, {\n        name: 'Yes',\n        value: true\n      }, {\n        name: 'Build Both',\n        value: 'both'\n      }]\n    }, {\n      type: 'input',\n      name: 'dist',\n      message: 'Where should we output Semantic UI?',\n      default: defaults.paths.output.packaged,\n      filter: filter.removeTrailingSlash,\n      when: when.express\n    }, {\n      type: 'input',\n      name: 'site',\n      message: 'Where should we put your site folder?',\n      default: defaults.paths.source.site,\n      filter: filter.removeTrailingSlash,\n      when: when.custom\n    }, {\n      type: 'input',\n      name: 'packaged',\n      message: 'Where should we output a packaged version?',\n      default: defaults.paths.output.packaged,\n      filter: filter.removeTrailingSlash,\n      when: when.custom\n    }, {\n      type: 'input',\n      name: 'compressed',\n      message: 'Where should we output compressed components?',\n      default: defaults.paths.output.compressed,\n      filter: filter.removeTrailingSlash,\n      when: when.custom\n    }, {\n      type: 'input',\n      name: 'uncompressed',\n      message: 'Where should we output uncompressed components?',\n      default: defaults.paths.output.uncompressed,\n      filter: filter.removeTrailingSlash,\n      when: when.custom\n    }],\n    cleanup: [{\n      type: 'list',\n      name: 'cleanup',\n      message: 'Should we remove set-up files?',\n      choices: [{\n        name: 'Yes (re-install will require redownloading semantic).',\n        value: 'yes'\n      }, {\n        name: 'No Thanks',\n        value: 'no'\n      }]\n    }, {\n      type: 'list',\n      name: 'build',\n      message: 'Do you want to build Semantic now?',\n      choices: [{\n        name: 'Yes',\n        value: 'yes'\n      }, {\n        name: 'No',\n        value: 'no'\n      }]\n    }],\n    site: [{\n      type: 'list',\n      name: 'customize',\n      message: 'You have not yet customized your site, can we help you do that?',\n      choices: [{\n        name: 'Yes, ask me a few questions',\n        value: true\n      }, {\n        name: 'No I\\'ll do it myself',\n        value: false\n      }]\n    }, {\n      type: 'list',\n      name: 'headerFont',\n      message: 'Select your header font',\n      choices: [{\n        name: 'Helvetica Neue, Arial, sans-serif',\n        value: 'Helvetica Neue, Arial, sans-serif;'\n      }, {\n        name: 'Lato (Google Fonts)',\n        value: 'Lato'\n      }, {\n        name: 'Open Sans (Google Fonts)',\n        value: 'Open Sans'\n      }, {\n        name: 'Source Sans Pro (Google Fonts)',\n        value: 'Source Sans Pro'\n      }, {\n        name: 'Droid (Google Fonts)',\n        value: 'Droid'\n      }, {\n        name: 'I\\'ll choose on my own',\n        value: false\n      }],\n      when: when.customize\n    }, {\n      type: 'list',\n      name: 'pageFont',\n      message: 'Select your page font',\n      choices: [{\n        name: 'Helvetica Neue, Arial, sans-serif',\n        value: 'Helvetica Neue, Arial, sans-serif;'\n      }, {\n        name: 'Lato (Import from Google Fonts)',\n        value: 'Lato'\n      }, {\n        name: 'Open Sans (Import from Google Fonts)',\n        value: 'Open Sans'\n      }, {\n        name: 'Source Sans Pro (Import from Google Fonts)',\n        value: 'Source Sans Pro'\n      }, {\n        name: 'Droid (Google Fonts)',\n        value: 'Droid'\n      }, {\n        name: 'I\\'ll choose on my own',\n        value: false\n      }],\n      when: when.customize\n    }, {\n      type: 'list',\n      name: 'fontSize',\n      message: 'Select your base font size',\n      default: '14px',\n      choices: [{\n        name: '12px'\n      }, {\n        name: '13px'\n      }, {\n        name: '14px (Recommended)',\n        value: '14px'\n      }, {\n        name: '15px'\n      }, {\n        name: '16px'\n      }, {\n        name: 'I\\'ll choose on my own',\n        value: false\n      }],\n      when: when.customize\n    }, {\n      type: 'list',\n      name: 'primaryColor',\n      message: 'Select the closest name for your primary brand color',\n      default: '14px',\n      choices: [{\n        name: 'Blue'\n      }, {\n        name: 'Green'\n      }, {\n        name: 'Orange'\n      }, {\n        name: 'Pink'\n      }, {\n        name: 'Purple'\n      }, {\n        name: 'Red'\n      }, {\n        name: 'Teal'\n      }, {\n        name: 'Yellow'\n      }, {\n        name: 'Black'\n      }, {\n        name: 'I\\'ll choose on my own',\n        value: false\n      }],\n      when: when.customize\n    }, {\n      type: 'input',\n      name: 'PrimaryHex',\n      message: 'Enter a hexcode for your primary brand color',\n      when: when.primaryColor\n    }, {\n      type: 'list',\n      name: 'secondaryColor',\n      message: 'Select the closest name for your secondary brand color',\n      default: '14px',\n      choices: [{\n        name: 'Blue'\n      }, {\n        name: 'Green'\n      }, {\n        name: 'Orange'\n      }, {\n        name: 'Pink'\n      }, {\n        name: 'Purple'\n      }, {\n        name: 'Red'\n      }, {\n        name: 'Teal'\n      }, {\n        name: 'Yellow'\n      }, {\n        name: 'Black'\n      }, {\n        name: 'I\\'ll choose on my own',\n        value: false\n      }],\n      when: when.customize\n    }, {\n      type: 'input',\n      name: 'secondaryHex',\n      message: 'Enter a hexcode for your secondary brand color',\n      when: when.secondaryColor\n    }]\n  },\n  settings: {\n    /* Rename Files */\n    rename: {\n      json: {\n        extname: '.json'\n      }\n    },\n\n    /* Copy Install Folders */\n    wrench: {\n      // overwrite existing files update & install (default theme / definition)\n      overwrite: {\n        forceDelete: true,\n        excludeHiddenUnix: true,\n        preserveFiles: false\n      },\n      // only create files that don't exist (site theme update)\n      merge: {\n        forceDelete: false,\n        excludeHiddenUnix: true,\n        preserveFiles: true\n      }\n    }\n  }\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"release.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/config/project/release.js                                                                            //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n         Release Config\n*******************************/\nvar requireDotFile = require('require-dot-file'),\n    config,\n    npmPackage,\n    version;\n/*******************************\n         Derived Values\n*******************************/\n\n\ntry {\n  config = requireDotFile('semantic.json');\n} catch (error) {}\n\ntry {\n  npmPackage = require('../../../package.json');\n} catch (error) {\n  // generate fake package\n  npmPackage = {\n    name: 'Unknown',\n    version: 'x.x'\n  };\n} // looks for version in config or package.json (whichever is available)\n\n\nversion = npmPackage && npmPackage.version !== undefined && npmPackage.name == 'semantic-ui' ? npmPackage.version : config.version;\n/*******************************\n             Export\n*******************************/\n\nmodule.exports = {\n  title: 'Semantic UI',\n  repository: 'https://github.com/Semantic-Org/Semantic-UI',\n  url: 'http://www.semantic-ui.com/',\n  banner: '' + ' /*' + '\\n' + ' * # <%= title %> - <%= version %>' + '\\n' + ' * <%= repository %>' + '\\n' + ' * <%= url %>' + '\\n' + ' *' + '\\n' + ' * Copyright 2014 Contributors' + '\\n' + ' * Released under the MIT license' + '\\n' + ' * http://opensource.org/licenses/MIT' + '\\n' + ' *' + '\\n' + ' */' + '\\n',\n  version: version\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"defaults.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/config/defaults.js                                                                                   //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n          Default Paths\n*******************************/\nmodule.exports = {\n  // base path added to all other paths\n  base: '',\n  // base path when installed with npm\n  pmRoot: 'semantic/',\n  // octal permission for output files, i.e. 644 (false does not adjust)\n  permission: 744,\n  // whether to generate rtl files\n  rtl: false,\n  // file paths\n  files: {\n    config: 'semantic.json',\n    site: 'src/site',\n    theme: 'src/theme.config'\n  },\n  // folder paths\n  paths: {\n    source: {\n      config: 'src/theme.config',\n      definitions: 'src/definitions/',\n      site: 'src/site/',\n      themes: 'src/themes/'\n    },\n    output: {\n      packaged: 'dist/',\n      uncompressed: 'dist/components/',\n      compressed: 'dist/components/',\n      themes: 'dist/themes/'\n    },\n    clean: 'dist/'\n  },\n  // components to include in package\n  components: [// global\n  'reset', 'site', // elements\n  'button', 'container', 'divider', 'flag', 'header', 'icon', 'image', 'input', 'label', 'list', 'loader', 'rail', 'reveal', 'segment', 'step', // collections\n  'breadcrumb', 'form', 'grid', 'menu', 'message', 'table', // views\n  'ad', 'card', 'comment', 'feed', 'item', 'statistic', // modules\n  'accordion', 'checkbox', 'dimmer', 'dropdown', 'embed', 'modal', 'nag', 'popup', 'progress', 'rating', 'search', 'shape', 'sidebar', 'sticky', 'tab', 'transition', // behaviors\n  'api', 'form', 'state', 'visibility'],\n  // whether to load admin tasks\n  admin: false,\n  // globs used for matching file patterns\n  globs: {\n    ignored: '!(*.min|*.map|*.rtl)',\n    ignoredRTL: '!(*.min|*.map)'\n  }\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"docs.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/config/docs.js                                                                                       //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n             Docs\n*******************************/\n\n/* Paths used for \"serve-docs\" and \"build-docs\" tasks */\nmodule.exports = {\n  base: '',\n  globs: {\n    eco: '**/*.html.eco'\n  },\n  paths: {\n    clean: '../docs/out/dist/',\n    source: {\n      config: 'src/theme.config',\n      definitions: 'src/definitions/',\n      site: 'src/site/',\n      themes: 'src/themes/'\n    },\n    output: {\n      examples: '../docs/out/examples/',\n      less: '../docs/out/src/',\n      metadata: '../docs/out/',\n      packaged: '../docs/out/dist/',\n      uncompressed: '../docs/out/dist/components/',\n      compressed: '../docs/out/dist/components/',\n      themes: '../docs/out/dist/themes/'\n    },\n    template: {\n      eco: '../docs/server/documents/'\n    }\n  }\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"tasks.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/config/tasks.js                                                                                      //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar console = require('better-console'),\n    config = require('./user'),\n    release = require('./project/release');\n\nmodule.exports = {\n  banner: release.banner,\n  log: {\n    created: function (file) {\n      return 'Created: ' + file;\n    },\n    modified: function (file) {\n      return 'Modified: ' + file;\n    }\n  },\n  filenames: {\n    concatenatedCSS: 'semantic.css',\n    concatenatedJS: 'semantic.js',\n    concatenatedMinifiedCSS: 'semantic.min.css',\n    concatenatedMinifiedJS: 'semantic.min.js',\n    concatenatedRTLCSS: 'semantic.rtl.css',\n    concatenatedMinifiedRTLCSS: 'semantic.rtl.min.css'\n  },\n  regExp: {\n    comments: {\n      // remove all comments from config files (.variable)\n      variables: {\n        in: /(\\/\\*[\\s\\S]+?\\*\\/+)[\\s\\S]+?\\/\\* End Config \\*\\//,\n        out: '$1'\n      },\n      // add version to first comment\n      license: {\n        in: /(^\\/\\*[\\s\\S]+)(# Semantic UI )([\\s\\S]+?\\*\\/)/,\n        out: '$1$2' + release.version + ' $3'\n      },\n      // adds uniform spacing around comments\n      large: {\n        in: /(\\/\\*\\*\\*\\*[\\s\\S]+?\\*\\/)/mg,\n        out: '\\n\\n$1\\n'\n      },\n      small: {\n        in: /(\\/\\*---[\\s\\S]+?\\*\\/)/mg,\n        out: '\\n$1\\n'\n      },\n      tiny: {\n        in: /(\\/\\* [\\s\\S]+? \\*\\/)/mg,\n        out: '\\n$1'\n      }\n    },\n    theme: /.*(\\/|\\\\)themes(\\/|\\\\).*?(?=(\\/|\\\\))/mg\n  },\n  settings: {\n    /* Remove Files in Clean */\n    del: {\n      silent: true\n    },\n    concatCSS: {\n      rebaseUrls: false\n    },\n\n    /* Comment Banners */\n    header: {\n      title: release.title,\n      version: release.version,\n      repository: release.repository,\n      url: release.url\n    },\n    plumber: {\n      less: {\n        errorHandler: function (error) {\n          var regExp = {\n            variable: /@(\\S.*?)\\s/,\n            theme: /themes[\\/\\\\]+(.*?)[\\/\\\\].*/,\n            element: /[\\/\\\\]([^\\/\\\\*]*)\\.overrides/\n          },\n              theme,\n              element;\n\n          if (error.filename.match(/theme.less/)) {\n            if (error.line == 5) {\n              element = regExp.variable.exec(error.message)[1];\n\n              if (element) {\n                console.error('Missing theme.config value for ', element);\n              }\n\n              console.error('Most likely new UI was added in an update. You will need to add missing elements from theme.config.example');\n            }\n\n            if (error.line == 46) {\n              element = regExp.element.exec(error.message)[1];\n              theme = regExp.theme.exec(error.message)[1];\n              console.error(theme + ' is not an available theme for ' + element);\n            }\n          } else {\n            console.log(error);\n          }\n\n          this.emit('end');\n        }\n      }\n    },\n\n    /* What Browsers to Prefix */\n    prefix: {\n      browsers: ['last 2 versions', '> 1%', 'opera 12.1', 'bb 10', 'android 4']\n    },\n\n    /* File Renames */\n    rename: {\n      minJS: {\n        extname: '.min.js'\n      },\n      minCSS: {\n        extname: '.min.css'\n      },\n      rtlCSS: {\n        extname: '.rtl.css'\n      },\n      rtlMinCSS: {\n        extname: '.rtl.min.css'\n      }\n    },\n\n    /* Minified CSS Concat */\n    minify: {\n      processImport: false,\n      restructuring: false,\n      keepSpecialComments: 1,\n      roundingPrecision: -1\n    },\n\n    /* Minified JS Settings */\n    uglify: {\n      mangle: true,\n      output: {\n        comments: 'some'\n      }\n    },\n\n    /* Minified Concat CSS Settings */\n    concatMinify: {\n      processImport: false,\n      restructuring: false,\n      keepSpecialComments: false,\n      roundingPrecision: -1\n    },\n\n    /* Minified Concat JS */\n    concatUglify: {\n      mangle: true,\n      output: {\n        comments: 'some'\n      }\n    }\n  }\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"user.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/config/user.js                                                                                       //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n             Set-up\n*******************************/\nvar // npm dependencies\nextend = require('extend'),\n    fs = require('fs'),\n    path = require('path'),\n    requireDotFile = require('require-dot-file'),\n    // semantic.json defaults\ndefaults = require('./defaults'),\n    config = require('./project/config'),\n    // Final config object\ngulpConfig = {},\n    // semantic.json settings\nuserConfig;\n/*******************************\n          User Config\n*******************************/\n\n\ntry {\n  // looks for config file across all parent directories\n  userConfig = requireDotFile('semantic.json');\n} catch (error) {\n  if (error.code === 'MODULE_NOT_FOUND') {\n    console.error('No semantic.json config found');\n  }\n} // extend user config with defaults\n\n\ngulpConfig = !userConfig ? extend(true, {}, defaults) : extend(false, {}, defaults, userConfig);\n/*******************************\n       Add Derived Values\n*******************************/\n// adds calculated values\n\nconfig.addDerivedValues(gulpConfig);\n/*******************************\n             Export\n*******************************/\n\nmodule.exports = gulpConfig;\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"admin\":{\"components\":{\"create.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/admin/components/create.js                                                                           //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n     Create Component Repos\n*******************************/\n\n/*\n This will create individual component repositories for each SUI component\n\n  * copy component files from release\n  * create commonjs files as index.js for NPM release\n  * create release notes that filter only items related to component\n  * custom package.json file from template\n  * create bower.json from template\n  * create README from template\n  * create meteor.js file\n*/\nvar gulp = require('gulp'),\n    // node dependencies\nconsole = require('better-console'),\n    del = require('del'),\n    fs = require('fs'),\n    path = require('path'),\n    runSequence = require('run-sequence'),\n    // admin dependencies\nconcatFileNames = require('gulp-concat-filenames'),\n    debug = require('gulp-debug'),\n    flatten = require('gulp-flatten'),\n    git = require('gulp-git'),\n    jsonEditor = require('gulp-json-editor'),\n    plumber = require('gulp-plumber'),\n    rename = require('gulp-rename'),\n    replace = require('gulp-replace'),\n    tap = require('gulp-tap'),\n    util = require('gulp-util'),\n    // config\nconfig = require('../../config/user'),\n    release = require('../../config/admin/release'),\n    project = require('../../config/project/release'),\n    // shorthand\nversion = project.version,\n    output = config.paths.output;\n\nmodule.exports = function (callback) {\n  var stream,\n      index,\n      tasks = [];\n\n  for (index in release.components) {\n    var component = release.components[index]; // streams... designed to save time and make coding fun...\n\n    (function (component) {\n      var outputDirectory = path.join(release.outputRoot, component),\n          isJavascript = fs.existsSync(output.compressed + component + '.js'),\n          isCSS = fs.existsSync(output.compressed + component + '.css'),\n          capitalizedComponent = component.charAt(0).toUpperCase() + component.slice(1),\n          packageName = release.packageRoot + component,\n          repoName = release.componentRepoRoot + capitalizedComponent,\n          gitURL = 'https://github.com/' + release.org + '/' + repoName + '.git',\n          repoURL = 'https://github.com/' + release.org + '/' + repoName + '/',\n          concatSettings = {\n        newline: '',\n        root: outputDirectory,\n        prepend: \"    '\",\n        append: \"',\"\n      },\n          regExp = {\n        match: {\n          // templated values\n          name: '{component}',\n          titleName: '{Component}',\n          version: '{version}',\n          files: '{files}',\n          // release notes\n          spacedVersions: /(###.*\\n)\\n+(?=###)/gm,\n          spacedLists: /(^- .*\\n)\\n+(?=^-)/gm,\n          trim: /^\\s+|\\s+$/g,\n          unrelatedNotes: new RegExp('^((?!(^.*(' + component + ').*$|###.*)).)*$', 'gmi'),\n          whitespace: /\\n\\s*\\n\\s*\\n/gm,\n          // npm\n          componentExport: /(.*)\\$\\.fn\\.\\w+\\s*=\\s*function\\(([^\\)]*)\\)\\s*{/g,\n          componentReference: '$.fn.' + component,\n          settingsExport: /\\$\\.fn\\.\\w+\\.settings\\s*=/g,\n          settingsReference: /\\$\\.fn\\.\\w+\\.settings/g,\n          trailingComma: /,(?=[^,]*$)/,\n          jQuery: /jQuery/g\n        },\n        replace: {\n          // readme\n          name: component,\n          titleName: capitalizedComponent,\n          // release notes\n          spacedVersions: '',\n          spacedLists: '$1',\n          trim: '',\n          unrelatedNotes: '',\n          whitespace: '\\n\\n',\n          // npm\n          componentExport: 'var _module = module;\\n$1module.exports = function($2) {',\n          componentReference: '_module.exports',\n          settingsExport: 'module.exports.settings =',\n          settingsReference: '_module.exports.settings',\n          jQuery: 'require(\"jquery\")'\n        }\n      },\n          task = {\n        all: component + ' creating',\n        repo: component + ' create repo',\n        bower: component + ' create bower.json',\n        readme: component + ' create README',\n        npm: component + ' create NPM Module',\n        notes: component + ' create release notes',\n        composer: component + ' create composer.json',\n        package: component + ' create package.json',\n        meteor: component + ' create meteor package.js'\n      },\n          // paths to includable assets\n      manifest = {\n        assets: outputDirectory + '/assets/**/' + component + '?(s).*',\n        component: outputDirectory + '/' + component + '+(.js|.css)'\n      }; // copy dist files into output folder adjusting asset paths\n\n      gulp.task(task.repo, false, function () {\n        return gulp.src(release.source + component + '.*').pipe(plumber()).pipe(flatten()).pipe(replace(release.paths.source, release.paths.output)).pipe(gulp.dest(outputDirectory));\n      }); // create npm module\n\n      gulp.task(task.npm, false, function () {\n        return gulp.src(release.source + component + '!(*.min|*.map).js').pipe(plumber()).pipe(flatten()).pipe(replace(regExp.match.componentExport, regExp.replace.componentExport)).pipe(replace(regExp.match.componentReference, regExp.replace.componentReference)).pipe(replace(regExp.match.settingsExport, regExp.replace.settingsExport)).pipe(replace(regExp.match.settingsReference, regExp.replace.settingsReference)).pipe(replace(regExp.match.jQuery, regExp.replace.jQuery)).pipe(rename('index.js')).pipe(gulp.dest(outputDirectory));\n      }); // create readme\n\n      gulp.task(task.readme, false, function () {\n        return gulp.src(release.templates.readme).pipe(plumber()).pipe(flatten()).pipe(replace(regExp.match.name, regExp.replace.name)).pipe(replace(regExp.match.titleName, regExp.replace.titleName)).pipe(gulp.dest(outputDirectory));\n      }); // extend bower.json\n\n      gulp.task(task.bower, false, function () {\n        return gulp.src(release.templates.bower).pipe(plumber()).pipe(flatten()).pipe(jsonEditor(function (bower) {\n          bower.name = packageName;\n          bower.description = capitalizedComponent + ' - Semantic UI';\n\n          if (isJavascript) {\n            if (isCSS) {\n              bower.main = [component + '.js', component + '.css'];\n            } else {\n              bower.main = [component + '.js'];\n            }\n\n            bower.dependencies = {\n              jquery: '>=1.8'\n            };\n          } else {\n            bower.main = [component + '.css'];\n          }\n\n          return bower;\n        })).pipe(gulp.dest(outputDirectory));\n      }); // extend package.json\n\n      gulp.task(task.package, false, function () {\n        return gulp.src(release.templates.package).pipe(plumber()).pipe(flatten()).pipe(jsonEditor(function (npm) {\n          if (isJavascript) {\n            npm.dependencies = {\n              jquery: 'x.x.x'\n            };\n            npm.main = 'index.js';\n          }\n\n          npm.name = packageName;\n\n          if (version) {\n            npm.version = version;\n          }\n\n          npm.title = 'Semantic UI - ' + capitalizedComponent;\n          npm.description = 'Single component release of ' + component;\n          npm.repository = {\n            type: 'git',\n            url: gitURL\n          };\n          return npm;\n        })).pipe(gulp.dest(outputDirectory));\n      }); // extend composer.json\n\n      gulp.task(task.composer, false, function () {\n        return gulp.src(release.templates.composer).pipe(plumber()).pipe(flatten()).pipe(jsonEditor(function (composer) {\n          if (isJavascript) {\n            composer.dependencies = {\n              jquery: 'x.x.x'\n            };\n            composer.main = component + '.js';\n          }\n\n          composer.name = 'semantic/' + component;\n\n          if (version) {\n            composer.version = version;\n          }\n\n          composer.description = 'Single component release of ' + component;\n          return composer;\n        })).pipe(gulp.dest(outputDirectory));\n      }); // create release notes\n\n      gulp.task(task.notes, false, function () {\n        return gulp.src(release.templates.notes).pipe(plumber()).pipe(flatten()) // Remove release notes for lines not mentioning component\n        .pipe(replace(regExp.match.unrelatedNotes, regExp.replace.unrelatedNotes)).pipe(replace(regExp.match.whitespace, regExp.replace.whitespace)).pipe(replace(regExp.match.spacedVersions, regExp.replace.spacedVersions)).pipe(replace(regExp.match.spacedLists, regExp.replace.spacedLists)).pipe(replace(regExp.match.trim, regExp.replace.trim)).pipe(gulp.dest(outputDirectory));\n      }); // Creates meteor package.js\n\n      gulp.task(task.meteor, function () {\n        var filenames = '';\n        return gulp.src(manifest.component).pipe(concatFileNames('empty.txt', concatSettings)).pipe(tap(function (file) {\n          filenames += file.contents;\n        })).on('end', function () {\n          gulp.src(manifest.assets).pipe(concatFileNames('empty.txt', concatSettings)).pipe(tap(function (file) {\n            filenames += file.contents;\n          })).on('end', function () {\n            // remove trailing slash\n            filenames = filenames.replace(regExp.match.trailingComma, '').trim();\n            gulp.src(release.templates.meteor.component).pipe(plumber()).pipe(flatten()).pipe(replace(regExp.match.name, regExp.replace.name)).pipe(replace(regExp.match.titleName, regExp.replace.titleName)).pipe(replace(regExp.match.version, version)).pipe(replace(regExp.match.files, filenames)).pipe(rename(release.files.meteor)).pipe(gulp.dest(outputDirectory));\n          });\n        });\n      }); // synchronous tasks in orchestrator? I think not\n\n      gulp.task(task.all, false, function (callback) {\n        runSequence([task.repo, task.npm, task.bower, task.readme, task.package, task.composer, task.notes, task.meteor], callback);\n      });\n      tasks.push(task.all);\n    })(component);\n  }\n\n  runSequence(tasks, callback);\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"init.js\":function(require,exports,module,__filename,__dirname){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/admin/components/init.js                                                                             //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n          Init Repos\n*******************************/\n\n/*\n\n This task pulls the latest version of each component from GitHub\n\n  * Creates new repo if doesnt exist (locally & GitHub)\n  * Adds remote it doesnt exists\n  * Pulls latest changes from repo\n\n*/\nvar gulp = require('gulp'),\n    // node dependencies\nconsole = require('better-console'),\n    del = require('del'),\n    fs = require('fs'),\n    path = require('path'),\n    git = require('gulp-git'),\n    githubAPI = require('github'),\n    mkdirp = require('mkdirp'),\n    // admin files\ngithub = require('../../config/admin/github.js'),\n    release = require('../../config/admin/release'),\n    project = require('../../config/project/release'),\n    // oAuth configuration for GitHub\noAuth = fs.existsSync(__dirname + '/../../config/admin/oauth.js') ? require('../../config/admin/oauth') : false,\n    // shorthand\nversion = project.version;\n\nmodule.exports = function (callback) {\n  var index = -1,\n      total = release.components.length,\n      timer,\n      stream,\n      stepRepo;\n\n  if (!oAuth) {\n    console.error('Must add oauth token for GitHub in tasks/config/admin/oauth.js');\n    return;\n  } // Do Git commands synchronously per component, to avoid issues\n\n\n  stepRepo = function () {\n    index = index + 1;\n\n    if (index >= total) {\n      callback();\n      return;\n    }\n\n    var component = release.components[index],\n        outputDirectory = path.resolve(release.outputRoot + component),\n        capitalizedComponent = component.charAt(0).toUpperCase() + component.slice(1),\n        repoName = release.componentRepoRoot + capitalizedComponent,\n        gitOptions = {\n      cwd: outputDirectory\n    },\n        pullOptions = {\n      args: '-q',\n      cwd: outputDirectory,\n      quiet: true\n    },\n        resetOptions = {\n      args: '-q --hard',\n      cwd: outputDirectory,\n      quiet: true\n    },\n        gitURL = 'git@github.com:' + release.org + '/' + repoName + '.git',\n        repoURL = 'https://github.com/' + release.org + '/' + repoName + '/',\n        localRepoSetup = fs.existsSync(path.join(outputDirectory, '.git'));\n    console.log('Processing repository: ' + outputDirectory); // create folder if doesn't exist\n\n    if (!fs.existsSync(outputDirectory)) {\n      mkdirp.sync(outputDirectory);\n    } // clean folder\n\n\n    if (release.outputRoot.search('../repos') == 0) {\n      console.info('Cleaning dir', outputDirectory);\n      del.sync([outputDirectory + '**/*'], {\n        silent: true,\n        force: true\n      });\n    } // set-up local repo\n\n\n    function setupRepo() {\n      if (localRepoSetup) {\n        addRemote();\n      } else {\n        initRepo();\n      }\n    }\n\n    function initRepo() {\n      console.info('Initializing repository for ' + component);\n      git.init(gitOptions, function (error) {\n        if (error) {\n          console.error('Error initializing repo', error);\n        }\n\n        addRemote();\n      });\n    }\n\n    function createRepo() {\n      console.info('Creating GitHub repo ' + repoURL);\n      github.repos.createFromOrg({\n        org: release.org,\n        name: repoName,\n        homepage: release.homepage\n      }, function () {\n        setupRepo();\n      });\n    }\n\n    function addRemote() {\n      console.info('Adding remote origin as ' + gitURL);\n      git.addRemote('origin', gitURL, gitOptions, function () {\n        pullFiles();\n      });\n    }\n\n    function pullFiles() {\n      console.info('Pulling ' + component + ' files');\n      git.pull('origin', 'master', pullOptions, function (error) {\n        resetFiles();\n      });\n    }\n\n    function resetFiles() {\n      console.info('Resetting files to head');\n      git.reset('HEAD', resetOptions, function (error) {\n        nextRepo();\n      });\n    }\n\n    function nextRepo() {\n      //console.log('Sleeping for 1 second...');\n      // avoid rate throttling\n      global.clearTimeout(timer);\n      timer = global.setTimeout(function () {\n        stepRepo();\n      }, 0);\n    }\n\n    if (localRepoSetup) {\n      pullFiles();\n    } else {\n      setupRepo(); // createRepo() only use to create remote repo (easier to do manually)\n    }\n  };\n\n  stepRepo();\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"update.js\":function(require,exports,module,__filename,__dirname){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/admin/components/update.js                                                                           //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n          Update Repos\n*******************************/\n\n/*\n\n This task update all SUI individual component repos with new versions of components\n\n  * Commits changes from create repo\n  * Pushes changes to GitHub\n  * Tag new releases if version changed in main repo\n\n*/\nvar gulp = require('gulp'),\n    // node dependencies\nconsole = require('better-console'),\n    fs = require('fs'),\n    path = require('path'),\n    git = require('gulp-git'),\n    githubAPI = require('github'),\n    requireDotFile = require('require-dot-file'),\n    // admin files\ngithub = require('../../config/admin/github.js'),\n    release = require('../../config/admin/release'),\n    project = require('../../config/project/release'),\n    // oAuth configuration for GitHub\noAuth = fs.existsSync(__dirname + '/../../config/admin/oauth.js') ? require('../../config/admin/oauth') : false,\n    // shorthand\nversion = project.version;\n\nmodule.exports = function (callback) {\n  var index = -1,\n      total = release.components.length,\n      timer,\n      stream,\n      stepRepo;\n\n  if (!oAuth) {\n    console.error('Must add oauth token for GitHub in tasks/config/admin/oauth.js');\n    return;\n  } // Do Git commands synchronously per component, to avoid issues\n\n\n  stepRepo = function () {\n    index = index + 1;\n\n    if (index >= total) {\n      callback();\n      return;\n    }\n\n    var component = release.components[index],\n        outputDirectory = path.resolve(path.join(release.outputRoot, component)),\n        capitalizedComponent = component.charAt(0).toUpperCase() + component.slice(1),\n        repoName = release.componentRepoRoot + capitalizedComponent,\n        gitURL = 'https://github.com/' + release.org + '/' + repoName + '.git',\n        repoURL = 'https://github.com/' + release.org + '/' + repoName + '/',\n        commitArgs = oAuth.name !== undefined && oAuth.email !== undefined ? '--author \"' + oAuth.name + ' <' + oAuth.email + '>\"' : '',\n        componentPackage = fs.existsSync(outputDirectory + 'package.json') ? require(outputDirectory + 'package.json') : false,\n        isNewVersion = version && componentPackage.version != version,\n        commitMessage = isNewVersion ? 'Updated component to version ' + version : 'Updated files from main repo',\n        gitOptions = {\n      cwd: outputDirectory\n    },\n        commitOptions = {\n      args: commitArgs,\n      cwd: outputDirectory\n    },\n        releaseOptions = {\n      tag_name: version,\n      owner: release.org,\n      repo: repoName\n    },\n        fileModeOptions = {\n      args: 'config core.fileMode false',\n      cwd: outputDirectory\n    },\n        usernameOptions = {\n      args: 'config user.name \"' + oAuth.name + '\"',\n      cwd: outputDirectory\n    },\n        emailOptions = {\n      args: 'config user.email \"' + oAuth.email + '\"',\n      cwd: outputDirectory\n    },\n        versionOptions = {\n      args: 'rev-parse --verify HEAD',\n      cwd: outputDirectory\n    },\n        localRepoSetup = fs.existsSync(path.join(outputDirectory, '.git')),\n        canProceed = true;\n    console.info('Processing repository:' + outputDirectory);\n\n    function setConfig() {\n      git.exec(fileModeOptions, function () {\n        git.exec(usernameOptions, function () {\n          git.exec(emailOptions, function () {\n            commitFiles();\n          });\n        });\n      });\n    } // standard path\n\n\n    function commitFiles() {\n      // commit files\n      console.info('Committing ' + component + ' files', commitArgs);\n      gulp.src('./', gitOptions).pipe(git.add(gitOptions)).pipe(git.commit(commitMessage, commitOptions)).on('error', function (error) {// canProceed = false; bug in git commit <https://github.com/stevelacy/gulp-git/issues/49>\n      }).on('finish', function (callback) {\n        if (canProceed) {\n          pushFiles();\n        } else {\n          console.info('Nothing new to commit');\n          nextRepo();\n        }\n      });\n    } // push changes to remote\n\n\n    function pushFiles() {\n      console.info('Pushing files for ' + component);\n      git.push('origin', 'master', {\n        args: '',\n        cwd: outputDirectory\n      }, function (error) {\n        console.info('Push completed successfully');\n        getSHA();\n      });\n    } // gets SHA of last commit\n\n\n    function getSHA() {\n      git.exec(versionOptions, function (error, version) {\n        version = version.trim();\n        createRelease(version);\n      });\n    } // create release on GitHub.com\n\n\n    function createRelease(version) {\n      if (version) {\n        releaseOptions.target_commitish = version;\n      }\n\n      github.repos.createRelease(releaseOptions, function () {\n        nextRepo();\n      });\n    } // Steps to next repository\n\n\n    function nextRepo() {\n      console.log('Sleeping for 1 second...'); // avoid rate throttling\n\n      global.clearTimeout(timer);\n      timer = global.setTimeout(stepRepo, 100);\n    }\n\n    if (localRepoSetup) {\n      setConfig();\n    } else {\n      console.error('Repository must be setup before running update components');\n    }\n  };\n\n  stepRepo();\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"distributions\":{\"create.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/admin/distributions/create.js                                                                        //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n     Create Distributions\n*******************************/\n\n/*\n This will create individual distribution repositories for each SUI distribution\n\n  * copy distribution files to release\n  * update package.json file\n*/\nvar gulp = require('gulp'),\n    // node dependencies\nconsole = require('better-console'),\n    del = require('del'),\n    fs = require('fs'),\n    path = require('path'),\n    runSequence = require('run-sequence'),\n    mergeStream = require('merge-stream'),\n    // admin dependencies\nconcatFileNames = require('gulp-concat-filenames'),\n    debug = require('gulp-debug'),\n    flatten = require('gulp-flatten'),\n    git = require('gulp-git'),\n    jsonEditor = require('gulp-json-editor'),\n    plumber = require('gulp-plumber'),\n    rename = require('gulp-rename'),\n    replace = require('gulp-replace'),\n    tap = require('gulp-tap'),\n    // config\nconfig = require('../../config/user'),\n    release = require('../../config/admin/release'),\n    project = require('../../config/project/release'),\n    // shorthand\nversion = project.version,\n    output = config.paths.output;\n\nmodule.exports = function (callback) {\n  var stream,\n      index,\n      tasks = [];\n\n  for (index in release.distributions) {\n    var distribution = release.distributions[index]; // streams... designed to save time and make coding fun...\n\n    (function (distribution) {\n      var distLowerCase = distribution.toLowerCase(),\n          outputDirectory = path.join(release.outputRoot, distLowerCase),\n          packageFile = path.join(outputDirectory, release.files.npm),\n          repoName = release.distRepoRoot + distribution,\n          regExp = {\n        match: {\n          files: '{files}',\n          version: '{version}'\n        }\n      },\n          task = {\n        all: distribution + ' copying files',\n        repo: distribution + ' create repo',\n        meteor: distribution + ' create meteor package.js',\n        package: distribution + ' create package.json'\n      },\n          gatherFiles,\n          createList; // get files for meteor\n\n      gatherFiles = function (dir) {\n        var dir = dir || path.resolve('.'),\n            list = fs.readdirSync(dir),\n            omitted = ['.git', 'node_modules', 'package.js', 'LICENSE', 'README.md', 'package.json', 'bower.json', '.gitignore'],\n            files = [];\n        list.forEach(function (file) {\n          var isOmitted = omitted.indexOf(file) > -1,\n              filePath = path.join(dir, file),\n              stat = fs.statSync(filePath);\n\n          if (!isOmitted) {\n            if (stat && stat.isDirectory()) {\n              files = files.concat(gatherFiles(filePath));\n            } else {\n              files.push(filePath.replace(outputDirectory + path.sep, ''));\n            }\n          }\n        });\n        return files;\n      }; // spaces out list correctly\n\n\n      createList = function (files) {\n        var filenames = '';\n\n        for (var file in files) {\n          if (file == files.length - 1) {\n            filenames += \"'\" + files[file] + \"'\";\n          } else {\n            filenames += \"'\" + files[file] + \"',\\n    \";\n          }\n        }\n\n        return filenames;\n      };\n\n      gulp.task(task.meteor, function () {\n        var files = gatherFiles(outputDirectory),\n            filenames = createList(files);\n        gulp.src(release.templates.meteor[distLowerCase]).pipe(plumber()).pipe(flatten()).pipe(replace(regExp.match.version, version)).pipe(replace(regExp.match.files, filenames)).pipe(rename(release.files.meteor)).pipe(gulp.dest(outputDirectory));\n      });\n\n      if (distribution == 'CSS') {\n        gulp.task(task.repo, function () {\n          var themes, components, releases;\n          themes = gulp.src('dist/themes/default/**/*', {\n            base: 'dist/'\n          }).pipe(gulp.dest(outputDirectory));\n          components = gulp.src('dist/components/*', {\n            base: 'dist/'\n          }).pipe(gulp.dest(outputDirectory));\n          releases = gulp.src('dist/*', {\n            base: 'dist/'\n          }).pipe(gulp.dest(outputDirectory));\n          return mergeStream(themes, components, releases);\n        });\n      } else if (distribution == 'LESS') {\n        gulp.task(task.repo, function () {\n          var definitions, themeImport, themeConfig, siteTheme, themes;\n          definitions = gulp.src('src/definitions/**/*', {\n            base: 'src/'\n          }).pipe(gulp.dest(outputDirectory));\n          themeImport = gulp.src('src/semantic.less', {\n            base: 'src/'\n          }).pipe(gulp.dest(outputDirectory));\n          themeImport = gulp.src('src/theme.less', {\n            base: 'src/'\n          }).pipe(gulp.dest(outputDirectory));\n          themeConfig = gulp.src('src/theme.config.example', {\n            base: 'src/'\n          }).pipe(gulp.dest(outputDirectory));\n          siteTheme = gulp.src('src/_site/**/*', {\n            base: 'src/'\n          }).pipe(gulp.dest(outputDirectory));\n          themes = gulp.src('src/themes/**/*', {\n            base: 'src/'\n          }).pipe(gulp.dest(outputDirectory));\n          return mergeStream(definitions, themeImport, themeConfig, siteTheme, themes);\n        });\n      } // extend package.json\n\n\n      gulp.task(task.package, function () {\n        return gulp.src(packageFile).pipe(plumber()).pipe(jsonEditor(function (package) {\n          if (version) {\n            package.version = version;\n          }\n\n          return package;\n        })).pipe(gulp.dest(outputDirectory));\n      });\n      tasks.push(task.meteor);\n      tasks.push(task.repo);\n      tasks.push(task.package);\n    })(distribution);\n  }\n\n  runSequence(tasks, callback);\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"init.js\":function(require,exports,module,__filename,__dirname){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/admin/distributions/init.js                                                                          //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n        Init Dist Repos\n*******************************/\n\n/*\n\n This task pulls the latest version of distribution from GitHub\n\n  * Creates new repo if doesnt exist (locally & GitHub)\n  * Adds remote it doesnt exists\n  * Pulls latest changes from repo\n\n*/\nvar gulp = require('gulp'),\n    // node dependencies\nconsole = require('better-console'),\n    del = require('del'),\n    fs = require('fs'),\n    path = require('path'),\n    git = require('gulp-git'),\n    githubAPI = require('github'),\n    mkdirp = require('mkdirp'),\n    // admin files\ngithub = require('../../config/admin/github.js'),\n    release = require('../../config/admin/release'),\n    project = require('../../config/project/release'),\n    // oAuth configuration for GitHub\noAuth = fs.existsSync(__dirname + '/../../config/admin/oauth.js') ? require('../../config/admin/oauth') : false,\n    // shorthand\nversion = project.version;\n\nmodule.exports = function (callback) {\n  var index = -1,\n      total = release.distributions.length,\n      timer,\n      stream,\n      stepRepo;\n\n  if (!oAuth) {\n    console.error('Must add oauth token for GitHub in tasks/config/admin/oauth.js');\n    return;\n  } // Do Git commands synchronously per component, to avoid issues\n\n\n  stepRepo = function () {\n    index = index + 1;\n\n    if (index >= total) {\n      callback();\n      return;\n    }\n\n    var component = release.distributions[index],\n        lowerCaseComponent = component.toLowerCase(),\n        outputDirectory = path.resolve(release.outputRoot + lowerCaseComponent),\n        repoName = release.distRepoRoot + component,\n        gitOptions = {\n      cwd: outputDirectory\n    },\n        pullOptions = {\n      args: '-q',\n      cwd: outputDirectory,\n      quiet: true\n    },\n        resetOptions = {\n      args: '-q --hard',\n      cwd: outputDirectory,\n      quiet: true\n    },\n        gitURL = 'git@github.com:' + release.org + '/' + repoName + '.git',\n        repoURL = 'https://github.com/' + release.org + '/' + repoName + '/',\n        localRepoSetup = fs.existsSync(path.join(outputDirectory, '.git'));\n    console.log('Processing repository: ' + outputDirectory); // create folder if doesn't exist\n\n    if (!fs.existsSync(outputDirectory)) {\n      mkdirp.sync(outputDirectory);\n    } // clean folder\n\n\n    if (release.outputRoot.search('../repos') == 0) {\n      console.info('Cleaning dir', outputDirectory);\n      del.sync([outputDirectory + '**/*'], {\n        silent: true,\n        force: true\n      });\n    } // set-up local repo\n\n\n    function setupRepo() {\n      if (localRepoSetup) {\n        addRemote();\n      } else {\n        initRepo();\n      }\n    }\n\n    function initRepo() {\n      console.info('Initializing repository for ' + component);\n      git.init(gitOptions, function (error) {\n        if (error) {\n          console.error('Error initializing repo', error);\n        }\n\n        addRemote();\n      });\n    }\n\n    function createRepo() {\n      console.info('Creating GitHub repo ' + repoURL);\n      github.repos.createFromOrg({\n        org: release.org,\n        name: repoName,\n        homepage: release.homepage\n      }, function () {\n        setupRepo();\n      });\n    }\n\n    function addRemote() {\n      console.info('Adding remote origin as ' + gitURL);\n      git.addRemote('origin', gitURL, gitOptions, function () {\n        pullFiles();\n      });\n    }\n\n    function pullFiles() {\n      console.info('Pulling ' + component + ' files');\n      git.pull('origin', 'master', pullOptions, function (error) {\n        resetFiles();\n      });\n    }\n\n    function resetFiles() {\n      console.info('Resetting files to head');\n      git.reset('HEAD', resetOptions, function (error) {\n        nextRepo();\n      });\n    }\n\n    function nextRepo() {\n      //console.log('Sleeping for 1 second...');\n      // avoid rate throttling\n      global.clearTimeout(timer);\n      timer = global.setTimeout(function () {\n        stepRepo();\n      }, 0);\n    }\n\n    if (localRepoSetup) {\n      pullFiles();\n    } else {\n      setupRepo(); // createRepo() only use to create remote repo (easier to do manually)\n    }\n  };\n\n  stepRepo();\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"update.js\":function(require,exports,module,__filename,__dirname){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/admin/distributions/update.js                                                                        //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n          Update Repos\n*******************************/\n\n/*\n\n This task update all SUI individual distribution repos with new versions of distributions\n\n  * Commits changes from create repo\n  * Pushes changes to GitHub\n  * Tag new releases if version changed in main repo\n\n*/\nvar gulp = require('gulp'),\n    // node dependencies\nconsole = require('better-console'),\n    fs = require('fs'),\n    path = require('path'),\n    git = require('gulp-git'),\n    githubAPI = require('github'),\n    requireDotFile = require('require-dot-file'),\n    // admin files\ngithub = require('../../config/admin/github.js'),\n    release = require('../../config/admin/release'),\n    project = require('../../config/project/release'),\n    // oAuth configuration for GitHub\noAuth = fs.existsSync(__dirname + '/../../config/admin/oauth.js') ? require('../../config/admin/oauth') : false,\n    // shorthand\nversion = project.version;\n\nmodule.exports = function (callback) {\n  var index = -1,\n      total = release.distributions.length,\n      timer,\n      stream,\n      stepRepo;\n\n  if (!oAuth) {\n    console.error('Must add oauth token for GitHub in tasks/config/admin/oauth.js');\n    return;\n  } // Do Git commands synchronously per distribution, to avoid issues\n\n\n  stepRepo = function () {\n    index = index + 1;\n\n    if (index >= total) {\n      callback();\n      return;\n    }\n\n    var distribution = release.distributions[index],\n        outputDirectory = path.resolve(path.join(release.outputRoot, distribution.toLowerCase())),\n        repoName = release.distRepoRoot + distribution,\n        commitArgs = oAuth.name !== undefined && oAuth.email !== undefined ? '--author \"' + oAuth.name + ' <' + oAuth.email + '>\"' : '',\n        distributionPackage = fs.existsSync(outputDirectory + 'package.json') ? require(outputDirectory + 'package.json') : false,\n        isNewVersion = version && distributionPackage.version != version,\n        commitMessage = isNewVersion ? 'Updated distribution to version ' + version : 'Updated files from main repo',\n        gitOptions = {\n      cwd: outputDirectory\n    },\n        commitOptions = {\n      args: commitArgs,\n      cwd: outputDirectory\n    },\n        releaseOptions = {\n      tag_name: version,\n      owner: release.org,\n      repo: repoName\n    },\n        fileModeOptions = {\n      args: 'config core.fileMode false',\n      cwd: outputDirectory\n    },\n        usernameOptions = {\n      args: 'config user.name \"' + oAuth.name + '\"',\n      cwd: outputDirectory\n    },\n        emailOptions = {\n      args: 'config user.email \"' + oAuth.email + '\"',\n      cwd: outputDirectory\n    },\n        versionOptions = {\n      args: 'rev-parse --verify HEAD',\n      cwd: outputDirectory\n    },\n        localRepoSetup = fs.existsSync(path.join(outputDirectory, '.git')),\n        canProceed = true;\n    console.info('Processing repository:' + outputDirectory);\n\n    function setConfig() {\n      git.exec(fileModeOptions, function () {\n        git.exec(usernameOptions, function () {\n          git.exec(emailOptions, function () {\n            commitFiles();\n          });\n        });\n      });\n    } // standard path\n\n\n    function commitFiles() {\n      // commit files\n      console.info('Committing ' + distribution + ' files', commitArgs);\n      gulp.src('./', gitOptions).pipe(git.add(gitOptions)).pipe(git.commit(commitMessage, commitOptions)).on('error', function (error) {// canProceed = false; bug in git commit <https://github.com/stevelacy/gulp-git/issues/49>\n      }).on('finish', function (callback) {\n        if (canProceed) {\n          pushFiles();\n        } else {\n          console.info('Nothing new to commit');\n          nextRepo();\n        }\n      });\n    } // push changes to remote\n\n\n    function pushFiles() {\n      console.info('Pushing files for ' + distribution);\n      git.push('origin', 'master', {\n        args: '',\n        cwd: outputDirectory\n      }, function (error) {\n        console.info('Push completed successfully');\n        getSHA();\n      });\n    } // gets SHA of last commit\n\n\n    function getSHA() {\n      git.exec(versionOptions, function (error, version) {\n        version = version.trim();\n        createRelease(version);\n      });\n    } // create release on GitHub.com\n\n\n    function createRelease(version) {\n      if (version) {\n        releaseOptions.target_commitish = version;\n      }\n\n      github.repos.createRelease(releaseOptions, function () {\n        nextRepo();\n      });\n    } // Steps to next repository\n\n\n    function nextRepo() {\n      console.log('Sleeping for 1 second...'); // avoid rate throttling\n\n      global.clearTimeout(timer);\n      timer = global.setTimeout(stepRepo, 100);\n    }\n\n    if (localRepoSetup) {\n      setConfig();\n    } else {\n      console.error('Repository must be setup before running update distributions');\n    }\n  };\n\n  stepRepo();\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"publish.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/admin/publish.js                                                                                     //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n          Release All\n*******************************/\n\n/*\n This task update all SUI individual component repos with new versions of components\n\n  * Commits changes from create components to GitHub and Tags\n\n*/\nvar runSequence = require('run-sequence');\n/* Release All */\n\n\nmodule.exports = function (callback) {\n  runSequence('update distributions', // commit less/css versions to github\n  'update components', // commit components to github\n  callback);\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"register.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/admin/register.js                                                                                    //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n          Register PM\n*******************************/\n\n/*\n  Task to register component repos with Package Managers\n  * Registers component with bower\n  * Registers component with NPM\n*/\nvar // node dependencies\nprocess = require('child_process'),\n    // config\nrelease = require('../config/admin/release'),\n    // register components and distributions\nrepos = release.distributions.concat(release.components),\n    total = repos.length,\n    index = -1,\n    stream,\n    stepRepo;\n\nmodule.exports = function (callback) {\n  console.log('Registering repos with package managers'); // Do Git commands synchronously per component, to avoid issues\n\n  stepRepo = function () {\n    index = index + 1;\n\n    if (index >= total) {\n      callback();\n      return;\n    }\n\n    var repo = repos[index].toLowerCase(),\n        outputDirectory = release.outputRoot + repo + '/',\n        exec = process.exec,\n        execSettings = {\n      cwd: outputDirectory\n    },\n        updateNPM = 'npm publish;meteor publish;';\n    /* Register with NPM */\n\n    exec(updateNPM, execSettings, function (err, stdout, stderr) {\n      console.log(err, stdout, stderr);\n      stepRepo();\n    });\n  };\n\n  stepRepo();\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"release.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/admin/release.js                                                                                     //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n          Release\n*******************************/\n\n/*\n This task update all SUI individual component repos with new versions of components\n\n  * Initializes repositories with current versions\n  * Creates local files at ../distributions/ with each repo for release\n\n*/\nvar runSequence = require('run-sequence');\n/* Release All */\n\n\nmodule.exports = function (callback) {\n  runSequence( //'build', // build Semantic\n  'init distributions', // sync with current github version\n  'create distributions', // update each repo with changes from master repo\n  'init components', // sync with current github version\n  'create components', // update each repo\n  callback);\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"build\":{\"assets.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/build/assets.js                                                                                      //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n          Build Task\n*******************************/\nvar gulp = require('gulp'),\n    // gulp dependencies\nchmod = require('gulp-chmod'),\n    gulpif = require('gulp-if'),\n    // config\nconfig = require('../config/user'),\n    tasks = require('../config/tasks'),\n    // shorthand\nglobs = config.globs,\n    assets = config.paths.assets,\n    output = config.paths.output,\n    source = config.paths.source,\n    log = tasks.log;\n\nmodule.exports = function (callback) {\n  console.info('Building assets'); // copy assets\n\n  return gulp.src(source.themes + '/**/assets/**/*.*').pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.themes));\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"css.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/build/css.js                                                                                         //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n          Build Task\n*******************************/\nvar gulp = require('gulp'),\n    // node dependencies\nconsole = require('better-console'),\n    fs = require('fs'),\n    // gulp dependencies\nautoprefixer = require('gulp-autoprefixer'),\n    chmod = require('gulp-chmod'),\n    clone = require('gulp-clone'),\n    flatten = require('gulp-flatten'),\n    gulpif = require('gulp-if'),\n    less = require('gulp-less'),\n    minifyCSS = require('gulp-clean-css'),\n    plumber = require('gulp-plumber'),\n    print = require('gulp-print'),\n    rename = require('gulp-rename'),\n    replace = require('gulp-replace'),\n    runSequence = require('run-sequence'),\n    // config\nconfig = require('../config/user'),\n    tasks = require('../config/tasks'),\n    install = require('../config/project/install'),\n    // shorthand\nglobs = config.globs,\n    assets = config.paths.assets,\n    output = config.paths.output,\n    source = config.paths.source,\n    banner = tasks.banner,\n    comments = tasks.regExp.comments,\n    log = tasks.log,\n    settings = tasks.settings; // add internal tasks (concat release)\n\n\nrequire('../collections/internal')(gulp);\n\nmodule.exports = function (callback) {\n  var tasksCompleted = 0,\n      maybeCallback = function () {\n    tasksCompleted++;\n\n    if (tasksCompleted === 2) {\n      callback();\n    }\n  },\n      stream,\n      compressedStream,\n      uncompressedStream;\n\n  console.info('Building CSS');\n\n  if (!install.isSetup()) {\n    console.error('Cannot build files. Run \"gulp install\" to set-up Semantic');\n    return;\n  } // unified css stream\n\n\n  stream = gulp.src(source.definitions + '/**/' + globs.components + '.less').pipe(plumber(settings.plumber.less)).pipe(less(settings.less)).pipe(autoprefixer(settings.prefix)).pipe(replace(comments.variables.in, comments.variables.out)).pipe(replace(comments.license.in, comments.license.out)).pipe(replace(comments.large.in, comments.large.out)).pipe(replace(comments.small.in, comments.small.out)).pipe(replace(comments.tiny.in, comments.tiny.out)).pipe(flatten()); // two concurrent streams from same source to concat release\n\n  uncompressedStream = stream.pipe(clone());\n  compressedStream = stream.pipe(clone()); // uncompressed component css\n\n  uncompressedStream.pipe(plumber()).pipe(replace(assets.source, assets.uncompressed)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.uncompressed)).pipe(print(log.created)).on('end', function () {\n    runSequence('package uncompressed css', maybeCallback);\n  }); // compressed component css\n\n  compressedStream = stream.pipe(plumber()).pipe(clone()).pipe(replace(assets.source, assets.compressed)).pipe(minifyCSS(settings.minify)).pipe(rename(settings.rename.minCSS)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.compressed)).pipe(print(log.created)).on('end', function () {\n    runSequence('package compressed css', maybeCallback);\n  });\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"javascript.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/build/javascript.js                                                                                  //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n          Build Task\n*******************************/\nvar gulp = require('gulp'),\n    // node dependencies\nconsole = require('better-console'),\n    fs = require('fs'),\n    // gulp dependencies\nchmod = require('gulp-chmod'),\n    flatten = require('gulp-flatten'),\n    gulpif = require('gulp-if'),\n    plumber = require('gulp-plumber'),\n    print = require('gulp-print'),\n    rename = require('gulp-rename'),\n    replace = require('gulp-replace'),\n    uglify = require('gulp-uglify'),\n    // config\nconfig = require('../config/user'),\n    tasks = require('../config/tasks'),\n    install = require('../config/project/install'),\n    // shorthand\nglobs = config.globs,\n    assets = config.paths.assets,\n    output = config.paths.output,\n    source = config.paths.source,\n    banner = tasks.banner,\n    comments = tasks.regExp.comments,\n    log = tasks.log,\n    settings = tasks.settings; // add internal tasks (concat release)\n\n\nrequire('../collections/internal')(gulp);\n\nmodule.exports = function (callback) {\n  var stream, compressedStream, uncompressedStream;\n  console.info('Building Javascript');\n\n  if (!install.isSetup()) {\n    console.error('Cannot build files. Run \"gulp install\" to set-up Semantic');\n    return;\n  } // copy source javascript\n\n\n  gulp.src(source.definitions + '/**/' + globs.components + '.js').pipe(plumber()).pipe(flatten()).pipe(replace(comments.license.in, comments.license.out)).pipe(gulp.dest(output.uncompressed)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(print(log.created)).pipe(uglify(settings.uglify)).pipe(rename(settings.rename.minJS)).pipe(gulp.dest(output.compressed)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(print(log.created)).on('end', function () {\n    gulp.start('package compressed js');\n    gulp.start('package uncompressed js');\n    callback();\n  });\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"collections\":{\"admin.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/collections/admin.js                                                                                 //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n     Admin Task Collection\n*******************************/\n\n/*\n  This are tasks to be run by project maintainers\n  - Creating Component Repos\n  - Syncing with GitHub via APIs\n  - Modifying package files\n*/\n\n/*******************************\n             Tasks\n*******************************/\nmodule.exports = function (gulp) {\n  var // less/css distributions\n  initComponents = require('../admin/components/init'),\n      createComponents = require('../admin/components/create'),\n      updateComponents = require('../admin/components/update'),\n      // single component releases\n  initDistributions = require('../admin/distributions/init'),\n      createDistributions = require('../admin/distributions/create'),\n      updateDistributions = require('../admin/distributions/update'),\n      release = require('../admin/release'),\n      publish = require('../admin/publish'),\n      register = require('../admin/register');\n  /* Release */\n\n\n  gulp.task('init distributions', 'Grabs each component from GitHub', initDistributions);\n  gulp.task('create distributions', 'Updates files in each repo', createDistributions);\n  gulp.task('init components', 'Grabs each component from GitHub', initComponents);\n  gulp.task('create components', 'Updates files in each repo', createComponents);\n  /* Publish */\n\n  gulp.task('update distributions', 'Commits component updates from create to GitHub', updateDistributions);\n  gulp.task('update components', 'Commits component updates from create to GitHub', updateComponents);\n  /* Tasks */\n\n  gulp.task('release', 'Stages changes in GitHub repos for all distributions', release);\n  gulp.task('publish', 'Publishes all releases (components, package)', publish);\n  gulp.task('register', 'Registers all packages with NPM', register);\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"build.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/collections/build.js                                                                                 //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n        Define Sub-Tasks\n*******************************/\nmodule.exports = function (gulp) {\n  var // build sub-tasks\n  buildJS = require('./../build/javascript'),\n      buildCSS = require('./../build/css'),\n      buildAssets = require('./../build/assets'); // in case these tasks are undefined during import, less make sure these are available in scope\n\n\n  gulp.task('build-javascript', 'Builds all javascript from source', buildJS);\n  gulp.task('build-css', 'Builds all css from source', buildCSS);\n  gulp.task('build-assets', 'Copies all assets from source', buildAssets);\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"internal.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/collections/internal.js                                                                              //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n    Internal Task Collection\n*******************************/\n\n/* These tasks create packaged files from **dist** components\n   Not intended to be called directly by a user because\n   these do not build fresh from **src**\n*/\nmodule.exports = function (gulp) {\n  var // node dependencies\n  fs = require('fs'),\n      chmod = require('gulp-chmod'),\n      concat = require('gulp-concat'),\n      concatCSS = require('gulp-concat-css'),\n      clone = require('gulp-clone'),\n      dedupe = require('gulp-dedupe'),\n      gulpif = require('gulp-if'),\n      header = require('gulp-header'),\n      less = require('gulp-less'),\n      minifyCSS = require('gulp-clean-css'),\n      plumber = require('gulp-plumber'),\n      print = require('gulp-print'),\n      rename = require('gulp-rename'),\n      replace = require('gulp-replace'),\n      uglify = require('gulp-uglify'),\n      // user config\n  config = require('./../config/user'),\n      docsConfig = require('./../config/docs'),\n      // install config\n  tasks = require('./../config/tasks'),\n      release = require('./../config/project/release'),\n      // shorthand\n  globs = config.globs,\n      assets = config.paths.assets,\n      output = config.paths.output,\n      banner = tasks.banner,\n      filenames = tasks.filenames,\n      log = tasks.log,\n      settings = tasks.settings;\n  /*--------------\n      Packaged\n  ---------------*/\n\n\n  gulp.task('package uncompressed css', function () {\n    return gulp.src(output.uncompressed + '/**/' + globs.components + globs.ignored + '.css').pipe(plumber()).pipe(dedupe()).pipe(replace(assets.uncompressed, assets.packaged)).pipe(concatCSS(filenames.concatenatedCSS, settings.concatCSS)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(header(banner, settings.header)).pipe(gulp.dest(output.packaged)).pipe(print(log.created));\n  });\n  gulp.task('package compressed css', function () {\n    return gulp.src(output.uncompressed + '/**/' + globs.components + globs.ignored + '.css').pipe(plumber()).pipe(dedupe()).pipe(replace(assets.uncompressed, assets.packaged)).pipe(concatCSS(filenames.concatenatedMinifiedCSS, settings.concatCSS)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(minifyCSS(settings.concatMinify)).pipe(header(banner, settings.header)).pipe(gulp.dest(output.packaged)).pipe(print(log.created));\n  });\n  gulp.task('package uncompressed js', function () {\n    return gulp.src(output.uncompressed + '/**/' + globs.components + globs.ignored + '.js').pipe(plumber()).pipe(dedupe()).pipe(replace(assets.uncompressed, assets.packaged)).pipe(concat(filenames.concatenatedJS)).pipe(header(banner, settings.header)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.packaged)).pipe(print(log.created));\n  });\n  gulp.task('package compressed js', function () {\n    return gulp.src(output.uncompressed + '/**/' + globs.components + globs.ignored + '.js').pipe(plumber()).pipe(dedupe()).pipe(replace(assets.uncompressed, assets.packaged)).pipe(concat(filenames.concatenatedMinifiedJS)).pipe(uglify(settings.concatUglify)).pipe(header(banner, settings.header)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.packaged)).pipe(print(log.created));\n  });\n  /*--------------\n        RTL\n  ---------------*/\n\n  if (config.rtl) {\n    gulp.task('package uncompressed rtl css', function () {\n      return gulp.src(output.uncompressed + '/**/' + globs.components + globs.ignoredRTL + '.rtl.css').pipe(dedupe()).pipe(replace(assets.uncompressed, assets.packaged)).pipe(concatCSS(filenames.concatenatedRTLCSS, settings.concatCSS)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(header(banner, settings.header)).pipe(gulp.dest(output.packaged)).pipe(print(log.created));\n    });\n    gulp.task('package compressed rtl css', function () {\n      return gulp.src(output.uncompressed + '/**/' + globs.components + globs.ignoredRTL + '.rtl.css').pipe(dedupe()).pipe(replace(assets.uncompressed, assets.packaged)).pipe(concatCSS(filenames.concatenatedMinifiedRTLCSS, settings.concatCSS)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(minifyCSS(settings.concatMinify)).pipe(header(banner, settings.header)).pipe(gulp.dest(output.packaged)).pipe(print(log.created));\n    });\n    gulp.task('package uncompressed docs css', function () {\n      return gulp.src(output.uncompressed + '/**/' + globs.components + globs.ignored + '.css').pipe(dedupe()).pipe(plumber()).pipe(replace(assets.uncompressed, assets.packaged)).pipe(concatCSS(filenames.concatenatedCSS, settings.concatCSS)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.packaged)).pipe(print(log.created));\n    });\n    gulp.task('package compressed docs css', function () {\n      return gulp.src(output.uncompressed + '/**/' + globs.components + globs.ignored + '.css').pipe(dedupe()).pipe(plumber()).pipe(replace(assets.uncompressed, assets.packaged)).pipe(concatCSS(filenames.concatenatedMinifiedCSS, settings.concatCSS)).pipe(minifyCSS(settings.concatMinify)).pipe(header(banner, settings.header)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.packaged)).pipe(print(log.created));\n    });\n  }\n  /*--------------\n        Docs\n  ---------------*/\n\n\n  var docsOutput = docsConfig.paths.output;\n  gulp.task('package uncompressed docs css', function () {\n    return gulp.src(docsOutput.uncompressed + '/**/' + globs.components + globs.ignored + '.css').pipe(dedupe()).pipe(plumber()).pipe(replace(assets.uncompressed, assets.packaged)).pipe(concatCSS(filenames.concatenatedCSS, settings.concatCSS)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(docsOutput.packaged)).pipe(print(log.created));\n  });\n  gulp.task('package compressed docs css', function () {\n    return gulp.src(docsOutput.uncompressed + '/**/' + globs.components + globs.ignored + '.css').pipe(dedupe()).pipe(plumber()).pipe(replace(assets.uncompressed, assets.packaged)).pipe(concatCSS(filenames.concatenatedMinifiedCSS, settings.concatCSS)).pipe(minifyCSS(settings.concatMinify)).pipe(header(banner, settings.header)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(docsOutput.packaged)).pipe(print(log.created));\n  });\n  gulp.task('package uncompressed docs js', function () {\n    return gulp.src(docsOutput.uncompressed + '/**/' + globs.components + globs.ignored + '.js').pipe(dedupe()).pipe(plumber()).pipe(replace(assets.uncompressed, assets.packaged)).pipe(concat(filenames.concatenatedJS)).pipe(header(banner, settings.header)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(docsOutput.packaged)).pipe(print(log.created));\n  });\n  gulp.task('package compressed docs js', function () {\n    return gulp.src(docsOutput.uncompressed + '/**/' + globs.components + globs.ignored + '.js').pipe(dedupe()).pipe(plumber()).pipe(replace(assets.uncompressed, assets.packaged)).pipe(concat(filenames.concatenatedMinifiedJS)).pipe(uglify(settings.concatUglify)).pipe(header(banner, settings.header)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(docsOutput.packaged)).pipe(print(log.created));\n  });\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"rtl.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/collections/rtl.js                                                                                   //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n        Define Sub-Tasks\n*******************************/\nmodule.exports = function (gulp) {\n  var // rtl\n  buildRTL = require('./../rtl/build'),\n      watchRTL = require('./../rtl/watch');\n\n  gulp.task('watch-rtl', 'Build all files as RTL', watchRTL);\n  gulp.task('build-rtl', 'Watch files as RTL ', buildRTL);\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"docs\":{\"build.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/docs/build.js                                                                                        //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n           Build Docs\n*******************************/\nvar gulp = require('gulp'),\n    // node dependencies\nconsole = require('better-console'),\n    fs = require('fs'),\n    map = require('map-stream'),\n    // gulp dependencies\nautoprefixer = require('gulp-autoprefixer'),\n    chmod = require('gulp-chmod'),\n    clone = require('gulp-clone'),\n    flatten = require('gulp-flatten'),\n    gulpif = require('gulp-if'),\n    header = require('gulp-header'),\n    less = require('gulp-less'),\n    minifyCSS = require('gulp-clean-css'),\n    plumber = require('gulp-plumber'),\n    print = require('gulp-print'),\n    rename = require('gulp-rename'),\n    replace = require('gulp-replace'),\n    uglify = require('gulp-uglify'),\n    // user config\nconfig = require('../config/docs'),\n    // install config\ntasks = require('../config/tasks'),\n    configSetup = require('../config/project/config'),\n    install = require('../config/project/install'),\n    // metadata parsing\nmetadata = require('./metadata'),\n    // shorthand\nglobs,\n    assets,\n    output,\n    source,\n    banner = tasks.banner,\n    comments = tasks.regExp.comments,\n    log = tasks.log,\n    settings = tasks.settings; // add internal tasks (concat release)\n\n\nrequire('../collections/internal')(gulp);\n\nmodule.exports = function (callback) {\n  var stream, compressedStream, uncompressedStream; // use a different config\n\n  config = configSetup.addDerivedValues(config); // shorthand\n\n  globs = config.globs;\n  assets = config.paths.assets;\n  output = config.paths.output;\n  source = config.paths.source;\n  /*--------------\n   Parse metadata\n   ---------------*/\n  // parse all *.html.eco in docs repo, data will end up in\n  // metadata.result object.  Note this assumes that the docs\n  // repository is present and in proper directory location as\n  // specified by docs.json.\n\n  console.info('Building Metadata');\n  gulp.src(config.paths.template.eco + globs.eco).pipe(map(metadata.parser)).on('end', function () {\n    fs.writeFile(output.metadata + '/metadata.json', JSON.stringify(metadata.result, null, 2));\n  });\n  /*--------------\n    Copy Examples\n  ---------------*/\n\n  console.info('Copying examples'); // copy src/ to server\n\n  gulp.src('examples/**/*.*').pipe(gulp.dest(output.examples)).pipe(print(log.created));\n  /*--------------\n     Copy Source\n  ---------------*/\n\n  console.info('Copying LESS source'); // copy src/ to server\n\n  gulp.src('src/**/*.*').pipe(gulp.dest(output.less)).pipe(print(log.created));\n  /*--------------\n        Build\n  ---------------*/\n\n  console.info('Building Semantic for docs');\n\n  if (!install.isSetup()) {\n    console.error('Cannot build files. Run \"gulp install\" to set-up Semantic');\n    return;\n  } // unified css stream\n\n\n  stream = gulp.src(source.definitions + '/**/' + globs.components + '.less').pipe(plumber()).pipe(less(settings.less)).pipe(autoprefixer(settings.prefix)).pipe(flatten()); // two concurrent streams from same source to concat release\n\n  uncompressedStream = stream.pipe(clone());\n  compressedStream = stream.pipe(clone());\n  uncompressedStream.pipe(plumber()).pipe(replace(comments.variables.in, comments.variables.out)).pipe(replace(comments.large.in, comments.large.out)).pipe(replace(comments.small.in, comments.small.out)).pipe(replace(comments.tiny.in, comments.tiny.out)).pipe(replace(assets.source, assets.uncompressed)).pipe(header(banner, settings.header)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.uncompressed)).pipe(print(log.created)).on('end', function () {\n    gulp.start('package uncompressed docs css');\n  });\n  compressedStream = stream.pipe(plumber()).pipe(clone()).pipe(replace(assets.source, assets.compressed)).pipe(minifyCSS(settings.minify)).pipe(rename(settings.rename.minCSS)).pipe(header(banner, settings.header)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.compressed)).pipe(print(log.created)).on('end', function () {\n    callback();\n    gulp.start('package compressed docs css');\n  }); // copy assets\n\n  gulp.src(source.themes + '/**/assets/**/*.*').pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.themes)); // copy source javascript\n\n  gulp.src(source.definitions + '/**/' + globs.components + '.js').pipe(plumber()).pipe(flatten()).pipe(gulp.dest(output.uncompressed)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(print(log.created)).pipe(uglify(settings.uglify)).pipe(rename(settings.rename.minJS)).pipe(header(banner, settings.header)).pipe(gulp.dest(output.compressed)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(print(log.created)).on('end', function () {\n    gulp.start('package compressed docs js');\n    gulp.start('package uncompressed docs js');\n  });\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"metadata.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/docs/metadata.js                                                                                     //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n           Summarize Docs\n*******************************/\nvar // node dependencies\nconsole = require('better-console'),\n    fs = require('fs'),\n    YAML = require('yamljs');\n\nvar data = {};\n/**\n * Test for prefix in string.\n * @param {string} str\n * @param {string} prefix\n * @return {boolean}\n */\n\nfunction startsWith(str, prefix) {\n  return str.indexOf(prefix) === 0;\n}\n\n;\n\nfunction inArray(needle, haystack) {\n  var length = haystack.length;\n\n  for (var i = 0; i < length; i++) {\n    if (haystack[i] == needle) return true;\n  }\n\n  return false;\n}\n/**\n * Parses a file for metadata and stores result in data object.\n * @param {File} file - object provided by map-stream.\n * @param {function(?,File)} - callback provided by map-stream to\n * reply when done.\n */\n\n\nfunction parser(file, callback) {\n  // file exit conditions\n  if (file.isNull()) {\n    return callback(null, file); // pass along\n  }\n\n  if (file.isStream()) {\n    return callback(new Error('Streaming not supported'));\n  }\n\n  try {\n    var\n    /** @type {string} */\n    text = String(file.contents.toString('utf8')),\n        lines = text.split('\\n'),\n        filename = file.path.substring(0, file.path.length - 4),\n        key = 'server/documents',\n        position = filename.indexOf(key); // exit conditions\n\n    if (!lines) {\n      return;\n    }\n\n    if (position < 0) {\n      return callback(null, file);\n    }\n\n    filename = filename.substring(position + key.length + 1, filename.length);\n    var lineCount = lines.length,\n        active = false,\n        yaml = [],\n        categories = ['UI Element', 'UI Global', 'UI Collection', 'UI View', 'UI Module', 'UI Behavior'],\n        index,\n        meta,\n        line;\n\n    for (index = 0; index < lineCount; index++) {\n      line = lines[index]; // Wait for metadata block to begin\n\n      if (!active) {\n        if (startsWith(line, '---')) {\n          active = true;\n        }\n\n        continue;\n      } // End of metadata block, stop parsing.\n\n\n      if (startsWith(line, '---')) {\n        break;\n      }\n\n      yaml.push(line);\n    } // Parse yaml.\n\n\n    meta = YAML.parse(yaml.join('\\n'));\n\n    if (meta && meta.type && meta.title && inArray(meta.type, categories)) {\n      meta.category = meta.type;\n      meta.filename = filename;\n      meta.url = '/' + filename;\n      meta.title = meta.title; // Primary key will by filepath\n\n      data[meta.element] = meta;\n    } else {// skip\n      // console.log(meta);\n    }\n  } catch (error) {\n    console.log(error, filename);\n  }\n\n  callback(null, file);\n}\n/**\n * Export function expected by map-stream.\n */\n\n\nmodule.exports = {\n  result: data,\n  parser: parser\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"serve.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/docs/serve.js                                                                                        //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n           Serve Docs\n*******************************/\nvar gulp = require('gulp'),\n    // node dependencies\nconsole = require('better-console'),\n    fs = require('fs'),\n    // gulp dependencies\nautoprefixer = require('gulp-autoprefixer'),\n    chmod = require('gulp-chmod'),\n    clone = require('gulp-clone'),\n    gulpif = require('gulp-if'),\n    header = require('gulp-header'),\n    less = require('gulp-less'),\n    minifyCSS = require('gulp-clean-css'),\n    plumber = require('gulp-plumber'),\n    print = require('gulp-print'),\n    rename = require('gulp-rename'),\n    replace = require('gulp-replace'),\n    uglify = require('gulp-uglify'),\n    util = require('gulp-util'),\n    watch = require('gulp-watch'),\n    // user config\nconfig = require('../config/docs'),\n    // task config\ntasks = require('../config/tasks'),\n    configSetup = require('../config/project/config'),\n    install = require('../config/project/install'),\n    // shorthand\nbanner = tasks.banner,\n    comments = tasks.regExp.comments,\n    log = tasks.log,\n    settings = tasks.settings,\n    globs,\n    assets,\n    output,\n    source;\n\nrequire('../collections/internal')(gulp);\n\nmodule.exports = function () {\n  // use a different config\n  config = configSetup.addDerivedValues(config); // shorthand\n\n  globs = config.globs;\n  assets = config.paths.assets;\n  output = config.paths.output;\n  source = config.paths.source;\n  /*--------------\n     Copy Source\n  ---------------*/\n\n  gulp.watch(['src/**/*.*'], function (file) {\n    console.clear();\n    return gulp.src(file.path, {\n      base: 'src/'\n    }).pipe(gulp.dest(output.less)).pipe(print(log.created));\n  });\n  /*--------------\n    Copy Examples\n  ---------------*/\n\n  gulp.watch(['examples/**/*.*'], function (file) {\n    console.clear();\n    return gulp.src(file.path, {\n      base: 'examples/'\n    }).pipe(gulp.dest(output.examples)).pipe(print(log.created));\n  });\n  /*--------------\n      Watch CSS\n  ---------------*/\n\n  gulp.watch([source.config, source.definitions + '/**/*.less', source.site + '/**/*.{overrides,variables}', source.themes + '/**/*.{overrides,variables}'], function (file) {\n    var lessPath, stream, compressedStream, uncompressedStream, isDefinition, isPackagedTheme, isSiteTheme, isConfig; // log modified file\n\n    gulp.src(file.path).pipe(print(log.modified));\n    /*--------------\n       Find Source\n    ---------------*/\n    // recompile on *.override , *.variable change\n\n    isConfig = file.path.indexOf('theme.config') !== -1 || file.path.indexOf('site.variables') !== -1;\n    isPackagedTheme = file.path.indexOf(source.themes) !== -1;\n    isSiteTheme = file.path.indexOf(source.site) !== -1;\n    isDefinition = file.path.indexOf(source.definitions) !== -1;\n\n    if (isConfig) {\n      // console.info('Rebuilding all files');\n      // cant rebuild paths are wrong\n      // gulp.start('build-docs');\n      return;\n    } else if (isPackagedTheme) {\n      console.log('Change detected in packaged theme');\n      lessPath = util.replaceExtension(file.path, '.less');\n      lessPath = lessPath.replace(tasks.regExp.theme, source.definitions);\n    } else if (isSiteTheme) {\n      console.log('Change detected in site theme');\n      lessPath = util.replaceExtension(file.path, '.less');\n      lessPath = lessPath.replace(source.site, source.definitions);\n    } else {\n      console.log('Change detected in definition');\n      lessPath = file.path;\n    }\n    /*--------------\n      Create CSS\n    ---------------*/\n\n\n    if (fs.existsSync(lessPath)) {\n      // unified css stream\n      stream = gulp.src(lessPath).pipe(plumber()).pipe(less(settings.less)).pipe(replace(comments.variables.in, comments.variables.out)).pipe(replace(comments.large.in, comments.large.out)).pipe(replace(comments.small.in, comments.small.out)).pipe(replace(comments.tiny.in, comments.tiny.out)).pipe(autoprefixer(settings.prefix)).pipe(gulpif(config.hasPermission, chmod(config.permission))); // use 2 concurrent streams from same pipe\n\n      uncompressedStream = stream.pipe(clone());\n      compressedStream = stream.pipe(clone());\n      uncompressedStream.pipe(plumber()).pipe(replace(assets.source, assets.uncompressed)).pipe(header(banner, settings.header)).pipe(gulp.dest(output.uncompressed)).pipe(print(log.created)).on('end', function () {\n        gulp.start('package uncompressed docs css');\n      });\n      compressedStream = stream.pipe(plumber()).pipe(replace(assets.source, assets.compressed)).pipe(minifyCSS(settings.minify)).pipe(rename(settings.rename.minCSS)).pipe(header(banner, settings.header)).pipe(gulp.dest(output.compressed)).pipe(print(log.created)).on('end', function () {\n        gulp.start('package compressed docs css');\n      });\n    } else {\n      console.log('Cannot find UI definition at path', lessPath);\n    }\n  });\n  /*--------------\n      Watch JS\n  ---------------*/\n\n  gulp.watch([source.definitions + '/**/*.js'], function (file) {\n    gulp.src(file.path).pipe(plumber()).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.uncompressed)).pipe(print(log.created)).pipe(uglify(settings.uglify)).pipe(rename(settings.rename.minJS)).pipe(gulp.dest(output.compressed)).pipe(print(log.created)).on('end', function () {\n      gulp.start('package compressed docs js');\n      gulp.start('package uncompressed docs js');\n    });\n  });\n  /*--------------\n    Watch Assets\n  ---------------*/\n  // only copy assets that match component names (or their plural)\n\n  gulp.watch([source.themes + '/**/assets/**/' + globs.components + '?(s).*'], function (file) {\n    // copy assets\n    gulp.src(file.path, {\n      base: source.themes\n    }).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.themes)).pipe(print(log.created));\n  });\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"rtl\":{\"build.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/rtl/build.js                                                                                         //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n          Build Task\n*******************************/\nvar gulp = require('gulp'),\n    // node dependencies\nfs = require('fs'),\n    // gulp dependencies\nautoprefixer = require('gulp-autoprefixer'),\n    chmod = require('gulp-chmod'),\n    clone = require('gulp-clone'),\n    flatten = require('gulp-flatten'),\n    gulpif = require('gulp-if'),\n    less = require('gulp-less'),\n    minifyCSS = require('gulp-clean-css'),\n    plumber = require('gulp-plumber'),\n    print = require('gulp-print'),\n    rename = require('gulp-rename'),\n    replace = require('gulp-replace'),\n    rtlcss = require('gulp-rtlcss'),\n    uglify = require('gulp-uglify'),\n    // user config\nconfig = require('../config/user'),\n    // install config\ntasks = require('../config/tasks'),\n    install = require('../config/project/install'),\n    // shorthand\nglobs = config.globs,\n    assets = config.paths.assets,\n    output = config.paths.output,\n    source = config.paths.source,\n    banner = tasks.banner,\n    comments = tasks.regExp.comments,\n    log = tasks.log,\n    settings = tasks.settings; // add internal tasks (concat release)\n\n\nrequire('../collections/internal')(gulp);\n\nmodule.exports = function (callback) {\n  var stream, compressedStream, uncompressedStream;\n  console.info('Building Semantic');\n\n  if (!install.isSetup()) {\n    console.error('Cannot build files. Run \"gulp install\" to set-up Semantic');\n    return;\n  } // unified css stream\n\n\n  stream = gulp.src(source.definitions + '/**/' + globs.components + '.less').pipe(plumber()).pipe(less(settings.less)).pipe(autoprefixer(settings.prefix)).pipe(rtlcss()).pipe(replace(comments.variables.in, comments.variables.out)).pipe(replace(comments.license.in, comments.license.out)).pipe(replace(comments.large.in, comments.large.out)).pipe(replace(comments.small.in, comments.small.out)).pipe(replace(comments.tiny.in, comments.tiny.out)).pipe(flatten()); // two concurrent streams from same source to concat release\n\n  uncompressedStream = stream.pipe(clone());\n  compressedStream = stream.pipe(clone());\n  uncompressedStream.pipe(plumber()).pipe(replace(assets.source, assets.uncompressed)).pipe(rename(settings.rename.rtlCSS)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.uncompressed)).pipe(print(log.created)).on('end', function () {\n    gulp.start('package uncompressed rtl css');\n  });\n  compressedStream = stream.pipe(plumber()).pipe(clone()).pipe(replace(assets.source, assets.compressed)).pipe(minifyCSS(settings.minify)).pipe(rename(settings.rename.rtlMinCSS)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.compressed)).pipe(print(log.created)).on('end', function () {\n    callback();\n    gulp.start('package compressed rtl css');\n  }); // copy assets\n\n  gulp.src(source.themes + '/**/assets/**/' + globs.components + '?(s).*').pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.themes)); // copy source javascript\n\n  gulp.src(source.definitions + '/**/' + globs.components + '.js').pipe(plumber()).pipe(flatten()).pipe(replace(comments.license.in, comments.license.out)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.uncompressed)).pipe(print(log.created)).pipe(uglify(settings.uglify)).pipe(rename(settings.rename.minJS)).pipe(gulp.dest(output.compressed)).pipe(print(log.created)).on('end', function () {\n    gulp.start('package compressed js');\n    gulp.start('package uncompressed js');\n  });\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"watch.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/rtl/watch.js                                                                                         //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n           Watch Task\n*******************************/\nvar gulp = require('gulp'),\n    // node deps\nconsole = require('better-console'),\n    fs = require('fs'),\n    // gulp deps\nautoprefixer = require('gulp-autoprefixer'),\n    chmod = require('gulp-chmod'),\n    clone = require('gulp-clone'),\n    gulpif = require('gulp-if'),\n    less = require('gulp-less'),\n    minifyCSS = require('gulp-clean-css'),\n    plumber = require('gulp-plumber'),\n    print = require('gulp-print'),\n    rename = require('gulp-rename'),\n    replace = require('gulp-replace'),\n    rtlcss = require('gulp-rtlcss'),\n    uglify = require('gulp-uglify'),\n    util = require('gulp-util'),\n    watch = require('gulp-watch'),\n    // user config\nconfig = require('../config/user'),\n    // task config\ntasks = require('../config/tasks'),\n    install = require('../config/project/install'),\n    // shorthand\nglobs = config.globs,\n    assets = config.paths.assets,\n    output = config.paths.output,\n    source = config.paths.source,\n    banner = tasks.banner,\n    comments = tasks.regExp.comments,\n    log = tasks.log,\n    settings = tasks.settings; // add internal tasks (concat release)\n\n\nrequire('../collections/internal')(gulp);\n\nmodule.exports = function (callback) {\n  if (!install.isSetup()) {\n    console.error('Cannot watch files. Run \"gulp install\" to set-up Semantic');\n    return;\n  }\n\n  console.clear();\n  console.log('Watching source files for changes');\n  /*--------------\n      Watch CSS\n  ---------------*/\n\n  gulp.watch([source.config, source.definitions + '/**/*.less', source.site + '/**/*.{overrides,variables}', source.themes + '/**/*.{overrides,variables}'], function (file) {\n    var lessPath, stream, compressedStream, uncompressedStream, isDefinition, isPackagedTheme, isSiteTheme, isConfig; // log modified file\n\n    gulp.src(file.path).pipe(print(log.modified));\n    /*--------------\n       Find Source\n    ---------------*/\n    // recompile on *.override , *.variable change\n\n    isConfig = file.path.indexOf('.config') !== -1;\n    isPackagedTheme = file.path.indexOf(source.themes) !== -1;\n    isSiteTheme = file.path.indexOf(source.site) !== -1;\n    isDefinition = file.path.indexOf(source.definitions) !== -1;\n\n    if (isConfig) {\n      console.log('Change detected in theme config'); // cant tell which theme was changed in theme.config, rebuild all\n\n      gulp.start('build');\n    } else if (isPackagedTheme) {\n      console.log('Change detected in packaged theme');\n      lessPath = lessPath.replace(tasks.regExp.theme, source.definitions);\n      lessPath = util.replaceExtension(file.path, '.less');\n    } else if (isSiteTheme) {\n      console.log('Change detected in site theme');\n      lessPath = lessPath.replace(source.site, source.definitions);\n      lessPath = util.replaceExtension(file.path, '.less');\n    } else if (isDefinition) {\n      console.log('Change detected in definition');\n      lessPath = util.replaceExtension(file.path, '.less');\n    }\n    /*--------------\n       Create CSS\n    ---------------*/\n\n\n    if (fs.existsSync(lessPath)) {\n      // unified css stream\n      stream = gulp.src(lessPath).pipe(plumber()).pipe(less(settings.less)).pipe(replace(comments.variables.in, comments.variables.out)).pipe(replace(comments.license.in, comments.license.out)).pipe(replace(comments.large.in, comments.large.out)).pipe(replace(comments.small.in, comments.small.out)).pipe(replace(comments.tiny.in, comments.tiny.out)).pipe(autoprefixer(settings.prefix)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(rtlcss()); // use 2 concurrent streams from same pipe\n\n      uncompressedStream = stream.pipe(clone());\n      compressedStream = stream.pipe(clone());\n      uncompressedStream.pipe(plumber()).pipe(replace(assets.source, assets.uncompressed)).pipe(rename(settings.rename.rtlCSS)).pipe(gulp.dest(output.uncompressed)).pipe(print(log.created)).on('end', function () {\n        gulp.start('package uncompressed rtl css');\n      });\n      compressedStream = stream.pipe(plumber()).pipe(replace(assets.source, assets.compressed)).pipe(minifyCSS(settings.minify)).pipe(rename(settings.rename.minCSS)).pipe(rename(settings.rename.rtlMinCSS)).pipe(gulp.dest(output.compressed)).pipe(print(log.created)).on('end', function () {\n        gulp.start('package compressed rtl css');\n      });\n    } else {\n      console.log('Cannot find UI definition at path', lessPath);\n    }\n  });\n  /*--------------\n      Watch JS\n  ---------------*/\n\n  gulp.watch([source.definitions + '/**/*.js'], function (file) {\n    gulp.src(file.path).pipe(plumber()).pipe(replace(comments.license.in, comments.license.out)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.uncompressed)).pipe(print(log.created)).pipe(uglify(settings.uglify)).pipe(rename(settings.rename.minJS)).pipe(gulp.dest(output.compressed)).pipe(print(log.created)).on('end', function () {\n      gulp.start('package compressed js');\n      gulp.start('package uncompressed js');\n    });\n  });\n  /*--------------\n    Watch Assets\n  ---------------*/\n  // only copy assets that match component names (or their plural)\n\n  gulp.watch([source.themes + '/**/assets/**/' + globs.components + '?(s).*'], function (file) {\n    // copy assets\n    gulp.src(file.path, {\n      base: source.themes\n    }).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.themes)).pipe(print(log.created));\n  });\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"build.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/build.js                                                                                             //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n          Build Task\n*******************************/\nvar // dependencies\ngulp = require('gulp-help')(require('gulp')),\n    runSequence = require('run-sequence'),\n    // config\nconfig = require('./config/user'),\n    install = require('./config/project/install'),\n    // task sequence\ntasks = []; // sub-tasks\n\n\nif (config.rtl) {\n  require('./collections/rtl')(gulp);\n}\n\nrequire('./collections/build')(gulp);\n\nmodule.exports = function (callback) {\n  console.info('Building Semantic');\n\n  if (!install.isSetup()) {\n    console.error('Cannot find semantic.json. Run \"gulp install\" to set-up Semantic');\n    return 1;\n  } // check for right-to-left (RTL) language\n\n\n  if (config.rtl === true || config.rtl === 'Yes') {\n    gulp.start('build-rtl');\n    return;\n  }\n\n  if (config.rtl == 'both') {\n    tasks.push('build-rtl');\n  }\n\n  tasks.push('build-javascript');\n  tasks.push('build-css');\n  tasks.push('build-assets');\n  runSequence(tasks, callback);\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"check-install.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/check-install.js                                                                                     //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n         Check Install\n*******************************/\nvar // node dependencies\ngulp = require('gulp'),\n    fs = require('fs'),\n    console = require('better-console'),\n    install = require('./config/project/install'); // export task\n\n\nmodule.exports = function () {\n  setTimeout(function () {\n    if (!install.isSetup()) {\n      console.log('Starting install...');\n      gulp.start('install');\n      return;\n    } else {\n      gulp.start('watch');\n    }\n  }, 50); // Delay to allow console.clear to remove messages from check event\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"clean.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/clean.js                                                                                             //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n          Clean Task\n*******************************/\nvar del = require('del'),\n    config = require('./config/user'),\n    tasks = require('./config/tasks'); // cleans distribution files\n\n\nmodule.exports = function (callback) {\n  return del([config.paths.clean], tasks.settings.del, callback);\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"install.js\":function(require,exports,module,__filename,__dirname){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/install.js                                                                                           //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n         Install Task\n*******************************/\n\n/*\n   Install tasks\n\n   For more notes\n\n   * Runs automatically after npm update (hooks)\n   * (NPM) Install - Will ask for where to put semantic (outside pm folder)\n   * (NPM) Upgrade - Will look for semantic install, copy over files and update if new version\n   * Standard installer runs asking for paths to site files etc\n\n*/\nvar gulp = require('gulp'),\n    // node dependencies\nconsole = require('better-console'),\n    extend = require('extend'),\n    fs = require('fs'),\n    mkdirp = require('mkdirp'),\n    path = require('path'),\n    runSequence = require('run-sequence'),\n    // gulp dependencies\nchmod = require('gulp-chmod'),\n    del = require('del'),\n    jsonEditor = require('gulp-json-editor'),\n    plumber = require('gulp-plumber'),\n    prompt = require('prompt-sui'),\n    rename = require('gulp-rename'),\n    replace = require('gulp-replace'),\n    requireDotFile = require('require-dot-file'),\n    wrench = require('wrench-sui'),\n    // install config\ninstall = require('./config/project/install'),\n    // user config\nconfig = require('./config/user'),\n    // release config (name/title/etc)\nrelease = require('./config/project/release'),\n    // shorthand\nquestions = install.questions,\n    files = install.files,\n    folders = install.folders,\n    regExp = install.regExp,\n    settings = install.settings,\n    source = install.source; // Export install task\n\n\nmodule.exports = function (callback) {\n  var currentConfig = requireDotFile('semantic.json'),\n      manager = install.getPackageManager(),\n      rootQuestions = questions.root,\n      installFolder = false,\n      answers;\n  console.clear();\n  /* Test NPM install\n  manager = {\n    name : 'NPM',\n    root : path.normalize(__dirname + '/../')\n  };\n  */\n\n  /* Don't do end user config if SUI is a sub-module */\n\n  if (install.isSubModule()) {\n    console.info('SUI is a sub-module, skipping end-user install');\n    return;\n  }\n  /*-----------------\n      Update SUI\n  -----------------*/\n  // run update scripts if semantic.json exists\n\n\n  if (currentConfig && manager.name === 'NPM') {\n    var updateFolder = path.join(manager.root, currentConfig.base),\n        updatePaths = {\n      config: path.join(manager.root, files.config),\n      tasks: path.join(updateFolder, folders.tasks),\n      themeImport: path.join(updateFolder, folders.themeImport),\n      definition: path.join(currentConfig.paths.source.definitions),\n      site: path.join(currentConfig.paths.source.site),\n      theme: path.join(currentConfig.paths.source.themes),\n      defaultTheme: path.join(currentConfig.paths.source.themes, folders.defaultTheme)\n    }; // duck-type if there is a project installed\n\n    if (fs.existsSync(updatePaths.definition)) {\n      // perform update if new version\n      if (currentConfig.version !== release.version) {\n        console.log('Updating Semantic UI from ' + currentConfig.version + ' to ' + release.version);\n        console.info('Updating ui definitions...');\n        wrench.copyDirSyncRecursive(source.definitions, updatePaths.definition, settings.wrench.overwrite);\n        console.info('Updating default theme...');\n        wrench.copyDirSyncRecursive(source.themes, updatePaths.theme, settings.wrench.merge);\n        wrench.copyDirSyncRecursive(source.defaultTheme, updatePaths.defaultTheme, settings.wrench.overwrite);\n        console.info('Updating tasks...');\n        wrench.copyDirSyncRecursive(source.tasks, updatePaths.tasks, settings.wrench.overwrite);\n        console.info('Updating gulpfile.js');\n        gulp.src(source.userGulpFile).pipe(plumber()).pipe(gulp.dest(updateFolder)); // copy theme import\n\n        console.info('Updating theme import file');\n        gulp.src(source.themeImport).pipe(plumber()).pipe(gulp.dest(updatePaths.themeImport));\n        console.info('Adding new site theme files...');\n        wrench.copyDirSyncRecursive(source.site, updatePaths.site, settings.wrench.merge);\n        console.info('Updating version...'); // update version number in semantic.json\n\n        gulp.src(updatePaths.config).pipe(plumber()).pipe(rename(settings.rename.json)) // preserve file extension\n        .pipe(jsonEditor({\n          version: release.version\n        })).pipe(gulp.dest(manager.root));\n        console.info('Update complete! Run \"\\x1b[92mgulp build\\x1b[0m\" to rebuild dist/ files.');\n        return;\n      } else {\n        console.log('Current version of Semantic UI already installed');\n        return;\n      }\n    } else {\n      console.error('Cannot locate files to update at path: ', updatePaths.definition);\n      console.log('Running installer');\n    }\n  }\n  /*--------------\n   Determine Root\n  ---------------*/\n  // PM that supports Build Tools (NPM Only Now)\n\n\n  if (manager.name == 'NPM') {\n    rootQuestions[0].message = rootQuestions[0].message.replace('{packageMessage}', 'We detected you are using ' + manager.name + ' Nice!').replace('{root}', manager.root); // set default path to detected PM root\n\n    rootQuestions[0].default = manager.root;\n    rootQuestions[1].default = manager.root; // insert PM questions after \"Install Type\" question\n\n    Array.prototype.splice.apply(questions.setup, [2, 0].concat(rootQuestions)); // omit cleanup questions for managed install\n\n    questions.cleanup = [];\n  }\n  /*--------------\n     Create SUI\n  ---------------*/\n\n\n  gulp.task('run setup', function () {\n    // If auto-install is switched on, we skip the configuration section and simply reuse the configuration from semantic.json\n    if (install.shouldAutoInstall()) {\n      answers = {\n        overwrite: 'yes',\n        install: 'auto',\n        useRoot: true,\n        semanticRoot: currentConfig.base\n      };\n    } else {\n      return gulp.src('gulpfile.js').pipe(prompt.prompt(questions.setup, function (setupAnswers) {\n        // hoist\n        answers = setupAnswers;\n      }));\n    }\n  });\n  gulp.task('create install files', function (callback) {\n    /*--------------\n     Exit Conditions\n    ---------------*/\n    // if config exists and user specifies not to proceed\n    if (answers.overwrite !== undefined && answers.overwrite == 'no') {\n      return;\n    }\n\n    console.clear();\n\n    if (install.shouldAutoInstall()) {\n      console.log('Auto-Installing (Without User Interaction)');\n    } else {\n      console.log('Installing');\n    }\n\n    console.log('------------------------------');\n    /*--------------\n          Paths\n    ---------------*/\n\n    var installPaths = {\n      config: files.config,\n      configFolder: folders.config,\n      site: answers.site || folders.site,\n      themeConfig: files.themeConfig,\n      themeConfigFolder: folders.themeConfig\n    };\n    /*--------------\n      NPM Install\n    ---------------*/\n    // Check if PM install\n\n    if (manager && (answers.useRoot || answers.customRoot)) {\n      // Set root to custom root path if set\n      if (answers.customRoot) {\n        if (answers.customRoot === '') {\n          console.log('Unable to proceed, invalid project root');\n          return;\n        }\n\n        manager.root = answers.customRoot;\n      } // special install paths only for PM install\n\n\n      installPaths = extend(false, {}, installPaths, {\n        definition: folders.definitions,\n        lessImport: folders.lessImport,\n        tasks: folders.tasks,\n        theme: folders.themes,\n        defaultTheme: path.join(folders.themes, folders.defaultTheme),\n        themeImport: folders.themeImport\n      }); // add project root to semantic root\n\n      installFolder = path.join(manager.root, answers.semanticRoot); // add install folder to all output paths\n\n      for (var destination in installPaths) {\n        if (installPaths.hasOwnProperty(destination)) {\n          // config goes in project root, rest in install folder\n          installPaths[destination] = destination == 'config' || destination == 'configFolder' ? path.normalize(path.join(manager.root, installPaths[destination])) : path.normalize(path.join(installFolder, installPaths[destination]));\n        }\n      } // create project folders\n\n\n      try {\n        mkdirp.sync(installFolder);\n        mkdirp.sync(installPaths.definition);\n        mkdirp.sync(installPaths.theme);\n        mkdirp.sync(installPaths.tasks);\n      } catch (error) {\n        console.error('NPM does not have permissions to create folders at your specified path. Adjust your folders permissions and run \"npm install\" again');\n      }\n\n      console.log('Installing to \\x1b[92m' + answers.semanticRoot + '\\x1b[0m');\n      console.info('Copying UI definitions');\n      wrench.copyDirSyncRecursive(source.definitions, installPaths.definition, settings.wrench.overwrite);\n      console.info('Copying UI themes');\n      wrench.copyDirSyncRecursive(source.themes, installPaths.theme, settings.wrench.merge);\n      wrench.copyDirSyncRecursive(source.defaultTheme, installPaths.defaultTheme, settings.wrench.overwrite);\n      console.info('Copying gulp tasks');\n      wrench.copyDirSyncRecursive(source.tasks, installPaths.tasks, settings.wrench.overwrite); // copy theme import\n\n      console.info('Adding theme files');\n      gulp.src(source.themeImport).pipe(plumber()).pipe(gulp.dest(installPaths.themeImport));\n      gulp.src(source.lessImport).pipe(plumber()).pipe(gulp.dest(installPaths.lessImport)); // create gulp file\n\n      console.info('Creating gulpfile.js');\n      gulp.src(source.userGulpFile).pipe(plumber()).pipe(gulp.dest(installFolder));\n    }\n    /*--------------\n       Site Theme\n    ---------------*/\n    // Copy _site templates folder to destination\n\n\n    if (fs.existsSync(installPaths.site)) {\n      console.info('Site folder exists, merging files (no overwrite)', installPaths.site);\n    } else {\n      console.info('Creating site theme folder', installPaths.site);\n    }\n\n    wrench.copyDirSyncRecursive(source.site, installPaths.site, settings.wrench.merge);\n    /*--------------\n      Theme Config\n    ---------------*/\n\n    gulp.task('create theme.config', function () {\n      var // determine path to site theme folder from theme config\n      // force CSS path variable to use forward slashes for paths\n      pathToSite = path.relative(path.resolve(installPaths.themeConfigFolder), path.resolve(installPaths.site)).replace(/\\\\/g, '/'),\n          siteVariable = \"@siteFolder   : '\" + pathToSite + \"/';\"; // rewrite site variable in theme.less\n\n      console.info('Adjusting @siteFolder to: ', pathToSite + '/');\n\n      if (fs.existsSync(installPaths.themeConfig)) {\n        console.info('Modifying src/theme.config (LESS config)', installPaths.themeConfig);\n        return gulp.src(installPaths.themeConfig).pipe(plumber()).pipe(replace(regExp.siteVariable, siteVariable)).pipe(gulp.dest(installPaths.themeConfigFolder));\n      } else {\n        console.info('Creating src/theme.config (LESS config)', installPaths.themeConfig);\n        return gulp.src(source.themeConfig).pipe(plumber()).pipe(rename({\n          extname: ''\n        })).pipe(replace(regExp.siteVariable, siteVariable)).pipe(gulp.dest(installPaths.themeConfigFolder));\n      }\n    });\n    /*--------------\n      Semantic.json\n    ---------------*/\n\n    gulp.task('create semantic.json', function () {\n      var jsonConfig = install.createJSON(answers); // adjust variables in theme.less\n\n      if (fs.existsSync(installPaths.config)) {\n        console.info('Extending config file (semantic.json)', installPaths.config);\n        return gulp.src(installPaths.config).pipe(plumber()).pipe(rename(settings.rename.json)) // preserve file extension\n        .pipe(jsonEditor(jsonConfig)).pipe(gulp.dest(installPaths.configFolder));\n      } else {\n        console.info('Creating config file (semantic.json)', installPaths.config);\n        return gulp.src(source.config).pipe(plumber()).pipe(rename({\n          extname: ''\n        })) // remove .template from ext\n        .pipe(jsonEditor(jsonConfig)).pipe(gulp.dest(installPaths.configFolder));\n      }\n    });\n    runSequence('create theme.config', 'create semantic.json', callback);\n  });\n  gulp.task('clean up install', function () {\n    // Completion Message\n    if (installFolder && !install.shouldAutoInstall()) {\n      console.log('\\n Setup Complete! \\n Installing Peer Dependencies. \\x1b[0;31mPlease refrain from ctrl + c\\x1b[0m... \\n After completion navigate to \\x1b[92m' + answers.semanticRoot + '\\x1b[0m and run \"\\x1b[92mgulp build\\x1b[0m\" to build');\n      process.exit(0);\n    } else {\n      console.log('');\n      console.log('');\n    } // If auto-install is switched on, we skip the configuration section and simply build the dependencies\n\n\n    if (install.shouldAutoInstall()) {\n      return gulp.start('build');\n    } else {\n      return gulp.src('gulpfile.js').pipe(prompt.prompt(questions.cleanup, function (answers) {\n        if (answers.cleanup == 'yes') {\n          del(install.setupFiles);\n        }\n\n        if (answers.build == 'yes') {\n          gulp.start('build');\n        }\n      }));\n    }\n  });\n  runSequence('run setup', 'create install files', 'clean up install', callback);\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"version.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/version.js                                                                                           //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n          Version Task\n*******************************/\nvar release = require('./config/project/release');\n\nmodule.exports = function (callback) {\n  console.log(release.title + ' ' + release.version);\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"watch.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/watch.js                                                                                             //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n           Watch Task\n*******************************/\nvar gulp = require('gulp-help')(require('gulp')),\n    // node dependencies\nconsole = require('better-console'),\n    fs = require('fs'),\n    // gulp dependencies\nautoprefixer = require('gulp-autoprefixer'),\n    chmod = require('gulp-chmod'),\n    clone = require('gulp-clone'),\n    gulpif = require('gulp-if'),\n    less = require('gulp-less'),\n    minifyCSS = require('gulp-clean-css'),\n    plumber = require('gulp-plumber'),\n    print = require('gulp-print'),\n    rename = require('gulp-rename'),\n    replace = require('gulp-replace'),\n    uglify = require('gulp-uglify'),\n    util = require('gulp-util'),\n    watch = require('gulp-watch'),\n    // user config\nconfig = require('./config/user'),\n    // task config\ntasks = require('./config/tasks'),\n    install = require('./config/project/install'),\n    // shorthand\nglobs = config.globs,\n    assets = config.paths.assets,\n    output = config.paths.output,\n    source = config.paths.source,\n    banner = tasks.banner,\n    comments = tasks.regExp.comments,\n    log = tasks.log,\n    settings = tasks.settings; // add tasks referenced using gulp.run (sub-tasks)\n\n\nif (config.rtl) {\n  require('./collections/rtl')(gulp);\n}\n\nrequire('./collections/internal')(gulp); // export task\n\n\nmodule.exports = function (callback) {\n  if (!install.isSetup()) {\n    console.error('Cannot watch files. Run \"gulp install\" to set-up Semantic');\n    return;\n  } // check for right-to-left (RTL) language\n\n\n  if (config.rtl == 'both') {\n    gulp.start('watch-rtl');\n  }\n\n  if (config.rtl === true || config.rtl === 'Yes') {\n    gulp.start('watch-rtl');\n    return;\n  } //console.clear();\n\n\n  console.log('Watching source files for changes');\n  /*--------------\n      Watch CSS\n  ---------------*/\n\n  gulp.watch([source.config, source.definitions + '/**/*.less', source.site + '/**/*.{overrides,variables}', source.themes + '/**/*.{overrides,variables}'], function (file) {\n    var lessPath, stream, compressedStream, uncompressedStream, isDefinition, isPackagedTheme, isSiteTheme, isConfig; // log modified file\n\n    gulp.src(file.path).pipe(print(log.modified));\n    /*--------------\n       Find Source\n    ---------------*/\n    // recompile on *.override , *.variable change\n\n    isConfig = file.path.indexOf('theme.config') !== -1 || file.path.indexOf('site.variables') !== -1;\n    isPackagedTheme = file.path.indexOf(source.themes) !== -1;\n    isSiteTheme = file.path.indexOf(source.site) !== -1;\n    isDefinition = file.path.indexOf(source.definitions) !== -1;\n\n    if (isConfig) {\n      console.info('Rebuilding all UI'); // impossible to tell which file was updated in theme.config, rebuild all\n\n      gulp.start('build-css');\n      return;\n    } else if (isPackagedTheme) {\n      console.log('Change detected in packaged theme');\n      lessPath = util.replaceExtension(file.path, '.less');\n      lessPath = lessPath.replace(tasks.regExp.theme, source.definitions);\n    } else if (isSiteTheme) {\n      console.log('Change detected in site theme');\n      lessPath = util.replaceExtension(file.path, '.less');\n      lessPath = lessPath.replace(source.site, source.definitions);\n    } else {\n      console.log('Change detected in definition');\n      lessPath = file.path;\n    }\n    /*--------------\n       Create CSS\n    ---------------*/\n\n\n    if (fs.existsSync(lessPath)) {\n      // unified css stream\n      stream = gulp.src(lessPath).pipe(plumber(settings.plumber.less)).pipe(less(settings.less)).pipe(print(log.created)).pipe(replace(comments.variables.in, comments.variables.out)).pipe(replace(comments.license.in, comments.license.out)).pipe(replace(comments.large.in, comments.large.out)).pipe(replace(comments.small.in, comments.small.out)).pipe(replace(comments.tiny.in, comments.tiny.out)).pipe(autoprefixer(settings.prefix)).pipe(gulpif(config.hasPermission, chmod(config.permission))); // use 2 concurrent streams from same pipe\n\n      uncompressedStream = stream.pipe(clone());\n      compressedStream = stream.pipe(clone());\n      uncompressedStream.pipe(plumber()).pipe(replace(assets.source, assets.uncompressed)).pipe(gulp.dest(output.uncompressed)).pipe(print(log.created)).on('end', function () {\n        gulp.start('package uncompressed css');\n      });\n      compressedStream = stream.pipe(plumber()).pipe(replace(assets.source, assets.compressed)).pipe(minifyCSS(settings.minify)).pipe(rename(settings.rename.minCSS)).pipe(gulp.dest(output.compressed)).pipe(print(log.created)).on('end', function () {\n        gulp.start('package compressed css');\n      });\n    } else {\n      console.log('Cannot find UI definition at path', lessPath);\n    }\n  });\n  /*--------------\n      Watch JS\n  ---------------*/\n\n  gulp.watch([source.definitions + '/**/*.js'], function (file) {\n    gulp.src(file.path).pipe(plumber()).pipe(replace(comments.license.in, comments.license.out)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.uncompressed)).pipe(print(log.created)).pipe(uglify(settings.uglify)).pipe(rename(settings.rename.minJS)).pipe(gulp.dest(output.compressed)).pipe(print(log.created)).on('end', function () {\n      gulp.start('package compressed js');\n      gulp.start('package uncompressed js');\n    });\n  });\n  /*--------------\n    Watch Assets\n  ---------------*/\n  // only copy assets that match component names (or their plural)\n\n  gulp.watch([source.themes + '/**/assets/**/*.*'], function (file) {\n    // copy assets\n    gulp.src(file.path, {\n      base: source.themes\n    }).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.themes)).pipe(print(log.created));\n  });\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"src\":{\"definitions\":{\"behaviors\":{\"api.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/behaviors/api.js                                                                           //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * # Semantic UI - API\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  var window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.api = $.fn.api = function (parameters) {\n    var // use window context if none specified\n    $allModules = $.isFunction(this) ? $(window) : $(this),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue;\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.api.settings, parameters) : $.extend({}, $.fn.api.settings),\n          // internal aliases\n      namespace = settings.namespace,\n          metadata = settings.metadata,\n          selector = settings.selector,\n          error = settings.error,\n          className = settings.className,\n          // define namespaces for modules\n      eventNamespace = '.' + namespace,\n          moduleNamespace = 'module-' + namespace,\n          // element that creates request\n      $module = $(this),\n          $form = $module.closest(selector.form),\n          // context used for state\n      $context = settings.stateContext ? $(settings.stateContext) : $module,\n          // request details\n      ajaxSettings,\n          requestSettings,\n          url,\n          data,\n          requestStartTime,\n          // standard module\n      element = this,\n          context = $context[0],\n          instance = $module.data(moduleNamespace),\n          module;\n      module = {\n        initialize: function () {\n          if (!methodInvoked) {\n            module.bind.events();\n          }\n\n          module.instantiate();\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module.data(moduleNamespace, instance);\n        },\n        destroy: function () {\n          module.verbose('Destroying previous module for', element);\n          $module.removeData(moduleNamespace).off(eventNamespace);\n        },\n        bind: {\n          events: function () {\n            var triggerEvent = module.get.event();\n\n            if (triggerEvent) {\n              module.verbose('Attaching API events to element', triggerEvent);\n              $module.on(triggerEvent + eventNamespace, module.event.trigger);\n            } else if (settings.on == 'now') {\n              module.debug('Querying API endpoint immediately');\n              module.query();\n            }\n          }\n        },\n        decode: {\n          json: function (response) {\n            if (response !== undefined && typeof response == 'string') {\n              try {\n                response = JSON.parse(response);\n              } catch (e) {// isnt json string\n              }\n            }\n\n            return response;\n          }\n        },\n        read: {\n          cachedResponse: function (url) {\n            var response;\n\n            if (window.Storage === undefined) {\n              module.error(error.noStorage);\n              return;\n            }\n\n            response = sessionStorage.getItem(url);\n            module.debug('Using cached response', url, response);\n            response = module.decode.json(response);\n            return response;\n          }\n        },\n        write: {\n          cachedResponse: function (url, response) {\n            if (response && response === '') {\n              module.debug('Response empty, not caching', response);\n              return;\n            }\n\n            if (window.Storage === undefined) {\n              module.error(error.noStorage);\n              return;\n            }\n\n            if ($.isPlainObject(response)) {\n              response = JSON.stringify(response);\n            }\n\n            sessionStorage.setItem(url, response);\n            module.verbose('Storing cached response for url', url, response);\n          }\n        },\n        query: function () {\n          if (module.is.disabled()) {\n            module.debug('Element is disabled API request aborted');\n            return;\n          }\n\n          if (module.is.loading()) {\n            if (settings.interruptRequests) {\n              module.debug('Interrupting previous request');\n              module.abort();\n            } else {\n              module.debug('Cancelling request, previous request is still pending');\n              return;\n            }\n          } // pass element metadata to url (value, text)\n\n\n          if (settings.defaultData) {\n            $.extend(true, settings.urlData, module.get.defaultData());\n          } // Add form content\n\n\n          if (settings.serializeForm) {\n            settings.data = module.add.formData(settings.data);\n          } // call beforesend and get any settings changes\n\n\n          requestSettings = module.get.settings(); // check if before send cancelled request\n\n          if (requestSettings === false) {\n            module.cancelled = true;\n            module.error(error.beforeSend);\n            return;\n          } else {\n            module.cancelled = false;\n          } // get url\n\n\n          url = module.get.templatedURL();\n\n          if (!url && !module.is.mocked()) {\n            module.error(error.missingURL);\n            return;\n          } // replace variables\n\n\n          url = module.add.urlData(url); // missing url parameters\n\n          if (!url && !module.is.mocked()) {\n            return;\n          }\n\n          requestSettings.url = settings.base + url; // look for jQuery ajax parameters in settings\n\n          ajaxSettings = $.extend(true, {}, settings, {\n            type: settings.method || settings.type,\n            data: data,\n            url: settings.base + url,\n            beforeSend: settings.beforeXHR,\n            success: function () {},\n            failure: function () {},\n            complete: function () {}\n          });\n          module.debug('Querying URL', ajaxSettings.url);\n          module.verbose('Using AJAX settings', ajaxSettings);\n\n          if (settings.cache === 'local' && module.read.cachedResponse(url)) {\n            module.debug('Response returned from local cache');\n            module.request = module.create.request();\n            module.request.resolveWith(context, [module.read.cachedResponse(url)]);\n            return;\n          }\n\n          if (!settings.throttle) {\n            module.debug('Sending request', data, ajaxSettings.method);\n            module.send.request();\n          } else {\n            if (!settings.throttleFirstRequest && !module.timer) {\n              module.debug('Sending request', data, ajaxSettings.method);\n              module.send.request();\n              module.timer = setTimeout(function () {}, settings.throttle);\n            } else {\n              module.debug('Throttling request', settings.throttle);\n              clearTimeout(module.timer);\n              module.timer = setTimeout(function () {\n                if (module.timer) {\n                  delete module.timer;\n                }\n\n                module.debug('Sending throttled request', data, ajaxSettings.method);\n                module.send.request();\n              }, settings.throttle);\n            }\n          }\n        },\n        should: {\n          removeError: function () {\n            return settings.hideError === true || settings.hideError === 'auto' && !module.is.form();\n          }\n        },\n        is: {\n          disabled: function () {\n            return $module.filter(selector.disabled).length > 0;\n          },\n          expectingJSON: function () {\n            return settings.dataType === 'json' || settings.dataType === 'jsonp';\n          },\n          form: function () {\n            return $module.is('form') || $context.is('form');\n          },\n          mocked: function () {\n            return settings.mockResponse || settings.mockResponseAsync || settings.response || settings.responseAsync;\n          },\n          input: function () {\n            return $module.is('input');\n          },\n          loading: function () {\n            return module.request ? module.request.state() == 'pending' : false;\n          },\n          abortedRequest: function (xhr) {\n            if (xhr && xhr.readyState !== undefined && xhr.readyState === 0) {\n              module.verbose('XHR request determined to be aborted');\n              return true;\n            } else {\n              module.verbose('XHR request was not aborted');\n              return false;\n            }\n          },\n          validResponse: function (response) {\n            if (!module.is.expectingJSON() || !$.isFunction(settings.successTest)) {\n              module.verbose('Response is not JSON, skipping validation', settings.successTest, response);\n              return true;\n            }\n\n            module.debug('Checking JSON returned success', settings.successTest, response);\n\n            if (settings.successTest(response)) {\n              module.debug('Response passed success test', response);\n              return true;\n            } else {\n              module.debug('Response failed success test', response);\n              return false;\n            }\n          }\n        },\n        was: {\n          cancelled: function () {\n            return module.cancelled || false;\n          },\n          succesful: function () {\n            return module.request && module.request.state() == 'resolved';\n          },\n          failure: function () {\n            return module.request && module.request.state() == 'rejected';\n          },\n          complete: function () {\n            return module.request && (module.request.state() == 'resolved' || module.request.state() == 'rejected');\n          }\n        },\n        add: {\n          urlData: function (url, urlData) {\n            var requiredVariables, optionalVariables;\n\n            if (url) {\n              requiredVariables = url.match(settings.regExp.required);\n              optionalVariables = url.match(settings.regExp.optional);\n              urlData = urlData || settings.urlData;\n\n              if (requiredVariables) {\n                module.debug('Looking for required URL variables', requiredVariables);\n                $.each(requiredVariables, function (index, templatedString) {\n                  var // allow legacy {$var} style\n                  variable = templatedString.indexOf('$') !== -1 ? templatedString.substr(2, templatedString.length - 3) : templatedString.substr(1, templatedString.length - 2),\n                      value = $.isPlainObject(urlData) && urlData[variable] !== undefined ? urlData[variable] : $module.data(variable) !== undefined ? $module.data(variable) : $context.data(variable) !== undefined ? $context.data(variable) : urlData[variable]; // remove value\n\n                  if (value === undefined) {\n                    module.error(error.requiredParameter, variable, url);\n                    url = false;\n                    return false;\n                  } else {\n                    module.verbose('Found required variable', variable, value);\n                    value = settings.encodeParameters ? module.get.urlEncodedValue(value) : value;\n                    url = url.replace(templatedString, value);\n                  }\n                });\n              }\n\n              if (optionalVariables) {\n                module.debug('Looking for optional URL variables', requiredVariables);\n                $.each(optionalVariables, function (index, templatedString) {\n                  var // allow legacy {/$var} style\n                  variable = templatedString.indexOf('$') !== -1 ? templatedString.substr(3, templatedString.length - 4) : templatedString.substr(2, templatedString.length - 3),\n                      value = $.isPlainObject(urlData) && urlData[variable] !== undefined ? urlData[variable] : $module.data(variable) !== undefined ? $module.data(variable) : $context.data(variable) !== undefined ? $context.data(variable) : urlData[variable]; // optional replacement\n\n                  if (value !== undefined) {\n                    module.verbose('Optional variable Found', variable, value);\n                    url = url.replace(templatedString, value);\n                  } else {\n                    module.verbose('Optional variable not found', variable); // remove preceding slash if set\n\n                    if (url.indexOf('/' + templatedString) !== -1) {\n                      url = url.replace('/' + templatedString, '');\n                    } else {\n                      url = url.replace(templatedString, '');\n                    }\n                  }\n                });\n              }\n            }\n\n            return url;\n          },\n          formData: function (data) {\n            var canSerialize = $.fn.serializeObject !== undefined,\n                formData = canSerialize ? $form.serializeObject() : $form.serialize(),\n                hasOtherData;\n            data = data || settings.data;\n            hasOtherData = $.isPlainObject(data);\n\n            if (hasOtherData) {\n              if (canSerialize) {\n                module.debug('Extending existing data with form data', data, formData);\n                data = $.extend(true, {}, data, formData);\n              } else {\n                module.error(error.missingSerialize);\n                module.debug('Cant extend data. Replacing data with form data', data, formData);\n                data = formData;\n              }\n            } else {\n              module.debug('Adding form data', formData);\n              data = formData;\n            }\n\n            return data;\n          }\n        },\n        send: {\n          request: function () {\n            module.set.loading();\n            module.request = module.create.request();\n\n            if (module.is.mocked()) {\n              module.mockedXHR = module.create.mockedXHR();\n            } else {\n              module.xhr = module.create.xhr();\n            }\n\n            settings.onRequest.call(context, module.request, module.xhr);\n          }\n        },\n        event: {\n          trigger: function (event) {\n            module.query();\n\n            if (event.type == 'submit' || event.type == 'click') {\n              event.preventDefault();\n            }\n          },\n          xhr: {\n            always: function () {// nothing special\n            },\n            done: function (response, textStatus, xhr) {\n              var context = this,\n                  elapsedTime = new Date().getTime() - requestStartTime,\n                  timeLeft = settings.loadingDuration - elapsedTime,\n                  translatedResponse = $.isFunction(settings.onResponse) ? module.is.expectingJSON() ? settings.onResponse.call(context, $.extend(true, {}, response)) : settings.onResponse.call(context, response) : false;\n              timeLeft = timeLeft > 0 ? timeLeft : 0;\n\n              if (translatedResponse) {\n                module.debug('Modified API response in onResponse callback', settings.onResponse, translatedResponse, response);\n                response = translatedResponse;\n              }\n\n              if (timeLeft > 0) {\n                module.debug('Response completed early delaying state change by', timeLeft);\n              }\n\n              setTimeout(function () {\n                if (module.is.validResponse(response)) {\n                  module.request.resolveWith(context, [response, xhr]);\n                } else {\n                  module.request.rejectWith(context, [xhr, 'invalid']);\n                }\n              }, timeLeft);\n            },\n            fail: function (xhr, status, httpMessage) {\n              var context = this,\n                  elapsedTime = new Date().getTime() - requestStartTime,\n                  timeLeft = settings.loadingDuration - elapsedTime;\n              timeLeft = timeLeft > 0 ? timeLeft : 0;\n\n              if (timeLeft > 0) {\n                module.debug('Response completed early delaying state change by', timeLeft);\n              }\n\n              setTimeout(function () {\n                if (module.is.abortedRequest(xhr)) {\n                  module.request.rejectWith(context, [xhr, 'aborted', httpMessage]);\n                } else {\n                  module.request.rejectWith(context, [xhr, 'error', status, httpMessage]);\n                }\n              }, timeLeft);\n            }\n          },\n          request: {\n            done: function (response, xhr) {\n              module.debug('Successful API Response', response);\n\n              if (settings.cache === 'local' && url) {\n                module.write.cachedResponse(url, response);\n                module.debug('Saving server response locally', module.cache);\n              }\n\n              settings.onSuccess.call(context, response, $module, xhr);\n            },\n            complete: function (firstParameter, secondParameter) {\n              var xhr, response; // have to guess callback parameters based on request success\n\n              if (module.was.succesful()) {\n                response = firstParameter;\n                xhr = secondParameter;\n              } else {\n                xhr = firstParameter;\n                response = module.get.responseFromXHR(xhr);\n              }\n\n              module.remove.loading();\n              settings.onComplete.call(context, response, $module, xhr);\n            },\n            fail: function (xhr, status, httpMessage) {\n              var // pull response from xhr if available\n              response = module.get.responseFromXHR(xhr),\n                  errorMessage = module.get.errorFromRequest(response, status, httpMessage);\n\n              if (status == 'aborted') {\n                module.debug('XHR Aborted (Most likely caused by page navigation or CORS Policy)', status, httpMessage);\n                settings.onAbort.call(context, status, $module, xhr);\n                return true;\n              } else if (status == 'invalid') {\n                module.debug('JSON did not pass success test. A server-side error has most likely occurred', response);\n              } else if (status == 'error') {\n                if (xhr !== undefined) {\n                  module.debug('XHR produced a server error', status, httpMessage); // make sure we have an error to display to console\n\n                  if (xhr.status != 200 && httpMessage !== undefined && httpMessage !== '') {\n                    module.error(error.statusMessage + httpMessage, ajaxSettings.url);\n                  }\n\n                  settings.onError.call(context, errorMessage, $module, xhr);\n                }\n              }\n\n              if (settings.errorDuration && status !== 'aborted') {\n                module.debug('Adding error state');\n                module.set.error();\n\n                if (module.should.removeError()) {\n                  setTimeout(module.remove.error, settings.errorDuration);\n                }\n              }\n\n              module.debug('API Request failed', errorMessage, xhr);\n              settings.onFailure.call(context, response, $module, xhr);\n            }\n          }\n        },\n        create: {\n          request: function () {\n            // api request promise\n            return $.Deferred().always(module.event.request.complete).done(module.event.request.done).fail(module.event.request.fail);\n          },\n          mockedXHR: function () {\n            var // xhr does not simulate these properties of xhr but must return them\n            textStatus = false,\n                status = false,\n                httpMessage = false,\n                responder = settings.mockResponse || settings.response,\n                asyncResponder = settings.mockResponseAsync || settings.responseAsync,\n                asyncCallback,\n                response,\n                mockedXHR;\n            mockedXHR = $.Deferred().always(module.event.xhr.complete).done(module.event.xhr.done).fail(module.event.xhr.fail);\n\n            if (responder) {\n              if ($.isFunction(responder)) {\n                module.debug('Using specified synchronous callback', responder);\n                response = responder.call(context, requestSettings);\n              } else {\n                module.debug('Using settings specified response', responder);\n                response = responder;\n              } // simulating response\n\n\n              mockedXHR.resolveWith(context, [response, textStatus, {\n                responseText: response\n              }]);\n            } else if ($.isFunction(asyncResponder)) {\n              asyncCallback = function (response) {\n                module.debug('Async callback returned response', response);\n\n                if (response) {\n                  mockedXHR.resolveWith(context, [response, textStatus, {\n                    responseText: response\n                  }]);\n                } else {\n                  mockedXHR.rejectWith(context, [{\n                    responseText: response\n                  }, status, httpMessage]);\n                }\n              };\n\n              module.debug('Using specified async response callback', asyncResponder);\n              asyncResponder.call(context, requestSettings, asyncCallback);\n            }\n\n            return mockedXHR;\n          },\n          xhr: function () {\n            var xhr; // ajax request promise\n\n            xhr = $.ajax(ajaxSettings).always(module.event.xhr.always).done(module.event.xhr.done).fail(module.event.xhr.fail);\n            module.verbose('Created server request', xhr, ajaxSettings);\n            return xhr;\n          }\n        },\n        set: {\n          error: function () {\n            module.verbose('Adding error state to element', $context);\n            $context.addClass(className.error);\n          },\n          loading: function () {\n            module.verbose('Adding loading state to element', $context);\n            $context.addClass(className.loading);\n            requestStartTime = new Date().getTime();\n          }\n        },\n        remove: {\n          error: function () {\n            module.verbose('Removing error state from element', $context);\n            $context.removeClass(className.error);\n          },\n          loading: function () {\n            module.verbose('Removing loading state from element', $context);\n            $context.removeClass(className.loading);\n          }\n        },\n        get: {\n          responseFromXHR: function (xhr) {\n            return $.isPlainObject(xhr) ? module.is.expectingJSON() ? module.decode.json(xhr.responseText) : xhr.responseText : false;\n          },\n          errorFromRequest: function (response, status, httpMessage) {\n            return $.isPlainObject(response) && response.error !== undefined ? response.error // use json error message\n            : settings.error[status] !== undefined ? // use server error message\n            settings.error[status] : httpMessage;\n          },\n          request: function () {\n            return module.request || false;\n          },\n          xhr: function () {\n            return module.xhr || false;\n          },\n          settings: function () {\n            var runSettings;\n            runSettings = settings.beforeSend.call(context, settings);\n\n            if (runSettings) {\n              if (runSettings.success !== undefined) {\n                module.debug('Legacy success callback detected', runSettings);\n                module.error(error.legacyParameters, runSettings.success);\n                runSettings.onSuccess = runSettings.success;\n              }\n\n              if (runSettings.failure !== undefined) {\n                module.debug('Legacy failure callback detected', runSettings);\n                module.error(error.legacyParameters, runSettings.failure);\n                runSettings.onFailure = runSettings.failure;\n              }\n\n              if (runSettings.complete !== undefined) {\n                module.debug('Legacy complete callback detected', runSettings);\n                module.error(error.legacyParameters, runSettings.complete);\n                runSettings.onComplete = runSettings.complete;\n              }\n            }\n\n            if (runSettings === undefined) {\n              module.error(error.noReturnedValue);\n            }\n\n            if (runSettings === false) {\n              return runSettings;\n            }\n\n            return runSettings !== undefined ? $.extend(true, {}, runSettings) : $.extend(true, {}, settings);\n          },\n          urlEncodedValue: function (value) {\n            var decodedValue = window.decodeURIComponent(value),\n                encodedValue = window.encodeURIComponent(value),\n                alreadyEncoded = decodedValue !== value;\n\n            if (alreadyEncoded) {\n              module.debug('URL value is already encoded, avoiding double encoding', value);\n              return value;\n            }\n\n            module.verbose('Encoding value using encodeURIComponent', value, encodedValue);\n            return encodedValue;\n          },\n          defaultData: function () {\n            var data = {};\n\n            if (!$.isWindow(element)) {\n              if (module.is.input()) {\n                data.value = $module.val();\n              } else if (module.is.form()) {} else {\n                data.text = $module.text();\n              }\n            }\n\n            return data;\n          },\n          event: function () {\n            if ($.isWindow(element) || settings.on == 'now') {\n              module.debug('API called without element, no events attached');\n              return false;\n            } else if (settings.on == 'auto') {\n              if ($module.is('input')) {\n                return element.oninput !== undefined ? 'input' : element.onpropertychange !== undefined ? 'propertychange' : 'keyup';\n              } else if ($module.is('form')) {\n                return 'submit';\n              } else {\n                return 'click';\n              }\n            } else {\n              return settings.on;\n            }\n          },\n          templatedURL: function (action) {\n            action = action || $module.data(metadata.action) || settings.action || false;\n            url = $module.data(metadata.url) || settings.url || false;\n\n            if (url) {\n              module.debug('Using specified url', url);\n              return url;\n            }\n\n            if (action) {\n              module.debug('Looking up url for action', action, settings.api);\n\n              if (settings.api[action] === undefined && !module.is.mocked()) {\n                module.error(error.missingAction, settings.action, settings.api);\n                return;\n              }\n\n              url = settings.api[action];\n            } else if (module.is.form()) {\n              url = $module.attr('action') || $context.attr('action') || false;\n              module.debug('No url or action specified, defaulting to form action', url);\n            }\n\n            return url;\n          }\n        },\n        abort: function () {\n          var xhr = module.get.xhr();\n\n          if (xhr && xhr.state() !== 'resolved') {\n            module.debug('Cancelling API request');\n            xhr.abort();\n          }\n        },\n        // reset state\n        reset: function () {\n          module.remove.error();\n          module.remove.loading();\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                //'Element'        : element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.api.settings = {\n    name: 'API',\n    namespace: 'api',\n    debug: false,\n    verbose: false,\n    performance: true,\n    // object containing all templates endpoints\n    api: {},\n    // whether to cache responses\n    cache: true,\n    // whether new requests should abort previous requests\n    interruptRequests: true,\n    // event binding\n    on: 'auto',\n    // context for applying state classes\n    stateContext: false,\n    // duration for loading state\n    loadingDuration: 0,\n    // whether to hide errors after a period of time\n    hideError: 'auto',\n    // duration for error state\n    errorDuration: 2000,\n    // whether parameters should be encoded with encodeURIComponent\n    encodeParameters: true,\n    // API action to use\n    action: false,\n    // templated URL to use\n    url: false,\n    // base URL to apply to all endpoints\n    base: '',\n    // data that will\n    urlData: {},\n    // whether to add default data to url data\n    defaultData: true,\n    // whether to serialize closest form\n    serializeForm: false,\n    // how long to wait before request should occur\n    throttle: 0,\n    // whether to throttle first request or only repeated\n    throttleFirstRequest: true,\n    // standard ajax settings\n    method: 'get',\n    data: {},\n    dataType: 'json',\n    // mock response\n    mockResponse: false,\n    mockResponseAsync: false,\n    // aliases for mock\n    response: false,\n    responseAsync: false,\n    // callbacks before request\n    beforeSend: function (settings) {\n      return settings;\n    },\n    beforeXHR: function (xhr) {},\n    onRequest: function (promise, xhr) {},\n    // after request\n    onResponse: false,\n    // function(response) { },\n    // response was successful, if JSON passed validation\n    onSuccess: function (response, $module) {},\n    // request finished without aborting\n    onComplete: function (response, $module) {},\n    // failed JSON success test\n    onFailure: function (response, $module) {},\n    // server error\n    onError: function (errorMessage, $module) {},\n    // request aborted\n    onAbort: function (errorMessage, $module) {},\n    successTest: false,\n    // errors\n    error: {\n      beforeSend: 'The before send function has aborted the request',\n      error: 'There was an error with your request',\n      exitConditions: 'API Request Aborted. Exit conditions met',\n      JSONParse: 'JSON could not be parsed during error handling',\n      legacyParameters: 'You are using legacy API success callback names',\n      method: 'The method you called is not defined',\n      missingAction: 'API action used but no url was defined',\n      missingSerialize: 'jquery-serialize-object is required to add form data to an existing data object',\n      missingURL: 'No URL specified for api event',\n      noReturnedValue: 'The beforeSend callback must return a settings object, beforeSend ignored.',\n      noStorage: 'Caching responses locally requires session storage',\n      parseError: 'There was an error parsing your request',\n      requiredParameter: 'Missing a required URL parameter: ',\n      statusMessage: 'Server gave an error: ',\n      timeout: 'Your request timed out'\n    },\n    regExp: {\n      required: /\\{\\$*[A-z0-9]+\\}/g,\n      optional: /\\{\\/\\$*[A-z0-9]+\\}/g\n    },\n    className: {\n      loading: 'loading',\n      error: 'error'\n    },\n    selector: {\n      disabled: '.disabled',\n      form: 'form'\n    },\n    metadata: {\n      action: 'action',\n      url: 'url'\n    }\n  };\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"form.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/behaviors/form.js                                                                          //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * # Semantic UI - Form Validation\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.form = function (parameters) {\n    var $allModules = $(this),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        legacyParameters = arguments[1],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue;\n    $allModules.each(function () {\n      var $module = $(this),\n          element = this,\n          formErrors = [],\n          keyHeldDown = false,\n          // set at run-time\n      $field,\n          $group,\n          $message,\n          $prompt,\n          $submit,\n          $clear,\n          $reset,\n          settings,\n          validation,\n          metadata,\n          selector,\n          className,\n          regExp,\n          error,\n          namespace,\n          moduleNamespace,\n          eventNamespace,\n          instance,\n          module;\n      module = {\n        initialize: function () {\n          // settings grabbed at run time\n          module.get.settings();\n\n          if (methodInvoked) {\n            if (instance === undefined) {\n              module.instantiate();\n            }\n\n            module.invoke(query);\n          } else {\n            if (instance !== undefined) {\n              instance.invoke('destroy');\n            }\n\n            module.verbose('Initializing form validation', $module, settings);\n            module.bindEvents();\n            module.set.defaults();\n            module.instantiate();\n          }\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module.data(moduleNamespace, module);\n        },\n        destroy: function () {\n          module.verbose('Destroying previous module', instance);\n          module.removeEvents();\n          $module.removeData(moduleNamespace);\n        },\n        refresh: function () {\n          module.verbose('Refreshing selector cache');\n          $field = $module.find(selector.field);\n          $group = $module.find(selector.group);\n          $message = $module.find(selector.message);\n          $prompt = $module.find(selector.prompt);\n          $submit = $module.find(selector.submit);\n          $clear = $module.find(selector.clear);\n          $reset = $module.find(selector.reset);\n        },\n        submit: function () {\n          module.verbose('Submitting form', $module);\n          $module.submit();\n        },\n        attachEvents: function (selector, action) {\n          action = action || 'submit';\n          $(selector).on('click' + eventNamespace, function (event) {\n            module[action]();\n            event.preventDefault();\n          });\n        },\n        bindEvents: function () {\n          module.verbose('Attaching form events');\n          $module.on('submit' + eventNamespace, module.validate.form).on('blur' + eventNamespace, selector.field, module.event.field.blur).on('click' + eventNamespace, selector.submit, module.submit).on('click' + eventNamespace, selector.reset, module.reset).on('click' + eventNamespace, selector.clear, module.clear);\n\n          if (settings.keyboardShortcuts) {\n            $module.on('keydown' + eventNamespace, selector.field, module.event.field.keydown);\n          }\n\n          $field.each(function () {\n            var $input = $(this),\n                type = $input.prop('type'),\n                inputEvent = module.get.changeEvent(type, $input);\n            $(this).on(inputEvent + eventNamespace, module.event.field.change);\n          });\n        },\n        clear: function () {\n          $field.each(function () {\n            var $field = $(this),\n                $element = $field.parent(),\n                $fieldGroup = $field.closest($group),\n                $prompt = $fieldGroup.find(selector.prompt),\n                defaultValue = $field.data(metadata.defaultValue) || '',\n                isCheckbox = $element.is(selector.uiCheckbox),\n                isDropdown = $element.is(selector.uiDropdown),\n                isErrored = $fieldGroup.hasClass(className.error);\n\n            if (isErrored) {\n              module.verbose('Resetting error on field', $fieldGroup);\n              $fieldGroup.removeClass(className.error);\n              $prompt.remove();\n            }\n\n            if (isDropdown) {\n              module.verbose('Resetting dropdown value', $element, defaultValue);\n              $element.dropdown('clear');\n            } else if (isCheckbox) {\n              $field.prop('checked', false);\n            } else {\n              module.verbose('Resetting field value', $field, defaultValue);\n              $field.val('');\n            }\n          });\n        },\n        reset: function () {\n          $field.each(function () {\n            var $field = $(this),\n                $element = $field.parent(),\n                $fieldGroup = $field.closest($group),\n                $prompt = $fieldGroup.find(selector.prompt),\n                defaultValue = $field.data(metadata.defaultValue),\n                isCheckbox = $element.is(selector.uiCheckbox),\n                isDropdown = $element.is(selector.uiDropdown),\n                isErrored = $fieldGroup.hasClass(className.error);\n\n            if (defaultValue === undefined) {\n              return;\n            }\n\n            if (isErrored) {\n              module.verbose('Resetting error on field', $fieldGroup);\n              $fieldGroup.removeClass(className.error);\n              $prompt.remove();\n            }\n\n            if (isDropdown) {\n              module.verbose('Resetting dropdown value', $element, defaultValue);\n              $element.dropdown('restore defaults');\n            } else if (isCheckbox) {\n              module.verbose('Resetting checkbox value', $element, defaultValue);\n              $field.prop('checked', defaultValue);\n            } else {\n              module.verbose('Resetting field value', $field, defaultValue);\n              $field.val(defaultValue);\n            }\n          });\n        },\n        determine: {\n          isValid: function () {\n            var allValid = true;\n            $.each(validation, function (fieldName, field) {\n              if (!module.validate.field(field, fieldName, true)) {\n                allValid = false;\n              }\n            });\n            return allValid;\n          }\n        },\n        is: {\n          bracketedRule: function (rule) {\n            return rule.type && rule.type.match(settings.regExp.bracket);\n          },\n          shorthandFields: function (fields) {\n            var fieldKeys = Object.keys(fields),\n                firstRule = fields[fieldKeys[0]];\n            return module.is.shorthandRules(firstRule);\n          },\n          // duck type rule test\n          shorthandRules: function (rules) {\n            return typeof rules == 'string' || $.isArray(rules);\n          },\n          empty: function ($field) {\n            if (!$field || $field.length === 0) {\n              return true;\n            } else if ($field.is('input[type=\"checkbox\"]')) {\n              return !$field.is(':checked');\n            } else {\n              return module.is.blank($field);\n            }\n          },\n          blank: function ($field) {\n            return $.trim($field.val()) === '';\n          },\n          valid: function (field) {\n            var allValid = true;\n\n            if (field) {\n              module.verbose('Checking if field is valid', field);\n              return module.validate.field(validation[field], field, false);\n            } else {\n              module.verbose('Checking if form is valid');\n              $.each(validation, function (fieldName, field) {\n                if (!module.is.valid(fieldName)) {\n                  allValid = false;\n                }\n              });\n              return allValid;\n            }\n          }\n        },\n        removeEvents: function () {\n          $module.off(eventNamespace);\n          $field.off(eventNamespace);\n          $submit.off(eventNamespace);\n          $field.off(eventNamespace);\n        },\n        event: {\n          field: {\n            keydown: function (event) {\n              var $field = $(this),\n                  key = event.which,\n                  isInput = $field.is(selector.input),\n                  isCheckbox = $field.is(selector.checkbox),\n                  isInDropdown = $field.closest(selector.uiDropdown).length > 0,\n                  keyCode = {\n                enter: 13,\n                escape: 27\n              };\n\n              if (key == keyCode.escape) {\n                module.verbose('Escape key pressed blurring field');\n                $field.blur();\n              }\n\n              if (!event.ctrlKey && key == keyCode.enter && isInput && !isInDropdown && !isCheckbox) {\n                if (!keyHeldDown) {\n                  $field.one('keyup' + eventNamespace, module.event.field.keyup);\n                  module.submit();\n                  module.debug('Enter pressed on input submitting form');\n                }\n\n                keyHeldDown = true;\n              }\n            },\n            keyup: function () {\n              keyHeldDown = false;\n            },\n            blur: function (event) {\n              var $field = $(this),\n                  $fieldGroup = $field.closest($group),\n                  validationRules = module.get.validation($field);\n\n              if ($fieldGroup.hasClass(className.error)) {\n                module.debug('Revalidating field', $field, validationRules);\n\n                if (validationRules) {\n                  module.validate.field(validationRules);\n                }\n              } else if (settings.on == 'blur') {\n                if (validationRules) {\n                  module.validate.field(validationRules);\n                }\n              }\n            },\n            change: function (event) {\n              var $field = $(this),\n                  $fieldGroup = $field.closest($group),\n                  validationRules = module.get.validation($field);\n\n              if (validationRules && (settings.on == 'change' || $fieldGroup.hasClass(className.error) && settings.revalidate)) {\n                clearTimeout(module.timer);\n                module.timer = setTimeout(function () {\n                  module.debug('Revalidating field', $field, module.get.validation($field));\n                  module.validate.field(validationRules);\n                }, settings.delay);\n              }\n            }\n          }\n        },\n        get: {\n          ancillaryValue: function (rule) {\n            if (!rule.type || !rule.value && !module.is.bracketedRule(rule)) {\n              return false;\n            }\n\n            return rule.value !== undefined ? rule.value : rule.type.match(settings.regExp.bracket)[1] + '';\n          },\n          ruleName: function (rule) {\n            if (module.is.bracketedRule(rule)) {\n              return rule.type.replace(rule.type.match(settings.regExp.bracket)[0], '');\n            }\n\n            return rule.type;\n          },\n          changeEvent: function (type, $input) {\n            if (type == 'checkbox' || type == 'radio' || type == 'hidden' || $input.is('select')) {\n              return 'change';\n            } else {\n              return module.get.inputEvent();\n            }\n          },\n          inputEvent: function () {\n            return document.createElement('input').oninput !== undefined ? 'input' : document.createElement('input').onpropertychange !== undefined ? 'propertychange' : 'keyup';\n          },\n          fieldsFromShorthand: function (fields) {\n            var fullFields = {};\n            $.each(fields, function (name, rules) {\n              if (typeof rules == 'string') {\n                rules = [rules];\n              }\n\n              fullFields[name] = {\n                rules: []\n              };\n              $.each(rules, function (index, rule) {\n                fullFields[name].rules.push({\n                  type: rule\n                });\n              });\n            });\n            return fullFields;\n          },\n          prompt: function (rule, field) {\n            var ruleName = module.get.ruleName(rule),\n                ancillary = module.get.ancillaryValue(rule),\n                $field = module.get.field(field.identifier),\n                value = $field.val(),\n                prompt = $.isFunction(rule.prompt) ? rule.prompt(value) : rule.prompt || settings.prompt[ruleName] || settings.text.unspecifiedRule,\n                requiresValue = prompt.search('{value}') !== -1,\n                requiresName = prompt.search('{name}') !== -1,\n                $label,\n                name;\n\n            if (requiresValue) {\n              prompt = prompt.replace('{value}', $field.val());\n            }\n\n            if (requiresName) {\n              $label = $field.closest(selector.group).find('label').eq(0);\n              name = $label.length == 1 ? $label.text() : $field.prop('placeholder') || settings.text.unspecifiedField;\n              prompt = prompt.replace('{name}', name);\n            }\n\n            prompt = prompt.replace('{identifier}', field.identifier);\n            prompt = prompt.replace('{ruleValue}', ancillary);\n\n            if (!rule.prompt) {\n              module.verbose('Using default validation prompt for type', prompt, ruleName);\n            }\n\n            return prompt;\n          },\n          settings: function () {\n            if ($.isPlainObject(parameters)) {\n              var keys = Object.keys(parameters),\n                  isLegacySettings = keys.length > 0 ? parameters[keys[0]].identifier !== undefined && parameters[keys[0]].rules !== undefined : false,\n                  ruleKeys;\n\n              if (isLegacySettings) {\n                // 1.x (ducktyped)\n                settings = $.extend(true, {}, $.fn.form.settings, legacyParameters);\n                validation = $.extend({}, $.fn.form.settings.defaults, parameters);\n                module.error(settings.error.oldSyntax, element);\n                module.verbose('Extending settings from legacy parameters', validation, settings);\n              } else {\n                // 2.x\n                if (parameters.fields && module.is.shorthandFields(parameters.fields)) {\n                  parameters.fields = module.get.fieldsFromShorthand(parameters.fields);\n                }\n\n                settings = $.extend(true, {}, $.fn.form.settings, parameters);\n                validation = $.extend({}, $.fn.form.settings.defaults, settings.fields);\n                module.verbose('Extending settings', validation, settings);\n              }\n            } else {\n              settings = $.fn.form.settings;\n              validation = $.fn.form.settings.defaults;\n              module.verbose('Using default form validation', validation, settings);\n            } // shorthand\n\n\n            namespace = settings.namespace;\n            metadata = settings.metadata;\n            selector = settings.selector;\n            className = settings.className;\n            regExp = settings.regExp;\n            error = settings.error;\n            moduleNamespace = 'module-' + namespace;\n            eventNamespace = '.' + namespace; // grab instance\n\n            instance = $module.data(moduleNamespace); // refresh selector cache\n\n            module.refresh();\n          },\n          field: function (identifier) {\n            module.verbose('Finding field with identifier', identifier);\n            identifier = module.escape.string(identifier);\n\n            if ($field.filter('#' + identifier).length > 0) {\n              return $field.filter('#' + identifier);\n            } else if ($field.filter('[name=\"' + identifier + '\"]').length > 0) {\n              return $field.filter('[name=\"' + identifier + '\"]');\n            } else if ($field.filter('[name=\"' + identifier + '[]\"]').length > 0) {\n              return $field.filter('[name=\"' + identifier + '[]\"]');\n            } else if ($field.filter('[data-' + metadata.validate + '=\"' + identifier + '\"]').length > 0) {\n              return $field.filter('[data-' + metadata.validate + '=\"' + identifier + '\"]');\n            }\n\n            return $('<input/>');\n          },\n          fields: function (fields) {\n            var $fields = $();\n            $.each(fields, function (index, name) {\n              $fields = $fields.add(module.get.field(name));\n            });\n            return $fields;\n          },\n          validation: function ($field) {\n            var fieldValidation, identifier;\n\n            if (!validation) {\n              return false;\n            }\n\n            $.each(validation, function (fieldName, field) {\n              identifier = field.identifier || fieldName;\n\n              if (module.get.field(identifier)[0] == $field[0]) {\n                field.identifier = identifier;\n                fieldValidation = field;\n              }\n            });\n            return fieldValidation || false;\n          },\n          value: function (field) {\n            var fields = [],\n                results;\n            fields.push(field);\n            results = module.get.values.call(element, fields);\n            return results[field];\n          },\n          values: function (fields) {\n            var $fields = $.isArray(fields) ? module.get.fields(fields) : $field,\n                values = {};\n            $fields.each(function (index, field) {\n              var $field = $(field),\n                  type = $field.prop('type'),\n                  name = $field.prop('name'),\n                  value = $field.val(),\n                  isCheckbox = $field.is(selector.checkbox),\n                  isRadio = $field.is(selector.radio),\n                  isMultiple = name.indexOf('[]') !== -1,\n                  isChecked = isCheckbox ? $field.is(':checked') : false;\n\n              if (name) {\n                if (isMultiple) {\n                  name = name.replace('[]', '');\n\n                  if (!values[name]) {\n                    values[name] = [];\n                  }\n\n                  if (isCheckbox) {\n                    if (isChecked) {\n                      values[name].push(value || true);\n                    } else {\n                      values[name].push(false);\n                    }\n                  } else {\n                    values[name].push(value);\n                  }\n                } else {\n                  if (isRadio) {\n                    if (values[name] === undefined || values[name] == false) {\n                      values[name] = isChecked ? value || true : false;\n                    }\n                  } else if (isCheckbox) {\n                    if (isChecked) {\n                      values[name] = value || true;\n                    } else {\n                      values[name] = false;\n                    }\n                  } else {\n                    values[name] = value;\n                  }\n                }\n              }\n            });\n            return values;\n          }\n        },\n        has: {\n          field: function (identifier) {\n            module.verbose('Checking for existence of a field with identifier', identifier);\n            identifier = module.escape.string(identifier);\n\n            if (typeof identifier !== 'string') {\n              module.error(error.identifier, identifier);\n            }\n\n            if ($field.filter('#' + identifier).length > 0) {\n              return true;\n            } else if ($field.filter('[name=\"' + identifier + '\"]').length > 0) {\n              return true;\n            } else if ($field.filter('[data-' + metadata.validate + '=\"' + identifier + '\"]').length > 0) {\n              return true;\n            }\n\n            return false;\n          }\n        },\n        escape: {\n          string: function (text) {\n            text = String(text);\n            return text.replace(regExp.escape, '\\\\$&');\n          }\n        },\n        add: {\n          // alias\n          rule: function (name, rules) {\n            module.add.field(name, rules);\n          },\n          field: function (name, rules) {\n            var newValidation = {};\n\n            if (module.is.shorthandRules(rules)) {\n              rules = $.isArray(rules) ? rules : [rules];\n              newValidation[name] = {\n                rules: []\n              };\n              $.each(rules, function (index, rule) {\n                newValidation[name].rules.push({\n                  type: rule\n                });\n              });\n            } else {\n              newValidation[name] = rules;\n            }\n\n            validation = $.extend({}, validation, newValidation);\n            module.debug('Adding rules', newValidation, validation);\n          },\n          fields: function (fields) {\n            var newValidation;\n\n            if (fields && module.is.shorthandFields(fields)) {\n              newValidation = module.get.fieldsFromShorthand(fields);\n            } else {\n              newValidation = fields;\n            }\n\n            validation = $.extend({}, validation, newValidation);\n          },\n          prompt: function (identifier, errors) {\n            var $field = module.get.field(identifier),\n                $fieldGroup = $field.closest($group),\n                $prompt = $fieldGroup.children(selector.prompt),\n                promptExists = $prompt.length !== 0;\n            errors = typeof errors == 'string' ? [errors] : errors;\n            module.verbose('Adding field error state', identifier);\n            $fieldGroup.addClass(className.error);\n\n            if (settings.inline) {\n              if (!promptExists) {\n                $prompt = settings.templates.prompt(errors);\n                $prompt.appendTo($fieldGroup);\n              }\n\n              $prompt.html(errors[0]);\n\n              if (!promptExists) {\n                if (settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n                  module.verbose('Displaying error with css transition', settings.transition);\n                  $prompt.transition(settings.transition + ' in', settings.duration);\n                } else {\n                  module.verbose('Displaying error with fallback javascript animation');\n                  $prompt.fadeIn(settings.duration);\n                }\n              } else {\n                module.verbose('Inline errors are disabled, no inline error added', identifier);\n              }\n            }\n          },\n          errors: function (errors) {\n            module.debug('Adding form error messages', errors);\n            module.set.error();\n            $message.html(settings.templates.error(errors));\n          }\n        },\n        remove: {\n          rule: function (field, rule) {\n            var rules = $.isArray(rule) ? rule : [rule];\n\n            if (rule == undefined) {\n              module.debug('Removed all rules');\n              validation[field].rules = [];\n              return;\n            }\n\n            if (validation[field] == undefined || !$.isArray(validation[field].rules)) {\n              return;\n            }\n\n            $.each(validation[field].rules, function (index, rule) {\n              if (rules.indexOf(rule.type) !== -1) {\n                module.debug('Removed rule', rule.type);\n                validation[field].rules.splice(index, 1);\n              }\n            });\n          },\n          field: function (field) {\n            var fields = $.isArray(field) ? field : [field];\n            $.each(fields, function (index, field) {\n              module.remove.rule(field);\n            });\n          },\n          // alias\n          rules: function (field, rules) {\n            if ($.isArray(field)) {\n              $.each(fields, function (index, field) {\n                module.remove.rule(field, rules);\n              });\n            } else {\n              module.remove.rule(field, rules);\n            }\n          },\n          fields: function (fields) {\n            module.remove.field(fields);\n          },\n          prompt: function (identifier) {\n            var $field = module.get.field(identifier),\n                $fieldGroup = $field.closest($group),\n                $prompt = $fieldGroup.children(selector.prompt);\n            $fieldGroup.removeClass(className.error);\n\n            if (settings.inline && $prompt.is(':visible')) {\n              module.verbose('Removing prompt for field', identifier);\n\n              if (settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n                $prompt.transition(settings.transition + ' out', settings.duration, function () {\n                  $prompt.remove();\n                });\n              } else {\n                $prompt.fadeOut(settings.duration, function () {\n                  $prompt.remove();\n                });\n              }\n            }\n          }\n        },\n        set: {\n          success: function () {\n            $module.removeClass(className.error).addClass(className.success);\n          },\n          defaults: function () {\n            $field.each(function () {\n              var $field = $(this),\n                  isCheckbox = $field.filter(selector.checkbox).length > 0,\n                  value = isCheckbox ? $field.is(':checked') : $field.val();\n              $field.data(metadata.defaultValue, value);\n            });\n          },\n          error: function () {\n            $module.removeClass(className.success).addClass(className.error);\n          },\n          value: function (field, value) {\n            var fields = {};\n            fields[field] = value;\n            return module.set.values.call(element, fields);\n          },\n          values: function (fields) {\n            if ($.isEmptyObject(fields)) {\n              return;\n            }\n\n            $.each(fields, function (key, value) {\n              var $field = module.get.field(key),\n                  $element = $field.parent(),\n                  isMultiple = $.isArray(value),\n                  isCheckbox = $element.is(selector.uiCheckbox),\n                  isDropdown = $element.is(selector.uiDropdown),\n                  isRadio = $field.is(selector.radio) && isCheckbox,\n                  fieldExists = $field.length > 0,\n                  $multipleField;\n\n              if (fieldExists) {\n                if (isMultiple && isCheckbox) {\n                  module.verbose('Selecting multiple', value, $field);\n                  $element.checkbox('uncheck');\n                  $.each(value, function (index, value) {\n                    $multipleField = $field.filter('[value=\"' + value + '\"]');\n                    $element = $multipleField.parent();\n\n                    if ($multipleField.length > 0) {\n                      $element.checkbox('check');\n                    }\n                  });\n                } else if (isRadio) {\n                  module.verbose('Selecting radio value', value, $field);\n                  $field.filter('[value=\"' + value + '\"]').parent(selector.uiCheckbox).checkbox('check');\n                } else if (isCheckbox) {\n                  module.verbose('Setting checkbox value', value, $element);\n\n                  if (value === true) {\n                    $element.checkbox('check');\n                  } else {\n                    $element.checkbox('uncheck');\n                  }\n                } else if (isDropdown) {\n                  module.verbose('Setting dropdown value', value, $element);\n                  $element.dropdown('set selected', value);\n                } else {\n                  module.verbose('Setting field value', value, $field);\n                  $field.val(value);\n                }\n              }\n            });\n          }\n        },\n        validate: {\n          form: function (event, ignoreCallbacks) {\n            var values = module.get.values(),\n                apiRequest; // input keydown event will fire submit repeatedly by browser default\n\n            if (keyHeldDown) {\n              return false;\n            } // reset errors\n\n\n            formErrors = [];\n\n            if (module.determine.isValid()) {\n              module.debug('Form has no validation errors, submitting');\n              module.set.success();\n\n              if (ignoreCallbacks !== true) {\n                return settings.onSuccess.call(element, event, values);\n              }\n            } else {\n              module.debug('Form has errors');\n              module.set.error();\n\n              if (!settings.inline) {\n                module.add.errors(formErrors);\n              } // prevent ajax submit\n\n\n              if ($module.data('moduleApi') !== undefined) {\n                event.stopImmediatePropagation();\n              }\n\n              if (ignoreCallbacks !== true) {\n                return settings.onFailure.call(element, formErrors, values);\n              }\n            }\n          },\n          // takes a validation object and returns whether field passes validation\n          field: function (field, fieldName, showErrors) {\n            showErrors = showErrors !== undefined ? showErrors : true;\n\n            if (typeof field == 'string') {\n              module.verbose('Validating field', field);\n              fieldName = field;\n              field = validation[field];\n            }\n\n            var identifier = field.identifier || fieldName,\n                $field = module.get.field(identifier),\n                $dependsField = field.depends ? module.get.field(field.depends) : false,\n                fieldValid = true,\n                fieldErrors = [];\n\n            if (!field.identifier) {\n              module.debug('Using field name as identifier', identifier);\n              field.identifier = identifier;\n            }\n\n            if ($field.prop('disabled')) {\n              module.debug('Field is disabled. Skipping', identifier);\n              fieldValid = true;\n            } else if (field.optional && module.is.blank($field)) {\n              module.debug('Field is optional and blank. Skipping', identifier);\n              fieldValid = true;\n            } else if (field.depends && module.is.empty($dependsField)) {\n              module.debug('Field depends on another value that is not present or empty. Skipping', $dependsField);\n              fieldValid = true;\n            } else if (field.rules !== undefined) {\n              $.each(field.rules, function (index, rule) {\n                if (module.has.field(identifier) && !module.validate.rule(field, rule)) {\n                  module.debug('Field is invalid', identifier, rule.type);\n                  fieldErrors.push(module.get.prompt(rule, field));\n                  fieldValid = false;\n                }\n              });\n            }\n\n            if (fieldValid) {\n              if (showErrors) {\n                module.remove.prompt(identifier, fieldErrors);\n                settings.onValid.call($field);\n              }\n            } else {\n              if (showErrors) {\n                formErrors = formErrors.concat(fieldErrors);\n                module.add.prompt(identifier, fieldErrors);\n                settings.onInvalid.call($field, fieldErrors);\n              }\n\n              return false;\n            }\n\n            return true;\n          },\n          // takes validation rule and returns whether field passes rule\n          rule: function (field, rule) {\n            var $field = module.get.field(field.identifier),\n                type = rule.type,\n                value = $field.val(),\n                isValid = true,\n                ancillary = module.get.ancillaryValue(rule),\n                ruleName = module.get.ruleName(rule),\n                ruleFunction = settings.rules[ruleName];\n\n            if (!$.isFunction(ruleFunction)) {\n              module.error(error.noRule, ruleName);\n              return;\n            } // cast to string avoiding encoding special values\n\n\n            value = value === undefined || value === '' || value === null ? '' : $.trim(value + '');\n            return ruleFunction.call($field, value, ancillary);\n          }\n        },\n        setting: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            settings[name] = value;\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n      module.initialize();\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.form.settings = {\n    name: 'Form',\n    namespace: 'form',\n    debug: false,\n    verbose: false,\n    performance: true,\n    fields: false,\n    keyboardShortcuts: true,\n    on: 'submit',\n    inline: false,\n    delay: 200,\n    revalidate: true,\n    transition: 'scale',\n    duration: 200,\n    onValid: function () {},\n    onInvalid: function () {},\n    onSuccess: function () {\n      return true;\n    },\n    onFailure: function () {\n      return false;\n    },\n    metadata: {\n      defaultValue: 'default',\n      validate: 'validate'\n    },\n    regExp: {\n      htmlID: /^[a-zA-Z][\\w:.-]*$/g,\n      bracket: /\\[(.*)\\]/i,\n      decimal: /^\\d+\\.?\\d*$/,\n      email: /^[a-z0-9!#$%&'*+\\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,\n      escape: /[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g,\n      flags: /^\\/(.*)\\/(.*)?/,\n      integer: /^\\-?\\d+$/,\n      number: /^\\-?\\d*(\\.\\d+)?$/,\n      url: /(https?:\\/\\/(?:www\\.|(?!www))[^\\s\\.]+\\.[^\\s]{2,}|www\\.[^\\s]+\\.[^\\s]{2,})/i\n    },\n    text: {\n      unspecifiedRule: 'Please enter a valid value',\n      unspecifiedField: 'This field'\n    },\n    prompt: {\n      empty: '{name} must have a value',\n      checked: '{name} must be checked',\n      email: '{name} must be a valid e-mail',\n      url: '{name} must be a valid url',\n      regExp: '{name} is not formatted correctly',\n      integer: '{name} must be an integer',\n      decimal: '{name} must be a decimal number',\n      number: '{name} must be set to a number',\n      is: '{name} must be \"{ruleValue}\"',\n      isExactly: '{name} must be exactly \"{ruleValue}\"',\n      not: '{name} cannot be set to \"{ruleValue}\"',\n      notExactly: '{name} cannot be set to exactly \"{ruleValue}\"',\n      contain: '{name} must contain \"{ruleValue}\"',\n      containExactly: '{name} must contain exactly \"{ruleValue}\"',\n      doesntContain: '{name} cannot contain  \"{ruleValue}\"',\n      doesntContainExactly: '{name} cannot contain exactly \"{ruleValue}\"',\n      minLength: '{name} must be at least {ruleValue} characters',\n      length: '{name} must be at least {ruleValue} characters',\n      exactLength: '{name} must be exactly {ruleValue} characters',\n      maxLength: '{name} cannot be longer than {ruleValue} characters',\n      match: '{name} must match {ruleValue} field',\n      different: '{name} must have a different value than {ruleValue} field',\n      creditCard: '{name} must be a valid credit card number',\n      minCount: '{name} must have at least {ruleValue} choices',\n      exactCount: '{name} must have exactly {ruleValue} choices',\n      maxCount: '{name} must have {ruleValue} or less choices'\n    },\n    selector: {\n      checkbox: 'input[type=\"checkbox\"], input[type=\"radio\"]',\n      clear: '.clear',\n      field: 'input, textarea, select',\n      group: '.field',\n      input: 'input',\n      message: '.error.message',\n      prompt: '.prompt.label',\n      radio: 'input[type=\"radio\"]',\n      reset: '.reset:not([type=\"reset\"])',\n      submit: '.submit:not([type=\"submit\"])',\n      uiCheckbox: '.ui.checkbox',\n      uiDropdown: '.ui.dropdown'\n    },\n    className: {\n      error: 'error',\n      label: 'ui prompt label',\n      pressed: 'down',\n      success: 'success'\n    },\n    error: {\n      identifier: 'You must specify a string identifier for each field',\n      method: 'The method you called is not defined.',\n      noRule: 'There is no rule matching the one you specified',\n      oldSyntax: 'Starting in 2.0 forms now only take a single settings object. Validation settings converted to new syntax automatically.'\n    },\n    templates: {\n      // template that produces error message\n      error: function (errors) {\n        var html = '<ul class=\"list\">';\n        $.each(errors, function (index, value) {\n          html += '<li>' + value + '</li>';\n        });\n        html += '</ul>';\n        return $(html);\n      },\n      // template that produces label\n      prompt: function (errors) {\n        return $('<div/>').addClass('ui basic red pointing prompt label').html(errors[0]);\n      }\n    },\n    rules: {\n      // is not empty or blank string\n      empty: function (value) {\n        return !(value === undefined || '' === value || $.isArray(value) && value.length === 0);\n      },\n      // checkbox checked\n      checked: function () {\n        return $(this).filter(':checked').length > 0;\n      },\n      // is most likely an email\n      email: function (value) {\n        return $.fn.form.settings.regExp.email.test(value);\n      },\n      // value is most likely url\n      url: function (value) {\n        return $.fn.form.settings.regExp.url.test(value);\n      },\n      // matches specified regExp\n      regExp: function (value, regExp) {\n        if (regExp instanceof RegExp) {\n          return value.match(regExp);\n        }\n\n        var regExpParts = regExp.match($.fn.form.settings.regExp.flags),\n            flags; // regular expression specified as /baz/gi (flags)\n\n        if (regExpParts) {\n          regExp = regExpParts.length >= 2 ? regExpParts[1] : regExp;\n          flags = regExpParts.length >= 3 ? regExpParts[2] : '';\n        }\n\n        return value.match(new RegExp(regExp, flags));\n      },\n      // is valid integer or matches range\n      integer: function (value, range) {\n        var intRegExp = $.fn.form.settings.regExp.integer,\n            min,\n            max,\n            parts;\n\n        if (!range || ['', '..'].indexOf(range) !== -1) {// do nothing\n        } else if (range.indexOf('..') == -1) {\n          if (intRegExp.test(range)) {\n            min = max = range - 0;\n          }\n        } else {\n          parts = range.split('..', 2);\n\n          if (intRegExp.test(parts[0])) {\n            min = parts[0] - 0;\n          }\n\n          if (intRegExp.test(parts[1])) {\n            max = parts[1] - 0;\n          }\n        }\n\n        return intRegExp.test(value) && (min === undefined || value >= min) && (max === undefined || value <= max);\n      },\n      // is valid number (with decimal)\n      decimal: function (value) {\n        return $.fn.form.settings.regExp.decimal.test(value);\n      },\n      // is valid number\n      number: function (value) {\n        return $.fn.form.settings.regExp.number.test(value);\n      },\n      // is value (case insensitive)\n      is: function (value, text) {\n        text = typeof text == 'string' ? text.toLowerCase() : text;\n        value = typeof value == 'string' ? value.toLowerCase() : value;\n        return value == text;\n      },\n      // is value\n      isExactly: function (value, text) {\n        return value == text;\n      },\n      // value is not another value (case insensitive)\n      not: function (value, notValue) {\n        value = typeof value == 'string' ? value.toLowerCase() : value;\n        notValue = typeof notValue == 'string' ? notValue.toLowerCase() : notValue;\n        return value != notValue;\n      },\n      // value is not another value (case sensitive)\n      notExactly: function (value, notValue) {\n        return value != notValue;\n      },\n      // value contains text (insensitive)\n      contains: function (value, text) {\n        // escape regex characters\n        text = text.replace($.fn.form.settings.regExp.escape, \"\\\\$&\");\n        return value.search(new RegExp(text, 'i')) !== -1;\n      },\n      // value contains text (case sensitive)\n      containsExactly: function (value, text) {\n        // escape regex characters\n        text = text.replace($.fn.form.settings.regExp.escape, \"\\\\$&\");\n        return value.search(new RegExp(text)) !== -1;\n      },\n      // value contains text (insensitive)\n      doesntContain: function (value, text) {\n        // escape regex characters\n        text = text.replace($.fn.form.settings.regExp.escape, \"\\\\$&\");\n        return value.search(new RegExp(text, 'i')) === -1;\n      },\n      // value contains text (case sensitive)\n      doesntContainExactly: function (value, text) {\n        // escape regex characters\n        text = text.replace($.fn.form.settings.regExp.escape, \"\\\\$&\");\n        return value.search(new RegExp(text)) === -1;\n      },\n      // is at least string length\n      minLength: function (value, requiredLength) {\n        return value !== undefined ? value.length >= requiredLength : false;\n      },\n      // see rls notes for 2.0.6 (this is a duplicate of minLength)\n      length: function (value, requiredLength) {\n        return value !== undefined ? value.length >= requiredLength : false;\n      },\n      // is exactly length\n      exactLength: function (value, requiredLength) {\n        return value !== undefined ? value.length == requiredLength : false;\n      },\n      // is less than length\n      maxLength: function (value, maxLength) {\n        return value !== undefined ? value.length <= maxLength : false;\n      },\n      // matches another field\n      match: function (value, identifier) {\n        var $form = $(this),\n            matchingValue;\n\n        if ($('[data-validate=\"' + identifier + '\"]').length > 0) {\n          matchingValue = $('[data-validate=\"' + identifier + '\"]').val();\n        } else if ($('#' + identifier).length > 0) {\n          matchingValue = $('#' + identifier).val();\n        } else if ($('[name=\"' + identifier + '\"]').length > 0) {\n          matchingValue = $('[name=\"' + identifier + '\"]').val();\n        } else if ($('[name=\"' + identifier + '[]\"]').length > 0) {\n          matchingValue = $('[name=\"' + identifier + '[]\"]');\n        }\n\n        return matchingValue !== undefined ? value.toString() == matchingValue.toString() : false;\n      },\n      // different than another field\n      different: function (value, identifier) {\n        // use either id or name of field\n        var $form = $(this),\n            matchingValue;\n\n        if ($('[data-validate=\"' + identifier + '\"]').length > 0) {\n          matchingValue = $('[data-validate=\"' + identifier + '\"]').val();\n        } else if ($('#' + identifier).length > 0) {\n          matchingValue = $('#' + identifier).val();\n        } else if ($('[name=\"' + identifier + '\"]').length > 0) {\n          matchingValue = $('[name=\"' + identifier + '\"]').val();\n        } else if ($('[name=\"' + identifier + '[]\"]').length > 0) {\n          matchingValue = $('[name=\"' + identifier + '[]\"]');\n        }\n\n        return matchingValue !== undefined ? value.toString() !== matchingValue.toString() : false;\n      },\n      creditCard: function (cardNumber, cardTypes) {\n        var cards = {\n          visa: {\n            pattern: /^4/,\n            length: [16]\n          },\n          amex: {\n            pattern: /^3[47]/,\n            length: [15]\n          },\n          mastercard: {\n            pattern: /^5[1-5]/,\n            length: [16]\n          },\n          discover: {\n            pattern: /^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,\n            length: [16]\n          },\n          unionPay: {\n            pattern: /^(62|88)/,\n            length: [16, 17, 18, 19]\n          },\n          jcb: {\n            pattern: /^35(2[89]|[3-8][0-9])/,\n            length: [16]\n          },\n          maestro: {\n            pattern: /^(5018|5020|5038|6304|6759|676[1-3])/,\n            length: [12, 13, 14, 15, 16, 17, 18, 19]\n          },\n          dinersClub: {\n            pattern: /^(30[0-5]|^36)/,\n            length: [14]\n          },\n          laser: {\n            pattern: /^(6304|670[69]|6771)/,\n            length: [16, 17, 18, 19]\n          },\n          visaElectron: {\n            pattern: /^(4026|417500|4508|4844|491(3|7))/,\n            length: [16]\n          }\n        },\n            valid = {},\n            validCard = false,\n            requiredTypes = typeof cardTypes == 'string' ? cardTypes.split(',') : false,\n            unionPay,\n            validation;\n\n        if (typeof cardNumber !== 'string' || cardNumber.length === 0) {\n          return;\n        } // allow dashes in card\n\n\n        cardNumber = cardNumber.replace(/[\\-]/g, ''); // verify card types\n\n        if (requiredTypes) {\n          $.each(requiredTypes, function (index, type) {\n            // verify each card type\n            validation = cards[type];\n\n            if (validation) {\n              valid = {\n                length: $.inArray(cardNumber.length, validation.length) !== -1,\n                pattern: cardNumber.search(validation.pattern) !== -1\n              };\n\n              if (valid.length && valid.pattern) {\n                validCard = true;\n              }\n            }\n          });\n\n          if (!validCard) {\n            return false;\n          }\n        } // skip luhn for UnionPay\n\n\n        unionPay = {\n          number: $.inArray(cardNumber.length, cards.unionPay.length) !== -1,\n          pattern: cardNumber.search(cards.unionPay.pattern) !== -1\n        };\n\n        if (unionPay.number && unionPay.pattern) {\n          return true;\n        } // verify luhn, adapted from  <https://gist.github.com/2134376>\n\n\n        var length = cardNumber.length,\n            multiple = 0,\n            producedValue = [[0, 1, 2, 3, 4, 5, 6, 7, 8, 9], [0, 2, 4, 6, 8, 1, 3, 5, 7, 9]],\n            sum = 0;\n\n        while (length--) {\n          sum += producedValue[multiple][parseInt(cardNumber.charAt(length), 10)];\n          multiple ^= 1;\n        }\n\n        return sum % 10 === 0 && sum > 0;\n      },\n      minCount: function (value, minCount) {\n        if (minCount == 0) {\n          return true;\n        }\n\n        if (minCount == 1) {\n          return value !== '';\n        }\n\n        return value.split(',').length >= minCount;\n      },\n      exactCount: function (value, exactCount) {\n        if (exactCount == 0) {\n          return value === '';\n        }\n\n        if (exactCount == 1) {\n          return value !== '' && value.search(',') === -1;\n        }\n\n        return value.split(',').length == exactCount;\n      },\n      maxCount: function (value, maxCount) {\n        if (maxCount == 0) {\n          return false;\n        }\n\n        if (maxCount == 1) {\n          return value.search(',') === -1;\n        }\n\n        return value.split(',').length <= maxCount;\n      }\n    }\n  };\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"visibility.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/behaviors/visibility.js                                                                    //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * # Semantic UI - Visibility\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.visibility = function (parameters) {\n    var $allModules = $(this),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue,\n        moduleCount = $allModules.length,\n        loadedCount = 0;\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.visibility.settings, parameters) : $.extend({}, $.fn.visibility.settings),\n          className = settings.className,\n          namespace = settings.namespace,\n          error = settings.error,\n          metadata = settings.metadata,\n          eventNamespace = '.' + namespace,\n          moduleNamespace = 'module-' + namespace,\n          $window = $(window),\n          $module = $(this),\n          $context = $(settings.context),\n          $placeholder,\n          selector = $module.selector || '',\n          instance = $module.data(moduleNamespace),\n          requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {\n        setTimeout(callback, 0);\n      },\n          element = this,\n          disabled = false,\n          contextObserver,\n          observer,\n          module;\n\n      module = {\n        initialize: function () {\n          module.debug('Initializing', settings);\n          module.setup.cache();\n\n          if (module.should.trackChanges()) {\n            if (settings.type == 'image') {\n              module.setup.image();\n            }\n\n            if (settings.type == 'fixed') {\n              module.setup.fixed();\n            }\n\n            if (settings.observeChanges) {\n              module.observeChanges();\n            }\n\n            module.bind.events();\n          }\n\n          module.save.position();\n\n          if (!module.is.visible()) {\n            module.error(error.visible, $module);\n          }\n\n          if (settings.initialCheck) {\n            module.checkVisibility();\n          }\n\n          module.instantiate();\n        },\n        instantiate: function () {\n          module.debug('Storing instance', module);\n          $module.data(moduleNamespace, module);\n          instance = module;\n        },\n        destroy: function () {\n          module.verbose('Destroying previous module');\n\n          if (observer) {\n            observer.disconnect();\n          }\n\n          if (contextObserver) {\n            contextObserver.disconnect();\n          }\n\n          $window.off('load' + eventNamespace, module.event.load).off('resize' + eventNamespace, module.event.resize);\n          $context.off('scroll' + eventNamespace, module.event.scroll).off('scrollchange' + eventNamespace, module.event.scrollchange);\n\n          if (settings.type == 'fixed') {\n            module.resetFixed();\n            module.remove.placeholder();\n          }\n\n          $module.off(eventNamespace).removeData(moduleNamespace);\n        },\n        observeChanges: function () {\n          if ('MutationObserver' in window) {\n            contextObserver = new MutationObserver(module.event.contextChanged);\n            observer = new MutationObserver(module.event.changed);\n            contextObserver.observe(document, {\n              childList: true,\n              subtree: true\n            });\n            observer.observe(element, {\n              childList: true,\n              subtree: true\n            });\n            module.debug('Setting up mutation observer', observer);\n          }\n        },\n        bind: {\n          events: function () {\n            module.verbose('Binding visibility events to scroll and resize');\n\n            if (settings.refreshOnLoad) {\n              $window.on('load' + eventNamespace, module.event.load);\n            }\n\n            $window.on('resize' + eventNamespace, module.event.resize); // pub/sub pattern\n\n            $context.off('scroll' + eventNamespace).on('scroll' + eventNamespace, module.event.scroll).on('scrollchange' + eventNamespace, module.event.scrollchange);\n          }\n        },\n        event: {\n          changed: function (mutations) {\n            module.verbose('DOM tree modified, updating visibility calculations');\n            module.timer = setTimeout(function () {\n              module.verbose('DOM tree modified, updating sticky menu');\n              module.refresh();\n            }, 100);\n          },\n          contextChanged: function (mutations) {\n            [].forEach.call(mutations, function (mutation) {\n              if (mutation.removedNodes) {\n                [].forEach.call(mutation.removedNodes, function (node) {\n                  if (node == element || $(node).find(element).length > 0) {\n                    module.debug('Element removed from DOM, tearing down events');\n                    module.destroy();\n                  }\n                });\n              }\n            });\n          },\n          resize: function () {\n            module.debug('Window resized');\n\n            if (settings.refreshOnResize) {\n              requestAnimationFrame(module.refresh);\n            }\n          },\n          load: function () {\n            module.debug('Page finished loading');\n            requestAnimationFrame(module.refresh);\n          },\n          // publishes scrollchange event on one scroll\n          scroll: function () {\n            if (settings.throttle) {\n              clearTimeout(module.timer);\n              module.timer = setTimeout(function () {\n                $context.triggerHandler('scrollchange' + eventNamespace, [$context.scrollTop()]);\n              }, settings.throttle);\n            } else {\n              requestAnimationFrame(function () {\n                $context.triggerHandler('scrollchange' + eventNamespace, [$context.scrollTop()]);\n              });\n            }\n          },\n          // subscribes to scrollchange\n          scrollchange: function (event, scrollPosition) {\n            module.checkVisibility(scrollPosition);\n          }\n        },\n        precache: function (images, callback) {\n          if (!(images instanceof Array)) {\n            images = [images];\n          }\n\n          var imagesLength = images.length,\n              loadedCounter = 0,\n              cache = [],\n              cacheImage = document.createElement('img'),\n              handleLoad = function () {\n            loadedCounter++;\n\n            if (loadedCounter >= images.length) {\n              if ($.isFunction(callback)) {\n                callback();\n              }\n            }\n          };\n\n          while (imagesLength--) {\n            cacheImage = document.createElement('img');\n            cacheImage.onload = handleLoad;\n            cacheImage.onerror = handleLoad;\n            cacheImage.src = images[imagesLength];\n            cache.push(cacheImage);\n          }\n        },\n        enableCallbacks: function () {\n          module.debug('Allowing callbacks to occur');\n          disabled = false;\n        },\n        disableCallbacks: function () {\n          module.debug('Disabling all callbacks temporarily');\n          disabled = true;\n        },\n        should: {\n          trackChanges: function () {\n            if (methodInvoked) {\n              module.debug('One time query, no need to bind events');\n              return false;\n            }\n\n            module.debug('Callbacks being attached');\n            return true;\n          }\n        },\n        setup: {\n          cache: function () {\n            module.cache = {\n              occurred: {},\n              screen: {},\n              element: {}\n            };\n          },\n          image: function () {\n            var src = $module.data(metadata.src);\n\n            if (src) {\n              module.verbose('Lazy loading image', src);\n              settings.once = true;\n              settings.observeChanges = false; // show when top visible\n\n              settings.onOnScreen = function () {\n                module.debug('Image on screen', element);\n                module.precache(src, function () {\n                  module.set.image(src, function () {\n                    loadedCount++;\n\n                    if (loadedCount == moduleCount) {\n                      settings.onAllLoaded.call(this);\n                    }\n\n                    settings.onLoad.call(this);\n                  });\n                });\n              };\n            }\n          },\n          fixed: function () {\n            module.debug('Setting up fixed');\n            settings.once = false;\n            settings.observeChanges = false;\n            settings.initialCheck = true;\n            settings.refreshOnLoad = true;\n\n            if (!parameters.transition) {\n              settings.transition = false;\n            }\n\n            module.create.placeholder();\n            module.debug('Added placeholder', $placeholder);\n\n            settings.onTopPassed = function () {\n              module.debug('Element passed, adding fixed position', $module);\n              module.show.placeholder();\n              module.set.fixed();\n\n              if (settings.transition) {\n                if ($.fn.transition !== undefined) {\n                  $module.transition(settings.transition, settings.duration);\n                }\n              }\n            };\n\n            settings.onTopPassedReverse = function () {\n              module.debug('Element returned to position, removing fixed', $module);\n              module.hide.placeholder();\n              module.remove.fixed();\n            };\n          }\n        },\n        create: {\n          placeholder: function () {\n            module.verbose('Creating fixed position placeholder');\n            $placeholder = $module.clone(false).css('display', 'none').addClass(className.placeholder).insertAfter($module);\n          }\n        },\n        show: {\n          placeholder: function () {\n            module.verbose('Showing placeholder');\n            $placeholder.css('display', 'block').css('visibility', 'hidden');\n          }\n        },\n        hide: {\n          placeholder: function () {\n            module.verbose('Hiding placeholder');\n            $placeholder.css('display', 'none').css('visibility', '');\n          }\n        },\n        set: {\n          fixed: function () {\n            module.verbose('Setting element to fixed position');\n            $module.addClass(className.fixed).css({\n              position: 'fixed',\n              top: settings.offset + 'px',\n              left: 'auto',\n              zIndex: settings.zIndex\n            });\n            settings.onFixed.call(element);\n          },\n          image: function (src, callback) {\n            $module.attr('src', src);\n\n            if (settings.transition) {\n              if ($.fn.transition !== undefined) {\n                if ($module.hasClass(className.visible)) {\n                  module.debug('Transition already occurred on this image, skipping animation');\n                  return;\n                }\n\n                $module.transition(settings.transition, settings.duration, callback);\n              } else {\n                $module.fadeIn(settings.duration, callback);\n              }\n            } else {\n              $module.show();\n            }\n          }\n        },\n        is: {\n          onScreen: function () {\n            var calculations = module.get.elementCalculations();\n            return calculations.onScreen;\n          },\n          offScreen: function () {\n            var calculations = module.get.elementCalculations();\n            return calculations.offScreen;\n          },\n          visible: function () {\n            if (module.cache && module.cache.element) {\n              return !(module.cache.element.width === 0 && module.cache.element.offset.top === 0);\n            }\n\n            return false;\n          },\n          verticallyScrollableContext: function () {\n            var overflowY = $context.get(0) !== window ? $context.css('overflow-y') : false;\n            return overflowY == 'auto' || overflowY == 'scroll';\n          },\n          horizontallyScrollableContext: function () {\n            var overflowX = $context.get(0) !== window ? $context.css('overflow-x') : false;\n            return overflowX == 'auto' || overflowX == 'scroll';\n          }\n        },\n        refresh: function () {\n          module.debug('Refreshing constants (width/height)');\n\n          if (settings.type == 'fixed') {\n            module.resetFixed();\n          }\n\n          module.reset();\n          module.save.position();\n\n          if (settings.checkOnRefresh) {\n            module.checkVisibility();\n          }\n\n          settings.onRefresh.call(element);\n        },\n        resetFixed: function () {\n          module.remove.fixed();\n          module.remove.occurred();\n        },\n        reset: function () {\n          module.verbose('Resetting all cached values');\n\n          if ($.isPlainObject(module.cache)) {\n            module.cache.screen = {};\n            module.cache.element = {};\n          }\n        },\n        checkVisibility: function (scroll) {\n          module.verbose('Checking visibility of element', module.cache.element);\n\n          if (!disabled && module.is.visible()) {\n            // save scroll position\n            module.save.scroll(scroll); // update calculations derived from scroll\n\n            module.save.calculations(); // percentage\n\n            module.passed(); // reverse (must be first)\n\n            module.passingReverse();\n            module.topVisibleReverse();\n            module.bottomVisibleReverse();\n            module.topPassedReverse();\n            module.bottomPassedReverse(); // one time\n\n            module.onScreen();\n            module.offScreen();\n            module.passing();\n            module.topVisible();\n            module.bottomVisible();\n            module.topPassed();\n            module.bottomPassed(); // on update callback\n\n            if (settings.onUpdate) {\n              settings.onUpdate.call(element, module.get.elementCalculations());\n            }\n          }\n        },\n        passed: function (amount, newCallback) {\n          var calculations = module.get.elementCalculations(),\n              amountInPixels; // assign callback\n\n          if (amount && newCallback) {\n            settings.onPassed[amount] = newCallback;\n          } else if (amount !== undefined) {\n            return module.get.pixelsPassed(amount) > calculations.pixelsPassed;\n          } else if (calculations.passing) {\n            $.each(settings.onPassed, function (amount, callback) {\n              if (calculations.bottomVisible || calculations.pixelsPassed > module.get.pixelsPassed(amount)) {\n                module.execute(callback, amount);\n              } else if (!settings.once) {\n                module.remove.occurred(callback);\n              }\n            });\n          }\n        },\n        onScreen: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onOnScreen,\n              callbackName = 'onScreen';\n\n          if (newCallback) {\n            module.debug('Adding callback for onScreen', newCallback);\n            settings.onOnScreen = newCallback;\n          }\n\n          if (calculations.onScreen) {\n            module.execute(callback, callbackName);\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback !== undefined) {\n            return calculations.onOnScreen;\n          }\n        },\n        offScreen: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onOffScreen,\n              callbackName = 'offScreen';\n\n          if (newCallback) {\n            module.debug('Adding callback for offScreen', newCallback);\n            settings.onOffScreen = newCallback;\n          }\n\n          if (calculations.offScreen) {\n            module.execute(callback, callbackName);\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback !== undefined) {\n            return calculations.onOffScreen;\n          }\n        },\n        passing: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onPassing,\n              callbackName = 'passing';\n\n          if (newCallback) {\n            module.debug('Adding callback for passing', newCallback);\n            settings.onPassing = newCallback;\n          }\n\n          if (calculations.passing) {\n            module.execute(callback, callbackName);\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback !== undefined) {\n            return calculations.passing;\n          }\n        },\n        topVisible: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onTopVisible,\n              callbackName = 'topVisible';\n\n          if (newCallback) {\n            module.debug('Adding callback for top visible', newCallback);\n            settings.onTopVisible = newCallback;\n          }\n\n          if (calculations.topVisible) {\n            module.execute(callback, callbackName);\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback === undefined) {\n            return calculations.topVisible;\n          }\n        },\n        bottomVisible: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onBottomVisible,\n              callbackName = 'bottomVisible';\n\n          if (newCallback) {\n            module.debug('Adding callback for bottom visible', newCallback);\n            settings.onBottomVisible = newCallback;\n          }\n\n          if (calculations.bottomVisible) {\n            module.execute(callback, callbackName);\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback === undefined) {\n            return calculations.bottomVisible;\n          }\n        },\n        topPassed: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onTopPassed,\n              callbackName = 'topPassed';\n\n          if (newCallback) {\n            module.debug('Adding callback for top passed', newCallback);\n            settings.onTopPassed = newCallback;\n          }\n\n          if (calculations.topPassed) {\n            module.execute(callback, callbackName);\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback === undefined) {\n            return calculations.topPassed;\n          }\n        },\n        bottomPassed: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onBottomPassed,\n              callbackName = 'bottomPassed';\n\n          if (newCallback) {\n            module.debug('Adding callback for bottom passed', newCallback);\n            settings.onBottomPassed = newCallback;\n          }\n\n          if (calculations.bottomPassed) {\n            module.execute(callback, callbackName);\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback === undefined) {\n            return calculations.bottomPassed;\n          }\n        },\n        passingReverse: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onPassingReverse,\n              callbackName = 'passingReverse';\n\n          if (newCallback) {\n            module.debug('Adding callback for passing reverse', newCallback);\n            settings.onPassingReverse = newCallback;\n          }\n\n          if (!calculations.passing) {\n            if (module.get.occurred('passing')) {\n              module.execute(callback, callbackName);\n            }\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback !== undefined) {\n            return !calculations.passing;\n          }\n        },\n        topVisibleReverse: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onTopVisibleReverse,\n              callbackName = 'topVisibleReverse';\n\n          if (newCallback) {\n            module.debug('Adding callback for top visible reverse', newCallback);\n            settings.onTopVisibleReverse = newCallback;\n          }\n\n          if (!calculations.topVisible) {\n            if (module.get.occurred('topVisible')) {\n              module.execute(callback, callbackName);\n            }\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback === undefined) {\n            return !calculations.topVisible;\n          }\n        },\n        bottomVisibleReverse: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onBottomVisibleReverse,\n              callbackName = 'bottomVisibleReverse';\n\n          if (newCallback) {\n            module.debug('Adding callback for bottom visible reverse', newCallback);\n            settings.onBottomVisibleReverse = newCallback;\n          }\n\n          if (!calculations.bottomVisible) {\n            if (module.get.occurred('bottomVisible')) {\n              module.execute(callback, callbackName);\n            }\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback === undefined) {\n            return !calculations.bottomVisible;\n          }\n        },\n        topPassedReverse: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onTopPassedReverse,\n              callbackName = 'topPassedReverse';\n\n          if (newCallback) {\n            module.debug('Adding callback for top passed reverse', newCallback);\n            settings.onTopPassedReverse = newCallback;\n          }\n\n          if (!calculations.topPassed) {\n            if (module.get.occurred('topPassed')) {\n              module.execute(callback, callbackName);\n            }\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback === undefined) {\n            return !calculations.onTopPassed;\n          }\n        },\n        bottomPassedReverse: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onBottomPassedReverse,\n              callbackName = 'bottomPassedReverse';\n\n          if (newCallback) {\n            module.debug('Adding callback for bottom passed reverse', newCallback);\n            settings.onBottomPassedReverse = newCallback;\n          }\n\n          if (!calculations.bottomPassed) {\n            if (module.get.occurred('bottomPassed')) {\n              module.execute(callback, callbackName);\n            }\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback === undefined) {\n            return !calculations.bottomPassed;\n          }\n        },\n        execute: function (callback, callbackName) {\n          var calculations = module.get.elementCalculations(),\n              screen = module.get.screenCalculations();\n          callback = callback || false;\n\n          if (callback) {\n            if (settings.continuous) {\n              module.debug('Callback being called continuously', callbackName, calculations);\n              callback.call(element, calculations, screen);\n            } else if (!module.get.occurred(callbackName)) {\n              module.debug('Conditions met', callbackName, calculations);\n              callback.call(element, calculations, screen);\n            }\n          }\n\n          module.save.occurred(callbackName);\n        },\n        remove: {\n          fixed: function () {\n            module.debug('Removing fixed position');\n            $module.removeClass(className.fixed).css({\n              position: '',\n              top: '',\n              left: '',\n              zIndex: ''\n            });\n            settings.onUnfixed.call(element);\n          },\n          placeholder: function () {\n            module.debug('Removing placeholder content');\n\n            if ($placeholder) {\n              $placeholder.remove();\n            }\n          },\n          occurred: function (callback) {\n            if (callback) {\n              var occurred = module.cache.occurred;\n\n              if (occurred[callback] !== undefined && occurred[callback] === true) {\n                module.debug('Callback can now be called again', callback);\n                module.cache.occurred[callback] = false;\n              }\n            } else {\n              module.cache.occurred = {};\n            }\n          }\n        },\n        save: {\n          calculations: function () {\n            module.verbose('Saving all calculations necessary to determine positioning');\n            module.save.direction();\n            module.save.screenCalculations();\n            module.save.elementCalculations();\n          },\n          occurred: function (callback) {\n            if (callback) {\n              if (module.cache.occurred[callback] === undefined || module.cache.occurred[callback] !== true) {\n                module.verbose('Saving callback occurred', callback);\n                module.cache.occurred[callback] = true;\n              }\n            }\n          },\n          scroll: function (scrollPosition) {\n            scrollPosition = scrollPosition + settings.offset || $context.scrollTop() + settings.offset;\n            module.cache.scroll = scrollPosition;\n          },\n          direction: function () {\n            var scroll = module.get.scroll(),\n                lastScroll = module.get.lastScroll(),\n                direction;\n\n            if (scroll > lastScroll && lastScroll) {\n              direction = 'down';\n            } else if (scroll < lastScroll && lastScroll) {\n              direction = 'up';\n            } else {\n              direction = 'static';\n            }\n\n            module.cache.direction = direction;\n            return module.cache.direction;\n          },\n          elementPosition: function () {\n            var element = module.cache.element,\n                screen = module.get.screenSize();\n            module.verbose('Saving element position'); // (quicker than $.extend)\n\n            element.fits = element.height < screen.height;\n            element.offset = $module.offset();\n            element.width = $module.outerWidth();\n            element.height = $module.outerHeight(); // compensate for scroll in context\n\n            if (module.is.verticallyScrollableContext()) {\n              element.offset.top += $context.scrollTop() - $context.offset().top;\n            }\n\n            if (module.is.horizontallyScrollableContext()) {\n              element.offset.left += $context.scrollLeft - $context.offset().left;\n            } // store\n\n\n            module.cache.element = element;\n            return element;\n          },\n          elementCalculations: function () {\n            var screen = module.get.screenCalculations(),\n                element = module.get.elementPosition(); // offset\n\n            if (settings.includeMargin) {\n              element.margin = {};\n              element.margin.top = parseInt($module.css('margin-top'), 10);\n              element.margin.bottom = parseInt($module.css('margin-bottom'), 10);\n              element.top = element.offset.top - element.margin.top;\n              element.bottom = element.offset.top + element.height + element.margin.bottom;\n            } else {\n              element.top = element.offset.top;\n              element.bottom = element.offset.top + element.height;\n            } // visibility\n\n\n            element.topPassed = screen.top >= element.top;\n            element.bottomPassed = screen.top >= element.bottom;\n            element.topVisible = screen.bottom >= element.top && !element.topPassed;\n            element.bottomVisible = screen.bottom >= element.bottom && !element.bottomPassed;\n            element.pixelsPassed = 0;\n            element.percentagePassed = 0; // meta calculations\n\n            element.onScreen = (element.topVisible || element.passing) && !element.bottomPassed;\n            element.passing = element.topPassed && !element.bottomPassed;\n            element.offScreen = !element.onScreen; // passing calculations\n\n            if (element.passing) {\n              element.pixelsPassed = screen.top - element.top;\n              element.percentagePassed = (screen.top - element.top) / element.height;\n            }\n\n            module.cache.element = element;\n            module.verbose('Updated element calculations', element);\n            return element;\n          },\n          screenCalculations: function () {\n            var scroll = module.get.scroll();\n            module.save.direction();\n            module.cache.screen.top = scroll;\n            module.cache.screen.bottom = scroll + module.cache.screen.height;\n            return module.cache.screen;\n          },\n          screenSize: function () {\n            module.verbose('Saving window position');\n            module.cache.screen = {\n              height: $context.height()\n            };\n          },\n          position: function () {\n            module.save.screenSize();\n            module.save.elementPosition();\n          }\n        },\n        get: {\n          pixelsPassed: function (amount) {\n            var element = module.get.elementCalculations();\n\n            if (amount.search('%') > -1) {\n              return element.height * (parseInt(amount, 10) / 100);\n            }\n\n            return parseInt(amount, 10);\n          },\n          occurred: function (callback) {\n            return module.cache.occurred !== undefined ? module.cache.occurred[callback] || false : false;\n          },\n          direction: function () {\n            if (module.cache.direction === undefined) {\n              module.save.direction();\n            }\n\n            return module.cache.direction;\n          },\n          elementPosition: function () {\n            if (module.cache.element === undefined) {\n              module.save.elementPosition();\n            }\n\n            return module.cache.element;\n          },\n          elementCalculations: function () {\n            if (module.cache.element === undefined) {\n              module.save.elementCalculations();\n            }\n\n            return module.cache.element;\n          },\n          screenCalculations: function () {\n            if (module.cache.screen === undefined) {\n              module.save.screenCalculations();\n            }\n\n            return module.cache.screen;\n          },\n          screenSize: function () {\n            if (module.cache.screen === undefined) {\n              module.save.screenSize();\n            }\n\n            return module.cache.screen;\n          },\n          scroll: function () {\n            if (module.cache.scroll === undefined) {\n              module.save.scroll();\n            }\n\n            return module.cache.scroll;\n          },\n          lastScroll: function () {\n            if (module.cache.screen === undefined) {\n              module.debug('First scroll event, no last scroll could be found');\n              return false;\n            }\n\n            return module.cache.screen.top;\n          }\n        },\n        setting: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            settings[name] = value;\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        instance.save.scroll();\n        instance.save.calculations();\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.visibility.settings = {\n    name: 'Visibility',\n    namespace: 'visibility',\n    debug: false,\n    verbose: false,\n    performance: true,\n    // whether to use mutation observers to follow changes\n    observeChanges: true,\n    // check position immediately on init\n    initialCheck: true,\n    // whether to refresh calculations after all page images load\n    refreshOnLoad: true,\n    // whether to refresh calculations after page resize event\n    refreshOnResize: true,\n    // should call callbacks on refresh event (resize, etc)\n    checkOnRefresh: true,\n    // callback should only occur one time\n    once: true,\n    // callback should fire continuously whe evaluates to true\n    continuous: false,\n    // offset to use with scroll top\n    offset: 0,\n    // whether to include margin in elements position\n    includeMargin: false,\n    // scroll context for visibility checks\n    context: window,\n    // visibility check delay in ms (defaults to animationFrame)\n    throttle: false,\n    // special visibility type (image, fixed)\n    type: false,\n    // z-index to use with visibility 'fixed'\n    zIndex: '10',\n    // image only animation settings\n    transition: 'fade in',\n    duration: 1000,\n    // array of callbacks for percentage\n    onPassed: {},\n    // standard callbacks\n    onOnScreen: false,\n    onOffScreen: false,\n    onPassing: false,\n    onTopVisible: false,\n    onBottomVisible: false,\n    onTopPassed: false,\n    onBottomPassed: false,\n    // reverse callbacks\n    onPassingReverse: false,\n    onTopVisibleReverse: false,\n    onBottomVisibleReverse: false,\n    onTopPassedReverse: false,\n    onBottomPassedReverse: false,\n    // special callbacks for image\n    onLoad: function () {},\n    onAllLoaded: function () {},\n    // special callbacks for fixed position\n    onFixed: function () {},\n    onUnfixed: function () {},\n    // utility callbacks\n    onUpdate: false,\n    // disabled by default for performance\n    onRefresh: function () {},\n    metadata: {\n      src: 'src'\n    },\n    className: {\n      fixed: 'fixed',\n      placeholder: 'placeholder',\n      visible: 'visible'\n    },\n    error: {\n      method: 'The method you called is not defined.',\n      visible: 'Element is hidden, you must call refresh after element becomes visible'\n    }\n  };\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"globals\":{\"site.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/globals/site.js                                                                            //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * # Semantic UI - Site\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  $.site = $.fn.site = function (parameters) {\n    var time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.site.settings, parameters) : $.extend({}, $.site.settings),\n        namespace = settings.namespace,\n        error = settings.error,\n        eventNamespace = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n        $document = $(document),\n        $module = $document,\n        element = this,\n        instance = $module.data(moduleNamespace),\n        module,\n        returnedValue;\n    module = {\n      initialize: function () {\n        module.instantiate();\n      },\n      instantiate: function () {\n        module.verbose('Storing instance of site', module);\n        instance = module;\n        $module.data(moduleNamespace, module);\n      },\n      normalize: function () {\n        module.fix.console();\n        module.fix.requestAnimationFrame();\n      },\n      fix: {\n        console: function () {\n          module.debug('Normalizing window.console');\n\n          if (console === undefined || console.log === undefined) {\n            module.verbose('Console not available, normalizing events');\n            module.disable.console();\n          }\n\n          if (typeof console.group == 'undefined' || typeof console.groupEnd == 'undefined' || typeof console.groupCollapsed == 'undefined') {\n            module.verbose('Console group not available, normalizing events');\n\n            window.console.group = function () {};\n\n            window.console.groupEnd = function () {};\n\n            window.console.groupCollapsed = function () {};\n          }\n\n          if (typeof console.markTimeline == 'undefined') {\n            module.verbose('Mark timeline not available, normalizing events');\n\n            window.console.markTimeline = function () {};\n          }\n        },\n        consoleClear: function () {\n          module.debug('Disabling programmatic console clearing');\n\n          window.console.clear = function () {};\n        },\n        requestAnimationFrame: function () {\n          module.debug('Normalizing requestAnimationFrame');\n\n          if (window.requestAnimationFrame === undefined) {\n            module.debug('RequestAnimationFrame not available, normalizing event');\n\n            window.requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {\n              setTimeout(callback, 0);\n            };\n          }\n        }\n      },\n      moduleExists: function (name) {\n        return $.fn[name] !== undefined && $.fn[name].settings !== undefined;\n      },\n      enabled: {\n        modules: function (modules) {\n          var enabledModules = [];\n          modules = modules || settings.modules;\n          $.each(modules, function (index, name) {\n            if (module.moduleExists(name)) {\n              enabledModules.push(name);\n            }\n          });\n          return enabledModules;\n        }\n      },\n      disabled: {\n        modules: function (modules) {\n          var disabledModules = [];\n          modules = modules || settings.modules;\n          $.each(modules, function (index, name) {\n            if (!module.moduleExists(name)) {\n              disabledModules.push(name);\n            }\n          });\n          return disabledModules;\n        }\n      },\n      change: {\n        setting: function (setting, value, modules, modifyExisting) {\n          modules = typeof modules === 'string' ? modules === 'all' ? settings.modules : [modules] : modules || settings.modules;\n          modifyExisting = modifyExisting !== undefined ? modifyExisting : true;\n          $.each(modules, function (index, name) {\n            var namespace = module.moduleExists(name) ? $.fn[name].settings.namespace || false : true,\n                $existingModules;\n\n            if (module.moduleExists(name)) {\n              module.verbose('Changing default setting', setting, value, name);\n              $.fn[name].settings[setting] = value;\n\n              if (modifyExisting && namespace) {\n                $existingModules = $(':data(module-' + namespace + ')');\n\n                if ($existingModules.length > 0) {\n                  module.verbose('Modifying existing settings', $existingModules);\n                  $existingModules[name]('setting', setting, value);\n                }\n              }\n            }\n          });\n        },\n        settings: function (newSettings, modules, modifyExisting) {\n          modules = typeof modules === 'string' ? [modules] : modules || settings.modules;\n          modifyExisting = modifyExisting !== undefined ? modifyExisting : true;\n          $.each(modules, function (index, name) {\n            var $existingModules;\n\n            if (module.moduleExists(name)) {\n              module.verbose('Changing default setting', newSettings, name);\n              $.extend(true, $.fn[name].settings, newSettings);\n\n              if (modifyExisting && namespace) {\n                $existingModules = $(':data(module-' + namespace + ')');\n\n                if ($existingModules.length > 0) {\n                  module.verbose('Modifying existing settings', $existingModules);\n                  $existingModules[name]('setting', newSettings);\n                }\n              }\n            }\n          });\n        }\n      },\n      enable: {\n        console: function () {\n          module.console(true);\n        },\n        debug: function (modules, modifyExisting) {\n          modules = modules || settings.modules;\n          module.debug('Enabling debug for modules', modules);\n          module.change.setting('debug', true, modules, modifyExisting);\n        },\n        verbose: function (modules, modifyExisting) {\n          modules = modules || settings.modules;\n          module.debug('Enabling verbose debug for modules', modules);\n          module.change.setting('verbose', true, modules, modifyExisting);\n        }\n      },\n      disable: {\n        console: function () {\n          module.console(false);\n        },\n        debug: function (modules, modifyExisting) {\n          modules = modules || settings.modules;\n          module.debug('Disabling debug for modules', modules);\n          module.change.setting('debug', false, modules, modifyExisting);\n        },\n        verbose: function (modules, modifyExisting) {\n          modules = modules || settings.modules;\n          module.debug('Disabling verbose debug for modules', modules);\n          module.change.setting('verbose', false, modules, modifyExisting);\n        }\n      },\n      console: function (enable) {\n        if (enable) {\n          if (instance.cache.console === undefined) {\n            module.error(error.console);\n            return;\n          }\n\n          module.debug('Restoring console function');\n          window.console = instance.cache.console;\n        } else {\n          module.debug('Disabling console function');\n          instance.cache.console = window.console;\n          window.console = {\n            clear: function () {},\n            error: function () {},\n            group: function () {},\n            groupCollapsed: function () {},\n            groupEnd: function () {},\n            info: function () {},\n            log: function () {},\n            markTimeline: function () {},\n            warn: function () {}\n          };\n        }\n      },\n      destroy: function () {\n        module.verbose('Destroying previous site for', $module);\n        $module.removeData(moduleNamespace);\n      },\n      cache: {},\n      setting: function (name, value) {\n        if ($.isPlainObject(name)) {\n          $.extend(true, settings, name);\n        } else if (value !== undefined) {\n          settings[name] = value;\n        } else {\n          return settings[name];\n        }\n      },\n      internal: function (name, value) {\n        if ($.isPlainObject(name)) {\n          $.extend(true, module, name);\n        } else if (value !== undefined) {\n          module[name] = value;\n        } else {\n          return module[name];\n        }\n      },\n      debug: function () {\n        if (settings.debug) {\n          if (settings.performance) {\n            module.performance.log(arguments);\n          } else {\n            module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n            module.debug.apply(console, arguments);\n          }\n        }\n      },\n      verbose: function () {\n        if (settings.verbose && settings.debug) {\n          if (settings.performance) {\n            module.performance.log(arguments);\n          } else {\n            module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n            module.verbose.apply(console, arguments);\n          }\n        }\n      },\n      error: function () {\n        module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n        module.error.apply(console, arguments);\n      },\n      performance: {\n        log: function (message) {\n          var currentTime, executionTime, previousTime;\n\n          if (settings.performance) {\n            currentTime = new Date().getTime();\n            previousTime = time || currentTime;\n            executionTime = currentTime - previousTime;\n            time = currentTime;\n            performance.push({\n              'Element': element,\n              'Name': message[0],\n              'Arguments': [].slice.call(message, 1) || '',\n              'Execution Time': executionTime\n            });\n          }\n\n          clearTimeout(module.performance.timer);\n          module.performance.timer = setTimeout(module.performance.display, 500);\n        },\n        display: function () {\n          var title = settings.name + ':',\n              totalTime = 0;\n          time = false;\n          clearTimeout(module.performance.timer);\n          $.each(performance, function (index, data) {\n            totalTime += data['Execution Time'];\n          });\n          title += ' ' + totalTime + 'ms';\n\n          if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n            console.groupCollapsed(title);\n\n            if (console.table) {\n              console.table(performance);\n            } else {\n              $.each(performance, function (index, data) {\n                console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n              });\n            }\n\n            console.groupEnd();\n          }\n\n          performance = [];\n        }\n      },\n      invoke: function (query, passedArguments, context) {\n        var object = instance,\n            maxDepth,\n            found,\n            response;\n        passedArguments = passedArguments || queryArguments;\n        context = element || context;\n\n        if (typeof query == 'string' && object !== undefined) {\n          query = query.split(/[\\. ]/);\n          maxDepth = query.length - 1;\n          $.each(query, function (depth, value) {\n            var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n            if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n              object = object[camelCaseValue];\n            } else if (object[camelCaseValue] !== undefined) {\n              found = object[camelCaseValue];\n              return false;\n            } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n              object = object[value];\n            } else if (object[value] !== undefined) {\n              found = object[value];\n              return false;\n            } else {\n              module.error(error.method, query);\n              return false;\n            }\n          });\n        }\n\n        if ($.isFunction(found)) {\n          response = found.apply(context, passedArguments);\n        } else if (found !== undefined) {\n          response = found;\n        }\n\n        if ($.isArray(returnedValue)) {\n          returnedValue.push(response);\n        } else if (returnedValue !== undefined) {\n          returnedValue = [returnedValue, response];\n        } else if (response !== undefined) {\n          returnedValue = response;\n        }\n\n        return found;\n      }\n    };\n\n    if (methodInvoked) {\n      if (instance === undefined) {\n        module.initialize();\n      }\n\n      module.invoke(query);\n    } else {\n      if (instance !== undefined) {\n        module.destroy();\n      }\n\n      module.initialize();\n    }\n\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.site.settings = {\n    name: 'Site',\n    namespace: 'site',\n    error: {\n      console: 'Console cannot be restored, most likely it was overwritten outside of module',\n      method: 'The method you called is not defined.'\n    },\n    debug: false,\n    verbose: false,\n    performance: true,\n    modules: ['accordion', 'api', 'checkbox', 'dimmer', 'dropdown', 'embed', 'form', 'modal', 'nag', 'popup', 'rating', 'shape', 'sidebar', 'state', 'sticky', 'tab', 'transition', 'visit', 'visibility'],\n    siteNamespace: 'site',\n    namespaceStub: {\n      cache: {},\n      config: {},\n      sections: {},\n      section: {},\n      utilities: {}\n    }\n  }; // allows for selection of elements with data attributes\n\n  $.extend($.expr[\":\"], {\n    data: $.expr.createPseudo ? $.expr.createPseudo(function (dataName) {\n      return function (elem) {\n        return !!$.data(elem, dataName);\n      };\n    }) : function (elem, i, match) {\n      // support: jQuery < 1.8\n      return !!$.data(elem, match[3]);\n    }\n  });\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"modules\":{\"accordion.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/modules/accordion.js                                                                       //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * # Semantic UI - Accordion\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.accordion = function (parameters) {\n    var $allModules = $(this),\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {\n      setTimeout(callback, 0);\n    },\n        returnedValue;\n\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.accordion.settings, parameters) : $.extend({}, $.fn.accordion.settings),\n          className = settings.className,\n          namespace = settings.namespace,\n          selector = settings.selector,\n          error = settings.error,\n          eventNamespace = '.' + namespace,\n          moduleNamespace = 'module-' + namespace,\n          moduleSelector = $allModules.selector || '',\n          $module = $(this),\n          $title = $module.find(selector.title),\n          $content = $module.find(selector.content),\n          element = this,\n          instance = $module.data(moduleNamespace),\n          observer,\n          module;\n      module = {\n        initialize: function () {\n          module.debug('Initializing', $module);\n          module.bind.events();\n\n          if (settings.observeChanges) {\n            module.observeChanges();\n          }\n\n          module.instantiate();\n        },\n        instantiate: function () {\n          instance = module;\n          $module.data(moduleNamespace, module);\n        },\n        destroy: function () {\n          module.debug('Destroying previous instance', $module);\n          $module.off(eventNamespace).removeData(moduleNamespace);\n        },\n        refresh: function () {\n          $title = $module.find(selector.title);\n          $content = $module.find(selector.content);\n        },\n        observeChanges: function () {\n          if ('MutationObserver' in window) {\n            observer = new MutationObserver(function (mutations) {\n              module.debug('DOM tree modified, updating selector cache');\n              module.refresh();\n            });\n            observer.observe(element, {\n              childList: true,\n              subtree: true\n            });\n            module.debug('Setting up mutation observer', observer);\n          }\n        },\n        bind: {\n          events: function () {\n            module.debug('Binding delegated events');\n            $module.on(settings.on + eventNamespace, selector.trigger, module.event.click);\n          }\n        },\n        event: {\n          click: function () {\n            module.toggle.call(this);\n          }\n        },\n        toggle: function (query) {\n          var $activeTitle = query !== undefined ? typeof query === 'number' ? $title.eq(query) : $(query).closest(selector.title) : $(this).closest(selector.title),\n              $activeContent = $activeTitle.next($content),\n              isAnimating = $activeContent.hasClass(className.animating),\n              isActive = $activeContent.hasClass(className.active),\n              isOpen = isActive && !isAnimating,\n              isOpening = !isActive && isAnimating;\n          module.debug('Toggling visibility of content', $activeTitle);\n\n          if (isOpen || isOpening) {\n            if (settings.collapsible) {\n              module.close.call($activeTitle);\n            } else {\n              module.debug('Cannot close accordion content collapsing is disabled');\n            }\n          } else {\n            module.open.call($activeTitle);\n          }\n        },\n        open: function (query) {\n          var $activeTitle = query !== undefined ? typeof query === 'number' ? $title.eq(query) : $(query).closest(selector.title) : $(this).closest(selector.title),\n              $activeContent = $activeTitle.next($content),\n              isAnimating = $activeContent.hasClass(className.animating),\n              isActive = $activeContent.hasClass(className.active),\n              isOpen = isActive || isAnimating;\n\n          if (isOpen) {\n            module.debug('Accordion already open, skipping', $activeContent);\n            return;\n          }\n\n          module.debug('Opening accordion content', $activeTitle);\n          settings.onOpening.call($activeContent);\n          settings.onChanging.call($activeContent);\n\n          if (settings.exclusive) {\n            module.closeOthers.call($activeTitle);\n          }\n\n          $activeTitle.addClass(className.active);\n          $activeContent.stop(true, true).addClass(className.animating);\n\n          if (settings.animateChildren) {\n            if ($.fn.transition !== undefined && $module.transition('is supported')) {\n              $activeContent.children().transition({\n                animation: 'fade in',\n                queue: false,\n                useFailSafe: true,\n                debug: settings.debug,\n                verbose: settings.verbose,\n                duration: settings.duration\n              });\n            } else {\n              $activeContent.children().stop(true, true).animate({\n                opacity: 1\n              }, settings.duration, module.resetOpacity);\n            }\n          }\n\n          $activeContent.slideDown(settings.duration, settings.easing, function () {\n            $activeContent.removeClass(className.animating).addClass(className.active);\n            module.reset.display.call(this);\n            settings.onOpen.call(this);\n            settings.onChange.call(this);\n          });\n        },\n        close: function (query) {\n          var $activeTitle = query !== undefined ? typeof query === 'number' ? $title.eq(query) : $(query).closest(selector.title) : $(this).closest(selector.title),\n              $activeContent = $activeTitle.next($content),\n              isAnimating = $activeContent.hasClass(className.animating),\n              isActive = $activeContent.hasClass(className.active),\n              isOpening = !isActive && isAnimating,\n              isClosing = isActive && isAnimating;\n\n          if ((isActive || isOpening) && !isClosing) {\n            module.debug('Closing accordion content', $activeContent);\n            settings.onClosing.call($activeContent);\n            settings.onChanging.call($activeContent);\n            $activeTitle.removeClass(className.active);\n            $activeContent.stop(true, true).addClass(className.animating);\n\n            if (settings.animateChildren) {\n              if ($.fn.transition !== undefined && $module.transition('is supported')) {\n                $activeContent.children().transition({\n                  animation: 'fade out',\n                  queue: false,\n                  useFailSafe: true,\n                  debug: settings.debug,\n                  verbose: settings.verbose,\n                  duration: settings.duration\n                });\n              } else {\n                $activeContent.children().stop(true, true).animate({\n                  opacity: 0\n                }, settings.duration, module.resetOpacity);\n              }\n            }\n\n            $activeContent.slideUp(settings.duration, settings.easing, function () {\n              $activeContent.removeClass(className.animating).removeClass(className.active);\n              module.reset.display.call(this);\n              settings.onClose.call(this);\n              settings.onChange.call(this);\n            });\n          }\n        },\n        closeOthers: function (index) {\n          var $activeTitle = index !== undefined ? $title.eq(index) : $(this).closest(selector.title),\n              $parentTitles = $activeTitle.parents(selector.content).prev(selector.title),\n              $activeAccordion = $activeTitle.closest(selector.accordion),\n              activeSelector = selector.title + '.' + className.active + ':visible',\n              activeContent = selector.content + '.' + className.active + ':visible',\n              $openTitles,\n              $nestedTitles,\n              $openContents;\n\n          if (settings.closeNested) {\n            $openTitles = $activeAccordion.find(activeSelector).not($parentTitles);\n            $openContents = $openTitles.next($content);\n          } else {\n            $openTitles = $activeAccordion.find(activeSelector).not($parentTitles);\n            $nestedTitles = $activeAccordion.find(activeContent).find(activeSelector).not($parentTitles);\n            $openTitles = $openTitles.not($nestedTitles);\n            $openContents = $openTitles.next($content);\n          }\n\n          if ($openTitles.length > 0) {\n            module.debug('Exclusive enabled, closing other content', $openTitles);\n            $openTitles.removeClass(className.active);\n            $openContents.removeClass(className.animating).stop(true, true);\n\n            if (settings.animateChildren) {\n              if ($.fn.transition !== undefined && $module.transition('is supported')) {\n                $openContents.children().transition({\n                  animation: 'fade out',\n                  useFailSafe: true,\n                  debug: settings.debug,\n                  verbose: settings.verbose,\n                  duration: settings.duration\n                });\n              } else {\n                $openContents.children().stop(true, true).animate({\n                  opacity: 0\n                }, settings.duration, module.resetOpacity);\n              }\n            }\n\n            $openContents.slideUp(settings.duration, settings.easing, function () {\n              $(this).removeClass(className.active);\n              module.reset.display.call(this);\n            });\n          }\n        },\n        reset: {\n          display: function () {\n            module.verbose('Removing inline display from element', this);\n            $(this).css('display', '');\n\n            if ($(this).attr('style') === '') {\n              $(this).attr('style', '').removeAttr('style');\n            }\n          },\n          opacity: function () {\n            module.verbose('Removing inline opacity from element', this);\n            $(this).css('opacity', '');\n\n            if ($(this).attr('style') === '') {\n              $(this).attr('style', '').removeAttr('style');\n            }\n          }\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          module.debug('Changing internal', name, value);\n\n          if (value !== undefined) {\n            if ($.isPlainObject(name)) {\n              $.extend(true, module, name);\n            } else {\n              module[name] = value;\n            }\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.accordion.settings = {\n    name: 'Accordion',\n    namespace: 'accordion',\n    silent: false,\n    debug: false,\n    verbose: false,\n    performance: true,\n    on: 'click',\n    // event on title that opens accordion\n    observeChanges: true,\n    // whether accordion should automatically refresh on DOM insertion\n    exclusive: true,\n    // whether a single accordion content panel should be open at once\n    collapsible: true,\n    // whether accordion content can be closed\n    closeNested: false,\n    // whether nested content should be closed when a panel is closed\n    animateChildren: true,\n    // whether children opacity should be animated\n    duration: 350,\n    // duration of animation\n    easing: 'easeOutQuad',\n    // easing equation for animation\n    onOpening: function () {},\n    // callback before open animation\n    onClosing: function () {},\n    // callback before closing animation\n    onChanging: function () {},\n    // callback before closing or opening animation\n    onOpen: function () {},\n    // callback after open animation\n    onClose: function () {},\n    // callback after closing animation\n    onChange: function () {},\n    // callback after closing or opening animation\n    error: {\n      method: 'The method you called is not defined'\n    },\n    className: {\n      active: 'active',\n      animating: 'animating'\n    },\n    selector: {\n      accordion: '.accordion',\n      title: '.title',\n      trigger: '.title',\n      content: '.content'\n    }\n  }; // Adds easing\n\n  $.extend($.easing, {\n    easeOutQuad: function (x, t, b, c, d) {\n      return -c * (t /= d) * (t - 2) + b;\n    }\n  });\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"checkbox.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/modules/checkbox.js                                                                        //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * # Semantic UI - Checkbox\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.checkbox = function (parameters) {\n    var $allModules = $(this),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue;\n    $allModules.each(function () {\n      var settings = $.extend(true, {}, $.fn.checkbox.settings, parameters),\n          className = settings.className,\n          namespace = settings.namespace,\n          selector = settings.selector,\n          error = settings.error,\n          eventNamespace = '.' + namespace,\n          moduleNamespace = 'module-' + namespace,\n          $module = $(this),\n          $label = $(this).children(selector.label),\n          $input = $(this).children(selector.input),\n          input = $input[0],\n          initialLoad = false,\n          shortcutPressed = false,\n          instance = $module.data(moduleNamespace),\n          observer,\n          element = this,\n          module;\n      module = {\n        initialize: function () {\n          module.verbose('Initializing checkbox', settings);\n          module.create.label();\n          module.bind.events();\n          module.set.tabbable();\n          module.hide.input();\n          module.observeChanges();\n          module.instantiate();\n          module.setup();\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module.data(moduleNamespace, module);\n        },\n        destroy: function () {\n          module.verbose('Destroying module');\n          module.unbind.events();\n          module.show.input();\n          $module.removeData(moduleNamespace);\n        },\n        fix: {\n          reference: function () {\n            if ($module.is(selector.input)) {\n              module.debug('Behavior called on <input> adjusting invoked element');\n              $module = $module.closest(selector.checkbox);\n              module.refresh();\n            }\n          }\n        },\n        setup: function () {\n          module.set.initialLoad();\n\n          if (module.is.indeterminate()) {\n            module.debug('Initial value is indeterminate');\n            module.indeterminate();\n          } else if (module.is.checked()) {\n            module.debug('Initial value is checked');\n            module.check();\n          } else {\n            module.debug('Initial value is unchecked');\n            module.uncheck();\n          }\n\n          module.remove.initialLoad();\n        },\n        refresh: function () {\n          $label = $module.children(selector.label);\n          $input = $module.children(selector.input);\n          input = $input[0];\n        },\n        hide: {\n          input: function () {\n            module.verbose('Modifying <input> z-index to be unselectable');\n            $input.addClass(className.hidden);\n          }\n        },\n        show: {\n          input: function () {\n            module.verbose('Modifying <input> z-index to be selectable');\n            $input.removeClass(className.hidden);\n          }\n        },\n        observeChanges: function () {\n          if ('MutationObserver' in window) {\n            observer = new MutationObserver(function (mutations) {\n              module.debug('DOM tree modified, updating selector cache');\n              module.refresh();\n            });\n            observer.observe(element, {\n              childList: true,\n              subtree: true\n            });\n            module.debug('Setting up mutation observer', observer);\n          }\n        },\n        attachEvents: function (selector, event) {\n          var $element = $(selector);\n          event = $.isFunction(module[event]) ? module[event] : module.toggle;\n\n          if ($element.length > 0) {\n            module.debug('Attaching checkbox events to element', selector, event);\n            $element.on('click' + eventNamespace, event);\n          } else {\n            module.error(error.notFound);\n          }\n        },\n        event: {\n          click: function (event) {\n            var $target = $(event.target);\n\n            if ($target.is(selector.input)) {\n              module.verbose('Using default check action on initialized checkbox');\n              return;\n            }\n\n            if ($target.is(selector.link)) {\n              module.debug('Clicking link inside checkbox, skipping toggle');\n              return;\n            }\n\n            module.toggle();\n            $input.focus();\n            event.preventDefault();\n          },\n          keydown: function (event) {\n            var key = event.which,\n                keyCode = {\n              enter: 13,\n              space: 32,\n              escape: 27\n            };\n\n            if (key == keyCode.escape) {\n              module.verbose('Escape key pressed blurring field');\n              $input.blur();\n              shortcutPressed = true;\n            } else if (!event.ctrlKey && (key == keyCode.space || key == keyCode.enter)) {\n              module.verbose('Enter/space key pressed, toggling checkbox');\n              module.toggle();\n              shortcutPressed = true;\n            } else {\n              shortcutPressed = false;\n            }\n          },\n          keyup: function (event) {\n            if (shortcutPressed) {\n              event.preventDefault();\n            }\n          }\n        },\n        check: function () {\n          if (!module.should.allowCheck()) {\n            return;\n          }\n\n          module.debug('Checking checkbox', $input);\n          module.set.checked();\n\n          if (!module.should.ignoreCallbacks()) {\n            settings.onChecked.call(input);\n            settings.onChange.call(input);\n          }\n        },\n        uncheck: function () {\n          if (!module.should.allowUncheck()) {\n            return;\n          }\n\n          module.debug('Unchecking checkbox');\n          module.set.unchecked();\n\n          if (!module.should.ignoreCallbacks()) {\n            settings.onUnchecked.call(input);\n            settings.onChange.call(input);\n          }\n        },\n        indeterminate: function () {\n          if (module.should.allowIndeterminate()) {\n            module.debug('Checkbox is already indeterminate');\n            return;\n          }\n\n          module.debug('Making checkbox indeterminate');\n          module.set.indeterminate();\n\n          if (!module.should.ignoreCallbacks()) {\n            settings.onIndeterminate.call(input);\n            settings.onChange.call(input);\n          }\n        },\n        determinate: function () {\n          if (module.should.allowDeterminate()) {\n            module.debug('Checkbox is already determinate');\n            return;\n          }\n\n          module.debug('Making checkbox determinate');\n          module.set.determinate();\n\n          if (!module.should.ignoreCallbacks()) {\n            settings.onDeterminate.call(input);\n            settings.onChange.call(input);\n          }\n        },\n        enable: function () {\n          if (module.is.enabled()) {\n            module.debug('Checkbox is already enabled');\n            return;\n          }\n\n          module.debug('Enabling checkbox');\n          module.set.enabled();\n          settings.onEnable.call(input); // preserve legacy callbacks\n\n          settings.onEnabled.call(input);\n        },\n        disable: function () {\n          if (module.is.disabled()) {\n            module.debug('Checkbox is already disabled');\n            return;\n          }\n\n          module.debug('Disabling checkbox');\n          module.set.disabled();\n          settings.onDisable.call(input); // preserve legacy callbacks\n\n          settings.onDisabled.call(input);\n        },\n        get: {\n          radios: function () {\n            var name = module.get.name();\n            return $('input[name=\"' + name + '\"]').closest(selector.checkbox);\n          },\n          otherRadios: function () {\n            return module.get.radios().not($module);\n          },\n          name: function () {\n            return $input.attr('name');\n          }\n        },\n        is: {\n          initialLoad: function () {\n            return initialLoad;\n          },\n          radio: function () {\n            return $input.hasClass(className.radio) || $input.attr('type') == 'radio';\n          },\n          indeterminate: function () {\n            return $input.prop('indeterminate') !== undefined && $input.prop('indeterminate');\n          },\n          checked: function () {\n            return $input.prop('checked') !== undefined && $input.prop('checked');\n          },\n          disabled: function () {\n            return $input.prop('disabled') !== undefined && $input.prop('disabled');\n          },\n          enabled: function () {\n            return !module.is.disabled();\n          },\n          determinate: function () {\n            return !module.is.indeterminate();\n          },\n          unchecked: function () {\n            return !module.is.checked();\n          }\n        },\n        should: {\n          allowCheck: function () {\n            if (module.is.determinate() && module.is.checked() && !module.should.forceCallbacks()) {\n              module.debug('Should not allow check, checkbox is already checked');\n              return false;\n            }\n\n            if (settings.beforeChecked.apply(input) === false) {\n              module.debug('Should not allow check, beforeChecked cancelled');\n              return false;\n            }\n\n            return true;\n          },\n          allowUncheck: function () {\n            if (module.is.determinate() && module.is.unchecked() && !module.should.forceCallbacks()) {\n              module.debug('Should not allow uncheck, checkbox is already unchecked');\n              return false;\n            }\n\n            if (settings.beforeUnchecked.apply(input) === false) {\n              module.debug('Should not allow uncheck, beforeUnchecked cancelled');\n              return false;\n            }\n\n            return true;\n          },\n          allowIndeterminate: function () {\n            if (module.is.indeterminate() && !module.should.forceCallbacks()) {\n              module.debug('Should not allow indeterminate, checkbox is already indeterminate');\n              return false;\n            }\n\n            if (settings.beforeIndeterminate.apply(input) === false) {\n              module.debug('Should not allow indeterminate, beforeIndeterminate cancelled');\n              return false;\n            }\n\n            return true;\n          },\n          allowDeterminate: function () {\n            if (module.is.determinate() && !module.should.forceCallbacks()) {\n              module.debug('Should not allow determinate, checkbox is already determinate');\n              return false;\n            }\n\n            if (settings.beforeDeterminate.apply(input) === false) {\n              module.debug('Should not allow determinate, beforeDeterminate cancelled');\n              return false;\n            }\n\n            return true;\n          },\n          forceCallbacks: function () {\n            return module.is.initialLoad() && settings.fireOnInit;\n          },\n          ignoreCallbacks: function () {\n            return initialLoad && !settings.fireOnInit;\n          }\n        },\n        can: {\n          change: function () {\n            return !($module.hasClass(className.disabled) || $module.hasClass(className.readOnly) || $input.prop('disabled') || $input.prop('readonly'));\n          },\n          uncheck: function () {\n            return typeof settings.uncheckable === 'boolean' ? settings.uncheckable : !module.is.radio();\n          }\n        },\n        set: {\n          initialLoad: function () {\n            initialLoad = true;\n          },\n          checked: function () {\n            module.verbose('Setting class to checked');\n            $module.removeClass(className.indeterminate).addClass(className.checked);\n\n            if (module.is.radio()) {\n              module.uncheckOthers();\n            }\n\n            if (!module.is.indeterminate() && module.is.checked()) {\n              module.debug('Input is already checked, skipping input property change');\n              return;\n            }\n\n            module.verbose('Setting state to checked', input);\n            $input.prop('indeterminate', false).prop('checked', true);\n            module.trigger.change();\n          },\n          unchecked: function () {\n            module.verbose('Removing checked class');\n            $module.removeClass(className.indeterminate).removeClass(className.checked);\n\n            if (!module.is.indeterminate() && module.is.unchecked()) {\n              module.debug('Input is already unchecked');\n              return;\n            }\n\n            module.debug('Setting state to unchecked');\n            $input.prop('indeterminate', false).prop('checked', false);\n            module.trigger.change();\n          },\n          indeterminate: function () {\n            module.verbose('Setting class to indeterminate');\n            $module.addClass(className.indeterminate);\n\n            if (module.is.indeterminate()) {\n              module.debug('Input is already indeterminate, skipping input property change');\n              return;\n            }\n\n            module.debug('Setting state to indeterminate');\n            $input.prop('indeterminate', true);\n            module.trigger.change();\n          },\n          determinate: function () {\n            module.verbose('Removing indeterminate class');\n            $module.removeClass(className.indeterminate);\n\n            if (module.is.determinate()) {\n              module.debug('Input is already determinate, skipping input property change');\n              return;\n            }\n\n            module.debug('Setting state to determinate');\n            $input.prop('indeterminate', false);\n          },\n          disabled: function () {\n            module.verbose('Setting class to disabled');\n            $module.addClass(className.disabled);\n\n            if (module.is.disabled()) {\n              module.debug('Input is already disabled, skipping input property change');\n              return;\n            }\n\n            module.debug('Setting state to disabled');\n            $input.prop('disabled', 'disabled');\n            module.trigger.change();\n          },\n          enabled: function () {\n            module.verbose('Removing disabled class');\n            $module.removeClass(className.disabled);\n\n            if (module.is.enabled()) {\n              module.debug('Input is already enabled, skipping input property change');\n              return;\n            }\n\n            module.debug('Setting state to enabled');\n            $input.prop('disabled', false);\n            module.trigger.change();\n          },\n          tabbable: function () {\n            module.verbose('Adding tabindex to checkbox');\n\n            if ($input.attr('tabindex') === undefined) {\n              $input.attr('tabindex', 0);\n            }\n          }\n        },\n        remove: {\n          initialLoad: function () {\n            initialLoad = false;\n          }\n        },\n        trigger: {\n          change: function () {\n            var events = document.createEvent('HTMLEvents'),\n                inputElement = $input[0];\n\n            if (inputElement) {\n              module.verbose('Triggering native change event');\n              events.initEvent('change', true, false);\n              inputElement.dispatchEvent(events);\n            }\n          }\n        },\n        create: {\n          label: function () {\n            if ($input.prevAll(selector.label).length > 0) {\n              $input.prev(selector.label).detach().insertAfter($input);\n              module.debug('Moving existing label', $label);\n            } else if (!module.has.label()) {\n              $label = $('<label>').insertAfter($input);\n              module.debug('Creating label', $label);\n            }\n          }\n        },\n        has: {\n          label: function () {\n            return $label.length > 0;\n          }\n        },\n        bind: {\n          events: function () {\n            module.verbose('Attaching checkbox events');\n            $module.on('click' + eventNamespace, module.event.click).on('keydown' + eventNamespace, selector.input, module.event.keydown).on('keyup' + eventNamespace, selector.input, module.event.keyup);\n          }\n        },\n        unbind: {\n          events: function () {\n            module.debug('Removing events');\n            $module.off(eventNamespace);\n          }\n        },\n        uncheckOthers: function () {\n          var $radios = module.get.otherRadios();\n          module.debug('Unchecking other radios', $radios);\n          $radios.removeClass(className.checked);\n        },\n        toggle: function () {\n          if (!module.can.change()) {\n            if (!module.is.radio()) {\n              module.debug('Checkbox is read-only or disabled, ignoring toggle');\n            }\n\n            return;\n          }\n\n          if (module.is.indeterminate() || module.is.unchecked()) {\n            module.debug('Currently unchecked');\n            module.check();\n          } else if (module.is.checked() && module.can.uncheck()) {\n            module.debug('Currently checked');\n            module.uncheck();\n          }\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.checkbox.settings = {\n    name: 'Checkbox',\n    namespace: 'checkbox',\n    silent: false,\n    debug: false,\n    verbose: true,\n    performance: true,\n    // delegated event context\n    uncheckable: 'auto',\n    fireOnInit: false,\n    onChange: function () {},\n    beforeChecked: function () {},\n    beforeUnchecked: function () {},\n    beforeDeterminate: function () {},\n    beforeIndeterminate: function () {},\n    onChecked: function () {},\n    onUnchecked: function () {},\n    onDeterminate: function () {},\n    onIndeterminate: function () {},\n    onEnable: function () {},\n    onDisable: function () {},\n    // preserve misspelled callbacks (will be removed in 3.0)\n    onEnabled: function () {},\n    onDisabled: function () {},\n    className: {\n      checked: 'checked',\n      indeterminate: 'indeterminate',\n      disabled: 'disabled',\n      hidden: 'hidden',\n      radio: 'radio',\n      readOnly: 'read-only'\n    },\n    error: {\n      method: 'The method you called is not defined'\n    },\n    selector: {\n      checkbox: '.ui.checkbox',\n      label: 'label, .box',\n      input: 'input[type=\"checkbox\"], input[type=\"radio\"]',\n      link: 'a[href]'\n    }\n  };\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"dimmer.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/modules/dimmer.js                                                                          //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * # Semantic UI - Dimmer\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.dimmer = function (parameters) {\n    var $allModules = $(this),\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue;\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.dimmer.settings, parameters) : $.extend({}, $.fn.dimmer.settings),\n          selector = settings.selector,\n          namespace = settings.namespace,\n          className = settings.className,\n          error = settings.error,\n          eventNamespace = '.' + namespace,\n          moduleNamespace = 'module-' + namespace,\n          moduleSelector = $allModules.selector || '',\n          clickEvent = 'ontouchstart' in document.documentElement ? 'touchstart' : 'click',\n          $module = $(this),\n          $dimmer,\n          $dimmable,\n          element = this,\n          instance = $module.data(moduleNamespace),\n          module;\n      module = {\n        preinitialize: function () {\n          if (module.is.dimmer()) {\n            $dimmable = $module.parent();\n            $dimmer = $module;\n          } else {\n            $dimmable = $module;\n\n            if (module.has.dimmer()) {\n              if (settings.dimmerName) {\n                $dimmer = $dimmable.find(selector.dimmer).filter('.' + settings.dimmerName);\n              } else {\n                $dimmer = $dimmable.find(selector.dimmer);\n              }\n            } else {\n              $dimmer = module.create();\n            }\n\n            module.set.variation();\n          }\n        },\n        initialize: function () {\n          module.debug('Initializing dimmer', settings);\n          module.bind.events();\n          module.set.dimmable();\n          module.instantiate();\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module.data(moduleNamespace, instance);\n        },\n        destroy: function () {\n          module.verbose('Destroying previous module', $dimmer);\n          module.unbind.events();\n          module.remove.variation();\n          $dimmable.off(eventNamespace);\n        },\n        bind: {\n          events: function () {\n            if (module.is.page()) {\n              // touch events default to passive, due to changes in chrome to optimize mobile perf\n              $dimmable.get(0).addEventListener('touchmove', module.event.preventScroll, {\n                passive: false\n              });\n            }\n\n            if (settings.on == 'hover') {\n              $dimmable.on('mouseenter' + eventNamespace, module.show).on('mouseleave' + eventNamespace, module.hide);\n            } else if (settings.on == 'click') {\n              $dimmable.on(clickEvent + eventNamespace, module.toggle);\n            }\n\n            if (module.is.page()) {\n              module.debug('Setting as a page dimmer', $dimmable);\n              module.set.pageDimmer();\n            }\n\n            if (module.is.closable()) {\n              module.verbose('Adding dimmer close event', $dimmer);\n              $dimmable.on(clickEvent + eventNamespace, selector.dimmer, module.event.click);\n            }\n          }\n        },\n        unbind: {\n          events: function () {\n            if (module.is.page()) {\n              $dimmable.get(0).removeEventListener('touchmove', module.event.preventScroll, {\n                passive: false\n              });\n            }\n\n            $module.removeData(moduleNamespace);\n            $dimmable.off(eventNamespace);\n          }\n        },\n        event: {\n          click: function (event) {\n            module.verbose('Determining if event occured on dimmer', event);\n\n            if ($dimmer.find(event.target).length === 0 || $(event.target).is(selector.content)) {\n              module.hide();\n              event.stopImmediatePropagation();\n            }\n          },\n          preventScroll: function (event) {\n            event.preventDefault();\n          }\n        },\n        addContent: function (element) {\n          var $content = $(element);\n          module.debug('Add content to dimmer', $content);\n\n          if ($content.parent()[0] !== $dimmer[0]) {\n            $content.detach().appendTo($dimmer);\n          }\n        },\n        create: function () {\n          var $element = $(settings.template.dimmer());\n\n          if (settings.dimmerName) {\n            module.debug('Creating named dimmer', settings.dimmerName);\n            $element.addClass(settings.dimmerName);\n          }\n\n          $element.appendTo($dimmable);\n          return $element;\n        },\n        show: function (callback) {\n          callback = $.isFunction(callback) ? callback : function () {};\n          module.debug('Showing dimmer', $dimmer, settings);\n\n          if ((!module.is.dimmed() || module.is.animating()) && module.is.enabled()) {\n            module.animate.show(callback);\n            settings.onShow.call(element);\n            settings.onChange.call(element);\n          } else {\n            module.debug('Dimmer is already shown or disabled');\n          }\n        },\n        hide: function (callback) {\n          callback = $.isFunction(callback) ? callback : function () {};\n\n          if (module.is.dimmed() || module.is.animating()) {\n            module.debug('Hiding dimmer', $dimmer);\n            module.animate.hide(callback);\n            settings.onHide.call(element);\n            settings.onChange.call(element);\n          } else {\n            module.debug('Dimmer is not visible');\n          }\n        },\n        toggle: function () {\n          module.verbose('Toggling dimmer visibility', $dimmer);\n\n          if (!module.is.dimmed()) {\n            module.show();\n          } else {\n            module.hide();\n          }\n        },\n        animate: {\n          show: function (callback) {\n            callback = $.isFunction(callback) ? callback : function () {};\n\n            if (settings.useCSS && $.fn.transition !== undefined && $dimmer.transition('is supported')) {\n              if (settings.opacity !== 'auto') {\n                module.set.opacity();\n              }\n\n              $dimmer.transition({\n                displayType: 'flex',\n                animation: settings.transition + ' in',\n                queue: false,\n                duration: module.get.duration(),\n                useFailSafe: true,\n                onStart: function () {\n                  module.set.dimmed();\n                },\n                onComplete: function () {\n                  module.set.active();\n                  callback();\n                }\n              });\n            } else {\n              module.verbose('Showing dimmer animation with javascript');\n              module.set.dimmed();\n\n              if (settings.opacity == 'auto') {\n                settings.opacity = 0.8;\n              }\n\n              $dimmer.stop().css({\n                opacity: 0,\n                width: '100%',\n                height: '100%'\n              }).fadeTo(module.get.duration(), settings.opacity, function () {\n                $dimmer.removeAttr('style');\n                module.set.active();\n                callback();\n              });\n            }\n          },\n          hide: function (callback) {\n            callback = $.isFunction(callback) ? callback : function () {};\n\n            if (settings.useCSS && $.fn.transition !== undefined && $dimmer.transition('is supported')) {\n              module.verbose('Hiding dimmer with css');\n              $dimmer.transition({\n                displayType: 'flex',\n                animation: settings.transition + ' out',\n                queue: false,\n                duration: module.get.duration(),\n                useFailSafe: true,\n                onStart: function () {\n                  module.remove.dimmed();\n                },\n                onComplete: function () {\n                  module.remove.active();\n                  callback();\n                }\n              });\n            } else {\n              module.verbose('Hiding dimmer with javascript');\n              module.remove.dimmed();\n              $dimmer.stop().fadeOut(module.get.duration(), function () {\n                module.remove.active();\n                $dimmer.removeAttr('style');\n                callback();\n              });\n            }\n          }\n        },\n        get: {\n          dimmer: function () {\n            return $dimmer;\n          },\n          duration: function () {\n            if (typeof settings.duration == 'object') {\n              if (module.is.active()) {\n                return settings.duration.hide;\n              } else {\n                return settings.duration.show;\n              }\n            }\n\n            return settings.duration;\n          }\n        },\n        has: {\n          dimmer: function () {\n            if (settings.dimmerName) {\n              return $module.find(selector.dimmer).filter('.' + settings.dimmerName).length > 0;\n            } else {\n              return $module.find(selector.dimmer).length > 0;\n            }\n          }\n        },\n        is: {\n          active: function () {\n            return $dimmer.hasClass(className.active);\n          },\n          animating: function () {\n            return $dimmer.is(':animated') || $dimmer.hasClass(className.animating);\n          },\n          closable: function () {\n            if (settings.closable == 'auto') {\n              if (settings.on == 'hover') {\n                return false;\n              }\n\n              return true;\n            }\n\n            return settings.closable;\n          },\n          dimmer: function () {\n            return $module.hasClass(className.dimmer);\n          },\n          dimmable: function () {\n            return $module.hasClass(className.dimmable);\n          },\n          dimmed: function () {\n            return $dimmable.hasClass(className.dimmed);\n          },\n          disabled: function () {\n            return $dimmable.hasClass(className.disabled);\n          },\n          enabled: function () {\n            return !module.is.disabled();\n          },\n          page: function () {\n            return $dimmable.is('body');\n          },\n          pageDimmer: function () {\n            return $dimmer.hasClass(className.pageDimmer);\n          }\n        },\n        can: {\n          show: function () {\n            return !$dimmer.hasClass(className.disabled);\n          }\n        },\n        set: {\n          opacity: function (opacity) {\n            var color = $dimmer.css('background-color'),\n                colorArray = color.split(','),\n                isRGB = colorArray && colorArray.length == 3,\n                isRGBA = colorArray && colorArray.length == 4;\n            opacity = settings.opacity === 0 ? 0 : settings.opacity || opacity;\n\n            if (isRGB || isRGBA) {\n              colorArray[3] = opacity + ')';\n              color = colorArray.join(',');\n            } else {\n              color = 'rgba(0, 0, 0, ' + opacity + ')';\n            }\n\n            module.debug('Setting opacity to', opacity);\n            $dimmer.css('background-color', color);\n          },\n          active: function () {\n            $dimmer.addClass(className.active);\n          },\n          dimmable: function () {\n            $dimmable.addClass(className.dimmable);\n          },\n          dimmed: function () {\n            $dimmable.addClass(className.dimmed);\n          },\n          pageDimmer: function () {\n            $dimmer.addClass(className.pageDimmer);\n          },\n          disabled: function () {\n            $dimmer.addClass(className.disabled);\n          },\n          variation: function (variation) {\n            variation = variation || settings.variation;\n\n            if (variation) {\n              $dimmer.addClass(variation);\n            }\n          }\n        },\n        remove: {\n          active: function () {\n            $dimmer.removeClass(className.active);\n          },\n          dimmed: function () {\n            $dimmable.removeClass(className.dimmed);\n          },\n          disabled: function () {\n            $dimmer.removeClass(className.disabled);\n          },\n          variation: function (variation) {\n            variation = variation || settings.variation;\n\n            if (variation) {\n              $dimmer.removeClass(variation);\n            }\n          }\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n      module.preinitialize();\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.dimmer.settings = {\n    name: 'Dimmer',\n    namespace: 'dimmer',\n    silent: false,\n    debug: false,\n    verbose: false,\n    performance: true,\n    // name to distinguish between multiple dimmers in context\n    dimmerName: false,\n    // whether to add a variation type\n    variation: false,\n    // whether to bind close events\n    closable: 'auto',\n    // whether to use css animations\n    useCSS: true,\n    // css animation to use\n    transition: 'fade',\n    // event to bind to\n    on: false,\n    // overriding opacity value\n    opacity: 'auto',\n    // transition durations\n    duration: {\n      show: 500,\n      hide: 500\n    },\n    onChange: function () {},\n    onShow: function () {},\n    onHide: function () {},\n    error: {\n      method: 'The method you called is not defined.'\n    },\n    className: {\n      active: 'active',\n      animating: 'animating',\n      dimmable: 'dimmable',\n      dimmed: 'dimmed',\n      dimmer: 'dimmer',\n      disabled: 'disabled',\n      hide: 'hide',\n      pageDimmer: 'page',\n      show: 'show'\n    },\n    selector: {\n      dimmer: '> .ui.dimmer',\n      content: '.ui.dimmer > .content, .ui.dimmer > .content > .center'\n    },\n    template: {\n      dimmer: function () {\n        return $('<div />').attr('class', 'ui dimmer');\n      }\n    }\n  };\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"dropdown.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/modules/dropdown.js                                                                        //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * # Semantic UI - Dropdown\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.dropdown = function (parameters) {\n    var $allModules = $(this),\n        $document = $(document),\n        moduleSelector = $allModules.selector || '',\n        hasTouch = 'ontouchstart' in document.documentElement,\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue;\n    $allModules.each(function (elementIndex) {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.dropdown.settings, parameters) : $.extend({}, $.fn.dropdown.settings),\n          className = settings.className,\n          message = settings.message,\n          fields = settings.fields,\n          keys = settings.keys,\n          metadata = settings.metadata,\n          namespace = settings.namespace,\n          regExp = settings.regExp,\n          selector = settings.selector,\n          error = settings.error,\n          templates = settings.templates,\n          eventNamespace = '.' + namespace,\n          moduleNamespace = 'module-' + namespace,\n          $module = $(this),\n          $context = $(settings.context),\n          $text = $module.find(selector.text),\n          $search = $module.find(selector.search),\n          $sizer = $module.find(selector.sizer),\n          $input = $module.find(selector.input),\n          $icon = $module.find(selector.icon),\n          $combo = $module.prev().find(selector.text).length > 0 ? $module.prev().find(selector.text) : $module.prev(),\n          $menu = $module.children(selector.menu),\n          $item = $menu.find(selector.item),\n          activated = false,\n          itemActivated = false,\n          internalChange = false,\n          element = this,\n          instance = $module.data(moduleNamespace),\n          initialLoad,\n          pageLostFocus,\n          willRefocus,\n          elementNamespace,\n          id,\n          selectObserver,\n          menuObserver,\n          module;\n      module = {\n        initialize: function () {\n          module.debug('Initializing dropdown', settings);\n\n          if (module.is.alreadySetup()) {\n            module.setup.reference();\n          } else {\n            module.setup.layout();\n\n            if (settings.values) {\n              module.change.values(settings.values);\n            }\n\n            module.refreshData();\n            module.save.defaults();\n            module.restore.selected();\n            module.create.id();\n            module.bind.events();\n            module.observeChanges();\n            module.instantiate();\n          }\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of dropdown', module);\n          instance = module;\n          $module.data(moduleNamespace, module);\n        },\n        destroy: function () {\n          module.verbose('Destroying previous dropdown', $module);\n          module.remove.tabbable();\n          $module.off(eventNamespace).removeData(moduleNamespace);\n          $menu.off(eventNamespace);\n          $document.off(elementNamespace);\n          module.disconnect.menuObserver();\n          module.disconnect.selectObserver();\n        },\n        observeChanges: function () {\n          if ('MutationObserver' in window) {\n            selectObserver = new MutationObserver(module.event.select.mutation);\n            menuObserver = new MutationObserver(module.event.menu.mutation);\n            module.debug('Setting up mutation observer', selectObserver, menuObserver);\n            module.observe.select();\n            module.observe.menu();\n          }\n        },\n        disconnect: {\n          menuObserver: function () {\n            if (menuObserver) {\n              menuObserver.disconnect();\n            }\n          },\n          selectObserver: function () {\n            if (selectObserver) {\n              selectObserver.disconnect();\n            }\n          }\n        },\n        observe: {\n          select: function () {\n            if (module.has.input()) {\n              selectObserver.observe($module[0], {\n                childList: true,\n                subtree: true\n              });\n            }\n          },\n          menu: function () {\n            if (module.has.menu()) {\n              menuObserver.observe($menu[0], {\n                childList: true,\n                subtree: true\n              });\n            }\n          }\n        },\n        create: {\n          id: function () {\n            id = (Math.random().toString(16) + '000000000').substr(2, 8);\n            elementNamespace = '.' + id;\n            module.verbose('Creating unique id for element', id);\n          },\n          userChoice: function (values) {\n            var $userChoices, $userChoice, isUserValue, html;\n            values = values || module.get.userValues();\n\n            if (!values) {\n              return false;\n            }\n\n            values = $.isArray(values) ? values : [values];\n            $.each(values, function (index, value) {\n              if (module.get.item(value) === false) {\n                html = settings.templates.addition(module.add.variables(message.addResult, value));\n                $userChoice = $('<div />').html(html).attr('data-' + metadata.value, value).attr('data-' + metadata.text, value).addClass(className.addition).addClass(className.item);\n\n                if (settings.hideAdditions) {\n                  $userChoice.addClass(className.hidden);\n                }\n\n                $userChoices = $userChoices === undefined ? $userChoice : $userChoices.add($userChoice);\n                module.verbose('Creating user choices for value', value, $userChoice);\n              }\n            });\n            return $userChoices;\n          },\n          userLabels: function (value) {\n            var userValues = module.get.userValues();\n\n            if (userValues) {\n              module.debug('Adding user labels', userValues);\n              $.each(userValues, function (index, value) {\n                module.verbose('Adding custom user value');\n                module.add.label(value, value);\n              });\n            }\n          },\n          menu: function () {\n            $menu = $('<div />').addClass(className.menu).appendTo($module);\n          },\n          sizer: function () {\n            $sizer = $('<span />').addClass(className.sizer).insertAfter($search);\n          }\n        },\n        search: function (query) {\n          query = query !== undefined ? query : module.get.query();\n          module.verbose('Searching for query', query);\n\n          if (module.has.minCharacters(query)) {\n            module.filter(query);\n          } else {\n            module.hide();\n          }\n        },\n        select: {\n          firstUnfiltered: function () {\n            module.verbose('Selecting first non-filtered element');\n            module.remove.selectedItem();\n            $item.not(selector.unselectable).not(selector.addition + selector.hidden).eq(0).addClass(className.selected);\n          },\n          nextAvailable: function ($selected) {\n            $selected = $selected.eq(0);\n            var $nextAvailable = $selected.nextAll(selector.item).not(selector.unselectable).eq(0),\n                $prevAvailable = $selected.prevAll(selector.item).not(selector.unselectable).eq(0),\n                hasNext = $nextAvailable.length > 0;\n\n            if (hasNext) {\n              module.verbose('Moving selection to', $nextAvailable);\n              $nextAvailable.addClass(className.selected);\n            } else {\n              module.verbose('Moving selection to', $prevAvailable);\n              $prevAvailable.addClass(className.selected);\n            }\n          }\n        },\n        setup: {\n          api: function () {\n            var apiSettings = {\n              debug: settings.debug,\n              urlData: {\n                value: module.get.value(),\n                query: module.get.query()\n              },\n              on: false\n            };\n            module.verbose('First request, initializing API');\n            $module.api(apiSettings);\n          },\n          layout: function () {\n            if ($module.is('select')) {\n              module.setup.select();\n              module.setup.returnedObject();\n            }\n\n            if (!module.has.menu()) {\n              module.create.menu();\n            }\n\n            if (module.is.search() && !module.has.search()) {\n              module.verbose('Adding search input');\n              $search = $('<input />').addClass(className.search).prop('autocomplete', 'off').insertBefore($text);\n            }\n\n            if (module.is.multiple() && module.is.searchSelection() && !module.has.sizer()) {\n              module.create.sizer();\n            }\n\n            if (settings.allowTab) {\n              module.set.tabbable();\n            }\n          },\n          select: function () {\n            var selectValues = module.get.selectValues();\n            module.debug('Dropdown initialized on a select', selectValues);\n\n            if ($module.is('select')) {\n              $input = $module;\n            } // see if select is placed correctly already\n\n\n            if ($input.parent(selector.dropdown).length > 0) {\n              module.debug('UI dropdown already exists. Creating dropdown menu only');\n              $module = $input.closest(selector.dropdown);\n\n              if (!module.has.menu()) {\n                module.create.menu();\n              }\n\n              $menu = $module.children(selector.menu);\n              module.setup.menu(selectValues);\n            } else {\n              module.debug('Creating entire dropdown from select');\n              $module = $('<div />').attr('class', $input.attr('class')).addClass(className.selection).addClass(className.dropdown).html(templates.dropdown(selectValues)).insertBefore($input);\n\n              if ($input.hasClass(className.multiple) && $input.prop('multiple') === false) {\n                module.error(error.missingMultiple);\n                $input.prop('multiple', true);\n              }\n\n              if ($input.is('[multiple]')) {\n                module.set.multiple();\n              }\n\n              if ($input.prop('disabled')) {\n                module.debug('Disabling dropdown');\n                $module.addClass(className.disabled);\n              }\n\n              $input.removeAttr('class').detach().prependTo($module);\n            }\n\n            module.refresh();\n          },\n          menu: function (values) {\n            $menu.html(templates.menu(values, fields));\n            $item = $menu.find(selector.item);\n          },\n          reference: function () {\n            module.debug('Dropdown behavior was called on select, replacing with closest dropdown'); // replace module reference\n\n            $module = $module.parent(selector.dropdown);\n            instance = $module.data(moduleNamespace);\n            element = $module.get(0);\n            module.refresh();\n            module.setup.returnedObject();\n          },\n          returnedObject: function () {\n            var $firstModules = $allModules.slice(0, elementIndex),\n                $lastModules = $allModules.slice(elementIndex + 1); // adjust all modules to use correct reference\n\n            $allModules = $firstModules.add($module).add($lastModules);\n          }\n        },\n        refresh: function () {\n          module.refreshSelectors();\n          module.refreshData();\n        },\n        refreshItems: function () {\n          $item = $menu.find(selector.item);\n        },\n        refreshSelectors: function () {\n          module.verbose('Refreshing selector cache');\n          $text = $module.find(selector.text);\n          $search = $module.find(selector.search);\n          $input = $module.find(selector.input);\n          $icon = $module.find(selector.icon);\n          $combo = $module.prev().find(selector.text).length > 0 ? $module.prev().find(selector.text) : $module.prev();\n          $menu = $module.children(selector.menu);\n          $item = $menu.find(selector.item);\n        },\n        refreshData: function () {\n          module.verbose('Refreshing cached metadata');\n          $item.removeData(metadata.text).removeData(metadata.value);\n        },\n        clearData: function () {\n          module.verbose('Clearing metadata');\n          $item.removeData(metadata.text).removeData(metadata.value);\n          $module.removeData(metadata.defaultText).removeData(metadata.defaultValue).removeData(metadata.placeholderText);\n        },\n        toggle: function () {\n          module.verbose('Toggling menu visibility');\n\n          if (!module.is.active()) {\n            module.show();\n          } else {\n            module.hide();\n          }\n        },\n        show: function (callback) {\n          callback = $.isFunction(callback) ? callback : function () {};\n\n          if (!module.can.show() && module.is.remote()) {\n            module.debug('No API results retrieved, searching before show');\n            module.queryRemote(module.get.query(), module.show);\n          }\n\n          if (module.can.show() && !module.is.active()) {\n            module.debug('Showing dropdown');\n\n            if (module.has.message() && !(module.has.maxSelections() || module.has.allResultsFiltered())) {\n              module.remove.message();\n            }\n\n            if (module.is.allFiltered()) {\n              return true;\n            }\n\n            if (settings.onShow.call(element) !== false) {\n              module.animate.show(function () {\n                if (module.can.click()) {\n                  module.bind.intent();\n                }\n\n                if (module.has.menuSearch()) {\n                  module.focusSearch();\n                }\n\n                module.set.visible();\n                callback.call(element);\n              });\n            }\n          }\n        },\n        hide: function (callback) {\n          callback = $.isFunction(callback) ? callback : function () {};\n\n          if (module.is.active() && !module.is.animatingOutward()) {\n            module.debug('Hiding dropdown');\n\n            if (settings.onHide.call(element) !== false) {\n              module.animate.hide(function () {\n                module.remove.visible();\n                callback.call(element);\n              });\n            }\n          }\n        },\n        hideOthers: function () {\n          module.verbose('Finding other dropdowns to hide');\n          $allModules.not($module).has(selector.menu + '.' + className.visible).dropdown('hide');\n        },\n        hideMenu: function () {\n          module.verbose('Hiding menu  instantaneously');\n          module.remove.active();\n          module.remove.visible();\n          $menu.transition('hide');\n        },\n        hideSubMenus: function () {\n          var $subMenus = $menu.children(selector.item).find(selector.menu);\n          module.verbose('Hiding sub menus', $subMenus);\n          $subMenus.transition('hide');\n        },\n        bind: {\n          events: function () {\n            if (hasTouch) {\n              module.bind.touchEvents();\n            }\n\n            module.bind.keyboardEvents();\n            module.bind.inputEvents();\n            module.bind.mouseEvents();\n          },\n          touchEvents: function () {\n            module.debug('Touch device detected binding additional touch events');\n\n            if (module.is.searchSelection()) {// do nothing special yet\n            } else if (module.is.single()) {\n              $module.on('touchstart' + eventNamespace, module.event.test.toggle);\n            }\n\n            $menu.on('touchstart' + eventNamespace, selector.item, module.event.item.mouseenter);\n          },\n          keyboardEvents: function () {\n            module.verbose('Binding keyboard events');\n            $module.on('keydown' + eventNamespace, module.event.keydown);\n\n            if (module.has.search()) {\n              $module.on(module.get.inputEvent() + eventNamespace, selector.search, module.event.input);\n            }\n\n            if (module.is.multiple()) {\n              $document.on('keydown' + elementNamespace, module.event.document.keydown);\n            }\n          },\n          inputEvents: function () {\n            module.verbose('Binding input change events');\n            $module.on('change' + eventNamespace, selector.input, module.event.change);\n          },\n          mouseEvents: function () {\n            module.verbose('Binding mouse events');\n\n            if (module.is.multiple()) {\n              $module.on('click' + eventNamespace, selector.label, module.event.label.click).on('click' + eventNamespace, selector.remove, module.event.remove.click);\n            }\n\n            if (module.is.searchSelection()) {\n              $module.on('mousedown' + eventNamespace, module.event.mousedown).on('mouseup' + eventNamespace, module.event.mouseup).on('mousedown' + eventNamespace, selector.menu, module.event.menu.mousedown).on('mouseup' + eventNamespace, selector.menu, module.event.menu.mouseup).on('click' + eventNamespace, selector.icon, module.event.icon.click).on('focus' + eventNamespace, selector.search, module.event.search.focus).on('click' + eventNamespace, selector.search, module.event.search.focus).on('blur' + eventNamespace, selector.search, module.event.search.blur).on('click' + eventNamespace, selector.text, module.event.text.focus);\n\n              if (module.is.multiple()) {\n                $module.on('click' + eventNamespace, module.event.click);\n              }\n            } else {\n              if (settings.on == 'click') {\n                $module.on('click' + eventNamespace, selector.icon, module.event.icon.click).on('click' + eventNamespace, module.event.test.toggle);\n              } else if (settings.on == 'hover') {\n                $module.on('mouseenter' + eventNamespace, module.delay.show).on('mouseleave' + eventNamespace, module.delay.hide);\n              } else {\n                $module.on(settings.on + eventNamespace, module.toggle);\n              }\n\n              $module.on('mousedown' + eventNamespace, module.event.mousedown).on('mouseup' + eventNamespace, module.event.mouseup).on('focus' + eventNamespace, module.event.focus);\n\n              if (module.has.menuSearch()) {\n                $module.on('blur' + eventNamespace, selector.search, module.event.search.blur);\n              } else {\n                $module.on('blur' + eventNamespace, module.event.blur);\n              }\n            }\n\n            $menu.on('mouseenter' + eventNamespace, selector.item, module.event.item.mouseenter).on('mouseleave' + eventNamespace, selector.item, module.event.item.mouseleave).on('click' + eventNamespace, selector.item, module.event.item.click);\n          },\n          intent: function () {\n            module.verbose('Binding hide intent event to document');\n\n            if (hasTouch) {\n              $document.on('touchstart' + elementNamespace, module.event.test.touch).on('touchmove' + elementNamespace, module.event.test.touch);\n            }\n\n            $document.on('click' + elementNamespace, module.event.test.hide);\n          }\n        },\n        unbind: {\n          intent: function () {\n            module.verbose('Removing hide intent event from document');\n\n            if (hasTouch) {\n              $document.off('touchstart' + elementNamespace).off('touchmove' + elementNamespace);\n            }\n\n            $document.off('click' + elementNamespace);\n          }\n        },\n        filter: function (query) {\n          var searchTerm = query !== undefined ? query : module.get.query(),\n              afterFiltered = function () {\n            if (module.is.multiple()) {\n              module.filterActive();\n            }\n\n            if (query || !query && module.get.activeItem().length == 0) {\n              module.select.firstUnfiltered();\n            }\n\n            if (module.has.allResultsFiltered()) {\n              if (settings.onNoResults.call(element, searchTerm)) {\n                if (settings.allowAdditions) {\n                  if (settings.hideAdditions) {\n                    module.verbose('User addition with no menu, setting empty style');\n                    module.set.empty();\n                    module.hideMenu();\n                  }\n                } else {\n                  module.verbose('All items filtered, showing message', searchTerm);\n                  module.add.message(message.noResults);\n                }\n              } else {\n                module.verbose('All items filtered, hiding dropdown', searchTerm);\n                module.hideMenu();\n              }\n            } else {\n              module.remove.empty();\n              module.remove.message();\n            }\n\n            if (settings.allowAdditions) {\n              module.add.userSuggestion(query);\n            }\n\n            if (module.is.searchSelection() && module.can.show() && module.is.focusedOnSearch()) {\n              module.show();\n            }\n          };\n\n          if (settings.useLabels && module.has.maxSelections()) {\n            return;\n          }\n\n          if (settings.apiSettings) {\n            if (module.can.useAPI()) {\n              module.queryRemote(searchTerm, function () {\n                if (settings.filterRemoteData) {\n                  module.filterItems(searchTerm);\n                }\n\n                afterFiltered();\n              });\n            } else {\n              module.error(error.noAPI);\n            }\n          } else {\n            module.filterItems(searchTerm);\n            afterFiltered();\n          }\n        },\n        queryRemote: function (query, callback) {\n          var apiSettings = {\n            errorDuration: false,\n            cache: 'local',\n            throttle: settings.throttle,\n            urlData: {\n              query: query\n            },\n            onError: function () {\n              module.add.message(message.serverError);\n              callback();\n            },\n            onFailure: function () {\n              module.add.message(message.serverError);\n              callback();\n            },\n            onSuccess: function (response) {\n              var values = response[fields.remoteValues],\n                  hasRemoteValues = $.isArray(values) && values.length > 0;\n\n              if (hasRemoteValues) {\n                module.remove.message();\n                module.setup.menu({\n                  values: response[fields.remoteValues]\n                });\n              } else {\n                module.add.message(message.noResults);\n              }\n\n              callback();\n            }\n          };\n\n          if (!$module.api('get request')) {\n            module.setup.api();\n          }\n\n          apiSettings = $.extend(true, {}, apiSettings, settings.apiSettings);\n          $module.api('setting', apiSettings).api('query');\n        },\n        filterItems: function (query) {\n          var searchTerm = query !== undefined ? query : module.get.query(),\n              results = null,\n              escapedTerm = module.escape.string(searchTerm),\n              beginsWithRegExp = new RegExp('^' + escapedTerm, 'igm'); // avoid loop if we're matching nothing\n\n          if (module.has.query()) {\n            results = [];\n            module.verbose('Searching for matching values', searchTerm);\n            $item.each(function () {\n              var $choice = $(this),\n                  text,\n                  value;\n\n              if (settings.match == 'both' || settings.match == 'text') {\n                text = String(module.get.choiceText($choice, false));\n\n                if (text.search(beginsWithRegExp) !== -1) {\n                  results.push(this);\n                  return true;\n                } else if (settings.fullTextSearch === 'exact' && module.exactSearch(searchTerm, text)) {\n                  results.push(this);\n                  return true;\n                } else if (settings.fullTextSearch === true && module.fuzzySearch(searchTerm, text)) {\n                  results.push(this);\n                  return true;\n                }\n              }\n\n              if (settings.match == 'both' || settings.match == 'value') {\n                value = String(module.get.choiceValue($choice, text));\n\n                if (value.search(beginsWithRegExp) !== -1) {\n                  results.push(this);\n                  return true;\n                } else if (settings.fullTextSearch === 'exact' && module.exactSearch(searchTerm, value)) {\n                  results.push(this);\n                  return true;\n                } else if (settings.fullTextSearch === true && module.fuzzySearch(searchTerm, value)) {\n                  results.push(this);\n                  return true;\n                }\n              }\n            });\n          }\n\n          module.debug('Showing only matched items', searchTerm);\n          module.remove.filteredItem();\n\n          if (results) {\n            $item.not(results).addClass(className.filtered);\n          }\n        },\n        fuzzySearch: function (query, term) {\n          var termLength = term.length,\n              queryLength = query.length;\n          query = query.toLowerCase();\n          term = term.toLowerCase();\n\n          if (queryLength > termLength) {\n            return false;\n          }\n\n          if (queryLength === termLength) {\n            return query === term;\n          }\n\n          search: for (var characterIndex = 0, nextCharacterIndex = 0; characterIndex < queryLength; characterIndex++) {\n            var queryCharacter = query.charCodeAt(characterIndex);\n\n            while (nextCharacterIndex < termLength) {\n              if (term.charCodeAt(nextCharacterIndex++) === queryCharacter) {\n                continue search;\n              }\n            }\n\n            return false;\n          }\n\n          return true;\n        },\n        exactSearch: function (query, term) {\n          query = query.toLowerCase();\n          term = term.toLowerCase();\n\n          if (term.indexOf(query) > -1) {\n            return true;\n          }\n\n          return false;\n        },\n        filterActive: function () {\n          if (settings.useLabels) {\n            $item.filter('.' + className.active).addClass(className.filtered);\n          }\n        },\n        focusSearch: function (skipHandler) {\n          if (module.has.search() && !module.is.focusedOnSearch()) {\n            if (skipHandler) {\n              $module.off('focus' + eventNamespace, selector.search);\n              $search.focus();\n              $module.on('focus' + eventNamespace, selector.search, module.event.search.focus);\n            } else {\n              $search.focus();\n            }\n          }\n        },\n        forceSelection: function () {\n          var $currentlySelected = $item.not(className.filtered).filter('.' + className.selected).eq(0),\n              $activeItem = $item.not(className.filtered).filter('.' + className.active).eq(0),\n              $selectedItem = $currentlySelected.length > 0 ? $currentlySelected : $activeItem,\n              hasSelected = $selectedItem.length > 0;\n\n          if (hasSelected && !module.is.multiple()) {\n            module.debug('Forcing partial selection to selected item', $selectedItem);\n            module.event.item.click.call($selectedItem, {}, true);\n            return;\n          } else {\n            if (settings.allowAdditions) {\n              module.set.selected(module.get.query());\n              module.remove.searchTerm();\n            } else {\n              module.remove.searchTerm();\n            }\n          }\n        },\n        change: {\n          values: function (values) {\n            if (!settings.allowAdditions) {\n              module.clear();\n            }\n\n            module.debug('Creating dropdown with specified values', values);\n            module.setup.menu({\n              values: values\n            });\n            $.each(values, function (index, item) {\n              if (item.selected == true) {\n                module.debug('Setting initial selection to', item.value);\n                module.set.selected(item.value);\n                return true;\n              }\n            });\n          }\n        },\n        event: {\n          change: function () {\n            if (!internalChange) {\n              module.debug('Input changed, updating selection');\n              module.set.selected();\n            }\n          },\n          focus: function () {\n            if (settings.showOnFocus && !activated && module.is.hidden() && !pageLostFocus) {\n              module.show();\n            }\n          },\n          blur: function (event) {\n            pageLostFocus = document.activeElement === this;\n\n            if (!activated && !pageLostFocus) {\n              module.remove.activeLabel();\n              module.hide();\n            }\n          },\n          mousedown: function () {\n            if (module.is.searchSelection()) {\n              // prevent menu hiding on immediate re-focus\n              willRefocus = true;\n            } else {\n              // prevents focus callback from occurring on mousedown\n              activated = true;\n            }\n          },\n          mouseup: function () {\n            if (module.is.searchSelection()) {\n              // prevent menu hiding on immediate re-focus\n              willRefocus = false;\n            } else {\n              activated = false;\n            }\n          },\n          click: function (event) {\n            var $target = $(event.target); // focus search\n\n            if ($target.is($module)) {\n              if (!module.is.focusedOnSearch()) {\n                module.focusSearch();\n              } else {\n                module.show();\n              }\n            }\n          },\n          search: {\n            focus: function () {\n              activated = true;\n\n              if (module.is.multiple()) {\n                module.remove.activeLabel();\n              }\n\n              if (settings.showOnFocus) {\n                module.search();\n              }\n            },\n            blur: function (event) {\n              pageLostFocus = document.activeElement === this;\n\n              if (module.is.searchSelection() && !willRefocus) {\n                if (!itemActivated && !pageLostFocus) {\n                  if (settings.forceSelection) {\n                    module.forceSelection();\n                  }\n\n                  module.hide();\n                }\n              }\n\n              willRefocus = false;\n            }\n          },\n          icon: {\n            click: function (event) {\n              module.toggle();\n            }\n          },\n          text: {\n            focus: function (event) {\n              activated = true;\n              module.focusSearch();\n            }\n          },\n          input: function (event) {\n            if (module.is.multiple() || module.is.searchSelection()) {\n              module.set.filtered();\n            }\n\n            clearTimeout(module.timer);\n            module.timer = setTimeout(module.search, settings.delay.search);\n          },\n          label: {\n            click: function (event) {\n              var $label = $(this),\n                  $labels = $module.find(selector.label),\n                  $activeLabels = $labels.filter('.' + className.active),\n                  $nextActive = $label.nextAll('.' + className.active),\n                  $prevActive = $label.prevAll('.' + className.active),\n                  $range = $nextActive.length > 0 ? $label.nextUntil($nextActive).add($activeLabels).add($label) : $label.prevUntil($prevActive).add($activeLabels).add($label);\n\n              if (event.shiftKey) {\n                $activeLabels.removeClass(className.active);\n                $range.addClass(className.active);\n              } else if (event.ctrlKey) {\n                $label.toggleClass(className.active);\n              } else {\n                $activeLabels.removeClass(className.active);\n                $label.addClass(className.active);\n              }\n\n              settings.onLabelSelect.apply(this, $labels.filter('.' + className.active));\n            }\n          },\n          remove: {\n            click: function () {\n              var $label = $(this).parent();\n\n              if ($label.hasClass(className.active)) {\n                // remove all selected labels\n                module.remove.activeLabels();\n              } else {\n                // remove this label only\n                module.remove.activeLabels($label);\n              }\n            }\n          },\n          test: {\n            toggle: function (event) {\n              var toggleBehavior = module.is.multiple() ? module.show : module.toggle;\n\n              if (module.is.bubbledLabelClick(event) || module.is.bubbledIconClick(event)) {\n                return;\n              }\n\n              if (module.determine.eventOnElement(event, toggleBehavior)) {\n                event.preventDefault();\n              }\n            },\n            touch: function (event) {\n              module.determine.eventOnElement(event, function () {\n                if (event.type == 'touchstart') {\n                  module.timer = setTimeout(function () {\n                    module.hide();\n                  }, settings.delay.touch);\n                } else if (event.type == 'touchmove') {\n                  clearTimeout(module.timer);\n                }\n              });\n              event.stopPropagation();\n            },\n            hide: function (event) {\n              module.determine.eventInModule(event, module.hide);\n            }\n          },\n          select: {\n            mutation: function (mutations) {\n              module.debug('<select> modified, recreating menu');\n              var isSelectMutation = false;\n              $.each(mutations, function (index, mutation) {\n                if ($(mutation.target).is('select') || $(mutation.addedNodes).is('select')) {\n                  isSelectMutation = true;\n                  return true;\n                }\n              });\n\n              if (isSelectMutation) {\n                module.disconnect.selectObserver();\n                module.refresh();\n                module.setup.select();\n                module.set.selected();\n                module.observe.select();\n              }\n            }\n          },\n          menu: {\n            mutation: function (mutations) {\n              var mutation = mutations[0],\n                  $addedNode = mutation.addedNodes ? $(mutation.addedNodes[0]) : $(false),\n                  $removedNode = mutation.removedNodes ? $(mutation.removedNodes[0]) : $(false),\n                  $changedNodes = $addedNode.add($removedNode),\n                  isUserAddition = $changedNodes.is(selector.addition) || $changedNodes.closest(selector.addition).length > 0,\n                  isMessage = $changedNodes.is(selector.message) || $changedNodes.closest(selector.message).length > 0;\n\n              if (isUserAddition || isMessage) {\n                module.debug('Updating item selector cache');\n                module.refreshItems();\n              } else {\n                module.debug('Menu modified, updating selector cache');\n                module.refresh();\n              }\n            },\n            mousedown: function () {\n              itemActivated = true;\n            },\n            mouseup: function () {\n              itemActivated = false;\n            }\n          },\n          item: {\n            mouseenter: function (event) {\n              var $target = $(event.target),\n                  $item = $(this),\n                  $subMenu = $item.children(selector.menu),\n                  $otherMenus = $item.siblings(selector.item).children(selector.menu),\n                  hasSubMenu = $subMenu.length > 0,\n                  isBubbledEvent = $subMenu.find($target).length > 0;\n\n              if (!isBubbledEvent && hasSubMenu) {\n                clearTimeout(module.itemTimer);\n                module.itemTimer = setTimeout(function () {\n                  module.verbose('Showing sub-menu', $subMenu);\n                  $.each($otherMenus, function () {\n                    module.animate.hide(false, $(this));\n                  });\n                  module.animate.show(false, $subMenu);\n                }, settings.delay.show);\n                event.preventDefault();\n              }\n            },\n            mouseleave: function (event) {\n              var $subMenu = $(this).children(selector.menu);\n\n              if ($subMenu.length > 0) {\n                clearTimeout(module.itemTimer);\n                module.itemTimer = setTimeout(function () {\n                  module.verbose('Hiding sub-menu', $subMenu);\n                  module.animate.hide(false, $subMenu);\n                }, settings.delay.hide);\n              }\n            },\n            click: function (event, skipRefocus) {\n              var $choice = $(this),\n                  $target = event ? $(event.target) : $(''),\n                  $subMenu = $choice.find(selector.menu),\n                  text = module.get.choiceText($choice),\n                  value = module.get.choiceValue($choice, text),\n                  hasSubMenu = $subMenu.length > 0,\n                  isBubbledEvent = $subMenu.find($target).length > 0; // prevents IE11 bug where menu receives focus even though `tabindex=-1`\n\n              if (module.has.menuSearch()) {\n                $(document.activeElement).blur();\n              }\n\n              if (!isBubbledEvent && (!hasSubMenu || settings.allowCategorySelection)) {\n                if (module.is.searchSelection()) {\n                  if (settings.allowAdditions) {\n                    module.remove.userAddition();\n                  }\n\n                  module.remove.searchTerm();\n\n                  if (!module.is.focusedOnSearch() && !(skipRefocus == true)) {\n                    module.focusSearch(true);\n                  }\n                }\n\n                if (!settings.useLabels) {\n                  module.remove.filteredItem();\n                  module.set.scrollPosition($choice);\n                }\n\n                module.determine.selectAction.call(this, text, value);\n              }\n            }\n          },\n          document: {\n            // label selection should occur even when element has no focus\n            keydown: function (event) {\n              var pressedKey = event.which,\n                  isShortcutKey = module.is.inObject(pressedKey, keys);\n\n              if (isShortcutKey) {\n                var $label = $module.find(selector.label),\n                    $activeLabel = $label.filter('.' + className.active),\n                    activeValue = $activeLabel.data(metadata.value),\n                    labelIndex = $label.index($activeLabel),\n                    labelCount = $label.length,\n                    hasActiveLabel = $activeLabel.length > 0,\n                    hasMultipleActive = $activeLabel.length > 1,\n                    isFirstLabel = labelIndex === 0,\n                    isLastLabel = labelIndex + 1 == labelCount,\n                    isSearch = module.is.searchSelection(),\n                    isFocusedOnSearch = module.is.focusedOnSearch(),\n                    isFocused = module.is.focused(),\n                    caretAtStart = isFocusedOnSearch && module.get.caretPosition() === 0,\n                    $nextLabel;\n\n                if (isSearch && !hasActiveLabel && !isFocusedOnSearch) {\n                  return;\n                }\n\n                if (pressedKey == keys.leftArrow) {\n                  // activate previous label\n                  if ((isFocused || caretAtStart) && !hasActiveLabel) {\n                    module.verbose('Selecting previous label');\n                    $label.last().addClass(className.active);\n                  } else if (hasActiveLabel) {\n                    if (!event.shiftKey) {\n                      module.verbose('Selecting previous label');\n                      $label.removeClass(className.active);\n                    } else {\n                      module.verbose('Adding previous label to selection');\n                    }\n\n                    if (isFirstLabel && !hasMultipleActive) {\n                      $activeLabel.addClass(className.active);\n                    } else {\n                      $activeLabel.prev(selector.siblingLabel).addClass(className.active).end();\n                    }\n\n                    event.preventDefault();\n                  }\n                } else if (pressedKey == keys.rightArrow) {\n                  // activate first label\n                  if (isFocused && !hasActiveLabel) {\n                    $label.first().addClass(className.active);\n                  } // activate next label\n\n\n                  if (hasActiveLabel) {\n                    if (!event.shiftKey) {\n                      module.verbose('Selecting next label');\n                      $label.removeClass(className.active);\n                    } else {\n                      module.verbose('Adding next label to selection');\n                    }\n\n                    if (isLastLabel) {\n                      if (isSearch) {\n                        if (!isFocusedOnSearch) {\n                          module.focusSearch();\n                        } else {\n                          $label.removeClass(className.active);\n                        }\n                      } else if (hasMultipleActive) {\n                        $activeLabel.next(selector.siblingLabel).addClass(className.active);\n                      } else {\n                        $activeLabel.addClass(className.active);\n                      }\n                    } else {\n                      $activeLabel.next(selector.siblingLabel).addClass(className.active);\n                    }\n\n                    event.preventDefault();\n                  }\n                } else if (pressedKey == keys.deleteKey || pressedKey == keys.backspace) {\n                  if (hasActiveLabel) {\n                    module.verbose('Removing active labels');\n\n                    if (isLastLabel) {\n                      if (isSearch && !isFocusedOnSearch) {\n                        module.focusSearch();\n                      }\n                    }\n\n                    $activeLabel.last().next(selector.siblingLabel).addClass(className.active);\n                    module.remove.activeLabels($activeLabel);\n                    event.preventDefault();\n                  } else if (caretAtStart && !hasActiveLabel && pressedKey == keys.backspace) {\n                    module.verbose('Removing last label on input backspace');\n                    $activeLabel = $label.last().addClass(className.active);\n                    module.remove.activeLabels($activeLabel);\n                  }\n                } else {\n                  $activeLabel.removeClass(className.active);\n                }\n              }\n            }\n          },\n          keydown: function (event) {\n            var pressedKey = event.which,\n                isShortcutKey = module.is.inObject(pressedKey, keys);\n\n            if (isShortcutKey) {\n              var $currentlySelected = $item.not(selector.unselectable).filter('.' + className.selected).eq(0),\n                  $activeItem = $menu.children('.' + className.active).eq(0),\n                  $selectedItem = $currentlySelected.length > 0 ? $currentlySelected : $activeItem,\n                  $visibleItems = $selectedItem.length > 0 ? $selectedItem.siblings(':not(.' + className.filtered + ')').addBack() : $menu.children(':not(.' + className.filtered + ')'),\n                  $subMenu = $selectedItem.children(selector.menu),\n                  $parentMenu = $selectedItem.closest(selector.menu),\n                  inVisibleMenu = $parentMenu.hasClass(className.visible) || $parentMenu.hasClass(className.animating) || $parentMenu.parent(selector.menu).length > 0,\n                  hasSubMenu = $subMenu.length > 0,\n                  hasSelectedItem = $selectedItem.length > 0,\n                  selectedIsSelectable = $selectedItem.not(selector.unselectable).length > 0,\n                  delimiterPressed = pressedKey == keys.delimiter && settings.allowAdditions && module.is.multiple(),\n                  isAdditionWithoutMenu = settings.allowAdditions && settings.hideAdditions && (pressedKey == keys.enter || delimiterPressed) && selectedIsSelectable,\n                  $nextItem,\n                  isSubMenuItem,\n                  newIndex; // allow selection with menu closed\n\n              if (isAdditionWithoutMenu) {\n                module.verbose('Selecting item from keyboard shortcut', $selectedItem);\n                module.event.item.click.call($selectedItem, event);\n\n                if (module.is.searchSelection()) {\n                  module.remove.searchTerm();\n                }\n              } // visible menu keyboard shortcuts\n\n\n              if (module.is.visible()) {\n                // enter (select or open sub-menu)\n                if (pressedKey == keys.enter || delimiterPressed) {\n                  if (pressedKey == keys.enter && hasSelectedItem && hasSubMenu && !settings.allowCategorySelection) {\n                    module.verbose('Pressed enter on unselectable category, opening sub menu');\n                    pressedKey = keys.rightArrow;\n                  } else if (selectedIsSelectable) {\n                    module.verbose('Selecting item from keyboard shortcut', $selectedItem);\n                    module.event.item.click.call($selectedItem, event);\n\n                    if (module.is.searchSelection()) {\n                      module.remove.searchTerm();\n                    }\n                  }\n\n                  event.preventDefault();\n                } // sub-menu actions\n\n\n                if (hasSelectedItem) {\n                  if (pressedKey == keys.leftArrow) {\n                    isSubMenuItem = $parentMenu[0] !== $menu[0];\n\n                    if (isSubMenuItem) {\n                      module.verbose('Left key pressed, closing sub-menu');\n                      module.animate.hide(false, $parentMenu);\n                      $selectedItem.removeClass(className.selected);\n                      $parentMenu.closest(selector.item).addClass(className.selected);\n                      event.preventDefault();\n                    }\n                  } // right arrow (show sub-menu)\n\n\n                  if (pressedKey == keys.rightArrow) {\n                    if (hasSubMenu) {\n                      module.verbose('Right key pressed, opening sub-menu');\n                      module.animate.show(false, $subMenu);\n                      $selectedItem.removeClass(className.selected);\n                      $subMenu.find(selector.item).eq(0).addClass(className.selected);\n                      event.preventDefault();\n                    }\n                  }\n                } // up arrow (traverse menu up)\n\n\n                if (pressedKey == keys.upArrow) {\n                  $nextItem = hasSelectedItem && inVisibleMenu ? $selectedItem.prevAll(selector.item + ':not(' + selector.unselectable + ')').eq(0) : $item.eq(0);\n\n                  if ($visibleItems.index($nextItem) < 0) {\n                    module.verbose('Up key pressed but reached top of current menu');\n                    event.preventDefault();\n                    return;\n                  } else {\n                    module.verbose('Up key pressed, changing active item');\n                    $selectedItem.removeClass(className.selected);\n                    $nextItem.addClass(className.selected);\n                    module.set.scrollPosition($nextItem);\n\n                    if (settings.selectOnKeydown && module.is.single()) {\n                      module.set.selectedItem($nextItem);\n                    }\n                  }\n\n                  event.preventDefault();\n                } // down arrow (traverse menu down)\n\n\n                if (pressedKey == keys.downArrow) {\n                  $nextItem = hasSelectedItem && inVisibleMenu ? $nextItem = $selectedItem.nextAll(selector.item + ':not(' + selector.unselectable + ')').eq(0) : $item.eq(0);\n\n                  if ($nextItem.length === 0) {\n                    module.verbose('Down key pressed but reached bottom of current menu');\n                    event.preventDefault();\n                    return;\n                  } else {\n                    module.verbose('Down key pressed, changing active item');\n                    $item.removeClass(className.selected);\n                    $nextItem.addClass(className.selected);\n                    module.set.scrollPosition($nextItem);\n\n                    if (settings.selectOnKeydown && module.is.single()) {\n                      module.set.selectedItem($nextItem);\n                    }\n                  }\n\n                  event.preventDefault();\n                } // page down (show next page)\n\n\n                if (pressedKey == keys.pageUp) {\n                  module.scrollPage('up');\n                  event.preventDefault();\n                }\n\n                if (pressedKey == keys.pageDown) {\n                  module.scrollPage('down');\n                  event.preventDefault();\n                } // escape (close menu)\n\n\n                if (pressedKey == keys.escape) {\n                  module.verbose('Escape key pressed, closing dropdown');\n                  module.hide();\n                }\n              } else {\n                // delimiter key\n                if (delimiterPressed) {\n                  event.preventDefault();\n                } // down arrow (open menu)\n\n\n                if (pressedKey == keys.downArrow && !module.is.visible()) {\n                  module.verbose('Down key pressed, showing dropdown');\n                  module.show();\n                  event.preventDefault();\n                }\n              }\n            } else {\n              if (!module.has.search()) {\n                module.set.selectedLetter(String.fromCharCode(pressedKey));\n              }\n            }\n          }\n        },\n        trigger: {\n          change: function () {\n            var events = document.createEvent('HTMLEvents'),\n                inputElement = $input[0];\n\n            if (inputElement) {\n              module.verbose('Triggering native change event');\n              events.initEvent('change', true, false);\n              inputElement.dispatchEvent(events);\n            }\n          }\n        },\n        determine: {\n          selectAction: function (text, value) {\n            module.verbose('Determining action', settings.action);\n\n            if ($.isFunction(module.action[settings.action])) {\n              module.verbose('Triggering preset action', settings.action, text, value);\n              module.action[settings.action].call(element, text, value, this);\n            } else if ($.isFunction(settings.action)) {\n              module.verbose('Triggering user action', settings.action, text, value);\n              settings.action.call(element, text, value, this);\n            } else {\n              module.error(error.action, settings.action);\n            }\n          },\n          eventInModule: function (event, callback) {\n            var $target = $(event.target),\n                inDocument = $target.closest(document.documentElement).length > 0,\n                inModule = $target.closest($module).length > 0;\n            callback = $.isFunction(callback) ? callback : function () {};\n\n            if (inDocument && !inModule) {\n              module.verbose('Triggering event', callback);\n              callback();\n              return true;\n            } else {\n              module.verbose('Event occurred in dropdown, canceling callback');\n              return false;\n            }\n          },\n          eventOnElement: function (event, callback) {\n            var $target = $(event.target),\n                $label = $target.closest(selector.siblingLabel),\n                inVisibleDOM = document.body.contains(event.target),\n                notOnLabel = $module.find($label).length === 0,\n                notInMenu = $target.closest($menu).length === 0;\n            callback = $.isFunction(callback) ? callback : function () {};\n\n            if (inVisibleDOM && notOnLabel && notInMenu) {\n              module.verbose('Triggering event', callback);\n              callback();\n              return true;\n            } else {\n              module.verbose('Event occurred in dropdown menu, canceling callback');\n              return false;\n            }\n          }\n        },\n        action: {\n          nothing: function () {},\n          activate: function (text, value, element) {\n            value = value !== undefined ? value : text;\n\n            if (module.can.activate($(element))) {\n              module.set.selected(value, $(element));\n\n              if (module.is.multiple() && !module.is.allFiltered()) {\n                return;\n              } else {\n                module.hideAndClear();\n              }\n            }\n          },\n          select: function (text, value, element) {\n            value = value !== undefined ? value : text;\n\n            if (module.can.activate($(element))) {\n              module.set.value(value, text, $(element));\n\n              if (module.is.multiple() && !module.is.allFiltered()) {\n                return;\n              } else {\n                module.hideAndClear();\n              }\n            }\n          },\n          combo: function (text, value, element) {\n            value = value !== undefined ? value : text;\n            module.set.selected(value, $(element));\n            module.hideAndClear();\n          },\n          hide: function (text, value, element) {\n            module.set.value(value, text);\n            module.hideAndClear();\n          }\n        },\n        get: {\n          id: function () {\n            return id;\n          },\n          defaultText: function () {\n            return $module.data(metadata.defaultText);\n          },\n          defaultValue: function () {\n            return $module.data(metadata.defaultValue);\n          },\n          placeholderText: function () {\n            if (settings.placeholder != 'auto' && typeof settings.placeholder == 'string') {\n              return settings.placeholder;\n            }\n\n            return $module.data(metadata.placeholderText) || '';\n          },\n          text: function () {\n            return $text.text();\n          },\n          query: function () {\n            return $.trim($search.val());\n          },\n          searchWidth: function (value) {\n            value = value !== undefined ? value : $search.val();\n            $sizer.text(value); // prevent rounding issues\n\n            return Math.ceil($sizer.width() + 1);\n          },\n          selectionCount: function () {\n            var values = module.get.values(),\n                count;\n            count = module.is.multiple() ? $.isArray(values) ? values.length : 0 : module.get.value() !== '' ? 1 : 0;\n            return count;\n          },\n          transition: function ($subMenu) {\n            return settings.transition == 'auto' ? module.is.upward($subMenu) ? 'slide up' : 'slide down' : settings.transition;\n          },\n          userValues: function () {\n            var values = module.get.values();\n\n            if (!values) {\n              return false;\n            }\n\n            values = $.isArray(values) ? values : [values];\n            return $.grep(values, function (value) {\n              return module.get.item(value) === false;\n            });\n          },\n          uniqueArray: function (array) {\n            return $.grep(array, function (value, index) {\n              return $.inArray(value, array) === index;\n            });\n          },\n          caretPosition: function () {\n            var input = $search.get(0),\n                range,\n                rangeLength;\n\n            if ('selectionStart' in input) {\n              return input.selectionStart;\n            } else if (document.selection) {\n              input.focus();\n              range = document.selection.createRange();\n              rangeLength = range.text.length;\n              range.moveStart('character', -input.value.length);\n              return range.text.length - rangeLength;\n            }\n          },\n          value: function () {\n            var value = $input.length > 0 ? $input.val() : $module.data(metadata.value),\n                isEmptyMultiselect = $.isArray(value) && value.length === 1 && value[0] === ''; // prevents placeholder element from being selected when multiple\n\n            return value === undefined || isEmptyMultiselect ? '' : value;\n          },\n          values: function () {\n            var value = module.get.value();\n\n            if (value === '') {\n              return '';\n            }\n\n            return !module.has.selectInput() && module.is.multiple() ? typeof value == 'string' ? // delimited string\n            value.split(settings.delimiter) : '' : value;\n          },\n          remoteValues: function () {\n            var values = module.get.values(),\n                remoteValues = false;\n\n            if (values) {\n              if (typeof values == 'string') {\n                values = [values];\n              }\n\n              $.each(values, function (index, value) {\n                var name = module.read.remoteData(value);\n                module.verbose('Restoring value from session data', name, value);\n\n                if (name) {\n                  if (!remoteValues) {\n                    remoteValues = {};\n                  }\n\n                  remoteValues[value] = name;\n                }\n              });\n            }\n\n            return remoteValues;\n          },\n          choiceText: function ($choice, preserveHTML) {\n            preserveHTML = preserveHTML !== undefined ? preserveHTML : settings.preserveHTML;\n\n            if ($choice) {\n              if ($choice.find(selector.menu).length > 0) {\n                module.verbose('Retrieving text of element with sub-menu');\n                $choice = $choice.clone();\n                $choice.find(selector.menu).remove();\n                $choice.find(selector.menuIcon).remove();\n              }\n\n              return $choice.data(metadata.text) !== undefined ? $choice.data(metadata.text) : preserveHTML ? $.trim($choice.html()) : $.trim($choice.text());\n            }\n          },\n          choiceValue: function ($choice, choiceText) {\n            choiceText = choiceText || module.get.choiceText($choice);\n\n            if (!$choice) {\n              return false;\n            }\n\n            return $choice.data(metadata.value) !== undefined ? String($choice.data(metadata.value)) : typeof choiceText === 'string' ? $.trim(choiceText.toLowerCase()) : String(choiceText);\n          },\n          inputEvent: function () {\n            var input = $search[0];\n\n            if (input) {\n              return input.oninput !== undefined ? 'input' : input.onpropertychange !== undefined ? 'propertychange' : 'keyup';\n            }\n\n            return false;\n          },\n          selectValues: function () {\n            var select = {};\n            select.values = [];\n            $module.find('option').each(function () {\n              var $option = $(this),\n                  name = $option.html(),\n                  disabled = $option.attr('disabled'),\n                  value = $option.attr('value') !== undefined ? $option.attr('value') : name;\n\n              if (settings.placeholder === 'auto' && value === '') {\n                select.placeholder = name;\n              } else {\n                select.values.push({\n                  name: name,\n                  value: value,\n                  disabled: disabled\n                });\n              }\n            });\n\n            if (settings.placeholder && settings.placeholder !== 'auto') {\n              module.debug('Setting placeholder value to', settings.placeholder);\n              select.placeholder = settings.placeholder;\n            }\n\n            if (settings.sortSelect) {\n              select.values.sort(function (a, b) {\n                return a.name > b.name ? 1 : -1;\n              });\n              module.debug('Retrieved and sorted values from select', select);\n            } else {\n              module.debug('Retrieved values from select', select);\n            }\n\n            return select;\n          },\n          activeItem: function () {\n            return $item.filter('.' + className.active);\n          },\n          selectedItem: function () {\n            var $selectedItem = $item.not(selector.unselectable).filter('.' + className.selected);\n            return $selectedItem.length > 0 ? $selectedItem : $item.eq(0);\n          },\n          itemWithAdditions: function (value) {\n            var $items = module.get.item(value),\n                $userItems = module.create.userChoice(value),\n                hasUserItems = $userItems && $userItems.length > 0;\n\n            if (hasUserItems) {\n              $items = $items.length > 0 ? $items.add($userItems) : $userItems;\n            }\n\n            return $items;\n          },\n          item: function (value, strict) {\n            var $selectedItem = false,\n                shouldSearch,\n                isMultiple;\n            value = value !== undefined ? value : module.get.values() !== undefined ? module.get.values() : module.get.text();\n            shouldSearch = isMultiple ? value.length > 0 : value !== undefined && value !== null;\n            isMultiple = module.is.multiple() && $.isArray(value);\n            strict = value === '' || value === 0 ? true : strict || false;\n\n            if (shouldSearch) {\n              $item.each(function () {\n                var $choice = $(this),\n                    optionText = module.get.choiceText($choice),\n                    optionValue = module.get.choiceValue($choice, optionText); // safe early exit\n\n                if (optionValue === null || optionValue === undefined) {\n                  return;\n                }\n\n                if (isMultiple) {\n                  if ($.inArray(String(optionValue), value) !== -1 || $.inArray(optionText, value) !== -1) {\n                    $selectedItem = $selectedItem ? $selectedItem.add($choice) : $choice;\n                  }\n                } else if (strict) {\n                  module.verbose('Ambiguous dropdown value using strict type check', $choice, value);\n\n                  if (optionValue === value || optionText === value) {\n                    $selectedItem = $choice;\n                    return true;\n                  }\n                } else {\n                  if (String(optionValue) == String(value) || optionText == value) {\n                    module.verbose('Found select item by value', optionValue, value);\n                    $selectedItem = $choice;\n                    return true;\n                  }\n                }\n              });\n            }\n\n            return $selectedItem;\n          }\n        },\n        check: {\n          maxSelections: function (selectionCount) {\n            if (settings.maxSelections) {\n              selectionCount = selectionCount !== undefined ? selectionCount : module.get.selectionCount();\n\n              if (selectionCount >= settings.maxSelections) {\n                module.debug('Maximum selection count reached');\n\n                if (settings.useLabels) {\n                  $item.addClass(className.filtered);\n                  module.add.message(message.maxSelections);\n                }\n\n                return true;\n              } else {\n                module.verbose('No longer at maximum selection count');\n                module.remove.message();\n                module.remove.filteredItem();\n\n                if (module.is.searchSelection()) {\n                  module.filterItems();\n                }\n\n                return false;\n              }\n            }\n\n            return true;\n          }\n        },\n        restore: {\n          defaults: function () {\n            module.clear();\n            module.restore.defaultText();\n            module.restore.defaultValue();\n          },\n          defaultText: function () {\n            var defaultText = module.get.defaultText(),\n                placeholderText = module.get.placeholderText;\n\n            if (defaultText === placeholderText) {\n              module.debug('Restoring default placeholder text', defaultText);\n              module.set.placeholderText(defaultText);\n            } else {\n              module.debug('Restoring default text', defaultText);\n              module.set.text(defaultText);\n            }\n          },\n          placeholderText: function () {\n            module.set.placeholderText();\n          },\n          defaultValue: function () {\n            var defaultValue = module.get.defaultValue();\n\n            if (defaultValue !== undefined) {\n              module.debug('Restoring default value', defaultValue);\n\n              if (defaultValue !== '') {\n                module.set.value(defaultValue);\n                module.set.selected();\n              } else {\n                module.remove.activeItem();\n                module.remove.selectedItem();\n              }\n            }\n          },\n          labels: function () {\n            if (settings.allowAdditions) {\n              if (!settings.useLabels) {\n                module.error(error.labels);\n                settings.useLabels = true;\n              }\n\n              module.debug('Restoring selected values');\n              module.create.userLabels();\n            }\n\n            module.check.maxSelections();\n          },\n          selected: function () {\n            module.restore.values();\n\n            if (module.is.multiple()) {\n              module.debug('Restoring previously selected values and labels');\n              module.restore.labels();\n            } else {\n              module.debug('Restoring previously selected values');\n            }\n          },\n          values: function () {\n            // prevents callbacks from occurring on initial load\n            module.set.initialLoad();\n\n            if (settings.apiSettings && settings.saveRemoteData && module.get.remoteValues()) {\n              module.restore.remoteValues();\n            } else {\n              module.set.selected();\n            }\n\n            module.remove.initialLoad();\n          },\n          remoteValues: function () {\n            var values = module.get.remoteValues();\n            module.debug('Recreating selected from session data', values);\n\n            if (values) {\n              if (module.is.single()) {\n                $.each(values, function (value, name) {\n                  module.set.text(name);\n                });\n              } else {\n                $.each(values, function (value, name) {\n                  module.add.label(value, name);\n                });\n              }\n            }\n          }\n        },\n        read: {\n          remoteData: function (value) {\n            var name;\n\n            if (window.Storage === undefined) {\n              module.error(error.noStorage);\n              return;\n            }\n\n            name = sessionStorage.getItem(value);\n            return name !== undefined ? name : false;\n          }\n        },\n        save: {\n          defaults: function () {\n            module.save.defaultText();\n            module.save.placeholderText();\n            module.save.defaultValue();\n          },\n          defaultValue: function () {\n            var value = module.get.value();\n            module.verbose('Saving default value as', value);\n            $module.data(metadata.defaultValue, value);\n          },\n          defaultText: function () {\n            var text = module.get.text();\n            module.verbose('Saving default text as', text);\n            $module.data(metadata.defaultText, text);\n          },\n          placeholderText: function () {\n            var text;\n\n            if (settings.placeholder !== false && $text.hasClass(className.placeholder)) {\n              text = module.get.text();\n              module.verbose('Saving placeholder text as', text);\n              $module.data(metadata.placeholderText, text);\n            }\n          },\n          remoteData: function (name, value) {\n            if (window.Storage === undefined) {\n              module.error(error.noStorage);\n              return;\n            }\n\n            module.verbose('Saving remote data to session storage', value, name);\n            sessionStorage.setItem(value, name);\n          }\n        },\n        clear: function () {\n          if (module.is.multiple() && settings.useLabels) {\n            module.remove.labels();\n          } else {\n            module.remove.activeItem();\n            module.remove.selectedItem();\n          }\n\n          module.set.placeholderText();\n          module.clearValue();\n        },\n        clearValue: function () {\n          module.set.value('');\n        },\n        scrollPage: function (direction, $selectedItem) {\n          var $currentItem = $selectedItem || module.get.selectedItem(),\n              $menu = $currentItem.closest(selector.menu),\n              menuHeight = $menu.outerHeight(),\n              currentScroll = $menu.scrollTop(),\n              itemHeight = $item.eq(0).outerHeight(),\n              itemsPerPage = Math.floor(menuHeight / itemHeight),\n              maxScroll = $menu.prop('scrollHeight'),\n              newScroll = direction == 'up' ? currentScroll - itemHeight * itemsPerPage : currentScroll + itemHeight * itemsPerPage,\n              $selectableItem = $item.not(selector.unselectable),\n              isWithinRange,\n              $nextSelectedItem,\n              elementIndex;\n          elementIndex = direction == 'up' ? $selectableItem.index($currentItem) - itemsPerPage : $selectableItem.index($currentItem) + itemsPerPage;\n          isWithinRange = direction == 'up' ? elementIndex >= 0 : elementIndex < $selectableItem.length;\n          $nextSelectedItem = isWithinRange ? $selectableItem.eq(elementIndex) : direction == 'up' ? $selectableItem.first() : $selectableItem.last();\n\n          if ($nextSelectedItem.length > 0) {\n            module.debug('Scrolling page', direction, $nextSelectedItem);\n            $currentItem.removeClass(className.selected);\n            $nextSelectedItem.addClass(className.selected);\n\n            if (settings.selectOnKeydown && module.is.single()) {\n              module.set.selectedItem($nextSelectedItem);\n            }\n\n            $menu.scrollTop(newScroll);\n          }\n        },\n        set: {\n          filtered: function () {\n            var isMultiple = module.is.multiple(),\n                isSearch = module.is.searchSelection(),\n                isSearchMultiple = isMultiple && isSearch,\n                searchValue = isSearch ? module.get.query() : '',\n                hasSearchValue = typeof searchValue === 'string' && searchValue.length > 0,\n                searchWidth = module.get.searchWidth(),\n                valueIsSet = searchValue !== '';\n\n            if (isMultiple && hasSearchValue) {\n              module.verbose('Adjusting input width', searchWidth, settings.glyphWidth);\n              $search.css('width', searchWidth);\n            }\n\n            if (hasSearchValue || isSearchMultiple && valueIsSet) {\n              module.verbose('Hiding placeholder text');\n              $text.addClass(className.filtered);\n            } else if (!isMultiple || isSearchMultiple && !valueIsSet) {\n              module.verbose('Showing placeholder text');\n              $text.removeClass(className.filtered);\n            }\n          },\n          empty: function () {\n            $module.addClass(className.empty);\n          },\n          loading: function () {\n            $module.addClass(className.loading);\n          },\n          placeholderText: function (text) {\n            text = text || module.get.placeholderText();\n            module.debug('Setting placeholder text', text);\n            module.set.text(text);\n            $text.addClass(className.placeholder);\n          },\n          tabbable: function () {\n            if (module.is.searchSelection()) {\n              module.debug('Added tabindex to searchable dropdown');\n              $search.val('').attr('tabindex', 0);\n              $menu.attr('tabindex', -1);\n            } else {\n              module.debug('Added tabindex to dropdown');\n\n              if ($module.attr('tabindex') === undefined) {\n                $module.attr('tabindex', 0);\n                $menu.attr('tabindex', -1);\n              }\n            }\n          },\n          initialLoad: function () {\n            module.verbose('Setting initial load');\n            initialLoad = true;\n          },\n          activeItem: function ($item) {\n            if (settings.allowAdditions && $item.filter(selector.addition).length > 0) {\n              $item.addClass(className.filtered);\n            } else {\n              $item.addClass(className.active);\n            }\n          },\n          partialSearch: function (text) {\n            var length = module.get.query().length;\n            $search.val(text.substr(0, length));\n          },\n          scrollPosition: function ($item, forceScroll) {\n            var edgeTolerance = 5,\n                $menu,\n                hasActive,\n                offset,\n                itemHeight,\n                itemOffset,\n                menuOffset,\n                menuScroll,\n                menuHeight,\n                abovePage,\n                belowPage;\n            $item = $item || module.get.selectedItem();\n            $menu = $item.closest(selector.menu);\n            hasActive = $item && $item.length > 0;\n            forceScroll = forceScroll !== undefined ? forceScroll : false;\n\n            if ($item && $menu.length > 0 && hasActive) {\n              itemOffset = $item.position().top;\n              $menu.addClass(className.loading);\n              menuScroll = $menu.scrollTop();\n              menuOffset = $menu.offset().top;\n              itemOffset = $item.offset().top;\n              offset = menuScroll - menuOffset + itemOffset;\n\n              if (!forceScroll) {\n                menuHeight = $menu.height();\n                belowPage = menuScroll + menuHeight < offset + edgeTolerance;\n                abovePage = offset - edgeTolerance < menuScroll;\n              }\n\n              module.debug('Scrolling to active item', offset);\n\n              if (forceScroll || abovePage || belowPage) {\n                $menu.scrollTop(offset);\n              }\n\n              $menu.removeClass(className.loading);\n            }\n          },\n          text: function (text) {\n            if (settings.action !== 'select') {\n              if (settings.action == 'combo') {\n                module.debug('Changing combo button text', text, $combo);\n\n                if (settings.preserveHTML) {\n                  $combo.html(text);\n                } else {\n                  $combo.text(text);\n                }\n              } else {\n                if (text !== module.get.placeholderText()) {\n                  $text.removeClass(className.placeholder);\n                }\n\n                module.debug('Changing text', text, $text);\n                $text.removeClass(className.filtered);\n\n                if (settings.preserveHTML) {\n                  $text.html(text);\n                } else {\n                  $text.text(text);\n                }\n              }\n            }\n          },\n          selectedItem: function ($item) {\n            var value = module.get.choiceValue($item),\n                searchText = module.get.choiceText($item, false),\n                text = module.get.choiceText($item, true);\n            module.debug('Setting user selection to item', $item);\n            module.remove.activeItem();\n            module.set.partialSearch(searchText);\n            module.set.activeItem($item);\n            module.set.selected(value, $item);\n            module.set.text(text);\n          },\n          selectedLetter: function (letter) {\n            var $selectedItem = $item.filter('.' + className.selected),\n                alreadySelectedLetter = $selectedItem.length > 0 && module.has.firstLetter($selectedItem, letter),\n                $nextValue = false,\n                $nextItem; // check next of same letter\n\n            if (alreadySelectedLetter) {\n              $nextItem = $selectedItem.nextAll($item).eq(0);\n\n              if (module.has.firstLetter($nextItem, letter)) {\n                $nextValue = $nextItem;\n              }\n            } // check all values\n\n\n            if (!$nextValue) {\n              $item.each(function () {\n                if (module.has.firstLetter($(this), letter)) {\n                  $nextValue = $(this);\n                  return false;\n                }\n              });\n            } // set next value\n\n\n            if ($nextValue) {\n              module.verbose('Scrolling to next value with letter', letter);\n              module.set.scrollPosition($nextValue);\n              $selectedItem.removeClass(className.selected);\n              $nextValue.addClass(className.selected);\n\n              if (settings.selectOnKeydown && module.is.single()) {\n                module.set.selectedItem($nextValue);\n              }\n            }\n          },\n          direction: function ($menu) {\n            if (settings.direction == 'auto') {\n              // reset position\n              module.remove.upward();\n\n              if (module.can.openDownward($menu)) {\n                module.remove.upward($menu);\n              } else {\n                module.set.upward($menu);\n              }\n\n              if (!module.is.leftward($menu) && !module.can.openRightward($menu)) {\n                module.set.leftward($menu);\n              }\n            } else if (settings.direction == 'upward') {\n              module.set.upward($menu);\n            }\n          },\n          upward: function ($currentMenu) {\n            var $element = $currentMenu || $module;\n            $element.addClass(className.upward);\n          },\n          leftward: function ($currentMenu) {\n            var $element = $currentMenu || $menu;\n            $element.addClass(className.leftward);\n          },\n          value: function (value, text, $selected) {\n            var escapedValue = module.escape.value(value),\n                hasInput = $input.length > 0,\n                currentValue = module.get.values(),\n                stringValue = value !== undefined ? String(value) : value,\n                newValue;\n\n            if (hasInput) {\n              if (!settings.allowReselection && stringValue == currentValue) {\n                module.verbose('Skipping value update already same value', value, currentValue);\n\n                if (!module.is.initialLoad()) {\n                  return;\n                }\n              }\n\n              if (module.is.single() && module.has.selectInput() && module.can.extendSelect()) {\n                module.debug('Adding user option', value);\n                module.add.optionValue(value);\n              }\n\n              module.debug('Updating input value', escapedValue, currentValue);\n              internalChange = true;\n              $input.val(escapedValue);\n\n              if (settings.fireOnInit === false && module.is.initialLoad()) {\n                module.debug('Input native change event ignored on initial load');\n              } else {\n                module.trigger.change();\n              }\n\n              internalChange = false;\n            } else {\n              module.verbose('Storing value in metadata', escapedValue, $input);\n\n              if (escapedValue !== currentValue) {\n                $module.data(metadata.value, stringValue);\n              }\n            }\n\n            if (settings.fireOnInit === false && module.is.initialLoad()) {\n              module.verbose('No callback on initial load', settings.onChange);\n            } else {\n              settings.onChange.call(element, value, text, $selected);\n            }\n          },\n          active: function () {\n            $module.addClass(className.active);\n          },\n          multiple: function () {\n            $module.addClass(className.multiple);\n          },\n          visible: function () {\n            $module.addClass(className.visible);\n          },\n          exactly: function (value, $selectedItem) {\n            module.debug('Setting selected to exact values');\n            module.clear();\n            module.set.selected(value, $selectedItem);\n          },\n          selected: function (value, $selectedItem) {\n            var isMultiple = module.is.multiple(),\n                $userSelectedItem;\n            $selectedItem = settings.allowAdditions ? $selectedItem || module.get.itemWithAdditions(value) : $selectedItem || module.get.item(value);\n\n            if (!$selectedItem) {\n              return;\n            }\n\n            module.debug('Setting selected menu item to', $selectedItem);\n\n            if (module.is.multiple()) {\n              module.remove.searchWidth();\n            }\n\n            if (module.is.single()) {\n              module.remove.activeItem();\n              module.remove.selectedItem();\n            } else if (settings.useLabels) {\n              module.remove.selectedItem();\n            } // select each item\n\n\n            $selectedItem.each(function () {\n              var $selected = $(this),\n                  selectedText = module.get.choiceText($selected),\n                  selectedValue = module.get.choiceValue($selected, selectedText),\n                  isFiltered = $selected.hasClass(className.filtered),\n                  isActive = $selected.hasClass(className.active),\n                  isUserValue = $selected.hasClass(className.addition),\n                  shouldAnimate = isMultiple && $selectedItem.length == 1;\n\n              if (isMultiple) {\n                if (!isActive || isUserValue) {\n                  if (settings.apiSettings && settings.saveRemoteData) {\n                    module.save.remoteData(selectedText, selectedValue);\n                  }\n\n                  if (settings.useLabels) {\n                    module.add.label(selectedValue, selectedText, shouldAnimate);\n                    module.add.value(selectedValue, selectedText, $selected);\n                    module.set.activeItem($selected);\n                    module.filterActive();\n                    module.select.nextAvailable($selectedItem);\n                  } else {\n                    module.add.value(selectedValue, selectedText, $selected);\n                    module.set.text(module.add.variables(message.count));\n                    module.set.activeItem($selected);\n                  }\n                } else if (!isFiltered) {\n                  module.debug('Selected active value, removing label');\n                  module.remove.selected(selectedValue);\n                }\n              } else {\n                if (settings.apiSettings && settings.saveRemoteData) {\n                  module.save.remoteData(selectedText, selectedValue);\n                }\n\n                module.set.text(selectedText);\n                module.set.value(selectedValue, selectedText, $selected);\n                $selected.addClass(className.active).addClass(className.selected);\n              }\n            });\n          }\n        },\n        add: {\n          label: function (value, text, shouldAnimate) {\n            var $next = module.is.searchSelection() ? $search : $text,\n                escapedValue = module.escape.value(value),\n                $label;\n\n            if (settings.ignoreCase) {\n              escapedValue = escapedValue.toLowerCase();\n            }\n\n            $label = $('<a />').addClass(className.label).attr('data-' + metadata.value, escapedValue).html(templates.label(escapedValue, text));\n            $label = settings.onLabelCreate.call($label, escapedValue, text);\n\n            if (module.has.label(value)) {\n              module.debug('User selection already exists, skipping', escapedValue);\n              return;\n            }\n\n            if (settings.label.variation) {\n              $label.addClass(settings.label.variation);\n            }\n\n            if (shouldAnimate === true) {\n              module.debug('Animating in label', $label);\n              $label.addClass(className.hidden).insertBefore($next).transition(settings.label.transition, settings.label.duration);\n            } else {\n              module.debug('Adding selection label', $label);\n              $label.insertBefore($next);\n            }\n          },\n          message: function (message) {\n            var $message = $menu.children(selector.message),\n                html = settings.templates.message(module.add.variables(message));\n\n            if ($message.length > 0) {\n              $message.html(html);\n            } else {\n              $message = $('<div/>').html(html).addClass(className.message).appendTo($menu);\n            }\n          },\n          optionValue: function (value) {\n            var escapedValue = module.escape.value(value),\n                $option = $input.find('option[value=\"' + module.escape.string(escapedValue) + '\"]'),\n                hasOption = $option.length > 0;\n\n            if (hasOption) {\n              return;\n            } // temporarily disconnect observer\n\n\n            module.disconnect.selectObserver();\n\n            if (module.is.single()) {\n              module.verbose('Removing previous user addition');\n              $input.find('option.' + className.addition).remove();\n            }\n\n            $('<option/>').prop('value', escapedValue).addClass(className.addition).html(value).appendTo($input);\n            module.verbose('Adding user addition as an <option>', value);\n            module.observe.select();\n          },\n          userSuggestion: function (value) {\n            var $addition = $menu.children(selector.addition),\n                $existingItem = module.get.item(value),\n                alreadyHasValue = $existingItem && $existingItem.not(selector.addition).length,\n                hasUserSuggestion = $addition.length > 0,\n                html;\n\n            if (settings.useLabels && module.has.maxSelections()) {\n              return;\n            }\n\n            if (value === '' || alreadyHasValue) {\n              $addition.remove();\n              return;\n            }\n\n            if (hasUserSuggestion) {\n              $addition.data(metadata.value, value).data(metadata.text, value).attr('data-' + metadata.value, value).attr('data-' + metadata.text, value).removeClass(className.filtered);\n\n              if (!settings.hideAdditions) {\n                html = settings.templates.addition(module.add.variables(message.addResult, value));\n                $addition.html(html);\n              }\n\n              module.verbose('Replacing user suggestion with new value', $addition);\n            } else {\n              $addition = module.create.userChoice(value);\n              $addition.prependTo($menu);\n              module.verbose('Adding item choice to menu corresponding with user choice addition', $addition);\n            }\n\n            if (!settings.hideAdditions || module.is.allFiltered()) {\n              $addition.addClass(className.selected).siblings().removeClass(className.selected);\n            }\n\n            module.refreshItems();\n          },\n          variables: function (message, term) {\n            var hasCount = message.search('{count}') !== -1,\n                hasMaxCount = message.search('{maxCount}') !== -1,\n                hasTerm = message.search('{term}') !== -1,\n                values,\n                count,\n                query;\n            module.verbose('Adding templated variables to message', message);\n\n            if (hasCount) {\n              count = module.get.selectionCount();\n              message = message.replace('{count}', count);\n            }\n\n            if (hasMaxCount) {\n              count = module.get.selectionCount();\n              message = message.replace('{maxCount}', settings.maxSelections);\n            }\n\n            if (hasTerm) {\n              query = term || module.get.query();\n              message = message.replace('{term}', query);\n            }\n\n            return message;\n          },\n          value: function (addedValue, addedText, $selectedItem) {\n            var currentValue = module.get.values(),\n                newValue;\n\n            if (module.has.value(addedValue)) {\n              module.debug('Value already selected');\n              return;\n            }\n\n            if (addedValue === '') {\n              module.debug('Cannot select blank values from multiselect');\n              return;\n            } // extend current array\n\n\n            if ($.isArray(currentValue)) {\n              newValue = currentValue.concat([addedValue]);\n              newValue = module.get.uniqueArray(newValue);\n            } else {\n              newValue = [addedValue];\n            } // add values\n\n\n            if (module.has.selectInput()) {\n              if (module.can.extendSelect()) {\n                module.debug('Adding value to select', addedValue, newValue, $input);\n                module.add.optionValue(addedValue);\n              }\n            } else {\n              newValue = newValue.join(settings.delimiter);\n              module.debug('Setting hidden input to delimited value', newValue, $input);\n            }\n\n            if (settings.fireOnInit === false && module.is.initialLoad()) {\n              module.verbose('Skipping onadd callback on initial load', settings.onAdd);\n            } else {\n              settings.onAdd.call(element, addedValue, addedText, $selectedItem);\n            }\n\n            module.set.value(newValue, addedValue, addedText, $selectedItem);\n            module.check.maxSelections();\n          }\n        },\n        remove: {\n          active: function () {\n            $module.removeClass(className.active);\n          },\n          activeLabel: function () {\n            $module.find(selector.label).removeClass(className.active);\n          },\n          empty: function () {\n            $module.removeClass(className.empty);\n          },\n          loading: function () {\n            $module.removeClass(className.loading);\n          },\n          initialLoad: function () {\n            initialLoad = false;\n          },\n          upward: function ($currentMenu) {\n            var $element = $currentMenu || $module;\n            $element.removeClass(className.upward);\n          },\n          leftward: function ($currentMenu) {\n            var $element = $currentMenu || $menu;\n            $element.removeClass(className.leftward);\n          },\n          visible: function () {\n            $module.removeClass(className.visible);\n          },\n          activeItem: function () {\n            $item.removeClass(className.active);\n          },\n          filteredItem: function () {\n            if (settings.useLabels && module.has.maxSelections()) {\n              return;\n            }\n\n            if (settings.useLabels && module.is.multiple()) {\n              $item.not('.' + className.active).removeClass(className.filtered);\n            } else {\n              $item.removeClass(className.filtered);\n            }\n\n            module.remove.empty();\n          },\n          optionValue: function (value) {\n            var escapedValue = module.escape.value(value),\n                $option = $input.find('option[value=\"' + module.escape.string(escapedValue) + '\"]'),\n                hasOption = $option.length > 0;\n\n            if (!hasOption || !$option.hasClass(className.addition)) {\n              return;\n            } // temporarily disconnect observer\n\n\n            if (selectObserver) {\n              selectObserver.disconnect();\n              module.verbose('Temporarily disconnecting mutation observer');\n            }\n\n            $option.remove();\n            module.verbose('Removing user addition as an <option>', escapedValue);\n\n            if (selectObserver) {\n              selectObserver.observe($input[0], {\n                childList: true,\n                subtree: true\n              });\n            }\n          },\n          message: function () {\n            $menu.children(selector.message).remove();\n          },\n          searchWidth: function () {\n            $search.css('width', '');\n          },\n          searchTerm: function () {\n            module.verbose('Cleared search term');\n            $search.val('');\n            module.set.filtered();\n          },\n          userAddition: function () {\n            $item.filter(selector.addition).remove();\n          },\n          selected: function (value, $selectedItem) {\n            $selectedItem = settings.allowAdditions ? $selectedItem || module.get.itemWithAdditions(value) : $selectedItem || module.get.item(value);\n\n            if (!$selectedItem) {\n              return false;\n            }\n\n            $selectedItem.each(function () {\n              var $selected = $(this),\n                  selectedText = module.get.choiceText($selected),\n                  selectedValue = module.get.choiceValue($selected, selectedText);\n\n              if (module.is.multiple()) {\n                if (settings.useLabels) {\n                  module.remove.value(selectedValue, selectedText, $selected);\n                  module.remove.label(selectedValue);\n                } else {\n                  module.remove.value(selectedValue, selectedText, $selected);\n\n                  if (module.get.selectionCount() === 0) {\n                    module.set.placeholderText();\n                  } else {\n                    module.set.text(module.add.variables(message.count));\n                  }\n                }\n              } else {\n                module.remove.value(selectedValue, selectedText, $selected);\n              }\n\n              $selected.removeClass(className.filtered).removeClass(className.active);\n\n              if (settings.useLabels) {\n                $selected.removeClass(className.selected);\n              }\n            });\n          },\n          selectedItem: function () {\n            $item.removeClass(className.selected);\n          },\n          value: function (removedValue, removedText, $removedItem) {\n            var values = module.get.values(),\n                newValue;\n\n            if (module.has.selectInput()) {\n              module.verbose('Input is <select> removing selected option', removedValue);\n              newValue = module.remove.arrayValue(removedValue, values);\n              module.remove.optionValue(removedValue);\n            } else {\n              module.verbose('Removing from delimited values', removedValue);\n              newValue = module.remove.arrayValue(removedValue, values);\n              newValue = newValue.join(settings.delimiter);\n            }\n\n            if (settings.fireOnInit === false && module.is.initialLoad()) {\n              module.verbose('No callback on initial load', settings.onRemove);\n            } else {\n              settings.onRemove.call(element, removedValue, removedText, $removedItem);\n            }\n\n            module.set.value(newValue, removedText, $removedItem);\n            module.check.maxSelections();\n          },\n          arrayValue: function (removedValue, values) {\n            if (!$.isArray(values)) {\n              values = [values];\n            }\n\n            values = $.grep(values, function (value) {\n              return removedValue != value;\n            });\n            module.verbose('Removed value from delimited string', removedValue, values);\n            return values;\n          },\n          label: function (value, shouldAnimate) {\n            var $labels = $module.find(selector.label),\n                $removedLabel = $labels.filter('[data-' + metadata.value + '=\"' + module.escape.string(value) + '\"]');\n            module.verbose('Removing label', $removedLabel);\n            $removedLabel.remove();\n          },\n          activeLabels: function ($activeLabels) {\n            $activeLabels = $activeLabels || $module.find(selector.label).filter('.' + className.active);\n            module.verbose('Removing active label selections', $activeLabels);\n            module.remove.labels($activeLabels);\n          },\n          labels: function ($labels) {\n            $labels = $labels || $module.find(selector.label);\n            module.verbose('Removing labels', $labels);\n            $labels.each(function () {\n              var $label = $(this),\n                  value = $label.data(metadata.value),\n                  stringValue = value !== undefined ? String(value) : value,\n                  isUserValue = module.is.userValue(stringValue);\n\n              if (settings.onLabelRemove.call($label, value) === false) {\n                module.debug('Label remove callback cancelled removal');\n                return;\n              }\n\n              module.remove.message();\n\n              if (isUserValue) {\n                module.remove.value(stringValue);\n                module.remove.label(stringValue);\n              } else {\n                // selected will also remove label\n                module.remove.selected(stringValue);\n              }\n            });\n          },\n          tabbable: function () {\n            if (module.is.searchSelection()) {\n              module.debug('Searchable dropdown initialized');\n              $search.removeAttr('tabindex');\n              $menu.removeAttr('tabindex');\n            } else {\n              module.debug('Simple selection dropdown initialized');\n              $module.removeAttr('tabindex');\n              $menu.removeAttr('tabindex');\n            }\n          }\n        },\n        has: {\n          menuSearch: function () {\n            return module.has.search() && $search.closest($menu).length > 0;\n          },\n          search: function () {\n            return $search.length > 0;\n          },\n          sizer: function () {\n            return $sizer.length > 0;\n          },\n          selectInput: function () {\n            return $input.is('select');\n          },\n          minCharacters: function (searchTerm) {\n            if (settings.minCharacters) {\n              searchTerm = searchTerm !== undefined ? String(searchTerm) : String(module.get.query());\n              return searchTerm.length >= settings.minCharacters;\n            }\n\n            return true;\n          },\n          firstLetter: function ($item, letter) {\n            var text, firstLetter;\n\n            if (!$item || $item.length === 0 || typeof letter !== 'string') {\n              return false;\n            }\n\n            text = module.get.choiceText($item, false);\n            letter = letter.toLowerCase();\n            firstLetter = String(text).charAt(0).toLowerCase();\n            return letter == firstLetter;\n          },\n          input: function () {\n            return $input.length > 0;\n          },\n          items: function () {\n            return $item.length > 0;\n          },\n          menu: function () {\n            return $menu.length > 0;\n          },\n          message: function () {\n            return $menu.children(selector.message).length !== 0;\n          },\n          label: function (value) {\n            var escapedValue = module.escape.value(value),\n                $labels = $module.find(selector.label);\n\n            if (settings.ignoreCase) {\n              escapedValue = escapedValue.toLowerCase();\n            }\n\n            return $labels.filter('[data-' + metadata.value + '=\"' + module.escape.string(escapedValue) + '\"]').length > 0;\n          },\n          maxSelections: function () {\n            return settings.maxSelections && module.get.selectionCount() >= settings.maxSelections;\n          },\n          allResultsFiltered: function () {\n            var $normalResults = $item.not(selector.addition);\n            return $normalResults.filter(selector.unselectable).length === $normalResults.length;\n          },\n          userSuggestion: function () {\n            return $menu.children(selector.addition).length > 0;\n          },\n          query: function () {\n            return module.get.query() !== '';\n          },\n          value: function (value) {\n            return settings.ignoreCase ? module.has.valueIgnoringCase(value) : module.has.valueMatchingCase(value);\n          },\n          valueMatchingCase: function (value) {\n            var values = module.get.values(),\n                hasValue = $.isArray(values) ? values && $.inArray(value, values) !== -1 : values == value;\n            return hasValue ? true : false;\n          },\n          valueIgnoringCase: function (value) {\n            var values = module.get.values(),\n                hasValue = false;\n\n            if (!$.isArray(values)) {\n              values = [values];\n            }\n\n            $.each(values, function (index, existingValue) {\n              if (String(value).toLowerCase() == String(existingValue).toLowerCase()) {\n                hasValue = true;\n                return false;\n              }\n            });\n            return hasValue;\n          }\n        },\n        is: {\n          active: function () {\n            return $module.hasClass(className.active);\n          },\n          animatingInward: function () {\n            return $menu.transition('is inward');\n          },\n          animatingOutward: function () {\n            return $menu.transition('is outward');\n          },\n          bubbledLabelClick: function (event) {\n            return $(event.target).is('select, input') && $module.closest('label').length > 0;\n          },\n          bubbledIconClick: function (event) {\n            return $(event.target).closest($icon).length > 0;\n          },\n          alreadySetup: function () {\n            return $module.is('select') && $module.parent(selector.dropdown).data(moduleNamespace) !== undefined && $module.prev().length === 0;\n          },\n          animating: function ($subMenu) {\n            return $subMenu ? $subMenu.transition && $subMenu.transition('is animating') : $menu.transition && $menu.transition('is animating');\n          },\n          leftward: function ($subMenu) {\n            var $selectedMenu = $subMenu || $menu;\n            return $selectedMenu.hasClass(className.leftward);\n          },\n          disabled: function () {\n            return $module.hasClass(className.disabled);\n          },\n          focused: function () {\n            return document.activeElement === $module[0];\n          },\n          focusedOnSearch: function () {\n            return document.activeElement === $search[0];\n          },\n          allFiltered: function () {\n            return (module.is.multiple() || module.has.search()) && !(settings.hideAdditions == false && module.has.userSuggestion()) && !module.has.message() && module.has.allResultsFiltered();\n          },\n          hidden: function ($subMenu) {\n            return !module.is.visible($subMenu);\n          },\n          initialLoad: function () {\n            return initialLoad;\n          },\n          inObject: function (needle, object) {\n            var found = false;\n            $.each(object, function (index, property) {\n              if (property == needle) {\n                found = true;\n                return true;\n              }\n            });\n            return found;\n          },\n          multiple: function () {\n            return $module.hasClass(className.multiple);\n          },\n          remote: function () {\n            return settings.apiSettings && module.can.useAPI();\n          },\n          single: function () {\n            return !module.is.multiple();\n          },\n          selectMutation: function (mutations) {\n            var selectChanged = false;\n            $.each(mutations, function (index, mutation) {\n              if (mutation.target && $(mutation.target).is('select')) {\n                selectChanged = true;\n                return true;\n              }\n            });\n            return selectChanged;\n          },\n          search: function () {\n            return $module.hasClass(className.search);\n          },\n          searchSelection: function () {\n            return module.has.search() && $search.parent(selector.dropdown).length === 1;\n          },\n          selection: function () {\n            return $module.hasClass(className.selection);\n          },\n          userValue: function (value) {\n            return $.inArray(value, module.get.userValues()) !== -1;\n          },\n          upward: function ($menu) {\n            var $element = $menu || $module;\n            return $element.hasClass(className.upward);\n          },\n          visible: function ($subMenu) {\n            return $subMenu ? $subMenu.hasClass(className.visible) : $menu.hasClass(className.visible);\n          },\n          verticallyScrollableContext: function () {\n            var overflowY = $context.get(0) !== window ? $context.css('overflow-y') : false;\n            return overflowY == 'auto' || overflowY == 'scroll';\n          },\n          horizontallyScrollableContext: function () {\n            var overflowX = $context.get(0) !== window ? $context.css('overflow-X') : false;\n            return overflowX == 'auto' || overflowX == 'scroll';\n          }\n        },\n        can: {\n          activate: function ($item) {\n            if (settings.useLabels) {\n              return true;\n            }\n\n            if (!module.has.maxSelections()) {\n              return true;\n            }\n\n            if (module.has.maxSelections() && $item.hasClass(className.active)) {\n              return true;\n            }\n\n            return false;\n          },\n          openDownward: function ($subMenu) {\n            var $currentMenu = $subMenu || $menu,\n                canOpenDownward = true,\n                onScreen = {},\n                calculations;\n            $currentMenu.addClass(className.loading);\n            calculations = {\n              context: {\n                offset: $context.get(0) === window ? {\n                  top: 0,\n                  left: 0\n                } : $context.offset(),\n                scrollTop: $context.scrollTop(),\n                height: $context.outerHeight()\n              },\n              menu: {\n                offset: $currentMenu.offset(),\n                height: $currentMenu.outerHeight()\n              }\n            };\n\n            if (module.is.verticallyScrollableContext()) {\n              calculations.menu.offset.top += calculations.context.scrollTop;\n            }\n\n            onScreen = {\n              above: calculations.context.scrollTop <= calculations.menu.offset.top - calculations.context.offset.top - calculations.menu.height,\n              below: calculations.context.scrollTop + calculations.context.height >= calculations.menu.offset.top - calculations.context.offset.top + calculations.menu.height\n            };\n\n            if (onScreen.below) {\n              module.verbose('Dropdown can fit in context downward', onScreen);\n              canOpenDownward = true;\n            } else if (!onScreen.below && !onScreen.above) {\n              module.verbose('Dropdown cannot fit in either direction, favoring downward', onScreen);\n              canOpenDownward = true;\n            } else {\n              module.verbose('Dropdown cannot fit below, opening upward', onScreen);\n              canOpenDownward = false;\n            }\n\n            $currentMenu.removeClass(className.loading);\n            return canOpenDownward;\n          },\n          openRightward: function ($subMenu) {\n            var $currentMenu = $subMenu || $menu,\n                canOpenRightward = true,\n                isOffscreenRight = false,\n                calculations;\n            $currentMenu.addClass(className.loading);\n            calculations = {\n              context: {\n                offset: $context.get(0) === window ? {\n                  top: 0,\n                  left: 0\n                } : $context.offset(),\n                scrollLeft: $context.scrollLeft(),\n                width: $context.outerWidth()\n              },\n              menu: {\n                offset: $currentMenu.offset(),\n                width: $currentMenu.outerWidth()\n              }\n            };\n\n            if (module.is.horizontallyScrollableContext()) {\n              calculations.menu.offset.left += calculations.context.scrollLeft;\n            }\n\n            isOffscreenRight = calculations.menu.offset.left - calculations.context.offset.left + calculations.menu.width >= calculations.context.scrollLeft + calculations.context.width;\n\n            if (isOffscreenRight) {\n              module.verbose('Dropdown cannot fit in context rightward', isOffscreenRight);\n              canOpenRightward = false;\n            }\n\n            $currentMenu.removeClass(className.loading);\n            return canOpenRightward;\n          },\n          click: function () {\n            return hasTouch || settings.on == 'click';\n          },\n          extendSelect: function () {\n            return settings.allowAdditions || settings.apiSettings;\n          },\n          show: function () {\n            return !module.is.disabled() && (module.has.items() || module.has.message());\n          },\n          useAPI: function () {\n            return $.fn.api !== undefined;\n          }\n        },\n        animate: {\n          show: function (callback, $subMenu) {\n            var $currentMenu = $subMenu || $menu,\n                start = $subMenu ? function () {} : function () {\n              module.hideSubMenus();\n              module.hideOthers();\n              module.set.active();\n            },\n                transition;\n            callback = $.isFunction(callback) ? callback : function () {};\n            module.verbose('Doing menu show animation', $currentMenu);\n            module.set.direction($subMenu);\n            transition = module.get.transition($subMenu);\n\n            if (module.is.selection()) {\n              module.set.scrollPosition(module.get.selectedItem(), true);\n            }\n\n            if (module.is.hidden($currentMenu) || module.is.animating($currentMenu)) {\n              if (transition == 'none') {\n                start();\n                $currentMenu.transition('show');\n                callback.call(element);\n              } else if ($.fn.transition !== undefined && $module.transition('is supported')) {\n                $currentMenu.transition({\n                  animation: transition + ' in',\n                  debug: settings.debug,\n                  verbose: settings.verbose,\n                  duration: settings.duration,\n                  queue: true,\n                  onStart: start,\n                  onComplete: function () {\n                    callback.call(element);\n                  }\n                });\n              } else {\n                module.error(error.noTransition, transition);\n              }\n            }\n          },\n          hide: function (callback, $subMenu) {\n            var $currentMenu = $subMenu || $menu,\n                duration = $subMenu ? settings.duration * 0.9 : settings.duration,\n                start = $subMenu ? function () {} : function () {\n              if (module.can.click()) {\n                module.unbind.intent();\n              }\n\n              module.remove.active();\n            },\n                transition = module.get.transition($subMenu);\n            callback = $.isFunction(callback) ? callback : function () {};\n\n            if (module.is.visible($currentMenu) || module.is.animating($currentMenu)) {\n              module.verbose('Doing menu hide animation', $currentMenu);\n\n              if (transition == 'none') {\n                start();\n                $currentMenu.transition('hide');\n                callback.call(element);\n              } else if ($.fn.transition !== undefined && $module.transition('is supported')) {\n                $currentMenu.transition({\n                  animation: transition + ' out',\n                  duration: settings.duration,\n                  debug: settings.debug,\n                  verbose: settings.verbose,\n                  queue: false,\n                  onStart: start,\n                  onComplete: function () {\n                    callback.call(element);\n                  }\n                });\n              } else {\n                module.error(error.transition);\n              }\n            }\n          }\n        },\n        hideAndClear: function () {\n          module.remove.searchTerm();\n\n          if (module.has.maxSelections()) {\n            return;\n          }\n\n          if (module.has.search()) {\n            module.hide(function () {\n              module.remove.filteredItem();\n            });\n          } else {\n            module.hide();\n          }\n        },\n        delay: {\n          show: function () {\n            module.verbose('Delaying show event to ensure user intent');\n            clearTimeout(module.timer);\n            module.timer = setTimeout(module.show, settings.delay.show);\n          },\n          hide: function () {\n            module.verbose('Delaying hide event to ensure user intent');\n            clearTimeout(module.timer);\n            module.timer = setTimeout(module.hide, settings.delay.hide);\n          }\n        },\n        escape: {\n          value: function (value) {\n            var multipleValues = $.isArray(value),\n                stringValue = typeof value === 'string',\n                isUnparsable = !stringValue && !multipleValues,\n                hasQuotes = stringValue && value.search(regExp.quote) !== -1,\n                values = [];\n\n            if (isUnparsable || !hasQuotes) {\n              return value;\n            }\n\n            module.debug('Encoding quote values for use in select', value);\n\n            if (multipleValues) {\n              $.each(value, function (index, value) {\n                values.push(value.replace(regExp.quote, '&quot;'));\n              });\n              return values;\n            }\n\n            return value.replace(regExp.quote, '&quot;');\n          },\n          string: function (text) {\n            text = String(text);\n            return text.replace(regExp.escape, '\\\\$&');\n          }\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : $allModules;\n  };\n\n  $.fn.dropdown.settings = {\n    silent: false,\n    debug: false,\n    verbose: false,\n    performance: true,\n    on: 'click',\n    // what event should show menu action on item selection\n    action: 'activate',\n    // action on item selection (nothing, activate, select, combo, hide, function(){})\n    values: false,\n    // specify values to use for dropdown\n    apiSettings: false,\n    selectOnKeydown: true,\n    // Whether selection should occur automatically when keyboard shortcuts used\n    minCharacters: 0,\n    // Minimum characters required to trigger API call\n    filterRemoteData: false,\n    // Whether API results should be filtered after being returned for query term\n    saveRemoteData: true,\n    // Whether remote name/value pairs should be stored in sessionStorage to allow remote data to be restored on page refresh\n    throttle: 200,\n    // How long to wait after last user input to search remotely\n    context: window,\n    // Context to use when determining if on screen\n    direction: 'auto',\n    // Whether dropdown should always open in one direction\n    keepOnScreen: true,\n    // Whether dropdown should check whether it is on screen before showing\n    match: 'both',\n    // what to match against with search selection (both, text, or label)\n    fullTextSearch: false,\n    // search anywhere in value (set to 'exact' to require exact matches)\n    placeholder: 'auto',\n    // whether to convert blank <select> values to placeholder text\n    preserveHTML: true,\n    // preserve html when selecting value\n    sortSelect: false,\n    // sort selection on init\n    forceSelection: true,\n    // force a choice on blur with search selection\n    allowAdditions: false,\n    // whether multiple select should allow user added values\n    ignoreCase: false,\n    // whether to consider values not matching in case to be the same\n    hideAdditions: true,\n    // whether or not to hide special message prompting a user they can enter a value\n    maxSelections: false,\n    // When set to a number limits the number of selections to this count\n    useLabels: true,\n    // whether multiple select should filter currently active selections from choices\n    delimiter: ',',\n    // when multiselect uses normal <input> the values will be delimited with this character\n    showOnFocus: true,\n    // show menu on focus\n    allowReselection: false,\n    // whether current value should trigger callbacks when reselected\n    allowTab: true,\n    // add tabindex to element\n    allowCategorySelection: false,\n    // allow elements with sub-menus to be selected\n    fireOnInit: false,\n    // Whether callbacks should fire when initializing dropdown values\n    transition: 'auto',\n    // auto transition will slide down or up based on direction\n    duration: 200,\n    // duration of transition\n    glyphWidth: 1.037,\n    // widest glyph width in em (W is 1.037 em) used to calculate multiselect input width\n    // label settings on multi-select\n    label: {\n      transition: 'scale',\n      duration: 200,\n      variation: false\n    },\n    // delay before event\n    delay: {\n      hide: 300,\n      show: 200,\n      search: 20,\n      touch: 50\n    },\n\n    /* Callbacks */\n    onChange: function (value, text, $selected) {},\n    onAdd: function (value, text, $selected) {},\n    onRemove: function (value, text, $selected) {},\n    onLabelSelect: function ($selectedLabels) {},\n    onLabelCreate: function (value, text) {\n      return $(this);\n    },\n    onLabelRemove: function (value) {\n      return true;\n    },\n    onNoResults: function (searchTerm) {\n      return true;\n    },\n    onShow: function () {},\n    onHide: function () {},\n\n    /* Component */\n    name: 'Dropdown',\n    namespace: 'dropdown',\n    message: {\n      addResult: 'Add <b>{term}</b>',\n      count: '{count} selected',\n      maxSelections: 'Max {maxCount} selections',\n      noResults: 'No results found.',\n      serverError: 'There was an error contacting the server'\n    },\n    error: {\n      action: 'You called a dropdown action that was not defined',\n      alreadySetup: 'Once a select has been initialized behaviors must be called on the created ui dropdown',\n      labels: 'Allowing user additions currently requires the use of labels.',\n      missingMultiple: '<select> requires multiple property to be set to correctly preserve multiple values',\n      method: 'The method you called is not defined.',\n      noAPI: 'The API module is required to load resources remotely',\n      noStorage: 'Saving remote data requires session storage',\n      noTransition: 'This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>'\n    },\n    regExp: {\n      escape: /[-[\\]{}()*+?.,\\\\^$|#\\s]/g,\n      quote: /\"/g\n    },\n    metadata: {\n      defaultText: 'defaultText',\n      defaultValue: 'defaultValue',\n      placeholderText: 'placeholder',\n      text: 'text',\n      value: 'value'\n    },\n    // property names for remote query\n    fields: {\n      remoteValues: 'results',\n      // grouping for api results\n      values: 'values',\n      // grouping for all dropdown values\n      disabled: 'disabled',\n      // whether value should be disabled\n      name: 'name',\n      // displayed dropdown text\n      value: 'value',\n      // actual dropdown value\n      text: 'text' // displayed text when selected\n\n    },\n    keys: {\n      backspace: 8,\n      delimiter: 188,\n      // comma\n      deleteKey: 46,\n      enter: 13,\n      escape: 27,\n      pageUp: 33,\n      pageDown: 34,\n      leftArrow: 37,\n      upArrow: 38,\n      rightArrow: 39,\n      downArrow: 40\n    },\n    selector: {\n      addition: '.addition',\n      dropdown: '.ui.dropdown',\n      hidden: '.hidden',\n      icon: '> .dropdown.icon',\n      input: '> input[type=\"hidden\"], > select',\n      item: '.item',\n      label: '> .label',\n      remove: '> .label > .delete.icon',\n      siblingLabel: '.label',\n      menu: '.menu',\n      message: '.message',\n      menuIcon: '.dropdown.icon',\n      search: 'input.search, .menu > .search > input, .menu input.search',\n      sizer: '> input.sizer',\n      text: '> .text:not(.icon)',\n      unselectable: '.disabled, .filtered'\n    },\n    className: {\n      active: 'active',\n      addition: 'addition',\n      animating: 'animating',\n      disabled: 'disabled',\n      empty: 'empty',\n      dropdown: 'ui dropdown',\n      filtered: 'filtered',\n      hidden: 'hidden transition',\n      item: 'item',\n      label: 'ui label',\n      loading: 'loading',\n      menu: 'menu',\n      message: 'message',\n      multiple: 'multiple',\n      placeholder: 'default',\n      sizer: 'sizer',\n      search: 'search',\n      selected: 'selected',\n      selection: 'selection',\n      upward: 'upward',\n      leftward: 'left',\n      visible: 'visible'\n    }\n  };\n  /* Templates */\n\n  $.fn.dropdown.settings.templates = {\n    // generates dropdown from select values\n    dropdown: function (select) {\n      var placeholder = select.placeholder || false,\n          values = select.values || {},\n          html = '';\n      html += '<i class=\"dropdown icon\"></i>';\n\n      if (select.placeholder) {\n        html += '<div class=\"default text\">' + placeholder + '</div>';\n      } else {\n        html += '<div class=\"text\"></div>';\n      }\n\n      html += '<div class=\"menu\">';\n      $.each(select.values, function (index, option) {\n        html += option.disabled ? '<div class=\"disabled item\" data-value=\"' + option.value + '\">' + option.name + '</div>' : '<div class=\"item\" data-value=\"' + option.value + '\">' + option.name + '</div>';\n      });\n      html += '</div>';\n      return html;\n    },\n    // generates just menu from select\n    menu: function (response, fields) {\n      var values = response[fields.values] || {},\n          html = '';\n      $.each(values, function (index, option) {\n        var maybeText = option[fields.text] ? 'data-text=\"' + option[fields.text] + '\"' : '',\n            maybeDisabled = option[fields.disabled] ? 'disabled ' : '';\n        html += '<div class=\"' + maybeDisabled + 'item\" data-value=\"' + option[fields.value] + '\"' + maybeText + '>';\n        html += option[fields.name];\n        html += '</div>';\n      });\n      return html;\n    },\n    // generates label for multiselect\n    label: function (value, text) {\n      return text + '<i class=\"delete icon\"></i>';\n    },\n    // generates messages like \"No results\"\n    message: function (message) {\n      return message;\n    },\n    // generates user addition to selection menu\n    addition: function (choice) {\n      return choice;\n    }\n  };\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"embed.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/modules/embed.js                                                                           //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * # Semantic UI - Embed\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.embed = function (parameters) {\n    var $allModules = $(this),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue;\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.embed.settings, parameters) : $.extend({}, $.fn.embed.settings),\n          selector = settings.selector,\n          className = settings.className,\n          sources = settings.sources,\n          error = settings.error,\n          metadata = settings.metadata,\n          namespace = settings.namespace,\n          templates = settings.templates,\n          eventNamespace = '.' + namespace,\n          moduleNamespace = 'module-' + namespace,\n          $window = $(window),\n          $module = $(this),\n          $placeholder = $module.find(selector.placeholder),\n          $icon = $module.find(selector.icon),\n          $embed = $module.find(selector.embed),\n          element = this,\n          instance = $module.data(moduleNamespace),\n          module;\n      module = {\n        initialize: function () {\n          module.debug('Initializing embed');\n          module.determine.autoplay();\n          module.create();\n          module.bind.events();\n          module.instantiate();\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module.data(moduleNamespace, module);\n        },\n        destroy: function () {\n          module.verbose('Destroying previous instance of embed');\n          module.reset();\n          $module.removeData(moduleNamespace).off(eventNamespace);\n        },\n        refresh: function () {\n          module.verbose('Refreshing selector cache');\n          $placeholder = $module.find(selector.placeholder);\n          $icon = $module.find(selector.icon);\n          $embed = $module.find(selector.embed);\n        },\n        bind: {\n          events: function () {\n            if (module.has.placeholder()) {\n              module.debug('Adding placeholder events');\n              $module.on('click' + eventNamespace, selector.placeholder, module.createAndShow).on('click' + eventNamespace, selector.icon, module.createAndShow);\n            }\n          }\n        },\n        create: function () {\n          var placeholder = module.get.placeholder();\n\n          if (placeholder) {\n            module.createPlaceholder();\n          } else {\n            module.createAndShow();\n          }\n        },\n        createPlaceholder: function (placeholder) {\n          var icon = module.get.icon(),\n              url = module.get.url(),\n              embed = module.generate.embed(url);\n          placeholder = placeholder || module.get.placeholder();\n          $module.html(templates.placeholder(placeholder, icon));\n          module.debug('Creating placeholder for embed', placeholder, icon);\n        },\n        createEmbed: function (url) {\n          module.refresh();\n          url = url || module.get.url();\n          $embed = $('<div/>').addClass(className.embed).html(module.generate.embed(url)).appendTo($module);\n          settings.onCreate.call(element, url);\n          module.debug('Creating embed object', $embed);\n        },\n        changeEmbed: function (url) {\n          $embed.html(module.generate.embed(url));\n        },\n        createAndShow: function () {\n          module.createEmbed();\n          module.show();\n        },\n        // sets new embed\n        change: function (source, id, url) {\n          module.debug('Changing video to ', source, id, url);\n          $module.data(metadata.source, source).data(metadata.id, id);\n\n          if (url) {\n            $module.data(metadata.url, url);\n          } else {\n            $module.removeData(metadata.url);\n          }\n\n          if (module.has.embed()) {\n            module.changeEmbed();\n          } else {\n            module.create();\n          }\n        },\n        // clears embed\n        reset: function () {\n          module.debug('Clearing embed and showing placeholder');\n          module.remove.active();\n          module.remove.embed();\n          module.showPlaceholder();\n          settings.onReset.call(element);\n        },\n        // shows current embed\n        show: function () {\n          module.debug('Showing embed');\n          module.set.active();\n          settings.onDisplay.call(element);\n        },\n        hide: function () {\n          module.debug('Hiding embed');\n          module.showPlaceholder();\n        },\n        showPlaceholder: function () {\n          module.debug('Showing placeholder image');\n          module.remove.active();\n          settings.onPlaceholderDisplay.call(element);\n        },\n        get: {\n          id: function () {\n            return settings.id || $module.data(metadata.id);\n          },\n          placeholder: function () {\n            return settings.placeholder || $module.data(metadata.placeholder);\n          },\n          icon: function () {\n            return settings.icon ? settings.icon : $module.data(metadata.icon) !== undefined ? $module.data(metadata.icon) : module.determine.icon();\n          },\n          source: function (url) {\n            return settings.source ? settings.source : $module.data(metadata.source) !== undefined ? $module.data(metadata.source) : module.determine.source();\n          },\n          type: function () {\n            var source = module.get.source();\n            return sources[source] !== undefined ? sources[source].type : false;\n          },\n          url: function () {\n            return settings.url ? settings.url : $module.data(metadata.url) !== undefined ? $module.data(metadata.url) : module.determine.url();\n          }\n        },\n        determine: {\n          autoplay: function () {\n            if (module.should.autoplay()) {\n              settings.autoplay = true;\n            }\n          },\n          source: function (url) {\n            var matchedSource = false;\n            url = url || module.get.url();\n\n            if (url) {\n              $.each(sources, function (name, source) {\n                if (url.search(source.domain) !== -1) {\n                  matchedSource = name;\n                  return false;\n                }\n              });\n            }\n\n            return matchedSource;\n          },\n          icon: function () {\n            var source = module.get.source();\n            return sources[source] !== undefined ? sources[source].icon : false;\n          },\n          url: function () {\n            var id = settings.id || $module.data(metadata.id),\n                source = settings.source || $module.data(metadata.source),\n                url;\n            url = sources[source] !== undefined ? sources[source].url.replace('{id}', id) : false;\n\n            if (url) {\n              $module.data(metadata.url, url);\n            }\n\n            return url;\n          }\n        },\n        set: {\n          active: function () {\n            $module.addClass(className.active);\n          }\n        },\n        remove: {\n          active: function () {\n            $module.removeClass(className.active);\n          },\n          embed: function () {\n            $embed.empty();\n          }\n        },\n        encode: {\n          parameters: function (parameters) {\n            var urlString = [],\n                index;\n\n            for (index in parameters) {\n              urlString.push(encodeURIComponent(index) + '=' + encodeURIComponent(parameters[index]));\n            }\n\n            return urlString.join('&amp;');\n          }\n        },\n        generate: {\n          embed: function (url) {\n            module.debug('Generating embed html');\n            var source = module.get.source(),\n                html,\n                parameters;\n            url = module.get.url(url);\n\n            if (url) {\n              parameters = module.generate.parameters(source);\n              html = templates.iframe(url, parameters);\n            } else {\n              module.error(error.noURL, $module);\n            }\n\n            return html;\n          },\n          parameters: function (source, extraParameters) {\n            var parameters = sources[source] && sources[source].parameters !== undefined ? sources[source].parameters(settings) : {};\n            extraParameters = extraParameters || settings.parameters;\n\n            if (extraParameters) {\n              parameters = $.extend({}, parameters, extraParameters);\n            }\n\n            parameters = settings.onEmbed(parameters);\n            return module.encode.parameters(parameters);\n          }\n        },\n        has: {\n          embed: function () {\n            return $embed.length > 0;\n          },\n          placeholder: function () {\n            return settings.placeholder || $module.data(metadata.placeholder);\n          }\n        },\n        should: {\n          autoplay: function () {\n            return settings.autoplay === 'auto' ? settings.placeholder || $module.data(metadata.placeholder) !== undefined : settings.autoplay;\n          }\n        },\n        is: {\n          video: function () {\n            return module.get.type() == 'video';\n          }\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.embed.settings = {\n    name: 'Embed',\n    namespace: 'embed',\n    silent: false,\n    debug: false,\n    verbose: false,\n    performance: true,\n    icon: false,\n    source: false,\n    url: false,\n    id: false,\n    // standard video settings\n    autoplay: 'auto',\n    color: '#444444',\n    hd: true,\n    brandedUI: false,\n    // additional parameters to include with the embed\n    parameters: false,\n    onDisplay: function () {},\n    onPlaceholderDisplay: function () {},\n    onReset: function () {},\n    onCreate: function (url) {},\n    onEmbed: function (parameters) {\n      return parameters;\n    },\n    metadata: {\n      id: 'id',\n      icon: 'icon',\n      placeholder: 'placeholder',\n      source: 'source',\n      url: 'url'\n    },\n    error: {\n      noURL: 'No URL specified',\n      method: 'The method you called is not defined'\n    },\n    className: {\n      active: 'active',\n      embed: 'embed'\n    },\n    selector: {\n      embed: '.embed',\n      placeholder: '.placeholder',\n      icon: '.icon'\n    },\n    sources: {\n      youtube: {\n        name: 'youtube',\n        type: 'video',\n        icon: 'video play',\n        domain: 'youtube.com',\n        url: '//www.youtube.com/embed/{id}',\n        parameters: function (settings) {\n          return {\n            autohide: !settings.brandedUI,\n            autoplay: settings.autoplay,\n            color: settings.color || undefined,\n            hq: settings.hd,\n            jsapi: settings.api,\n            modestbranding: !settings.brandedUI\n          };\n        }\n      },\n      vimeo: {\n        name: 'vimeo',\n        type: 'video',\n        icon: 'video play',\n        domain: 'vimeo.com',\n        url: '//player.vimeo.com/video/{id}',\n        parameters: function (settings) {\n          return {\n            api: settings.api,\n            autoplay: settings.autoplay,\n            byline: settings.brandedUI,\n            color: settings.color || undefined,\n            portrait: settings.brandedUI,\n            title: settings.brandedUI\n          };\n        }\n      }\n    },\n    templates: {\n      iframe: function (url, parameters) {\n        var src = url;\n\n        if (parameters) {\n          src += '?' + parameters;\n        }\n\n        return '' + '<iframe src=\"' + src + '\"' + ' width=\"100%\" height=\"100%\"' + ' frameborder=\"0\" scrolling=\"no\" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>';\n      },\n      placeholder: function (image, icon) {\n        var html = '';\n\n        if (icon) {\n          html += '<i class=\"' + icon + ' icon\"></i>';\n        }\n\n        if (image) {\n          html += '<img class=\"placeholder\" src=\"' + image + '\">';\n        }\n\n        return html;\n      }\n    },\n    // NOT YET IMPLEMENTED\n    api: false,\n    onPause: function () {},\n    onPlay: function () {},\n    onStop: function () {}\n  };\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"modal.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/modules/modal.js                                                                           //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * # Semantic UI - Modal\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.modal = function (parameters) {\n    var $allModules = $(this),\n        $window = $(window),\n        $document = $(document),\n        $body = $('body'),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {\n      setTimeout(callback, 0);\n    },\n        returnedValue;\n\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.modal.settings, parameters) : $.extend({}, $.fn.modal.settings),\n          selector = settings.selector,\n          className = settings.className,\n          namespace = settings.namespace,\n          error = settings.error,\n          eventNamespace = '.' + namespace,\n          moduleNamespace = 'module-' + namespace,\n          $module = $(this),\n          $context = $(settings.context),\n          $close = $module.find(selector.close),\n          $allModals,\n          $otherModals,\n          $focusedElement,\n          $dimmable,\n          $dimmer,\n          element = this,\n          instance = $module.data(moduleNamespace),\n          ignoreRepeatedEvents = false,\n          elementEventNamespace,\n          id,\n          observer,\n          module;\n      module = {\n        initialize: function () {\n          module.verbose('Initializing dimmer', $context);\n          module.create.id();\n          module.create.dimmer();\n          module.refreshModals();\n          module.bind.events();\n\n          if (settings.observeChanges) {\n            module.observeChanges();\n          }\n\n          module.instantiate();\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of modal');\n          instance = module;\n          $module.data(moduleNamespace, instance);\n        },\n        create: {\n          dimmer: function () {\n            var defaultSettings = {\n              debug: settings.debug,\n              variation: settings.centered ? false : 'top aligned',\n              dimmerName: 'modals'\n            },\n                dimmerSettings = $.extend(true, defaultSettings, settings.dimmerSettings);\n\n            if ($.fn.dimmer === undefined) {\n              module.error(error.dimmer);\n              return;\n            }\n\n            module.debug('Creating dimmer');\n            $dimmable = $context.dimmer(dimmerSettings);\n\n            if (settings.detachable) {\n              module.verbose('Modal is detachable, moving content into dimmer');\n              $dimmable.dimmer('add content', $module);\n            } else {\n              module.set.undetached();\n            }\n\n            $dimmer = $dimmable.dimmer('get dimmer');\n          },\n          id: function () {\n            id = (Math.random().toString(16) + '000000000').substr(2, 8);\n            elementEventNamespace = '.' + id;\n            module.verbose('Creating unique id for element', id);\n          }\n        },\n        destroy: function () {\n          module.verbose('Destroying previous modal');\n          $module.removeData(moduleNamespace).off(eventNamespace);\n          $window.off(elementEventNamespace);\n          $dimmer.off(elementEventNamespace);\n          $close.off(eventNamespace);\n          $context.dimmer('destroy');\n        },\n        observeChanges: function () {\n          if ('MutationObserver' in window) {\n            observer = new MutationObserver(function (mutations) {\n              module.debug('DOM tree modified, refreshing');\n              module.refresh();\n            });\n            observer.observe(element, {\n              childList: true,\n              subtree: true\n            });\n            module.debug('Setting up mutation observer', observer);\n          }\n        },\n        refresh: function () {\n          module.remove.scrolling();\n          module.cacheSizes();\n          module.set.screenHeight();\n          module.set.type();\n        },\n        refreshModals: function () {\n          $otherModals = $module.siblings(selector.modal);\n          $allModals = $otherModals.add($module);\n        },\n        attachEvents: function (selector, event) {\n          var $toggle = $(selector);\n          event = $.isFunction(module[event]) ? module[event] : module.toggle;\n\n          if ($toggle.length > 0) {\n            module.debug('Attaching modal events to element', selector, event);\n            $toggle.off(eventNamespace).on('click' + eventNamespace, event);\n          } else {\n            module.error(error.notFound, selector);\n          }\n        },\n        bind: {\n          events: function () {\n            module.verbose('Attaching events');\n            $module.on('click' + eventNamespace, selector.close, module.event.close).on('click' + eventNamespace, selector.approve, module.event.approve).on('click' + eventNamespace, selector.deny, module.event.deny);\n            $window.on('resize' + elementEventNamespace, module.event.resize);\n          }\n        },\n        get: {\n          id: function () {\n            return (Math.random().toString(16) + '000000000').substr(2, 8);\n          }\n        },\n        event: {\n          approve: function () {\n            if (ignoreRepeatedEvents || settings.onApprove.call(element, $(this)) === false) {\n              module.verbose('Approve callback returned false cancelling hide');\n              return;\n            }\n\n            ignoreRepeatedEvents = true;\n            module.hide(function () {\n              ignoreRepeatedEvents = false;\n            });\n          },\n          deny: function () {\n            if (ignoreRepeatedEvents || settings.onDeny.call(element, $(this)) === false) {\n              module.verbose('Deny callback returned false cancelling hide');\n              return;\n            }\n\n            ignoreRepeatedEvents = true;\n            module.hide(function () {\n              ignoreRepeatedEvents = false;\n            });\n          },\n          close: function () {\n            module.hide();\n          },\n          click: function (event) {\n            if (!settings.closable) {\n              module.verbose('Dimmer clicked but closable setting is disabled');\n              return;\n            }\n\n            var $target = $(event.target),\n                isInModal = $target.closest(selector.modal).length > 0,\n                isInDOM = $.contains(document.documentElement, event.target);\n\n            if (!isInModal && isInDOM && module.is.active()) {\n              module.debug('Dimmer clicked, hiding all modals');\n              module.remove.clickaway();\n\n              if (settings.allowMultiple) {\n                module.hide();\n              } else {\n                module.hideAll();\n              }\n            }\n          },\n          debounce: function (method, delay) {\n            clearTimeout(module.timer);\n            module.timer = setTimeout(method, delay);\n          },\n          keyboard: function (event) {\n            var keyCode = event.which,\n                escapeKey = 27;\n\n            if (keyCode == escapeKey) {\n              if (settings.closable) {\n                module.debug('Escape key pressed hiding modal');\n                module.hide();\n              } else {\n                module.debug('Escape key pressed, but closable is set to false');\n              }\n\n              event.preventDefault();\n            }\n          },\n          resize: function () {\n            if ($dimmable.dimmer('is active') && (module.is.animating() || module.is.active())) {\n              requestAnimationFrame(module.refresh);\n            }\n          }\n        },\n        toggle: function () {\n          if (module.is.active() || module.is.animating()) {\n            module.hide();\n          } else {\n            module.show();\n          }\n        },\n        show: function (callback) {\n          callback = $.isFunction(callback) ? callback : function () {};\n          module.refreshModals();\n          module.set.dimmerSettings();\n          module.showModal(callback);\n        },\n        hide: function (callback) {\n          callback = $.isFunction(callback) ? callback : function () {};\n          module.refreshModals();\n          module.hideModal(callback);\n        },\n        showModal: function (callback) {\n          callback = $.isFunction(callback) ? callback : function () {};\n\n          if (module.is.animating() || !module.is.active()) {\n            module.showDimmer();\n            module.cacheSizes();\n            module.set.screenHeight();\n            module.set.type();\n            module.set.clickaway();\n\n            if (!settings.allowMultiple && module.others.active()) {\n              module.hideOthers(module.showModal);\n            } else {\n              if (settings.allowMultiple && settings.detachable) {\n                $module.detach().appendTo($dimmer);\n              }\n\n              settings.onShow.call(element);\n\n              if (settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n                module.debug('Showing modal with css animations');\n                $module.transition({\n                  debug: settings.debug,\n                  animation: settings.transition + ' in',\n                  queue: settings.queue,\n                  duration: settings.duration,\n                  useFailSafe: true,\n                  onComplete: function () {\n                    settings.onVisible.apply(element);\n\n                    if (settings.keyboardShortcuts) {\n                      module.add.keyboardShortcuts();\n                    }\n\n                    module.save.focus();\n                    module.set.active();\n\n                    if (settings.autofocus) {\n                      module.set.autofocus();\n                    }\n\n                    callback();\n                  }\n                });\n              } else {\n                module.error(error.noTransition);\n              }\n            }\n          } else {\n            module.debug('Modal is already visible');\n          }\n        },\n        hideModal: function (callback, keepDimmed) {\n          callback = $.isFunction(callback) ? callback : function () {};\n          module.debug('Hiding modal');\n\n          if (settings.onHide.call(element, $(this)) === false) {\n            module.verbose('Hide callback returned false cancelling hide');\n            return;\n          }\n\n          if (module.is.animating() || module.is.active()) {\n            if (settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n              module.remove.active();\n              $module.transition({\n                debug: settings.debug,\n                animation: settings.transition + ' out',\n                queue: settings.queue,\n                duration: settings.duration,\n                useFailSafe: true,\n                onStart: function () {\n                  if (!module.others.active() && !keepDimmed) {\n                    module.hideDimmer();\n                  }\n\n                  if (settings.keyboardShortcuts) {\n                    module.remove.keyboardShortcuts();\n                  }\n                },\n                onComplete: function () {\n                  settings.onHidden.call(element);\n                  module.restore.focus();\n                  callback();\n                }\n              });\n            } else {\n              module.error(error.noTransition);\n            }\n          }\n        },\n        showDimmer: function () {\n          if ($dimmable.dimmer('is animating') || !$dimmable.dimmer('is active')) {\n            module.debug('Showing dimmer');\n            $dimmable.dimmer('show');\n          } else {\n            module.debug('Dimmer already visible');\n          }\n        },\n        hideDimmer: function () {\n          if ($dimmable.dimmer('is animating') || $dimmable.dimmer('is active')) {\n            $dimmable.dimmer('hide', function () {\n              module.remove.clickaway();\n              module.remove.screenHeight();\n            });\n          } else {\n            module.debug('Dimmer is not visible cannot hide');\n            return;\n          }\n        },\n        hideAll: function (callback) {\n          var $visibleModals = $allModals.filter('.' + className.active + ', .' + className.animating);\n          callback = $.isFunction(callback) ? callback : function () {};\n\n          if ($visibleModals.length > 0) {\n            module.debug('Hiding all visible modals');\n            module.hideDimmer();\n            $visibleModals.modal('hide modal', callback);\n          }\n        },\n        hideOthers: function (callback) {\n          var $visibleModals = $otherModals.filter('.' + className.active + ', .' + className.animating);\n          callback = $.isFunction(callback) ? callback : function () {};\n\n          if ($visibleModals.length > 0) {\n            module.debug('Hiding other modals', $otherModals);\n            $visibleModals.modal('hide modal', callback, true);\n          }\n        },\n        others: {\n          active: function () {\n            return $otherModals.filter('.' + className.active).length > 0;\n          },\n          animating: function () {\n            return $otherModals.filter('.' + className.animating).length > 0;\n          }\n        },\n        add: {\n          keyboardShortcuts: function () {\n            module.verbose('Adding keyboard shortcuts');\n            $document.on('keyup' + eventNamespace, module.event.keyboard);\n          }\n        },\n        save: {\n          focus: function () {\n            var $activeElement = $(document.activeElement),\n                inCurrentModal = $activeElement.closest($module).length > 0;\n\n            if (!inCurrentModal) {\n              $focusedElement = $(document.activeElement).blur();\n            }\n          }\n        },\n        restore: {\n          focus: function () {\n            if ($focusedElement && $focusedElement.length > 0) {\n              $focusedElement.focus();\n            }\n          }\n        },\n        remove: {\n          active: function () {\n            $module.removeClass(className.active);\n          },\n          clickaway: function () {\n            $dimmer.off('click' + elementEventNamespace);\n          },\n          bodyStyle: function () {\n            if ($body.attr('style') === '') {\n              module.verbose('Removing style attribute');\n              $body.removeAttr('style');\n            }\n          },\n          screenHeight: function () {\n            module.debug('Removing page height');\n            $body.css('height', '');\n          },\n          keyboardShortcuts: function () {\n            module.verbose('Removing keyboard shortcuts');\n            $document.off('keyup' + eventNamespace);\n          },\n          scrolling: function () {\n            $dimmable.removeClass(className.scrolling);\n            $module.removeClass(className.scrolling);\n          }\n        },\n        cacheSizes: function () {\n          $module.addClass(className.loading);\n          var scrollHeight = $module.prop('scrollHeight'),\n              modalHeight = $module.outerHeight();\n\n          if (module.cache === undefined || modalHeight !== 0) {\n            module.cache = {\n              pageHeight: $(document).outerHeight(),\n              height: modalHeight + settings.offset,\n              scrollHeight: scrollHeight + settings.offset,\n              contextHeight: settings.context == 'body' ? $(window).height() : $dimmable.height()\n            };\n            module.cache.topOffset = -(module.cache.height / 2);\n          }\n\n          $module.removeClass(className.loading);\n          module.debug('Caching modal and container sizes', module.cache);\n        },\n        can: {\n          fit: function () {\n            var contextHeight = module.cache.contextHeight,\n                verticalCenter = module.cache.contextHeight / 2,\n                topOffset = module.cache.topOffset,\n                scrollHeight = module.cache.scrollHeight,\n                height = module.cache.height,\n                paddingHeight = settings.padding,\n                startPosition = verticalCenter + topOffset;\n            return scrollHeight > height ? startPosition + scrollHeight + paddingHeight < contextHeight : height + paddingHeight * 2 < contextHeight;\n          }\n        },\n        is: {\n          active: function () {\n            return $module.hasClass(className.active);\n          },\n          animating: function () {\n            return $module.transition('is supported') ? $module.transition('is animating') : $module.is(':visible');\n          },\n          scrolling: function () {\n            return $dimmable.hasClass(className.scrolling);\n          },\n          modernBrowser: function () {\n            // appName for IE11 reports 'Netscape' can no longer use\n            return !(window.ActiveXObject || \"ActiveXObject\" in window);\n          }\n        },\n        set: {\n          autofocus: function () {\n            var $inputs = $module.find('[tabindex], :input').filter(':visible'),\n                $autofocus = $inputs.filter('[autofocus]'),\n                $input = $autofocus.length > 0 ? $autofocus.first() : $inputs.first();\n\n            if ($input.length > 0) {\n              $input.focus();\n            }\n          },\n          clickaway: function () {\n            $dimmer.on('click' + elementEventNamespace, module.event.click);\n          },\n          dimmerSettings: function () {\n            if ($.fn.dimmer === undefined) {\n              module.error(error.dimmer);\n              return;\n            }\n\n            var defaultSettings = {\n              debug: settings.debug,\n              dimmerName: 'modals',\n              closable: 'auto',\n              variation: settings.centered ? false : 'top aligned',\n              duration: {\n                show: settings.duration,\n                hide: settings.duration\n              }\n            },\n                dimmerSettings = $.extend(true, defaultSettings, settings.dimmerSettings);\n\n            if (settings.inverted) {\n              dimmerSettings.variation = dimmerSettings.variation !== undefined ? dimmerSettings.variation + ' inverted' : 'inverted';\n              $dimmer.addClass(className.inverted);\n            } else {\n              $dimmer.removeClass(className.inverted);\n            }\n\n            if (settings.blurring) {\n              $dimmable.addClass(className.blurring);\n            } else {\n              $dimmable.removeClass(className.blurring);\n            }\n\n            $context.dimmer('setting', dimmerSettings);\n          },\n          screenHeight: function () {\n            if (module.can.fit()) {\n              $body.css('height', '');\n            } else {\n              module.debug('Modal is taller than page content, resizing page height');\n              $body.css('height', module.cache.height + settings.padding * 2);\n            }\n          },\n          active: function () {\n            $module.addClass(className.active);\n          },\n          scrolling: function () {\n            $dimmable.addClass(className.scrolling);\n            $module.addClass(className.scrolling);\n          },\n          type: function () {\n            if (module.can.fit()) {\n              module.verbose('Modal fits on screen');\n\n              if (!module.others.active() && !module.others.animating()) {\n                module.remove.scrolling();\n              }\n            } else {\n              module.verbose('Modal cannot fit on screen setting to scrolling');\n              module.set.scrolling();\n            }\n          },\n          undetached: function () {\n            $dimmable.addClass(className.undetached);\n          }\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.modal.settings = {\n    name: 'Modal',\n    namespace: 'modal',\n    silent: false,\n    debug: false,\n    verbose: false,\n    performance: true,\n    observeChanges: false,\n    allowMultiple: false,\n    detachable: true,\n    closable: true,\n    autofocus: true,\n    inverted: false,\n    blurring: false,\n    centered: true,\n    dimmerSettings: {\n      closable: false,\n      useCSS: true\n    },\n    // whether to use keyboard shortcuts\n    keyboardShortcuts: true,\n    context: 'body',\n    queue: false,\n    duration: 500,\n    offset: 0,\n    transition: 'scale',\n    // padding with edge of page\n    padding: 50,\n    // called before show animation\n    onShow: function () {},\n    // called after show animation\n    onVisible: function () {},\n    // called before hide animation\n    onHide: function () {\n      return true;\n    },\n    // called after hide animation\n    onHidden: function () {},\n    // called after approve selector match\n    onApprove: function () {\n      return true;\n    },\n    // called after deny selector match\n    onDeny: function () {\n      return true;\n    },\n    selector: {\n      close: '> .close',\n      approve: '.actions .positive, .actions .approve, .actions .ok',\n      deny: '.actions .negative, .actions .deny, .actions .cancel',\n      modal: '.ui.modal'\n    },\n    error: {\n      dimmer: 'UI Dimmer, a required component is not included in this page',\n      method: 'The method you called is not defined.',\n      notFound: 'The element you specified could not be found'\n    },\n    className: {\n      active: 'active',\n      animating: 'animating',\n      blurring: 'blurring',\n      inverted: 'inverted',\n      loading: 'loading',\n      scrolling: 'scrolling',\n      undetached: 'undetached'\n    }\n  };\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"nag.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/modules/nag.js                                                                             //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * # Semantic UI - Nag\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.nag = function (parameters) {\n    var $allModules = $(this),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue;\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.nag.settings, parameters) : $.extend({}, $.fn.nag.settings),\n          className = settings.className,\n          selector = settings.selector,\n          error = settings.error,\n          namespace = settings.namespace,\n          eventNamespace = '.' + namespace,\n          moduleNamespace = namespace + '-module',\n          $module = $(this),\n          $close = $module.find(selector.close),\n          $context = settings.context ? $(settings.context) : $('body'),\n          element = this,\n          instance = $module.data(moduleNamespace),\n          moduleOffset,\n          moduleHeight,\n          contextWidth,\n          contextHeight,\n          contextOffset,\n          yOffset,\n          yPosition,\n          timer,\n          module,\n          requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {\n        setTimeout(callback, 0);\n      };\n\n      module = {\n        initialize: function () {\n          module.verbose('Initializing element');\n          $module.on('click' + eventNamespace, selector.close, module.dismiss).data(moduleNamespace, module);\n\n          if (settings.detachable && $module.parent()[0] !== $context[0]) {\n            $module.detach().prependTo($context);\n          }\n\n          if (settings.displayTime > 0) {\n            setTimeout(module.hide, settings.displayTime);\n          }\n\n          module.show();\n        },\n        destroy: function () {\n          module.verbose('Destroying instance');\n          $module.removeData(moduleNamespace).off(eventNamespace);\n        },\n        show: function () {\n          if (module.should.show() && !$module.is(':visible')) {\n            module.debug('Showing nag', settings.animation.show);\n\n            if (settings.animation.show == 'fade') {\n              $module.fadeIn(settings.duration, settings.easing);\n            } else {\n              $module.slideDown(settings.duration, settings.easing);\n            }\n          }\n        },\n        hide: function () {\n          module.debug('Showing nag', settings.animation.hide);\n\n          if (settings.animation.show == 'fade') {\n            $module.fadeIn(settings.duration, settings.easing);\n          } else {\n            $module.slideUp(settings.duration, settings.easing);\n          }\n        },\n        onHide: function () {\n          module.debug('Removing nag', settings.animation.hide);\n          $module.remove();\n\n          if (settings.onHide) {\n            settings.onHide();\n          }\n        },\n        dismiss: function (event) {\n          if (settings.storageMethod) {\n            module.storage.set(settings.key, settings.value);\n          }\n\n          module.hide();\n          event.stopImmediatePropagation();\n          event.preventDefault();\n        },\n        should: {\n          show: function () {\n            if (settings.persist) {\n              module.debug('Persistent nag is set, can show nag');\n              return true;\n            }\n\n            if (module.storage.get(settings.key) != settings.value.toString()) {\n              module.debug('Stored value is not set, can show nag', module.storage.get(settings.key));\n              return true;\n            }\n\n            module.debug('Stored value is set, cannot show nag', module.storage.get(settings.key));\n            return false;\n          }\n        },\n        get: {\n          storageOptions: function () {\n            var options = {};\n\n            if (settings.expires) {\n              options.expires = settings.expires;\n            }\n\n            if (settings.domain) {\n              options.domain = settings.domain;\n            }\n\n            if (settings.path) {\n              options.path = settings.path;\n            }\n\n            return options;\n          }\n        },\n        clear: function () {\n          module.storage.remove(settings.key);\n        },\n        storage: {\n          set: function (key, value) {\n            var options = module.get.storageOptions();\n\n            if (settings.storageMethod == 'localstorage' && window.localStorage !== undefined) {\n              window.localStorage.setItem(key, value);\n              module.debug('Value stored using local storage', key, value);\n            } else if (settings.storageMethod == 'sessionstorage' && window.sessionStorage !== undefined) {\n              window.sessionStorage.setItem(key, value);\n              module.debug('Value stored using session storage', key, value);\n            } else if ($.cookie !== undefined) {\n              $.cookie(key, value, options);\n              module.debug('Value stored using cookie', key, value, options);\n            } else {\n              module.error(error.noCookieStorage);\n              return;\n            }\n          },\n          get: function (key, value) {\n            var storedValue;\n\n            if (settings.storageMethod == 'localstorage' && window.localStorage !== undefined) {\n              storedValue = window.localStorage.getItem(key);\n            } else if (settings.storageMethod == 'sessionstorage' && window.sessionStorage !== undefined) {\n              storedValue = window.sessionStorage.getItem(key);\n            } // get by cookie\n            else if ($.cookie !== undefined) {\n                storedValue = $.cookie(key);\n              } else {\n                module.error(error.noCookieStorage);\n              }\n\n            if (storedValue == 'undefined' || storedValue == 'null' || storedValue === undefined || storedValue === null) {\n              storedValue = undefined;\n            }\n\n            return storedValue;\n          },\n          remove: function (key) {\n            var options = module.get.storageOptions();\n\n            if (settings.storageMethod == 'localstorage' && window.localStorage !== undefined) {\n              window.localStorage.removeItem(key);\n            } else if (settings.storageMethod == 'sessionstorage' && window.sessionStorage !== undefined) {\n              window.sessionStorage.removeItem(key);\n            } // store by cookie\n            else if ($.cookie !== undefined) {\n                $.removeCookie(key, options);\n              } else {\n                module.error(error.noStorage);\n              }\n          }\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.nag.settings = {\n    name: 'Nag',\n    silent: false,\n    debug: false,\n    verbose: false,\n    performance: true,\n    namespace: 'Nag',\n    // allows cookie to be overridden\n    persist: false,\n    // set to zero to require manually dismissal, otherwise hides on its own\n    displayTime: 0,\n    animation: {\n      show: 'slide',\n      hide: 'slide'\n    },\n    context: false,\n    detachable: false,\n    expires: 30,\n    domain: false,\n    path: '/',\n    // type of storage to use\n    storageMethod: 'cookie',\n    // value to store in dismissed localstorage/cookie\n    key: 'nag',\n    value: 'dismiss',\n    error: {\n      noCookieStorage: '$.cookie is not included. A storage solution is required.',\n      noStorage: 'Neither $.cookie or store is defined. A storage solution is required for storing state',\n      method: 'The method you called is not defined.'\n    },\n    className: {\n      bottom: 'bottom',\n      fixed: 'fixed'\n    },\n    selector: {\n      close: '.close.icon'\n    },\n    speed: 500,\n    easing: 'easeOutQuad',\n    onHide: function () {}\n  }; // Adds easing\n\n  $.extend($.easing, {\n    easeOutQuad: function (x, t, b, c, d) {\n      return -c * (t /= d) * (t - 2) + b;\n    }\n  });\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"popup.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/modules/popup.js                                                                           //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * # Semantic UI - Popup\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.popup = function (parameters) {\n    var $allModules = $(this),\n        $document = $(document),\n        $window = $(window),\n        $body = $('body'),\n        moduleSelector = $allModules.selector || '',\n        hasTouch = true,\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue;\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.popup.settings, parameters) : $.extend({}, $.fn.popup.settings),\n          selector = settings.selector,\n          className = settings.className,\n          error = settings.error,\n          metadata = settings.metadata,\n          namespace = settings.namespace,\n          eventNamespace = '.' + settings.namespace,\n          moduleNamespace = 'module-' + namespace,\n          $module = $(this),\n          $context = $(settings.context),\n          $scrollContext = $(settings.scrollContext),\n          $boundary = $(settings.boundary),\n          $target = settings.target ? $(settings.target) : $module,\n          $popup,\n          $offsetParent,\n          searchDepth = 0,\n          triedPositions = false,\n          openedWithTouch = false,\n          element = this,\n          instance = $module.data(moduleNamespace),\n          documentObserver,\n          elementNamespace,\n          id,\n          module;\n      module = {\n        // binds events\n        initialize: function () {\n          module.debug('Initializing', $module);\n          module.createID();\n          module.bind.events();\n\n          if (!module.exists() && settings.preserve) {\n            module.create();\n          }\n\n          if (settings.observeChanges) {\n            module.observeChanges();\n          }\n\n          module.instantiate();\n        },\n        instantiate: function () {\n          module.verbose('Storing instance', module);\n          instance = module;\n          $module.data(moduleNamespace, instance);\n        },\n        observeChanges: function () {\n          if ('MutationObserver' in window) {\n            documentObserver = new MutationObserver(module.event.documentChanged);\n            documentObserver.observe(document, {\n              childList: true,\n              subtree: true\n            });\n            module.debug('Setting up mutation observer', documentObserver);\n          }\n        },\n        refresh: function () {\n          if (settings.popup) {\n            $popup = $(settings.popup).eq(0);\n          } else {\n            if (settings.inline) {\n              $popup = $target.nextAll(selector.popup).eq(0);\n              settings.popup = $popup;\n            }\n          }\n\n          if (settings.popup) {\n            $popup.addClass(className.loading);\n            $offsetParent = module.get.offsetParent();\n            $popup.removeClass(className.loading);\n\n            if (settings.movePopup && module.has.popup() && module.get.offsetParent($popup)[0] !== $offsetParent[0]) {\n              module.debug('Moving popup to the same offset parent as target');\n              $popup.detach().appendTo($offsetParent);\n            }\n          } else {\n            $offsetParent = settings.inline ? module.get.offsetParent($target) : module.has.popup() ? module.get.offsetParent($popup) : $body;\n          }\n\n          if ($offsetParent.is('html') && $offsetParent[0] !== $body[0]) {\n            module.debug('Setting page as offset parent');\n            $offsetParent = $body;\n          }\n\n          if (module.get.variation()) {\n            module.set.variation();\n          }\n        },\n        reposition: function () {\n          module.refresh();\n          module.set.position();\n        },\n        destroy: function () {\n          module.debug('Destroying previous module');\n\n          if (documentObserver) {\n            documentObserver.disconnect();\n          } // remove element only if was created dynamically\n\n\n          if ($popup && !settings.preserve) {\n            module.removePopup();\n          } // clear all timeouts\n\n\n          clearTimeout(module.hideTimer);\n          clearTimeout(module.showTimer); // remove events\n\n          module.unbind.close();\n          module.unbind.events();\n          $module.removeData(moduleNamespace);\n        },\n        event: {\n          start: function (event) {\n            var delay = $.isPlainObject(settings.delay) ? settings.delay.show : settings.delay;\n            clearTimeout(module.hideTimer);\n\n            if (!openedWithTouch) {\n              module.showTimer = setTimeout(module.show, delay);\n            }\n          },\n          end: function () {\n            var delay = $.isPlainObject(settings.delay) ? settings.delay.hide : settings.delay;\n            clearTimeout(module.showTimer);\n            module.hideTimer = setTimeout(module.hide, delay);\n          },\n          touchstart: function (event) {\n            openedWithTouch = true;\n            module.show();\n          },\n          resize: function () {\n            if (module.is.visible()) {\n              module.set.position();\n            }\n          },\n          documentChanged: function (mutations) {\n            [].forEach.call(mutations, function (mutation) {\n              if (mutation.removedNodes) {\n                [].forEach.call(mutation.removedNodes, function (node) {\n                  if (node == element || $(node).find(element).length > 0) {\n                    module.debug('Element removed from DOM, tearing down events');\n                    module.destroy();\n                  }\n                });\n              }\n            });\n          },\n          hideGracefully: function (event) {\n            var $target = $(event.target),\n                isInDOM = $.contains(document.documentElement, event.target),\n                inPopup = $target.closest(selector.popup).length > 0; // don't close on clicks inside popup\n\n            if (event && !inPopup && isInDOM) {\n              module.debug('Click occurred outside popup hiding popup');\n              module.hide();\n            } else {\n              module.debug('Click was inside popup, keeping popup open');\n            }\n          }\n        },\n        // generates popup html from metadata\n        create: function () {\n          var html = module.get.html(),\n              title = module.get.title(),\n              content = module.get.content();\n\n          if (html || content || title) {\n            module.debug('Creating pop-up html');\n\n            if (!html) {\n              html = settings.templates.popup({\n                title: title,\n                content: content\n              });\n            }\n\n            $popup = $('<div/>').addClass(className.popup).data(metadata.activator, $module).html(html);\n\n            if (settings.inline) {\n              module.verbose('Inserting popup element inline', $popup);\n              $popup.insertAfter($module);\n            } else {\n              module.verbose('Appending popup element to body', $popup);\n              $popup.appendTo($context);\n            }\n\n            module.refresh();\n            module.set.variation();\n\n            if (settings.hoverable) {\n              module.bind.popup();\n            }\n\n            settings.onCreate.call($popup, element);\n          } else if ($target.next(selector.popup).length !== 0) {\n            module.verbose('Pre-existing popup found');\n            settings.inline = true;\n            settings.popup = $target.next(selector.popup).data(metadata.activator, $module);\n            module.refresh();\n\n            if (settings.hoverable) {\n              module.bind.popup();\n            }\n          } else if (settings.popup) {\n            $(settings.popup).data(metadata.activator, $module);\n            module.verbose('Used popup specified in settings');\n            module.refresh();\n\n            if (settings.hoverable) {\n              module.bind.popup();\n            }\n          } else {\n            module.debug('No content specified skipping display', element);\n          }\n        },\n        createID: function () {\n          id = (Math.random().toString(16) + '000000000').substr(2, 8);\n          elementNamespace = '.' + id;\n          module.verbose('Creating unique id for element', id);\n        },\n        // determines popup state\n        toggle: function () {\n          module.debug('Toggling pop-up');\n\n          if (module.is.hidden()) {\n            module.debug('Popup is hidden, showing pop-up');\n            module.unbind.close();\n            module.show();\n          } else {\n            module.debug('Popup is visible, hiding pop-up');\n            module.hide();\n          }\n        },\n        show: function (callback) {\n          callback = callback || function () {};\n\n          module.debug('Showing pop-up', settings.transition);\n\n          if (module.is.hidden() && !(module.is.active() && module.is.dropdown())) {\n            if (!module.exists()) {\n              module.create();\n            }\n\n            if (settings.onShow.call($popup, element) === false) {\n              module.debug('onShow callback returned false, cancelling popup animation');\n              return;\n            } else if (!settings.preserve && !settings.popup) {\n              module.refresh();\n            }\n\n            if ($popup && module.set.position()) {\n              module.save.conditions();\n\n              if (settings.exclusive) {\n                module.hideAll();\n              }\n\n              module.animate.show(callback);\n            }\n          }\n        },\n        hide: function (callback) {\n          callback = callback || function () {};\n\n          if (module.is.visible() || module.is.animating()) {\n            if (settings.onHide.call($popup, element) === false) {\n              module.debug('onHide callback returned false, cancelling popup animation');\n              return;\n            }\n\n            module.remove.visible();\n            module.unbind.close();\n            module.restore.conditions();\n            module.animate.hide(callback);\n          }\n        },\n        hideAll: function () {\n          $(selector.popup).filter('.' + className.popupVisible).each(function () {\n            $(this).data(metadata.activator).popup('hide');\n          });\n        },\n        exists: function () {\n          if (!$popup) {\n            return false;\n          }\n\n          if (settings.inline || settings.popup) {\n            return module.has.popup();\n          } else {\n            return $popup.closest($context).length >= 1 ? true : false;\n          }\n        },\n        removePopup: function () {\n          if (module.has.popup() && !settings.popup) {\n            module.debug('Removing popup', $popup);\n            $popup.remove();\n            $popup = undefined;\n            settings.onRemove.call($popup, element);\n          }\n        },\n        save: {\n          conditions: function () {\n            module.cache = {\n              title: $module.attr('title')\n            };\n\n            if (module.cache.title) {\n              $module.removeAttr('title');\n            }\n\n            module.verbose('Saving original attributes', module.cache.title);\n          }\n        },\n        restore: {\n          conditions: function () {\n            if (module.cache && module.cache.title) {\n              $module.attr('title', module.cache.title);\n              module.verbose('Restoring original attributes', module.cache.title);\n            }\n\n            return true;\n          }\n        },\n        supports: {\n          svg: function () {\n            return typeof SVGGraphicsElement === 'undefined';\n          }\n        },\n        animate: {\n          show: function (callback) {\n            callback = $.isFunction(callback) ? callback : function () {};\n\n            if (settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n              module.set.visible();\n              $popup.transition({\n                animation: settings.transition + ' in',\n                queue: false,\n                debug: settings.debug,\n                verbose: settings.verbose,\n                duration: settings.duration,\n                onComplete: function () {\n                  module.bind.close();\n                  callback.call($popup, element);\n                  settings.onVisible.call($popup, element);\n                }\n              });\n            } else {\n              module.error(error.noTransition);\n            }\n          },\n          hide: function (callback) {\n            callback = $.isFunction(callback) ? callback : function () {};\n            module.debug('Hiding pop-up');\n\n            if (settings.onHide.call($popup, element) === false) {\n              module.debug('onHide callback returned false, cancelling popup animation');\n              return;\n            }\n\n            if (settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n              $popup.transition({\n                animation: settings.transition + ' out',\n                queue: false,\n                duration: settings.duration,\n                debug: settings.debug,\n                verbose: settings.verbose,\n                onComplete: function () {\n                  module.reset();\n                  callback.call($popup, element);\n                  settings.onHidden.call($popup, element);\n                }\n              });\n            } else {\n              module.error(error.noTransition);\n            }\n          }\n        },\n        change: {\n          content: function (html) {\n            $popup.html(html);\n          }\n        },\n        get: {\n          html: function () {\n            $module.removeData(metadata.html);\n            return $module.data(metadata.html) || settings.html;\n          },\n          title: function () {\n            $module.removeData(metadata.title);\n            return $module.data(metadata.title) || settings.title;\n          },\n          content: function () {\n            $module.removeData(metadata.content);\n            return $module.data(metadata.content) || settings.content || $module.attr('title');\n          },\n          variation: function () {\n            $module.removeData(metadata.variation);\n            return $module.data(metadata.variation) || settings.variation;\n          },\n          popup: function () {\n            return $popup;\n          },\n          popupOffset: function () {\n            return $popup.offset();\n          },\n          calculations: function () {\n            var $popupOffsetParent = module.get.offsetParent($popup),\n                targetElement = $target[0],\n                isWindow = $boundary[0] == window,\n                targetPosition = settings.inline || settings.popup && settings.movePopup ? $target.position() : $target.offset(),\n                screenPosition = isWindow ? {\n              top: 0,\n              left: 0\n            } : $boundary.offset(),\n                calculations = {},\n                scroll = isWindow ? {\n              top: $window.scrollTop(),\n              left: $window.scrollLeft()\n            } : {\n              top: 0,\n              left: 0\n            },\n                screen;\n            calculations = {\n              // element which is launching popup\n              target: {\n                element: $target[0],\n                width: $target.outerWidth(),\n                height: $target.outerHeight(),\n                top: targetPosition.top,\n                left: targetPosition.left,\n                margin: {}\n              },\n              // popup itself\n              popup: {\n                width: $popup.outerWidth(),\n                height: $popup.outerHeight()\n              },\n              // offset container (or 3d context)\n              parent: {\n                width: $offsetParent.outerWidth(),\n                height: $offsetParent.outerHeight()\n              },\n              // screen boundaries\n              screen: {\n                top: screenPosition.top,\n                left: screenPosition.left,\n                scroll: {\n                  top: scroll.top,\n                  left: scroll.left\n                },\n                width: $boundary.width(),\n                height: $boundary.height()\n              }\n            }; // if popup offset context is not same as target, then adjust calculations\n\n            if ($popupOffsetParent.get(0) !== $offsetParent.get(0)) {\n              var popupOffset = $popupOffsetParent.offset();\n              calculations.target.top -= popupOffset.top;\n              calculations.target.left -= popupOffset.left;\n              calculations.parent.width = $popupOffsetParent.outerWidth();\n              calculations.parent.height = $popupOffsetParent.outerHeight();\n            } // add in container calcs if fluid\n\n\n            if (settings.setFluidWidth && module.is.fluid()) {\n              calculations.container = {\n                width: $popup.parent().outerWidth()\n              };\n              calculations.popup.width = calculations.container.width;\n            } // add in margins if inline\n\n\n            calculations.target.margin.top = settings.inline ? parseInt(window.getComputedStyle(targetElement).getPropertyValue('margin-top'), 10) : 0;\n            calculations.target.margin.left = settings.inline ? module.is.rtl() ? parseInt(window.getComputedStyle(targetElement).getPropertyValue('margin-right'), 10) : parseInt(window.getComputedStyle(targetElement).getPropertyValue('margin-left'), 10) : 0; // calculate screen boundaries\n\n            screen = calculations.screen;\n            calculations.boundary = {\n              top: screen.top + screen.scroll.top,\n              bottom: screen.top + screen.scroll.top + screen.height,\n              left: screen.left + screen.scroll.left,\n              right: screen.left + screen.scroll.left + screen.width\n            };\n            return calculations;\n          },\n          id: function () {\n            return id;\n          },\n          startEvent: function () {\n            if (settings.on == 'hover') {\n              return 'mouseenter';\n            } else if (settings.on == 'focus') {\n              return 'focus';\n            }\n\n            return false;\n          },\n          scrollEvent: function () {\n            return 'scroll';\n          },\n          endEvent: function () {\n            if (settings.on == 'hover') {\n              return 'mouseleave';\n            } else if (settings.on == 'focus') {\n              return 'blur';\n            }\n\n            return false;\n          },\n          distanceFromBoundary: function (offset, calculations) {\n            var distanceFromBoundary = {},\n                popup,\n                boundary;\n            calculations = calculations || module.get.calculations(); // shorthand\n\n            popup = calculations.popup;\n            boundary = calculations.boundary;\n\n            if (offset) {\n              distanceFromBoundary = {\n                top: offset.top - boundary.top,\n                left: offset.left - boundary.left,\n                right: boundary.right - (offset.left + popup.width),\n                bottom: boundary.bottom - (offset.top + popup.height)\n              };\n              module.verbose('Distance from boundaries determined', offset, distanceFromBoundary);\n            }\n\n            return distanceFromBoundary;\n          },\n          offsetParent: function ($element) {\n            var element = $element !== undefined ? $element[0] : $target[0],\n                parentNode = element.parentNode,\n                $node = $(parentNode);\n\n            if (parentNode) {\n              var is2D = $node.css('transform') === 'none',\n                  isStatic = $node.css('position') === 'static',\n                  isBody = $node.is('body');\n\n              while (parentNode && !isBody && isStatic && is2D) {\n                parentNode = parentNode.parentNode;\n                $node = $(parentNode);\n                is2D = $node.css('transform') === 'none';\n                isStatic = $node.css('position') === 'static';\n                isBody = $node.is('body');\n              }\n            }\n\n            return $node && $node.length > 0 ? $node : $();\n          },\n          positions: function () {\n            return {\n              'top left': false,\n              'top center': false,\n              'top right': false,\n              'bottom left': false,\n              'bottom center': false,\n              'bottom right': false,\n              'left center': false,\n              'right center': false\n            };\n          },\n          nextPosition: function (position) {\n            var positions = position.split(' '),\n                verticalPosition = positions[0],\n                horizontalPosition = positions[1],\n                opposite = {\n              top: 'bottom',\n              bottom: 'top',\n              left: 'right',\n              right: 'left'\n            },\n                adjacent = {\n              left: 'center',\n              center: 'right',\n              right: 'left'\n            },\n                backup = {\n              'top left': 'top center',\n              'top center': 'top right',\n              'top right': 'right center',\n              'right center': 'bottom right',\n              'bottom right': 'bottom center',\n              'bottom center': 'bottom left',\n              'bottom left': 'left center',\n              'left center': 'top left'\n            },\n                adjacentsAvailable = verticalPosition == 'top' || verticalPosition == 'bottom',\n                oppositeTried = false,\n                adjacentTried = false,\n                nextPosition = false;\n\n            if (!triedPositions) {\n              module.verbose('All available positions available');\n              triedPositions = module.get.positions();\n            }\n\n            module.debug('Recording last position tried', position);\n            triedPositions[position] = true;\n\n            if (settings.prefer === 'opposite') {\n              nextPosition = [opposite[verticalPosition], horizontalPosition];\n              nextPosition = nextPosition.join(' ');\n              oppositeTried = triedPositions[nextPosition] === true;\n              module.debug('Trying opposite strategy', nextPosition);\n            }\n\n            if (settings.prefer === 'adjacent' && adjacentsAvailable) {\n              nextPosition = [verticalPosition, adjacent[horizontalPosition]];\n              nextPosition = nextPosition.join(' ');\n              adjacentTried = triedPositions[nextPosition] === true;\n              module.debug('Trying adjacent strategy', nextPosition);\n            }\n\n            if (adjacentTried || oppositeTried) {\n              module.debug('Using backup position', nextPosition);\n              nextPosition = backup[position];\n            }\n\n            return nextPosition;\n          }\n        },\n        set: {\n          position: function (position, calculations) {\n            // exit conditions\n            if ($target.length === 0 || $popup.length === 0) {\n              module.error(error.notFound);\n              return;\n            }\n\n            var offset, distanceAway, target, popup, parent, positioning, popupOffset, distanceFromBoundary;\n            calculations = calculations || module.get.calculations();\n            position = position || $module.data(metadata.position) || settings.position;\n            offset = $module.data(metadata.offset) || settings.offset;\n            distanceAway = settings.distanceAway; // shorthand\n\n            target = calculations.target;\n            popup = calculations.popup;\n            parent = calculations.parent;\n\n            if (module.should.centerArrow(calculations)) {\n              module.verbose('Adjusting offset to center arrow on small target element');\n\n              if (position == 'top left' || position == 'bottom left') {\n                offset += target.width / 2;\n                offset -= settings.arrowPixelsFromEdge;\n              }\n\n              if (position == 'top right' || position == 'bottom right') {\n                offset -= target.width / 2;\n                offset += settings.arrowPixelsFromEdge;\n              }\n            }\n\n            if (target.width === 0 && target.height === 0 && !module.is.svg(target.element)) {\n              module.debug('Popup target is hidden, no action taken');\n              return false;\n            }\n\n            if (settings.inline) {\n              module.debug('Adding margin to calculation', target.margin);\n\n              if (position == 'left center' || position == 'right center') {\n                offset += target.margin.top;\n                distanceAway += -target.margin.left;\n              } else if (position == 'top left' || position == 'top center' || position == 'top right') {\n                offset += target.margin.left;\n                distanceAway -= target.margin.top;\n              } else {\n                offset += target.margin.left;\n                distanceAway += target.margin.top;\n              }\n            }\n\n            module.debug('Determining popup position from calculations', position, calculations);\n\n            if (module.is.rtl()) {\n              position = position.replace(/left|right/g, function (match) {\n                return match == 'left' ? 'right' : 'left';\n              });\n              module.debug('RTL: Popup position updated', position);\n            } // if last attempt use specified last resort position\n\n\n            if (searchDepth == settings.maxSearchDepth && typeof settings.lastResort === 'string') {\n              position = settings.lastResort;\n            }\n\n            switch (position) {\n              case 'top left':\n                positioning = {\n                  top: 'auto',\n                  bottom: parent.height - target.top + distanceAway,\n                  left: target.left + offset,\n                  right: 'auto'\n                };\n                break;\n\n              case 'top center':\n                positioning = {\n                  bottom: parent.height - target.top + distanceAway,\n                  left: target.left + target.width / 2 - popup.width / 2 + offset,\n                  top: 'auto',\n                  right: 'auto'\n                };\n                break;\n\n              case 'top right':\n                positioning = {\n                  bottom: parent.height - target.top + distanceAway,\n                  right: parent.width - target.left - target.width - offset,\n                  top: 'auto',\n                  left: 'auto'\n                };\n                break;\n\n              case 'left center':\n                positioning = {\n                  top: target.top + target.height / 2 - popup.height / 2 + offset,\n                  right: parent.width - target.left + distanceAway,\n                  left: 'auto',\n                  bottom: 'auto'\n                };\n                break;\n\n              case 'right center':\n                positioning = {\n                  top: target.top + target.height / 2 - popup.height / 2 + offset,\n                  left: target.left + target.width + distanceAway,\n                  bottom: 'auto',\n                  right: 'auto'\n                };\n                break;\n\n              case 'bottom left':\n                positioning = {\n                  top: target.top + target.height + distanceAway,\n                  left: target.left + offset,\n                  bottom: 'auto',\n                  right: 'auto'\n                };\n                break;\n\n              case 'bottom center':\n                positioning = {\n                  top: target.top + target.height + distanceAway,\n                  left: target.left + target.width / 2 - popup.width / 2 + offset,\n                  bottom: 'auto',\n                  right: 'auto'\n                };\n                break;\n\n              case 'bottom right':\n                positioning = {\n                  top: target.top + target.height + distanceAway,\n                  right: parent.width - target.left - target.width - offset,\n                  left: 'auto',\n                  bottom: 'auto'\n                };\n                break;\n            }\n\n            if (positioning === undefined) {\n              module.error(error.invalidPosition, position);\n            }\n\n            module.debug('Calculated popup positioning values', positioning); // tentatively place on stage\n\n            $popup.css(positioning).removeClass(className.position).addClass(position).addClass(className.loading);\n            popupOffset = module.get.popupOffset(); // see if any boundaries are surpassed with this tentative position\n\n            distanceFromBoundary = module.get.distanceFromBoundary(popupOffset, calculations);\n\n            if (module.is.offstage(distanceFromBoundary, position)) {\n              module.debug('Position is outside viewport', position);\n\n              if (searchDepth < settings.maxSearchDepth) {\n                searchDepth++;\n                position = module.get.nextPosition(position);\n                module.debug('Trying new position', position);\n                return $popup ? module.set.position(position, calculations) : false;\n              } else {\n                if (settings.lastResort) {\n                  module.debug('No position found, showing with last position');\n                } else {\n                  module.debug('Popup could not find a position to display', $popup);\n                  module.error(error.cannotPlace, element);\n                  module.remove.attempts();\n                  module.remove.loading();\n                  module.reset();\n                  settings.onUnplaceable.call($popup, element);\n                  return false;\n                }\n              }\n            }\n\n            module.debug('Position is on stage', position);\n            module.remove.attempts();\n            module.remove.loading();\n\n            if (settings.setFluidWidth && module.is.fluid()) {\n              module.set.fluidWidth(calculations);\n            }\n\n            return true;\n          },\n          fluidWidth: function (calculations) {\n            calculations = calculations || module.get.calculations();\n            module.debug('Automatically setting element width to parent width', calculations.parent.width);\n            $popup.css('width', calculations.container.width);\n          },\n          variation: function (variation) {\n            variation = variation || module.get.variation();\n\n            if (variation && module.has.popup()) {\n              module.verbose('Adding variation to popup', variation);\n              $popup.addClass(variation);\n            }\n          },\n          visible: function () {\n            $module.addClass(className.visible);\n          }\n        },\n        remove: {\n          loading: function () {\n            $popup.removeClass(className.loading);\n          },\n          variation: function (variation) {\n            variation = variation || module.get.variation();\n\n            if (variation) {\n              module.verbose('Removing variation', variation);\n              $popup.removeClass(variation);\n            }\n          },\n          visible: function () {\n            $module.removeClass(className.visible);\n          },\n          attempts: function () {\n            module.verbose('Resetting all searched positions');\n            searchDepth = 0;\n            triedPositions = false;\n          }\n        },\n        bind: {\n          events: function () {\n            module.debug('Binding popup events to module');\n\n            if (settings.on == 'click') {\n              $module.on('click' + eventNamespace, module.toggle);\n            }\n\n            if (settings.on == 'hover' && hasTouch) {\n              $module.on('touchstart' + eventNamespace, module.event.touchstart);\n            }\n\n            if (module.get.startEvent()) {\n              $module.on(module.get.startEvent() + eventNamespace, module.event.start).on(module.get.endEvent() + eventNamespace, module.event.end);\n            }\n\n            if (settings.target) {\n              module.debug('Target set to element', $target);\n            }\n\n            $window.on('resize' + elementNamespace, module.event.resize);\n          },\n          popup: function () {\n            module.verbose('Allowing hover events on popup to prevent closing');\n\n            if ($popup && module.has.popup()) {\n              $popup.on('mouseenter' + eventNamespace, module.event.start).on('mouseleave' + eventNamespace, module.event.end);\n            }\n          },\n          close: function () {\n            if (settings.hideOnScroll === true || settings.hideOnScroll == 'auto' && settings.on != 'click') {\n              module.bind.closeOnScroll();\n            }\n\n            if (settings.on == 'hover' && openedWithTouch) {\n              module.bind.touchClose();\n            }\n\n            if (settings.on == 'click' && settings.closable) {\n              module.bind.clickaway();\n            }\n          },\n          closeOnScroll: function () {\n            module.verbose('Binding scroll close event to document');\n            $scrollContext.one(module.get.scrollEvent() + elementNamespace, module.event.hideGracefully);\n          },\n          touchClose: function () {\n            module.verbose('Binding popup touchclose event to document');\n            $document.on('touchstart' + elementNamespace, function (event) {\n              module.verbose('Touched away from popup');\n              module.event.hideGracefully.call(element, event);\n            });\n          },\n          clickaway: function () {\n            module.verbose('Binding popup close event to document');\n            $document.on('click' + elementNamespace, function (event) {\n              module.verbose('Clicked away from popup');\n              module.event.hideGracefully.call(element, event);\n            });\n          }\n        },\n        unbind: {\n          events: function () {\n            $window.off(elementNamespace);\n            $module.off(eventNamespace);\n          },\n          close: function () {\n            $document.off(elementNamespace);\n            $scrollContext.off(elementNamespace);\n          }\n        },\n        has: {\n          popup: function () {\n            return $popup && $popup.length > 0;\n          }\n        },\n        should: {\n          centerArrow: function (calculations) {\n            return !module.is.basic() && calculations.target.width <= settings.arrowPixelsFromEdge * 2;\n          }\n        },\n        is: {\n          offstage: function (distanceFromBoundary, position) {\n            var offstage = []; // return boundaries that have been surpassed\n\n            $.each(distanceFromBoundary, function (direction, distance) {\n              if (distance < -settings.jitter) {\n                module.debug('Position exceeds allowable distance from edge', direction, distance, position);\n                offstage.push(direction);\n              }\n            });\n\n            if (offstage.length > 0) {\n              return true;\n            } else {\n              return false;\n            }\n          },\n          svg: function (element) {\n            return module.supports.svg() && element instanceof SVGGraphicsElement;\n          },\n          basic: function () {\n            return $module.hasClass(className.basic);\n          },\n          active: function () {\n            return $module.hasClass(className.active);\n          },\n          animating: function () {\n            return $popup !== undefined && $popup.hasClass(className.animating);\n          },\n          fluid: function () {\n            return $popup !== undefined && $popup.hasClass(className.fluid);\n          },\n          visible: function () {\n            return $popup !== undefined && $popup.hasClass(className.popupVisible);\n          },\n          dropdown: function () {\n            return $module.hasClass(className.dropdown);\n          },\n          hidden: function () {\n            return !module.is.visible();\n          },\n          rtl: function () {\n            return $module.css('direction') == 'rtl';\n          }\n        },\n        reset: function () {\n          module.remove.visible();\n\n          if (settings.preserve) {\n            if ($.fn.transition !== undefined) {\n              $popup.transition('remove transition');\n            }\n          } else {\n            module.removePopup();\n          }\n        },\n        setting: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            settings[name] = value;\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.popup.settings = {\n    name: 'Popup',\n    // module settings\n    silent: false,\n    debug: false,\n    verbose: false,\n    performance: true,\n    namespace: 'popup',\n    // whether it should use dom mutation observers\n    observeChanges: true,\n    // callback only when element added to dom\n    onCreate: function () {},\n    // callback before element removed from dom\n    onRemove: function () {},\n    // callback before show animation\n    onShow: function () {},\n    // callback after show animation\n    onVisible: function () {},\n    // callback before hide animation\n    onHide: function () {},\n    // callback when popup cannot be positioned in visible screen\n    onUnplaceable: function () {},\n    // callback after hide animation\n    onHidden: function () {},\n    // when to show popup\n    on: 'hover',\n    // element to use to determine if popup is out of boundary\n    boundary: window,\n    // whether to add touchstart events when using hover\n    addTouchEvents: true,\n    // default position relative to element\n    position: 'top left',\n    // name of variation to use\n    variation: '',\n    // whether popup should be moved to context\n    movePopup: true,\n    // element which popup should be relative to\n    target: false,\n    // jq selector or element that should be used as popup\n    popup: false,\n    // popup should remain inline next to activator\n    inline: false,\n    // popup should be removed from page on hide\n    preserve: false,\n    // popup should not close when being hovered on\n    hoverable: false,\n    // explicitly set content\n    content: false,\n    // explicitly set html\n    html: false,\n    // explicitly set title\n    title: false,\n    // whether automatically close on clickaway when on click\n    closable: true,\n    // automatically hide on scroll\n    hideOnScroll: 'auto',\n    // hide other popups on show\n    exclusive: false,\n    // context to attach popups\n    context: 'body',\n    // context for binding scroll events\n    scrollContext: window,\n    // position to prefer when calculating new position\n    prefer: 'opposite',\n    // specify position to appear even if it doesn't fit\n    lastResort: false,\n    // number of pixels from edge of popup to pointing arrow center (used from centering)\n    arrowPixelsFromEdge: 20,\n    // delay used to prevent accidental refiring of animations due to user error\n    delay: {\n      show: 50,\n      hide: 70\n    },\n    // whether fluid variation should assign width explicitly\n    setFluidWidth: true,\n    // transition settings\n    duration: 200,\n    transition: 'scale',\n    // distance away from activating element in px\n    distanceAway: 0,\n    // number of pixels an element is allowed to be \"offstage\" for a position to be chosen (allows for rounding)\n    jitter: 2,\n    // offset on aligning axis from calculated position\n    offset: 0,\n    // maximum times to look for a position before failing (9 positions total)\n    maxSearchDepth: 15,\n    error: {\n      invalidPosition: 'The position you specified is not a valid position',\n      cannotPlace: 'Popup does not fit within the boundaries of the viewport',\n      method: 'The method you called is not defined.',\n      noTransition: 'This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>',\n      notFound: 'The target or popup you specified does not exist on the page'\n    },\n    metadata: {\n      activator: 'activator',\n      content: 'content',\n      html: 'html',\n      offset: 'offset',\n      position: 'position',\n      title: 'title',\n      variation: 'variation'\n    },\n    className: {\n      active: 'active',\n      basic: 'basic',\n      animating: 'animating',\n      dropdown: 'dropdown',\n      fluid: 'fluid',\n      loading: 'loading',\n      popup: 'ui popup',\n      position: 'top left center bottom right',\n      visible: 'visible',\n      popupVisible: 'visible'\n    },\n    selector: {\n      popup: '.ui.popup'\n    },\n    templates: {\n      escape: function (string) {\n        var badChars = /[&<>\"'`]/g,\n            shouldEscape = /[&<>\"'`]/,\n            escape = {\n          \"&\": \"&amp;\",\n          \"<\": \"&lt;\",\n          \">\": \"&gt;\",\n          '\"': \"&quot;\",\n          \"'\": \"&#x27;\",\n          \"`\": \"&#x60;\"\n        },\n            escapedChar = function (chr) {\n          return escape[chr];\n        };\n\n        if (shouldEscape.test(string)) {\n          return string.replace(badChars, escapedChar);\n        }\n\n        return string;\n      },\n      popup: function (text) {\n        var html = '',\n            escape = $.fn.popup.settings.templates.escape;\n\n        if (typeof text !== undefined) {\n          if (typeof text.title !== undefined && text.title) {\n            text.title = escape(text.title);\n            html += '<div class=\"header\">' + text.title + '</div>';\n          }\n\n          if (typeof text.content !== undefined && text.content) {\n            text.content = escape(text.content);\n            html += '<div class=\"content\">' + text.content + '</div>';\n          }\n        }\n\n        return html;\n      }\n    }\n  };\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"progress.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/modules/progress.js                                                                        //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * # Semantic UI - Progress\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n  var global = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.progress = function (parameters) {\n    var $allModules = $(this),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue;\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.progress.settings, parameters) : $.extend({}, $.fn.progress.settings),\n          className = settings.className,\n          metadata = settings.metadata,\n          namespace = settings.namespace,\n          selector = settings.selector,\n          error = settings.error,\n          eventNamespace = '.' + namespace,\n          moduleNamespace = 'module-' + namespace,\n          $module = $(this),\n          $bar = $(this).find(selector.bar),\n          $progress = $(this).find(selector.progress),\n          $label = $(this).find(selector.label),\n          element = this,\n          instance = $module.data(moduleNamespace),\n          animating = false,\n          transitionEnd,\n          module;\n      module = {\n        initialize: function () {\n          module.debug('Initializing progress bar', settings);\n          module.set.duration();\n          module.set.transitionEvent();\n          module.read.metadata();\n          module.read.settings();\n          module.instantiate();\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of progress', module);\n          instance = module;\n          $module.data(moduleNamespace, module);\n        },\n        destroy: function () {\n          module.verbose('Destroying previous progress for', $module);\n          clearInterval(instance.interval);\n          module.remove.state();\n          $module.removeData(moduleNamespace);\n          instance = undefined;\n        },\n        reset: function () {\n          module.remove.nextValue();\n          module.update.progress(0);\n        },\n        complete: function () {\n          if (module.percent === undefined || module.percent < 100) {\n            module.remove.progressPoll();\n            module.set.percent(100);\n          }\n        },\n        read: {\n          metadata: function () {\n            var data = {\n              percent: $module.data(metadata.percent),\n              total: $module.data(metadata.total),\n              value: $module.data(metadata.value)\n            };\n\n            if (data.percent) {\n              module.debug('Current percent value set from metadata', data.percent);\n              module.set.percent(data.percent);\n            }\n\n            if (data.total) {\n              module.debug('Total value set from metadata', data.total);\n              module.set.total(data.total);\n            }\n\n            if (data.value) {\n              module.debug('Current value set from metadata', data.value);\n              module.set.value(data.value);\n              module.set.progress(data.value);\n            }\n          },\n          settings: function () {\n            if (settings.total !== false) {\n              module.debug('Current total set in settings', settings.total);\n              module.set.total(settings.total);\n            }\n\n            if (settings.value !== false) {\n              module.debug('Current value set in settings', settings.value);\n              module.set.value(settings.value);\n              module.set.progress(module.value);\n            }\n\n            if (settings.percent !== false) {\n              module.debug('Current percent set in settings', settings.percent);\n              module.set.percent(settings.percent);\n            }\n          }\n        },\n        bind: {\n          transitionEnd: function (callback) {\n            var transitionEnd = module.get.transitionEnd();\n            $bar.one(transitionEnd + eventNamespace, function (event) {\n              clearTimeout(module.failSafeTimer);\n              callback.call(this, event);\n            });\n            module.failSafeTimer = setTimeout(function () {\n              $bar.triggerHandler(transitionEnd);\n            }, settings.duration + settings.failSafeDelay);\n            module.verbose('Adding fail safe timer', module.timer);\n          }\n        },\n        increment: function (incrementValue) {\n          var maxValue, startValue, newValue;\n\n          if (module.has.total()) {\n            startValue = module.get.value();\n            incrementValue = incrementValue || 1;\n            newValue = startValue + incrementValue;\n          } else {\n            startValue = module.get.percent();\n            incrementValue = incrementValue || module.get.randomValue();\n            newValue = startValue + incrementValue;\n            maxValue = 100;\n            module.debug('Incrementing percentage by', startValue, newValue);\n          }\n\n          newValue = module.get.normalizedValue(newValue);\n          module.set.progress(newValue);\n        },\n        decrement: function (decrementValue) {\n          var total = module.get.total(),\n              startValue,\n              newValue;\n\n          if (total) {\n            startValue = module.get.value();\n            decrementValue = decrementValue || 1;\n            newValue = startValue - decrementValue;\n            module.debug('Decrementing value by', decrementValue, startValue);\n          } else {\n            startValue = module.get.percent();\n            decrementValue = decrementValue || module.get.randomValue();\n            newValue = startValue - decrementValue;\n            module.debug('Decrementing percentage by', decrementValue, startValue);\n          }\n\n          newValue = module.get.normalizedValue(newValue);\n          module.set.progress(newValue);\n        },\n        has: {\n          progressPoll: function () {\n            return module.progressPoll;\n          },\n          total: function () {\n            return module.get.total() !== false;\n          }\n        },\n        get: {\n          text: function (templateText) {\n            var value = module.value || 0,\n                total = module.total || 0,\n                percent = animating ? module.get.displayPercent() : module.percent || 0,\n                left = module.total > 0 ? total - value : 100 - percent;\n            templateText = templateText || '';\n            templateText = templateText.replace('{value}', value).replace('{total}', total).replace('{left}', left).replace('{percent}', percent);\n            module.verbose('Adding variables to progress bar text', templateText);\n            return templateText;\n          },\n          normalizedValue: function (value) {\n            if (value < 0) {\n              module.debug('Value cannot decrement below 0');\n              return 0;\n            }\n\n            if (module.has.total()) {\n              if (value > module.total) {\n                module.debug('Value cannot increment above total', module.total);\n                return module.total;\n              }\n            } else if (value > 100) {\n              module.debug('Value cannot increment above 100 percent');\n              return 100;\n            }\n\n            return value;\n          },\n          updateInterval: function () {\n            if (settings.updateInterval == 'auto') {\n              return settings.duration;\n            }\n\n            return settings.updateInterval;\n          },\n          randomValue: function () {\n            module.debug('Generating random increment percentage');\n            return Math.floor(Math.random() * settings.random.max + settings.random.min);\n          },\n          numericValue: function (value) {\n            return typeof value === 'string' ? value.replace(/[^\\d.]/g, '') !== '' ? +value.replace(/[^\\d.]/g, '') : false : value;\n          },\n          transitionEnd: function () {\n            var element = document.createElement('element'),\n                transitions = {\n              'transition': 'transitionend',\n              'OTransition': 'oTransitionEnd',\n              'MozTransition': 'transitionend',\n              'WebkitTransition': 'webkitTransitionEnd'\n            },\n                transition;\n\n            for (transition in transitions) {\n              if (element.style[transition] !== undefined) {\n                return transitions[transition];\n              }\n            }\n          },\n          // gets current displayed percentage (if animating values this is the intermediary value)\n          displayPercent: function () {\n            var barWidth = $bar.width(),\n                totalWidth = $module.width(),\n                minDisplay = parseInt($bar.css('min-width'), 10),\n                displayPercent = barWidth > minDisplay ? barWidth / totalWidth * 100 : module.percent;\n            return settings.precision > 0 ? Math.round(displayPercent * (10 * settings.precision)) / (10 * settings.precision) : Math.round(displayPercent);\n          },\n          percent: function () {\n            return module.percent || 0;\n          },\n          value: function () {\n            return module.nextValue || module.value || 0;\n          },\n          total: function () {\n            return module.total || false;\n          }\n        },\n        create: {\n          progressPoll: function () {\n            module.progressPoll = setTimeout(function () {\n              module.update.toNextValue();\n              module.remove.progressPoll();\n            }, module.get.updateInterval());\n          }\n        },\n        is: {\n          complete: function () {\n            return module.is.success() || module.is.warning() || module.is.error();\n          },\n          success: function () {\n            return $module.hasClass(className.success);\n          },\n          warning: function () {\n            return $module.hasClass(className.warning);\n          },\n          error: function () {\n            return $module.hasClass(className.error);\n          },\n          active: function () {\n            return $module.hasClass(className.active);\n          },\n          visible: function () {\n            return $module.is(':visible');\n          }\n        },\n        remove: {\n          progressPoll: function () {\n            module.verbose('Removing progress poll timer');\n\n            if (module.progressPoll) {\n              clearTimeout(module.progressPoll);\n              delete module.progressPoll;\n            }\n          },\n          nextValue: function () {\n            module.verbose('Removing progress value stored for next update');\n            delete module.nextValue;\n          },\n          state: function () {\n            module.verbose('Removing stored state');\n            delete module.total;\n            delete module.percent;\n            delete module.value;\n          },\n          active: function () {\n            module.verbose('Removing active state');\n            $module.removeClass(className.active);\n          },\n          success: function () {\n            module.verbose('Removing success state');\n            $module.removeClass(className.success);\n          },\n          warning: function () {\n            module.verbose('Removing warning state');\n            $module.removeClass(className.warning);\n          },\n          error: function () {\n            module.verbose('Removing error state');\n            $module.removeClass(className.error);\n          }\n        },\n        set: {\n          barWidth: function (value) {\n            if (value > 100) {\n              module.error(error.tooHigh, value);\n            } else if (value < 0) {\n              module.error(error.tooLow, value);\n            } else {\n              $bar.css('width', value + '%');\n              $module.attr('data-percent', parseInt(value, 10));\n            }\n          },\n          duration: function (duration) {\n            duration = duration || settings.duration;\n            duration = typeof duration == 'number' ? duration + 'ms' : duration;\n            module.verbose('Setting progress bar transition duration', duration);\n            $bar.css({\n              'transition-duration': duration\n            });\n          },\n          percent: function (percent) {\n            percent = typeof percent == 'string' ? +percent.replace('%', '') : percent; // round display percentage\n\n            percent = settings.precision > 0 ? Math.round(percent * (10 * settings.precision)) / (10 * settings.precision) : Math.round(percent);\n            module.percent = percent;\n\n            if (!module.has.total()) {\n              module.value = settings.precision > 0 ? Math.round(percent / 100 * module.total * (10 * settings.precision)) / (10 * settings.precision) : Math.round(percent / 100 * module.total * 10) / 10;\n\n              if (settings.limitValues) {\n                module.value = module.value > 100 ? 100 : module.value < 0 ? 0 : module.value;\n              }\n            }\n\n            module.set.barWidth(percent);\n            module.set.labelInterval();\n            module.set.labels();\n            settings.onChange.call(element, percent, module.value, module.total);\n          },\n          labelInterval: function () {\n            var animationCallback = function () {\n              module.verbose('Bar finished animating, removing continuous label updates');\n              clearInterval(module.interval);\n              animating = false;\n              module.set.labels();\n            };\n\n            clearInterval(module.interval);\n            module.bind.transitionEnd(animationCallback);\n            animating = true;\n            module.interval = setInterval(function () {\n              var isInDOM = $.contains(document.documentElement, element);\n\n              if (!isInDOM) {\n                clearInterval(module.interval);\n                animating = false;\n              }\n\n              module.set.labels();\n            }, settings.framerate);\n          },\n          labels: function () {\n            module.verbose('Setting both bar progress and outer label text');\n            module.set.barLabel();\n            module.set.state();\n          },\n          label: function (text) {\n            text = text || '';\n\n            if (text) {\n              text = module.get.text(text);\n              module.verbose('Setting label to text', text);\n              $label.text(text);\n            }\n          },\n          state: function (percent) {\n            percent = percent !== undefined ? percent : module.percent;\n\n            if (percent === 100) {\n              if (settings.autoSuccess && !(module.is.warning() || module.is.error() || module.is.success())) {\n                module.set.success();\n                module.debug('Automatically triggering success at 100%');\n              } else {\n                module.verbose('Reached 100% removing active state');\n                module.remove.active();\n                module.remove.progressPoll();\n              }\n            } else if (percent > 0) {\n              module.verbose('Adjusting active progress bar label', percent);\n              module.set.active();\n            } else {\n              module.remove.active();\n              module.set.label(settings.text.active);\n            }\n          },\n          barLabel: function (text) {\n            if (text !== undefined) {\n              $progress.text(module.get.text(text));\n            } else if (settings.label == 'ratio' && module.total) {\n              module.verbose('Adding ratio to bar label');\n              $progress.text(module.get.text(settings.text.ratio));\n            } else if (settings.label == 'percent') {\n              module.verbose('Adding percentage to bar label');\n              $progress.text(module.get.text(settings.text.percent));\n            }\n          },\n          active: function (text) {\n            text = text || settings.text.active;\n            module.debug('Setting active state');\n\n            if (settings.showActivity && !module.is.active()) {\n              $module.addClass(className.active);\n            }\n\n            module.remove.warning();\n            module.remove.error();\n            module.remove.success();\n            text = settings.onLabelUpdate('active', text, module.value, module.total);\n\n            if (text) {\n              module.set.label(text);\n            }\n\n            module.bind.transitionEnd(function () {\n              settings.onActive.call(element, module.value, module.total);\n            });\n          },\n          success: function (text) {\n            text = text || settings.text.success || settings.text.active;\n            module.debug('Setting success state');\n            $module.addClass(className.success);\n            module.remove.active();\n            module.remove.warning();\n            module.remove.error();\n            module.complete();\n\n            if (settings.text.success) {\n              text = settings.onLabelUpdate('success', text, module.value, module.total);\n              module.set.label(text);\n            } else {\n              text = settings.onLabelUpdate('active', text, module.value, module.total);\n              module.set.label(text);\n            }\n\n            module.bind.transitionEnd(function () {\n              settings.onSuccess.call(element, module.total);\n            });\n          },\n          warning: function (text) {\n            text = text || settings.text.warning;\n            module.debug('Setting warning state');\n            $module.addClass(className.warning);\n            module.remove.active();\n            module.remove.success();\n            module.remove.error();\n            module.complete();\n            text = settings.onLabelUpdate('warning', text, module.value, module.total);\n\n            if (text) {\n              module.set.label(text);\n            }\n\n            module.bind.transitionEnd(function () {\n              settings.onWarning.call(element, module.value, module.total);\n            });\n          },\n          error: function (text) {\n            text = text || settings.text.error;\n            module.debug('Setting error state');\n            $module.addClass(className.error);\n            module.remove.active();\n            module.remove.success();\n            module.remove.warning();\n            module.complete();\n            text = settings.onLabelUpdate('error', text, module.value, module.total);\n\n            if (text) {\n              module.set.label(text);\n            }\n\n            module.bind.transitionEnd(function () {\n              settings.onError.call(element, module.value, module.total);\n            });\n          },\n          transitionEvent: function () {\n            transitionEnd = module.get.transitionEnd();\n          },\n          total: function (totalValue) {\n            module.total = totalValue;\n          },\n          value: function (value) {\n            module.value = value;\n          },\n          progress: function (value) {\n            if (!module.has.progressPoll()) {\n              module.debug('First update in progress update interval, immediately updating', value);\n              module.update.progress(value);\n              module.create.progressPoll();\n            } else {\n              module.debug('Updated within interval, setting next update to use new value', value);\n              module.set.nextValue(value);\n            }\n          },\n          nextValue: function (value) {\n            module.nextValue = value;\n          }\n        },\n        update: {\n          toNextValue: function () {\n            var nextValue = module.nextValue;\n\n            if (nextValue) {\n              module.debug('Update interval complete using last updated value', nextValue);\n              module.update.progress(nextValue);\n              module.remove.nextValue();\n            }\n          },\n          progress: function (value) {\n            var percentComplete;\n            value = module.get.numericValue(value);\n\n            if (value === false) {\n              module.error(error.nonNumeric, value);\n            }\n\n            value = module.get.normalizedValue(value);\n\n            if (module.has.total()) {\n              module.set.value(value);\n              percentComplete = value / module.total * 100;\n              module.debug('Calculating percent complete from total', percentComplete);\n              module.set.percent(percentComplete);\n            } else {\n              percentComplete = value;\n              module.debug('Setting value to exact percentage value', percentComplete);\n              module.set.percent(percentComplete);\n            }\n          }\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.progress.settings = {\n    name: 'Progress',\n    namespace: 'progress',\n    silent: false,\n    debug: false,\n    verbose: false,\n    performance: true,\n    random: {\n      min: 2,\n      max: 5\n    },\n    duration: 300,\n    updateInterval: 'auto',\n    autoSuccess: true,\n    showActivity: true,\n    limitValues: true,\n    label: 'percent',\n    precision: 0,\n    framerate: 1000 / 30,\n    /// 30 fps\n    percent: false,\n    total: false,\n    value: false,\n    // delay in ms for fail safe animation callback\n    failSafeDelay: 100,\n    onLabelUpdate: function (state, text, value, total) {\n      return text;\n    },\n    onChange: function (percent, value, total) {},\n    onSuccess: function (total) {},\n    onActive: function (value, total) {},\n    onError: function (value, total) {},\n    onWarning: function (value, total) {},\n    error: {\n      method: 'The method you called is not defined.',\n      nonNumeric: 'Progress value is non numeric',\n      tooHigh: 'Value specified is above 100%',\n      tooLow: 'Value specified is below 0%'\n    },\n    regExp: {\n      variable: /\\{\\$*[A-z0-9]+\\}/g\n    },\n    metadata: {\n      percent: 'percent',\n      total: 'total',\n      value: 'value'\n    },\n    selector: {\n      bar: '> .bar',\n      label: '> .label',\n      progress: '.bar > .progress'\n    },\n    text: {\n      active: false,\n      error: false,\n      success: false,\n      warning: false,\n      percent: '{percent}%',\n      ratio: '{value} of {total}'\n    },\n    className: {\n      active: 'active',\n      error: 'error',\n      success: 'success',\n      warning: 'warning'\n    }\n  };\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"rating.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/modules/rating.js                                                                          //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * # Semantic UI - Rating\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.rating = function (parameters) {\n    var $allModules = $(this),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue;\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.rating.settings, parameters) : $.extend({}, $.fn.rating.settings),\n          namespace = settings.namespace,\n          className = settings.className,\n          metadata = settings.metadata,\n          selector = settings.selector,\n          error = settings.error,\n          eventNamespace = '.' + namespace,\n          moduleNamespace = 'module-' + namespace,\n          element = this,\n          instance = $(this).data(moduleNamespace),\n          $module = $(this),\n          $icon = $module.find(selector.icon),\n          initialLoad,\n          module;\n      module = {\n        initialize: function () {\n          module.verbose('Initializing rating module', settings);\n\n          if ($icon.length === 0) {\n            module.setup.layout();\n          }\n\n          if (settings.interactive) {\n            module.enable();\n          } else {\n            module.disable();\n          }\n\n          module.set.initialLoad();\n          module.set.rating(module.get.initialRating());\n          module.remove.initialLoad();\n          module.instantiate();\n        },\n        instantiate: function () {\n          module.verbose('Instantiating module', settings);\n          instance = module;\n          $module.data(moduleNamespace, module);\n        },\n        destroy: function () {\n          module.verbose('Destroying previous instance', instance);\n          module.remove.events();\n          $module.removeData(moduleNamespace);\n        },\n        refresh: function () {\n          $icon = $module.find(selector.icon);\n        },\n        setup: {\n          layout: function () {\n            var maxRating = module.get.maxRating(),\n                html = $.fn.rating.settings.templates.icon(maxRating);\n            module.debug('Generating icon html dynamically');\n            $module.html(html);\n            module.refresh();\n          }\n        },\n        event: {\n          mouseenter: function () {\n            var $activeIcon = $(this);\n            $activeIcon.nextAll().removeClass(className.selected);\n            $module.addClass(className.selected);\n            $activeIcon.addClass(className.selected).prevAll().addClass(className.selected);\n          },\n          mouseleave: function () {\n            $module.removeClass(className.selected);\n            $icon.removeClass(className.selected);\n          },\n          click: function () {\n            var $activeIcon = $(this),\n                currentRating = module.get.rating(),\n                rating = $icon.index($activeIcon) + 1,\n                canClear = settings.clearable == 'auto' ? $icon.length === 1 : settings.clearable;\n\n            if (canClear && currentRating == rating) {\n              module.clearRating();\n            } else {\n              module.set.rating(rating);\n            }\n          }\n        },\n        clearRating: function () {\n          module.debug('Clearing current rating');\n          module.set.rating(0);\n        },\n        bind: {\n          events: function () {\n            module.verbose('Binding events');\n            $module.on('mouseenter' + eventNamespace, selector.icon, module.event.mouseenter).on('mouseleave' + eventNamespace, selector.icon, module.event.mouseleave).on('click' + eventNamespace, selector.icon, module.event.click);\n          }\n        },\n        remove: {\n          events: function () {\n            module.verbose('Removing events');\n            $module.off(eventNamespace);\n          },\n          initialLoad: function () {\n            initialLoad = false;\n          }\n        },\n        enable: function () {\n          module.debug('Setting rating to interactive mode');\n          module.bind.events();\n          $module.removeClass(className.disabled);\n        },\n        disable: function () {\n          module.debug('Setting rating to read-only mode');\n          module.remove.events();\n          $module.addClass(className.disabled);\n        },\n        is: {\n          initialLoad: function () {\n            return initialLoad;\n          }\n        },\n        get: {\n          initialRating: function () {\n            if ($module.data(metadata.rating) !== undefined) {\n              $module.removeData(metadata.rating);\n              return $module.data(metadata.rating);\n            }\n\n            return settings.initialRating;\n          },\n          maxRating: function () {\n            if ($module.data(metadata.maxRating) !== undefined) {\n              $module.removeData(metadata.maxRating);\n              return $module.data(metadata.maxRating);\n            }\n\n            return settings.maxRating;\n          },\n          rating: function () {\n            var currentRating = $icon.filter('.' + className.active).length;\n            module.verbose('Current rating retrieved', currentRating);\n            return currentRating;\n          }\n        },\n        set: {\n          rating: function (rating) {\n            var ratingIndex = rating - 1 >= 0 ? rating - 1 : 0,\n                $activeIcon = $icon.eq(ratingIndex);\n            $module.removeClass(className.selected);\n            $icon.removeClass(className.selected).removeClass(className.active);\n\n            if (rating > 0) {\n              module.verbose('Setting current rating to', rating);\n              $activeIcon.prevAll().addBack().addClass(className.active);\n            }\n\n            if (!module.is.initialLoad()) {\n              settings.onRate.call(element, rating);\n            }\n          },\n          initialLoad: function () {\n            initialLoad = true;\n          }\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.rating.settings = {\n    name: 'Rating',\n    namespace: 'rating',\n    slent: false,\n    debug: false,\n    verbose: false,\n    performance: true,\n    initialRating: 0,\n    interactive: true,\n    maxRating: 4,\n    clearable: 'auto',\n    fireOnInit: false,\n    onRate: function (rating) {},\n    error: {\n      method: 'The method you called is not defined',\n      noMaximum: 'No maximum rating specified. Cannot generate HTML automatically'\n    },\n    metadata: {\n      rating: 'rating',\n      maxRating: 'maxRating'\n    },\n    className: {\n      active: 'active',\n      disabled: 'disabled',\n      selected: 'selected',\n      loading: 'loading'\n    },\n    selector: {\n      icon: '.icon'\n    },\n    templates: {\n      icon: function (maxRating) {\n        var icon = 1,\n            html = '';\n\n        while (icon <= maxRating) {\n          html += '<i class=\"icon\"></i>';\n          icon++;\n        }\n\n        return html;\n      }\n    }\n  };\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"search.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/modules/search.js                                                                          //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * # Semantic UI - Search\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.search = function (parameters) {\n    var $allModules = $(this),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue;\n    $(this).each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.search.settings, parameters) : $.extend({}, $.fn.search.settings),\n          className = settings.className,\n          metadata = settings.metadata,\n          regExp = settings.regExp,\n          fields = settings.fields,\n          selector = settings.selector,\n          error = settings.error,\n          namespace = settings.namespace,\n          eventNamespace = '.' + namespace,\n          moduleNamespace = namespace + '-module',\n          $module = $(this),\n          $prompt = $module.find(selector.prompt),\n          $searchButton = $module.find(selector.searchButton),\n          $results = $module.find(selector.results),\n          $result = $module.find(selector.result),\n          $category = $module.find(selector.category),\n          element = this,\n          instance = $module.data(moduleNamespace),\n          disabledBubbled = false,\n          resultsDismissed = false,\n          module;\n      module = {\n        initialize: function () {\n          module.verbose('Initializing module');\n          module.get.settings();\n          module.determine.searchFields();\n          module.bind.events();\n          module.set.type();\n          module.create.results();\n          module.instantiate();\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module.data(moduleNamespace, module);\n        },\n        destroy: function () {\n          module.verbose('Destroying instance');\n          $module.off(eventNamespace).removeData(moduleNamespace);\n        },\n        refresh: function () {\n          module.debug('Refreshing selector cache');\n          $prompt = $module.find(selector.prompt);\n          $searchButton = $module.find(selector.searchButton);\n          $category = $module.find(selector.category);\n          $results = $module.find(selector.results);\n          $result = $module.find(selector.result);\n        },\n        refreshResults: function () {\n          $results = $module.find(selector.results);\n          $result = $module.find(selector.result);\n        },\n        bind: {\n          events: function () {\n            module.verbose('Binding events to search');\n\n            if (settings.automatic) {\n              $module.on(module.get.inputEvent() + eventNamespace, selector.prompt, module.event.input);\n              $prompt.attr('autocomplete', 'off');\n            }\n\n            $module // prompt\n            .on('focus' + eventNamespace, selector.prompt, module.event.focus).on('blur' + eventNamespace, selector.prompt, module.event.blur).on('keydown' + eventNamespace, selector.prompt, module.handleKeyboard) // search button\n            .on('click' + eventNamespace, selector.searchButton, module.query) // results\n            .on('mousedown' + eventNamespace, selector.results, module.event.result.mousedown).on('mouseup' + eventNamespace, selector.results, module.event.result.mouseup).on('click' + eventNamespace, selector.result, module.event.result.click);\n          }\n        },\n        determine: {\n          searchFields: function () {\n            // this makes sure $.extend does not add specified search fields to default fields\n            // this is the only setting which should not extend defaults\n            if (parameters && parameters.searchFields !== undefined) {\n              settings.searchFields = parameters.searchFields;\n            }\n          }\n        },\n        event: {\n          input: function () {\n            if (settings.searchDelay) {\n              clearTimeout(module.timer);\n              module.timer = setTimeout(function () {\n                if (module.is.focused()) {\n                  module.query();\n                }\n              }, settings.searchDelay);\n            } else {\n              module.query();\n            }\n          },\n          focus: function () {\n            module.set.focus();\n\n            if (settings.searchOnFocus && module.has.minimumCharacters()) {\n              module.query(function () {\n                if (module.can.show()) {\n                  module.showResults();\n                }\n              });\n            }\n          },\n          blur: function (event) {\n            var pageLostFocus = document.activeElement === this,\n                callback = function () {\n              module.cancel.query();\n              module.remove.focus();\n              module.timer = setTimeout(module.hideResults, settings.hideDelay);\n            };\n\n            if (pageLostFocus) {\n              return;\n            }\n\n            resultsDismissed = false;\n\n            if (module.resultsClicked) {\n              module.debug('Determining if user action caused search to close');\n              $module.one('click.close' + eventNamespace, selector.results, function (event) {\n                if (module.is.inMessage(event) || disabledBubbled) {\n                  $prompt.focus();\n                  return;\n                }\n\n                disabledBubbled = false;\n\n                if (!module.is.animating() && !module.is.hidden()) {\n                  callback();\n                }\n              });\n            } else {\n              module.debug('Input blurred without user action, closing results');\n              callback();\n            }\n          },\n          result: {\n            mousedown: function () {\n              module.resultsClicked = true;\n            },\n            mouseup: function () {\n              module.resultsClicked = false;\n            },\n            click: function (event) {\n              module.debug('Search result selected');\n              var $result = $(this),\n                  $title = $result.find(selector.title).eq(0),\n                  $link = $result.is('a[href]') ? $result : $result.find('a[href]').eq(0),\n                  href = $link.attr('href') || false,\n                  target = $link.attr('target') || false,\n                  title = $title.html(),\n                  // title is used for result lookup\n              value = $title.length > 0 ? $title.text() : false,\n                  results = module.get.results(),\n                  result = $result.data(metadata.result) || module.get.result(value, results),\n                  returnedValue;\n\n              if ($.isFunction(settings.onSelect)) {\n                if (settings.onSelect.call(element, result, results) === false) {\n                  module.debug('Custom onSelect callback cancelled default select action');\n                  disabledBubbled = true;\n                  return;\n                }\n              }\n\n              module.hideResults();\n\n              if (value) {\n                module.set.value(value);\n              }\n\n              if (href) {\n                module.verbose('Opening search link found in result', $link);\n\n                if (target == '_blank' || event.ctrlKey) {\n                  window.open(href);\n                } else {\n                  window.location.href = href;\n                }\n              }\n            }\n          }\n        },\n        handleKeyboard: function (event) {\n          var // force selector refresh\n          $result = $module.find(selector.result),\n              $category = $module.find(selector.category),\n              $activeResult = $result.filter('.' + className.active),\n              currentIndex = $result.index($activeResult),\n              resultSize = $result.length,\n              hasActiveResult = $activeResult.length > 0,\n              keyCode = event.which,\n              keys = {\n            backspace: 8,\n            enter: 13,\n            escape: 27,\n            upArrow: 38,\n            downArrow: 40\n          },\n              newIndex; // search shortcuts\n\n          if (keyCode == keys.escape) {\n            module.verbose('Escape key pressed, blurring search field');\n            module.hideResults();\n            resultsDismissed = true;\n          }\n\n          if (module.is.visible()) {\n            if (keyCode == keys.enter) {\n              module.verbose('Enter key pressed, selecting active result');\n\n              if ($result.filter('.' + className.active).length > 0) {\n                module.event.result.click.call($result.filter('.' + className.active), event);\n                event.preventDefault();\n                return false;\n              }\n            } else if (keyCode == keys.upArrow && hasActiveResult) {\n              module.verbose('Up key pressed, changing active result');\n              newIndex = currentIndex - 1 < 0 ? currentIndex : currentIndex - 1;\n              $category.removeClass(className.active);\n              $result.removeClass(className.active).eq(newIndex).addClass(className.active).closest($category).addClass(className.active);\n              event.preventDefault();\n            } else if (keyCode == keys.downArrow) {\n              module.verbose('Down key pressed, changing active result');\n              newIndex = currentIndex + 1 >= resultSize ? currentIndex : currentIndex + 1;\n              $category.removeClass(className.active);\n              $result.removeClass(className.active).eq(newIndex).addClass(className.active).closest($category).addClass(className.active);\n              event.preventDefault();\n            }\n          } else {\n            // query shortcuts\n            if (keyCode == keys.enter) {\n              module.verbose('Enter key pressed, executing query');\n              module.query();\n              module.set.buttonPressed();\n              $prompt.one('keyup', module.remove.buttonFocus);\n            }\n          }\n        },\n        setup: {\n          api: function (searchTerm, callback) {\n            var apiSettings = {\n              debug: settings.debug,\n              on: false,\n              cache: settings.cache,\n              action: 'search',\n              urlData: {\n                query: searchTerm\n              },\n              onSuccess: function (response) {\n                module.parse.response.call(element, response, searchTerm);\n                callback();\n              },\n              onFailure: function () {\n                module.displayMessage(error.serverError);\n                callback();\n              },\n              onAbort: function (response) {},\n              onError: module.error\n            },\n                searchHTML;\n            $.extend(true, apiSettings, settings.apiSettings);\n            module.verbose('Setting up API request', apiSettings);\n            $module.api(apiSettings);\n          }\n        },\n        can: {\n          useAPI: function () {\n            return $.fn.api !== undefined;\n          },\n          show: function () {\n            return module.is.focused() && !module.is.visible() && !module.is.empty();\n          },\n          transition: function () {\n            return settings.transition && $.fn.transition !== undefined && $module.transition('is supported');\n          }\n        },\n        is: {\n          animating: function () {\n            return $results.hasClass(className.animating);\n          },\n          hidden: function () {\n            return $results.hasClass(className.hidden);\n          },\n          inMessage: function (event) {\n            if (!event.target) {\n              return;\n            }\n\n            var $target = $(event.target),\n                isInDOM = $.contains(document.documentElement, event.target);\n            return isInDOM && $target.closest(selector.message).length > 0;\n          },\n          empty: function () {\n            return $results.html() === '';\n          },\n          visible: function () {\n            return $results.filter(':visible').length > 0;\n          },\n          focused: function () {\n            return $prompt.filter(':focus').length > 0;\n          }\n        },\n        get: {\n          settings: function () {\n            if ($.isPlainObject(parameters) && parameters.searchFullText) {\n              settings.fullTextSearch = parameters.searchFullText;\n              module.error(settings.error.oldSearchSyntax, element);\n            }\n          },\n          inputEvent: function () {\n            var prompt = $prompt[0],\n                inputEvent = prompt !== undefined && prompt.oninput !== undefined ? 'input' : prompt !== undefined && prompt.onpropertychange !== undefined ? 'propertychange' : 'keyup';\n            return inputEvent;\n          },\n          value: function () {\n            return $prompt.val();\n          },\n          results: function () {\n            var results = $module.data(metadata.results);\n            return results;\n          },\n          result: function (value, results) {\n            var lookupFields = ['title', 'id'],\n                result = false;\n            value = value !== undefined ? value : module.get.value();\n            results = results !== undefined ? results : module.get.results();\n\n            if (settings.type === 'category') {\n              module.debug('Finding result that matches', value);\n              $.each(results, function (index, category) {\n                if ($.isArray(category.results)) {\n                  result = module.search.object(value, category.results, lookupFields)[0]; // don't continue searching if a result is found\n\n                  if (result) {\n                    return false;\n                  }\n                }\n              });\n            } else {\n              module.debug('Finding result in results object', value);\n              result = module.search.object(value, results, lookupFields)[0];\n            }\n\n            return result || false;\n          }\n        },\n        select: {\n          firstResult: function () {\n            module.verbose('Selecting first result');\n            $result.first().addClass(className.active);\n          }\n        },\n        set: {\n          focus: function () {\n            $module.addClass(className.focus);\n          },\n          loading: function () {\n            $module.addClass(className.loading);\n          },\n          value: function (value) {\n            module.verbose('Setting search input value', value);\n            $prompt.val(value);\n          },\n          type: function (type) {\n            type = type || settings.type;\n\n            if (settings.type == 'category') {\n              $module.addClass(settings.type);\n            }\n          },\n          buttonPressed: function () {\n            $searchButton.addClass(className.pressed);\n          }\n        },\n        remove: {\n          loading: function () {\n            $module.removeClass(className.loading);\n          },\n          focus: function () {\n            $module.removeClass(className.focus);\n          },\n          buttonPressed: function () {\n            $searchButton.removeClass(className.pressed);\n          }\n        },\n        query: function (callback) {\n          callback = $.isFunction(callback) ? callback : function () {};\n          var searchTerm = module.get.value(),\n              cache = module.read.cache(searchTerm);\n\n          callback = callback || function () {};\n\n          if (module.has.minimumCharacters()) {\n            if (cache) {\n              module.debug('Reading result from cache', searchTerm);\n              module.save.results(cache.results);\n              module.addResults(cache.html);\n              module.inject.id(cache.results);\n              callback();\n            } else {\n              module.debug('Querying for', searchTerm);\n\n              if ($.isPlainObject(settings.source) || $.isArray(settings.source)) {\n                module.search.local(searchTerm);\n                callback();\n              } else if (module.can.useAPI()) {\n                module.search.remote(searchTerm, callback);\n              } else {\n                module.error(error.source);\n                callback();\n              }\n            }\n\n            settings.onSearchQuery.call(element, searchTerm);\n          } else {\n            module.hideResults();\n          }\n        },\n        search: {\n          local: function (searchTerm) {\n            var results = module.search.object(searchTerm, settings.content),\n                searchHTML;\n            module.set.loading();\n            module.save.results(results);\n            module.debug('Returned full local search results', results);\n\n            if (settings.maxResults > 0) {\n              module.debug('Using specified max results', results);\n              results = results.slice(0, settings.maxResults);\n            }\n\n            if (settings.type == 'category') {\n              results = module.create.categoryResults(results);\n            }\n\n            searchHTML = module.generateResults({\n              results: results\n            });\n            module.remove.loading();\n            module.addResults(searchHTML);\n            module.inject.id(results);\n            module.write.cache(searchTerm, {\n              html: searchHTML,\n              results: results\n            });\n          },\n          remote: function (searchTerm, callback) {\n            callback = $.isFunction(callback) ? callback : function () {};\n\n            if ($module.api('is loading')) {\n              $module.api('abort');\n            }\n\n            module.setup.api(searchTerm, callback);\n            $module.api('query');\n          },\n          object: function (searchTerm, source, searchFields) {\n            var results = [],\n                exactResults = [],\n                fuzzyResults = [],\n                searchExp = searchTerm.toString().replace(regExp.escape, '\\\\$&'),\n                matchRegExp = new RegExp(regExp.beginsWith + searchExp, 'i'),\n                // avoid duplicates when pushing results\n            addResult = function (array, result) {\n              var notResult = $.inArray(result, results) == -1,\n                  notFuzzyResult = $.inArray(result, fuzzyResults) == -1,\n                  notExactResults = $.inArray(result, exactResults) == -1;\n\n              if (notResult && notFuzzyResult && notExactResults) {\n                array.push(result);\n              }\n            };\n\n            source = source || settings.source;\n            searchFields = searchFields !== undefined ? searchFields : settings.searchFields; // search fields should be array to loop correctly\n\n            if (!$.isArray(searchFields)) {\n              searchFields = [searchFields];\n            } // exit conditions if no source\n\n\n            if (source === undefined || source === false) {\n              module.error(error.source);\n              return [];\n            } // iterate through search fields looking for matches\n\n\n            $.each(searchFields, function (index, field) {\n              $.each(source, function (label, content) {\n                var fieldExists = typeof content[field] == 'string';\n\n                if (fieldExists) {\n                  if (content[field].search(matchRegExp) !== -1) {\n                    // content starts with value (first in results)\n                    addResult(results, content);\n                  } else if (settings.fullTextSearch === 'exact' && module.exactSearch(searchTerm, content[field])) {\n                    // content fuzzy matches (last in results)\n                    addResult(exactResults, content);\n                  } else if (settings.fullTextSearch == true && module.fuzzySearch(searchTerm, content[field])) {\n                    // content fuzzy matches (last in results)\n                    addResult(fuzzyResults, content);\n                  }\n                }\n              });\n            });\n            $.merge(exactResults, fuzzyResults);\n            $.merge(results, exactResults);\n            return results;\n          }\n        },\n        exactSearch: function (query, term) {\n          query = query.toLowerCase();\n          term = term.toLowerCase();\n\n          if (term.indexOf(query) > -1) {\n            return true;\n          }\n\n          return false;\n        },\n        fuzzySearch: function (query, term) {\n          var termLength = term.length,\n              queryLength = query.length;\n\n          if (typeof query !== 'string') {\n            return false;\n          }\n\n          query = query.toLowerCase();\n          term = term.toLowerCase();\n\n          if (queryLength > termLength) {\n            return false;\n          }\n\n          if (queryLength === termLength) {\n            return query === term;\n          }\n\n          search: for (var characterIndex = 0, nextCharacterIndex = 0; characterIndex < queryLength; characterIndex++) {\n            var queryCharacter = query.charCodeAt(characterIndex);\n\n            while (nextCharacterIndex < termLength) {\n              if (term.charCodeAt(nextCharacterIndex++) === queryCharacter) {\n                continue search;\n              }\n            }\n\n            return false;\n          }\n\n          return true;\n        },\n        parse: {\n          response: function (response, searchTerm) {\n            var searchHTML = module.generateResults(response);\n            module.verbose('Parsing server response', response);\n\n            if (response !== undefined) {\n              if (searchTerm !== undefined && response[fields.results] !== undefined) {\n                module.addResults(searchHTML);\n                module.inject.id(response[fields.results]);\n                module.write.cache(searchTerm, {\n                  html: searchHTML,\n                  results: response[fields.results]\n                });\n                module.save.results(response[fields.results]);\n              }\n            }\n          }\n        },\n        cancel: {\n          query: function () {\n            if (module.can.useAPI()) {\n              $module.api('abort');\n            }\n          }\n        },\n        has: {\n          minimumCharacters: function () {\n            var searchTerm = module.get.value(),\n                numCharacters = searchTerm.length;\n            return numCharacters >= settings.minCharacters;\n          },\n          results: function () {\n            if ($results.length === 0) {\n              return false;\n            }\n\n            var html = $results.html();\n            return html != '';\n          }\n        },\n        clear: {\n          cache: function (value) {\n            var cache = $module.data(metadata.cache);\n\n            if (!value) {\n              module.debug('Clearing cache', value);\n              $module.removeData(metadata.cache);\n            } else if (value && cache && cache[value]) {\n              module.debug('Removing value from cache', value);\n              delete cache[value];\n              $module.data(metadata.cache, cache);\n            }\n          }\n        },\n        read: {\n          cache: function (name) {\n            var cache = $module.data(metadata.cache);\n\n            if (settings.cache) {\n              module.verbose('Checking cache for generated html for query', name);\n              return typeof cache == 'object' && cache[name] !== undefined ? cache[name] : false;\n            }\n\n            return false;\n          }\n        },\n        create: {\n          categoryResults: function (results) {\n            var categoryResults = {};\n            $.each(results, function (index, result) {\n              if (!result.category) {\n                return;\n              }\n\n              if (categoryResults[result.category] === undefined) {\n                module.verbose('Creating new category of results', result.category);\n                categoryResults[result.category] = {\n                  name: result.category,\n                  results: [result]\n                };\n              } else {\n                categoryResults[result.category].results.push(result);\n              }\n            });\n            return categoryResults;\n          },\n          id: function (resultIndex, categoryIndex) {\n            var resultID = resultIndex + 1,\n                // not zero indexed\n            categoryID = categoryIndex + 1,\n                firstCharCode,\n                letterID,\n                id;\n\n            if (categoryIndex !== undefined) {\n              // start char code for \"A\"\n              letterID = String.fromCharCode(97 + categoryIndex);\n              id = letterID + resultID;\n              module.verbose('Creating category result id', id);\n            } else {\n              id = resultID;\n              module.verbose('Creating result id', id);\n            }\n\n            return id;\n          },\n          results: function () {\n            if ($results.length === 0) {\n              $results = $('<div />').addClass(className.results).appendTo($module);\n            }\n          }\n        },\n        inject: {\n          result: function (result, resultIndex, categoryIndex) {\n            module.verbose('Injecting result into results');\n            var $selectedResult = categoryIndex !== undefined ? $results.children().eq(categoryIndex).children(selector.results).first().children(selector.result).eq(resultIndex) : $results.children(selector.result).eq(resultIndex);\n            module.verbose('Injecting results metadata', $selectedResult);\n            $selectedResult.data(metadata.result, result);\n          },\n          id: function (results) {\n            module.debug('Injecting unique ids into results');\n            var // since results may be object, we must use counters\n            categoryIndex = 0,\n                resultIndex = 0;\n\n            if (settings.type === 'category') {\n              // iterate through each category result\n              $.each(results, function (index, category) {\n                resultIndex = 0;\n                $.each(category.results, function (index, value) {\n                  var result = category.results[index];\n\n                  if (result.id === undefined) {\n                    result.id = module.create.id(resultIndex, categoryIndex);\n                  }\n\n                  module.inject.result(result, resultIndex, categoryIndex);\n                  resultIndex++;\n                });\n                categoryIndex++;\n              });\n            } else {\n              // top level\n              $.each(results, function (index, value) {\n                var result = results[index];\n\n                if (result.id === undefined) {\n                  result.id = module.create.id(resultIndex);\n                }\n\n                module.inject.result(result, resultIndex);\n                resultIndex++;\n              });\n            }\n\n            return results;\n          }\n        },\n        save: {\n          results: function (results) {\n            module.verbose('Saving current search results to metadata', results);\n            $module.data(metadata.results, results);\n          }\n        },\n        write: {\n          cache: function (name, value) {\n            var cache = $module.data(metadata.cache) !== undefined ? $module.data(metadata.cache) : {};\n\n            if (settings.cache) {\n              module.verbose('Writing generated html to cache', name, value);\n              cache[name] = value;\n              $module.data(metadata.cache, cache);\n            }\n          }\n        },\n        addResults: function (html) {\n          if ($.isFunction(settings.onResultsAdd)) {\n            if (settings.onResultsAdd.call($results, html) === false) {\n              module.debug('onResultsAdd callback cancelled default action');\n              return false;\n            }\n          }\n\n          if (html) {\n            $results.html(html);\n            module.refreshResults();\n\n            if (settings.selectFirstResult) {\n              module.select.firstResult();\n            }\n\n            module.showResults();\n          } else {\n            module.hideResults(function () {\n              $results.empty();\n            });\n          }\n        },\n        showResults: function (callback) {\n          callback = $.isFunction(callback) ? callback : function () {};\n\n          if (resultsDismissed) {\n            return;\n          }\n\n          if (!module.is.visible() && module.has.results()) {\n            if (module.can.transition()) {\n              module.debug('Showing results with css animations');\n              $results.transition({\n                animation: settings.transition + ' in',\n                debug: settings.debug,\n                verbose: settings.verbose,\n                duration: settings.duration,\n                onComplete: function () {\n                  callback();\n                },\n                queue: true\n              });\n            } else {\n              module.debug('Showing results with javascript');\n              $results.stop().fadeIn(settings.duration, settings.easing);\n            }\n\n            settings.onResultsOpen.call($results);\n          }\n        },\n        hideResults: function (callback) {\n          callback = $.isFunction(callback) ? callback : function () {};\n\n          if (module.is.visible()) {\n            if (module.can.transition()) {\n              module.debug('Hiding results with css animations');\n              $results.transition({\n                animation: settings.transition + ' out',\n                debug: settings.debug,\n                verbose: settings.verbose,\n                duration: settings.duration,\n                onComplete: function () {\n                  callback();\n                },\n                queue: true\n              });\n            } else {\n              module.debug('Hiding results with javascript');\n              $results.stop().fadeOut(settings.duration, settings.easing);\n            }\n\n            settings.onResultsClose.call($results);\n          }\n        },\n        generateResults: function (response) {\n          module.debug('Generating html from response', response);\n          var template = settings.templates[settings.type],\n              isProperObject = $.isPlainObject(response[fields.results]) && !$.isEmptyObject(response[fields.results]),\n              isProperArray = $.isArray(response[fields.results]) && response[fields.results].length > 0,\n              html = '';\n\n          if (isProperObject || isProperArray) {\n            if (settings.maxResults > 0) {\n              if (isProperObject) {\n                if (settings.type == 'standard') {\n                  module.error(error.maxResults);\n                }\n              } else {\n                response[fields.results] = response[fields.results].slice(0, settings.maxResults);\n              }\n            }\n\n            if ($.isFunction(template)) {\n              html = template(response, fields);\n            } else {\n              module.error(error.noTemplate, false);\n            }\n          } else if (settings.showNoResults) {\n            html = module.displayMessage(error.noResults, 'empty');\n          }\n\n          settings.onResults.call(element, response);\n          return html;\n        },\n        displayMessage: function (text, type) {\n          type = type || 'standard';\n          module.debug('Displaying message', text, type);\n          module.addResults(settings.templates.message(text, type));\n          return settings.templates.message(text, type);\n        },\n        setting: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            settings[name] = value;\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.search.settings = {\n    name: 'Search',\n    namespace: 'search',\n    silent: false,\n    debug: false,\n    verbose: false,\n    performance: true,\n    // template to use (specified in settings.templates)\n    type: 'standard',\n    // minimum characters required to search\n    minCharacters: 1,\n    // whether to select first result after searching automatically\n    selectFirstResult: false,\n    // API config\n    apiSettings: false,\n    // object to search\n    source: false,\n    // Whether search should query current term on focus\n    searchOnFocus: true,\n    // fields to search\n    searchFields: ['title', 'description'],\n    // field to display in standard results template\n    displayField: '',\n    // search anywhere in value (set to 'exact' to require exact matches\n    fullTextSearch: 'exact',\n    // whether to add events to prompt automatically\n    automatic: true,\n    // delay before hiding menu after blur\n    hideDelay: 0,\n    // delay before searching\n    searchDelay: 200,\n    // maximum results returned from search\n    maxResults: 7,\n    // whether to store lookups in local cache\n    cache: true,\n    // whether no results errors should be shown\n    showNoResults: true,\n    // transition settings\n    transition: 'scale',\n    duration: 200,\n    easing: 'easeOutExpo',\n    // callbacks\n    onSelect: false,\n    onResultsAdd: false,\n    onSearchQuery: function (query) {},\n    onResults: function (response) {},\n    onResultsOpen: function () {},\n    onResultsClose: function () {},\n    className: {\n      animating: 'animating',\n      active: 'active',\n      empty: 'empty',\n      focus: 'focus',\n      hidden: 'hidden',\n      loading: 'loading',\n      results: 'results',\n      pressed: 'down'\n    },\n    error: {\n      source: 'Cannot search. No source used, and Semantic API module was not included',\n      noResults: 'Your search returned no results',\n      logging: 'Error in debug logging, exiting.',\n      noEndpoint: 'No search endpoint was specified',\n      noTemplate: 'A valid template name was not specified.',\n      oldSearchSyntax: 'searchFullText setting has been renamed fullTextSearch for consistency, please adjust your settings.',\n      serverError: 'There was an issue querying the server.',\n      maxResults: 'Results must be an array to use maxResults setting',\n      method: 'The method you called is not defined.'\n    },\n    metadata: {\n      cache: 'cache',\n      results: 'results',\n      result: 'result'\n    },\n    regExp: {\n      escape: /[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g,\n      beginsWith: '(?:\\s|^)'\n    },\n    // maps api response attributes to internal representation\n    fields: {\n      categories: 'results',\n      // array of categories (category view)\n      categoryName: 'name',\n      // name of category (category view)\n      categoryResults: 'results',\n      // array of results (category view)\n      description: 'description',\n      // result description\n      image: 'image',\n      // result image\n      price: 'price',\n      // result price\n      results: 'results',\n      // array of results (standard)\n      title: 'title',\n      // result title\n      url: 'url',\n      // result url\n      action: 'action',\n      // \"view more\" object name\n      actionText: 'text',\n      // \"view more\" text\n      actionURL: 'url' // \"view more\" url\n\n    },\n    selector: {\n      prompt: '.prompt',\n      searchButton: '.search.button',\n      results: '.results',\n      message: '.results > .message',\n      category: '.category',\n      result: '.result',\n      title: '.title, .name'\n    },\n    templates: {\n      escape: function (string) {\n        var badChars = /[&<>\"'`]/g,\n            shouldEscape = /[&<>\"'`]/,\n            escape = {\n          \"&\": \"&amp;\",\n          \"<\": \"&lt;\",\n          \">\": \"&gt;\",\n          '\"': \"&quot;\",\n          \"'\": \"&#x27;\",\n          \"`\": \"&#x60;\"\n        },\n            escapedChar = function (chr) {\n          return escape[chr];\n        };\n\n        if (shouldEscape.test(string)) {\n          return string.replace(badChars, escapedChar);\n        }\n\n        return string;\n      },\n      message: function (message, type) {\n        var html = '';\n\n        if (message !== undefined && type !== undefined) {\n          html += '' + '<div class=\"message ' + type + '\">'; // message type\n\n          if (type == 'empty') {\n            html += '' + '<div class=\"header\">No Results</div class=\"header\">' + '<div class=\"description\">' + message + '</div class=\"description\">';\n          } else {\n            html += ' <div class=\"description\">' + message + '</div>';\n          }\n\n          html += '</div>';\n        }\n\n        return html;\n      },\n      category: function (response, fields) {\n        var html = '',\n            escape = $.fn.search.settings.templates.escape;\n\n        if (response[fields.categoryResults] !== undefined) {\n          // each category\n          $.each(response[fields.categoryResults], function (index, category) {\n            if (category[fields.results] !== undefined && category.results.length > 0) {\n              html += '<div class=\"category\">';\n\n              if (category[fields.categoryName] !== undefined) {\n                html += '<div class=\"name\">' + category[fields.categoryName] + '</div>';\n              } // each item inside category\n\n\n              html += '<div class=\"results\">';\n              $.each(category.results, function (index, result) {\n                if (result[fields.url]) {\n                  html += '<a class=\"result\" href=\"' + result[fields.url] + '\">';\n                } else {\n                  html += '<a class=\"result\">';\n                }\n\n                if (result[fields.image] !== undefined) {\n                  html += '' + '<div class=\"image\">' + ' <img src=\"' + result[fields.image] + '\">' + '</div>';\n                }\n\n                html += '<div class=\"content\">';\n\n                if (result[fields.price] !== undefined) {\n                  html += '<div class=\"price\">' + result[fields.price] + '</div>';\n                }\n\n                if (result[fields.title] !== undefined) {\n                  html += '<div class=\"title\">' + result[fields.title] + '</div>';\n                }\n\n                if (result[fields.description] !== undefined) {\n                  html += '<div class=\"description\">' + result[fields.description] + '</div>';\n                }\n\n                html += '' + '</div>';\n                html += '</a>';\n              });\n              html += '</div>';\n              html += '' + '</div>';\n            }\n          });\n\n          if (response[fields.action]) {\n            html += '' + '<a href=\"' + response[fields.action][fields.actionURL] + '\" class=\"action\">' + response[fields.action][fields.actionText] + '</a>';\n          }\n\n          return html;\n        }\n\n        return false;\n      },\n      standard: function (response, fields) {\n        var html = '';\n\n        if (response[fields.results] !== undefined) {\n          // each result\n          $.each(response[fields.results], function (index, result) {\n            if (result[fields.url]) {\n              html += '<a class=\"result\" href=\"' + result[fields.url] + '\">';\n            } else {\n              html += '<a class=\"result\">';\n            }\n\n            if (result[fields.image] !== undefined) {\n              html += '' + '<div class=\"image\">' + ' <img src=\"' + result[fields.image] + '\">' + '</div>';\n            }\n\n            html += '<div class=\"content\">';\n\n            if (result[fields.price] !== undefined) {\n              html += '<div class=\"price\">' + result[fields.price] + '</div>';\n            }\n\n            if (result[fields.title] !== undefined) {\n              html += '<div class=\"title\">' + result[fields.title] + '</div>';\n            }\n\n            if (result[fields.description] !== undefined) {\n              html += '<div class=\"description\">' + result[fields.description] + '</div>';\n            }\n\n            html += '' + '</div>';\n            html += '</a>';\n          });\n\n          if (response[fields.action]) {\n            html += '' + '<a href=\"' + response[fields.action][fields.actionURL] + '\" class=\"action\">' + response[fields.action][fields.actionText] + '</a>';\n          }\n\n          return html;\n        }\n\n        return false;\n      }\n    }\n  };\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"shape.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/modules/shape.js                                                                           //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * # Semantic UI - Shape\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.shape = function (parameters) {\n    var $allModules = $(this),\n        $body = $('body'),\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {\n      setTimeout(callback, 0);\n    },\n        returnedValue;\n\n    $allModules.each(function () {\n      var moduleSelector = $allModules.selector || '',\n          settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.shape.settings, parameters) : $.extend({}, $.fn.shape.settings),\n          // internal aliases\n      namespace = settings.namespace,\n          selector = settings.selector,\n          error = settings.error,\n          className = settings.className,\n          // define namespaces for modules\n      eventNamespace = '.' + namespace,\n          moduleNamespace = 'module-' + namespace,\n          // selector cache\n      $module = $(this),\n          $sides = $module.find(selector.sides),\n          $side = $module.find(selector.side),\n          // private variables\n      nextIndex = false,\n          $activeSide,\n          $nextSide,\n          // standard module\n      element = this,\n          instance = $module.data(moduleNamespace),\n          module;\n      module = {\n        initialize: function () {\n          module.verbose('Initializing module for', element);\n          module.set.defaultSide();\n          module.instantiate();\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module.data(moduleNamespace, instance);\n        },\n        destroy: function () {\n          module.verbose('Destroying previous module for', element);\n          $module.removeData(moduleNamespace).off(eventNamespace);\n        },\n        refresh: function () {\n          module.verbose('Refreshing selector cache for', element);\n          $module = $(element);\n          $sides = $(this).find(selector.shape);\n          $side = $(this).find(selector.side);\n        },\n        repaint: function () {\n          module.verbose('Forcing repaint event');\n          var shape = $sides[0] || document.createElement('div'),\n              fakeAssignment = shape.offsetWidth;\n        },\n        animate: function (propertyObject, callback) {\n          module.verbose('Animating box with properties', propertyObject);\n\n          callback = callback || function (event) {\n            module.verbose('Executing animation callback');\n\n            if (event !== undefined) {\n              event.stopPropagation();\n            }\n\n            module.reset();\n            module.set.active();\n          };\n\n          settings.beforeChange.call($nextSide[0]);\n\n          if (module.get.transitionEvent()) {\n            module.verbose('Starting CSS animation');\n            $module.addClass(className.animating);\n            $sides.css(propertyObject).one(module.get.transitionEvent(), callback);\n            module.set.duration(settings.duration);\n            requestAnimationFrame(function () {\n              $module.addClass(className.animating);\n              $activeSide.addClass(className.hidden);\n            });\n          } else {\n            callback();\n          }\n        },\n        queue: function (method) {\n          module.debug('Queueing animation of', method);\n          $sides.one(module.get.transitionEvent(), function () {\n            module.debug('Executing queued animation');\n            setTimeout(function () {\n              $module.shape(method);\n            }, 0);\n          });\n        },\n        reset: function () {\n          module.verbose('Animating states reset');\n          $module.removeClass(className.animating).attr('style', '').removeAttr('style'); // removeAttr style does not consistently work in safari\n\n          $sides.attr('style', '').removeAttr('style');\n          $side.attr('style', '').removeAttr('style').removeClass(className.hidden);\n          $nextSide.removeClass(className.animating).attr('style', '').removeAttr('style');\n        },\n        is: {\n          complete: function () {\n            return $side.filter('.' + className.active)[0] == $nextSide[0];\n          },\n          animating: function () {\n            return $module.hasClass(className.animating);\n          }\n        },\n        set: {\n          defaultSide: function () {\n            $activeSide = $module.find('.' + settings.className.active);\n            $nextSide = $activeSide.next(selector.side).length > 0 ? $activeSide.next(selector.side) : $module.find(selector.side).first();\n            nextIndex = false;\n            module.verbose('Active side set to', $activeSide);\n            module.verbose('Next side set to', $nextSide);\n          },\n          duration: function (duration) {\n            duration = duration || settings.duration;\n            duration = typeof duration == 'number' ? duration + 'ms' : duration;\n            module.verbose('Setting animation duration', duration);\n\n            if (settings.duration || settings.duration === 0) {\n              $sides.add($side).css({\n                '-webkit-transition-duration': duration,\n                '-moz-transition-duration': duration,\n                '-ms-transition-duration': duration,\n                '-o-transition-duration': duration,\n                'transition-duration': duration\n              });\n            }\n          },\n          currentStageSize: function () {\n            var $activeSide = $module.find('.' + settings.className.active),\n                width = $activeSide.outerWidth(true),\n                height = $activeSide.outerHeight(true);\n            $module.css({\n              width: width,\n              height: height\n            });\n          },\n          stageSize: function () {\n            var $clone = $module.clone().addClass(className.loading),\n                $activeSide = $clone.find('.' + settings.className.active),\n                $nextSide = nextIndex ? $clone.find(selector.side).eq(nextIndex) : $activeSide.next(selector.side).length > 0 ? $activeSide.next(selector.side) : $clone.find(selector.side).first(),\n                newWidth = settings.width == 'next' ? $nextSide.outerWidth(true) : settings.width == 'initial' ? $module.width() : settings.width,\n                newHeight = settings.height == 'next' ? $nextSide.outerHeight(true) : settings.height == 'initial' ? $module.height() : settings.height;\n            $activeSide.removeClass(className.active);\n            $nextSide.addClass(className.active);\n            $clone.insertAfter($module);\n            $clone.remove();\n\n            if (settings.width != 'auto') {\n              $module.css('width', newWidth + settings.jitter);\n              module.verbose('Specifying width during animation', newWidth);\n            }\n\n            if (settings.height != 'auto') {\n              $module.css('height', newHeight + settings.jitter);\n              module.verbose('Specifying height during animation', newHeight);\n            }\n          },\n          nextSide: function (selector) {\n            nextIndex = selector;\n            $nextSide = $side.filter(selector);\n            nextIndex = $side.index($nextSide);\n\n            if ($nextSide.length === 0) {\n              module.set.defaultSide();\n              module.error(error.side);\n            }\n\n            module.verbose('Next side manually set to', $nextSide);\n          },\n          active: function () {\n            module.verbose('Setting new side to active', $nextSide);\n            $side.removeClass(className.active);\n            $nextSide.addClass(className.active);\n            settings.onChange.call($nextSide[0]);\n            module.set.defaultSide();\n          }\n        },\n        flip: {\n          up: function () {\n            if (module.is.complete() && !module.is.animating() && !settings.allowRepeats) {\n              module.debug('Side already visible', $nextSide);\n              return;\n            }\n\n            if (!module.is.animating()) {\n              module.debug('Flipping up', $nextSide);\n              var transform = module.get.transform.up();\n              module.set.stageSize();\n              module.stage.above();\n              module.animate(transform);\n            } else {\n              module.queue('flip up');\n            }\n          },\n          down: function () {\n            if (module.is.complete() && !module.is.animating() && !settings.allowRepeats) {\n              module.debug('Side already visible', $nextSide);\n              return;\n            }\n\n            if (!module.is.animating()) {\n              module.debug('Flipping down', $nextSide);\n              var transform = module.get.transform.down();\n              module.set.stageSize();\n              module.stage.below();\n              module.animate(transform);\n            } else {\n              module.queue('flip down');\n            }\n          },\n          left: function () {\n            if (module.is.complete() && !module.is.animating() && !settings.allowRepeats) {\n              module.debug('Side already visible', $nextSide);\n              return;\n            }\n\n            if (!module.is.animating()) {\n              module.debug('Flipping left', $nextSide);\n              var transform = module.get.transform.left();\n              module.set.stageSize();\n              module.stage.left();\n              module.animate(transform);\n            } else {\n              module.queue('flip left');\n            }\n          },\n          right: function () {\n            if (module.is.complete() && !module.is.animating() && !settings.allowRepeats) {\n              module.debug('Side already visible', $nextSide);\n              return;\n            }\n\n            if (!module.is.animating()) {\n              module.debug('Flipping right', $nextSide);\n              var transform = module.get.transform.right();\n              module.set.stageSize();\n              module.stage.right();\n              module.animate(transform);\n            } else {\n              module.queue('flip right');\n            }\n          },\n          over: function () {\n            if (module.is.complete() && !module.is.animating() && !settings.allowRepeats) {\n              module.debug('Side already visible', $nextSide);\n              return;\n            }\n\n            if (!module.is.animating()) {\n              module.debug('Flipping over', $nextSide);\n              module.set.stageSize();\n              module.stage.behind();\n              module.animate(module.get.transform.over());\n            } else {\n              module.queue('flip over');\n            }\n          },\n          back: function () {\n            if (module.is.complete() && !module.is.animating() && !settings.allowRepeats) {\n              module.debug('Side already visible', $nextSide);\n              return;\n            }\n\n            if (!module.is.animating()) {\n              module.debug('Flipping back', $nextSide);\n              module.set.stageSize();\n              module.stage.behind();\n              module.animate(module.get.transform.back());\n            } else {\n              module.queue('flip back');\n            }\n          }\n        },\n        get: {\n          transform: {\n            up: function () {\n              var translate = {\n                y: -(($activeSide.outerHeight(true) - $nextSide.outerHeight(true)) / 2),\n                z: -($activeSide.outerHeight(true) / 2)\n              };\n              return {\n                transform: 'translateY(' + translate.y + 'px) translateZ(' + translate.z + 'px) rotateX(-90deg)'\n              };\n            },\n            down: function () {\n              var translate = {\n                y: -(($activeSide.outerHeight(true) - $nextSide.outerHeight(true)) / 2),\n                z: -($activeSide.outerHeight(true) / 2)\n              };\n              return {\n                transform: 'translateY(' + translate.y + 'px) translateZ(' + translate.z + 'px) rotateX(90deg)'\n              };\n            },\n            left: function () {\n              var translate = {\n                x: -(($activeSide.outerWidth(true) - $nextSide.outerWidth(true)) / 2),\n                z: -($activeSide.outerWidth(true) / 2)\n              };\n              return {\n                transform: 'translateX(' + translate.x + 'px) translateZ(' + translate.z + 'px) rotateY(90deg)'\n              };\n            },\n            right: function () {\n              var translate = {\n                x: -(($activeSide.outerWidth(true) - $nextSide.outerWidth(true)) / 2),\n                z: -($activeSide.outerWidth(true) / 2)\n              };\n              return {\n                transform: 'translateX(' + translate.x + 'px) translateZ(' + translate.z + 'px) rotateY(-90deg)'\n              };\n            },\n            over: function () {\n              var translate = {\n                x: -(($activeSide.outerWidth(true) - $nextSide.outerWidth(true)) / 2)\n              };\n              return {\n                transform: 'translateX(' + translate.x + 'px) rotateY(180deg)'\n              };\n            },\n            back: function () {\n              var translate = {\n                x: -(($activeSide.outerWidth(true) - $nextSide.outerWidth(true)) / 2)\n              };\n              return {\n                transform: 'translateX(' + translate.x + 'px) rotateY(-180deg)'\n              };\n            }\n          },\n          transitionEvent: function () {\n            var element = document.createElement('element'),\n                transitions = {\n              'transition': 'transitionend',\n              'OTransition': 'oTransitionEnd',\n              'MozTransition': 'transitionend',\n              'WebkitTransition': 'webkitTransitionEnd'\n            },\n                transition;\n\n            for (transition in transitions) {\n              if (element.style[transition] !== undefined) {\n                return transitions[transition];\n              }\n            }\n          },\n          nextSide: function () {\n            return $activeSide.next(selector.side).length > 0 ? $activeSide.next(selector.side) : $module.find(selector.side).first();\n          }\n        },\n        stage: {\n          above: function () {\n            var box = {\n              origin: ($activeSide.outerHeight(true) - $nextSide.outerHeight(true)) / 2,\n              depth: {\n                active: $nextSide.outerHeight(true) / 2,\n                next: $activeSide.outerHeight(true) / 2\n              }\n            };\n            module.verbose('Setting the initial animation position as above', $nextSide, box);\n            $sides.css({\n              'transform': 'translateZ(-' + box.depth.active + 'px)'\n            });\n            $activeSide.css({\n              'transform': 'rotateY(0deg) translateZ(' + box.depth.active + 'px)'\n            });\n            $nextSide.addClass(className.animating).css({\n              'top': box.origin + 'px',\n              'transform': 'rotateX(90deg) translateZ(' + box.depth.next + 'px)'\n            });\n          },\n          below: function () {\n            var box = {\n              origin: ($activeSide.outerHeight(true) - $nextSide.outerHeight(true)) / 2,\n              depth: {\n                active: $nextSide.outerHeight(true) / 2,\n                next: $activeSide.outerHeight(true) / 2\n              }\n            };\n            module.verbose('Setting the initial animation position as below', $nextSide, box);\n            $sides.css({\n              'transform': 'translateZ(-' + box.depth.active + 'px)'\n            });\n            $activeSide.css({\n              'transform': 'rotateY(0deg) translateZ(' + box.depth.active + 'px)'\n            });\n            $nextSide.addClass(className.animating).css({\n              'top': box.origin + 'px',\n              'transform': 'rotateX(-90deg) translateZ(' + box.depth.next + 'px)'\n            });\n          },\n          left: function () {\n            var height = {\n              active: $activeSide.outerWidth(true),\n              next: $nextSide.outerWidth(true)\n            },\n                box = {\n              origin: (height.active - height.next) / 2,\n              depth: {\n                active: height.next / 2,\n                next: height.active / 2\n              }\n            };\n            module.verbose('Setting the initial animation position as left', $nextSide, box);\n            $sides.css({\n              'transform': 'translateZ(-' + box.depth.active + 'px)'\n            });\n            $activeSide.css({\n              'transform': 'rotateY(0deg) translateZ(' + box.depth.active + 'px)'\n            });\n            $nextSide.addClass(className.animating).css({\n              'left': box.origin + 'px',\n              'transform': 'rotateY(-90deg) translateZ(' + box.depth.next + 'px)'\n            });\n          },\n          right: function () {\n            var height = {\n              active: $activeSide.outerWidth(true),\n              next: $nextSide.outerWidth(true)\n            },\n                box = {\n              origin: (height.active - height.next) / 2,\n              depth: {\n                active: height.next / 2,\n                next: height.active / 2\n              }\n            };\n            module.verbose('Setting the initial animation position as left', $nextSide, box);\n            $sides.css({\n              'transform': 'translateZ(-' + box.depth.active + 'px)'\n            });\n            $activeSide.css({\n              'transform': 'rotateY(0deg) translateZ(' + box.depth.active + 'px)'\n            });\n            $nextSide.addClass(className.animating).css({\n              'left': box.origin + 'px',\n              'transform': 'rotateY(90deg) translateZ(' + box.depth.next + 'px)'\n            });\n          },\n          behind: function () {\n            var height = {\n              active: $activeSide.outerWidth(true),\n              next: $nextSide.outerWidth(true)\n            },\n                box = {\n              origin: (height.active - height.next) / 2,\n              depth: {\n                active: height.next / 2,\n                next: height.active / 2\n              }\n            };\n            module.verbose('Setting the initial animation position as behind', $nextSide, box);\n            $activeSide.css({\n              'transform': 'rotateY(0deg)'\n            });\n            $nextSide.addClass(className.animating).css({\n              'left': box.origin + 'px',\n              'transform': 'rotateY(-180deg)'\n            });\n          }\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.shape.settings = {\n    // module info\n    name: 'Shape',\n    // hide all debug content\n    silent: false,\n    // debug content outputted to console\n    debug: false,\n    // verbose debug output\n    verbose: false,\n    // fudge factor in pixels when swapping from 2d to 3d (can be useful to correct rounding errors)\n    jitter: 0,\n    // performance data output\n    performance: true,\n    // event namespace\n    namespace: 'shape',\n    // width during animation, can be set to 'auto', initial', 'next' or pixel amount\n    width: 'initial',\n    // height during animation, can be set to 'auto', 'initial', 'next' or pixel amount\n    height: 'initial',\n    // callback occurs on side change\n    beforeChange: function () {},\n    onChange: function () {},\n    // allow animation to same side\n    allowRepeats: false,\n    // animation duration\n    duration: false,\n    // possible errors\n    error: {\n      side: 'You tried to switch to a side that does not exist.',\n      method: 'The method you called is not defined'\n    },\n    // classnames used\n    className: {\n      animating: 'animating',\n      hidden: 'hidden',\n      loading: 'loading',\n      active: 'active'\n    },\n    // selectors used\n    selector: {\n      sides: '.sides',\n      side: '.side'\n    }\n  };\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"sidebar.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/modules/sidebar.js                                                                         //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * # Semantic UI - Sidebar\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.sidebar = function (parameters) {\n    var $allModules = $(this),\n        $window = $(window),\n        $document = $(document),\n        $html = $('html'),\n        $head = $('head'),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {\n      setTimeout(callback, 0);\n    },\n        returnedValue;\n\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.sidebar.settings, parameters) : $.extend({}, $.fn.sidebar.settings),\n          selector = settings.selector,\n          className = settings.className,\n          namespace = settings.namespace,\n          regExp = settings.regExp,\n          error = settings.error,\n          eventNamespace = '.' + namespace,\n          moduleNamespace = 'module-' + namespace,\n          $module = $(this),\n          $context = $(settings.context),\n          $sidebars = $module.children(selector.sidebar),\n          $fixed = $context.children(selector.fixed),\n          $pusher = $context.children(selector.pusher),\n          $style,\n          element = this,\n          instance = $module.data(moduleNamespace),\n          elementNamespace,\n          id,\n          currentScroll,\n          transitionEvent,\n          module;\n      module = {\n        initialize: function () {\n          module.debug('Initializing sidebar', parameters);\n          module.create.id();\n          transitionEvent = module.get.transitionEvent(); // avoids locking rendering if initialized in onReady\n\n          if (settings.delaySetup) {\n            requestAnimationFrame(module.setup.layout);\n          } else {\n            module.setup.layout();\n          }\n\n          requestAnimationFrame(function () {\n            module.setup.cache();\n          });\n          module.instantiate();\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module.data(moduleNamespace, module);\n        },\n        create: {\n          id: function () {\n            id = (Math.random().toString(16) + '000000000').substr(2, 8);\n            elementNamespace = '.' + id;\n            module.verbose('Creating unique id for element', id);\n          }\n        },\n        destroy: function () {\n          module.verbose('Destroying previous module for', $module);\n          $module.off(eventNamespace).removeData(moduleNamespace);\n\n          if (module.is.ios()) {\n            module.remove.ios();\n          } // bound by uuid\n\n\n          $context.off(elementNamespace);\n          $window.off(elementNamespace);\n          $document.off(elementNamespace);\n        },\n        event: {\n          clickaway: function (event) {\n            var clickedInPusher = $pusher.find(event.target).length > 0 || $pusher.is(event.target),\n                clickedContext = $context.is(event.target);\n\n            if (clickedInPusher) {\n              module.verbose('User clicked on dimmed page');\n              module.hide();\n            }\n\n            if (clickedContext) {\n              module.verbose('User clicked on dimmable context (scaled out page)');\n              module.hide();\n            }\n          },\n          touch: function (event) {//event.stopPropagation();\n          },\n          containScroll: function (event) {\n            if (element.scrollTop <= 0) {\n              element.scrollTop = 1;\n            }\n\n            if (element.scrollTop + element.offsetHeight >= element.scrollHeight) {\n              element.scrollTop = element.scrollHeight - element.offsetHeight - 1;\n            }\n          },\n          scroll: function (event) {\n            if ($(event.target).closest(selector.sidebar).length === 0) {\n              event.preventDefault();\n            }\n          }\n        },\n        bind: {\n          clickaway: function () {\n            module.verbose('Adding clickaway events to context', $context);\n\n            if (settings.closable) {\n              $context.on('click' + elementNamespace, module.event.clickaway).on('touchend' + elementNamespace, module.event.clickaway);\n            }\n          },\n          scrollLock: function () {\n            if (settings.scrollLock) {\n              module.debug('Disabling page scroll');\n              $window.on('DOMMouseScroll' + elementNamespace, module.event.scroll);\n            }\n\n            module.verbose('Adding events to contain sidebar scroll');\n            $document.on('touchmove' + elementNamespace, module.event.touch);\n            $module.on('scroll' + eventNamespace, module.event.containScroll);\n          }\n        },\n        unbind: {\n          clickaway: function () {\n            module.verbose('Removing clickaway events from context', $context);\n            $context.off(elementNamespace);\n          },\n          scrollLock: function () {\n            module.verbose('Removing scroll lock from page');\n            $document.off(elementNamespace);\n            $window.off(elementNamespace);\n            $module.off('scroll' + eventNamespace);\n          }\n        },\n        add: {\n          inlineCSS: function () {\n            var width = module.cache.width || $module.outerWidth(),\n                height = module.cache.height || $module.outerHeight(),\n                isRTL = module.is.rtl(),\n                direction = module.get.direction(),\n                distance = {\n              left: width,\n              right: -width,\n              top: height,\n              bottom: -height\n            },\n                style;\n\n            if (isRTL) {\n              module.verbose('RTL detected, flipping widths');\n              distance.left = -width;\n              distance.right = width;\n            }\n\n            style = '<style>';\n\n            if (direction === 'left' || direction === 'right') {\n              module.debug('Adding CSS rules for animation distance', width);\n              style += '' + ' .ui.visible.' + direction + '.sidebar ~ .fixed,' + ' .ui.visible.' + direction + '.sidebar ~ .pusher {' + '   -webkit-transform: translate3d(' + distance[direction] + 'px, 0, 0);' + '           transform: translate3d(' + distance[direction] + 'px, 0, 0);' + ' }';\n            } else if (direction === 'top' || direction == 'bottom') {\n              style += '' + ' .ui.visible.' + direction + '.sidebar ~ .fixed,' + ' .ui.visible.' + direction + '.sidebar ~ .pusher {' + '   -webkit-transform: translate3d(0, ' + distance[direction] + 'px, 0);' + '           transform: translate3d(0, ' + distance[direction] + 'px, 0);' + ' }';\n            }\n            /* IE is only browser not to create context with transforms */\n\n            /* https://www.w3.org/Bugs/Public/show_bug.cgi?id=16328 */\n\n\n            if (module.is.ie()) {\n              if (direction === 'left' || direction === 'right') {\n                module.debug('Adding CSS rules for animation distance', width);\n                style += '' + ' body.pushable > .ui.visible.' + direction + '.sidebar ~ .pusher:after {' + '   -webkit-transform: translate3d(' + distance[direction] + 'px, 0, 0);' + '           transform: translate3d(' + distance[direction] + 'px, 0, 0);' + ' }';\n              } else if (direction === 'top' || direction == 'bottom') {\n                style += '' + ' body.pushable > .ui.visible.' + direction + '.sidebar ~ .pusher:after {' + '   -webkit-transform: translate3d(0, ' + distance[direction] + 'px, 0);' + '           transform: translate3d(0, ' + distance[direction] + 'px, 0);' + ' }';\n              }\n              /* opposite sides visible forces content overlay */\n\n\n              style += '' + ' body.pushable > .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .pusher:after,' + ' body.pushable > .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .pusher:after {' + '   -webkit-transform: translate3d(0px, 0, 0);' + '           transform: translate3d(0px, 0, 0);' + ' }';\n            }\n\n            style += '</style>';\n            $style = $(style).appendTo($head);\n            module.debug('Adding sizing css to head', $style);\n          }\n        },\n        refresh: function () {\n          module.verbose('Refreshing selector cache');\n          $context = $(settings.context);\n          $sidebars = $context.children(selector.sidebar);\n          $pusher = $context.children(selector.pusher);\n          $fixed = $context.children(selector.fixed);\n          module.clear.cache();\n        },\n        refreshSidebars: function () {\n          module.verbose('Refreshing other sidebars');\n          $sidebars = $context.children(selector.sidebar);\n        },\n        repaint: function () {\n          module.verbose('Forcing repaint event');\n          element.style.display = 'none';\n          var ignored = element.offsetHeight;\n          element.scrollTop = element.scrollTop;\n          element.style.display = '';\n        },\n        setup: {\n          cache: function () {\n            module.cache = {\n              width: $module.outerWidth(),\n              height: $module.outerHeight(),\n              rtl: $module.css('direction') == 'rtl'\n            };\n          },\n          layout: function () {\n            if ($context.children(selector.pusher).length === 0) {\n              module.debug('Adding wrapper element for sidebar');\n              module.error(error.pusher);\n              $pusher = $('<div class=\"pusher\" />');\n              $context.children().not(selector.omitted).not($sidebars).wrapAll($pusher);\n              module.refresh();\n            }\n\n            if ($module.nextAll(selector.pusher).length === 0 || $module.nextAll(selector.pusher)[0] !== $pusher[0]) {\n              module.debug('Moved sidebar to correct parent element');\n              module.error(error.movedSidebar, element);\n              $module.detach().prependTo($context);\n              module.refresh();\n            }\n\n            module.clear.cache();\n            module.set.pushable();\n            module.set.direction();\n          }\n        },\n        attachEvents: function (selector, event) {\n          var $toggle = $(selector);\n          event = $.isFunction(module[event]) ? module[event] : module.toggle;\n\n          if ($toggle.length > 0) {\n            module.debug('Attaching sidebar events to element', selector, event);\n            $toggle.on('click' + eventNamespace, event);\n          } else {\n            module.error(error.notFound, selector);\n          }\n        },\n        show: function (callback) {\n          callback = $.isFunction(callback) ? callback : function () {};\n\n          if (module.is.hidden()) {\n            module.refreshSidebars();\n\n            if (settings.overlay) {\n              module.error(error.overlay);\n              settings.transition = 'overlay';\n            }\n\n            module.refresh();\n\n            if (module.othersActive()) {\n              module.debug('Other sidebars currently visible');\n\n              if (settings.exclusive) {\n                // if not overlay queue animation after hide\n                if (settings.transition != 'overlay') {\n                  module.hideOthers(module.show);\n                  return;\n                } else {\n                  module.hideOthers();\n                }\n              } else {\n                settings.transition = 'overlay';\n              }\n            }\n\n            module.pushPage(function () {\n              callback.call(element);\n              settings.onShow.call(element);\n            });\n            settings.onChange.call(element);\n            settings.onVisible.call(element);\n          } else {\n            module.debug('Sidebar is already visible');\n          }\n        },\n        hide: function (callback) {\n          callback = $.isFunction(callback) ? callback : function () {};\n\n          if (module.is.visible() || module.is.animating()) {\n            module.debug('Hiding sidebar', callback);\n            module.refreshSidebars();\n            module.pullPage(function () {\n              callback.call(element);\n              settings.onHidden.call(element);\n            });\n            settings.onChange.call(element);\n            settings.onHide.call(element);\n          }\n        },\n        othersAnimating: function () {\n          return $sidebars.not($module).filter('.' + className.animating).length > 0;\n        },\n        othersVisible: function () {\n          return $sidebars.not($module).filter('.' + className.visible).length > 0;\n        },\n        othersActive: function () {\n          return module.othersVisible() || module.othersAnimating();\n        },\n        hideOthers: function (callback) {\n          var $otherSidebars = $sidebars.not($module).filter('.' + className.visible),\n              sidebarCount = $otherSidebars.length,\n              callbackCount = 0;\n\n          callback = callback || function () {};\n\n          $otherSidebars.sidebar('hide', function () {\n            callbackCount++;\n\n            if (callbackCount == sidebarCount) {\n              callback();\n            }\n          });\n        },\n        toggle: function () {\n          module.verbose('Determining toggled direction');\n\n          if (module.is.hidden()) {\n            module.show();\n          } else {\n            module.hide();\n          }\n        },\n        pushPage: function (callback) {\n          var transition = module.get.transition(),\n              $transition = transition === 'overlay' || module.othersActive() ? $module : $pusher,\n              animate,\n              dim,\n              transitionEnd;\n          callback = $.isFunction(callback) ? callback : function () {};\n\n          if (settings.transition == 'scale down') {\n            module.scrollToTop();\n          }\n\n          module.set.transition(transition);\n          module.repaint();\n\n          animate = function () {\n            module.bind.clickaway();\n            module.add.inlineCSS();\n            module.set.animating();\n            module.set.visible();\n          };\n\n          dim = function () {\n            module.set.dimmed();\n          };\n\n          transitionEnd = function (event) {\n            if (event.target == $transition[0]) {\n              $transition.off(transitionEvent + elementNamespace, transitionEnd);\n              module.remove.animating();\n              module.bind.scrollLock();\n              callback.call(element);\n            }\n          };\n\n          $transition.off(transitionEvent + elementNamespace);\n          $transition.on(transitionEvent + elementNamespace, transitionEnd);\n          requestAnimationFrame(animate);\n\n          if (settings.dimPage && !module.othersVisible()) {\n            requestAnimationFrame(dim);\n          }\n        },\n        pullPage: function (callback) {\n          var transition = module.get.transition(),\n              $transition = transition == 'overlay' || module.othersActive() ? $module : $pusher,\n              animate,\n              transitionEnd;\n          callback = $.isFunction(callback) ? callback : function () {};\n          module.verbose('Removing context push state', module.get.direction());\n          module.unbind.clickaway();\n          module.unbind.scrollLock();\n\n          animate = function () {\n            module.set.transition(transition);\n            module.set.animating();\n            module.remove.visible();\n\n            if (settings.dimPage && !module.othersVisible()) {\n              $pusher.removeClass(className.dimmed);\n            }\n          };\n\n          transitionEnd = function (event) {\n            if (event.target == $transition[0]) {\n              $transition.off(transitionEvent + elementNamespace, transitionEnd);\n              module.remove.animating();\n              module.remove.transition();\n              module.remove.inlineCSS();\n\n              if (transition == 'scale down' || settings.returnScroll && module.is.mobile()) {\n                module.scrollBack();\n              }\n\n              callback.call(element);\n            }\n          };\n\n          $transition.off(transitionEvent + elementNamespace);\n          $transition.on(transitionEvent + elementNamespace, transitionEnd);\n          requestAnimationFrame(animate);\n        },\n        scrollToTop: function () {\n          module.verbose('Scrolling to top of page to avoid animation issues');\n          currentScroll = $(window).scrollTop();\n          $module.scrollTop(0);\n          window.scrollTo(0, 0);\n        },\n        scrollBack: function () {\n          module.verbose('Scrolling back to original page position');\n          window.scrollTo(0, currentScroll);\n        },\n        clear: {\n          cache: function () {\n            module.verbose('Clearing cached dimensions');\n            module.cache = {};\n          }\n        },\n        set: {\n          // ios only (scroll on html not document). This prevent auto-resize canvas/scroll in ios\n          // (This is no longer necessary in latest iOS)\n          ios: function () {\n            $html.addClass(className.ios);\n          },\n          // container\n          pushed: function () {\n            $context.addClass(className.pushed);\n          },\n          pushable: function () {\n            $context.addClass(className.pushable);\n          },\n          // pusher\n          dimmed: function () {\n            $pusher.addClass(className.dimmed);\n          },\n          // sidebar\n          active: function () {\n            $module.addClass(className.active);\n          },\n          animating: function () {\n            $module.addClass(className.animating);\n          },\n          transition: function (transition) {\n            transition = transition || module.get.transition();\n            $module.addClass(transition);\n          },\n          direction: function (direction) {\n            direction = direction || module.get.direction();\n            $module.addClass(className[direction]);\n          },\n          visible: function () {\n            $module.addClass(className.visible);\n          },\n          overlay: function () {\n            $module.addClass(className.overlay);\n          }\n        },\n        remove: {\n          inlineCSS: function () {\n            module.debug('Removing inline css styles', $style);\n\n            if ($style && $style.length > 0) {\n              $style.remove();\n            }\n          },\n          // ios scroll on html not document\n          ios: function () {\n            $html.removeClass(className.ios);\n          },\n          // context\n          pushed: function () {\n            $context.removeClass(className.pushed);\n          },\n          pushable: function () {\n            $context.removeClass(className.pushable);\n          },\n          // sidebar\n          active: function () {\n            $module.removeClass(className.active);\n          },\n          animating: function () {\n            $module.removeClass(className.animating);\n          },\n          transition: function (transition) {\n            transition = transition || module.get.transition();\n            $module.removeClass(transition);\n          },\n          direction: function (direction) {\n            direction = direction || module.get.direction();\n            $module.removeClass(className[direction]);\n          },\n          visible: function () {\n            $module.removeClass(className.visible);\n          },\n          overlay: function () {\n            $module.removeClass(className.overlay);\n          }\n        },\n        get: {\n          direction: function () {\n            if ($module.hasClass(className.top)) {\n              return className.top;\n            } else if ($module.hasClass(className.right)) {\n              return className.right;\n            } else if ($module.hasClass(className.bottom)) {\n              return className.bottom;\n            }\n\n            return className.left;\n          },\n          transition: function () {\n            var direction = module.get.direction(),\n                transition;\n            transition = module.is.mobile() ? settings.mobileTransition == 'auto' ? settings.defaultTransition.mobile[direction] : settings.mobileTransition : settings.transition == 'auto' ? settings.defaultTransition.computer[direction] : settings.transition;\n            module.verbose('Determined transition', transition);\n            return transition;\n          },\n          transitionEvent: function () {\n            var element = document.createElement('element'),\n                transitions = {\n              'transition': 'transitionend',\n              'OTransition': 'oTransitionEnd',\n              'MozTransition': 'transitionend',\n              'WebkitTransition': 'webkitTransitionEnd'\n            },\n                transition;\n\n            for (transition in transitions) {\n              if (element.style[transition] !== undefined) {\n                return transitions[transition];\n              }\n            }\n          }\n        },\n        is: {\n          ie: function () {\n            var isIE11 = !window.ActiveXObject && 'ActiveXObject' in window,\n                isIE = 'ActiveXObject' in window;\n            return isIE11 || isIE;\n          },\n          ios: function () {\n            var userAgent = navigator.userAgent,\n                isIOS = userAgent.match(regExp.ios),\n                isMobileChrome = userAgent.match(regExp.mobileChrome);\n\n            if (isIOS && !isMobileChrome) {\n              module.verbose('Browser was found to be iOS', userAgent);\n              return true;\n            } else {\n              return false;\n            }\n          },\n          mobile: function () {\n            var userAgent = navigator.userAgent,\n                isMobile = userAgent.match(regExp.mobile);\n\n            if (isMobile) {\n              module.verbose('Browser was found to be mobile', userAgent);\n              return true;\n            } else {\n              module.verbose('Browser is not mobile, using regular transition', userAgent);\n              return false;\n            }\n          },\n          hidden: function () {\n            return !module.is.visible();\n          },\n          visible: function () {\n            return $module.hasClass(className.visible);\n          },\n          // alias\n          open: function () {\n            return module.is.visible();\n          },\n          closed: function () {\n            return module.is.hidden();\n          },\n          vertical: function () {\n            return $module.hasClass(className.top);\n          },\n          animating: function () {\n            return $context.hasClass(className.animating);\n          },\n          rtl: function () {\n            if (module.cache.rtl === undefined) {\n              module.cache.rtl = $module.css('direction') == 'rtl';\n            }\n\n            return module.cache.rtl;\n          }\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          module.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.sidebar.settings = {\n    name: 'Sidebar',\n    namespace: 'sidebar',\n    silent: false,\n    debug: false,\n    verbose: false,\n    performance: true,\n    transition: 'auto',\n    mobileTransition: 'auto',\n    defaultTransition: {\n      computer: {\n        left: 'uncover',\n        right: 'uncover',\n        top: 'overlay',\n        bottom: 'overlay'\n      },\n      mobile: {\n        left: 'uncover',\n        right: 'uncover',\n        top: 'overlay',\n        bottom: 'overlay'\n      }\n    },\n    context: 'body',\n    exclusive: false,\n    closable: true,\n    dimPage: true,\n    scrollLock: false,\n    returnScroll: false,\n    delaySetup: false,\n    duration: 500,\n    onChange: function () {},\n    onShow: function () {},\n    onHide: function () {},\n    onHidden: function () {},\n    onVisible: function () {},\n    className: {\n      active: 'active',\n      animating: 'animating',\n      dimmed: 'dimmed',\n      ios: 'ios',\n      pushable: 'pushable',\n      pushed: 'pushed',\n      right: 'right',\n      top: 'top',\n      left: 'left',\n      bottom: 'bottom',\n      visible: 'visible'\n    },\n    selector: {\n      fixed: '.fixed',\n      omitted: 'script, link, style, .ui.modal, .ui.dimmer, .ui.nag, .ui.fixed',\n      pusher: '.pusher',\n      sidebar: '.ui.sidebar'\n    },\n    regExp: {\n      ios: /(iPad|iPhone|iPod)/g,\n      mobileChrome: /(CriOS)/g,\n      mobile: /Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/g\n    },\n    error: {\n      method: 'The method you called is not defined.',\n      pusher: 'Had to add pusher element. For optimal performance make sure body content is inside a pusher element',\n      movedSidebar: 'Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag',\n      overlay: 'The overlay setting is no longer supported, use animation: overlay',\n      notFound: 'There were no elements that matched the specified selector'\n    }\n  };\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"sticky.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/modules/sticky.js                                                                          //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * # Semantic UI - Sticky\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.sticky = function (parameters) {\n    var $allModules = $(this),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue;\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.sticky.settings, parameters) : $.extend({}, $.fn.sticky.settings),\n          className = settings.className,\n          namespace = settings.namespace,\n          error = settings.error,\n          eventNamespace = '.' + namespace,\n          moduleNamespace = 'module-' + namespace,\n          $module = $(this),\n          $window = $(window),\n          $scroll = $(settings.scrollContext),\n          $container,\n          $context,\n          selector = $module.selector || '',\n          instance = $module.data(moduleNamespace),\n          requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {\n        setTimeout(callback, 0);\n      },\n          element = this,\n          documentObserver,\n          observer,\n          module;\n\n      module = {\n        initialize: function () {\n          module.determineContainer();\n          module.determineContext();\n          module.verbose('Initializing sticky', settings, $container);\n          module.save.positions();\n          module.checkErrors();\n          module.bind.events();\n\n          if (settings.observeChanges) {\n            module.observeChanges();\n          }\n\n          module.instantiate();\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module.data(moduleNamespace, module);\n        },\n        destroy: function () {\n          module.verbose('Destroying previous instance');\n          module.reset();\n\n          if (documentObserver) {\n            documentObserver.disconnect();\n          }\n\n          if (observer) {\n            observer.disconnect();\n          }\n\n          $window.off('load' + eventNamespace, module.event.load).off('resize' + eventNamespace, module.event.resize);\n          $scroll.off('scrollchange' + eventNamespace, module.event.scrollchange);\n          $module.removeData(moduleNamespace);\n        },\n        observeChanges: function () {\n          if ('MutationObserver' in window) {\n            documentObserver = new MutationObserver(module.event.documentChanged);\n            observer = new MutationObserver(module.event.changed);\n            documentObserver.observe(document, {\n              childList: true,\n              subtree: true\n            });\n            observer.observe(element, {\n              childList: true,\n              subtree: true\n            });\n            observer.observe($context[0], {\n              childList: true,\n              subtree: true\n            });\n            module.debug('Setting up mutation observer', observer);\n          }\n        },\n        determineContainer: function () {\n          if (settings.container) {\n            $container = $(settings.container);\n          } else {\n            $container = $module.offsetParent();\n          }\n        },\n        determineContext: function () {\n          if (settings.context) {\n            $context = $(settings.context);\n          } else {\n            $context = $container;\n          }\n\n          if ($context.length === 0) {\n            module.error(error.invalidContext, settings.context, $module);\n            return;\n          }\n        },\n        checkErrors: function () {\n          if (module.is.hidden()) {\n            module.error(error.visible, $module);\n          }\n\n          if (module.cache.element.height > module.cache.context.height) {\n            module.reset();\n            module.error(error.elementSize, $module);\n            return;\n          }\n        },\n        bind: {\n          events: function () {\n            $window.on('load' + eventNamespace, module.event.load).on('resize' + eventNamespace, module.event.resize); // pub/sub pattern\n\n            $scroll.off('scroll' + eventNamespace).on('scroll' + eventNamespace, module.event.scroll).on('scrollchange' + eventNamespace, module.event.scrollchange);\n          }\n        },\n        event: {\n          changed: function (mutations) {\n            clearTimeout(module.timer);\n            module.timer = setTimeout(function () {\n              module.verbose('DOM tree modified, updating sticky menu', mutations);\n              module.refresh();\n            }, 100);\n          },\n          documentChanged: function (mutations) {\n            [].forEach.call(mutations, function (mutation) {\n              if (mutation.removedNodes) {\n                [].forEach.call(mutation.removedNodes, function (node) {\n                  if (node == element || $(node).find(element).length > 0) {\n                    module.debug('Element removed from DOM, tearing down events');\n                    module.destroy();\n                  }\n                });\n              }\n            });\n          },\n          load: function () {\n            module.verbose('Page contents finished loading');\n            requestAnimationFrame(module.refresh);\n          },\n          resize: function () {\n            module.verbose('Window resized');\n            requestAnimationFrame(module.refresh);\n          },\n          scroll: function () {\n            requestAnimationFrame(function () {\n              $scroll.triggerHandler('scrollchange' + eventNamespace, $scroll.scrollTop());\n            });\n          },\n          scrollchange: function (event, scrollPosition) {\n            module.stick(scrollPosition);\n            settings.onScroll.call(element);\n          }\n        },\n        refresh: function (hardRefresh) {\n          module.reset();\n\n          if (!settings.context) {\n            module.determineContext();\n          }\n\n          if (hardRefresh) {\n            module.determineContainer();\n          }\n\n          module.save.positions();\n          module.stick();\n          settings.onReposition.call(element);\n        },\n        supports: {\n          sticky: function () {\n            var $element = $('<div/>'),\n                element = $element[0];\n            $element.addClass(className.supported);\n            return $element.css('position').match('sticky');\n          }\n        },\n        save: {\n          lastScroll: function (scroll) {\n            module.lastScroll = scroll;\n          },\n          elementScroll: function (scroll) {\n            module.elementScroll = scroll;\n          },\n          positions: function () {\n            var scrollContext = {\n              height: $scroll.height()\n            },\n                element = {\n              margin: {\n                top: parseInt($module.css('margin-top'), 10),\n                bottom: parseInt($module.css('margin-bottom'), 10)\n              },\n              offset: $module.offset(),\n              width: $module.outerWidth(),\n              height: $module.outerHeight()\n            },\n                context = {\n              offset: $context.offset(),\n              height: $context.outerHeight()\n            },\n                container = {\n              height: $container.outerHeight()\n            };\n\n            if (!module.is.standardScroll()) {\n              module.debug('Non-standard scroll. Removing scroll offset from element offset');\n              scrollContext.top = $scroll.scrollTop();\n              scrollContext.left = $scroll.scrollLeft();\n              element.offset.top += scrollContext.top;\n              context.offset.top += scrollContext.top;\n              element.offset.left += scrollContext.left;\n              context.offset.left += scrollContext.left;\n            }\n\n            module.cache = {\n              fits: element.height + settings.offset <= scrollContext.height,\n              sameHeight: element.height == context.height,\n              scrollContext: {\n                height: scrollContext.height\n              },\n              element: {\n                margin: element.margin,\n                top: element.offset.top - element.margin.top,\n                left: element.offset.left,\n                width: element.width,\n                height: element.height,\n                bottom: element.offset.top + element.height\n              },\n              context: {\n                top: context.offset.top,\n                height: context.height,\n                bottom: context.offset.top + context.height\n              }\n            };\n            module.set.containerSize();\n            module.stick();\n            module.debug('Caching element positions', module.cache);\n          }\n        },\n        get: {\n          direction: function (scroll) {\n            var direction = 'down';\n            scroll = scroll || $scroll.scrollTop();\n\n            if (module.lastScroll !== undefined) {\n              if (module.lastScroll < scroll) {\n                direction = 'down';\n              } else if (module.lastScroll > scroll) {\n                direction = 'up';\n              }\n            }\n\n            return direction;\n          },\n          scrollChange: function (scroll) {\n            scroll = scroll || $scroll.scrollTop();\n            return module.lastScroll ? scroll - module.lastScroll : 0;\n          },\n          currentElementScroll: function () {\n            if (module.elementScroll) {\n              return module.elementScroll;\n            }\n\n            return module.is.top() ? Math.abs(parseInt($module.css('top'), 10)) || 0 : Math.abs(parseInt($module.css('bottom'), 10)) || 0;\n          },\n          elementScroll: function (scroll) {\n            scroll = scroll || $scroll.scrollTop();\n            var element = module.cache.element,\n                scrollContext = module.cache.scrollContext,\n                delta = module.get.scrollChange(scroll),\n                maxScroll = element.height - scrollContext.height + settings.offset,\n                elementScroll = module.get.currentElementScroll(),\n                possibleScroll = elementScroll + delta;\n\n            if (module.cache.fits || possibleScroll < 0) {\n              elementScroll = 0;\n            } else if (possibleScroll > maxScroll) {\n              elementScroll = maxScroll;\n            } else {\n              elementScroll = possibleScroll;\n            }\n\n            return elementScroll;\n          }\n        },\n        remove: {\n          lastScroll: function () {\n            delete module.lastScroll;\n          },\n          elementScroll: function (scroll) {\n            delete module.elementScroll;\n          },\n          minimumSize: function () {\n            $container.css('min-height', '');\n          },\n          offset: function () {\n            $module.css('margin-top', '');\n          }\n        },\n        set: {\n          offset: function () {\n            module.verbose('Setting offset on element', settings.offset);\n            $module.css('margin-top', settings.offset);\n          },\n          containerSize: function () {\n            var tagName = $container.get(0).tagName;\n\n            if (tagName === 'HTML' || tagName == 'body') {\n              // this can trigger for too many reasons\n              //module.error(error.container, tagName, $module);\n              module.determineContainer();\n            } else {\n              if (Math.abs($container.outerHeight() - module.cache.context.height) > settings.jitter) {\n                module.debug('Context has padding, specifying exact height for container', module.cache.context.height);\n                $container.css({\n                  height: module.cache.context.height\n                });\n              }\n            }\n          },\n          minimumSize: function () {\n            var element = module.cache.element;\n            $container.css('min-height', element.height);\n          },\n          scroll: function (scroll) {\n            module.debug('Setting scroll on element', scroll);\n\n            if (module.elementScroll == scroll) {\n              return;\n            }\n\n            if (module.is.top()) {\n              $module.css('bottom', '').css('top', -scroll);\n            }\n\n            if (module.is.bottom()) {\n              $module.css('top', '').css('bottom', scroll);\n            }\n          },\n          size: function () {\n            if (module.cache.element.height !== 0 && module.cache.element.width !== 0) {\n              element.style.setProperty('width', module.cache.element.width + 'px', 'important');\n              element.style.setProperty('height', module.cache.element.height + 'px', 'important');\n            }\n          }\n        },\n        is: {\n          standardScroll: function () {\n            return $scroll[0] == window;\n          },\n          top: function () {\n            return $module.hasClass(className.top);\n          },\n          bottom: function () {\n            return $module.hasClass(className.bottom);\n          },\n          initialPosition: function () {\n            return !module.is.fixed() && !module.is.bound();\n          },\n          hidden: function () {\n            return !$module.is(':visible');\n          },\n          bound: function () {\n            return $module.hasClass(className.bound);\n          },\n          fixed: function () {\n            return $module.hasClass(className.fixed);\n          }\n        },\n        stick: function (scroll) {\n          var cachedPosition = scroll || $scroll.scrollTop(),\n              cache = module.cache,\n              fits = cache.fits,\n              sameHeight = cache.sameHeight,\n              element = cache.element,\n              scrollContext = cache.scrollContext,\n              context = cache.context,\n              offset = module.is.bottom() && settings.pushing ? settings.bottomOffset : settings.offset,\n              scroll = {\n            top: cachedPosition + offset,\n            bottom: cachedPosition + offset + scrollContext.height\n          },\n              direction = module.get.direction(scroll.top),\n              elementScroll = fits ? 0 : module.get.elementScroll(scroll.top),\n              // shorthand\n          doesntFit = !fits,\n              elementVisible = element.height !== 0;\n\n          if (elementVisible && !sameHeight) {\n            if (module.is.initialPosition()) {\n              if (scroll.top >= context.bottom) {\n                module.debug('Initial element position is bottom of container');\n                module.bindBottom();\n              } else if (scroll.top > element.top) {\n                if (element.height + scroll.top - elementScroll >= context.bottom) {\n                  module.debug('Initial element position is bottom of container');\n                  module.bindBottom();\n                } else {\n                  module.debug('Initial element position is fixed');\n                  module.fixTop();\n                }\n              }\n            } else if (module.is.fixed()) {\n              // currently fixed top\n              if (module.is.top()) {\n                if (scroll.top <= element.top) {\n                  module.debug('Fixed element reached top of container');\n                  module.setInitialPosition();\n                } else if (element.height + scroll.top - elementScroll >= context.bottom) {\n                  module.debug('Fixed element reached bottom of container');\n                  module.bindBottom();\n                } // scroll element if larger than screen\n                else if (doesntFit) {\n                    module.set.scroll(elementScroll);\n                    module.save.lastScroll(scroll.top);\n                    module.save.elementScroll(elementScroll);\n                  }\n              } // currently fixed bottom\n              else if (module.is.bottom()) {\n                  // top edge\n                  if (scroll.bottom - element.height <= element.top) {\n                    module.debug('Bottom fixed rail has reached top of container');\n                    module.setInitialPosition();\n                  } // bottom edge\n                  else if (scroll.bottom >= context.bottom) {\n                      module.debug('Bottom fixed rail has reached bottom of container');\n                      module.bindBottom();\n                    } // scroll element if larger than screen\n                    else if (doesntFit) {\n                        module.set.scroll(elementScroll);\n                        module.save.lastScroll(scroll.top);\n                        module.save.elementScroll(elementScroll);\n                      }\n                }\n            } else if (module.is.bottom()) {\n              if (scroll.top <= element.top) {\n                module.debug('Jumped from bottom fixed to top fixed, most likely used home/end button');\n                module.setInitialPosition();\n              } else {\n                if (settings.pushing) {\n                  if (module.is.bound() && scroll.bottom <= context.bottom) {\n                    module.debug('Fixing bottom attached element to bottom of browser.');\n                    module.fixBottom();\n                  }\n                } else {\n                  if (module.is.bound() && scroll.top <= context.bottom - element.height) {\n                    module.debug('Fixing bottom attached element to top of browser.');\n                    module.fixTop();\n                  }\n                }\n              }\n            }\n          }\n        },\n        bindTop: function () {\n          module.debug('Binding element to top of parent container');\n          module.remove.offset();\n          $module.css({\n            left: '',\n            top: '',\n            marginBottom: ''\n          }).removeClass(className.fixed).removeClass(className.bottom).addClass(className.bound).addClass(className.top);\n          settings.onTop.call(element);\n          settings.onUnstick.call(element);\n        },\n        bindBottom: function () {\n          module.debug('Binding element to bottom of parent container');\n          module.remove.offset();\n          $module.css({\n            left: '',\n            top: ''\n          }).removeClass(className.fixed).removeClass(className.top).addClass(className.bound).addClass(className.bottom);\n          settings.onBottom.call(element);\n          settings.onUnstick.call(element);\n        },\n        setInitialPosition: function () {\n          module.debug('Returning to initial position');\n          module.unfix();\n          module.unbind();\n        },\n        fixTop: function () {\n          module.debug('Fixing element to top of page');\n\n          if (settings.setSize) {\n            module.set.size();\n          }\n\n          module.set.minimumSize();\n          module.set.offset();\n          $module.css({\n            left: module.cache.element.left,\n            bottom: '',\n            marginBottom: ''\n          }).removeClass(className.bound).removeClass(className.bottom).addClass(className.fixed).addClass(className.top);\n          settings.onStick.call(element);\n        },\n        fixBottom: function () {\n          module.debug('Sticking element to bottom of page');\n\n          if (settings.setSize) {\n            module.set.size();\n          }\n\n          module.set.minimumSize();\n          module.set.offset();\n          $module.css({\n            left: module.cache.element.left,\n            bottom: '',\n            marginBottom: ''\n          }).removeClass(className.bound).removeClass(className.top).addClass(className.fixed).addClass(className.bottom);\n          settings.onStick.call(element);\n        },\n        unbind: function () {\n          if (module.is.bound()) {\n            module.debug('Removing container bound position on element');\n            module.remove.offset();\n            $module.removeClass(className.bound).removeClass(className.top).removeClass(className.bottom);\n          }\n        },\n        unfix: function () {\n          if (module.is.fixed()) {\n            module.debug('Removing fixed position on element');\n            module.remove.minimumSize();\n            module.remove.offset();\n            $module.removeClass(className.fixed).removeClass(className.top).removeClass(className.bottom);\n            settings.onUnstick.call(element);\n          }\n        },\n        reset: function () {\n          module.debug('Resetting elements position');\n          module.unbind();\n          module.unfix();\n          module.resetCSS();\n          module.remove.offset();\n          module.remove.lastScroll();\n        },\n        resetCSS: function () {\n          $module.css({\n            width: '',\n            height: ''\n          });\n          $container.css({\n            height: ''\n          });\n        },\n        setting: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            settings[name] = value;\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 0);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.sticky.settings = {\n    name: 'Sticky',\n    namespace: 'sticky',\n    silent: false,\n    debug: false,\n    verbose: true,\n    performance: true,\n    // whether to stick in the opposite direction on scroll up\n    pushing: false,\n    context: false,\n    container: false,\n    // Context to watch scroll events\n    scrollContext: window,\n    // Offset to adjust scroll\n    offset: 0,\n    // Offset to adjust scroll when attached to bottom of screen\n    bottomOffset: 0,\n    // will only set container height if difference between context and container is larger than this number\n    jitter: 5,\n    // set width of sticky element when it is fixed to page (used to make sure 100% width is maintained if no fixed size set)\n    setSize: true,\n    // Whether to automatically observe changes with Mutation Observers\n    observeChanges: false,\n    // Called when position is recalculated\n    onReposition: function () {},\n    // Called on each scroll\n    onScroll: function () {},\n    // Called when element is stuck to viewport\n    onStick: function () {},\n    // Called when element is unstuck from viewport\n    onUnstick: function () {},\n    // Called when element reaches top of context\n    onTop: function () {},\n    // Called when element reaches bottom of context\n    onBottom: function () {},\n    error: {\n      container: 'Sticky element must be inside a relative container',\n      visible: 'Element is hidden, you must call refresh after element becomes visible. Use silent setting to surpress this warning in production.',\n      method: 'The method you called is not defined.',\n      invalidContext: 'Context specified does not exist',\n      elementSize: 'Sticky element is larger than its container, cannot create sticky.'\n    },\n    className: {\n      bound: 'bound',\n      fixed: 'fixed',\n      supported: 'native',\n      top: 'top',\n      bottom: 'bottom'\n    }\n  };\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"tab.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/modules/tab.js                                                                             //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * # Semantic UI - Tab\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.tab = function (parameters) {\n    var // use window context if none specified\n    $allModules = $.isFunction(this) ? $(window) : $(this),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        initializedHistory = false,\n        returnedValue;\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.tab.settings, parameters) : $.extend({}, $.fn.tab.settings),\n          className = settings.className,\n          metadata = settings.metadata,\n          selector = settings.selector,\n          error = settings.error,\n          eventNamespace = '.' + settings.namespace,\n          moduleNamespace = 'module-' + settings.namespace,\n          $module = $(this),\n          $context,\n          $tabs,\n          cache = {},\n          firstLoad = true,\n          recursionDepth = 0,\n          element = this,\n          instance = $module.data(moduleNamespace),\n          activeTabPath,\n          parameterArray,\n          module,\n          historyEvent;\n      module = {\n        initialize: function () {\n          module.debug('Initializing tab menu item', $module);\n          module.fix.callbacks();\n          module.determineTabs();\n          module.debug('Determining tabs', settings.context, $tabs); // set up automatic routing\n\n          if (settings.auto) {\n            module.set.auto();\n          }\n\n          module.bind.events();\n\n          if (settings.history && !initializedHistory) {\n            module.initializeHistory();\n            initializedHistory = true;\n          }\n\n          module.instantiate();\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module.data(moduleNamespace, module);\n        },\n        destroy: function () {\n          module.debug('Destroying tabs', $module);\n          $module.removeData(moduleNamespace).off(eventNamespace);\n        },\n        bind: {\n          events: function () {\n            // if using $.tab don't add events\n            if (!$.isWindow(element)) {\n              module.debug('Attaching tab activation events to element', $module);\n              $module.on('click' + eventNamespace, module.event.click);\n            }\n          }\n        },\n        determineTabs: function () {\n          var $reference; // determine tab context\n\n          if (settings.context === 'parent') {\n            if ($module.closest(selector.ui).length > 0) {\n              $reference = $module.closest(selector.ui);\n              module.verbose('Using closest UI element as parent', $reference);\n            } else {\n              $reference = $module;\n            }\n\n            $context = $reference.parent();\n            module.verbose('Determined parent element for creating context', $context);\n          } else if (settings.context) {\n            $context = $(settings.context);\n            module.verbose('Using selector for tab context', settings.context, $context);\n          } else {\n            $context = $('body');\n          } // find tabs\n\n\n          if (settings.childrenOnly) {\n            $tabs = $context.children(selector.tabs);\n            module.debug('Searching tab context children for tabs', $context, $tabs);\n          } else {\n            $tabs = $context.find(selector.tabs);\n            module.debug('Searching tab context for tabs', $context, $tabs);\n          }\n        },\n        fix: {\n          callbacks: function () {\n            if ($.isPlainObject(parameters) && (parameters.onTabLoad || parameters.onTabInit)) {\n              if (parameters.onTabLoad) {\n                parameters.onLoad = parameters.onTabLoad;\n                delete parameters.onTabLoad;\n                module.error(error.legacyLoad, parameters.onLoad);\n              }\n\n              if (parameters.onTabInit) {\n                parameters.onFirstLoad = parameters.onTabInit;\n                delete parameters.onTabInit;\n                module.error(error.legacyInit, parameters.onFirstLoad);\n              }\n\n              settings = $.extend(true, {}, $.fn.tab.settings, parameters);\n            }\n          }\n        },\n        initializeHistory: function () {\n          module.debug('Initializing page state');\n\n          if ($.address === undefined) {\n            module.error(error.state);\n            return false;\n          } else {\n            if (settings.historyType == 'state') {\n              module.debug('Using HTML5 to manage state');\n\n              if (settings.path !== false) {\n                $.address.history(true).state(settings.path);\n              } else {\n                module.error(error.path);\n                return false;\n              }\n            }\n\n            $.address.bind('change', module.event.history.change);\n          }\n        },\n        event: {\n          click: function (event) {\n            var tabPath = $(this).data(metadata.tab);\n\n            if (tabPath !== undefined) {\n              if (settings.history) {\n                module.verbose('Updating page state', event);\n                $.address.value(tabPath);\n              } else {\n                module.verbose('Changing tab', event);\n                module.changeTab(tabPath);\n              }\n\n              event.preventDefault();\n            } else {\n              module.debug('No tab specified');\n            }\n          },\n          history: {\n            change: function (event) {\n              var tabPath = event.pathNames.join('/') || module.get.initialPath(),\n                  pageTitle = settings.templates.determineTitle(tabPath) || false;\n              module.performance.display();\n              module.debug('History change event', tabPath, event);\n              historyEvent = event;\n\n              if (tabPath !== undefined) {\n                module.changeTab(tabPath);\n              }\n\n              if (pageTitle) {\n                $.address.title(pageTitle);\n              }\n            }\n          }\n        },\n        refresh: function () {\n          if (activeTabPath) {\n            module.debug('Refreshing tab', activeTabPath);\n            module.changeTab(activeTabPath);\n          }\n        },\n        cache: {\n          read: function (cacheKey) {\n            return cacheKey !== undefined ? cache[cacheKey] : false;\n          },\n          add: function (cacheKey, content) {\n            cacheKey = cacheKey || activeTabPath;\n            module.debug('Adding cached content for', cacheKey);\n            cache[cacheKey] = content;\n          },\n          remove: function (cacheKey) {\n            cacheKey = cacheKey || activeTabPath;\n            module.debug('Removing cached content for', cacheKey);\n            delete cache[cacheKey];\n          }\n        },\n        set: {\n          auto: function () {\n            var url = typeof settings.path == 'string' ? settings.path.replace(/\\/$/, '') + '/{$tab}' : '/{$tab}';\n            module.verbose('Setting up automatic tab retrieval from server', url);\n\n            if ($.isPlainObject(settings.apiSettings)) {\n              settings.apiSettings.url = url;\n            } else {\n              settings.apiSettings = {\n                url: url\n              };\n            }\n          },\n          loading: function (tabPath) {\n            var $tab = module.get.tabElement(tabPath),\n                isLoading = $tab.hasClass(className.loading);\n\n            if (!isLoading) {\n              module.verbose('Setting loading state for', $tab);\n              $tab.addClass(className.loading).siblings($tabs).removeClass(className.active + ' ' + className.loading);\n\n              if ($tab.length > 0) {\n                settings.onRequest.call($tab[0], tabPath);\n              }\n            }\n          },\n          state: function (state) {\n            $.address.value(state);\n          }\n        },\n        changeTab: function (tabPath) {\n          var pushStateAvailable = window.history && window.history.pushState,\n              shouldIgnoreLoad = pushStateAvailable && settings.ignoreFirstLoad && firstLoad,\n              remoteContent = settings.auto || $.isPlainObject(settings.apiSettings),\n              // only add default path if not remote content\n          pathArray = remoteContent && !shouldIgnoreLoad ? module.utilities.pathToArray(tabPath) : module.get.defaultPathArray(tabPath);\n          tabPath = module.utilities.arrayToPath(pathArray);\n          $.each(pathArray, function (index, tab) {\n            var currentPathArray = pathArray.slice(0, index + 1),\n                currentPath = module.utilities.arrayToPath(currentPathArray),\n                isTab = module.is.tab(currentPath),\n                isLastIndex = index + 1 == pathArray.length,\n                $tab = module.get.tabElement(currentPath),\n                $anchor,\n                nextPathArray,\n                nextPath,\n                isLastTab;\n            module.verbose('Looking for tab', tab);\n\n            if (isTab) {\n              module.verbose('Tab was found', tab); // scope up\n\n              activeTabPath = currentPath;\n              parameterArray = module.utilities.filterArray(pathArray, currentPathArray);\n\n              if (isLastIndex) {\n                isLastTab = true;\n              } else {\n                nextPathArray = pathArray.slice(0, index + 2);\n                nextPath = module.utilities.arrayToPath(nextPathArray);\n                isLastTab = !module.is.tab(nextPath);\n\n                if (isLastTab) {\n                  module.verbose('Tab parameters found', nextPathArray);\n                }\n              }\n\n              if (isLastTab && remoteContent) {\n                if (!shouldIgnoreLoad) {\n                  module.activate.navigation(currentPath);\n                  module.fetch.content(currentPath, tabPath);\n                } else {\n                  module.debug('Ignoring remote content on first tab load', currentPath);\n                  firstLoad = false;\n                  module.cache.add(tabPath, $tab.html());\n                  module.activate.all(currentPath);\n                  settings.onFirstLoad.call($tab[0], currentPath, parameterArray, historyEvent);\n                  settings.onLoad.call($tab[0], currentPath, parameterArray, historyEvent);\n                }\n\n                return false;\n              } else {\n                module.debug('Opened local tab', currentPath);\n                module.activate.all(currentPath);\n\n                if (!module.cache.read(currentPath)) {\n                  module.cache.add(currentPath, true);\n                  module.debug('First time tab loaded calling tab init');\n                  settings.onFirstLoad.call($tab[0], currentPath, parameterArray, historyEvent);\n                }\n\n                settings.onLoad.call($tab[0], currentPath, parameterArray, historyEvent);\n              }\n            } else if (tabPath.search('/') == -1 && tabPath !== '') {\n              // look for in page anchor\n              $anchor = $('#' + tabPath + ', a[name=\"' + tabPath + '\"]');\n              currentPath = $anchor.closest('[data-tab]').data(metadata.tab);\n              $tab = module.get.tabElement(currentPath); // if anchor exists use parent tab\n\n              if ($anchor && $anchor.length > 0 && currentPath) {\n                module.debug('Anchor link used, opening parent tab', $tab, $anchor);\n\n                if (!$tab.hasClass(className.active)) {\n                  setTimeout(function () {\n                    module.scrollTo($anchor);\n                  }, 0);\n                }\n\n                module.activate.all(currentPath);\n\n                if (!module.cache.read(currentPath)) {\n                  module.cache.add(currentPath, true);\n                  module.debug('First time tab loaded calling tab init');\n                  settings.onFirstLoad.call($tab[0], currentPath, parameterArray, historyEvent);\n                }\n\n                settings.onLoad.call($tab[0], currentPath, parameterArray, historyEvent);\n                return false;\n              }\n            } else {\n              module.error(error.missingTab, $module, $context, currentPath);\n              return false;\n            }\n          });\n        },\n        scrollTo: function ($element) {\n          var scrollOffset = $element && $element.length > 0 ? $element.offset().top : false;\n\n          if (scrollOffset !== false) {\n            module.debug('Forcing scroll to an in-page link in a hidden tab', scrollOffset, $element);\n            $(document).scrollTop(scrollOffset);\n          }\n        },\n        update: {\n          content: function (tabPath, html, evaluateScripts) {\n            var $tab = module.get.tabElement(tabPath),\n                tab = $tab[0];\n            evaluateScripts = evaluateScripts !== undefined ? evaluateScripts : settings.evaluateScripts;\n\n            if (typeof settings.cacheType == 'string' && settings.cacheType.toLowerCase() == 'dom' && typeof html !== 'string') {\n              $tab.empty().append($(html).clone(true));\n            } else {\n              if (evaluateScripts) {\n                module.debug('Updating HTML and evaluating inline scripts', tabPath, html);\n                $tab.html(html);\n              } else {\n                module.debug('Updating HTML', tabPath, html);\n                tab.innerHTML = html;\n              }\n            }\n          }\n        },\n        fetch: {\n          content: function (tabPath, fullTabPath) {\n            var $tab = module.get.tabElement(tabPath),\n                apiSettings = {\n              dataType: 'html',\n              encodeParameters: false,\n              on: 'now',\n              cache: settings.alwaysRefresh,\n              headers: {\n                'X-Remote': true\n              },\n              onSuccess: function (response) {\n                if (settings.cacheType == 'response') {\n                  module.cache.add(fullTabPath, response);\n                }\n\n                module.update.content(tabPath, response);\n\n                if (tabPath == activeTabPath) {\n                  module.debug('Content loaded', tabPath);\n                  module.activate.tab(tabPath);\n                } else {\n                  module.debug('Content loaded in background', tabPath);\n                }\n\n                settings.onFirstLoad.call($tab[0], tabPath, parameterArray, historyEvent);\n                settings.onLoad.call($tab[0], tabPath, parameterArray, historyEvent);\n\n                if (settings.loadOnce) {\n                  module.cache.add(fullTabPath, true);\n                } else if (typeof settings.cacheType == 'string' && settings.cacheType.toLowerCase() == 'dom' && $tab.children().length > 0) {\n                  setTimeout(function () {\n                    var $clone = $tab.children().clone(true);\n                    $clone = $clone.not('script');\n                    module.cache.add(fullTabPath, $clone);\n                  }, 0);\n                } else {\n                  module.cache.add(fullTabPath, $tab.html());\n                }\n              },\n              urlData: {\n                tab: fullTabPath\n              }\n            },\n                request = $tab.api('get request') || false,\n                existingRequest = request && request.state() === 'pending',\n                requestSettings,\n                cachedContent;\n            fullTabPath = fullTabPath || tabPath;\n            cachedContent = module.cache.read(fullTabPath);\n\n            if (settings.cache && cachedContent) {\n              module.activate.tab(tabPath);\n              module.debug('Adding cached content', fullTabPath);\n\n              if (!settings.loadOnce) {\n                if (settings.evaluateScripts == 'once') {\n                  module.update.content(tabPath, cachedContent, false);\n                } else {\n                  module.update.content(tabPath, cachedContent);\n                }\n              }\n\n              settings.onLoad.call($tab[0], tabPath, parameterArray, historyEvent);\n            } else if (existingRequest) {\n              module.set.loading(tabPath);\n              module.debug('Content is already loading', fullTabPath);\n            } else if ($.api !== undefined) {\n              requestSettings = $.extend(true, {}, settings.apiSettings, apiSettings);\n              module.debug('Retrieving remote content', fullTabPath, requestSettings);\n              module.set.loading(tabPath);\n              $tab.api(requestSettings);\n            } else {\n              module.error(error.api);\n            }\n          }\n        },\n        activate: {\n          all: function (tabPath) {\n            module.activate.tab(tabPath);\n            module.activate.navigation(tabPath);\n          },\n          tab: function (tabPath) {\n            var $tab = module.get.tabElement(tabPath),\n                $deactiveTabs = settings.deactivate == 'siblings' ? $tab.siblings($tabs) : $tabs.not($tab),\n                isActive = $tab.hasClass(className.active);\n            module.verbose('Showing tab content for', $tab);\n\n            if (!isActive) {\n              $tab.addClass(className.active);\n              $deactiveTabs.removeClass(className.active + ' ' + className.loading);\n\n              if ($tab.length > 0) {\n                settings.onVisible.call($tab[0], tabPath);\n              }\n            }\n          },\n          navigation: function (tabPath) {\n            var $navigation = module.get.navElement(tabPath),\n                $deactiveNavigation = settings.deactivate == 'siblings' ? $navigation.siblings($allModules) : $allModules.not($navigation),\n                isActive = $navigation.hasClass(className.active);\n            module.verbose('Activating tab navigation for', $navigation, tabPath);\n\n            if (!isActive) {\n              $navigation.addClass(className.active);\n              $deactiveNavigation.removeClass(className.active + ' ' + className.loading);\n            }\n          }\n        },\n        deactivate: {\n          all: function () {\n            module.deactivate.navigation();\n            module.deactivate.tabs();\n          },\n          navigation: function () {\n            $allModules.removeClass(className.active);\n          },\n          tabs: function () {\n            $tabs.removeClass(className.active + ' ' + className.loading);\n          }\n        },\n        is: {\n          tab: function (tabName) {\n            return tabName !== undefined ? module.get.tabElement(tabName).length > 0 : false;\n          }\n        },\n        get: {\n          initialPath: function () {\n            return $allModules.eq(0).data(metadata.tab) || $tabs.eq(0).data(metadata.tab);\n          },\n          path: function () {\n            return $.address.value();\n          },\n          // adds default tabs to tab path\n          defaultPathArray: function (tabPath) {\n            return module.utilities.pathToArray(module.get.defaultPath(tabPath));\n          },\n          defaultPath: function (tabPath) {\n            var $defaultNav = $allModules.filter('[data-' + metadata.tab + '^=\"' + tabPath + '/\"]').eq(0),\n                defaultTab = $defaultNav.data(metadata.tab) || false;\n\n            if (defaultTab) {\n              module.debug('Found default tab', defaultTab);\n\n              if (recursionDepth < settings.maxDepth) {\n                recursionDepth++;\n                return module.get.defaultPath(defaultTab);\n              }\n\n              module.error(error.recursion);\n            } else {\n              module.debug('No default tabs found for', tabPath, $tabs);\n            }\n\n            recursionDepth = 0;\n            return tabPath;\n          },\n          navElement: function (tabPath) {\n            tabPath = tabPath || activeTabPath;\n            return $allModules.filter('[data-' + metadata.tab + '=\"' + tabPath + '\"]');\n          },\n          tabElement: function (tabPath) {\n            var $fullPathTab, $simplePathTab, tabPathArray, lastTab;\n            tabPath = tabPath || activeTabPath;\n            tabPathArray = module.utilities.pathToArray(tabPath);\n            lastTab = module.utilities.last(tabPathArray);\n            $fullPathTab = $tabs.filter('[data-' + metadata.tab + '=\"' + tabPath + '\"]');\n            $simplePathTab = $tabs.filter('[data-' + metadata.tab + '=\"' + lastTab + '\"]');\n            return $fullPathTab.length > 0 ? $fullPathTab : $simplePathTab;\n          },\n          tab: function () {\n            return activeTabPath;\n          }\n        },\n        utilities: {\n          filterArray: function (keepArray, removeArray) {\n            return $.grep(keepArray, function (keepValue) {\n              return $.inArray(keepValue, removeArray) == -1;\n            });\n          },\n          last: function (array) {\n            return $.isArray(array) ? array[array.length - 1] : false;\n          },\n          pathToArray: function (pathName) {\n            if (pathName === undefined) {\n              pathName = activeTabPath;\n            }\n\n            return typeof pathName == 'string' ? pathName.split('/') : [pathName];\n          },\n          arrayToPath: function (pathArray) {\n            return $.isArray(pathArray) ? pathArray.join('/') : false;\n          }\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  }; // shortcut for tabbed content with no defined navigation\n\n\n  $.tab = function () {\n    $(window).tab.apply(this, arguments);\n  };\n\n  $.fn.tab.settings = {\n    name: 'Tab',\n    namespace: 'tab',\n    silent: false,\n    debug: false,\n    verbose: false,\n    performance: true,\n    auto: false,\n    // uses pjax style endpoints fetching content from same url with remote-content headers\n    history: false,\n    // use browser history\n    historyType: 'hash',\n    // #/ or html5 state\n    path: false,\n    // base path of url\n    context: false,\n    // specify a context that tabs must appear inside\n    childrenOnly: false,\n    // use only tabs that are children of context\n    maxDepth: 25,\n    // max depth a tab can be nested\n    deactivate: 'siblings',\n    // whether tabs should deactivate sibling menu elements or all elements initialized together\n    alwaysRefresh: false,\n    // load tab content new every tab click\n    cache: true,\n    // cache the content requests to pull locally\n    loadOnce: false,\n    // Whether tab data should only be loaded once when using remote content\n    cacheType: 'response',\n    // Whether to cache exact response, or to html cache contents after scripts execute\n    ignoreFirstLoad: false,\n    // don't load remote content on first load\n    apiSettings: false,\n    // settings for api call\n    evaluateScripts: 'once',\n    // whether inline scripts should be parsed (true/false/once). Once will not re-evaluate on cached content\n    onFirstLoad: function (tabPath, parameterArray, historyEvent) {},\n    // called first time loaded\n    onLoad: function (tabPath, parameterArray, historyEvent) {},\n    // called on every load\n    onVisible: function (tabPath, parameterArray, historyEvent) {},\n    // called every time tab visible\n    onRequest: function (tabPath, parameterArray, historyEvent) {},\n    // called ever time a tab beings loading remote content\n    templates: {\n      determineTitle: function (tabArray) {} // returns page title for path\n\n    },\n    error: {\n      api: 'You attempted to load content without API module',\n      method: 'The method you called is not defined',\n      missingTab: 'Activated tab cannot be found. Tabs are case-sensitive.',\n      noContent: 'The tab you specified is missing a content url.',\n      path: 'History enabled, but no path was specified',\n      recursion: 'Max recursive depth reached',\n      legacyInit: 'onTabInit has been renamed to onFirstLoad in 2.0, please adjust your code.',\n      legacyLoad: 'onTabLoad has been renamed to onLoad in 2.0. Please adjust your code',\n      state: 'History requires Asual\\'s Address library <https://github.com/asual/jquery-address>'\n    },\n    metadata: {\n      tab: 'tab',\n      loaded: 'loaded',\n      promise: 'promise'\n    },\n    className: {\n      loading: 'loading',\n      active: 'active'\n    },\n    selector: {\n      tabs: '.ui.tab',\n      ui: '.ui'\n    }\n  };\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"transition.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/modules/transition.js                                                                      //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * # Semantic UI - Transition\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.transition = function () {\n    var $allModules = $(this),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        moduleArguments = arguments,\n        query = moduleArguments[0],\n        queryArguments = [].slice.call(arguments, 1),\n        methodInvoked = typeof query === 'string',\n        requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {\n      setTimeout(callback, 0);\n    },\n        returnedValue;\n\n    $allModules.each(function (index) {\n      var $module = $(this),\n          element = this,\n          // set at run time\n      settings,\n          instance,\n          error,\n          className,\n          metadata,\n          animationEnd,\n          animationName,\n          namespace,\n          moduleNamespace,\n          eventNamespace,\n          module;\n      module = {\n        initialize: function () {\n          // get full settings\n          settings = module.get.settings.apply(element, moduleArguments); // shorthand\n\n          className = settings.className;\n          error = settings.error;\n          metadata = settings.metadata; // define namespace\n\n          eventNamespace = '.' + settings.namespace;\n          moduleNamespace = 'module-' + settings.namespace;\n          instance = $module.data(moduleNamespace) || module; // get vendor specific events\n\n          animationEnd = module.get.animationEndEvent();\n\n          if (methodInvoked) {\n            methodInvoked = module.invoke(query);\n          } // method not invoked, lets run an animation\n\n\n          if (methodInvoked === false) {\n            module.verbose('Converted arguments into settings object', settings);\n\n            if (settings.interval) {\n              module.delay(settings.animate);\n            } else {\n              module.animate();\n            }\n\n            module.instantiate();\n          }\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module.data(moduleNamespace, instance);\n        },\n        destroy: function () {\n          module.verbose('Destroying previous module for', element);\n          $module.removeData(moduleNamespace);\n        },\n        refresh: function () {\n          module.verbose('Refreshing display type on next animation');\n          delete module.displayType;\n        },\n        forceRepaint: function () {\n          module.verbose('Forcing element repaint');\n          var $parentElement = $module.parent(),\n              $nextElement = $module.next();\n\n          if ($nextElement.length === 0) {\n            $module.detach().appendTo($parentElement);\n          } else {\n            $module.detach().insertBefore($nextElement);\n          }\n        },\n        repaint: function () {\n          module.verbose('Repainting element');\n          var fakeAssignment = element.offsetWidth;\n        },\n        delay: function (interval) {\n          var direction = module.get.animationDirection(),\n              shouldReverse,\n              delay;\n\n          if (!direction) {\n            direction = module.can.transition() ? module.get.direction() : 'static';\n          }\n\n          interval = interval !== undefined ? interval : settings.interval;\n          shouldReverse = settings.reverse == 'auto' && direction == className.outward;\n          delay = shouldReverse || settings.reverse == true ? ($allModules.length - index) * settings.interval : index * settings.interval;\n          module.debug('Delaying animation by', delay);\n          setTimeout(module.animate, delay);\n        },\n        animate: function (overrideSettings) {\n          settings = overrideSettings || settings;\n\n          if (!module.is.supported()) {\n            module.error(error.support);\n            return false;\n          }\n\n          module.debug('Preparing animation', settings.animation);\n\n          if (module.is.animating()) {\n            if (settings.queue) {\n              if (!settings.allowRepeats && module.has.direction() && module.is.occurring() && module.queuing !== true) {\n                module.debug('Animation is currently occurring, preventing queueing same animation', settings.animation);\n              } else {\n                module.queue(settings.animation);\n              }\n\n              return false;\n            } else if (!settings.allowRepeats && module.is.occurring()) {\n              module.debug('Animation is already occurring, will not execute repeated animation', settings.animation);\n              return false;\n            } else {\n              module.debug('New animation started, completing previous early', settings.animation);\n              instance.complete();\n            }\n          }\n\n          if (module.can.animate()) {\n            module.set.animating(settings.animation);\n          } else {\n            module.error(error.noAnimation, settings.animation, element);\n          }\n        },\n        reset: function () {\n          module.debug('Resetting animation to beginning conditions');\n          module.remove.animationCallbacks();\n          module.restore.conditions();\n          module.remove.animating();\n        },\n        queue: function (animation) {\n          module.debug('Queueing animation of', animation);\n          module.queuing = true;\n          $module.one(animationEnd + '.queue' + eventNamespace, function () {\n            module.queuing = false;\n            module.repaint();\n            module.animate.apply(this, settings);\n          });\n        },\n        complete: function (event) {\n          module.debug('Animation complete', settings.animation);\n          module.remove.completeCallback();\n          module.remove.failSafe();\n\n          if (!module.is.looping()) {\n            if (module.is.outward()) {\n              module.verbose('Animation is outward, hiding element');\n              module.restore.conditions();\n              module.hide();\n            } else if (module.is.inward()) {\n              module.verbose('Animation is outward, showing element');\n              module.restore.conditions();\n              module.show();\n            } else {\n              module.verbose('Static animation completed');\n              module.restore.conditions();\n              settings.onComplete.call(element);\n            }\n          }\n        },\n        force: {\n          visible: function () {\n            var style = $module.attr('style'),\n                userStyle = module.get.userStyle(),\n                displayType = module.get.displayType(),\n                overrideStyle = userStyle + 'display: ' + displayType + ' !important;',\n                currentDisplay = $module.css('display'),\n                emptyStyle = style === undefined || style === '';\n\n            if (currentDisplay !== displayType) {\n              module.verbose('Overriding default display to show element', displayType);\n              $module.attr('style', overrideStyle);\n            } else if (emptyStyle) {\n              $module.removeAttr('style');\n            }\n          },\n          hidden: function () {\n            var style = $module.attr('style'),\n                currentDisplay = $module.css('display'),\n                emptyStyle = style === undefined || style === '';\n\n            if (currentDisplay !== 'none' && !module.is.hidden()) {\n              module.verbose('Overriding default display to hide element');\n              $module.css('display', 'none');\n            } else if (emptyStyle) {\n              $module.removeAttr('style');\n            }\n          }\n        },\n        has: {\n          direction: function (animation) {\n            var hasDirection = false;\n            animation = animation || settings.animation;\n\n            if (typeof animation === 'string') {\n              animation = animation.split(' ');\n              $.each(animation, function (index, word) {\n                if (word === className.inward || word === className.outward) {\n                  hasDirection = true;\n                }\n              });\n            }\n\n            return hasDirection;\n          },\n          inlineDisplay: function () {\n            var style = $module.attr('style') || '';\n            return $.isArray(style.match(/display.*?;/, ''));\n          }\n        },\n        set: {\n          animating: function (animation) {\n            var animationClass, direction; // remove previous callbacks\n\n            module.remove.completeCallback(); // determine exact animation\n\n            animation = animation || settings.animation;\n            animationClass = module.get.animationClass(animation); // save animation class in cache to restore class names\n\n            module.save.animation(animationClass); // override display if necessary so animation appears visibly\n\n            module.force.visible();\n            module.remove.hidden();\n            module.remove.direction();\n            module.start.animation(animationClass);\n          },\n          duration: function (animationName, duration) {\n            duration = duration || settings.duration;\n            duration = typeof duration == 'number' ? duration + 'ms' : duration;\n\n            if (duration || duration === 0) {\n              module.verbose('Setting animation duration', duration);\n              $module.css({\n                'animation-duration': duration\n              });\n            }\n          },\n          direction: function (direction) {\n            direction = direction || module.get.direction();\n\n            if (direction == className.inward) {\n              module.set.inward();\n            } else {\n              module.set.outward();\n            }\n          },\n          looping: function () {\n            module.debug('Transition set to loop');\n            $module.addClass(className.looping);\n          },\n          hidden: function () {\n            $module.addClass(className.transition).addClass(className.hidden);\n          },\n          inward: function () {\n            module.debug('Setting direction to inward');\n            $module.removeClass(className.outward).addClass(className.inward);\n          },\n          outward: function () {\n            module.debug('Setting direction to outward');\n            $module.removeClass(className.inward).addClass(className.outward);\n          },\n          visible: function () {\n            $module.addClass(className.transition).addClass(className.visible);\n          }\n        },\n        start: {\n          animation: function (animationClass) {\n            animationClass = animationClass || module.get.animationClass();\n            module.debug('Starting tween', animationClass);\n            $module.addClass(animationClass).one(animationEnd + '.complete' + eventNamespace, module.complete);\n\n            if (settings.useFailSafe) {\n              module.add.failSafe();\n            }\n\n            module.set.duration(settings.duration);\n            settings.onStart.call(element);\n          }\n        },\n        save: {\n          animation: function (animation) {\n            if (!module.cache) {\n              module.cache = {};\n            }\n\n            module.cache.animation = animation;\n          },\n          displayType: function (displayType) {\n            if (displayType !== 'none') {\n              $module.data(metadata.displayType, displayType);\n            }\n          },\n          transitionExists: function (animation, exists) {\n            $.fn.transition.exists[animation] = exists;\n            module.verbose('Saving existence of transition', animation, exists);\n          }\n        },\n        restore: {\n          conditions: function () {\n            var animation = module.get.currentAnimation();\n\n            if (animation) {\n              $module.removeClass(animation);\n              module.verbose('Removing animation class', module.cache);\n            }\n\n            module.remove.duration();\n          }\n        },\n        add: {\n          failSafe: function () {\n            var duration = module.get.duration();\n            module.timer = setTimeout(function () {\n              $module.triggerHandler(animationEnd);\n            }, duration + settings.failSafeDelay);\n            module.verbose('Adding fail safe timer', module.timer);\n          }\n        },\n        remove: {\n          animating: function () {\n            $module.removeClass(className.animating);\n          },\n          animationCallbacks: function () {\n            module.remove.queueCallback();\n            module.remove.completeCallback();\n          },\n          queueCallback: function () {\n            $module.off('.queue' + eventNamespace);\n          },\n          completeCallback: function () {\n            $module.off('.complete' + eventNamespace);\n          },\n          display: function () {\n            $module.css('display', '');\n          },\n          direction: function () {\n            $module.removeClass(className.inward).removeClass(className.outward);\n          },\n          duration: function () {\n            $module.css('animation-duration', '');\n          },\n          failSafe: function () {\n            module.verbose('Removing fail safe timer', module.timer);\n\n            if (module.timer) {\n              clearTimeout(module.timer);\n            }\n          },\n          hidden: function () {\n            $module.removeClass(className.hidden);\n          },\n          visible: function () {\n            $module.removeClass(className.visible);\n          },\n          looping: function () {\n            module.debug('Transitions are no longer looping');\n\n            if (module.is.looping()) {\n              module.reset();\n              $module.removeClass(className.looping);\n            }\n          },\n          transition: function () {\n            $module.removeClass(className.visible).removeClass(className.hidden);\n          }\n        },\n        get: {\n          settings: function (animation, duration, onComplete) {\n            // single settings object\n            if (typeof animation == 'object') {\n              return $.extend(true, {}, $.fn.transition.settings, animation);\n            } // all arguments provided\n            else if (typeof onComplete == 'function') {\n                return $.extend({}, $.fn.transition.settings, {\n                  animation: animation,\n                  onComplete: onComplete,\n                  duration: duration\n                });\n              } // only duration provided\n              else if (typeof duration == 'string' || typeof duration == 'number') {\n                  return $.extend({}, $.fn.transition.settings, {\n                    animation: animation,\n                    duration: duration\n                  });\n                } // duration is actually settings object\n                else if (typeof duration == 'object') {\n                    return $.extend({}, $.fn.transition.settings, duration, {\n                      animation: animation\n                    });\n                  } // duration is actually callback\n                  else if (typeof duration == 'function') {\n                      return $.extend({}, $.fn.transition.settings, {\n                        animation: animation,\n                        onComplete: duration\n                      });\n                    } // only animation provided\n                    else {\n                        return $.extend({}, $.fn.transition.settings, {\n                          animation: animation\n                        });\n                      }\n          },\n          animationClass: function (animation) {\n            var animationClass = animation || settings.animation,\n                directionClass = module.can.transition() && !module.has.direction() ? module.get.direction() + ' ' : '';\n            return className.animating + ' ' + className.transition + ' ' + directionClass + animationClass;\n          },\n          currentAnimation: function () {\n            return module.cache && module.cache.animation !== undefined ? module.cache.animation : false;\n          },\n          currentDirection: function () {\n            return module.is.inward() ? className.inward : className.outward;\n          },\n          direction: function () {\n            return module.is.hidden() || !module.is.visible() ? className.inward : className.outward;\n          },\n          animationDirection: function (animation) {\n            var direction;\n            animation = animation || settings.animation;\n\n            if (typeof animation === 'string') {\n              animation = animation.split(' '); // search animation name for out/in class\n\n              $.each(animation, function (index, word) {\n                if (word === className.inward) {\n                  direction = className.inward;\n                } else if (word === className.outward) {\n                  direction = className.outward;\n                }\n              });\n            } // return found direction\n\n\n            if (direction) {\n              return direction;\n            }\n\n            return false;\n          },\n          duration: function (duration) {\n            duration = duration || settings.duration;\n\n            if (duration === false) {\n              duration = $module.css('animation-duration') || 0;\n            }\n\n            return typeof duration === 'string' ? duration.indexOf('ms') > -1 ? parseFloat(duration) : parseFloat(duration) * 1000 : duration;\n          },\n          displayType: function (shouldDetermine) {\n            shouldDetermine = shouldDetermine !== undefined ? shouldDetermine : true;\n\n            if (settings.displayType) {\n              return settings.displayType;\n            }\n\n            if (shouldDetermine && $module.data(metadata.displayType) === undefined) {\n              // create fake element to determine display state\n              module.can.transition(true);\n            }\n\n            return $module.data(metadata.displayType);\n          },\n          userStyle: function (style) {\n            style = style || $module.attr('style') || '';\n            return style.replace(/display.*?;/, '');\n          },\n          transitionExists: function (animation) {\n            return $.fn.transition.exists[animation];\n          },\n          animationStartEvent: function () {\n            var element = document.createElement('div'),\n                animations = {\n              'animation': 'animationstart',\n              'OAnimation': 'oAnimationStart',\n              'MozAnimation': 'mozAnimationStart',\n              'WebkitAnimation': 'webkitAnimationStart'\n            },\n                animation;\n\n            for (animation in animations) {\n              if (element.style[animation] !== undefined) {\n                return animations[animation];\n              }\n            }\n\n            return false;\n          },\n          animationEndEvent: function () {\n            var element = document.createElement('div'),\n                animations = {\n              'animation': 'animationend',\n              'OAnimation': 'oAnimationEnd',\n              'MozAnimation': 'mozAnimationEnd',\n              'WebkitAnimation': 'webkitAnimationEnd'\n            },\n                animation;\n\n            for (animation in animations) {\n              if (element.style[animation] !== undefined) {\n                return animations[animation];\n              }\n            }\n\n            return false;\n          }\n        },\n        can: {\n          transition: function (forced) {\n            var animation = settings.animation,\n                transitionExists = module.get.transitionExists(animation),\n                displayType = module.get.displayType(false),\n                elementClass,\n                tagName,\n                $clone,\n                currentAnimation,\n                inAnimation,\n                directionExists;\n\n            if (transitionExists === undefined || forced) {\n              module.verbose('Determining whether animation exists');\n              elementClass = $module.attr('class');\n              tagName = $module.prop('tagName');\n              $clone = $('<' + tagName + ' />').addClass(elementClass).insertAfter($module);\n              currentAnimation = $clone.addClass(animation).removeClass(className.inward).removeClass(className.outward).addClass(className.animating).addClass(className.transition).css('animationName');\n              inAnimation = $clone.addClass(className.inward).css('animationName');\n\n              if (!displayType) {\n                displayType = $clone.attr('class', elementClass).removeAttr('style').removeClass(className.hidden).removeClass(className.visible).show().css('display');\n                module.verbose('Determining final display state', displayType);\n                module.save.displayType(displayType);\n              }\n\n              $clone.remove();\n\n              if (currentAnimation != inAnimation) {\n                module.debug('Direction exists for animation', animation);\n                directionExists = true;\n              } else if (currentAnimation == 'none' || !currentAnimation) {\n                module.debug('No animation defined in css', animation);\n                return;\n              } else {\n                module.debug('Static animation found', animation, displayType);\n                directionExists = false;\n              }\n\n              module.save.transitionExists(animation, directionExists);\n            }\n\n            return transitionExists !== undefined ? transitionExists : directionExists;\n          },\n          animate: function () {\n            // can transition does not return a value if animation does not exist\n            return module.can.transition() !== undefined;\n          }\n        },\n        is: {\n          animating: function () {\n            return $module.hasClass(className.animating);\n          },\n          inward: function () {\n            return $module.hasClass(className.inward);\n          },\n          outward: function () {\n            return $module.hasClass(className.outward);\n          },\n          looping: function () {\n            return $module.hasClass(className.looping);\n          },\n          occurring: function (animation) {\n            animation = animation || settings.animation;\n            animation = '.' + animation.replace(' ', '.');\n            return $module.filter(animation).length > 0;\n          },\n          visible: function () {\n            return $module.is(':visible');\n          },\n          hidden: function () {\n            return $module.css('visibility') === 'hidden';\n          },\n          supported: function () {\n            return animationEnd !== false;\n          }\n        },\n        hide: function () {\n          module.verbose('Hiding element');\n\n          if (module.is.animating()) {\n            module.reset();\n          }\n\n          element.blur(); // IE will trigger focus change if element is not blurred before hiding\n\n          module.remove.display();\n          module.remove.visible();\n          module.set.hidden();\n          module.force.hidden();\n          settings.onHide.call(element);\n          settings.onComplete.call(element); // module.repaint();\n        },\n        show: function (display) {\n          module.verbose('Showing element', display);\n          module.remove.hidden();\n          module.set.visible();\n          module.force.visible();\n          settings.onShow.call(element);\n          settings.onComplete.call(element); // module.repaint();\n        },\n        toggle: function () {\n          if (module.is.visible()) {\n            module.hide();\n          } else {\n            module.show();\n          }\n        },\n        stop: function () {\n          module.debug('Stopping current animation');\n          $module.triggerHandler(animationEnd);\n        },\n        stopAll: function () {\n          module.debug('Stopping all animation');\n          module.remove.queueCallback();\n          $module.triggerHandler(animationEnd);\n        },\n        clear: {\n          queue: function () {\n            module.debug('Clearing animation queue');\n            module.remove.queueCallback();\n          }\n        },\n        enable: function () {\n          module.verbose('Starting animation');\n          $module.removeClass(className.disabled);\n        },\n        disable: function () {\n          module.debug('Stopping animation');\n          $module.addClass(className.disabled);\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        // modified for transition to return invoke success\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found !== undefined ? found : false;\n        }\n      };\n      module.initialize();\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  }; // Records if CSS transition is available\n\n\n  $.fn.transition.exists = {};\n  $.fn.transition.settings = {\n    // module info\n    name: 'Transition',\n    // hide all output from this component regardless of other settings\n    silent: false,\n    // debug content outputted to console\n    debug: false,\n    // verbose debug output\n    verbose: false,\n    // performance data output\n    performance: true,\n    // event namespace\n    namespace: 'transition',\n    // delay between animations in group\n    interval: 0,\n    // whether group animations should be reversed\n    reverse: 'auto',\n    // animation callback event\n    onStart: function () {},\n    onComplete: function () {},\n    onShow: function () {},\n    onHide: function () {},\n    // whether timeout should be used to ensure callback fires in cases animationend does not\n    useFailSafe: true,\n    // delay in ms for fail safe\n    failSafeDelay: 100,\n    // whether EXACT animation can occur twice in a row\n    allowRepeats: false,\n    // Override final display type on visible\n    displayType: false,\n    // animation duration\n    animation: 'fade',\n    duration: false,\n    // new animations will occur after previous ones\n    queue: true,\n    metadata: {\n      displayType: 'display'\n    },\n    className: {\n      animating: 'animating',\n      disabled: 'disabled',\n      hidden: 'hidden',\n      inward: 'in',\n      loading: 'loading',\n      looping: 'looping',\n      outward: 'out',\n      transition: 'transition',\n      visible: 'visible'\n    },\n    // possible errors\n    error: {\n      noAnimation: 'Element is no longer attached to DOM. Unable to animate.  Use silent setting to surpress this warning in production.',\n      repeated: 'That animation is already occurring, cancelling repeated animation',\n      method: 'The method you called is not defined',\n      support: 'This browser does not support CSS animations'\n    }\n  };\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}}}},\"gulpfile.js\":function(require){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/gulpfile.js                                                                                                //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n            Set-up\n*******************************/\nvar gulp = require('gulp-help')(require('gulp')),\n    // read user config to know what task to load\nconfig = require('./tasks/config/user'),\n    // watch changes\nwatch = require('./tasks/watch'),\n    // build all files\nbuild = require('./tasks/build'),\n    buildJS = require('./tasks/build/javascript'),\n    buildCSS = require('./tasks/build/css'),\n    buildAssets = require('./tasks/build/assets'),\n    // utility\nclean = require('./tasks/clean'),\n    version = require('./tasks/version'),\n    // docs tasks\nserveDocs = require('./tasks/docs/serve'),\n    buildDocs = require('./tasks/docs/build'),\n    // rtl\nbuildRTL = require('./tasks/rtl/build'),\n    watchRTL = require('./tasks/rtl/watch');\n/*******************************\n             Tasks\n*******************************/\n\n\ngulp.task('default', false, ['watch']);\ngulp.task('watch', 'Watch for site/theme changes', watch);\ngulp.task('build', 'Builds all files from source', build);\ngulp.task('build-javascript', 'Builds all javascript from source', buildJS);\ngulp.task('build-css', 'Builds all css from source', buildCSS);\ngulp.task('build-assets', 'Copies all assets from source', buildAssets);\ngulp.task('clean', 'Clean dist folder', clean);\ngulp.task('version', 'Displays current version of Semantic', version);\n/*--------------\n      Docs\n---------------*/\n\n/*\n  Lets you serve files to a local documentation instance\n  https://github.com/Semantic-Org/Semantic-UI-Docs/\n*/\n\ngulp.task('serve-docs', 'Serve file changes to SUI Docs', serveDocs);\ngulp.task('build-docs', 'Build all files and add to SUI Docs', buildDocs);\n/*--------------\n      RTL\n---------------*/\n\nif (config.rtl) {\n  gulp.task('watch-rtl', 'Watch files as RTL', watchRTL);\n  gulp.task('build-rtl', 'Build all files as RTL', buildRTL);\n}\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}}},{\n  \"extensions\": [\n    \".js\",\n    \".json\",\n    \".html\",\n    \".css\",\n    \".scss\"\n  ]\n});\nrequire(\"/client/templates/template.editEvent.js\");\nrequire(\"/client/templates/template.events.js\");\nrequire(\"/client/templates/template.newEvent.js\");\nrequire(\"/client/templates/template.tabs.js\");\nrequire(\"/client/scripts/lib/app.js\");\nrequire(\"/lib/collections.js\");\nrequire(\"/semantic/tasks/config/admin/templates/component-package.js\");\nrequire(\"/semantic/tasks/config/admin/templates/css-package.js\");\nrequire(\"/semantic/tasks/config/admin/templates/less-package.js\");\nrequire(\"/semantic/src/definitions/behaviors/api.js\");\nrequire(\"/semantic/src/definitions/behaviors/form.js\");\nrequire(\"/semantic/src/definitions/behaviors/visibility.js\");\nrequire(\"/semantic/src/definitions/globals/site.js\");\nrequire(\"/semantic/src/definitions/modules/accordion.js\");\nrequire(\"/semantic/src/definitions/modules/checkbox.js\");\nrequire(\"/semantic/src/definitions/modules/dimmer.js\");\nrequire(\"/semantic/src/definitions/modules/dropdown.js\");\nrequire(\"/semantic/src/definitions/modules/embed.js\");\nrequire(\"/semantic/src/definitions/modules/modal.js\");\nrequire(\"/semantic/src/definitions/modules/nag.js\");\nrequire(\"/semantic/src/definitions/modules/popup.js\");\nrequire(\"/semantic/src/definitions/modules/progress.js\");\nrequire(\"/semantic/src/definitions/modules/rating.js\");\nrequire(\"/semantic/src/definitions/modules/search.js\");\nrequire(\"/semantic/src/definitions/modules/shape.js\");\nrequire(\"/semantic/src/definitions/modules/sidebar.js\");\nrequire(\"/semantic/src/definitions/modules/sticky.js\");\nrequire(\"/semantic/src/definitions/modules/tab.js\");\nrequire(\"/semantic/src/definitions/modules/transition.js\");\nrequire(\"/semantic/tasks/admin/components/create.js\");\nrequire(\"/semantic/tasks/admin/components/init.js\");\nrequire(\"/semantic/tasks/admin/components/update.js\");\nrequire(\"/semantic/tasks/admin/distributions/create.js\");\nrequire(\"/semantic/tasks/admin/distributions/init.js\");\nrequire(\"/semantic/tasks/admin/distributions/update.js\");\nrequire(\"/semantic/tasks/config/admin/github.js\");\nrequire(\"/semantic/tasks/config/admin/oauth.example.js\");\nrequire(\"/semantic/tasks/config/admin/release.js\");\nrequire(\"/semantic/tasks/config/npm/gulpfile.js\");\nrequire(\"/semantic/tasks/config/project/config.js\");\nrequire(\"/semantic/tasks/config/project/install.js\");\nrequire(\"/semantic/tasks/config/project/release.js\");\nrequire(\"/client/scripts/controllers/editEvent.controller.js\");\nrequire(\"/client/scripts/controllers/events.controller.js\");\nrequire(\"/client/scripts/controllers/newEvent.controller.js\");\nrequire(\"/client/scripts/filters/calendar.filter.js\");\nrequire(\"/semantic/tasks/admin/publish.js\");\nrequire(\"/semantic/tasks/admin/register.js\");\nrequire(\"/semantic/tasks/admin/release.js\");\nrequire(\"/semantic/tasks/build/assets.js\");\nrequire(\"/semantic/tasks/build/css.js\");\nrequire(\"/semantic/tasks/build/javascript.js\");\nrequire(\"/semantic/tasks/collections/admin.js\");\nrequire(\"/semantic/tasks/collections/build.js\");\nrequire(\"/semantic/tasks/collections/internal.js\");\nrequire(\"/semantic/tasks/collections/rtl.js\");\nrequire(\"/semantic/tasks/config/defaults.js\");\nrequire(\"/semantic/tasks/config/docs.js\");\nrequire(\"/semantic/tasks/config/tasks.js\");\nrequire(\"/semantic/tasks/config/user.js\");\nrequire(\"/semantic/tasks/docs/build.js\");\nrequire(\"/semantic/tasks/docs/metadata.js\");\nrequire(\"/semantic/tasks/docs/serve.js\");\nrequire(\"/semantic/tasks/rtl/build.js\");\nrequire(\"/semantic/tasks/rtl/watch.js\");\nrequire(\"/client/scripts/routes.js\");\nrequire(\"/semantic/tasks/build.js\");\nrequire(\"/semantic/tasks/check-install.js\");\nrequire(\"/semantic/tasks/clean.js\");\nrequire(\"/semantic/tasks/install.js\");\nrequire(\"/semantic/tasks/version.js\");\nrequire(\"/semantic/tasks/watch.js\");\nrequire(\"/semantic/gulpfile.js\");","servePath":"/app.js","sourceMap":{"version":3,"sources":["client/scripts/lib/app.js","client/scripts/controllers/editEvent.controller.js","client/scripts/controllers/events.controller.js","client/scripts/controllers/newEvent.controller.js","client/scripts/filters/calendar.filter.js","client/scripts/routes.js","lib/collections.js","semantic/tasks/config/admin/templates/component-package.js","semantic/tasks/config/admin/templates/css-package.js","semantic/tasks/config/admin/templates/less-package.js","semantic/tasks/config/admin/github.js","semantic/tasks/config/admin/oauth.example.js","semantic/tasks/config/admin/release.js","semantic/tasks/config/npm/gulpfile.js","semantic/tasks/config/project/config.js","semantic/tasks/config/project/install.js","semantic/tasks/config/project/release.js","semantic/tasks/config/defaults.js","semantic/tasks/config/docs.js","semantic/tasks/config/tasks.js","semantic/tasks/config/user.js","semantic/tasks/admin/components/create.js","semantic/tasks/admin/components/init.js","semantic/tasks/admin/components/update.js","semantic/tasks/admin/distributions/create.js","semantic/tasks/admin/distributions/init.js","semantic/tasks/admin/distributions/update.js","semantic/tasks/admin/publish.js","semantic/tasks/admin/register.js","semantic/tasks/admin/release.js","semantic/tasks/build/assets.js","semantic/tasks/build/css.js","semantic/tasks/build/javascript.js","semantic/tasks/collections/admin.js","semantic/tasks/collections/build.js","semantic/tasks/collections/internal.js","semantic/tasks/collections/rtl.js","semantic/tasks/docs/build.js","semantic/tasks/docs/metadata.js","semantic/tasks/docs/serve.js","semantic/tasks/rtl/build.js","semantic/tasks/rtl/watch.js","semantic/tasks/build.js","semantic/tasks/check-install.js","semantic/tasks/clean.js","semantic/tasks/install.js","semantic/tasks/version.js","semantic/tasks/watch.js","semantic/src/definitions/behaviors/api.js","semantic/src/definitions/behaviors/form.js","semantic/src/definitions/behaviors/visibility.js","semantic/src/definitions/globals/site.js","semantic/src/definitions/modules/accordion.js","semantic/src/definitions/modules/checkbox.js","semantic/src/definitions/modules/dimmer.js","semantic/src/definitions/modules/dropdown.js","semantic/src/definitions/modules/embed.js","semantic/src/definitions/modules/modal.js","semantic/src/definitions/modules/nag.js","semantic/src/definitions/modules/popup.js","semantic/src/definitions/modules/progress.js","semantic/src/definitions/modules/rating.js","semantic/src/definitions/modules/search.js","semantic/src/definitions/modules/shape.js","semantic/src/definitions/modules/sidebar.js","semantic/src/definitions/modules/sticky.js","semantic/src/definitions/modules/tab.js","semantic/src/definitions/modules/transition.js","semantic/gulpfile.js"],"names":["module1","module","watch","require","Angular","default","v","Loader","Meteor","EventsCtrl","NewEventCtrl","EditEventCtrl","CalendarFilter","RoutesConfig","App","load","isCordova","element","document","on","onReady","ready","bootstrap","export","Moment","Controller","Events","constructor","arguments","helpers","data","find","event","Session","get","console","log","done","update","_id","$set","name","city","country","from","to","webpage","credits","about","$state","go","delete","remove","$name","$inject","createNew","loadEvent","set","generateCode","code","index","digit","Math","floor","random","picture","claims","claimed","winner","insert","Filter","filter","time","calendar","lastDay","sameDay","lastWeek","sameElse","Config","Runner","eventsTemplateUrl","newEventTemplateUrl","editEventTemplateUrl","tabsTemplateUrl","configure","$stateProvider","state","url","abstract","templateUrl","views","controller","$urlRouterProvider","otherwise","Mongo","Collection","Package","describe","summary","version","git","onUse","api","versionsFrom","addFiles","files","where","use","fs","path","githubAPI","oAuthConfig","join","__dirname","oAuth","existsSync","github","error","debug","protocol","timeout","authenticate","type","token","exports","username","email","source","paths","output","templates","bower","composer","package","meteor","css","component","less","readme","notes","org","repo","config","npm","distRepoRoot","componentRepoRoot","packageRoot","outputRoot","homepage","distributions","components","gulp","build","buildJS","buildCSS","buildAssets","clean","serveDocs","buildDocs","buildRTL","watchRTL","task","rtl","extend","defaults","getPath","file","directory","configPath","walk","nextDirectory","resolve","sep","currentPath","normalize","addDerivedValues","sourcePaths","outputPaths","folder","hasOwnProperty","base","assets","uncompressed","relative","themes","replace","compressed","packaged","permission","hasPermissions","globs","Array","indexOf","length","release","requireDotFile","when","changeRoot","questions","useRoot","undefined","changePermissions","hasConfig","process","cwd","allowOverwrite","overwrite","notAuto","install","custom","express","customize","primaryColor","secondaryColor","removeTrailingSlash","isSetup","shouldAutoInstall","getPackageManager","pathArray","split","root","isSubModule","moduleFolders","createJSON","answers","json","semanticRoot","dist","site","setupFiles","regExp","siteVariable","definitions","gulpFile","lessImport","tasks","themeConfig","themeImport","defaultTheme","userGulpFile","folders","modules","message","choices","value","setup","checked","cleanup","settings","rename","extname","wrench","forceDelete","excludeHiddenUnix","preserveFiles","merge","npmPackage","title","repository","banner","pmRoot","theme","admin","ignored","ignoredRTL","eco","examples","metadata","template","created","modified","filenames","concatenatedCSS","concatenatedJS","concatenatedMinifiedCSS","concatenatedMinifiedJS","concatenatedRTLCSS","concatenatedMinifiedRTLCSS","comments","variables","in","out","license","large","small","tiny","del","silent","concatCSS","rebaseUrls","header","plumber","errorHandler","variable","filename","match","line","exec","emit","prefix","browsers","minJS","minCSS","rtlCSS","rtlMinCSS","minify","processImport","restructuring","keepSpecialComments","roundingPrecision","uglify","mangle","concatMinify","concatUglify","gulpConfig","userConfig","runSequence","concatFileNames","flatten","jsonEditor","tap","util","project","callback","stream","outputDirectory","isJavascript","isCSS","capitalizedComponent","charAt","toUpperCase","slice","packageName","repoName","gitURL","repoURL","concatSettings","newline","prepend","append","titleName","spacedVersions","spacedLists","trim","unrelatedNotes","RegExp","whitespace","componentExport","componentReference","settingsExport","settingsReference","trailingComma","jQuery","all","manifest","src","pipe","dest","description","main","dependencies","jquery","contents","push","mkdirp","total","timer","stepRepo","gitOptions","pullOptions","args","quiet","resetOptions","localRepoSetup","sync","search","info","force","setupRepo","addRemote","initRepo","init","createRepo","repos","createFromOrg","pullFiles","pull","resetFiles","reset","nextRepo","global","clearTimeout","setTimeout","commitArgs","componentPackage","isNewVersion","commitMessage","commitOptions","releaseOptions","tag_name","owner","fileModeOptions","usernameOptions","emailOptions","versionOptions","canProceed","setConfig","commitFiles","add","commit","pushFiles","getSHA","createRelease","target_commitish","mergeStream","distribution","distLowerCase","toLowerCase","packageFile","gatherFiles","createList","dir","list","readdirSync","omitted","forEach","isOmitted","filePath","stat","statSync","isDirectory","concat","releases","siteTheme","lowerCaseComponent","distributionPackage","execSettings","updateNPM","err","stdout","stderr","chmod","gulpif","hasPermission","autoprefixer","clone","minifyCSS","print","tasksCompleted","maybeCallback","compressedStream","uncompressedStream","start","initComponents","createComponents","updateComponents","initDistributions","createDistributions","updateDistributions","publish","register","dedupe","docsConfig","docsOutput","map","configSetup","parser","writeFile","JSON","stringify","result","YAML","startsWith","str","inArray","needle","haystack","i","isNull","isStream","Error","text","String","toString","lines","substring","key","position","lineCount","active","yaml","categories","meta","parse","category","clear","lessPath","isDefinition","isPackagedTheme","isSiteTheme","isConfig","replaceExtension","rtlcss","prompt","currentConfig","manager","rootQuestions","installFolder","updateFolder","updatePaths","definition","copyDirSyncRecursive","prototype","splice","apply","setupAnswers","installPaths","configFolder","themeConfigFolder","customRoot","destination","pathToSite","jsonConfig","exit","$","window","self","Function","fn","parameters","$allModules","isFunction","moduleSelector","selector","Date","getTime","performance","query","methodInvoked","queryArguments","call","returnedValue","each","isPlainObject","namespace","className","eventNamespace","moduleNamespace","$module","$form","closest","form","$context","stateContext","ajaxSettings","requestSettings","requestStartTime","context","instance","initialize","bind","events","instantiate","verbose","destroy","removeData","off","triggerEvent","trigger","decode","response","e","read","cachedResponse","Storage","noStorage","sessionStorage","getItem","write","setItem","is","disabled","loading","interruptRequests","abort","defaultData","urlData","serializeForm","formData","cancelled","beforeSend","templatedURL","mocked","missingURL","method","beforeXHR","success","failure","complete","cache","request","create","resolveWith","throttle","send","throttleFirstRequest","should","removeError","hideError","expectingJSON","dataType","mockResponse","mockResponseAsync","responseAsync","input","abortedRequest","xhr","readyState","validResponse","successTest","was","succesful","requiredVariables","optionalVariables","required","optional","templatedString","substr","requiredParameter","encodeParameters","urlEncodedValue","canSerialize","serializeObject","serialize","hasOtherData","missingSerialize","mockedXHR","onRequest","preventDefault","always","textStatus","elapsedTime","timeLeft","loadingDuration","translatedResponse","onResponse","rejectWith","fail","status","httpMessage","onSuccess","firstParameter","secondParameter","responseFromXHR","onComplete","errorMessage","errorFromRequest","onAbort","statusMessage","onError","errorDuration","onFailure","Deferred","responder","asyncResponder","asyncCallback","responseText","ajax","addClass","removeClass","runSettings","legacyParameters","noReturnedValue","decodedValue","decodeURIComponent","encodedValue","encodeURIComponent","alreadyEncoded","isWindow","val","oninput","onpropertychange","action","missingAction","attr","setting","internal","currentTime","executionTime","previousTime","display","totalTime","group","table","groupCollapsed","groupEnd","invoke","passedArguments","object","maxDepth","found","depth","camelCaseValue","isArray","promise","exitConditions","JSONParse","parseError","formErrors","keyHeldDown","$field","$group","$message","$prompt","$submit","$clear","$reset","validation","bindEvents","removeEvents","refresh","field","submit","attachEvents","validate","blur","keyboardShortcuts","keydown","$input","prop","inputEvent","changeEvent","change","$element","parent","$fieldGroup","defaultValue","isCheckbox","uiCheckbox","isDropdown","uiDropdown","isErrored","hasClass","dropdown","determine","isValid","allValid","fieldName","bracketedRule","rule","bracket","shorthandFields","fields","fieldKeys","Object","keys","firstRule","shorthandRules","rules","empty","blank","valid","which","isInput","checkbox","isInDropdown","keyCode","enter","escape","ctrlKey","one","keyup","validationRules","revalidate","delay","ancillaryValue","ruleName","createElement","fieldsFromShorthand","fullFields","ancillary","identifier","unspecifiedRule","requiresValue","requiresName","$label","eq","unspecifiedField","isLegacySettings","ruleKeys","oldSyntax","string","$fields","fieldValidation","results","values","isRadio","radio","isMultiple","isChecked","has","newValidation","errors","children","promptExists","inline","appendTo","html","transition","duration","fadeIn","fadeOut","isEmptyObject","fieldExists","$multipleField","ignoreCallbacks","apiRequest","stopImmediatePropagation","showErrors","$dependsField","depends","fieldValid","fieldErrors","onValid","onInvalid","ruleFunction","noRule","htmlID","decimal","flags","integer","number","isExactly","not","notExactly","contain","containExactly","doesntContain","doesntContainExactly","minLength","exactLength","maxLength","different","creditCard","minCount","exactCount","maxCount","label","pressed","test","regExpParts","range","intRegExp","min","max","parts","notValue","contains","containsExactly","requiredLength","matchingValue","cardNumber","cardTypes","cards","visa","pattern","amex","mastercard","discover","unionPay","jcb","maestro","dinersClub","laser","visaElectron","validCard","requiredTypes","multiple","producedValue","sum","parseInt","visibility","moduleCount","loadedCount","$window","$placeholder","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","contextObserver","observer","trackChanges","image","fixed","observeChanges","save","visible","initialCheck","checkVisibility","disconnect","resize","scroll","scrollchange","resetFixed","placeholder","MutationObserver","contextChanged","changed","observe","childList","subtree","refreshOnLoad","mutations","mutation","removedNodes","node","refreshOnResize","triggerHandler","scrollTop","scrollPosition","precache","images","imagesLength","loadedCounter","cacheImage","handleLoad","onload","onerror","enableCallbacks","disableCallbacks","occurred","screen","once","onOnScreen","onAllLoaded","onLoad","onTopPassed","show","onTopPassedReverse","hide","insertAfter","top","offset","left","zIndex","onFixed","onScreen","calculations","elementCalculations","offScreen","width","verticallyScrollableContext","overflowY","horizontallyScrollableContext","overflowX","checkOnRefresh","onRefresh","passed","passingReverse","topVisibleReverse","bottomVisibleReverse","topPassedReverse","bottomPassedReverse","passing","topVisible","bottomVisible","topPassed","bottomPassed","onUpdate","amount","newCallback","amountInPixels","onPassed","pixelsPassed","execute","callbackName","onOffScreen","onPassing","onTopVisible","onBottomVisible","onBottomPassed","onPassingReverse","onTopVisibleReverse","onBottomVisibleReverse","onBottomPassedReverse","screenCalculations","continuous","onUnfixed","direction","lastScroll","elementPosition","screenSize","fits","height","outerWidth","outerHeight","scrollLeft","includeMargin","margin","bottom","percentagePassed","$document","fix","disable","markTimeline","consoleClear","moduleExists","enabled","enabledModules","disabledModules","modifyExisting","$existingModules","newSettings","enable","warn","siteNamespace","namespaceStub","sections","section","utilities","expr","createPseudo","dataName","elem","accordion","$title","$content","content","click","toggle","$activeTitle","$activeContent","next","isAnimating","animating","isActive","isOpen","isOpening","collapsible","close","open","onOpening","onChanging","exclusive","closeOthers","stop","animateChildren","animation","queue","useFailSafe","animate","opacity","resetOpacity","slideDown","easing","onOpen","onChange","isClosing","onClosing","slideUp","onClose","$parentTitles","parents","prev","$activeAccordion","activeSelector","activeContent","$openTitles","$nestedTitles","$openContents","closeNested","removeAttr","easeOutQuad","x","t","b","c","d","initialLoad","shortcutPressed","tabbable","unbind","reference","indeterminate","check","uncheck","hidden","notFound","$target","target","link","focus","space","allowCheck","onChecked","allowUncheck","unchecked","onUnchecked","allowIndeterminate","onIndeterminate","determinate","allowDeterminate","onDeterminate","onEnable","onEnabled","onDisable","onDisabled","radios","otherRadios","forceCallbacks","beforeChecked","beforeUnchecked","beforeIndeterminate","beforeDeterminate","fireOnInit","can","readOnly","uncheckable","uncheckOthers","createEvent","inputElement","initEvent","dispatchEvent","prevAll","detach","$radios","dimmer","clickEvent","documentElement","$dimmer","$dimmable","preinitialize","dimmerName","variation","dimmable","page","addEventListener","preventScroll","passive","pageDimmer","closable","removeEventListener","addContent","dimmed","onShow","onHide","useCSS","displayType","onStart","fadeTo","color","colorArray","isRGB","isRGBA","hasTouch","elementIndex","$text","$search","$sizer","sizer","$icon","icon","$combo","$menu","menu","$item","item","activated","itemActivated","internalChange","pageLostFocus","willRefocus","elementNamespace","id","selectObserver","menuObserver","alreadySetup","layout","refreshData","restore","selected","select","userChoice","$userChoices","$userChoice","isUserValue","userValues","addition","addResult","hideAdditions","userLabels","minCharacters","firstUnfiltered","selectedItem","unselectable","nextAvailable","$selected","$nextAvailable","nextAll","$prevAvailable","hasNext","apiSettings","returnedObject","insertBefore","searchSelection","allowTab","selectValues","selection","missingMultiple","prependTo","$firstModules","$lastModules","refreshSelectors","refreshItems","clearData","defaultText","placeholderText","remote","queryRemote","maxSelections","allResultsFiltered","allFiltered","intent","menuSearch","focusSearch","animatingOutward","hideOthers","hideMenu","hideSubMenus","$subMenus","touchEvents","keyboardEvents","inputEvents","mouseEvents","single","mouseenter","mousedown","mouseup","mouseleave","touch","searchTerm","afterFiltered","filterActive","activeItem","onNoResults","allowAdditions","noResults","userSuggestion","focusedOnSearch","useLabels","useAPI","filterRemoteData","filterItems","noAPI","serverError","remoteValues","hasRemoteValues","escapedTerm","beginsWithRegExp","$choice","choiceText","fullTextSearch","exactSearch","fuzzySearch","choiceValue","filteredItem","filtered","term","termLength","queryLength","characterIndex","nextCharacterIndex","queryCharacter","charCodeAt","skipHandler","forceSelection","$currentlySelected","$activeItem","$selectedItem","hasSelected","showOnFocus","activeElement","activeLabel","$labels","$activeLabels","$nextActive","$prevActive","$range","nextUntil","prevUntil","shiftKey","toggleClass","onLabelSelect","activeLabels","toggleBehavior","bubbledLabelClick","bubbledIconClick","eventOnElement","stopPropagation","eventInModule","isSelectMutation","addedNodes","$addedNode","$removedNode","$changedNodes","isUserAddition","isMessage","$subMenu","$otherMenus","siblings","hasSubMenu","isBubbledEvent","itemTimer","skipRefocus","allowCategorySelection","userAddition","selectAction","pressedKey","isShortcutKey","inObject","$activeLabel","activeValue","labelIndex","labelCount","hasActiveLabel","hasMultipleActive","isFirstLabel","isLastLabel","isSearch","isFocusedOnSearch","isFocused","focused","caretAtStart","caretPosition","$nextLabel","leftArrow","last","siblingLabel","end","rightArrow","first","deleteKey","backspace","$visibleItems","addBack","$parentMenu","inVisibleMenu","hasSelectedItem","selectedIsSelectable","delimiterPressed","delimiter","isAdditionWithoutMenu","$nextItem","isSubMenuItem","newIndex","upArrow","selectOnKeydown","downArrow","pageUp","scrollPage","pageDown","selectedLetter","fromCharCode","inDocument","inModule","inVisibleDOM","body","notOnLabel","notInMenu","nothing","activate","hideAndClear","combo","searchWidth","ceil","selectionCount","count","upward","grep","uniqueArray","array","rangeLength","selectionStart","createRange","moveStart","isEmptyMultiselect","selectInput","remoteData","preserveHTML","menuIcon","$option","sortSelect","sort","a","itemWithAdditions","$items","$userItems","hasUserItems","strict","shouldSearch","optionText","optionValue","labels","saveRemoteData","clearValue","$currentItem","menuHeight","currentScroll","itemHeight","itemsPerPage","maxScroll","newScroll","$selectableItem","isWithinRange","$nextSelectedItem","isSearchMultiple","searchValue","hasSearchValue","valueIsSet","glyphWidth","partialSearch","forceScroll","edgeTolerance","hasActive","itemOffset","menuOffset","menuScroll","abovePage","belowPage","searchText","letter","alreadySelectedLetter","firstLetter","$nextValue","openDownward","leftward","openRightward","$currentMenu","escapedValue","hasInput","currentValue","stringValue","newValue","allowReselection","extendSelect","exactly","$userSelectedItem","selectedText","selectedValue","isFiltered","shouldAnimate","$next","ignoreCase","onLabelCreate","hasOption","$addition","$existingItem","alreadyHasValue","hasUserSuggestion","hasCount","hasMaxCount","hasTerm","addedValue","addedText","onAdd","removedValue","removedText","$removedItem","arrayValue","onRemove","$removedLabel","userValue","onLabelRemove","items","$normalResults","valueIgnoringCase","valueMatchingCase","hasValue","existingValue","animatingInward","$selectedMenu","property","selectMutation","selectChanged","canOpenDownward","above","below","canOpenRightward","isOffscreenRight","noTransition","multipleValues","isUnparsable","hasQuotes","quote","keepOnScreen","$selectedLabels","option","maybeText","maybeDisabled","choice","embed","sources","$embed","autoplay","createAndShow","createPlaceholder","generate","createEmbed","onCreate","changeEmbed","showPlaceholder","onReset","onDisplay","onPlaceholderDisplay","matchedSource","domain","encode","urlString","iframe","noURL","extraParameters","onEmbed","video","hd","brandedUI","youtube","autohide","hq","jsapi","modestbranding","vimeo","byline","portrait","onPause","onPlay","onStop","modal","$body","$close","$allModals","$otherModals","$focusedElement","ignoreRepeatedEvents","elementEventNamespace","refreshModals","defaultSettings","centered","dimmerSettings","detachable","undetached","scrolling","cacheSizes","screenHeight","$toggle","approve","deny","onApprove","onDeny","isInModal","isInDOM","clickaway","allowMultiple","hideAll","debounce","keyboard","escapeKey","showModal","hideModal","showDimmer","others","onVisible","autofocus","keepDimmed","hideDimmer","onHidden","$visibleModals","$activeElement","inCurrentModal","bodyStyle","scrollHeight","modalHeight","pageHeight","contextHeight","topOffset","fit","verticalCenter","paddingHeight","padding","startPosition","modernBrowser","ActiveXObject","$inputs","$autofocus","inverted","blurring","nag","moduleOffset","moduleHeight","contextWidth","contextOffset","yOffset","yPosition","dismiss","displayTime","storageMethod","storage","persist","storageOptions","options","expires","localStorage","cookie","noCookieStorage","storedValue","removeItem","removeCookie","speed","popup","$scrollContext","scrollContext","$boundary","boundary","$popup","$offsetParent","searchDepth","triedPositions","openedWithTouch","documentObserver","createID","exists","preserve","documentChanged","offsetParent","movePopup","reposition","removePopup","hideTimer","showTimer","touchstart","hideGracefully","inPopup","activator","hoverable","conditions","popupVisible","supports","svg","SVGGraphicsElement","popupOffset","$popupOffsetParent","targetElement","targetPosition","screenPosition","setFluidWidth","fluid","container","getComputedStyle","getPropertyValue","right","startEvent","scrollEvent","endEvent","distanceFromBoundary","parentNode","$node","is2D","isStatic","isBody","positions","nextPosition","verticalPosition","horizontalPosition","opposite","adjacent","center","backup","adjacentsAvailable","oppositeTried","adjacentTried","prefer","distanceAway","positioning","centerArrow","arrowPixelsFromEdge","maxSearchDepth","lastResort","invalidPosition","offstage","cannotPlace","attempts","onUnplaceable","fluidWidth","hideOnScroll","closeOnScroll","touchClose","basic","distance","jitter","addTouchEvents","badChars","shouldEscape","escapedChar","chr","progress","$bar","bar","$progress","transitionEnd","transitionEvent","clearInterval","interval","nextValue","percent","progressPoll","failSafeTimer","failSafeDelay","increment","incrementValue","maxValue","startValue","randomValue","normalizedValue","decrement","decrementValue","templateText","displayPercent","updateInterval","numericValue","transitions","style","barWidth","totalWidth","minDisplay","precision","round","toNextValue","warning","tooHigh","tooLow","limitValues","labelInterval","animationCallback","setInterval","framerate","barLabel","autoSuccess","ratio","showActivity","onLabelUpdate","onActive","onWarning","totalValue","percentComplete","nonNumeric","rating","interactive","initialRating","maxRating","$activeIcon","currentRating","canClear","clearable","clearRating","ratingIndex","onRate","slent","noMaximum","$searchButton","searchButton","$results","$result","$category","disabledBubbled","resultsDismissed","searchFields","refreshResults","automatic","handleKeyboard","searchDelay","searchOnFocus","minimumCharacters","showResults","cancel","hideResults","hideDelay","resultsClicked","inMessage","$link","href","onSelect","location","$activeResult","currentIndex","resultSize","hasActiveResult","buttonPressed","buttonFocus","displayMessage","searchHTML","searchFullText","oldSearchSyntax","lookupFields","firstResult","addResults","inject","local","onSearchQuery","maxResults","categoryResults","generateResults","exactResults","fuzzyResults","searchExp","matchRegExp","beginsWith","notResult","notFuzzyResult","notExactResults","numCharacters","resultIndex","categoryIndex","resultID","categoryID","firstCharCode","letterID","$selectedResult","onResultsAdd","selectFirstResult","onResultsOpen","onResultsClose","isProperObject","isProperArray","noTemplate","showNoResults","onResults","displayField","logging","noEndpoint","categoryName","price","actionText","actionURL","standard","shape","$sides","sides","$side","side","nextIndex","$activeSide","$nextSide","defaultSide","repaint","fakeAssignment","offsetWidth","propertyObject","beforeChange","currentStageSize","stageSize","$clone","newWidth","newHeight","nextSide","flip","up","allowRepeats","transform","stage","down","over","behind","back","translate","y","z","box","origin","sidebar","$html","$head","$sidebars","$fixed","$pusher","pusher","$style","delaySetup","ios","clickedInPusher","clickedContext","containScroll","offsetHeight","scrollLock","inlineCSS","isRTL","ie","refreshSidebars","wrapAll","movedSidebar","pushable","overlay","othersActive","pushPage","pullPage","othersAnimating","othersVisible","$otherSidebars","sidebarCount","callbackCount","$transition","dim","scrollToTop","dimPage","returnScroll","mobile","scrollBack","scrollTo","pushed","mobileTransition","defaultTransition","computer","isIE11","isIE","userAgent","navigator","isIOS","isMobileChrome","mobileChrome","isMobile","closed","vertical","sticky","$scroll","$container","determineContainer","determineContext","checkErrors","invalidContext","elementSize","stick","onScroll","hardRefresh","onReposition","supported","elementScroll","standardScroll","sameHeight","containerSize","scrollChange","currentElementScroll","abs","delta","possibleScroll","minimumSize","tagName","size","setProperty","initialPosition","bound","cachedPosition","pushing","bottomOffset","doesntFit","elementVisible","bindBottom","fixTop","setInitialPosition","fixBottom","bindTop","marginBottom","onTop","onUnstick","onBottom","unfix","setSize","onStick","resetCSS","tab","initializedHistory","$tabs","firstLoad","recursionDepth","activeTabPath","parameterArray","historyEvent","callbacks","determineTabs","auto","history","initializeHistory","$reference","ui","childrenOnly","tabs","onTabLoad","onTabInit","legacyLoad","onFirstLoad","legacyInit","address","historyType","tabPath","changeTab","pathNames","initialPath","pageTitle","determineTitle","cacheKey","$tab","tabElement","isLoading","pushStateAvailable","pushState","shouldIgnoreLoad","ignoreFirstLoad","remoteContent","pathToArray","defaultPathArray","arrayToPath","currentPathArray","isTab","isLastIndex","$anchor","nextPathArray","nextPath","isLastTab","filterArray","navigation","fetch","missingTab","scrollOffset","evaluateScripts","cacheType","innerHTML","fullTabPath","alwaysRefresh","headers","loadOnce","existingRequest","cachedContent","$deactiveTabs","deactivate","$navigation","navElement","$deactiveNavigation","tabName","defaultPath","$defaultNav","defaultTab","recursion","$fullPathTab","$simplePathTab","tabPathArray","lastTab","keepArray","removeArray","keepValue","pathName","tabArray","noContent","loaded","moduleArguments","animationEnd","animationName","animationEndEvent","forceRepaint","$parentElement","$nextElement","animationDirection","shouldReverse","reverse","outward","overrideSettings","support","occurring","queuing","noAnimation","animationCallbacks","completeCallback","failSafe","looping","inward","userStyle","overrideStyle","currentDisplay","emptyStyle","hasDirection","word","inlineDisplay","animationClass","transitionExists","currentAnimation","queueCallback","directionClass","currentDirection","parseFloat","shouldDetermine","animationStartEvent","animations","forced","elementClass","inAnimation","directionExists","stopAll","repeated"],"mappings":"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","file":"/app.js","sourcesContent":["// Libs\nimport 'angular-animate';\nimport 'angular-meteor';\nimport 'angular-sanitize';\nimport 'angular-ui-router';\nimport 'ionic-scripts';\nimport Angular from 'angular';\nimport Loader from 'angular-ecmascript/module-loader';\nimport { Meteor } from 'meteor/meteor';\n\n// Modules\nimport EventsCtrl from '../controllers/events.controller';\nimport NewEventCtrl from '../controllers/newEvent.controller';\nimport EditEventCtrl from '../controllers/editEvent.controller';\nimport CalendarFilter from '../filters/calendar.filter';\nimport RoutesConfig from '../routes';\n\nconst App = 'TicketSalad Administration';\n\n// App\nAngular.module(App, [\n  'angular-meteor',\n  'ionic'\n]);\n\nnew Loader(App)\n  .load(EventsCtrl)\n  .load(NewEventCtrl)\n  .load(EditEventCtrl)\n  .load(CalendarFilter)\n  .load(RoutesConfig);\n\n// Startup\nif (Meteor.isCordova) {\n  Angular.element(document).on('deviceready', onReady);\n}\nelse {\n  Angular.element(document).ready(onReady);\n}\n\nfunction onReady() {\n  Angular.bootstrap(document, [App]);\n}\n","import Moment from 'moment';\nimport { Controller } from 'angular-ecmascript/module-helpers';\nimport { Events } from '../../../lib/collections';\n\nexport default class EditEventCtrl extends Controller {\n  constructor() {\n    super(...arguments);\n\n    this.helpers({\n      data() {\n        return Events.find();\n      },\n      load()\n      {\n        this.event = Session.get(\"editEvent\");\n        console.log(this.event);\n      }\n    });\n\n  }\n\n  done()\n  {\n    Events.update(this.event._id, {\n\n        $set: { \n            name: this.event.name,\n            city: this.event.city,\n            country: this.event.country,\n            from: this.event.from,\n            to: this.event.to,\n            webpage: this.event.webpage,\n            credits: this.event.credits,\n            about: this.event.about\n        }\n  \n      });\n    this.$state.go(\"tab.events\");\n  }\n\n  delete()\n  {\n    Events.remove(this.event._id);\n    this.$state.go(\"tab.events\");\n  }\n\n}\n\nEditEventCtrl.$name = 'EditEventCtrl';\nEditEventCtrl.$inject = ['$state', '$ionicPopup', '$log'];","import Moment from 'moment';\nimport { Controller } from 'angular-ecmascript/module-helpers';\nimport { Events } from '../../../lib/collections';\n\nexport default class EventsCtrl extends Controller {\n  constructor() {\n    super(...arguments);\n\n    this.helpers({\n      data() {\n        return Events.find();\n      }\n    });\n\n  }\n\n  createNew()\n  {\n    console.log(\"new\");\n    this.$state.go('tab.newEvent');\n    console.log(\"gone\");\n  }\n\n  loadEvent(event)\n  {\n    console.log(\"Loading event\");\n    Session.set(\"editEvent\",event);\n  }\n}\n\nEventsCtrl.$name = 'EventsCtrl';\nEventsCtrl.$inject = ['$state', '$ionicPopup', '$log'];","import Moment from 'moment';\nimport { Controller } from 'angular-ecmascript/module-helpers';\nimport { Events } from '../../../lib/collections';\n\nexport default class NewEventCtrl extends Controller {\n  constructor() {\n    super(...arguments);\n\n    this.helpers({\n      data() {\n        return Events.find();\n      }\n    });\n\n  }\n\n  generateCode()\n  {\n      var code = \"\";\n      for (var index = 0; index < 5; index++) \n      {\n          var digit = Math.floor((Math.random() * 10));\n          code += digit + \"\";\n      }\n      //Console.log(code);\n      return code;\n  }\n\n  done()\n  {\n    var event = {\n      name: this.name,\n      city: this.city,\n      country: this.country,\n      picture: 'img/TL.jpg',\n      from: this.from,\n      to: this.to,\n      webpage: this.webpage,\n      credits: this.credits,\n      about: this.about,\n      claims: 0,\n      code: this.generateCode(),\n      claimed: 0,\n      winner: null\n    };\n\n    Events.insert(event);\n    this.$state.go(\"tab.events\");\n  }\n}\n\nNewEventCtrl.$name = 'NewEventCtrl';\nNewEventCtrl.$inject = ['$state', '$ionicPopup', '$log'];","import Moment from 'moment';\nimport { Filter } from 'angular-ecmascript/module-helpers';\n\nexport default class CalendarFilter extends Filter {\n  filter(time) {\n    if (!time) return;\n\n    return Moment(time).calendar(null, {\n      lastDay : '[Yesterday]',\n      sameDay : 'LT',\n      lastWeek : 'dddd',\n      sameElse : 'DD/MM/YY'\n    });\n  }\n}\n\nCalendarFilter.$name = 'calendar';","\nimport { Config, Runner } from 'angular-ecmascript/module-helpers';\n\nimport eventsTemplateUrl from '../templates/events.html';\nimport newEventTemplateUrl from '../templates/newEvent.html';\nimport editEventTemplateUrl from '../templates/editEvent.html';\nimport tabsTemplateUrl from '../templates/tabs.html';\n\nexport default class RoutesConfig extends Config {\n  configure() {\n    this.$stateProvider\n      .state('tab', {\n        url: '/tab',\n        abstract: true,\n        templateUrl: tabsTemplateUrl\n      })\n      .state('tab.events', {\n        url: '/events',\n        views: {\n          'tab-events': {\n            templateUrl: eventsTemplateUrl,\n            controller: 'EventsCtrl as events'\n          }\n        }\n      })\n      .state('tab.newEvent', {\n        url: '/newEvent',\n        views: {\n          'tab-events':{\n            templateUrl: newEventTemplateUrl,\n            controller: 'NewEventCtrl as newEvent'\n          }\n        }\n      })\n      .state('tab.editEvent', {\n        url: '/editEvent',\n        views: {\n          'tab-events':{\n            templateUrl: editEventTemplateUrl,\n            controller: 'EditEventCtrl as editEvent'\n          }\n        }\n      });\n\n    this.$urlRouterProvider.otherwise('tab/events');\n  }\n}\n\nRoutesConfig.$inject = ['$stateProvider', '$urlRouterProvider'];\n","import { Mongo } from 'meteor/mongo';\n\nexport const Events = new Mongo.Collection('events');","\nPackage.describe({\n  name    : 'semantic:ui-{component}',\n  summary : 'Semantic UI - {Component}: Single component release',\n  version : '{version}',\n  git     : 'git://github.com/Semantic-Org/UI-{Component}.git',\n});\n\nPackage.onUse(function(api) {\n  api.versionsFrom('1.0');\n  api.addFiles([\n    {files}\n  ], 'client');\n});\n","var\n  where = 'client' // Adds files only to the client\n;\n\nPackage.describe({\n  name    : 'semantic:ui-css',\n  summary : 'Semantic UI - CSS Release of Semantic UI',\n  version : '{version}',\n  git     : 'git://github.com/Semantic-Org/Semantic-UI-CSS.git',\n});\n\nPackage.onUse(function(api) {\n\n  api.versionsFrom('1.0');\n\n  api.use('jquery', 'client');\n\n  api.addFiles([\n    // icons\n    'themes/default/assets/fonts/icons.eot',\n    'themes/default/assets/fonts/icons.svg',\n    'themes/default/assets/fonts/icons.ttf',\n    'themes/default/assets/fonts/icons.woff',\n    'themes/default/assets/fonts/icons.woff2',\n\n    // flags\n    'themes/default/assets/images/flags.png',\n\n    // release\n    'semantic.css',\n    'semantic.js'\n  ], 'client');\n\n});\n","var\n  where = 'client' // Adds files only to the client\n;\n\nPackage.describe({\n  name    : 'semantic:ui',\n  summary : 'Semantic UI - LESS Release of Semantic UI',\n  version : '{version}',\n  git     : 'git://github.com/Semantic-Org/Semantic-UI-LESS.git',\n});\n\nPackage.onUse(function(api) {\n\n  api.versionsFrom('1.0');\n  api.use('less', 'client');\n\n  api.addFiles([\n    {files}\n  ], 'client');\n\n});\n","/*******************************\n          GitHub Login\n*******************************/\n/*\n  Logs into GitHub using OAuth\n*/\n\nvar\n  fs          = require('fs'),\n  path        = require('path'),\n  githubAPI   = require('github'),\n\n  // stores oauth info for GitHub API\n  oAuthConfig = path.join(__dirname, 'oauth.js'),\n  oAuth       = fs.existsSync(oAuthConfig)\n    ? require(oAuthConfig)\n    : false,\n  github\n;\n\nif(!oAuth) {\n  console.error('Must add oauth token for GitHub in tasks/config/admin/oauth.js');\n}\n\ngithub = new githubAPI({\n  version    : '3.0.0',\n  debug      : true,\n  protocol   : 'https',\n  timeout    : 5000\n});\n\ngithub.authenticate({\n  type: 'oauth',\n  token: oAuth.token\n});\n\nmodule.exports = github;\n","/*\n Used to import GitHub Auth Token\n To Automate GitHub Updates\n*/\n\nmodule.exports = {\n  token    : 'AN-OAUTH2-TOKEN',\n  username : 'github-username',\n  name     : 'Your Name',\n  email    : 'user@email.com'\n};","/*******************************\n        Release Settings\n*******************************/\n\n// release settings\nmodule.exports = {\n\n  // path to components for repos\n  source     : './dist/components/',\n\n  // modified asset paths for component repos\n  paths: {\n    source : '../themes/default/assets/',\n    output : 'assets/'\n  },\n\n  templates: {\n    bower    : './tasks/config/admin/templates/bower.json',\n    composer : './tasks/config/admin/templates/composer.json',\n    package  : './tasks/config/admin/templates/package.json',\n    meteor   : {\n      css       : './tasks/config/admin/templates/css-package.js',\n      component : './tasks/config/admin/templates/component-package.js',\n      less      : './tasks/config/admin/templates/less-package.js',\n    },\n    readme : './tasks/config/admin/templates/README.md',\n    notes  : './RELEASE-NOTES.md'\n  },\n\n  org         : 'Semantic-Org',\n  repo        : 'Semantic-UI',\n\n  // files created for package managers\n  files: {\n    composer : 'composer.json',\n    config   : 'semantic.json',\n    npm      : 'package.json',\n    meteor   : 'package.js'\n  },\n\n  // root name for distribution repos\n  distRepoRoot      : 'Semantic-UI-',\n\n  // root name for single component repos\n  componentRepoRoot : 'UI-',\n\n  // root name for package managers\n  packageRoot          : 'semantic-ui-',\n\n  // root path to repos\n  outputRoot  : '../repos/',\n\n  homepage    : 'http://www.semantic-ui.com',\n\n  // distributions that get separate repos\n  distributions: [\n    'LESS',\n    'CSS'\n  ],\n\n  // components that get separate repositories for bower/npm\n  components : [\n    'accordion',\n    'ad',\n    'api',\n    'breadcrumb',\n    'button',\n    'card',\n    'checkbox',\n    'comment',\n    'container',\n    'dimmer',\n    'divider',\n    'dropdown',\n    'embed',\n    'feed',\n    'flag',\n    'form',\n    'grid',\n    'header',\n    'icon',\n    'image',\n    'input',\n    'item',\n    'label',\n    'list',\n    'loader',\n    'menu',\n    'message',\n    'modal',\n    'nag',\n    'popup',\n    'progress',\n    'rail',\n    'rating',\n    'reset',\n    'reveal',\n    'search',\n    'segment',\n    'shape',\n    'sidebar',\n    'site',\n    'statistic',\n    'step',\n    'sticky',\n    'tab',\n    'table',\n    'transition',\n    'visibility'\n  ]\n};\n","/*******************************\n            Set-up\n*******************************/\n\nvar\n  gulp         = require('gulp-help')(require('gulp')),\n\n  // read user config to know what task to load\n  config       = require('./tasks/config/user'),\n\n  // watch changes\n  watch        = require('./tasks/watch'),\n\n  // build all files\n  build        = require('./tasks/build'),\n  buildJS      = require('./tasks/build/javascript'),\n  buildCSS     = require('./tasks/build/css'),\n  buildAssets  = require('./tasks/build/assets'),\n\n  // utility\n  clean        = require('./tasks/clean'),\n  version      = require('./tasks/version'),\n\n  // docs tasks\n  serveDocs    = require('./tasks/docs/serve'),\n  buildDocs    = require('./tasks/docs/build'),\n\n  // rtl\n  buildRTL     = require('./tasks/rtl/build'),\n  watchRTL     = require('./tasks/rtl/watch')\n;\n\n\n/*******************************\n             Tasks\n*******************************/\n\ngulp.task('default', false, [\n  'watch'\n]);\n\ngulp.task('watch', 'Watch for site/theme changes', watch);\n\ngulp.task('build', 'Builds all files from source', build);\ngulp.task('build-javascript', 'Builds all javascript from source', buildJS);\ngulp.task('build-css', 'Builds all css from source', buildCSS);\ngulp.task('build-assets', 'Copies all assets from source', buildAssets);\n\ngulp.task('clean', 'Clean dist folder', clean);\ngulp.task('version', 'Displays current version of Semantic', version);\n\n/*--------------\n      Docs\n---------------*/\n\n/*\n  Lets you serve files to a local documentation instance\n  https://github.com/Semantic-Org/Semantic-UI-Docs/\n*/\n\ngulp.task('serve-docs', 'Serve file changes to SUI Docs', serveDocs);\ngulp.task('build-docs', 'Build all files and add to SUI Docs', buildDocs);\n\n\n/*--------------\n      RTL\n---------------*/\n\nif(config.rtl) {\n  gulp.task('watch-rtl', 'Watch files as RTL', watchRTL);\n  gulp.task('build-rtl', 'Build all files as RTL', buildRTL);\n}\n","/*******************************\n            Set-up\n*******************************/\n\nvar\n  extend   = require('extend'),\n  fs       = require('fs'),\n  path     = require('path'),\n\n  defaults = require('../defaults')\n;\n\n\n/*******************************\n            Exports\n*******************************/\n\nmodule.exports = {\n\n  getPath: function(file, directory) {\n    var\n      configPath,\n      walk = function(directory) {\n        var\n          nextDirectory = path.resolve( path.join(directory, path.sep, '..') ),\n          currentPath   = path.normalize( path.join(directory, file) )\n        ;\n        if( fs.existsSync(currentPath) ) {\n          // found file\n          configPath = path.normalize(directory);\n          return;\n        }\n        else {\n          // reached file system root, let's stop\n          if(nextDirectory == directory) {\n            return;\n          }\n          // otherwise recurse\n          walk(nextDirectory, file);\n        }\n      }\n    ;\n\n    // start walk from outside require-dot-files directory\n    file      = file || defaults.files.config;\n    directory = directory || path.join(__dirname, path.sep, '..');\n    walk(directory);\n    return configPath || '';\n  },\n\n  // adds additional derived values to a config object\n  addDerivedValues: function(config) {\n\n    config = config || extend(false, {}, defaults);\n\n    /*--------------\n       File Paths\n    ---------------*/\n\n    var\n      configPath = this.getPath(),\n      sourcePaths = {},\n      outputPaths = {},\n      folder\n    ;\n\n    // resolve paths (config location + base + path)\n    for(folder in config.paths.source) {\n      if(config.paths.source.hasOwnProperty(folder)) {\n        sourcePaths[folder] = path.resolve(path.join(configPath, config.base, config.paths.source[folder]));\n      }\n    }\n    for(folder in config.paths.output) {\n      if(config.paths.output.hasOwnProperty(folder)) {\n        outputPaths[folder] = path.resolve(path.join(configPath, config.base, config.paths.output[folder]));\n      }\n    }\n\n    // set config paths to full paths\n    config.paths.source = sourcePaths;\n    config.paths.output = outputPaths;\n\n    // resolve \"clean\" command path\n    config.paths.clean = path.resolve( path.join(configPath, config.base, config.paths.clean) );\n\n    /*--------------\n        CSS URLs\n    ---------------*/\n\n    // determine asset paths in css by finding relative path between themes and output\n    // force forward slashes\n\n    config.paths.assets = {\n      source       : '../../themes', // source asset path is always the same\n      uncompressed : './' + path.relative(config.paths.output.uncompressed, config.paths.output.themes).replace(/\\\\/g, '/'),\n      compressed   : './' + path.relative(config.paths.output.compressed, config.paths.output.themes).replace(/\\\\/g, '/'),\n      packaged     : './' + path.relative(config.paths.output.packaged, config.paths.output.themes).replace(/\\\\/g, '/')\n    };\n\n    /*--------------\n       Permission\n    ---------------*/\n\n    if(config.permission) {\n      config.hasPermissions = true;\n    }\n    else {\n      // pass blank object to avoid causing errors\n      config.permission     = {};\n      config.hasPermissions = false;\n    }\n\n    /*--------------\n         Globs\n    ---------------*/\n\n    if(!config.globs) {\n      config.globs = {};\n    }\n\n    // remove duplicates from component array\n    if(config.components instanceof Array) {\n      config.components = config.components.filter(function(component, index) {\n        return config.components.indexOf(component) == index;\n      });\n    }\n\n    // takes component object and creates file glob matching selected components\n    config.globs.components = (typeof config.components == 'object')\n      ? (config.components.length > 1)\n        ? '{' + config.components.join(',') + '}'\n        : config.components[0]\n      : '{' + defaults.components.join(',') + '}'\n    ;\n\n    return config;\n\n  }\n\n};\n\n","/*******************************\n            Set-up\n*******************************/\n\nvar\n  fs             = require('fs'),\n  path           = require('path'),\n  defaults       = require('../defaults'),\n  release        = require('./release'),\n\n  requireDotFile = require('require-dot-file')\n;\n\n/*******************************\n          When to Ask\n*******************************/\n\n/* Preconditions for install questions */\n\nvar when = {\n\n  // path\n  changeRoot: function(questions) {\n    return (questions.useRoot !== undefined && questions.useRoot !== true);\n  },\n\n  // permissions\n  changePermissions: function(questions) {\n    return (questions.changePermissions && questions.changePermissions === true);\n  },\n\n  // install\n  hasConfig: function() {\n    return requireDotFile('semantic.json', process.cwd());\n  },\n\n  allowOverwrite: function(questions) {\n    return (questions.overwrite === undefined || questions.overwrite == 'yes');\n  },\n  notAuto: function(questions) {\n    return (questions.install !== 'auto' && (questions.overwrite === undefined || questions.overwrite == 'yes'));\n  },\n  custom: function(questions) {\n    return (questions.install === 'custom' && (questions.overwrite === undefined || questions.overwrite == 'yes'));\n  },\n  express: function(questions) {\n    return (questions.install === 'express' && (questions.overwrite === undefined || questions.overwrite == 'yes'));\n  },\n\n  // customize\n  customize: function(questions) {\n    return (questions.customize === true);\n  },\n  primaryColor: function(questions) {\n    return (questions.primaryColor);\n  },\n  secondaryColor: function(questions) {\n    return (questions.secondaryColor);\n  }\n};\n\n/*******************************\n        Response Filters\n*******************************/\n\n/* Filters to user input from install questions */\n\nvar filter = {\n  removeTrailingSlash: function(path) {\n    return path.replace(/(\\/$|\\\\$)+/mg, '');\n  }\n};\n\n/*******************************\n          Configuration\n*******************************/\n\nmodule.exports = {\n\n  // check whether install is setup\n  isSetup: function() {\n    return when.hasConfig();\n  },\n\n  // detect whether there is a semantic.json configuration and that the auto-install option is set to true\n  shouldAutoInstall: function() {\n    var\n      config = when.hasConfig()\n    ;\n    return config['autoInstall'];\n  },\n\n  // checks if files are in a PM directory\n  getPackageManager: function(directory) {\n    var\n      // returns last matching result (avoid sub-module detection)\n      walk = function(directory) {\n        var\n          pathArray     = directory.split(path.sep),\n          folder        = pathArray[pathArray.length - 1],\n          nextDirectory = path.join(directory, path.sep, '..')\n        ;\n        if( folder == 'bower_components') {\n          return {\n            name: 'Bower',\n            root: nextDirectory\n          };\n        }\n        else if(folder == 'node_modules') {\n         return {\n            name: 'NPM',\n            root: nextDirectory\n          };\n        }\n        else if(folder == 'composer') {\n         return {\n            name: 'Composer',\n            root: nextDirectory\n          };\n        }\n        if(path.resolve(directory) == path.resolve(nextDirectory)) {\n          return false;\n        }\n        // recurse downward\n        return walk(nextDirectory);\n      }\n    ;\n    // start walk from current directory if none specified\n    directory = directory || (__dirname + path.sep);\n    return walk(directory);\n  },\n\n  // checks if files is PMed submodule\n  isSubModule: function(directory) {\n    var\n      moduleFolders = 0,\n      walk = function(directory) {\n        var\n          pathArray     = directory.split(path.sep),\n          folder        = pathArray[pathArray.length - 2],\n          nextDirectory = path.join(directory, path.sep, '..')\n        ;\n        if( folder == 'bower_components') {\n          moduleFolders++;\n        }\n        else if(folder == 'node_modules') {\n          moduleFolders++;\n        }\n        else if(folder == 'composer') {\n          moduleFolders++;\n        }\n        if(path.resolve(directory) == path.resolve(nextDirectory)) {\n          return (moduleFolders > 1);\n        }\n        // recurse downward\n        return walk(nextDirectory);\n      }\n    ;\n    // start walk from current directory if none specified\n    directory = directory || (__dirname + path.sep);\n    return walk(directory);\n  },\n\n\n  createJSON: function(answers) {\n    var\n      json = {\n        paths: {\n          source: {},\n          output: {}\n        }\n      }\n    ;\n\n    // add components\n    if(answers.components) {\n      json.components = answers.components;\n    }\n\n    // add rtl choice\n    if(answers.rtl) {\n      json.rtl = answers.rtl;\n    }\n\n    // add permissions\n    if(answers.permission) {\n      json.permission = answers.permission;\n    }\n\n    // add path to semantic\n    if(answers.semanticRoot) {\n      json.base = path.normalize(answers.semanticRoot);\n    }\n\n    // record version number to avoid re-installing on same version\n    json.version = release.version;\n\n    // add dist folder paths\n    if(answers.dist) {\n      answers.dist = path.normalize(answers.dist);\n\n      json.paths.output = {\n        packaged     : path.normalize(answers.dist + '/'),\n        uncompressed : path.normalize(answers.dist + '/components/'),\n        compressed   : path.normalize(answers.dist + '/components/'),\n        themes       : path.normalize(answers.dist + '/themes/')\n      };\n    }\n\n    // add site path\n    if(answers.site) {\n      json.paths.source.site = path.normalize(answers.site + '/');\n    }\n    if(answers.packaged) {\n      json.paths.output.packaged = path.normalize(answers.packaged + '/');\n    }\n    if(answers.compressed) {\n      json.paths.output.compressed = path.normalize(answers.compressed + '/');\n    }\n    if(answers.uncompressed) {\n      json.paths.output.uncompressed = path.normalize(answers.uncompressed + '/');\n    }\n    return json;\n  },\n\n  // files cleaned up after install\n  setupFiles: [\n    './src/theme.config.example',\n    './semantic.json.example',\n    './src/_site'\n  ],\n\n  regExp: {\n    // used to match siteFolder variable in theme.less\n    siteVariable: /@siteFolder .*\\'(.*)/mg\n  },\n\n  // source paths (when installing)\n  source: {\n    config       : './semantic.json.example',\n    definitions  : './src/definitions',\n    gulpFile     : './gulpfile.js',\n    lessImport   : './src/semantic.less',\n    site         : './src/_site',\n    tasks        : './tasks',\n    themeConfig  : './src/theme.config.example',\n    themeImport  : './src/theme.less',\n    themes       : './src/themes',\n    defaultTheme : './src/themes/default',\n    userGulpFile : './tasks/config/npm/gulpfile.js'\n  },\n\n  // expected final filenames\n  files: {\n    config      : 'semantic.json',\n    lessImport  : 'src/semantic.less',\n    site        : 'src/site',\n    themeConfig : 'src/theme.config',\n    themeImport : 'src/theme.less'\n  },\n\n  // folder paths to files relative to root\n  folders: {\n    config       : './',\n    definitions  : 'src/definitions/',\n    lessImport   : 'src/',\n    modules      : 'node_modules/',\n    site         : 'src/site/',\n    tasks        : 'tasks/',\n    themeConfig  : 'src/',\n    themeImport  : 'src/',\n    themes       : 'src/themes/',\n\n    defaultTheme : 'default/' // only path that is relative to another directory and not root\n  },\n\n  // questions asked during install\n  questions: {\n\n    root: [\n      {\n        type    : 'list',\n        name    : 'useRoot',\n        message :\n          '{packageMessage} Is this your project folder? {root}',\n        choices: [\n          {\n            name  : 'Yes',\n            value : true\n          },\n          {\n            name  : 'No, let me specify',\n            value : false\n          }\n        ]\n      },\n      {\n        type    : 'input',\n        name    : 'customRoot',\n        message : 'Please enter the absolute path to your project root',\n        default : '/my/project/path',\n        when    : when.changeRoot\n      },\n      {\n        type    : 'input',\n        name    : 'semanticRoot',\n        message : 'Where should we put Semantic UI inside your project?',\n        default : 'semantic/'\n      }\n    ],\n\n    setup: [\n      {\n        type: 'list',\n        name: 'overwrite',\n        message: 'It looks like you have a semantic.json file already.',\n        when: when.hasConfig,\n        choices: [\n          {\n            name: 'Yes, extend my current settings.',\n            value: 'yes'\n          },\n          {\n            name: 'Skip install',\n            value: 'no'\n          }\n        ]\n      },\n      {\n        type: 'list',\n        name: 'install',\n        message: 'Set-up Semantic UI',\n        when: when.allowOverwrite,\n        choices: [\n          {\n            name: 'Automatic (Use default locations and all components)',\n            value: 'auto'\n          },\n          {\n            name: 'Express (Set components and output folder)',\n            value: 'express'\n          },\n          {\n            name: 'Custom (Customize all src/dist values)',\n            value: 'custom'\n          }\n        ]\n      },\n      {\n        type: 'checkbox',\n        name: 'components',\n        message: 'What components should we include in the package?',\n\n        // duplicated manually from tasks/defaults.js with additional property\n        choices: [\n          { name: \"reset\", checked: true },\n          { name: \"site\", checked: true },\n          { name: \"button\", checked: true },\n          { name: \"container\", checked: true },\n          { name: \"divider\", checked: true },\n          { name: \"flag\", checked: true },\n          { name: \"header\", checked: true },\n          { name: \"icon\", checked: true },\n          { name: \"image\", checked: true },\n          { name: \"input\", checked: true },\n          { name: \"label\", checked: true },\n          { name: \"list\", checked: true },\n          { name: \"loader\", checked: true },\n          { name: \"rail\", checked: true },\n          { name: \"reveal\", checked: true },\n          { name: \"segment\", checked: true },\n          { name: \"step\", checked: true },\n          { name: \"breadcrumb\", checked: true },\n          { name: \"form\", checked: true },\n          { name: \"grid\", checked: true },\n          { name: \"menu\", checked: true },\n          { name: \"message\", checked: true },\n          { name: \"table\", checked: true },\n          { name: \"ad\", checked: true },\n          { name: \"card\", checked: true },\n          { name: \"comment\", checked: true },\n          { name: \"feed\", checked: true },\n          { name: \"item\", checked: true },\n          { name: \"statistic\", checked: true },\n          { name: \"accordion\", checked: true },\n          { name: \"checkbox\", checked: true },\n          { name: \"dimmer\", checked: true },\n          { name: \"dropdown\", checked: true },\n          { name: \"embed\", checked: true },\n          { name: \"modal\", checked: true },\n          { name: \"nag\", checked: true },\n          { name: \"popup\", checked: true },\n          { name: \"progress\", checked: true },\n          { name: \"rating\", checked: true },\n          { name: \"search\", checked: true },\n          { name: \"shape\", checked: true },\n          { name: \"sidebar\", checked: true },\n          { name: \"sticky\", checked: true },\n          { name: \"tab\", checked: true },\n          { name: \"transition\", checked: true },\n          { name: \"api\", checked: true },\n          { name: \"form\", checked: true },\n          { name: \"state\", checked: true },\n          { name: \"visibility\", checked: true }\n        ],\n        when: when.notAuto\n      },\n      {\n        type: 'list',\n        name: 'changePermissions',\n        when: when.notAuto,\n        message: 'Should we set permissions on outputted files?',\n        choices: [\n          {\n            name: 'No',\n            value: false\n          },\n          {\n            name: 'Yes',\n            value: true\n          }\n        ]\n      },\n      {\n        type: 'input',\n        name: 'permission',\n        message: 'What octal file permission should outputted files receive?',\n        default: defaults.permission,\n        when: when.changePermissions\n      },\n      {\n        type: 'list',\n        name: 'rtl',\n        message: 'Do you use a RTL (Right-To-Left) language?',\n        when: when.notAuto,\n        choices: [\n          {\n            name: 'No',\n            value: false\n          },\n          {\n            name: 'Yes',\n            value: true\n          },\n          {\n            name: 'Build Both',\n            value: 'both'\n          }\n        ]\n      },\n      {\n        type: 'input',\n        name: 'dist',\n        message: 'Where should we output Semantic UI?',\n        default: defaults.paths.output.packaged,\n        filter: filter.removeTrailingSlash,\n        when: when.express\n      },\n      {\n        type: 'input',\n        name: 'site',\n        message: 'Where should we put your site folder?',\n        default: defaults.paths.source.site,\n        filter: filter.removeTrailingSlash,\n        when: when.custom\n      },\n      {\n        type: 'input',\n        name: 'packaged',\n        message: 'Where should we output a packaged version?',\n        default: defaults.paths.output.packaged,\n        filter: filter.removeTrailingSlash,\n        when: when.custom\n      },\n      {\n        type: 'input',\n        name: 'compressed',\n        message: 'Where should we output compressed components?',\n        default: defaults.paths.output.compressed,\n        filter: filter.removeTrailingSlash,\n        when: when.custom\n      },\n      {\n        type: 'input',\n        name: 'uncompressed',\n        message: 'Where should we output uncompressed components?',\n        default: defaults.paths.output.uncompressed,\n        filter: filter.removeTrailingSlash,\n        when: when.custom\n      }\n    ],\n\n\n    cleanup: [\n      {\n        type: 'list',\n        name: 'cleanup',\n        message: 'Should we remove set-up files?',\n        choices: [\n          {\n            name: 'Yes (re-install will require redownloading semantic).',\n            value: 'yes'\n          },\n          {\n            name: 'No Thanks',\n            value: 'no'\n          }\n        ]\n      },\n      {\n        type: 'list',\n        name: 'build',\n        message: 'Do you want to build Semantic now?',\n        choices: [\n          {\n            name: 'Yes',\n            value: 'yes'\n          },\n          {\n            name: 'No',\n            value: 'no'\n          }\n        ]\n      },\n    ],\n    site: [\n      {\n        type: 'list',\n        name: 'customize',\n        message: 'You have not yet customized your site, can we help you do that?',\n        choices: [\n          {\n            name: 'Yes, ask me a few questions',\n            value: true\n          },\n          {\n            name: 'No I\\'ll do it myself',\n            value: false\n          }\n        ]\n      },\n      {\n        type: 'list',\n        name: 'headerFont',\n        message: 'Select your header font',\n        choices: [\n          {\n            name: 'Helvetica Neue, Arial, sans-serif',\n            value: 'Helvetica Neue, Arial, sans-serif;'\n          },\n          {\n            name: 'Lato (Google Fonts)',\n            value: 'Lato'\n          },\n          {\n            name: 'Open Sans (Google Fonts)',\n            value: 'Open Sans'\n          },\n          {\n            name: 'Source Sans Pro (Google Fonts)',\n            value: 'Source Sans Pro'\n          },\n          {\n            name: 'Droid (Google Fonts)',\n            value: 'Droid'\n          },\n          {\n            name: 'I\\'ll choose on my own',\n            value: false\n          }\n        ],\n        when: when.customize\n      },\n      {\n        type: 'list',\n        name: 'pageFont',\n        message: 'Select your page font',\n        choices: [\n          {\n            name: 'Helvetica Neue, Arial, sans-serif',\n            value: 'Helvetica Neue, Arial, sans-serif;'\n          },\n          {\n            name: 'Lato (Import from Google Fonts)',\n            value: 'Lato'\n          },\n          {\n            name: 'Open Sans (Import from Google Fonts)',\n            value: 'Open Sans'\n          },\n          {\n            name: 'Source Sans Pro (Import from Google Fonts)',\n            value: 'Source Sans Pro'\n          },\n          {\n            name: 'Droid (Google Fonts)',\n            value: 'Droid'\n          },\n          {\n            name: 'I\\'ll choose on my own',\n            value: false\n          }\n        ],\n        when: when.customize\n      },\n      {\n        type: 'list',\n        name: 'fontSize',\n        message: 'Select your base font size',\n        default: '14px',\n        choices: [\n          {\n            name: '12px',\n          },\n          {\n            name: '13px',\n          },\n          {\n            name: '14px (Recommended)',\n            value: '14px'\n          },\n          {\n            name: '15px',\n          },\n          {\n            name: '16px',\n          },\n          {\n            name: 'I\\'ll choose on my own',\n            value: false\n          }\n        ],\n        when: when.customize\n      },\n      {\n        type: 'list',\n        name: 'primaryColor',\n        message: 'Select the closest name for your primary brand color',\n        default: '14px',\n        choices: [\n          {\n            name: 'Blue'\n          },\n          {\n            name: 'Green'\n          },\n          {\n            name: 'Orange'\n          },\n          {\n            name: 'Pink'\n          },\n          {\n            name: 'Purple'\n          },\n          {\n            name: 'Red'\n          },\n          {\n            name: 'Teal'\n          },\n          {\n            name: 'Yellow'\n          },\n          {\n            name: 'Black'\n          },\n          {\n            name: 'I\\'ll choose on my own',\n            value: false\n          }\n        ],\n        when: when.customize\n      },\n      {\n        type: 'input',\n        name: 'PrimaryHex',\n        message: 'Enter a hexcode for your primary brand color',\n        when: when.primaryColor\n      },\n      {\n        type: 'list',\n        name: 'secondaryColor',\n        message: 'Select the closest name for your secondary brand color',\n        default: '14px',\n        choices: [\n          {\n            name: 'Blue'\n          },\n          {\n            name: 'Green'\n          },\n          {\n            name: 'Orange'\n          },\n          {\n            name: 'Pink'\n          },\n          {\n            name: 'Purple'\n          },\n          {\n            name: 'Red'\n          },\n          {\n            name: 'Teal'\n          },\n          {\n            name: 'Yellow'\n          },\n          {\n            name: 'Black'\n          },\n          {\n            name: 'I\\'ll choose on my own',\n            value: false\n          }\n        ],\n        when: when.customize\n      },\n      {\n        type: 'input',\n        name: 'secondaryHex',\n        message: 'Enter a hexcode for your secondary brand color',\n        when: when.secondaryColor\n      }\n    ]\n\n  },\n\n  settings: {\n\n    /* Rename Files */\n    rename: {\n      json : { extname : '.json' }\n    },\n\n    /* Copy Install Folders */\n    wrench: {\n\n      // overwrite existing files update & install (default theme / definition)\n      overwrite: {\n        forceDelete       : true,\n        excludeHiddenUnix : true,\n        preserveFiles     : false\n      },\n\n      // only create files that don't exist (site theme update)\n      merge: {\n        forceDelete       : false,\n        excludeHiddenUnix : true,\n        preserveFiles     : true\n      }\n\n    }\n  }\n};\n","/*******************************\n         Release Config\n*******************************/\n\nvar\n  requireDotFile = require('require-dot-file'),\n  config,\n  npmPackage,\n  version\n;\n\n\n/*******************************\n         Derived Values\n*******************************/\n\ntry {\n  config = requireDotFile('semantic.json');\n}\ncatch(error) {}\n\n\ntry {\n  npmPackage = require('../../../package.json');\n}\ncatch(error) {\n  // generate fake package\n  npmPackage = {\n    name: 'Unknown',\n    version: 'x.x'\n  };\n}\n\n// looks for version in config or package.json (whichever is available)\nversion = (npmPackage && npmPackage.version !== undefined && npmPackage.name == 'semantic-ui')\n  ? npmPackage.version\n  : config.version\n;\n\n\n/*******************************\n             Export\n*******************************/\n\nmodule.exports = {\n\n  title      : 'Semantic UI',\n  repository : 'https://github.com/Semantic-Org/Semantic-UI',\n  url        : 'http://www.semantic-ui.com/',\n\n  banner: ''\n    + ' /*' + '\\n'\n    + ' * # <%= title %> - <%= version %>' + '\\n'\n    + ' * <%= repository %>' + '\\n'\n    + ' * <%= url %>' + '\\n'\n    + ' *' + '\\n'\n    + ' * Copyright 2014 Contributors' + '\\n'\n    + ' * Released under the MIT license' + '\\n'\n    + ' * http://opensource.org/licenses/MIT' + '\\n'\n    + ' *' + '\\n'\n    + ' */' + '\\n',\n\n  version    : version\n\n};\n","/*******************************\n          Default Paths\n*******************************/\n\nmodule.exports = {\n\n  // base path added to all other paths\n  base : '',\n\n  // base path when installed with npm\n  pmRoot: 'semantic/',\n\n  // octal permission for output files, i.e. 644 (false does not adjust)\n  permission : 744,\n\n  // whether to generate rtl files\n  rtl        : false,\n\n  // file paths\n  files: {\n    config   : 'semantic.json',\n    site     : 'src/site',\n    theme    : 'src/theme.config'\n  },\n\n  // folder paths\n  paths: {\n    source: {\n      config      : 'src/theme.config',\n      definitions : 'src/definitions/',\n      site        : 'src/site/',\n      themes      : 'src/themes/'\n    },\n    output: {\n      packaged     : 'dist/',\n      uncompressed : 'dist/components/',\n      compressed   : 'dist/components/',\n      themes       : 'dist/themes/'\n    },\n    clean : 'dist/'\n  },\n\n  // components to include in package\n  components: [\n\n    // global\n    'reset',\n    'site',\n\n    // elements\n    'button',\n    'container',\n    'divider',\n    'flag',\n    'header',\n    'icon',\n    'image',\n    'input',\n    'label',\n    'list',\n    'loader',\n    'rail',\n    'reveal',\n    'segment',\n    'step',\n\n    // collections\n    'breadcrumb',\n    'form',\n    'grid',\n    'menu',\n    'message',\n    'table',\n\n    // views\n    'ad',\n    'card',\n    'comment',\n    'feed',\n    'item',\n    'statistic',\n\n    // modules\n    'accordion',\n    'checkbox',\n    'dimmer',\n    'dropdown',\n    'embed',\n    'modal',\n    'nag',\n    'popup',\n    'progress',\n    'rating',\n    'search',\n    'shape',\n    'sidebar',\n    'sticky',\n    'tab',\n    'transition',\n\n    // behaviors\n    'api',\n    'form',\n    'state',\n    'visibility'\n  ],\n\n  // whether to load admin tasks\n  admin: false,\n\n  // globs used for matching file patterns\n  globs      : {\n    ignored    : '!(*.min|*.map|*.rtl)',\n    ignoredRTL : '!(*.min|*.map)'\n  }\n\n};\n","/*******************************\n             Docs\n*******************************/\n\n/* Paths used for \"serve-docs\" and \"build-docs\" tasks */\nmodule.exports = {\n  base: '',\n  globs: {\n    eco: '**/*.html.eco'\n  },\n  paths: {\n    clean: '../docs/out/dist/',\n    source: {\n      config      : 'src/theme.config',\n      definitions : 'src/definitions/',\n      site        : 'src/site/',\n      themes      : 'src/themes/'\n    },\n    output: {\n      examples     : '../docs/out/examples/',\n      less         : '../docs/out/src/',\n      metadata     : '../docs/out/',\n      packaged     : '../docs/out/dist/',\n      uncompressed : '../docs/out/dist/components/',\n      compressed   : '../docs/out/dist/components/',\n      themes       : '../docs/out/dist/themes/'\n    },\n    template: {\n      eco: '../docs/server/documents/'\n    },\n  }\n};\n","var\n  console = require('better-console'),\n  config  = require('./user'),\n  release = require('./project/release')\n;\n\n\nmodule.exports = {\n\n  banner : release.banner,\n\n  log: {\n    created: function(file) {\n      return 'Created: ' + file;\n    },\n    modified: function(file) {\n      return 'Modified: ' + file;\n    }\n  },\n\n  filenames: {\n    concatenatedCSS            : 'semantic.css',\n    concatenatedJS             : 'semantic.js',\n    concatenatedMinifiedCSS    : 'semantic.min.css',\n    concatenatedMinifiedJS     : 'semantic.min.js',\n    concatenatedRTLCSS         : 'semantic.rtl.css',\n    concatenatedMinifiedRTLCSS : 'semantic.rtl.min.css'\n  },\n\n  regExp: {\n\n    comments: {\n\n      // remove all comments from config files (.variable)\n      variables : {\n        in  : /(\\/\\*[\\s\\S]+?\\*\\/+)[\\s\\S]+?\\/\\* End Config \\*\\//,\n        out : '$1',\n      },\n\n      // add version to first comment\n      license: {\n        in  : /(^\\/\\*[\\s\\S]+)(# Semantic UI )([\\s\\S]+?\\*\\/)/,\n        out : '$1$2' + release.version + ' $3'\n      },\n\n      // adds uniform spacing around comments\n      large: {\n        in  : /(\\/\\*\\*\\*\\*[\\s\\S]+?\\*\\/)/mg,\n        out : '\\n\\n$1\\n'\n      },\n      small: {\n        in  : /(\\/\\*---[\\s\\S]+?\\*\\/)/mg,\n        out : '\\n$1\\n'\n      },\n      tiny: {\n        in  : /(\\/\\* [\\s\\S]+? \\*\\/)/mg,\n        out : '\\n$1'\n      }\n    },\n\n    theme: /.*(\\/|\\\\)themes(\\/|\\\\).*?(?=(\\/|\\\\))/mg\n\n  },\n\n  settings: {\n\n    /* Remove Files in Clean */\n    del: {\n      silent : true\n    },\n\n    concatCSS: {\n      rebaseUrls: false\n    },\n\n    /* Comment Banners */\n    header: {\n      title      : release.title,\n      version    : release.version,\n      repository : release.repository,\n      url        : release.url\n    },\n\n    plumber: {\n      less: {\n        errorHandler: function(error) {\n          var\n            regExp = {\n              variable : /@(\\S.*?)\\s/,\n              theme    : /themes[\\/\\\\]+(.*?)[\\/\\\\].*/,\n              element  : /[\\/\\\\]([^\\/\\\\*]*)\\.overrides/\n            },\n            theme,\n            element\n          ;\n          if(error.filename.match(/theme.less/)) {\n            if(error.line == 5) {\n              element  = regExp.variable.exec(error.message)[1];\n              if(element) {\n                console.error('Missing theme.config value for ', element);\n              }\n              console.error('Most likely new UI was added in an update. You will need to add missing elements from theme.config.example');\n            }\n            if(error.line == 46) {\n              element = regExp.element.exec(error.message)[1];\n              theme   = regExp.theme.exec(error.message)[1];\n              console.error(theme + ' is not an available theme for ' + element);\n            }\n          }\n          else {\n            console.log(error);\n          }\n          this.emit('end');\n        }\n      }\n    },\n\n    /* What Browsers to Prefix */\n    prefix: {\n      browsers: [\n        'last 2 versions',\n        '> 1%',\n        'opera 12.1',\n        'bb 10',\n        'android 4'\n      ]\n    },\n\n    /* File Renames */\n    rename: {\n      minJS     : { extname : '.min.js' },\n      minCSS    : { extname : '.min.css' },\n      rtlCSS    : { extname : '.rtl.css' },\n      rtlMinCSS : { extname : '.rtl.min.css' }\n    },\n\n    /* Minified CSS Concat */\n    minify: {\n      processImport       : false,\n      restructuring       : false,\n      keepSpecialComments : 1,\n      roundingPrecision   : -1,\n    },\n\n    /* Minified JS Settings */\n    uglify: {\n      mangle   : true,\n      output: {\n        comments: 'some'\n      }\n    },\n\n    /* Minified Concat CSS Settings */\n    concatMinify: {\n      processImport       : false,\n      restructuring       : false,\n      keepSpecialComments : false,\n      roundingPrecision   : -1,\n    },\n\n    /* Minified Concat JS */\n    concatUglify: {\n      mangle   : true,\n      output: {\n        comments: 'some'\n      }\n    }\n\n  }\n};\n","/*******************************\n             Set-up\n*******************************/\n\nvar\n  // npm dependencies\n  extend          = require('extend'),\n  fs              = require('fs'),\n  path            = require('path'),\n  requireDotFile  = require('require-dot-file'),\n\n  // semantic.json defaults\n  defaults        = require('./defaults'),\n  config          = require('./project/config'),\n\n  // Final config object\n  gulpConfig = {},\n\n  // semantic.json settings\n  userConfig\n\n;\n\n\n/*******************************\n          User Config\n*******************************/\n\ntry {\n  // looks for config file across all parent directories\n  userConfig = requireDotFile('semantic.json');\n}\ncatch(error) {\n  if(error.code === 'MODULE_NOT_FOUND') {\n    console.error('No semantic.json config found');\n  }\n}\n\n// extend user config with defaults\ngulpConfig = (!userConfig)\n  ? extend(true, {}, defaults)\n  : extend(false, {}, defaults, userConfig)\n;\n\n/*******************************\n       Add Derived Values\n*******************************/\n\n// adds calculated values\nconfig.addDerivedValues(gulpConfig);\n\n\n/*******************************\n             Export\n*******************************/\n\nmodule.exports = gulpConfig;\n\n","/*******************************\n     Create Component Repos\n*******************************/\n\n/*\n This will create individual component repositories for each SUI component\n\n  * copy component files from release\n  * create commonjs files as index.js for NPM release\n  * create release notes that filter only items related to component\n  * custom package.json file from template\n  * create bower.json from template\n  * create README from template\n  * create meteor.js file\n*/\n\nvar\n  gulp            = require('gulp'),\n\n  // node dependencies\n  console         = require('better-console'),\n  del             = require('del'),\n  fs              = require('fs'),\n  path            = require('path'),\n  runSequence     = require('run-sequence'),\n\n  // admin dependencies\n  concatFileNames = require('gulp-concat-filenames'),\n  debug           = require('gulp-debug'),\n  flatten         = require('gulp-flatten'),\n  git             = require('gulp-git'),\n  jsonEditor      = require('gulp-json-editor'),\n  plumber         = require('gulp-plumber'),\n  rename          = require('gulp-rename'),\n  replace         = require('gulp-replace'),\n  tap             = require('gulp-tap'),\n  util            = require('gulp-util'),\n\n  // config\n  config          = require('../../config/user'),\n  release         = require('../../config/admin/release'),\n  project         = require('../../config/project/release'),\n\n  // shorthand\n  version         = project.version,\n  output          = config.paths.output\n\n;\n\n\nmodule.exports = function(callback) {\n  var\n    stream,\n    index,\n    tasks = []\n  ;\n\n  for(index in release.components) {\n\n    var\n      component = release.components[index]\n    ;\n\n    // streams... designed to save time and make coding fun...\n    (function(component) {\n\n      var\n        outputDirectory      = path.join(release.outputRoot, component),\n        isJavascript         = fs.existsSync(output.compressed + component + '.js'),\n        isCSS                = fs.existsSync(output.compressed + component + '.css'),\n        capitalizedComponent = component.charAt(0).toUpperCase() + component.slice(1),\n        packageName          = release.packageRoot + component,\n        repoName             = release.componentRepoRoot + capitalizedComponent,\n        gitURL               = 'https://github.com/' + release.org + '/' + repoName + '.git',\n        repoURL              = 'https://github.com/' + release.org + '/' + repoName + '/',\n        concatSettings = {\n          newline : '',\n          root    : outputDirectory,\n          prepend : \"    '\",\n          append  : \"',\"\n        },\n        regExp               = {\n          match            : {\n            // templated values\n            name      : '{component}',\n            titleName : '{Component}',\n            version   : '{version}',\n            files     : '{files}',\n            // release notes\n            spacedVersions    : /(###.*\\n)\\n+(?=###)/gm,\n            spacedLists       : /(^- .*\\n)\\n+(?=^-)/gm,\n            trim              : /^\\s+|\\s+$/g,\n            unrelatedNotes    : new RegExp('^((?!(^.*(' + component + ').*$|###.*)).)*$', 'gmi'),\n            whitespace        : /\\n\\s*\\n\\s*\\n/gm,\n            // npm\n            componentExport   : /(.*)\\$\\.fn\\.\\w+\\s*=\\s*function\\(([^\\)]*)\\)\\s*{/g,\n            componentReference: '$.fn.' + component,\n            settingsExport    : /\\$\\.fn\\.\\w+\\.settings\\s*=/g,\n            settingsReference : /\\$\\.fn\\.\\w+\\.settings/g,\n            trailingComma     : /,(?=[^,]*$)/,\n            jQuery            : /jQuery/g,\n          },\n          replace : {\n            // readme\n            name              : component,\n            titleName         : capitalizedComponent,\n            // release notes\n            spacedVersions    : '',\n            spacedLists       : '$1',\n            trim              : '',\n            unrelatedNotes    : '',\n            whitespace        : '\\n\\n',\n            // npm\n            componentExport   :  'var _module = module;\\n$1module.exports = function($2) {',\n            componentReference:  '_module.exports',\n            settingsExport    :  'module.exports.settings =',\n            settingsReference :  '_module.exports.settings',\n            jQuery            :  'require(\"jquery\")'\n          }\n        },\n        task = {\n          all      : component + ' creating',\n          repo     : component + ' create repo',\n          bower    : component + ' create bower.json',\n          readme   : component + ' create README',\n          npm      : component + ' create NPM Module',\n          notes    : component + ' create release notes',\n          composer : component + ' create composer.json',\n          package  : component + ' create package.json',\n          meteor   : component + ' create meteor package.js',\n        },\n        // paths to includable assets\n        manifest = {\n          assets    : outputDirectory + '/assets/**/' + component + '?(s).*',\n          component : outputDirectory + '/' + component + '+(.js|.css)'\n        }\n      ;\n\n      // copy dist files into output folder adjusting asset paths\n      gulp.task(task.repo, false, function() {\n        return gulp.src(release.source + component + '.*')\n          .pipe(plumber())\n          .pipe(flatten())\n          .pipe(replace(release.paths.source, release.paths.output))\n          .pipe(gulp.dest(outputDirectory))\n        ;\n      });\n\n      // create npm module\n      gulp.task(task.npm, false, function() {\n        return gulp.src(release.source + component + '!(*.min|*.map).js')\n          .pipe(plumber())\n          .pipe(flatten())\n          .pipe(replace(regExp.match.componentExport, regExp.replace.componentExport))\n          .pipe(replace(regExp.match.componentReference, regExp.replace.componentReference))\n          .pipe(replace(regExp.match.settingsExport, regExp.replace.settingsExport))\n          .pipe(replace(regExp.match.settingsReference, regExp.replace.settingsReference))\n          .pipe(replace(regExp.match.jQuery, regExp.replace.jQuery))\n          .pipe(rename('index.js'))\n          .pipe(gulp.dest(outputDirectory))\n        ;\n      });\n\n      // create readme\n      gulp.task(task.readme, false, function() {\n        return gulp.src(release.templates.readme)\n          .pipe(plumber())\n          .pipe(flatten())\n          .pipe(replace(regExp.match.name, regExp.replace.name))\n          .pipe(replace(regExp.match.titleName, regExp.replace.titleName))\n          .pipe(gulp.dest(outputDirectory))\n        ;\n      });\n\n      // extend bower.json\n      gulp.task(task.bower, false, function() {\n        return gulp.src(release.templates.bower)\n          .pipe(plumber())\n          .pipe(flatten())\n          .pipe(jsonEditor(function(bower) {\n            bower.name = packageName;\n            bower.description = capitalizedComponent + ' - Semantic UI';\n            if(isJavascript) {\n              if(isCSS) {\n                bower.main = [\n                  component + '.js',\n                  component + '.css'\n                ];\n              }\n              else {\n                bower.main = [\n                  component + '.js'\n                ];\n              }\n              bower.dependencies = {\n                jquery: '>=1.8'\n              };\n            }\n            else {\n              bower.main = [\n                component + '.css'\n              ];\n            }\n            return bower;\n          }))\n          .pipe(gulp.dest(outputDirectory))\n        ;\n      });\n\n      // extend package.json\n      gulp.task(task.package, false, function() {\n        return gulp.src(release.templates.package)\n          .pipe(plumber())\n          .pipe(flatten())\n          .pipe(jsonEditor(function(npm) {\n            if(isJavascript) {\n              npm.dependencies = {\n                jquery: 'x.x.x'\n              };\n              npm.main = 'index.js';\n            }\n            npm.name = packageName;\n            if(version) {\n              npm.version = version;\n            }\n            npm.title       = 'Semantic UI - ' + capitalizedComponent;\n            npm.description = 'Single component release of ' + component;\n            npm.repository  = {\n              type : 'git',\n              url  : gitURL\n            };\n            return npm;\n          }))\n          .pipe(gulp.dest(outputDirectory))\n        ;\n      });\n\n      // extend composer.json\n      gulp.task(task.composer, false, function() {\n        return gulp.src(release.templates.composer)\n          .pipe(plumber())\n          .pipe(flatten())\n          .pipe(jsonEditor(function(composer) {\n            if(isJavascript) {\n              composer.dependencies = {\n                jquery: 'x.x.x'\n              };\n              composer.main = component + '.js';\n            }\n            composer.name = 'semantic/' + component;\n            if(version) {\n              composer.version = version;\n            }\n            composer.description = 'Single component release of ' + component;\n            return composer;\n          }))\n          .pipe(gulp.dest(outputDirectory))\n        ;\n      });\n\n      // create release notes\n      gulp.task(task.notes, false, function() {\n        return gulp.src(release.templates.notes)\n          .pipe(plumber())\n          .pipe(flatten())\n          // Remove release notes for lines not mentioning component\n          .pipe(replace(regExp.match.unrelatedNotes, regExp.replace.unrelatedNotes))\n          .pipe(replace(regExp.match.whitespace, regExp.replace.whitespace))\n          .pipe(replace(regExp.match.spacedVersions, regExp.replace.spacedVersions))\n          .pipe(replace(regExp.match.spacedLists, regExp.replace.spacedLists))\n          .pipe(replace(regExp.match.trim, regExp.replace.trim))\n          .pipe(gulp.dest(outputDirectory))\n        ;\n      });\n\n      // Creates meteor package.js\n      gulp.task(task.meteor, function() {\n        var\n          filenames = ''\n        ;\n        return gulp.src(manifest.component)\n          .pipe(concatFileNames('empty.txt', concatSettings))\n          .pipe(tap(function(file) {\n            filenames += file.contents;\n          }))\n          .on('end', function() {\n            gulp.src(manifest.assets)\n              .pipe(concatFileNames('empty.txt', concatSettings))\n              .pipe(tap(function(file) {\n                filenames += file.contents;\n              }))\n              .on('end', function() {\n                // remove trailing slash\n                filenames = filenames.replace(regExp.match.trailingComma, '').trim();\n                gulp.src(release.templates.meteor.component)\n                  .pipe(plumber())\n                  .pipe(flatten())\n                  .pipe(replace(regExp.match.name, regExp.replace.name))\n                  .pipe(replace(regExp.match.titleName, regExp.replace.titleName))\n                  .pipe(replace(regExp.match.version, version))\n                  .pipe(replace(regExp.match.files, filenames))\n                  .pipe(rename(release.files.meteor))\n                  .pipe(gulp.dest(outputDirectory))\n                ;\n              })\n            ;\n          })\n        ;\n      });\n\n\n      // synchronous tasks in orchestrator? I think not\n      gulp.task(task.all, false, function(callback) {\n        runSequence([\n          task.repo,\n          task.npm,\n          task.bower,\n          task.readme,\n          task.package,\n          task.composer,\n          task.notes,\n          task.meteor\n        ], callback);\n      });\n\n      tasks.push(task.all);\n\n    })(component);\n  }\n\n  runSequence(tasks, callback);\n};\n","/*******************************\n          Init Repos\n*******************************/\n\n/*\n\n This task pulls the latest version of each component from GitHub\n\n  * Creates new repo if doesnt exist (locally & GitHub)\n  * Adds remote it doesnt exists\n  * Pulls latest changes from repo\n\n*/\n\nvar\n  gulp      = require('gulp'),\n\n  // node dependencies\n  console   = require('better-console'),\n  del       = require('del'),\n  fs        = require('fs'),\n  path      = require('path'),\n  git       = require('gulp-git'),\n  githubAPI = require('github'),\n  mkdirp    = require('mkdirp'),\n\n  // admin files\n  github    = require('../../config/admin/github.js'),\n  release   = require('../../config/admin/release'),\n  project   = require('../../config/project/release'),\n\n\n  // oAuth configuration for GitHub\n  oAuth     = fs.existsSync(__dirname + '/../../config/admin/oauth.js')\n    ? require('../../config/admin/oauth')\n    : false,\n\n  // shorthand\n  version         = project.version\n;\n\nmodule.exports = function(callback) {\n\n  var\n    index = -1,\n    total = release.components.length,\n    timer,\n    stream,\n    stepRepo\n  ;\n\n  if(!oAuth) {\n    console.error('Must add oauth token for GitHub in tasks/config/admin/oauth.js');\n    return;\n  }\n\n  // Do Git commands synchronously per component, to avoid issues\n  stepRepo = function() {\n\n    index = index + 1;\n\n    if(index >= total) {\n      callback();\n      return;\n    }\n\n    var\n      component            = release.components[index],\n      outputDirectory      = path.resolve(release.outputRoot + component),\n      capitalizedComponent = component.charAt(0).toUpperCase() + component.slice(1),\n      repoName             = release.componentRepoRoot + capitalizedComponent,\n\n      gitOptions           = { cwd: outputDirectory },\n      pullOptions          = { args: '-q', cwd: outputDirectory, quiet: true },\n      resetOptions         = { args: '-q --hard', cwd: outputDirectory, quiet: true },\n\n      gitURL               = 'git@github.com:' + release.org + '/' + repoName + '.git',\n      repoURL              = 'https://github.com/' + release.org + '/' + repoName + '/',\n      localRepoSetup       = fs.existsSync(path.join(outputDirectory, '.git'))\n    ;\n\n    console.log('Processing repository: ' + outputDirectory);\n\n    // create folder if doesn't exist\n    if( !fs.existsSync(outputDirectory) ) {\n      mkdirp.sync(outputDirectory);\n    }\n\n    // clean folder\n    if(release.outputRoot.search('../repos') == 0) {\n      console.info('Cleaning dir', outputDirectory);\n      del.sync([outputDirectory + '**/*'], {silent: true, force: true});\n    }\n\n    // set-up local repo\n    function setupRepo() {\n      if(localRepoSetup) {\n        addRemote();\n      }\n      else {\n        initRepo();\n      }\n    }\n\n    function initRepo() {\n      console.info('Initializing repository for ' + component);\n      git.init(gitOptions, function(error) {\n        if(error) {\n          console.error('Error initializing repo', error);\n        }\n        addRemote();\n      });\n    }\n\n    function createRepo() {\n      console.info('Creating GitHub repo ' + repoURL);\n      github.repos.createFromOrg({\n        org      : release.org,\n        name     : repoName,\n        homepage : release.homepage\n      }, function() {\n        setupRepo();\n      });\n    }\n\n    function addRemote() {\n      console.info('Adding remote origin as ' + gitURL);\n      git.addRemote('origin', gitURL, gitOptions, function(){\n        pullFiles();\n      });\n    }\n\n    function pullFiles() {\n      console.info('Pulling ' + component + ' files');\n      git.pull('origin', 'master', pullOptions, function(error) {\n        resetFiles();\n      });\n    }\n\n    function resetFiles() {\n      console.info('Resetting files to head');\n      git.reset('HEAD', resetOptions, function(error) {\n        nextRepo();\n      });\n    }\n\n    function nextRepo() {\n      //console.log('Sleeping for 1 second...');\n      // avoid rate throttling\n      global.clearTimeout(timer);\n      timer = global.setTimeout(function() {\n        stepRepo()\n      }, 0);\n    }\n\n\n    if(localRepoSetup) {\n      pullFiles();\n    }\n    else {\n      setupRepo();\n      // createRepo() only use to create remote repo (easier to do manually)\n    }\n\n  };\n\n  stepRepo();\n\n\n};\n","/*******************************\n          Update Repos\n*******************************/\n\n/*\n\n This task update all SUI individual component repos with new versions of components\n\n  * Commits changes from create repo\n  * Pushes changes to GitHub\n  * Tag new releases if version changed in main repo\n\n*/\n\nvar\n  gulp           = require('gulp'),\n\n  // node dependencies\n  console        = require('better-console'),\n  fs             = require('fs'),\n  path           = require('path'),\n  git            = require('gulp-git'),\n  githubAPI      = require('github'),\n  requireDotFile = require('require-dot-file'),\n\n  // admin files\n  github         = require('../../config/admin/github.js'),\n  release        = require('../../config/admin/release'),\n  project        = require('../../config/project/release'),\n\n\n  // oAuth configuration for GitHub\n  oAuth          = fs.existsSync(__dirname + '/../../config/admin/oauth.js')\n    ? require('../../config/admin/oauth')\n    : false,\n\n  // shorthand\n  version = project.version\n;\n\nmodule.exports = function(callback) {\n\n  var\n    index = -1,\n    total = release.components.length,\n    timer,\n    stream,\n    stepRepo\n  ;\n\n  if(!oAuth) {\n    console.error('Must add oauth token for GitHub in tasks/config/admin/oauth.js');\n    return;\n  }\n\n  // Do Git commands synchronously per component, to avoid issues\n  stepRepo = function() {\n\n    index = index + 1;\n    if(index >= total) {\n      callback();\n      return;\n    }\n\n    var\n      component            = release.components[index],\n      outputDirectory      = path.resolve(path.join(release.outputRoot, component)),\n      capitalizedComponent = component.charAt(0).toUpperCase() + component.slice(1),\n      repoName             = release.componentRepoRoot + capitalizedComponent,\n\n      gitURL               = 'https://github.com/' + release.org + '/' + repoName + '.git',\n      repoURL              = 'https://github.com/' + release.org + '/' + repoName + '/',\n\n      commitArgs = (oAuth.name !== undefined && oAuth.email !== undefined)\n        ? '--author \"' + oAuth.name + ' <' + oAuth.email + '>\"'\n        : '',\n\n      componentPackage = fs.existsSync(outputDirectory + 'package.json' )\n        ? require(outputDirectory + 'package.json')\n        : false,\n\n      isNewVersion  = (version && componentPackage.version != version),\n\n      commitMessage = (isNewVersion)\n        ? 'Updated component to version ' + version\n        : 'Updated files from main repo',\n\n      gitOptions      = { cwd: outputDirectory },\n      commitOptions   = { args: commitArgs, cwd: outputDirectory },\n      releaseOptions  = { tag_name: version, owner: release.org, repo: repoName },\n\n      fileModeOptions = { args : 'config core.fileMode false', cwd: outputDirectory },\n      usernameOptions = { args : 'config user.name \"' + oAuth.name + '\"', cwd: outputDirectory },\n      emailOptions    = { args : 'config user.email \"' + oAuth.email + '\"', cwd: outputDirectory },\n      versionOptions =  { args : 'rev-parse --verify HEAD', cwd: outputDirectory },\n\n      localRepoSetup  = fs.existsSync(path.join(outputDirectory, '.git')),\n      canProceed      = true\n    ;\n\n\n    console.info('Processing repository:' + outputDirectory);\n\n    function setConfig() {\n      git.exec(fileModeOptions, function() {\n        git.exec(usernameOptions, function () {\n          git.exec(emailOptions, function () {\n            commitFiles();\n          });\n        });\n      });\n    }\n\n\n    // standard path\n    function commitFiles() {\n      // commit files\n      console.info('Committing ' + component + ' files', commitArgs);\n      gulp.src('./', gitOptions)\n        .pipe(git.add(gitOptions))\n        .pipe(git.commit(commitMessage, commitOptions))\n        .on('error', function(error) {\n          // canProceed = false; bug in git commit <https://github.com/stevelacy/gulp-git/issues/49>\n        })\n        .on('finish', function(callback) {\n          if(canProceed) {\n            pushFiles();\n          }\n          else {\n            console.info('Nothing new to commit');\n            nextRepo();\n          }\n        })\n      ;\n    }\n\n    // push changes to remote\n    function pushFiles() {\n      console.info('Pushing files for ' + component);\n      git.push('origin', 'master', { args: '', cwd: outputDirectory }, function(error) {\n        console.info('Push completed successfully');\n        getSHA();\n      });\n    }\n\n    // gets SHA of last commit\n    function getSHA() {\n      git.exec(versionOptions, function(error, version) {\n        version = version.trim();\n        createRelease(version);\n      });\n    }\n\n    // create release on GitHub.com\n    function createRelease(version) {\n      if(version) {\n        releaseOptions.target_commitish = version;\n      }\n      github.repos.createRelease(releaseOptions, function() {\n        nextRepo();\n      });\n    }\n\n    // Steps to next repository\n    function nextRepo() {\n      console.log('Sleeping for 1 second...');\n      // avoid rate throttling\n      global.clearTimeout(timer);\n      timer = global.setTimeout(stepRepo, 100);\n    }\n\n\n    if(localRepoSetup) {\n      setConfig();\n    }\n    else {\n      console.error('Repository must be setup before running update components');\n    }\n\n  };\n\n  stepRepo();\n\n};\n","/*******************************\n     Create Distributions\n*******************************/\n\n/*\n This will create individual distribution repositories for each SUI distribution\n\n  * copy distribution files to release\n  * update package.json file\n*/\n\nvar\n  gulp            = require('gulp'),\n\n  // node dependencies\n  console         = require('better-console'),\n  del             = require('del'),\n  fs              = require('fs'),\n  path            = require('path'),\n  runSequence     = require('run-sequence'),\n  mergeStream     = require('merge-stream'),\n\n  // admin dependencies\n  concatFileNames = require('gulp-concat-filenames'),\n  debug           = require('gulp-debug'),\n  flatten         = require('gulp-flatten'),\n  git             = require('gulp-git'),\n  jsonEditor      = require('gulp-json-editor'),\n  plumber         = require('gulp-plumber'),\n  rename          = require('gulp-rename'),\n  replace         = require('gulp-replace'),\n  tap             = require('gulp-tap'),\n\n  // config\n  config          = require('../../config/user'),\n  release         = require('../../config/admin/release'),\n  project         = require('../../config/project/release'),\n\n  // shorthand\n  version         = project.version,\n  output          = config.paths.output\n\n;\n\n\nmodule.exports = function(callback) {\n  var\n    stream,\n    index,\n    tasks = []\n  ;\n\n  for(index in release.distributions) {\n\n    var\n      distribution = release.distributions[index]\n    ;\n\n    // streams... designed to save time and make coding fun...\n    (function(distribution) {\n\n      var\n        distLowerCase   = distribution.toLowerCase(),\n        outputDirectory = path.join(release.outputRoot, distLowerCase),\n        packageFile     = path.join(outputDirectory, release.files.npm),\n        repoName        = release.distRepoRoot + distribution,\n        regExp          = {\n          match : {\n            files   : '{files}',\n            version : '{version}'\n          }\n        },\n        task = {\n          all     : distribution + ' copying files',\n          repo    : distribution + ' create repo',\n          meteor  : distribution + ' create meteor package.js',\n          package : distribution + ' create package.json'\n        },\n        gatherFiles,\n        createList\n      ;\n\n      // get files for meteor\n      gatherFiles = function(dir) {\n        var\n          dir   = dir || path.resolve('.'),\n          list  = fs.readdirSync(dir),\n          omitted = [\n            '.git',\n            'node_modules',\n            'package.js',\n            'LICENSE',\n            'README.md',\n            'package.json',\n            'bower.json',\n            '.gitignore'\n          ],\n          files = []\n        ;\n        list.forEach(function(file) {\n          var\n            isOmitted = (omitted.indexOf(file) > -1),\n            filePath  = path.join(dir, file),\n            stat      = fs.statSync(filePath)\n          ;\n          if(!isOmitted) {\n            if(stat && stat.isDirectory()) {\n              files = files.concat(gatherFiles(filePath));\n            }\n            else {\n              files.push(filePath.replace(outputDirectory + path.sep, ''));\n            }\n          }\n        });\n        return files;\n      };\n\n      // spaces out list correctly\n      createList = function(files) {\n        var filenames = '';\n        for(var file in files) {\n          if(file == (files.length - 1) ) {\n            filenames += \"'\" + files[file] + \"'\";\n          }\n          else {\n            filenames += \"'\" + files[file] + \"',\\n    \";\n          }\n        }\n        return filenames;\n      };\n\n\n      gulp.task(task.meteor, function() {\n        var\n          files     = gatherFiles(outputDirectory),\n          filenames = createList(files)\n        ;\n        gulp.src(release.templates.meteor[distLowerCase])\n          .pipe(plumber())\n          .pipe(flatten())\n          .pipe(replace(regExp.match.version, version))\n          .pipe(replace(regExp.match.files, filenames))\n          .pipe(rename(release.files.meteor))\n          .pipe(gulp.dest(outputDirectory))\n        ;\n      });\n\n      if(distribution == 'CSS') {\n        gulp.task(task.repo, function() {\n          var\n            themes,\n            components,\n            releases\n          ;\n          themes = gulp.src('dist/themes/default/**/*', { base: 'dist/' })\n            .pipe(gulp.dest(outputDirectory))\n          ;\n          components = gulp.src('dist/components/*', { base: 'dist/' })\n            .pipe(gulp.dest(outputDirectory))\n          ;\n          releases = gulp.src('dist/*', { base: 'dist/' })\n            .pipe(gulp.dest(outputDirectory))\n          ;\n          return mergeStream(themes, components, releases);\n        });\n      }\n      else if(distribution == 'LESS') {\n        gulp.task(task.repo, function() {\n          var\n            definitions,\n            themeImport,\n            themeConfig,\n            siteTheme,\n            themes\n          ;\n          definitions = gulp.src('src/definitions/**/*', { base: 'src/' })\n            .pipe(gulp.dest(outputDirectory))\n          ;\n          themeImport = gulp.src('src/semantic.less', { base: 'src/' })\n            .pipe(gulp.dest(outputDirectory))\n          ;\n          themeImport = gulp.src('src/theme.less', { base: 'src/' })\n            .pipe(gulp.dest(outputDirectory))\n          ;\n          themeConfig = gulp.src('src/theme.config.example', { base: 'src/' })\n            .pipe(gulp.dest(outputDirectory))\n          ;\n          siteTheme = gulp.src('src/_site/**/*', { base: 'src/' })\n            .pipe(gulp.dest(outputDirectory))\n          ;\n          themes = gulp.src('src/themes/**/*', { base: 'src/' })\n            .pipe(gulp.dest(outputDirectory))\n          ;\n          return mergeStream(definitions, themeImport, themeConfig, siteTheme, themes);\n        });\n      }\n\n      // extend package.json\n      gulp.task(task.package, function() {\n        return gulp.src(packageFile)\n          .pipe(plumber())\n          .pipe(jsonEditor(function(package) {\n            if(version) {\n              package.version = version;\n            }\n            return package;\n          }))\n          .pipe(gulp.dest(outputDirectory))\n        ;\n      });\n\n      tasks.push(task.meteor);\n      tasks.push(task.repo);\n      tasks.push(task.package);\n\n    })(distribution);\n  }\n  runSequence(tasks, callback);\n};","/*******************************\n        Init Dist Repos\n*******************************/\n\n/*\n\n This task pulls the latest version of distribution from GitHub\n\n  * Creates new repo if doesnt exist (locally & GitHub)\n  * Adds remote it doesnt exists\n  * Pulls latest changes from repo\n\n*/\n\nvar\n  gulp      = require('gulp'),\n\n  // node dependencies\n  console   = require('better-console'),\n  del       = require('del'),\n  fs        = require('fs'),\n  path      = require('path'),\n  git       = require('gulp-git'),\n  githubAPI = require('github'),\n  mkdirp    = require('mkdirp'),\n\n  // admin files\n  github    = require('../../config/admin/github.js'),\n  release   = require('../../config/admin/release'),\n  project   = require('../../config/project/release'),\n\n\n  // oAuth configuration for GitHub\n  oAuth     = fs.existsSync(__dirname + '/../../config/admin/oauth.js')\n    ? require('../../config/admin/oauth')\n    : false,\n\n  // shorthand\n  version = project.version\n;\n\nmodule.exports = function(callback) {\n\n  var\n    index = -1,\n    total = release.distributions.length,\n    timer,\n    stream,\n    stepRepo\n  ;\n\n  if(!oAuth) {\n    console.error('Must add oauth token for GitHub in tasks/config/admin/oauth.js');\n    return;\n  }\n\n  // Do Git commands synchronously per component, to avoid issues\n  stepRepo = function() {\n\n    index = index + 1;\n\n    if(index >= total) {\n      callback();\n      return;\n    }\n\n    var\n      component          = release.distributions[index],\n      lowerCaseComponent = component.toLowerCase(),\n      outputDirectory    = path.resolve(release.outputRoot + lowerCaseComponent),\n      repoName           = release.distRepoRoot + component,\n\n      gitOptions         = { cwd: outputDirectory },\n      pullOptions        = { args: '-q', cwd: outputDirectory, quiet: true },\n      resetOptions       = { args: '-q --hard', cwd: outputDirectory, quiet: true },\n      gitURL             = 'git@github.com:' + release.org + '/' + repoName + '.git',\n      repoURL            = 'https://github.com/' + release.org + '/' + repoName + '/',\n      localRepoSetup     = fs.existsSync(path.join(outputDirectory, '.git'))\n    ;\n\n    console.log('Processing repository: ' + outputDirectory);\n\n    // create folder if doesn't exist\n    if( !fs.existsSync(outputDirectory) ) {\n      mkdirp.sync(outputDirectory);\n    }\n\n    // clean folder\n    if(release.outputRoot.search('../repos') == 0) {\n      console.info('Cleaning dir', outputDirectory);\n      del.sync([outputDirectory + '**/*'], {silent: true, force: true});\n    }\n\n    // set-up local repo\n    function setupRepo() {\n      if(localRepoSetup) {\n        addRemote();\n      }\n      else {\n        initRepo();\n      }\n    }\n\n    function initRepo() {\n      console.info('Initializing repository for ' + component);\n      git.init(gitOptions, function(error) {\n        if(error) {\n          console.error('Error initializing repo', error);\n        }\n        addRemote();\n      });\n    }\n\n    function createRepo() {\n      console.info('Creating GitHub repo ' + repoURL);\n      github.repos.createFromOrg({\n        org      : release.org,\n        name     : repoName,\n        homepage : release.homepage\n      }, function() {\n        setupRepo();\n      });\n    }\n\n    function addRemote() {\n      console.info('Adding remote origin as ' + gitURL);\n      git.addRemote('origin', gitURL, gitOptions, function(){\n        pullFiles();\n      });\n    }\n\n    function pullFiles() {\n      console.info('Pulling ' + component + ' files');\n      git.pull('origin', 'master', pullOptions, function(error) {\n        resetFiles();\n      });\n    }\n\n    function resetFiles() {\n      console.info('Resetting files to head');\n      git.reset('HEAD', resetOptions, function(error) {\n        nextRepo();\n      });\n    }\n\n    function nextRepo() {\n      //console.log('Sleeping for 1 second...');\n      // avoid rate throttling\n      global.clearTimeout(timer);\n      timer = global.setTimeout(function() {\n        stepRepo()\n      }, 0);\n    }\n\n\n    if(localRepoSetup) {\n      pullFiles();\n    }\n    else {\n      setupRepo();\n      // createRepo() only use to create remote repo (easier to do manually)\n    }\n\n  };\n\n  stepRepo();\n\n\n};\n","/*******************************\n          Update Repos\n*******************************/\n\n/*\n\n This task update all SUI individual distribution repos with new versions of distributions\n\n  * Commits changes from create repo\n  * Pushes changes to GitHub\n  * Tag new releases if version changed in main repo\n\n*/\n\nvar\n  gulp           = require('gulp'),\n\n  // node dependencies\n  console        = require('better-console'),\n  fs             = require('fs'),\n  path           = require('path'),\n  git            = require('gulp-git'),\n  githubAPI      = require('github'),\n  requireDotFile = require('require-dot-file'),\n\n  // admin files\n  github         = require('../../config/admin/github.js'),\n  release        = require('../../config/admin/release'),\n  project        = require('../../config/project/release'),\n\n\n  // oAuth configuration for GitHub\n  oAuth          = fs.existsSync(__dirname + '/../../config/admin/oauth.js')\n    ? require('../../config/admin/oauth')\n    : false,\n\n  // shorthand\n  version = project.version\n;\n\nmodule.exports = function(callback) {\n\n  var\n    index = -1,\n    total = release.distributions.length,\n    timer,\n    stream,\n    stepRepo\n  ;\n\n  if(!oAuth) {\n    console.error('Must add oauth token for GitHub in tasks/config/admin/oauth.js');\n    return;\n  }\n\n  // Do Git commands synchronously per distribution, to avoid issues\n  stepRepo = function() {\n\n    index = index + 1;\n    if(index >= total) {\n      callback();\n      return;\n    }\n\n    var\n      distribution         = release.distributions[index],\n      outputDirectory      = path.resolve(path.join(release.outputRoot, distribution.toLowerCase() )),\n      repoName             = release.distRepoRoot + distribution,\n\n      commitArgs = (oAuth.name !== undefined && oAuth.email !== undefined)\n        ? '--author \"' + oAuth.name + ' <' + oAuth.email + '>\"'\n        : '',\n\n      distributionPackage = fs.existsSync(outputDirectory + 'package.json' )\n        ? require(outputDirectory + 'package.json')\n        : false,\n\n      isNewVersion  = (version && distributionPackage.version != version),\n\n      commitMessage = (isNewVersion)\n        ? 'Updated distribution to version ' + version\n        : 'Updated files from main repo',\n\n      gitOptions      = { cwd: outputDirectory },\n      commitOptions   = { args: commitArgs, cwd: outputDirectory },\n      releaseOptions  = { tag_name: version, owner: release.org, repo: repoName },\n\n      fileModeOptions = { args : 'config core.fileMode false', cwd: outputDirectory },\n      usernameOptions = { args : 'config user.name \"' + oAuth.name + '\"', cwd: outputDirectory },\n      emailOptions    = { args : 'config user.email \"' + oAuth.email + '\"', cwd: outputDirectory },\n      versionOptions =  { args : 'rev-parse --verify HEAD', cwd: outputDirectory },\n\n      localRepoSetup  = fs.existsSync(path.join(outputDirectory, '.git')),\n      canProceed      = true\n    ;\n\n\n    console.info('Processing repository:' + outputDirectory);\n\n    function setConfig() {\n      git.exec(fileModeOptions, function() {\n        git.exec(usernameOptions, function () {\n          git.exec(emailOptions, function () {\n            commitFiles();\n          });\n        });\n      });\n    }\n\n    // standard path\n    function commitFiles() {\n      // commit files\n      console.info('Committing ' + distribution + ' files', commitArgs);\n      gulp.src('./', gitOptions)\n        .pipe(git.add(gitOptions))\n        .pipe(git.commit(commitMessage, commitOptions))\n        .on('error', function(error) {\n          // canProceed = false; bug in git commit <https://github.com/stevelacy/gulp-git/issues/49>\n        })\n        .on('finish', function(callback) {\n          if(canProceed) {\n            pushFiles();\n          }\n          else {\n            console.info('Nothing new to commit');\n            nextRepo();\n          }\n        })\n      ;\n    }\n\n    // push changes to remote\n    function pushFiles() {\n      console.info('Pushing files for ' + distribution);\n      git.push('origin', 'master', { args: '', cwd: outputDirectory }, function(error) {\n        console.info('Push completed successfully');\n        getSHA();\n      });\n    }\n\n    // gets SHA of last commit\n    function getSHA() {\n      git.exec(versionOptions, function(error, version) {\n        version = version.trim();\n        createRelease(version);\n      });\n    }\n\n    // create release on GitHub.com\n    function createRelease(version) {\n      if(version) {\n        releaseOptions.target_commitish = version;\n      }\n      github.repos.createRelease(releaseOptions, function() {\n        nextRepo();\n      });\n    }\n\n    // Steps to next repository\n    function nextRepo() {\n      console.log('Sleeping for 1 second...');\n      // avoid rate throttling\n      global.clearTimeout(timer);\n      timer = global.setTimeout(stepRepo, 100);\n    }\n\n\n    if(localRepoSetup) {\n      setConfig();\n    }\n    else {\n      console.error('Repository must be setup before running update distributions');\n    }\n\n  };\n\n  stepRepo();\n\n};\n","/*******************************\n          Release All\n*******************************/\n\n/*\n This task update all SUI individual component repos with new versions of components\n\n  * Commits changes from create components to GitHub and Tags\n\n*/\n\nvar\n  runSequence = require('run-sequence')\n;\n\n/* Release All */\nmodule.exports = function(callback) {\n\n  runSequence(\n    'update distributions', // commit less/css versions to github\n    'update components', // commit components to github\n    callback\n  );\n\n};","/*******************************\n          Register PM\n*******************************/\n\n/*\n  Task to register component repos with Package Managers\n  * Registers component with bower\n  * Registers component with NPM\n*/\n\nvar\n  // node dependencies\n  process = require('child_process'),\n\n  // config\n  release = require('../config/admin/release'),\n\n  // register components and distributions\n  repos   = release.distributions.concat(release.components),\n  total   = repos.length,\n  index   = -1,\n\n  stream,\n  stepRepo\n;\n\nmodule.exports = function(callback) {\n\n  console.log('Registering repos with package managers');\n\n  // Do Git commands synchronously per component, to avoid issues\n  stepRepo = function() {\n    index = index + 1;\n    if(index >= total) {\n      callback();\n      return;\n    }\n    var\n      repo            = repos[index].toLowerCase(),\n      outputDirectory = release.outputRoot + repo + '/',\n      exec            = process.exec,\n      execSettings    = {cwd: outputDirectory},\n      updateNPM       = 'npm publish;meteor publish;'\n    ;\n\n    /* Register with NPM */\n    exec(updateNPM, execSettings, function(err, stdout, stderr) {\n      console.log(err, stdout, stderr);\n      stepRepo();\n    });\n\n  };\n  stepRepo();\n};\n\n","/*******************************\n          Release\n*******************************/\n\n/*\n This task update all SUI individual component repos with new versions of components\n\n  * Initializes repositories with current versions\n  * Creates local files at ../distributions/ with each repo for release\n\n*/\n\nvar\n  runSequence = require('run-sequence')\n;\n\n/* Release All */\nmodule.exports = function(callback) {\n\n  runSequence(\n    //'build', // build Semantic\n    'init distributions', // sync with current github version\n    'create distributions', // update each repo with changes from master repo\n    'init components', // sync with current github version\n    'create components', // update each repo\n    callback\n  );\n\n};","/*******************************\n          Build Task\n*******************************/\n\nvar\n  gulp         = require('gulp'),\n\n  // gulp dependencies\n  chmod        = require('gulp-chmod'),\n  gulpif       = require('gulp-if'),\n\n  // config\n  config       = require('../config/user'),\n  tasks        = require('../config/tasks'),\n\n  // shorthand\n  globs        = config.globs,\n  assets       = config.paths.assets,\n  output       = config.paths.output,\n  source       = config.paths.source,\n\n  log          = tasks.log\n;\n\nmodule.exports = function(callback) {\n\n  console.info('Building assets');\n\n  // copy assets\n  return gulp.src(source.themes + '/**/assets/**/*.*')\n    .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n    .pipe(gulp.dest(output.themes))\n  ;\n\n};","/*******************************\n          Build Task\n*******************************/\n\nvar\n  gulp         = require('gulp'),\n\n  // node dependencies\n  console      = require('better-console'),\n  fs           = require('fs'),\n\n  // gulp dependencies\n  autoprefixer = require('gulp-autoprefixer'),\n  chmod        = require('gulp-chmod'),\n  clone        = require('gulp-clone'),\n  flatten      = require('gulp-flatten'),\n  gulpif       = require('gulp-if'),\n  less         = require('gulp-less'),\n  minifyCSS    = require('gulp-clean-css'),\n  plumber      = require('gulp-plumber'),\n  print        = require('gulp-print'),\n  rename       = require('gulp-rename'),\n  replace      = require('gulp-replace'),\n  runSequence  = require('run-sequence'),\n\n  // config\n  config       = require('../config/user'),\n  tasks        = require('../config/tasks'),\n  install      = require('../config/project/install'),\n\n  // shorthand\n  globs        = config.globs,\n  assets       = config.paths.assets,\n  output       = config.paths.output,\n  source       = config.paths.source,\n\n  banner       = tasks.banner,\n  comments     = tasks.regExp.comments,\n  log          = tasks.log,\n  settings     = tasks.settings\n;\n\n// add internal tasks (concat release)\nrequire('../collections/internal')(gulp);\n\nmodule.exports = function(callback) {\n\n  var\n    tasksCompleted = 0,\n    maybeCallback  = function() {\n      tasksCompleted++;\n      if(tasksCompleted === 2) {\n        callback();\n      }\n    },\n\n    stream,\n    compressedStream,\n    uncompressedStream\n  ;\n\n  console.info('Building CSS');\n\n  if( !install.isSetup() ) {\n    console.error('Cannot build files. Run \"gulp install\" to set-up Semantic');\n    return;\n  }\n\n  // unified css stream\n  stream = gulp.src(source.definitions + '/**/' + globs.components + '.less')\n    .pipe(plumber(settings.plumber.less))\n    .pipe(less(settings.less))\n    .pipe(autoprefixer(settings.prefix))\n    .pipe(replace(comments.variables.in, comments.variables.out))\n    .pipe(replace(comments.license.in, comments.license.out))\n    .pipe(replace(comments.large.in, comments.large.out))\n    .pipe(replace(comments.small.in, comments.small.out))\n    .pipe(replace(comments.tiny.in, comments.tiny.out))\n    .pipe(flatten())\n  ;\n\n  // two concurrent streams from same source to concat release\n  uncompressedStream = stream.pipe(clone());\n  compressedStream   = stream.pipe(clone());\n\n  // uncompressed component css\n  uncompressedStream\n    .pipe(plumber())\n    .pipe(replace(assets.source, assets.uncompressed))\n    .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n    .pipe(gulp.dest(output.uncompressed))\n    .pipe(print(log.created))\n    .on('end', function() {\n      runSequence('package uncompressed css', maybeCallback);\n    })\n  ;\n\n  // compressed component css\n  compressedStream = stream\n    .pipe(plumber())\n    .pipe(clone())\n    .pipe(replace(assets.source, assets.compressed))\n    .pipe(minifyCSS(settings.minify))\n    .pipe(rename(settings.rename.minCSS))\n    .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n    .pipe(gulp.dest(output.compressed))\n    .pipe(print(log.created))\n    .on('end', function() {\n      runSequence('package compressed css', maybeCallback);\n    })\n  ;\n\n};\n","/*******************************\n          Build Task\n*******************************/\n\nvar\n  gulp         = require('gulp'),\n\n  // node dependencies\n  console      = require('better-console'),\n  fs           = require('fs'),\n\n  // gulp dependencies\n  chmod        = require('gulp-chmod'),\n  flatten      = require('gulp-flatten'),\n  gulpif       = require('gulp-if'),\n  plumber      = require('gulp-plumber'),\n  print        = require('gulp-print'),\n  rename       = require('gulp-rename'),\n  replace      = require('gulp-replace'),\n  uglify       = require('gulp-uglify'),\n\n  // config\n  config       = require('../config/user'),\n  tasks        = require('../config/tasks'),\n  install      = require('../config/project/install'),\n\n  // shorthand\n  globs        = config.globs,\n  assets       = config.paths.assets,\n  output       = config.paths.output,\n  source       = config.paths.source,\n\n  banner       = tasks.banner,\n  comments     = tasks.regExp.comments,\n  log          = tasks.log,\n  settings     = tasks.settings\n;\n\n// add internal tasks (concat release)\nrequire('../collections/internal')(gulp);\n\nmodule.exports = function(callback) {\n\n  var\n    stream,\n    compressedStream,\n    uncompressedStream\n  ;\n\n  console.info('Building Javascript');\n\n  if( !install.isSetup() ) {\n    console.error('Cannot build files. Run \"gulp install\" to set-up Semantic');\n    return;\n  }\n\n  // copy source javascript\n  gulp.src(source.definitions + '/**/' + globs.components + '.js')\n    .pipe(plumber())\n    .pipe(flatten())\n    .pipe(replace(comments.license.in, comments.license.out))\n    .pipe(gulp.dest(output.uncompressed))\n    .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n    .pipe(print(log.created))\n    .pipe(uglify(settings.uglify))\n    .pipe(rename(settings.rename.minJS))\n    .pipe(gulp.dest(output.compressed))\n    .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n    .pipe(print(log.created))\n    .on('end', function() {\n      gulp.start('package compressed js');\n      gulp.start('package uncompressed js');\n      callback();\n    })\n  ;\n\n};","/*******************************\n     Admin Task Collection\n*******************************/\n\n/*\n  This are tasks to be run by project maintainers\n  - Creating Component Repos\n  - Syncing with GitHub via APIs\n  - Modifying package files\n*/\n\n/*******************************\n             Tasks\n*******************************/\n\n\nmodule.exports = function(gulp) {\n  var\n    // less/css distributions\n    initComponents      = require('../admin/components/init'),\n    createComponents    = require('../admin/components/create'),\n    updateComponents    = require('../admin/components/update'),\n\n    // single component releases\n    initDistributions   = require('../admin/distributions/init'),\n    createDistributions = require('../admin/distributions/create'),\n    updateDistributions = require('../admin/distributions/update'),\n\n    release             = require('../admin/release'),\n    publish             = require('../admin/publish'),\n    register            = require('../admin/register')\n  ;\n\n  /* Release */\n  gulp.task('init distributions', 'Grabs each component from GitHub', initDistributions);\n  gulp.task('create distributions', 'Updates files in each repo', createDistributions);\n  gulp.task('init components', 'Grabs each component from GitHub', initComponents);\n  gulp.task('create components', 'Updates files in each repo', createComponents);\n\n  /* Publish */\n  gulp.task('update distributions', 'Commits component updates from create to GitHub', updateDistributions);\n  gulp.task('update components', 'Commits component updates from create to GitHub', updateComponents);\n\n  /* Tasks */\n  gulp.task('release', 'Stages changes in GitHub repos for all distributions', release);\n  gulp.task('publish', 'Publishes all releases (components, package)', publish);\n  gulp.task('register', 'Registers all packages with NPM', register);\n\n};","/*******************************\n        Define Sub-Tasks\n*******************************/\n\nmodule.exports = function(gulp) {\n\n  var\n    // build sub-tasks\n    buildJS      = require('./../build/javascript'),\n    buildCSS     = require('./../build/css'),\n    buildAssets  = require('./../build/assets')\n  ;\n\n  // in case these tasks are undefined during import, less make sure these are available in scope\n  gulp.task('build-javascript', 'Builds all javascript from source', buildJS);\n  gulp.task('build-css', 'Builds all css from source', buildCSS);\n  gulp.task('build-assets', 'Copies all assets from source', buildAssets);\n\n};\n","/*******************************\n    Internal Task Collection\n*******************************/\n\n/* These tasks create packaged files from **dist** components\n   Not intended to be called directly by a user because\n   these do not build fresh from **src**\n*/\n\nmodule.exports = function(gulp) {\n\n  var\n    // node dependencies\n    fs         = require('fs'),\n    chmod      = require('gulp-chmod'),\n    concat     = require('gulp-concat'),\n    concatCSS  = require('gulp-concat-css'),\n    clone      = require('gulp-clone'),\n    dedupe     = require('gulp-dedupe'),\n    gulpif     = require('gulp-if'),\n    header     = require('gulp-header'),\n    less       = require('gulp-less'),\n    minifyCSS  = require('gulp-clean-css'),\n    plumber    = require('gulp-plumber'),\n    print      = require('gulp-print'),\n    rename     = require('gulp-rename'),\n    replace    = require('gulp-replace'),\n    uglify     = require('gulp-uglify'),\n\n    // user config\n    config     = require('./../config/user'),\n    docsConfig = require('./../config/docs'),\n\n    // install config\n    tasks      = require('./../config/tasks'),\n    release    = require('./../config/project/release'),\n\n    // shorthand\n    globs      = config.globs,\n    assets     = config.paths.assets,\n    output     = config.paths.output,\n\n    banner     = tasks.banner,\n    filenames  = tasks.filenames,\n    log        = tasks.log,\n    settings   = tasks.settings\n  ;\n\n  /*--------------\n      Packaged\n  ---------------*/\n\n  gulp.task('package uncompressed css', function() {\n    return gulp.src(output.uncompressed + '/**/' + globs.components + globs.ignored + '.css')\n      .pipe(plumber())\n      .pipe(dedupe())\n      .pipe(replace(assets.uncompressed, assets.packaged))\n      .pipe(concatCSS(filenames.concatenatedCSS, settings.concatCSS))\n        .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n        .pipe(header(banner, settings.header))\n        .pipe(gulp.dest(output.packaged))\n        .pipe(print(log.created))\n    ;\n  });\n\n  gulp.task('package compressed css', function() {\n    return gulp.src(output.uncompressed + '/**/' + globs.components + globs.ignored + '.css')\n      .pipe(plumber())\n      .pipe(dedupe())\n      .pipe(replace(assets.uncompressed, assets.packaged))\n      .pipe(concatCSS(filenames.concatenatedMinifiedCSS, settings.concatCSS))\n        .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n        .pipe(minifyCSS(settings.concatMinify))\n        .pipe(header(banner, settings.header))\n        .pipe(gulp.dest(output.packaged))\n        .pipe(print(log.created))\n    ;\n  });\n\n  gulp.task('package uncompressed js', function() {\n    return gulp.src(output.uncompressed + '/**/' + globs.components + globs.ignored + '.js')\n      .pipe(plumber())\n      .pipe(dedupe())\n      .pipe(replace(assets.uncompressed, assets.packaged))\n      .pipe(concat(filenames.concatenatedJS))\n        .pipe(header(banner, settings.header))\n        .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n        .pipe(gulp.dest(output.packaged))\n        .pipe(print(log.created))\n    ;\n  });\n\n  gulp.task('package compressed js', function() {\n    return gulp.src(output.uncompressed + '/**/' + globs.components + globs.ignored + '.js')\n      .pipe(plumber())\n      .pipe(dedupe())\n      .pipe(replace(assets.uncompressed, assets.packaged))\n      .pipe(concat(filenames.concatenatedMinifiedJS))\n        .pipe(uglify(settings.concatUglify))\n        .pipe(header(banner, settings.header))\n        .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n        .pipe(gulp.dest(output.packaged))\n        .pipe(print(log.created))\n    ;\n  });\n\n  /*--------------\n        RTL\n  ---------------*/\n\n  if(config.rtl) {\n\n    gulp.task('package uncompressed rtl css', function () {\n      return gulp.src(output.uncompressed + '/**/' + globs.components + globs.ignoredRTL + '.rtl.css')\n        .pipe(dedupe())\n        .pipe(replace(assets.uncompressed, assets.packaged))\n        .pipe(concatCSS(filenames.concatenatedRTLCSS, settings.concatCSS))\n          .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n          .pipe(header(banner, settings.header))\n          .pipe(gulp.dest(output.packaged))\n          .pipe(print(log.created))\n      ;\n    });\n\n    gulp.task('package compressed rtl css', function () {\n      return gulp.src(output.uncompressed + '/**/' + globs.components + globs.ignoredRTL + '.rtl.css')\n        .pipe(dedupe())\n        .pipe(replace(assets.uncompressed, assets.packaged))\n        .pipe(concatCSS(filenames.concatenatedMinifiedRTLCSS, settings.concatCSS))\n          .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n          .pipe(minifyCSS(settings.concatMinify))\n          .pipe(header(banner, settings.header))\n          .pipe(gulp.dest(output.packaged))\n          .pipe(print(log.created))\n      ;\n    });\n\n    gulp.task('package uncompressed docs css', function() {\n      return gulp.src(output.uncompressed + '/**/' + globs.components + globs.ignored + '.css')\n        .pipe(dedupe())\n        .pipe(plumber())\n        .pipe(replace(assets.uncompressed, assets.packaged))\n        .pipe(concatCSS(filenames.concatenatedCSS, settings.concatCSS))\n          .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n          .pipe(gulp.dest(output.packaged))\n          .pipe(print(log.created))\n      ;\n    });\n\n    gulp.task('package compressed docs css', function() {\n      return gulp.src(output.uncompressed + '/**/' + globs.components + globs.ignored + '.css')\n        .pipe(dedupe())\n        .pipe(plumber())\n        .pipe(replace(assets.uncompressed, assets.packaged))\n        .pipe(concatCSS(filenames.concatenatedMinifiedCSS, settings.concatCSS))\n          .pipe(minifyCSS(settings.concatMinify))\n          .pipe(header(banner, settings.header))\n          .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n          .pipe(gulp.dest(output.packaged))\n          .pipe(print(log.created))\n      ;\n    });\n\n  }\n\n  /*--------------\n        Docs\n  ---------------*/\n\n  var\n    docsOutput = docsConfig.paths.output\n  ;\n\n  gulp.task('package uncompressed docs css', function() {\n    return gulp.src(docsOutput.uncompressed + '/**/' + globs.components + globs.ignored + '.css')\n      .pipe(dedupe())\n      .pipe(plumber())\n      .pipe(replace(assets.uncompressed, assets.packaged))\n      .pipe(concatCSS(filenames.concatenatedCSS, settings.concatCSS))\n        .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n        .pipe(gulp.dest(docsOutput.packaged))\n        .pipe(print(log.created))\n    ;\n  });\n\n  gulp.task('package compressed docs css', function() {\n    return gulp.src(docsOutput.uncompressed + '/**/' + globs.components + globs.ignored + '.css')\n      .pipe(dedupe())\n      .pipe(plumber())\n      .pipe(replace(assets.uncompressed, assets.packaged))\n      .pipe(concatCSS(filenames.concatenatedMinifiedCSS, settings.concatCSS))\n        .pipe(minifyCSS(settings.concatMinify))\n        .pipe(header(banner, settings.header))\n        .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n        .pipe(gulp.dest(docsOutput.packaged))\n        .pipe(print(log.created))\n    ;\n  });\n\n  gulp.task('package uncompressed docs js', function() {\n    return gulp.src(docsOutput.uncompressed + '/**/' + globs.components + globs.ignored + '.js')\n      .pipe(dedupe())\n      .pipe(plumber())\n      .pipe(replace(assets.uncompressed, assets.packaged))\n      .pipe(concat(filenames.concatenatedJS))\n        .pipe(header(banner, settings.header))\n        .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n        .pipe(gulp.dest(docsOutput.packaged))\n        .pipe(print(log.created))\n    ;\n  });\n\n  gulp.task('package compressed docs js', function() {\n    return gulp.src(docsOutput.uncompressed + '/**/' + globs.components + globs.ignored + '.js')\n      .pipe(dedupe())\n      .pipe(plumber())\n      .pipe(replace(assets.uncompressed, assets.packaged))\n      .pipe(concat(filenames.concatenatedMinifiedJS))\n        .pipe(uglify(settings.concatUglify))\n        .pipe(header(banner, settings.header))\n        .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n        .pipe(gulp.dest(docsOutput.packaged))\n        .pipe(print(log.created))\n    ;\n  });\n\n};\n","/*******************************\n        Define Sub-Tasks\n*******************************/\n\nmodule.exports = function(gulp) {\n\n  var\n    // rtl\n    buildRTL     = require('./../rtl/build'),\n    watchRTL     = require('./../rtl/watch')\n  ;\n\n  gulp.task('watch-rtl', 'Build all files as RTL', watchRTL);\n  gulp.task('build-rtl', 'Watch files as RTL ', buildRTL);\n\n};\n","/*******************************\n           Build Docs\n*******************************/\n\nvar\n  gulp         = require('gulp'),\n\n  // node dependencies\n  console      = require('better-console'),\n  fs           = require('fs'),\n  map          = require('map-stream'),\n\n  // gulp dependencies\n  autoprefixer = require('gulp-autoprefixer'),\n  chmod        = require('gulp-chmod'),\n  clone        = require('gulp-clone'),\n  flatten      = require('gulp-flatten'),\n  gulpif       = require('gulp-if'),\n  header       = require('gulp-header'),\n  less         = require('gulp-less'),\n  minifyCSS    = require('gulp-clean-css'),\n  plumber      = require('gulp-plumber'),\n  print        = require('gulp-print'),\n  rename       = require('gulp-rename'),\n  replace      = require('gulp-replace'),\n  uglify       = require('gulp-uglify'),\n\n  // user config\n  config       = require('../config/docs'),\n\n  // install config\n  tasks        = require('../config/tasks'),\n  configSetup  = require('../config/project/config'),\n  install      = require('../config/project/install'),\n\n  // metadata parsing\n  metadata     = require('./metadata'),\n\n  // shorthand\n  globs,\n  assets,\n  output,\n  source,\n\n  banner       = tasks.banner,\n  comments     = tasks.regExp.comments,\n  log          = tasks.log,\n  settings     = tasks.settings\n;\n\n// add internal tasks (concat release)\nrequire('../collections/internal')(gulp);\n\nmodule.exports = function(callback) {\n\n  var\n    stream,\n    compressedStream,\n    uncompressedStream\n  ;\n\n  // use a different config\n  config = configSetup.addDerivedValues(config);\n\n  // shorthand\n  globs  = config.globs;\n  assets = config.paths.assets;\n  output = config.paths.output;\n  source = config.paths.source;\n\n  /*--------------\n   Parse metadata\n   ---------------*/\n\n  // parse all *.html.eco in docs repo, data will end up in\n  // metadata.result object.  Note this assumes that the docs\n  // repository is present and in proper directory location as\n  // specified by docs.json.\n  console.info('Building Metadata');\n  gulp.src(config.paths.template.eco + globs.eco)\n    .pipe(map(metadata.parser))\n    .on('end', function() {\n      fs.writeFile(output.metadata + '/metadata.json', JSON.stringify(metadata.result, null, 2));\n    })\n  ;\n\n  /*--------------\n    Copy Examples\n  ---------------*/\n\n  console.info('Copying examples');\n  // copy src/ to server\n  gulp.src('examples/**/*.*')\n    .pipe(gulp.dest(output.examples))\n    .pipe(print(log.created))\n  ;\n\n  /*--------------\n     Copy Source\n  ---------------*/\n\n  console.info('Copying LESS source');\n  // copy src/ to server\n  gulp.src('src/**/*.*')\n    .pipe(gulp.dest(output.less))\n    .pipe(print(log.created))\n  ;\n\n  /*--------------\n        Build\n  ---------------*/\n\n  console.info('Building Semantic for docs');\n\n  if( !install.isSetup() ) {\n    console.error('Cannot build files. Run \"gulp install\" to set-up Semantic');\n    return;\n  }\n\n  // unified css stream\n  stream = gulp.src(source.definitions + '/**/' + globs.components + '.less')\n    .pipe(plumber())\n    .pipe(less(settings.less))\n    .pipe(autoprefixer(settings.prefix))\n    .pipe(flatten())\n  ;\n\n  // two concurrent streams from same source to concat release\n  uncompressedStream = stream.pipe(clone());\n  compressedStream   = stream.pipe(clone());\n\n  uncompressedStream\n    .pipe(plumber())\n    .pipe(replace(comments.variables.in, comments.variables.out))\n    .pipe(replace(comments.large.in, comments.large.out))\n    .pipe(replace(comments.small.in, comments.small.out))\n    .pipe(replace(comments.tiny.in, comments.tiny.out))\n    .pipe(replace(assets.source, assets.uncompressed))\n    .pipe(header(banner, settings.header))\n    .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n    .pipe(gulp.dest(output.uncompressed))\n    .pipe(print(log.created))\n    .on('end', function() {\n      gulp.start('package uncompressed docs css');\n    })\n  ;\n\n  compressedStream = stream\n    .pipe(plumber())\n    .pipe(clone())\n    .pipe(replace(assets.source, assets.compressed))\n    .pipe(minifyCSS(settings.minify))\n    .pipe(rename(settings.rename.minCSS))\n    .pipe(header(banner, settings.header))\n    .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n    .pipe(gulp.dest(output.compressed))\n    .pipe(print(log.created))\n    .on('end', function() {\n      callback();\n      gulp.start('package compressed docs css');\n    })\n  ;\n\n  // copy assets\n  gulp.src(source.themes + '/**/assets/**/*.*')\n    .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n    .pipe(gulp.dest(output.themes))\n  ;\n\n  // copy source javascript\n  gulp.src(source.definitions + '/**/' + globs.components + '.js')\n    .pipe(plumber())\n    .pipe(flatten())\n    .pipe(gulp.dest(output.uncompressed))\n    .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n    .pipe(print(log.created))\n    .pipe(uglify(settings.uglify))\n    .pipe(rename(settings.rename.minJS))\n    .pipe(header(banner, settings.header))\n    .pipe(gulp.dest(output.compressed))\n    .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n    .pipe(print(log.created))\n    .on('end', function() {\n      gulp.start('package compressed docs js');\n      gulp.start('package uncompressed docs js');\n    })\n  ;\n\n};\n","\n/*******************************\n           Summarize Docs\n*******************************/\n\nvar\n  // node dependencies\n  console      = require('better-console'),\n  fs           = require('fs'),\n  YAML         = require('yamljs')\n;\n\nvar data = {};\n\n/**\n * Test for prefix in string.\n * @param {string} str\n * @param {string} prefix\n * @return {boolean}\n */\nfunction startsWith(str, prefix) {\n  return str.indexOf(prefix) === 0;\n};\n\nfunction inArray(needle, haystack) {\n  var length = haystack.length;\n  for(var i = 0; i < length; i++) {\n      if(haystack[i] == needle) return true;\n  }\n  return false;\n}\n\n/**\n * Parses a file for metadata and stores result in data object.\n * @param {File} file - object provided by map-stream.\n * @param {function(?,File)} - callback provided by map-stream to\n * reply when done.\n */\nfunction parser(file, callback) {\n  // file exit conditions\n  if(file.isNull()) {\n    return callback(null, file); // pass along\n  }\n\n  if(file.isStream()) {\n    return callback(new Error('Streaming not supported'));\n  }\n\n  try {\n\n    var\n      /** @type {string} */\n      text     = String(file.contents.toString('utf8')),\n      lines    = text.split('\\n'),\n      filename = file.path.substring(0, file.path.length - 4),\n      key      = 'server/documents',\n      position = filename.indexOf(key)\n    ;\n\n    // exit conditions\n    if(!lines) {\n      return;\n    }\n    if(position < 0) {\n      return callback(null, file);\n    }\n\n    filename = filename.substring(position + key.length + 1, filename.length);\n\n    var\n      lineCount = lines.length,\n      active    = false,\n      yaml      = [],\n      categories = [\n        'UI Element',\n        'UI Global',\n        'UI Collection',\n        'UI View',\n        'UI Module',\n        'UI Behavior'\n      ],\n      index,\n      meta,\n      line\n    ;\n\n    for(index = 0; index < lineCount; index++) {\n\n      line = lines[index];\n\n      // Wait for metadata block to begin\n      if(!active) {\n        if(startsWith(line, '---')) {\n          active = true;\n        }\n        continue;\n      }\n      // End of metadata block, stop parsing.\n      if(startsWith(line, '---')) {\n        break;\n      }\n      yaml.push(line);\n    }\n\n\n    // Parse yaml.\n    meta = YAML.parse(yaml.join('\\n'));\n    if(meta && meta.type && meta.title && inArray(meta.type, categories) ) {\n      meta.category = meta.type;\n      meta.filename = filename;\n      meta.url      = '/' + filename;\n      meta.title    = meta.title;\n      // Primary key will by filepath\n      data[meta.element] = meta;\n    }\n    else {\n      // skip\n      // console.log(meta);\n    }\n\n\n  }\n\n  catch(error) {\n    console.log(error, filename);\n  }\n\n  callback(null, file);\n\n}\n\n/**\n * Export function expected by map-stream.\n */\nmodule.exports = {\n  result : data,\n  parser : parser\n};\n","/*******************************\n           Serve Docs\n*******************************/\nvar\n  gulp         = require('gulp'),\n\n  // node dependencies\n  console      = require('better-console'),\n  fs           = require('fs'),\n\n  // gulp dependencies\n  autoprefixer = require('gulp-autoprefixer'),\n  chmod        = require('gulp-chmod'),\n  clone        = require('gulp-clone'),\n  gulpif       = require('gulp-if'),\n  header       = require('gulp-header'),\n  less         = require('gulp-less'),\n  minifyCSS    = require('gulp-clean-css'),\n  plumber      = require('gulp-plumber'),\n  print        = require('gulp-print'),\n  rename       = require('gulp-rename'),\n  replace      = require('gulp-replace'),\n  uglify       = require('gulp-uglify'),\n  util         = require('gulp-util'),\n  watch        = require('gulp-watch'),\n\n  // user config\n  config       = require('../config/docs'),\n\n  // task config\n  tasks        = require('../config/tasks'),\n  configSetup  = require('../config/project/config'),\n  install      = require('../config/project/install'),\n\n  // shorthand\n  banner       = tasks.banner,\n  comments     = tasks.regExp.comments,\n  log          = tasks.log,\n  settings     = tasks.settings,\n\n  globs,\n  assets,\n  output,\n  source\n;\n\nrequire('../collections/internal')(gulp);\n\nmodule.exports = function () {\n\n  // use a different config\n  config = configSetup.addDerivedValues(config);\n\n  // shorthand\n  globs  = config.globs;\n  assets = config.paths.assets;\n  output = config.paths.output;\n  source = config.paths.source;\n\n\n  /*--------------\n     Copy Source\n  ---------------*/\n\n  gulp\n    .watch([\n      'src/**/*.*'\n    ], function(file) {\n      console.clear();\n      return gulp.src(file.path, {\n          base: 'src/'\n        })\n        .pipe(gulp.dest(output.less))\n        .pipe(print(log.created))\n      ;\n    })\n  ;\n\n  /*--------------\n    Copy Examples\n  ---------------*/\n\n  gulp\n    .watch([\n      'examples/**/*.*'\n    ], function(file) {\n      console.clear();\n      return gulp.src(file.path, {\n          base: 'examples/'\n        })\n        .pipe(gulp.dest(output.examples))\n        .pipe(print(log.created))\n      ;\n    })\n  ;\n\n  /*--------------\n      Watch CSS\n  ---------------*/\n\n  gulp\n    .watch([\n      source.config,\n      source.definitions   + '/**/*.less',\n      source.site          + '/**/*.{overrides,variables}',\n      source.themes        + '/**/*.{overrides,variables}'\n    ], function(file) {\n\n      var\n        lessPath,\n\n        stream,\n        compressedStream,\n        uncompressedStream,\n\n        isDefinition,\n        isPackagedTheme,\n        isSiteTheme,\n        isConfig\n      ;\n\n      // log modified file\n      gulp.src(file.path)\n        .pipe(print(log.modified))\n      ;\n\n      /*--------------\n         Find Source\n      ---------------*/\n\n      // recompile on *.override , *.variable change\n      isConfig        = (file.path.indexOf('theme.config') !== -1 || file.path.indexOf('site.variables') !== -1);\n      isPackagedTheme = (file.path.indexOf(source.themes) !== -1);\n      isSiteTheme     = (file.path.indexOf(source.site) !== -1);\n      isDefinition    = (file.path.indexOf(source.definitions) !== -1);\n\n      if(isConfig) {\n        // console.info('Rebuilding all files');\n        // cant rebuild paths are wrong\n        // gulp.start('build-docs');\n        return;\n      }\n      else if(isPackagedTheme) {\n        console.log('Change detected in packaged theme');\n        lessPath = util.replaceExtension(file.path, '.less');\n        lessPath = lessPath.replace(tasks.regExp.theme, source.definitions);\n      }\n      else if(isSiteTheme) {\n        console.log('Change detected in site theme');\n        lessPath = util.replaceExtension(file.path, '.less');\n        lessPath = lessPath.replace(source.site, source.definitions);\n      }\n      else {\n        console.log('Change detected in definition');\n        lessPath = file.path;\n      }\n\n      /*--------------\n        Create CSS\n      ---------------*/\n\n      if( fs.existsSync(lessPath) ) {\n\n        // unified css stream\n        stream = gulp.src(lessPath)\n          .pipe(plumber())\n          .pipe(less(settings.less))\n          .pipe(replace(comments.variables.in, comments.variables.out))\n          .pipe(replace(comments.large.in, comments.large.out))\n          .pipe(replace(comments.small.in, comments.small.out))\n          .pipe(replace(comments.tiny.in, comments.tiny.out))\n          .pipe(autoprefixer(settings.prefix))\n          .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n        ;\n\n        // use 2 concurrent streams from same pipe\n        uncompressedStream = stream.pipe(clone());\n        compressedStream   = stream.pipe(clone());\n\n        uncompressedStream\n          .pipe(plumber())\n          .pipe(replace(assets.source, assets.uncompressed))\n          .pipe(header(banner, settings.header))\n          .pipe(gulp.dest(output.uncompressed))\n          .pipe(print(log.created))\n          .on('end', function() {\n            gulp.start('package uncompressed docs css');\n          })\n        ;\n\n        compressedStream = stream\n          .pipe(plumber())\n          .pipe(replace(assets.source, assets.compressed))\n          .pipe(minifyCSS(settings.minify))\n          .pipe(rename(settings.rename.minCSS))\n          .pipe(header(banner, settings.header))\n          .pipe(gulp.dest(output.compressed))\n          .pipe(print(log.created))\n          .on('end', function() {\n            gulp.start('package compressed docs css');\n          })\n        ;\n\n      }\n      else {\n        console.log('Cannot find UI definition at path', lessPath);\n      }\n    })\n  ;\n\n  /*--------------\n      Watch JS\n  ---------------*/\n\n  gulp\n    .watch([\n      source.definitions   + '/**/*.js'\n    ], function(file) {\n      gulp.src(file.path)\n        .pipe(plumber())\n        .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n        .pipe(gulp.dest(output.uncompressed))\n        .pipe(print(log.created))\n        .pipe(uglify(settings.uglify))\n        .pipe(rename(settings.rename.minJS))\n        .pipe(gulp.dest(output.compressed))\n        .pipe(print(log.created))\n        .on('end', function() {\n          gulp.start('package compressed docs js');\n          gulp.start('package uncompressed docs js');\n        })\n      ;\n    })\n  ;\n\n  /*--------------\n    Watch Assets\n  ---------------*/\n\n  // only copy assets that match component names (or their plural)\n  gulp\n    .watch([\n      source.themes   + '/**/assets/**/' + globs.components + '?(s).*'\n    ], function(file) {\n      // copy assets\n      gulp.src(file.path, { base: source.themes })\n        .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n        .pipe(gulp.dest(output.themes))\n        .pipe(print(log.created))\n      ;\n    })\n  ;\n\n\n};\n","/*******************************\n          Build Task\n*******************************/\n\nvar\n  gulp         = require('gulp'),\n\n  // node dependencies\n  fs           = require('fs'),\n\n  // gulp dependencies\n  autoprefixer = require('gulp-autoprefixer'),\n  chmod        = require('gulp-chmod'),\n  clone        = require('gulp-clone'),\n  flatten      = require('gulp-flatten'),\n  gulpif       = require('gulp-if'),\n  less         = require('gulp-less'),\n  minifyCSS    = require('gulp-clean-css'),\n  plumber      = require('gulp-plumber'),\n  print        = require('gulp-print'),\n  rename       = require('gulp-rename'),\n  replace      = require('gulp-replace'),\n  rtlcss       = require('gulp-rtlcss'),\n  uglify       = require('gulp-uglify'),\n\n  // user config\n  config       = require('../config/user'),\n\n  // install config\n  tasks        = require('../config/tasks'),\n  install      = require('../config/project/install'),\n\n  // shorthand\n  globs        = config.globs,\n  assets       = config.paths.assets,\n  output       = config.paths.output,\n  source       = config.paths.source,\n\n  banner       = tasks.banner,\n  comments     = tasks.regExp.comments,\n  log          = tasks.log,\n  settings     = tasks.settings\n;\n\n// add internal tasks (concat release)\nrequire('../collections/internal')(gulp);\n\nmodule.exports = function(callback) {\n\n  var\n    stream,\n    compressedStream,\n    uncompressedStream\n  ;\n\n  console.info('Building Semantic');\n\n  if( !install.isSetup() ) {\n    console.error('Cannot build files. Run \"gulp install\" to set-up Semantic');\n    return;\n  }\n\n  // unified css stream\n  stream = gulp.src(source.definitions + '/**/' + globs.components + '.less')\n    .pipe(plumber())\n    .pipe(less(settings.less))\n    .pipe(autoprefixer(settings.prefix))\n    .pipe(rtlcss())\n    .pipe(replace(comments.variables.in, comments.variables.out))\n    .pipe(replace(comments.license.in, comments.license.out))\n    .pipe(replace(comments.large.in, comments.large.out))\n    .pipe(replace(comments.small.in, comments.small.out))\n    .pipe(replace(comments.tiny.in, comments.tiny.out))\n    .pipe(flatten())\n  ;\n\n  // two concurrent streams from same source to concat release\n  uncompressedStream = stream.pipe(clone());\n  compressedStream   = stream.pipe(clone());\n\n  uncompressedStream\n    .pipe(plumber())\n    .pipe(replace(assets.source, assets.uncompressed))\n    .pipe(rename(settings.rename.rtlCSS))\n    .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n    .pipe(gulp.dest(output.uncompressed))\n    .pipe(print(log.created))\n    .on('end', function() {\n      gulp.start('package uncompressed rtl css');\n    })\n  ;\n\n  compressedStream = stream\n    .pipe(plumber())\n    .pipe(clone())\n    .pipe(replace(assets.source, assets.compressed))\n    .pipe(minifyCSS(settings.minify))\n    .pipe(rename(settings.rename.rtlMinCSS))\n    .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n    .pipe(gulp.dest(output.compressed))\n    .pipe(print(log.created))\n    .on('end', function() {\n      callback();\n      gulp.start('package compressed rtl css');\n    })\n  ;\n\n  // copy assets\n  gulp.src(source.themes + '/**/assets/**/' + globs.components + '?(s).*')\n    .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n    .pipe(gulp.dest(output.themes))\n  ;\n\n  // copy source javascript\n  gulp.src(source.definitions + '/**/' + globs.components + '.js')\n    .pipe(plumber())\n    .pipe(flatten())\n    .pipe(replace(comments.license.in, comments.license.out))\n    .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n    .pipe(gulp.dest(output.uncompressed))\n    .pipe(print(log.created))\n    .pipe(uglify(settings.uglify))\n    .pipe(rename(settings.rename.minJS))\n    .pipe(gulp.dest(output.compressed))\n    .pipe(print(log.created))\n    .on('end', function() {\n      gulp.start('package compressed js');\n      gulp.start('package uncompressed js');\n    })\n  ;\n\n};\n","/*******************************\n           Watch Task\n*******************************/\n\nvar\n  gulp         = require('gulp'),\n\n  // node deps\n  console      = require('better-console'),\n  fs           = require('fs'),\n\n  // gulp deps\n  autoprefixer = require('gulp-autoprefixer'),\n  chmod        = require('gulp-chmod'),\n  clone        = require('gulp-clone'),\n  gulpif       = require('gulp-if'),\n  less         = require('gulp-less'),\n  minifyCSS    = require('gulp-clean-css'),\n  plumber      = require('gulp-plumber'),\n  print        = require('gulp-print'),\n  rename       = require('gulp-rename'),\n  replace      = require('gulp-replace'),\n  rtlcss       = require('gulp-rtlcss'),\n  uglify       = require('gulp-uglify'),\n  util         = require('gulp-util'),\n  watch        = require('gulp-watch'),\n\n  // user config\n  config       = require('../config/user'),\n\n  // task config\n  tasks        = require('../config/tasks'),\n  install      = require('../config/project/install'),\n\n  // shorthand\n  globs        = config.globs,\n  assets       = config.paths.assets,\n  output       = config.paths.output,\n  source       = config.paths.source,\n\n  banner       = tasks.banner,\n  comments     = tasks.regExp.comments,\n  log          = tasks.log,\n  settings     = tasks.settings\n\n;\n\n// add internal tasks (concat release)\nrequire('../collections/internal')(gulp);\n\nmodule.exports = function(callback) {\n\n  if( !install.isSetup() ) {\n    console.error('Cannot watch files. Run \"gulp install\" to set-up Semantic');\n    return;\n  }\n\n  console.clear();\n  console.log('Watching source files for changes');\n\n  /*--------------\n      Watch CSS\n  ---------------*/\n\n  gulp\n    .watch([\n      source.config,\n      source.definitions   + '/**/*.less',\n      source.site          + '/**/*.{overrides,variables}',\n      source.themes        + '/**/*.{overrides,variables}'\n    ], function(file) {\n\n      var\n        lessPath,\n\n        stream,\n        compressedStream,\n        uncompressedStream,\n\n        isDefinition,\n        isPackagedTheme,\n        isSiteTheme,\n        isConfig\n      ;\n\n      // log modified file\n      gulp.src(file.path)\n        .pipe(print(log.modified))\n      ;\n\n      /*--------------\n         Find Source\n      ---------------*/\n\n      // recompile on *.override , *.variable change\n      isConfig        = (file.path.indexOf('.config') !== -1);\n      isPackagedTheme = (file.path.indexOf(source.themes) !== -1);\n      isSiteTheme     = (file.path.indexOf(source.site) !== -1);\n      isDefinition    = (file.path.indexOf(source.definitions) !== -1);\n\n\n      if(isConfig) {\n        console.log('Change detected in theme config');\n        // cant tell which theme was changed in theme.config, rebuild all\n        gulp.start('build');\n      }\n      else if(isPackagedTheme) {\n        console.log('Change detected in packaged theme');\n        lessPath = lessPath.replace(tasks.regExp.theme, source.definitions);\n        lessPath = util.replaceExtension(file.path, '.less');\n      }\n      else if(isSiteTheme) {\n        console.log('Change detected in site theme');\n        lessPath = lessPath.replace(source.site, source.definitions);\n        lessPath = util.replaceExtension(file.path, '.less');\n      }\n      else if(isDefinition) {\n        console.log('Change detected in definition');\n        lessPath = util.replaceExtension(file.path, '.less');\n      }\n\n      /*--------------\n         Create CSS\n      ---------------*/\n\n      if( fs.existsSync(lessPath) ) {\n\n        // unified css stream\n        stream = gulp.src(lessPath)\n          .pipe(plumber())\n          .pipe(less(settings.less))\n          .pipe(replace(comments.variables.in, comments.variables.out))\n          .pipe(replace(comments.license.in, comments.license.out))\n          .pipe(replace(comments.large.in, comments.large.out))\n          .pipe(replace(comments.small.in, comments.small.out))\n          .pipe(replace(comments.tiny.in, comments.tiny.out))\n          .pipe(autoprefixer(settings.prefix))\n          .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n          .pipe(rtlcss())\n        ;\n\n        // use 2 concurrent streams from same pipe\n        uncompressedStream = stream.pipe(clone());\n        compressedStream   = stream.pipe(clone());\n\n        uncompressedStream\n          .pipe(plumber())\n          .pipe(replace(assets.source, assets.uncompressed))\n          .pipe(rename(settings.rename.rtlCSS))\n          .pipe(gulp.dest(output.uncompressed))\n          .pipe(print(log.created))\n          .on('end', function() {\n            gulp.start('package uncompressed rtl css');\n          })\n        ;\n\n        compressedStream = stream\n          .pipe(plumber())\n          .pipe(replace(assets.source, assets.compressed))\n          .pipe(minifyCSS(settings.minify))\n          .pipe(rename(settings.rename.minCSS))\n          .pipe(rename(settings.rename.rtlMinCSS))\n          .pipe(gulp.dest(output.compressed))\n          .pipe(print(log.created))\n          .on('end', function() {\n            gulp.start('package compressed rtl css');\n          })\n        ;\n\n      }\n      else {\n        console.log('Cannot find UI definition at path', lessPath);\n      }\n    })\n  ;\n\n  /*--------------\n      Watch JS\n  ---------------*/\n\n  gulp\n    .watch([\n      source.definitions   + '/**/*.js'\n    ], function(file) {\n      gulp.src(file.path)\n        .pipe(plumber())\n        .pipe(replace(comments.license.in, comments.license.out))\n        .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n        .pipe(gulp.dest(output.uncompressed))\n        .pipe(print(log.created))\n        .pipe(uglify(settings.uglify))\n        .pipe(rename(settings.rename.minJS))\n        .pipe(gulp.dest(output.compressed))\n        .pipe(print(log.created))\n        .on('end', function() {\n          gulp.start('package compressed js');\n          gulp.start('package uncompressed js');\n        })\n      ;\n    })\n  ;\n\n  /*--------------\n    Watch Assets\n  ---------------*/\n\n  // only copy assets that match component names (or their plural)\n  gulp\n    .watch([\n      source.themes   + '/**/assets/**/' + globs.components + '?(s).*'\n    ], function(file) {\n      // copy assets\n      gulp.src(file.path, { base: source.themes })\n        .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n        .pipe(gulp.dest(output.themes))\n        .pipe(print(log.created))\n      ;\n    })\n  ;\n\n};\n","/*******************************\n          Build Task\n*******************************/\n\nvar\n  // dependencies\n  gulp         = require('gulp-help')(require('gulp')),\n  runSequence  = require('run-sequence'),\n\n  // config\n  config       = require('./config/user'),\n  install      = require('./config/project/install'),\n\n  // task sequence\n  tasks        = []\n;\n\n\n// sub-tasks\nif(config.rtl) {\n  require('./collections/rtl')(gulp);\n}\nrequire('./collections/build')(gulp);\n\n\nmodule.exports = function(callback) {\n\n  console.info('Building Semantic');\n\n  if( !install.isSetup() ) {\n    console.error('Cannot find semantic.json. Run \"gulp install\" to set-up Semantic');\n    return 1;\n  }\n\n  // check for right-to-left (RTL) language\n  if(config.rtl === true || config.rtl === 'Yes') {\n    gulp.start('build-rtl');\n    return;\n  }\n\n  if(config.rtl == 'both') {\n    tasks.push('build-rtl');\n  }\n\n  tasks.push('build-javascript');\n  tasks.push('build-css');\n  tasks.push('build-assets');\n\n  runSequence(tasks, callback);\n};\n","/*******************************\n         Check Install\n*******************************/\n\nvar\n  // node dependencies\n  gulp         = require('gulp'),\n  fs           = require('fs'),\n  console      = require('better-console'),\n  install      = require('./config/project/install')\n;\n\n// export task\nmodule.exports = function() {\n\n  setTimeout(function() {\n    if( !install.isSetup() ) {\n      console.log('Starting install...');\n      gulp.start('install');\n      return;\n    }\n    else {\n      gulp.start('watch');\n    }\n  }, 50); // Delay to allow console.clear to remove messages from check event\n\n\n};","/*******************************\n          Clean Task\n*******************************/\n\nvar\n  del    = require('del'),\n  config = require('./config/user'),\n  tasks  = require('./config/tasks')\n;\n\n// cleans distribution files\nmodule.exports = function(callback) {\n  return del([config.paths.clean], tasks.settings.del, callback);\n};","/*******************************\n         Install Task\n*******************************/\n\n/*\n   Install tasks\n\n   For more notes\n\n   * Runs automatically after npm update (hooks)\n   * (NPM) Install - Will ask for where to put semantic (outside pm folder)\n   * (NPM) Upgrade - Will look for semantic install, copy over files and update if new version\n   * Standard installer runs asking for paths to site files etc\n\n*/\n\nvar\n  gulp           = require('gulp'),\n\n  // node dependencies\n  console        = require('better-console'),\n  extend         = require('extend'),\n  fs             = require('fs'),\n  mkdirp         = require('mkdirp'),\n  path           = require('path'),\n  runSequence    = require('run-sequence'),\n\n  // gulp dependencies\n  chmod          = require('gulp-chmod'),\n  del            = require('del'),\n  jsonEditor     = require('gulp-json-editor'),\n  plumber        = require('gulp-plumber'),\n  prompt         = require('prompt-sui'),\n  rename         = require('gulp-rename'),\n  replace        = require('gulp-replace'),\n  requireDotFile = require('require-dot-file'),\n  wrench         = require('wrench-sui'),\n\n  // install config\n  install        = require('./config/project/install'),\n\n  // user config\n  config         = require('./config/user'),\n\n  // release config (name/title/etc)\n  release        = require('./config/project/release'),\n\n  // shorthand\n  questions      = install.questions,\n  files          = install.files,\n  folders        = install.folders,\n  regExp         = install.regExp,\n  settings       = install.settings,\n  source         = install.source\n;\n\n// Export install task\nmodule.exports = function (callback) {\n\nvar\n  currentConfig = requireDotFile('semantic.json'),\n  manager       = install.getPackageManager(),\n  rootQuestions = questions.root,\n  installFolder = false,\n  answers\n;\n\nconsole.clear();\n\n/* Test NPM install\nmanager = {\n  name : 'NPM',\n  root : path.normalize(__dirname + '/../')\n};\n*/\n\n\n/* Don't do end user config if SUI is a sub-module */\nif( install.isSubModule() ) {\n  console.info('SUI is a sub-module, skipping end-user install');\n  return;\n}\n\n/*-----------------\n    Update SUI\n-----------------*/\n\n// run update scripts if semantic.json exists\nif(currentConfig && manager.name === 'NPM') {\n\n  var\n    updateFolder = path.join(manager.root, currentConfig.base),\n    updatePaths  = {\n      config       : path.join(manager.root, files.config),\n      tasks        : path.join(updateFolder, folders.tasks),\n      themeImport  : path.join(updateFolder, folders.themeImport),\n      definition   : path.join(currentConfig.paths.source.definitions),\n      site         : path.join(currentConfig.paths.source.site),\n      theme        : path.join(currentConfig.paths.source.themes),\n      defaultTheme : path.join(currentConfig.paths.source.themes, folders.defaultTheme)\n    }\n  ;\n\n  // duck-type if there is a project installed\n  if( fs.existsSync(updatePaths.definition) ) {\n\n    // perform update if new version\n    if(currentConfig.version !== release.version) {\n      console.log('Updating Semantic UI from ' + currentConfig.version + ' to ' + release.version);\n\n      console.info('Updating ui definitions...');\n      wrench.copyDirSyncRecursive(source.definitions, updatePaths.definition, settings.wrench.overwrite);\n\n      console.info('Updating default theme...');\n      wrench.copyDirSyncRecursive(source.themes, updatePaths.theme, settings.wrench.merge);\n      wrench.copyDirSyncRecursive(source.defaultTheme, updatePaths.defaultTheme, settings.wrench.overwrite);\n\n      console.info('Updating tasks...');\n      wrench.copyDirSyncRecursive(source.tasks, updatePaths.tasks, settings.wrench.overwrite);\n\n      console.info('Updating gulpfile.js');\n      gulp.src(source.userGulpFile)\n        .pipe(plumber())\n        .pipe(gulp.dest(updateFolder))\n      ;\n\n      // copy theme import\n      console.info('Updating theme import file');\n      gulp.src(source.themeImport)\n        .pipe(plumber())\n        .pipe(gulp.dest(updatePaths.themeImport))\n      ;\n\n      console.info('Adding new site theme files...');\n      wrench.copyDirSyncRecursive(source.site, updatePaths.site, settings.wrench.merge);\n\n      console.info('Updating version...');\n\n      // update version number in semantic.json\n      gulp.src(updatePaths.config)\n        .pipe(plumber())\n        .pipe(rename(settings.rename.json)) // preserve file extension\n        .pipe(jsonEditor({\n          version: release.version\n        }))\n        .pipe(gulp.dest(manager.root))\n      ;\n\n      console.info('Update complete! Run \"\\x1b[92mgulp build\\x1b[0m\" to rebuild dist/ files.');\n\n      return;\n    }\n    else {\n      console.log('Current version of Semantic UI already installed');\n      return;\n    }\n\n  }\n  else {\n    console.error('Cannot locate files to update at path: ', updatePaths.definition);\n    console.log('Running installer');\n  }\n\n}\n\n/*--------------\n Determine Root\n---------------*/\n\n// PM that supports Build Tools (NPM Only Now)\nif(manager.name == 'NPM') {\n  rootQuestions[0].message = rootQuestions[0].message\n    .replace('{packageMessage}', 'We detected you are using ' + manager.name + ' Nice!')\n    .replace('{root}', manager.root)\n  ;\n  // set default path to detected PM root\n  rootQuestions[0].default = manager.root;\n  rootQuestions[1].default = manager.root;\n\n  // insert PM questions after \"Install Type\" question\n  Array.prototype.splice.apply(questions.setup, [2, 0].concat(rootQuestions));\n\n  // omit cleanup questions for managed install\n  questions.cleanup = [];\n}\n\n\n/*--------------\n   Create SUI\n---------------*/\n\ngulp.task('run setup', function() {\n\n  // If auto-install is switched on, we skip the configuration section and simply reuse the configuration from semantic.json\n  if(install.shouldAutoInstall()) {\n    answers = {\n      overwrite    : 'yes',\n      install      : 'auto',\n      useRoot      : true,\n      semanticRoot : currentConfig.base\n    };\n  }\n  else {\n    return gulp\n      .src('gulpfile.js')\n      .pipe(prompt.prompt(questions.setup, function(setupAnswers) {\n        // hoist\n        answers = setupAnswers;\n      }))\n    ;\n  }\n});\n\ngulp.task('create install files', function(callback) {\n\n  /*--------------\n   Exit Conditions\n  ---------------*/\n\n  // if config exists and user specifies not to proceed\n  if(answers.overwrite !== undefined && answers.overwrite == 'no') {\n    return;\n  }\n  console.clear();\n  if(install.shouldAutoInstall()) {\n    console.log('Auto-Installing (Without User Interaction)');\n  }\n  else {\n    console.log('Installing');\n  }\n  console.log('------------------------------');\n\n\n  /*--------------\n        Paths\n  ---------------*/\n\n  var\n    installPaths = {\n      config            : files.config,\n      configFolder      : folders.config,\n      site              : answers.site || folders.site,\n      themeConfig       : files.themeConfig,\n      themeConfigFolder : folders.themeConfig\n    }\n  ;\n\n  /*--------------\n    NPM Install\n  ---------------*/\n\n  // Check if PM install\n  if(manager && (answers.useRoot || answers.customRoot)) {\n\n    // Set root to custom root path if set\n    if(answers.customRoot) {\n      if(answers.customRoot === '') {\n        console.log('Unable to proceed, invalid project root');\n        return;\n      }\n      manager.root = answers.customRoot;\n    }\n\n    // special install paths only for PM install\n    installPaths = extend(false, {}, installPaths, {\n      definition   : folders.definitions,\n      lessImport   : folders.lessImport,\n      tasks        : folders.tasks,\n      theme        : folders.themes,\n      defaultTheme : path.join(folders.themes, folders.defaultTheme),\n      themeImport  : folders.themeImport\n    });\n\n    // add project root to semantic root\n    installFolder = path.join(manager.root, answers.semanticRoot);\n\n    // add install folder to all output paths\n    for(var destination in installPaths) {\n      if( installPaths.hasOwnProperty(destination) ) {\n        // config goes in project root, rest in install folder\n        installPaths[destination] = (destination == 'config' || destination == 'configFolder')\n          ? path.normalize( path.join(manager.root, installPaths[destination]) )\n          : path.normalize( path.join(installFolder, installPaths[destination]) )\n        ;\n      }\n    }\n\n    // create project folders\n    try {\n      mkdirp.sync(installFolder);\n      mkdirp.sync(installPaths.definition);\n      mkdirp.sync(installPaths.theme);\n      mkdirp.sync(installPaths.tasks);\n    }\n    catch(error) {\n      console.error('NPM does not have permissions to create folders at your specified path. Adjust your folders permissions and run \"npm install\" again');\n    }\n\n    console.log('Installing to \\x1b[92m' + answers.semanticRoot + '\\x1b[0m');\n\n    console.info('Copying UI definitions');\n    wrench.copyDirSyncRecursive(source.definitions, installPaths.definition, settings.wrench.overwrite);\n\n    console.info('Copying UI themes');\n    wrench.copyDirSyncRecursive(source.themes, installPaths.theme, settings.wrench.merge);\n    wrench.copyDirSyncRecursive(source.defaultTheme, installPaths.defaultTheme, settings.wrench.overwrite);\n\n    console.info('Copying gulp tasks');\n    wrench.copyDirSyncRecursive(source.tasks, installPaths.tasks, settings.wrench.overwrite);\n\n    // copy theme import\n    console.info('Adding theme files');\n    gulp.src(source.themeImport)\n      .pipe(plumber())\n      .pipe(gulp.dest(installPaths.themeImport))\n    ;\n    gulp.src(source.lessImport)\n      .pipe(plumber())\n      .pipe(gulp.dest(installPaths.lessImport))\n    ;\n\n    // create gulp file\n    console.info('Creating gulpfile.js');\n    gulp.src(source.userGulpFile)\n      .pipe(plumber())\n      .pipe(gulp.dest(installFolder))\n    ;\n\n  }\n\n\n  /*--------------\n     Site Theme\n  ---------------*/\n\n  // Copy _site templates folder to destination\n  if( fs.existsSync(installPaths.site) ) {\n    console.info('Site folder exists, merging files (no overwrite)', installPaths.site);\n  }\n  else {\n    console.info('Creating site theme folder', installPaths.site);\n  }\n  wrench.copyDirSyncRecursive(source.site, installPaths.site, settings.wrench.merge);\n\n  /*--------------\n    Theme Config\n  ---------------*/\n\n  gulp.task('create theme.config', function() {\n    var\n      // determine path to site theme folder from theme config\n      // force CSS path variable to use forward slashes for paths\n      pathToSite   = path.relative(path.resolve(installPaths.themeConfigFolder), path.resolve(installPaths.site)).replace(/\\\\/g,'/'),\n      siteVariable = \"@siteFolder   : '\" + pathToSite + \"/';\"\n    ;\n\n    // rewrite site variable in theme.less\n    console.info('Adjusting @siteFolder to: ', pathToSite + '/');\n\n    if(fs.existsSync(installPaths.themeConfig)) {\n      console.info('Modifying src/theme.config (LESS config)', installPaths.themeConfig);\n      return gulp.src(installPaths.themeConfig)\n        .pipe(plumber())\n        .pipe(replace(regExp.siteVariable, siteVariable))\n        .pipe(gulp.dest(installPaths.themeConfigFolder))\n      ;\n    }\n    else {\n      console.info('Creating src/theme.config (LESS config)', installPaths.themeConfig);\n      return gulp.src(source.themeConfig)\n        .pipe(plumber())\n        .pipe(rename({ extname : '' }))\n        .pipe(replace(regExp.siteVariable, siteVariable))\n        .pipe(gulp.dest(installPaths.themeConfigFolder))\n      ;\n    }\n  });\n\n  /*--------------\n    Semantic.json\n  ---------------*/\n\n  gulp.task('create semantic.json', function() {\n\n    var\n      jsonConfig = install.createJSON(answers)\n    ;\n\n    // adjust variables in theme.less\n    if( fs.existsSync(installPaths.config) ) {\n      console.info('Extending config file (semantic.json)', installPaths.config);\n      return gulp.src(installPaths.config)\n        .pipe(plumber())\n        .pipe(rename(settings.rename.json)) // preserve file extension\n        .pipe(jsonEditor(jsonConfig))\n        .pipe(gulp.dest(installPaths.configFolder))\n      ;\n    }\n    else {\n      console.info('Creating config file (semantic.json)', installPaths.config);\n      return gulp.src(source.config)\n        .pipe(plumber())\n        .pipe(rename({ extname : '' })) // remove .template from ext\n        .pipe(jsonEditor(jsonConfig))\n        .pipe(gulp.dest(installPaths.configFolder))\n      ;\n    }\n\n  });\n\n  runSequence(\n    'create theme.config',\n    'create semantic.json',\n    callback\n  );\n\n});\n\ngulp.task('clean up install', function() {\n\n  // Completion Message\n  if(installFolder && !install.shouldAutoInstall()) {\n    console.log('\\n Setup Complete! \\n Installing Peer Dependencies. \\x1b[0;31mPlease refrain from ctrl + c\\x1b[0m... \\n After completion navigate to \\x1b[92m' + answers.semanticRoot + '\\x1b[0m and run \"\\x1b[92mgulp build\\x1b[0m\" to build');\n    process.exit(0);\n  }\n  else {\n    console.log('');\n    console.log('');\n  }\n\n  // If auto-install is switched on, we skip the configuration section and simply build the dependencies\n  if(install.shouldAutoInstall()) {\n    return gulp.start('build');\n  }\n  else {\n    return gulp\n      .src('gulpfile.js')\n      .pipe(prompt.prompt(questions.cleanup, function(answers) {\n        if(answers.cleanup == 'yes') {\n          del(install.setupFiles);\n        }\n        if(answers.build == 'yes') {\n          gulp.start('build');\n        }\n      }))\n    ;\n  }\n\n\n});\n\nrunSequence(\n  'run setup',\n  'create install files',\n  'clean up install',\n  callback\n);\n\n};\n","/*******************************\n          Version Task\n*******************************/\n\nvar\n  release = require('./config/project/release')\n;\n\nmodule.exports = function(callback) {\n  console.log(release.title + ' ' + release.version);\n};","/*******************************\n           Watch Task\n*******************************/\n\nvar\n  gulp         = require('gulp-help')(require('gulp')),\n\n  // node dependencies\n  console      = require('better-console'),\n  fs           = require('fs'),\n\n  // gulp dependencies\n  autoprefixer = require('gulp-autoprefixer'),\n  chmod        = require('gulp-chmod'),\n  clone        = require('gulp-clone'),\n  gulpif       = require('gulp-if'),\n  less         = require('gulp-less'),\n  minifyCSS    = require('gulp-clean-css'),\n  plumber      = require('gulp-plumber'),\n  print        = require('gulp-print'),\n  rename       = require('gulp-rename'),\n  replace      = require('gulp-replace'),\n  uglify       = require('gulp-uglify'),\n  util         = require('gulp-util'),\n  watch        = require('gulp-watch'),\n\n  // user config\n  config       = require('./config/user'),\n\n  // task config\n  tasks        = require('./config/tasks'),\n  install      = require('./config/project/install'),\n\n  // shorthand\n  globs        = config.globs,\n  assets       = config.paths.assets,\n  output       = config.paths.output,\n  source       = config.paths.source,\n\n  banner       = tasks.banner,\n  comments     = tasks.regExp.comments,\n  log          = tasks.log,\n  settings     = tasks.settings\n\n;\n\n// add tasks referenced using gulp.run (sub-tasks)\nif(config.rtl) {\n  require('./collections/rtl')(gulp);\n}\nrequire('./collections/internal')(gulp);\n\n\n// export task\nmodule.exports = function(callback) {\n\n  if( !install.isSetup() ) {\n    console.error('Cannot watch files. Run \"gulp install\" to set-up Semantic');\n    return;\n  }\n\n  // check for right-to-left (RTL) language\n  if(config.rtl == 'both') {\n    gulp.start('watch-rtl');\n  }\n  if(config.rtl === true || config.rtl === 'Yes') {\n    gulp.start('watch-rtl');\n    return;\n  }\n\n  //console.clear();\n  console.log('Watching source files for changes');\n\n  /*--------------\n      Watch CSS\n  ---------------*/\n\n  gulp\n    .watch([\n      source.config,\n      source.definitions   + '/**/*.less',\n      source.site          + '/**/*.{overrides,variables}',\n      source.themes        + '/**/*.{overrides,variables}'\n    ], function(file) {\n\n      var\n        lessPath,\n\n        stream,\n        compressedStream,\n        uncompressedStream,\n\n        isDefinition,\n        isPackagedTheme,\n        isSiteTheme,\n        isConfig\n      ;\n\n      // log modified file\n      gulp.src(file.path)\n        .pipe(print(log.modified))\n      ;\n\n      /*--------------\n         Find Source\n      ---------------*/\n\n      // recompile on *.override , *.variable change\n      isConfig        = (file.path.indexOf('theme.config') !== -1 || file.path.indexOf('site.variables') !== -1);\n      isPackagedTheme = (file.path.indexOf(source.themes) !== -1);\n      isSiteTheme     = (file.path.indexOf(source.site) !== -1);\n      isDefinition    = (file.path.indexOf(source.definitions) !== -1);\n\n      if(isConfig) {\n        console.info('Rebuilding all UI');\n        // impossible to tell which file was updated in theme.config, rebuild all\n        gulp.start('build-css');\n        return;\n      }\n      else if(isPackagedTheme) {\n        console.log('Change detected in packaged theme');\n        lessPath = util.replaceExtension(file.path, '.less');\n        lessPath = lessPath.replace(tasks.regExp.theme, source.definitions);\n      }\n      else if(isSiteTheme) {\n        console.log('Change detected in site theme');\n        lessPath = util.replaceExtension(file.path, '.less');\n        lessPath = lessPath.replace(source.site, source.definitions);\n      }\n      else {\n        console.log('Change detected in definition');\n        lessPath = file.path;\n      }\n\n      /*--------------\n         Create CSS\n      ---------------*/\n\n      if( fs.existsSync(lessPath) ) {\n\n        // unified css stream\n        stream = gulp.src(lessPath)\n          .pipe(plumber(settings.plumber.less))\n          .pipe(less(settings.less))\n          .pipe(print(log.created))\n          .pipe(replace(comments.variables.in, comments.variables.out))\n          .pipe(replace(comments.license.in, comments.license.out))\n          .pipe(replace(comments.large.in, comments.large.out))\n          .pipe(replace(comments.small.in, comments.small.out))\n          .pipe(replace(comments.tiny.in, comments.tiny.out))\n          .pipe(autoprefixer(settings.prefix))\n          .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n        ;\n\n        // use 2 concurrent streams from same pipe\n        uncompressedStream = stream.pipe(clone());\n        compressedStream   = stream.pipe(clone());\n\n        uncompressedStream\n          .pipe(plumber())\n          .pipe(replace(assets.source, assets.uncompressed))\n          .pipe(gulp.dest(output.uncompressed))\n          .pipe(print(log.created))\n          .on('end', function() {\n            gulp.start('package uncompressed css');\n          })\n        ;\n\n        compressedStream = stream\n          .pipe(plumber())\n          .pipe(replace(assets.source, assets.compressed))\n          .pipe(minifyCSS(settings.minify))\n          .pipe(rename(settings.rename.minCSS))\n          .pipe(gulp.dest(output.compressed))\n          .pipe(print(log.created))\n          .on('end', function() {\n            gulp.start('package compressed css');\n          })\n        ;\n      }\n      else {\n        console.log('Cannot find UI definition at path', lessPath);\n      }\n    })\n  ;\n\n  /*--------------\n      Watch JS\n  ---------------*/\n\n  gulp\n    .watch([\n      source.definitions   + '/**/*.js'\n    ], function(file) {\n      gulp.src(file.path)\n        .pipe(plumber())\n        .pipe(replace(comments.license.in, comments.license.out))\n        .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n        .pipe(gulp.dest(output.uncompressed))\n        .pipe(print(log.created))\n        .pipe(uglify(settings.uglify))\n        .pipe(rename(settings.rename.minJS))\n        .pipe(gulp.dest(output.compressed))\n        .pipe(print(log.created))\n        .on('end', function() {\n          gulp.start('package compressed js');\n          gulp.start('package uncompressed js');\n        })\n      ;\n    })\n  ;\n\n  /*--------------\n    Watch Assets\n  ---------------*/\n\n  // only copy assets that match component names (or their plural)\n  gulp\n    .watch([\n      source.themes   + '/**/assets/**/*.*'\n    ], function(file) {\n      // copy assets\n      gulp.src(file.path, { base: source.themes })\n        .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n        .pipe(gulp.dest(output.themes))\n        .pipe(print(log.created))\n      ;\n    })\n  ;\n\n};\n","/*!\n * # Semantic UI - API\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nvar\n  window = (typeof window != 'undefined' && window.Math == Math)\n    ? window\n    : (typeof self != 'undefined' && self.Math == Math)\n      ? self\n      : Function('return this')()\n;\n\n$.api = $.fn.api = function(parameters) {\n\n  var\n    // use window context if none specified\n    $allModules     = $.isFunction(this)\n        ? $(window)\n        : $(this),\n    moduleSelector = $allModules.selector || '',\n    time           = new Date().getTime(),\n    performance    = [],\n\n    query          = arguments[0],\n    methodInvoked  = (typeof query == 'string'),\n    queryArguments = [].slice.call(arguments, 1),\n\n    returnedValue\n  ;\n\n  $allModules\n    .each(function() {\n      var\n        settings          = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.api.settings, parameters)\n          : $.extend({}, $.fn.api.settings),\n\n        // internal aliases\n        namespace       = settings.namespace,\n        metadata        = settings.metadata,\n        selector        = settings.selector,\n        error           = settings.error,\n        className       = settings.className,\n\n        // define namespaces for modules\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n\n        // element that creates request\n        $module         = $(this),\n        $form           = $module.closest(selector.form),\n\n        // context used for state\n        $context        = (settings.stateContext)\n          ? $(settings.stateContext)\n          : $module,\n\n        // request details\n        ajaxSettings,\n        requestSettings,\n        url,\n        data,\n        requestStartTime,\n\n        // standard module\n        element         = this,\n        context         = $context[0],\n        instance        = $module.data(moduleNamespace),\n        module\n      ;\n\n      module = {\n\n        initialize: function() {\n          if(!methodInvoked) {\n            module.bind.events();\n          }\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, instance)\n          ;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous module for', element);\n          $module\n            .removeData(moduleNamespace)\n            .off(eventNamespace)\n          ;\n        },\n\n        bind: {\n          events: function() {\n            var\n              triggerEvent = module.get.event()\n            ;\n            if( triggerEvent ) {\n              module.verbose('Attaching API events to element', triggerEvent);\n              $module\n                .on(triggerEvent + eventNamespace, module.event.trigger)\n              ;\n            }\n            else if(settings.on == 'now') {\n              module.debug('Querying API endpoint immediately');\n              module.query();\n            }\n          }\n        },\n\n        decode: {\n          json: function(response) {\n            if(response !== undefined && typeof response == 'string') {\n              try {\n               response = JSON.parse(response);\n              }\n              catch(e) {\n                // isnt json string\n              }\n            }\n            return response;\n          }\n        },\n\n        read: {\n          cachedResponse: function(url) {\n            var\n              response\n            ;\n            if(window.Storage === undefined) {\n              module.error(error.noStorage);\n              return;\n            }\n            response = sessionStorage.getItem(url);\n            module.debug('Using cached response', url, response);\n            response = module.decode.json(response);\n            return response;\n          }\n        },\n        write: {\n          cachedResponse: function(url, response) {\n            if(response && response === '') {\n              module.debug('Response empty, not caching', response);\n              return;\n            }\n            if(window.Storage === undefined) {\n              module.error(error.noStorage);\n              return;\n            }\n            if( $.isPlainObject(response) ) {\n              response = JSON.stringify(response);\n            }\n            sessionStorage.setItem(url, response);\n            module.verbose('Storing cached response for url', url, response);\n          }\n        },\n\n        query: function() {\n\n          if(module.is.disabled()) {\n            module.debug('Element is disabled API request aborted');\n            return;\n          }\n\n          if(module.is.loading()) {\n            if(settings.interruptRequests) {\n              module.debug('Interrupting previous request');\n              module.abort();\n            }\n            else {\n              module.debug('Cancelling request, previous request is still pending');\n              return;\n            }\n          }\n\n          // pass element metadata to url (value, text)\n          if(settings.defaultData) {\n            $.extend(true, settings.urlData, module.get.defaultData());\n          }\n\n          // Add form content\n          if(settings.serializeForm) {\n            settings.data = module.add.formData(settings.data);\n          }\n\n          // call beforesend and get any settings changes\n          requestSettings = module.get.settings();\n\n          // check if before send cancelled request\n          if(requestSettings === false) {\n            module.cancelled = true;\n            module.error(error.beforeSend);\n            return;\n          }\n          else {\n            module.cancelled = false;\n          }\n\n          // get url\n          url = module.get.templatedURL();\n\n          if(!url && !module.is.mocked()) {\n            module.error(error.missingURL);\n            return;\n          }\n\n          // replace variables\n          url = module.add.urlData( url );\n          // missing url parameters\n          if( !url && !module.is.mocked()) {\n            return;\n          }\n\n          requestSettings.url = settings.base + url;\n\n          // look for jQuery ajax parameters in settings\n          ajaxSettings = $.extend(true, {}, settings, {\n            type       : settings.method || settings.type,\n            data       : data,\n            url        : settings.base + url,\n            beforeSend : settings.beforeXHR,\n            success    : function() {},\n            failure    : function() {},\n            complete   : function() {}\n          });\n\n          module.debug('Querying URL', ajaxSettings.url);\n          module.verbose('Using AJAX settings', ajaxSettings);\n          if(settings.cache === 'local' && module.read.cachedResponse(url)) {\n            module.debug('Response returned from local cache');\n            module.request = module.create.request();\n            module.request.resolveWith(context, [ module.read.cachedResponse(url) ]);\n            return;\n          }\n\n          if( !settings.throttle ) {\n            module.debug('Sending request', data, ajaxSettings.method);\n            module.send.request();\n          }\n          else {\n            if(!settings.throttleFirstRequest && !module.timer) {\n              module.debug('Sending request', data, ajaxSettings.method);\n              module.send.request();\n              module.timer = setTimeout(function(){}, settings.throttle);\n            }\n            else {\n              module.debug('Throttling request', settings.throttle);\n              clearTimeout(module.timer);\n              module.timer = setTimeout(function() {\n                if(module.timer) {\n                  delete module.timer;\n                }\n                module.debug('Sending throttled request', data, ajaxSettings.method);\n                module.send.request();\n              }, settings.throttle);\n            }\n          }\n\n        },\n\n        should: {\n          removeError: function() {\n            return ( settings.hideError === true || (settings.hideError === 'auto' && !module.is.form()) );\n          }\n        },\n\n        is: {\n          disabled: function() {\n            return ($module.filter(selector.disabled).length > 0);\n          },\n          expectingJSON: function() {\n            return settings.dataType === 'json' || settings.dataType === 'jsonp';\n          },\n          form: function() {\n            return $module.is('form') || $context.is('form');\n          },\n          mocked: function() {\n            return (settings.mockResponse || settings.mockResponseAsync || settings.response || settings.responseAsync);\n          },\n          input: function() {\n            return $module.is('input');\n          },\n          loading: function() {\n            return (module.request)\n              ? (module.request.state() == 'pending')\n              : false\n            ;\n          },\n          abortedRequest: function(xhr) {\n            if(xhr && xhr.readyState !== undefined && xhr.readyState === 0) {\n              module.verbose('XHR request determined to be aborted');\n              return true;\n            }\n            else {\n              module.verbose('XHR request was not aborted');\n              return false;\n            }\n          },\n          validResponse: function(response) {\n            if( (!module.is.expectingJSON()) || !$.isFunction(settings.successTest) ) {\n              module.verbose('Response is not JSON, skipping validation', settings.successTest, response);\n              return true;\n            }\n            module.debug('Checking JSON returned success', settings.successTest, response);\n            if( settings.successTest(response) ) {\n              module.debug('Response passed success test', response);\n              return true;\n            }\n            else {\n              module.debug('Response failed success test', response);\n              return false;\n            }\n          }\n        },\n\n        was: {\n          cancelled: function() {\n            return (module.cancelled || false);\n          },\n          succesful: function() {\n            return (module.request && module.request.state() == 'resolved');\n          },\n          failure: function() {\n            return (module.request && module.request.state() == 'rejected');\n          },\n          complete: function() {\n            return (module.request && (module.request.state() == 'resolved' || module.request.state() == 'rejected') );\n          }\n        },\n\n        add: {\n          urlData: function(url, urlData) {\n            var\n              requiredVariables,\n              optionalVariables\n            ;\n            if(url) {\n              requiredVariables = url.match(settings.regExp.required);\n              optionalVariables = url.match(settings.regExp.optional);\n              urlData           = urlData || settings.urlData;\n              if(requiredVariables) {\n                module.debug('Looking for required URL variables', requiredVariables);\n                $.each(requiredVariables, function(index, templatedString) {\n                  var\n                    // allow legacy {$var} style\n                    variable = (templatedString.indexOf('$') !== -1)\n                      ? templatedString.substr(2, templatedString.length - 3)\n                      : templatedString.substr(1, templatedString.length - 2),\n                    value   = ($.isPlainObject(urlData) && urlData[variable] !== undefined)\n                      ? urlData[variable]\n                      : ($module.data(variable) !== undefined)\n                        ? $module.data(variable)\n                        : ($context.data(variable) !== undefined)\n                          ? $context.data(variable)\n                          : urlData[variable]\n                  ;\n                  // remove value\n                  if(value === undefined) {\n                    module.error(error.requiredParameter, variable, url);\n                    url = false;\n                    return false;\n                  }\n                  else {\n                    module.verbose('Found required variable', variable, value);\n                    value = (settings.encodeParameters)\n                      ? module.get.urlEncodedValue(value)\n                      : value\n                    ;\n                    url = url.replace(templatedString, value);\n                  }\n                });\n              }\n              if(optionalVariables) {\n                module.debug('Looking for optional URL variables', requiredVariables);\n                $.each(optionalVariables, function(index, templatedString) {\n                  var\n                    // allow legacy {/$var} style\n                    variable = (templatedString.indexOf('$') !== -1)\n                      ? templatedString.substr(3, templatedString.length - 4)\n                      : templatedString.substr(2, templatedString.length - 3),\n                    value   = ($.isPlainObject(urlData) && urlData[variable] !== undefined)\n                      ? urlData[variable]\n                      : ($module.data(variable) !== undefined)\n                        ? $module.data(variable)\n                        : ($context.data(variable) !== undefined)\n                          ? $context.data(variable)\n                          : urlData[variable]\n                  ;\n                  // optional replacement\n                  if(value !== undefined) {\n                    module.verbose('Optional variable Found', variable, value);\n                    url = url.replace(templatedString, value);\n                  }\n                  else {\n                    module.verbose('Optional variable not found', variable);\n                    // remove preceding slash if set\n                    if(url.indexOf('/' + templatedString) !== -1) {\n                      url = url.replace('/' + templatedString, '');\n                    }\n                    else {\n                      url = url.replace(templatedString, '');\n                    }\n                  }\n                });\n              }\n            }\n            return url;\n          },\n          formData: function(data) {\n            var\n              canSerialize = ($.fn.serializeObject !== undefined),\n              formData     = (canSerialize)\n                ? $form.serializeObject()\n                : $form.serialize(),\n              hasOtherData\n            ;\n            data         = data || settings.data;\n            hasOtherData = $.isPlainObject(data);\n\n            if(hasOtherData) {\n              if(canSerialize) {\n                module.debug('Extending existing data with form data', data, formData);\n                data = $.extend(true, {}, data, formData);\n              }\n              else {\n                module.error(error.missingSerialize);\n                module.debug('Cant extend data. Replacing data with form data', data, formData);\n                data = formData;\n              }\n            }\n            else {\n              module.debug('Adding form data', formData);\n              data = formData;\n            }\n            return data;\n          }\n        },\n\n        send: {\n          request: function() {\n            module.set.loading();\n            module.request = module.create.request();\n            if( module.is.mocked() ) {\n              module.mockedXHR = module.create.mockedXHR();\n            }\n            else {\n              module.xhr = module.create.xhr();\n            }\n            settings.onRequest.call(context, module.request, module.xhr);\n          }\n        },\n\n        event: {\n          trigger: function(event) {\n            module.query();\n            if(event.type == 'submit' || event.type == 'click') {\n              event.preventDefault();\n            }\n          },\n          xhr: {\n            always: function() {\n              // nothing special\n            },\n            done: function(response, textStatus, xhr) {\n              var\n                context            = this,\n                elapsedTime        = (new Date().getTime() - requestStartTime),\n                timeLeft           = (settings.loadingDuration - elapsedTime),\n                translatedResponse = ( $.isFunction(settings.onResponse) )\n                  ? module.is.expectingJSON()\n                    ? settings.onResponse.call(context, $.extend(true, {}, response))\n                    : settings.onResponse.call(context, response)\n                  : false\n              ;\n              timeLeft = (timeLeft > 0)\n                ? timeLeft\n                : 0\n              ;\n              if(translatedResponse) {\n                module.debug('Modified API response in onResponse callback', settings.onResponse, translatedResponse, response);\n                response = translatedResponse;\n              }\n              if(timeLeft > 0) {\n                module.debug('Response completed early delaying state change by', timeLeft);\n              }\n              setTimeout(function() {\n                if( module.is.validResponse(response) ) {\n                  module.request.resolveWith(context, [response, xhr]);\n                }\n                else {\n                  module.request.rejectWith(context, [xhr, 'invalid']);\n                }\n              }, timeLeft);\n            },\n            fail: function(xhr, status, httpMessage) {\n              var\n                context     = this,\n                elapsedTime = (new Date().getTime() - requestStartTime),\n                timeLeft    = (settings.loadingDuration - elapsedTime)\n              ;\n              timeLeft = (timeLeft > 0)\n                ? timeLeft\n                : 0\n              ;\n              if(timeLeft > 0) {\n                module.debug('Response completed early delaying state change by', timeLeft);\n              }\n              setTimeout(function() {\n                if( module.is.abortedRequest(xhr) ) {\n                  module.request.rejectWith(context, [xhr, 'aborted', httpMessage]);\n                }\n                else {\n                  module.request.rejectWith(context, [xhr, 'error', status, httpMessage]);\n                }\n              }, timeLeft);\n            }\n          },\n          request: {\n            done: function(response, xhr) {\n              module.debug('Successful API Response', response);\n              if(settings.cache === 'local' && url) {\n                module.write.cachedResponse(url, response);\n                module.debug('Saving server response locally', module.cache);\n              }\n              settings.onSuccess.call(context, response, $module, xhr);\n            },\n            complete: function(firstParameter, secondParameter) {\n              var\n                xhr,\n                response\n              ;\n              // have to guess callback parameters based on request success\n              if( module.was.succesful() ) {\n                response = firstParameter;\n                xhr      = secondParameter;\n              }\n              else {\n                xhr      = firstParameter;\n                response = module.get.responseFromXHR(xhr);\n              }\n              module.remove.loading();\n              settings.onComplete.call(context, response, $module, xhr);\n            },\n            fail: function(xhr, status, httpMessage) {\n              var\n                // pull response from xhr if available\n                response     = module.get.responseFromXHR(xhr),\n                errorMessage = module.get.errorFromRequest(response, status, httpMessage)\n              ;\n              if(status == 'aborted') {\n                module.debug('XHR Aborted (Most likely caused by page navigation or CORS Policy)', status, httpMessage);\n                settings.onAbort.call(context, status, $module, xhr);\n                return true;\n              }\n              else if(status == 'invalid') {\n                module.debug('JSON did not pass success test. A server-side error has most likely occurred', response);\n              }\n              else if(status == 'error') {\n                if(xhr !== undefined) {\n                  module.debug('XHR produced a server error', status, httpMessage);\n                  // make sure we have an error to display to console\n                  if( xhr.status != 200 && httpMessage !== undefined && httpMessage !== '') {\n                    module.error(error.statusMessage + httpMessage, ajaxSettings.url);\n                  }\n                  settings.onError.call(context, errorMessage, $module, xhr);\n                }\n              }\n\n              if(settings.errorDuration && status !== 'aborted') {\n                module.debug('Adding error state');\n                module.set.error();\n                if( module.should.removeError() ) {\n                  setTimeout(module.remove.error, settings.errorDuration);\n                }\n              }\n              module.debug('API Request failed', errorMessage, xhr);\n              settings.onFailure.call(context, response, $module, xhr);\n            }\n          }\n        },\n\n        create: {\n\n          request: function() {\n            // api request promise\n            return $.Deferred()\n              .always(module.event.request.complete)\n              .done(module.event.request.done)\n              .fail(module.event.request.fail)\n            ;\n          },\n\n          mockedXHR: function () {\n            var\n              // xhr does not simulate these properties of xhr but must return them\n              textStatus     = false,\n              status         = false,\n              httpMessage    = false,\n              responder      = settings.mockResponse      || settings.response,\n              asyncResponder = settings.mockResponseAsync || settings.responseAsync,\n              asyncCallback,\n              response,\n              mockedXHR\n            ;\n\n            mockedXHR = $.Deferred()\n              .always(module.event.xhr.complete)\n              .done(module.event.xhr.done)\n              .fail(module.event.xhr.fail)\n            ;\n\n            if(responder) {\n              if( $.isFunction(responder) ) {\n                module.debug('Using specified synchronous callback', responder);\n                response = responder.call(context, requestSettings);\n              }\n              else {\n                module.debug('Using settings specified response', responder);\n                response = responder;\n              }\n              // simulating response\n              mockedXHR.resolveWith(context, [ response, textStatus, { responseText: response }]);\n            }\n            else if( $.isFunction(asyncResponder) ) {\n              asyncCallback = function(response) {\n                module.debug('Async callback returned response', response);\n\n                if(response) {\n                  mockedXHR.resolveWith(context, [ response, textStatus, { responseText: response }]);\n                }\n                else {\n                  mockedXHR.rejectWith(context, [{ responseText: response }, status, httpMessage]);\n                }\n              };\n              module.debug('Using specified async response callback', asyncResponder);\n              asyncResponder.call(context, requestSettings, asyncCallback);\n            }\n            return mockedXHR;\n          },\n\n          xhr: function() {\n            var\n              xhr\n            ;\n            // ajax request promise\n            xhr = $.ajax(ajaxSettings)\n              .always(module.event.xhr.always)\n              .done(module.event.xhr.done)\n              .fail(module.event.xhr.fail)\n            ;\n            module.verbose('Created server request', xhr, ajaxSettings);\n            return xhr;\n          }\n        },\n\n        set: {\n          error: function() {\n            module.verbose('Adding error state to element', $context);\n            $context.addClass(className.error);\n          },\n          loading: function() {\n            module.verbose('Adding loading state to element', $context);\n            $context.addClass(className.loading);\n            requestStartTime = new Date().getTime();\n          }\n        },\n\n        remove: {\n          error: function() {\n            module.verbose('Removing error state from element', $context);\n            $context.removeClass(className.error);\n          },\n          loading: function() {\n            module.verbose('Removing loading state from element', $context);\n            $context.removeClass(className.loading);\n          }\n        },\n\n        get: {\n          responseFromXHR: function(xhr) {\n            return $.isPlainObject(xhr)\n              ? (module.is.expectingJSON())\n                ? module.decode.json(xhr.responseText)\n                : xhr.responseText\n              : false\n            ;\n          },\n          errorFromRequest: function(response, status, httpMessage) {\n            return ($.isPlainObject(response) && response.error !== undefined)\n              ? response.error // use json error message\n              : (settings.error[status] !== undefined) // use server error message\n                ? settings.error[status]\n                : httpMessage\n            ;\n          },\n          request: function() {\n            return module.request || false;\n          },\n          xhr: function() {\n            return module.xhr || false;\n          },\n          settings: function() {\n            var\n              runSettings\n            ;\n            runSettings = settings.beforeSend.call(context, settings);\n            if(runSettings) {\n              if(runSettings.success !== undefined) {\n                module.debug('Legacy success callback detected', runSettings);\n                module.error(error.legacyParameters, runSettings.success);\n                runSettings.onSuccess = runSettings.success;\n              }\n              if(runSettings.failure !== undefined) {\n                module.debug('Legacy failure callback detected', runSettings);\n                module.error(error.legacyParameters, runSettings.failure);\n                runSettings.onFailure = runSettings.failure;\n              }\n              if(runSettings.complete !== undefined) {\n                module.debug('Legacy complete callback detected', runSettings);\n                module.error(error.legacyParameters, runSettings.complete);\n                runSettings.onComplete = runSettings.complete;\n              }\n            }\n            if(runSettings === undefined) {\n              module.error(error.noReturnedValue);\n            }\n            if(runSettings === false) {\n              return runSettings;\n            }\n            return (runSettings !== undefined)\n              ? $.extend(true, {}, runSettings)\n              : $.extend(true, {}, settings)\n            ;\n          },\n          urlEncodedValue: function(value) {\n            var\n              decodedValue   = window.decodeURIComponent(value),\n              encodedValue   = window.encodeURIComponent(value),\n              alreadyEncoded = (decodedValue !== value)\n            ;\n            if(alreadyEncoded) {\n              module.debug('URL value is already encoded, avoiding double encoding', value);\n              return value;\n            }\n            module.verbose('Encoding value using encodeURIComponent', value, encodedValue);\n            return encodedValue;\n          },\n          defaultData: function() {\n            var\n              data = {}\n            ;\n            if( !$.isWindow(element) ) {\n              if( module.is.input() ) {\n                data.value = $module.val();\n              }\n              else if( module.is.form() ) {\n\n              }\n              else {\n                data.text = $module.text();\n              }\n            }\n            return data;\n          },\n          event: function() {\n            if( $.isWindow(element) || settings.on == 'now' ) {\n              module.debug('API called without element, no events attached');\n              return false;\n            }\n            else if(settings.on == 'auto') {\n              if( $module.is('input') ) {\n                return (element.oninput !== undefined)\n                  ? 'input'\n                  : (element.onpropertychange !== undefined)\n                    ? 'propertychange'\n                    : 'keyup'\n                ;\n              }\n              else if( $module.is('form') ) {\n                return 'submit';\n              }\n              else {\n                return 'click';\n              }\n            }\n            else {\n              return settings.on;\n            }\n          },\n          templatedURL: function(action) {\n            action = action || $module.data(metadata.action) || settings.action || false;\n            url    = $module.data(metadata.url) || settings.url || false;\n            if(url) {\n              module.debug('Using specified url', url);\n              return url;\n            }\n            if(action) {\n              module.debug('Looking up url for action', action, settings.api);\n              if(settings.api[action] === undefined && !module.is.mocked()) {\n                module.error(error.missingAction, settings.action, settings.api);\n                return;\n              }\n              url = settings.api[action];\n            }\n            else if( module.is.form() ) {\n              url = $module.attr('action') || $context.attr('action') || false;\n              module.debug('No url or action specified, defaulting to form action', url);\n            }\n            return url;\n          }\n        },\n\n        abort: function() {\n          var\n            xhr = module.get.xhr()\n          ;\n          if( xhr && xhr.state() !== 'resolved') {\n            module.debug('Cancelling API request');\n            xhr.abort();\n          }\n        },\n\n        // reset state\n        reset: function() {\n          module.remove.error();\n          module.remove.loading();\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                //'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.api.settings = {\n\n  name              : 'API',\n  namespace         : 'api',\n\n  debug             : false,\n  verbose           : false,\n  performance       : true,\n\n  // object containing all templates endpoints\n  api               : {},\n\n  // whether to cache responses\n  cache             : true,\n\n  // whether new requests should abort previous requests\n  interruptRequests : true,\n\n  // event binding\n  on                : 'auto',\n\n  // context for applying state classes\n  stateContext      : false,\n\n  // duration for loading state\n  loadingDuration   : 0,\n\n  // whether to hide errors after a period of time\n  hideError         : 'auto',\n\n  // duration for error state\n  errorDuration     : 2000,\n\n  // whether parameters should be encoded with encodeURIComponent\n  encodeParameters  : true,\n\n  // API action to use\n  action            : false,\n\n  // templated URL to use\n  url               : false,\n\n  // base URL to apply to all endpoints\n  base              : '',\n\n  // data that will\n  urlData           : {},\n\n  // whether to add default data to url data\n  defaultData          : true,\n\n  // whether to serialize closest form\n  serializeForm        : false,\n\n  // how long to wait before request should occur\n  throttle             : 0,\n\n  // whether to throttle first request or only repeated\n  throttleFirstRequest : true,\n\n  // standard ajax settings\n  method            : 'get',\n  data              : {},\n  dataType          : 'json',\n\n  // mock response\n  mockResponse      : false,\n  mockResponseAsync : false,\n\n  // aliases for mock\n  response          : false,\n  responseAsync     : false,\n\n  // callbacks before request\n  beforeSend  : function(settings) { return settings; },\n  beforeXHR   : function(xhr) {},\n  onRequest   : function(promise, xhr) {},\n\n  // after request\n  onResponse  : false, // function(response) { },\n\n  // response was successful, if JSON passed validation\n  onSuccess   : function(response, $module) {},\n\n  // request finished without aborting\n  onComplete  : function(response, $module) {},\n\n  // failed JSON success test\n  onFailure   : function(response, $module) {},\n\n  // server error\n  onError     : function(errorMessage, $module) {},\n\n  // request aborted\n  onAbort     : function(errorMessage, $module) {},\n\n  successTest : false,\n\n  // errors\n  error : {\n    beforeSend        : 'The before send function has aborted the request',\n    error             : 'There was an error with your request',\n    exitConditions    : 'API Request Aborted. Exit conditions met',\n    JSONParse         : 'JSON could not be parsed during error handling',\n    legacyParameters  : 'You are using legacy API success callback names',\n    method            : 'The method you called is not defined',\n    missingAction     : 'API action used but no url was defined',\n    missingSerialize  : 'jquery-serialize-object is required to add form data to an existing data object',\n    missingURL        : 'No URL specified for api event',\n    noReturnedValue   : 'The beforeSend callback must return a settings object, beforeSend ignored.',\n    noStorage         : 'Caching responses locally requires session storage',\n    parseError        : 'There was an error parsing your request',\n    requiredParameter : 'Missing a required URL parameter: ',\n    statusMessage     : 'Server gave an error: ',\n    timeout           : 'Your request timed out'\n  },\n\n  regExp  : {\n    required : /\\{\\$*[A-z0-9]+\\}/g,\n    optional : /\\{\\/\\$*[A-z0-9]+\\}/g,\n  },\n\n  className: {\n    loading : 'loading',\n    error   : 'error'\n  },\n\n  selector: {\n    disabled : '.disabled',\n    form      : 'form'\n  },\n\n  metadata: {\n    action  : 'action',\n    url     : 'url'\n  }\n};\n\n\n\n})( jQuery, window, document );\n","/*!\n * # Semantic UI - Form Validation\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.form = function(parameters) {\n  var\n    $allModules      = $(this),\n    moduleSelector   = $allModules.selector || '',\n\n    time             = new Date().getTime(),\n    performance      = [],\n\n    query            = arguments[0],\n    legacyParameters = arguments[1],\n    methodInvoked    = (typeof query == 'string'),\n    queryArguments   = [].slice.call(arguments, 1),\n    returnedValue\n  ;\n  $allModules\n    .each(function() {\n      var\n        $module     = $(this),\n        element     = this,\n\n        formErrors  = [],\n        keyHeldDown = false,\n\n        // set at run-time\n        $field,\n        $group,\n        $message,\n        $prompt,\n        $submit,\n        $clear,\n        $reset,\n\n        settings,\n        validation,\n\n        metadata,\n        selector,\n        className,\n        regExp,\n        error,\n\n        namespace,\n        moduleNamespace,\n        eventNamespace,\n\n        instance,\n        module\n      ;\n\n      module      = {\n\n        initialize: function() {\n\n          // settings grabbed at run time\n          module.get.settings();\n          if(methodInvoked) {\n            if(instance === undefined) {\n              module.instantiate();\n            }\n            module.invoke(query);\n          }\n          else {\n            if(instance !== undefined) {\n              instance.invoke('destroy');\n            }\n            module.verbose('Initializing form validation', $module, settings);\n            module.bindEvents();\n            module.set.defaults();\n            module.instantiate();\n          }\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous module', instance);\n          module.removeEvents();\n          $module\n            .removeData(moduleNamespace)\n          ;\n        },\n\n        refresh: function() {\n          module.verbose('Refreshing selector cache');\n          $field      = $module.find(selector.field);\n          $group      = $module.find(selector.group);\n          $message    = $module.find(selector.message);\n          $prompt     = $module.find(selector.prompt);\n\n          $submit     = $module.find(selector.submit);\n          $clear      = $module.find(selector.clear);\n          $reset      = $module.find(selector.reset);\n        },\n\n        submit: function() {\n          module.verbose('Submitting form', $module);\n          $module\n            .submit()\n          ;\n        },\n\n        attachEvents: function(selector, action) {\n          action = action || 'submit';\n          $(selector)\n            .on('click' + eventNamespace, function(event) {\n              module[action]();\n              event.preventDefault();\n            })\n          ;\n        },\n\n        bindEvents: function() {\n          module.verbose('Attaching form events');\n          $module\n            .on('submit' + eventNamespace, module.validate.form)\n            .on('blur'   + eventNamespace, selector.field, module.event.field.blur)\n            .on('click'  + eventNamespace, selector.submit, module.submit)\n            .on('click'  + eventNamespace, selector.reset, module.reset)\n            .on('click'  + eventNamespace, selector.clear, module.clear)\n          ;\n          if(settings.keyboardShortcuts) {\n            $module\n              .on('keydown' + eventNamespace, selector.field, module.event.field.keydown)\n            ;\n          }\n          $field\n            .each(function() {\n              var\n                $input     = $(this),\n                type       = $input.prop('type'),\n                inputEvent = module.get.changeEvent(type, $input)\n              ;\n              $(this)\n                .on(inputEvent + eventNamespace, module.event.field.change)\n              ;\n            })\n          ;\n        },\n\n        clear: function() {\n          $field\n            .each(function () {\n              var\n                $field       = $(this),\n                $element     = $field.parent(),\n                $fieldGroup  = $field.closest($group),\n                $prompt      = $fieldGroup.find(selector.prompt),\n                defaultValue = $field.data(metadata.defaultValue) || '',\n                isCheckbox   = $element.is(selector.uiCheckbox),\n                isDropdown   = $element.is(selector.uiDropdown),\n                isErrored    = $fieldGroup.hasClass(className.error)\n              ;\n              if(isErrored) {\n                module.verbose('Resetting error on field', $fieldGroup);\n                $fieldGroup.removeClass(className.error);\n                $prompt.remove();\n              }\n              if(isDropdown) {\n                module.verbose('Resetting dropdown value', $element, defaultValue);\n                $element.dropdown('clear');\n              }\n              else if(isCheckbox) {\n                $field.prop('checked', false);\n              }\n              else {\n                module.verbose('Resetting field value', $field, defaultValue);\n                $field.val('');\n              }\n            })\n          ;\n        },\n\n        reset: function() {\n          $field\n            .each(function () {\n              var\n                $field       = $(this),\n                $element     = $field.parent(),\n                $fieldGroup  = $field.closest($group),\n                $prompt      = $fieldGroup.find(selector.prompt),\n                defaultValue = $field.data(metadata.defaultValue),\n                isCheckbox   = $element.is(selector.uiCheckbox),\n                isDropdown   = $element.is(selector.uiDropdown),\n                isErrored    = $fieldGroup.hasClass(className.error)\n              ;\n              if(defaultValue === undefined) {\n                return;\n              }\n              if(isErrored) {\n                module.verbose('Resetting error on field', $fieldGroup);\n                $fieldGroup.removeClass(className.error);\n                $prompt.remove();\n              }\n              if(isDropdown) {\n                module.verbose('Resetting dropdown value', $element, defaultValue);\n                $element.dropdown('restore defaults');\n              }\n              else if(isCheckbox) {\n                module.verbose('Resetting checkbox value', $element, defaultValue);\n                $field.prop('checked', defaultValue);\n              }\n              else {\n                module.verbose('Resetting field value', $field, defaultValue);\n                $field.val(defaultValue);\n              }\n            })\n          ;\n        },\n\n        determine: {\n          isValid: function() {\n            var\n              allValid = true\n            ;\n            $.each(validation, function(fieldName, field) {\n              if( !( module.validate.field(field, fieldName, true) ) ) {\n                allValid = false;\n              }\n            });\n            return allValid;\n          }\n        },\n\n        is: {\n          bracketedRule: function(rule) {\n            return (rule.type && rule.type.match(settings.regExp.bracket));\n          },\n          shorthandFields: function(fields) {\n            var\n              fieldKeys = Object.keys(fields),\n              firstRule = fields[fieldKeys[0]]\n            ;\n            return module.is.shorthandRules(firstRule);\n          },\n          // duck type rule test\n          shorthandRules: function(rules) {\n            return (typeof rules == 'string' || $.isArray(rules));\n          },\n          empty: function($field) {\n            if(!$field || $field.length === 0) {\n              return true;\n            }\n            else if($field.is('input[type=\"checkbox\"]')) {\n              return !$field.is(':checked');\n            }\n            else {\n              return module.is.blank($field);\n            }\n          },\n          blank: function($field) {\n            return $.trim($field.val()) === '';\n          },\n          valid: function(field) {\n            var\n              allValid = true\n            ;\n            if(field) {\n              module.verbose('Checking if field is valid', field);\n              return module.validate.field(validation[field], field, false);\n            }\n            else {\n              module.verbose('Checking if form is valid');\n              $.each(validation, function(fieldName, field) {\n                if( !module.is.valid(fieldName) ) {\n                  allValid = false;\n                }\n              });\n              return allValid;\n            }\n          }\n        },\n\n        removeEvents: function() {\n          $module\n            .off(eventNamespace)\n          ;\n          $field\n            .off(eventNamespace)\n          ;\n          $submit\n            .off(eventNamespace)\n          ;\n          $field\n            .off(eventNamespace)\n          ;\n        },\n\n        event: {\n          field: {\n            keydown: function(event) {\n              var\n                $field       = $(this),\n                key          = event.which,\n                isInput      = $field.is(selector.input),\n                isCheckbox   = $field.is(selector.checkbox),\n                isInDropdown = ($field.closest(selector.uiDropdown).length > 0),\n                keyCode      = {\n                  enter  : 13,\n                  escape : 27\n                }\n              ;\n              if( key == keyCode.escape) {\n                module.verbose('Escape key pressed blurring field');\n                $field\n                  .blur()\n                ;\n              }\n              if(!event.ctrlKey && key == keyCode.enter && isInput && !isInDropdown && !isCheckbox) {\n                if(!keyHeldDown) {\n                  $field\n                    .one('keyup' + eventNamespace, module.event.field.keyup)\n                  ;\n                  module.submit();\n                  module.debug('Enter pressed on input submitting form');\n                }\n                keyHeldDown = true;\n              }\n            },\n            keyup: function() {\n              keyHeldDown = false;\n            },\n            blur: function(event) {\n              var\n                $field          = $(this),\n                $fieldGroup     = $field.closest($group),\n                validationRules = module.get.validation($field)\n              ;\n              if( $fieldGroup.hasClass(className.error) ) {\n                module.debug('Revalidating field', $field, validationRules);\n                if(validationRules) {\n                  module.validate.field( validationRules );\n                }\n              }\n              else if(settings.on == 'blur') {\n                if(validationRules) {\n                  module.validate.field( validationRules );\n                }\n              }\n            },\n            change: function(event) {\n              var\n                $field      = $(this),\n                $fieldGroup = $field.closest($group),\n                validationRules = module.get.validation($field)\n              ;\n              if(validationRules && (settings.on == 'change' || ( $fieldGroup.hasClass(className.error) && settings.revalidate) )) {\n                clearTimeout(module.timer);\n                module.timer = setTimeout(function() {\n                  module.debug('Revalidating field', $field,  module.get.validation($field));\n                  module.validate.field( validationRules );\n                }, settings.delay);\n              }\n            }\n          }\n\n        },\n\n        get: {\n          ancillaryValue: function(rule) {\n            if(!rule.type || (!rule.value && !module.is.bracketedRule(rule))) {\n              return false;\n            }\n            return (rule.value !== undefined)\n              ? rule.value\n              : rule.type.match(settings.regExp.bracket)[1] + ''\n            ;\n          },\n          ruleName: function(rule) {\n            if( module.is.bracketedRule(rule) ) {\n              return rule.type.replace(rule.type.match(settings.regExp.bracket)[0], '');\n            }\n            return rule.type;\n          },\n          changeEvent: function(type, $input) {\n            if(type == 'checkbox' || type == 'radio' || type == 'hidden' || $input.is('select')) {\n              return 'change';\n            }\n            else {\n              return module.get.inputEvent();\n            }\n          },\n          inputEvent: function() {\n            return (document.createElement('input').oninput !== undefined)\n              ? 'input'\n              : (document.createElement('input').onpropertychange !== undefined)\n                ? 'propertychange'\n                : 'keyup'\n            ;\n          },\n          fieldsFromShorthand: function(fields) {\n            var\n              fullFields = {}\n            ;\n            $.each(fields, function(name, rules) {\n              if(typeof rules == 'string') {\n                rules = [rules];\n              }\n              fullFields[name] = {\n                rules: []\n              };\n              $.each(rules, function(index, rule) {\n                fullFields[name].rules.push({ type: rule });\n              });\n            });\n            return fullFields;\n          },\n          prompt: function(rule, field) {\n            var\n              ruleName      = module.get.ruleName(rule),\n              ancillary     = module.get.ancillaryValue(rule),\n              $field        = module.get.field(field.identifier),\n              value         = $field.val(),\n              prompt        = $.isFunction(rule.prompt)\n                ? rule.prompt(value)\n                : rule.prompt || settings.prompt[ruleName] || settings.text.unspecifiedRule,\n              requiresValue = (prompt.search('{value}') !== -1),\n              requiresName  = (prompt.search('{name}') !== -1),\n              $label,\n              name\n            ;\n            if(requiresValue) {\n              prompt = prompt.replace('{value}', $field.val());\n            }\n            if(requiresName) {\n              $label = $field.closest(selector.group).find('label').eq(0);\n              name = ($label.length == 1)\n                ? $label.text()\n                : $field.prop('placeholder') || settings.text.unspecifiedField\n              ;\n              prompt = prompt.replace('{name}', name);\n            }\n            prompt = prompt.replace('{identifier}', field.identifier);\n            prompt = prompt.replace('{ruleValue}', ancillary);\n            if(!rule.prompt) {\n              module.verbose('Using default validation prompt for type', prompt, ruleName);\n            }\n            return prompt;\n          },\n          settings: function() {\n            if($.isPlainObject(parameters)) {\n              var\n                keys     = Object.keys(parameters),\n                isLegacySettings = (keys.length > 0)\n                  ? (parameters[keys[0]].identifier !== undefined && parameters[keys[0]].rules !== undefined)\n                  : false,\n                ruleKeys\n              ;\n              if(isLegacySettings) {\n                // 1.x (ducktyped)\n                settings   = $.extend(true, {}, $.fn.form.settings, legacyParameters);\n                validation = $.extend({}, $.fn.form.settings.defaults, parameters);\n                module.error(settings.error.oldSyntax, element);\n                module.verbose('Extending settings from legacy parameters', validation, settings);\n              }\n              else {\n                // 2.x\n                if(parameters.fields && module.is.shorthandFields(parameters.fields)) {\n                  parameters.fields = module.get.fieldsFromShorthand(parameters.fields);\n                }\n                settings   = $.extend(true, {}, $.fn.form.settings, parameters);\n                validation = $.extend({}, $.fn.form.settings.defaults, settings.fields);\n                module.verbose('Extending settings', validation, settings);\n              }\n            }\n            else {\n              settings   = $.fn.form.settings;\n              validation = $.fn.form.settings.defaults;\n              module.verbose('Using default form validation', validation, settings);\n            }\n\n            // shorthand\n            namespace       = settings.namespace;\n            metadata        = settings.metadata;\n            selector        = settings.selector;\n            className       = settings.className;\n            regExp          = settings.regExp;\n            error           = settings.error;\n            moduleNamespace = 'module-' + namespace;\n            eventNamespace  = '.' + namespace;\n\n            // grab instance\n            instance = $module.data(moduleNamespace);\n\n            // refresh selector cache\n            module.refresh();\n          },\n          field: function(identifier) {\n            module.verbose('Finding field with identifier', identifier);\n            identifier = module.escape.string(identifier);\n            if($field.filter('#' + identifier).length > 0 ) {\n              return $field.filter('#' + identifier);\n            }\n            else if( $field.filter('[name=\"' + identifier +'\"]').length > 0 ) {\n              return $field.filter('[name=\"' + identifier +'\"]');\n            }\n            else if( $field.filter('[name=\"' + identifier +'[]\"]').length > 0 ) {\n              return $field.filter('[name=\"' + identifier +'[]\"]');\n            }\n            else if( $field.filter('[data-' + metadata.validate + '=\"'+ identifier +'\"]').length > 0 ) {\n              return $field.filter('[data-' + metadata.validate + '=\"'+ identifier +'\"]');\n            }\n            return $('<input/>');\n          },\n          fields: function(fields) {\n            var\n              $fields = $()\n            ;\n            $.each(fields, function(index, name) {\n              $fields = $fields.add( module.get.field(name) );\n            });\n            return $fields;\n          },\n          validation: function($field) {\n            var\n              fieldValidation,\n              identifier\n            ;\n            if(!validation) {\n              return false;\n            }\n            $.each(validation, function(fieldName, field) {\n              identifier = field.identifier || fieldName;\n              if( module.get.field(identifier)[0] == $field[0] ) {\n                field.identifier = identifier;\n                fieldValidation = field;\n              }\n            });\n            return fieldValidation || false;\n          },\n          value: function (field) {\n            var\n              fields = [],\n              results\n            ;\n            fields.push(field);\n            results = module.get.values.call(element, fields);\n            return results[field];\n          },\n          values: function (fields) {\n            var\n              $fields = $.isArray(fields)\n                ? module.get.fields(fields)\n                : $field,\n              values = {}\n            ;\n            $fields.each(function(index, field) {\n              var\n                $field     = $(field),\n                type       = $field.prop('type'),\n                name       = $field.prop('name'),\n                value      = $field.val(),\n                isCheckbox = $field.is(selector.checkbox),\n                isRadio    = $field.is(selector.radio),\n                isMultiple = (name.indexOf('[]') !== -1),\n                isChecked  = (isCheckbox)\n                  ? $field.is(':checked')\n                  : false\n              ;\n              if(name) {\n                if(isMultiple) {\n                  name = name.replace('[]', '');\n                  if(!values[name]) {\n                    values[name] = [];\n                  }\n                  if(isCheckbox) {\n                    if(isChecked) {\n                      values[name].push(value || true);\n                    }\n                    else {\n                      values[name].push(false);\n                    }\n                  }\n                  else {\n                    values[name].push(value);\n                  }\n                }\n                else {\n                  if(isRadio) {\n                    if(values[name] === undefined || values[name] == false) {\n                      values[name] = (isChecked)\n                        ? value || true\n                        : false\n                      ;\n                    }\n                  }\n                  else if(isCheckbox) {\n                    if(isChecked) {\n                      values[name] = value || true;\n                    }\n                    else {\n                      values[name] = false;\n                    }\n                  }\n                  else {\n                    values[name] = value;\n                  }\n                }\n              }\n            });\n            return values;\n          }\n        },\n\n        has: {\n\n          field: function(identifier) {\n            module.verbose('Checking for existence of a field with identifier', identifier);\n            identifier = module.escape.string(identifier);\n            if(typeof identifier !== 'string') {\n              module.error(error.identifier, identifier);\n            }\n            if($field.filter('#' + identifier).length > 0 ) {\n              return true;\n            }\n            else if( $field.filter('[name=\"' + identifier +'\"]').length > 0 ) {\n              return true;\n            }\n            else if( $field.filter('[data-' + metadata.validate + '=\"'+ identifier +'\"]').length > 0 ) {\n              return true;\n            }\n            return false;\n          }\n\n        },\n\n        escape: {\n          string: function(text) {\n            text =  String(text);\n            return text.replace(regExp.escape, '\\\\$&');\n          }\n        },\n\n        add: {\n          // alias\n          rule: function(name, rules) {\n            module.add.field(name, rules);\n          },\n          field: function(name, rules) {\n            var\n              newValidation = {}\n            ;\n            if(module.is.shorthandRules(rules)) {\n              rules = $.isArray(rules)\n                ? rules\n                : [rules]\n              ;\n              newValidation[name] = {\n                rules: []\n              };\n              $.each(rules, function(index, rule) {\n                newValidation[name].rules.push({ type: rule });\n              });\n            }\n            else {\n              newValidation[name] = rules;\n            }\n            validation = $.extend({}, validation, newValidation);\n            module.debug('Adding rules', newValidation, validation);\n          },\n          fields: function(fields) {\n            var\n              newValidation\n            ;\n            if(fields && module.is.shorthandFields(fields)) {\n              newValidation = module.get.fieldsFromShorthand(fields);\n            }\n            else {\n              newValidation = fields;\n            }\n            validation = $.extend({}, validation, newValidation);\n          },\n          prompt: function(identifier, errors) {\n            var\n              $field       = module.get.field(identifier),\n              $fieldGroup  = $field.closest($group),\n              $prompt      = $fieldGroup.children(selector.prompt),\n              promptExists = ($prompt.length !== 0)\n            ;\n            errors = (typeof errors == 'string')\n              ? [errors]\n              : errors\n            ;\n            module.verbose('Adding field error state', identifier);\n            $fieldGroup\n              .addClass(className.error)\n            ;\n            if(settings.inline) {\n              if(!promptExists) {\n                $prompt = settings.templates.prompt(errors);\n                $prompt\n                  .appendTo($fieldGroup)\n                ;\n              }\n              $prompt\n                .html(errors[0])\n              ;\n              if(!promptExists) {\n                if(settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n                  module.verbose('Displaying error with css transition', settings.transition);\n                  $prompt.transition(settings.transition + ' in', settings.duration);\n                }\n                else {\n                  module.verbose('Displaying error with fallback javascript animation');\n                  $prompt\n                    .fadeIn(settings.duration)\n                  ;\n                }\n              }\n              else {\n                module.verbose('Inline errors are disabled, no inline error added', identifier);\n              }\n            }\n          },\n          errors: function(errors) {\n            module.debug('Adding form error messages', errors);\n            module.set.error();\n            $message\n              .html( settings.templates.error(errors) )\n            ;\n          }\n        },\n\n        remove: {\n          rule: function(field, rule) {\n            var\n              rules = $.isArray(rule)\n                ? rule\n                : [rule]\n            ;\n            if(rule == undefined) {\n              module.debug('Removed all rules');\n              validation[field].rules = [];\n              return;\n            }\n            if(validation[field] == undefined || !$.isArray(validation[field].rules)) {\n              return;\n            }\n            $.each(validation[field].rules, function(index, rule) {\n              if(rules.indexOf(rule.type) !== -1) {\n                module.debug('Removed rule', rule.type);\n                validation[field].rules.splice(index, 1);\n              }\n            });\n          },\n          field: function(field) {\n            var\n              fields = $.isArray(field)\n                ? field\n                : [field]\n            ;\n            $.each(fields, function(index, field) {\n              module.remove.rule(field);\n            });\n          },\n          // alias\n          rules: function(field, rules) {\n            if($.isArray(field)) {\n              $.each(fields, function(index, field) {\n                module.remove.rule(field, rules);\n              });\n            }\n            else {\n              module.remove.rule(field, rules);\n            }\n          },\n          fields: function(fields) {\n            module.remove.field(fields);\n          },\n          prompt: function(identifier) {\n            var\n              $field      = module.get.field(identifier),\n              $fieldGroup = $field.closest($group),\n              $prompt     = $fieldGroup.children(selector.prompt)\n            ;\n            $fieldGroup\n              .removeClass(className.error)\n            ;\n            if(settings.inline && $prompt.is(':visible')) {\n              module.verbose('Removing prompt for field', identifier);\n              if(settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n                $prompt.transition(settings.transition + ' out', settings.duration, function() {\n                  $prompt.remove();\n                });\n              }\n              else {\n                $prompt\n                  .fadeOut(settings.duration, function(){\n                    $prompt.remove();\n                  })\n                ;\n              }\n            }\n          }\n        },\n\n        set: {\n          success: function() {\n            $module\n              .removeClass(className.error)\n              .addClass(className.success)\n            ;\n          },\n          defaults: function () {\n            $field\n              .each(function () {\n                var\n                  $field     = $(this),\n                  isCheckbox = ($field.filter(selector.checkbox).length > 0),\n                  value      = (isCheckbox)\n                    ? $field.is(':checked')\n                    : $field.val()\n                ;\n                $field.data(metadata.defaultValue, value);\n              })\n            ;\n          },\n          error: function() {\n            $module\n              .removeClass(className.success)\n              .addClass(className.error)\n            ;\n          },\n          value: function (field, value) {\n            var\n              fields = {}\n            ;\n            fields[field] = value;\n            return module.set.values.call(element, fields);\n          },\n          values: function (fields) {\n            if($.isEmptyObject(fields)) {\n              return;\n            }\n            $.each(fields, function(key, value) {\n              var\n                $field      = module.get.field(key),\n                $element    = $field.parent(),\n                isMultiple  = $.isArray(value),\n                isCheckbox  = $element.is(selector.uiCheckbox),\n                isDropdown  = $element.is(selector.uiDropdown),\n                isRadio     = ($field.is(selector.radio) && isCheckbox),\n                fieldExists = ($field.length > 0),\n                $multipleField\n              ;\n              if(fieldExists) {\n                if(isMultiple && isCheckbox) {\n                  module.verbose('Selecting multiple', value, $field);\n                  $element.checkbox('uncheck');\n                  $.each(value, function(index, value) {\n                    $multipleField = $field.filter('[value=\"' + value + '\"]');\n                    $element       = $multipleField.parent();\n                    if($multipleField.length > 0) {\n                      $element.checkbox('check');\n                    }\n                  });\n                }\n                else if(isRadio) {\n                  module.verbose('Selecting radio value', value, $field);\n                  $field.filter('[value=\"' + value + '\"]')\n                    .parent(selector.uiCheckbox)\n                      .checkbox('check')\n                  ;\n                }\n                else if(isCheckbox) {\n                  module.verbose('Setting checkbox value', value, $element);\n                  if(value === true) {\n                    $element.checkbox('check');\n                  }\n                  else {\n                    $element.checkbox('uncheck');\n                  }\n                }\n                else if(isDropdown) {\n                  module.verbose('Setting dropdown value', value, $element);\n                  $element.dropdown('set selected', value);\n                }\n                else {\n                  module.verbose('Setting field value', value, $field);\n                  $field.val(value);\n                }\n              }\n            });\n          }\n        },\n\n        validate: {\n\n          form: function(event, ignoreCallbacks) {\n            var\n              values = module.get.values(),\n              apiRequest\n            ;\n\n            // input keydown event will fire submit repeatedly by browser default\n            if(keyHeldDown) {\n              return false;\n            }\n\n            // reset errors\n            formErrors = [];\n            if( module.determine.isValid() ) {\n              module.debug('Form has no validation errors, submitting');\n              module.set.success();\n              if(ignoreCallbacks !== true) {\n                return settings.onSuccess.call(element, event, values);\n              }\n            }\n            else {\n              module.debug('Form has errors');\n              module.set.error();\n              if(!settings.inline) {\n                module.add.errors(formErrors);\n              }\n              // prevent ajax submit\n              if($module.data('moduleApi') !== undefined) {\n                event.stopImmediatePropagation();\n              }\n              if(ignoreCallbacks !== true) {\n                return settings.onFailure.call(element, formErrors, values);\n              }\n            }\n          },\n\n          // takes a validation object and returns whether field passes validation\n          field: function(field, fieldName, showErrors) {\n            showErrors = (showErrors !== undefined)\n              ? showErrors\n              : true\n            ;\n            if(typeof field == 'string') {\n              module.verbose('Validating field', field);\n              fieldName = field;\n              field     = validation[field];\n            }\n            var\n              identifier    = field.identifier || fieldName,\n              $field        = module.get.field(identifier),\n              $dependsField = (field.depends)\n                ? module.get.field(field.depends)\n                : false,\n              fieldValid  = true,\n              fieldErrors = []\n            ;\n            if(!field.identifier) {\n              module.debug('Using field name as identifier', identifier);\n              field.identifier = identifier;\n            }\n            if($field.prop('disabled')) {\n              module.debug('Field is disabled. Skipping', identifier);\n              fieldValid = true;\n            }\n            else if(field.optional && module.is.blank($field)){\n              module.debug('Field is optional and blank. Skipping', identifier);\n              fieldValid = true;\n            }\n            else if(field.depends && module.is.empty($dependsField)) {\n              module.debug('Field depends on another value that is not present or empty. Skipping', $dependsField);\n              fieldValid = true;\n            }\n            else if(field.rules !== undefined) {\n              $.each(field.rules, function(index, rule) {\n                if( module.has.field(identifier) && !( module.validate.rule(field, rule) ) ) {\n                  module.debug('Field is invalid', identifier, rule.type);\n                  fieldErrors.push(module.get.prompt(rule, field));\n                  fieldValid = false;\n                }\n              });\n            }\n            if(fieldValid) {\n              if(showErrors) {\n                module.remove.prompt(identifier, fieldErrors);\n                settings.onValid.call($field);\n              }\n            }\n            else {\n              if(showErrors) {\n                formErrors = formErrors.concat(fieldErrors);\n                module.add.prompt(identifier, fieldErrors);\n                settings.onInvalid.call($field, fieldErrors);\n              }\n              return false;\n            }\n            return true;\n          },\n\n          // takes validation rule and returns whether field passes rule\n          rule: function(field, rule) {\n            var\n              $field       = module.get.field(field.identifier),\n              type         = rule.type,\n              value        = $field.val(),\n              isValid      = true,\n              ancillary    = module.get.ancillaryValue(rule),\n              ruleName     = module.get.ruleName(rule),\n              ruleFunction = settings.rules[ruleName]\n            ;\n            if( !$.isFunction(ruleFunction) ) {\n              module.error(error.noRule, ruleName);\n              return;\n            }\n            // cast to string avoiding encoding special values\n            value = (value === undefined || value === '' || value === null)\n              ? ''\n              : $.trim(value + '')\n            ;\n            return ruleFunction.call($field, value, ancillary);\n          }\n        },\n\n        setting: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            settings[name] = value;\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                return false;\n              }\n            });\n          }\n          if( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n      module.initialize();\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.form.settings = {\n\n  name              : 'Form',\n  namespace         : 'form',\n\n  debug             : false,\n  verbose           : false,\n  performance       : true,\n\n  fields            : false,\n\n  keyboardShortcuts : true,\n  on                : 'submit',\n  inline            : false,\n\n  delay             : 200,\n  revalidate        : true,\n\n  transition        : 'scale',\n  duration          : 200,\n\n  onValid           : function() {},\n  onInvalid         : function() {},\n  onSuccess         : function() { return true; },\n  onFailure         : function() { return false; },\n\n  metadata : {\n    defaultValue : 'default',\n    validate     : 'validate'\n  },\n\n  regExp: {\n    htmlID  : /^[a-zA-Z][\\w:.-]*$/g,\n    bracket : /\\[(.*)\\]/i,\n    decimal : /^\\d+\\.?\\d*$/,\n    email   : /^[a-z0-9!#$%&'*+\\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,\n    escape  : /[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g,\n    flags   : /^\\/(.*)\\/(.*)?/,\n    integer : /^\\-?\\d+$/,\n    number  : /^\\-?\\d*(\\.\\d+)?$/,\n    url     : /(https?:\\/\\/(?:www\\.|(?!www))[^\\s\\.]+\\.[^\\s]{2,}|www\\.[^\\s]+\\.[^\\s]{2,})/i\n  },\n\n  text: {\n    unspecifiedRule  : 'Please enter a valid value',\n    unspecifiedField : 'This field'\n  },\n\n  prompt: {\n    empty                : '{name} must have a value',\n    checked              : '{name} must be checked',\n    email                : '{name} must be a valid e-mail',\n    url                  : '{name} must be a valid url',\n    regExp               : '{name} is not formatted correctly',\n    integer              : '{name} must be an integer',\n    decimal              : '{name} must be a decimal number',\n    number               : '{name} must be set to a number',\n    is                   : '{name} must be \"{ruleValue}\"',\n    isExactly            : '{name} must be exactly \"{ruleValue}\"',\n    not                  : '{name} cannot be set to \"{ruleValue}\"',\n    notExactly           : '{name} cannot be set to exactly \"{ruleValue}\"',\n    contain              : '{name} must contain \"{ruleValue}\"',\n    containExactly       : '{name} must contain exactly \"{ruleValue}\"',\n    doesntContain        : '{name} cannot contain  \"{ruleValue}\"',\n    doesntContainExactly : '{name} cannot contain exactly \"{ruleValue}\"',\n    minLength            : '{name} must be at least {ruleValue} characters',\n    length               : '{name} must be at least {ruleValue} characters',\n    exactLength          : '{name} must be exactly {ruleValue} characters',\n    maxLength            : '{name} cannot be longer than {ruleValue} characters',\n    match                : '{name} must match {ruleValue} field',\n    different            : '{name} must have a different value than {ruleValue} field',\n    creditCard           : '{name} must be a valid credit card number',\n    minCount             : '{name} must have at least {ruleValue} choices',\n    exactCount           : '{name} must have exactly {ruleValue} choices',\n    maxCount             : '{name} must have {ruleValue} or less choices'\n  },\n\n  selector : {\n    checkbox   : 'input[type=\"checkbox\"], input[type=\"radio\"]',\n    clear      : '.clear',\n    field      : 'input, textarea, select',\n    group      : '.field',\n    input      : 'input',\n    message    : '.error.message',\n    prompt     : '.prompt.label',\n    radio      : 'input[type=\"radio\"]',\n    reset      : '.reset:not([type=\"reset\"])',\n    submit     : '.submit:not([type=\"submit\"])',\n    uiCheckbox : '.ui.checkbox',\n    uiDropdown : '.ui.dropdown'\n  },\n\n  className : {\n    error   : 'error',\n    label   : 'ui prompt label',\n    pressed : 'down',\n    success : 'success'\n  },\n\n  error: {\n    identifier : 'You must specify a string identifier for each field',\n    method     : 'The method you called is not defined.',\n    noRule     : 'There is no rule matching the one you specified',\n    oldSyntax  : 'Starting in 2.0 forms now only take a single settings object. Validation settings converted to new syntax automatically.'\n  },\n\n  templates: {\n\n    // template that produces error message\n    error: function(errors) {\n      var\n        html = '<ul class=\"list\">'\n      ;\n      $.each(errors, function(index, value) {\n        html += '<li>' + value + '</li>';\n      });\n      html += '</ul>';\n      return $(html);\n    },\n\n    // template that produces label\n    prompt: function(errors) {\n      return $('<div/>')\n        .addClass('ui basic red pointing prompt label')\n        .html(errors[0])\n      ;\n    }\n  },\n\n  rules: {\n\n    // is not empty or blank string\n    empty: function(value) {\n      return !(value === undefined || '' === value || $.isArray(value) && value.length === 0);\n    },\n\n    // checkbox checked\n    checked: function() {\n      return ($(this).filter(':checked').length > 0);\n    },\n\n    // is most likely an email\n    email: function(value){\n      return $.fn.form.settings.regExp.email.test(value);\n    },\n\n    // value is most likely url\n    url: function(value) {\n      return $.fn.form.settings.regExp.url.test(value);\n    },\n\n    // matches specified regExp\n    regExp: function(value, regExp) {\n      if(regExp instanceof RegExp) {\n        return value.match(regExp);\n      }\n      var\n        regExpParts = regExp.match($.fn.form.settings.regExp.flags),\n        flags\n      ;\n      // regular expression specified as /baz/gi (flags)\n      if(regExpParts) {\n        regExp = (regExpParts.length >= 2)\n          ? regExpParts[1]\n          : regExp\n        ;\n        flags = (regExpParts.length >= 3)\n          ? regExpParts[2]\n          : ''\n        ;\n      }\n      return value.match( new RegExp(regExp, flags) );\n    },\n\n    // is valid integer or matches range\n    integer: function(value, range) {\n      var\n        intRegExp = $.fn.form.settings.regExp.integer,\n        min,\n        max,\n        parts\n      ;\n      if( !range || ['', '..'].indexOf(range) !== -1) {\n        // do nothing\n      }\n      else if(range.indexOf('..') == -1) {\n        if(intRegExp.test(range)) {\n          min = max = range - 0;\n        }\n      }\n      else {\n        parts = range.split('..', 2);\n        if(intRegExp.test(parts[0])) {\n          min = parts[0] - 0;\n        }\n        if(intRegExp.test(parts[1])) {\n          max = parts[1] - 0;\n        }\n      }\n      return (\n        intRegExp.test(value) &&\n        (min === undefined || value >= min) &&\n        (max === undefined || value <= max)\n      );\n    },\n\n    // is valid number (with decimal)\n    decimal: function(value) {\n      return $.fn.form.settings.regExp.decimal.test(value);\n    },\n\n    // is valid number\n    number: function(value) {\n      return $.fn.form.settings.regExp.number.test(value);\n    },\n\n    // is value (case insensitive)\n    is: function(value, text) {\n      text = (typeof text == 'string')\n        ? text.toLowerCase()\n        : text\n      ;\n      value = (typeof value == 'string')\n        ? value.toLowerCase()\n        : value\n      ;\n      return (value == text);\n    },\n\n    // is value\n    isExactly: function(value, text) {\n      return (value == text);\n    },\n\n    // value is not another value (case insensitive)\n    not: function(value, notValue) {\n      value = (typeof value == 'string')\n        ? value.toLowerCase()\n        : value\n      ;\n      notValue = (typeof notValue == 'string')\n        ? notValue.toLowerCase()\n        : notValue\n      ;\n      return (value != notValue);\n    },\n\n    // value is not another value (case sensitive)\n    notExactly: function(value, notValue) {\n      return (value != notValue);\n    },\n\n    // value contains text (insensitive)\n    contains: function(value, text) {\n      // escape regex characters\n      text = text.replace($.fn.form.settings.regExp.escape, \"\\\\$&\");\n      return (value.search( new RegExp(text, 'i') ) !== -1);\n    },\n\n    // value contains text (case sensitive)\n    containsExactly: function(value, text) {\n      // escape regex characters\n      text = text.replace($.fn.form.settings.regExp.escape, \"\\\\$&\");\n      return (value.search( new RegExp(text) ) !== -1);\n    },\n\n    // value contains text (insensitive)\n    doesntContain: function(value, text) {\n      // escape regex characters\n      text = text.replace($.fn.form.settings.regExp.escape, \"\\\\$&\");\n      return (value.search( new RegExp(text, 'i') ) === -1);\n    },\n\n    // value contains text (case sensitive)\n    doesntContainExactly: function(value, text) {\n      // escape regex characters\n      text = text.replace($.fn.form.settings.regExp.escape, \"\\\\$&\");\n      return (value.search( new RegExp(text) ) === -1);\n    },\n\n    // is at least string length\n    minLength: function(value, requiredLength) {\n      return (value !== undefined)\n        ? (value.length >= requiredLength)\n        : false\n      ;\n    },\n\n    // see rls notes for 2.0.6 (this is a duplicate of minLength)\n    length: function(value, requiredLength) {\n      return (value !== undefined)\n        ? (value.length >= requiredLength)\n        : false\n      ;\n    },\n\n    // is exactly length\n    exactLength: function(value, requiredLength) {\n      return (value !== undefined)\n        ? (value.length == requiredLength)\n        : false\n      ;\n    },\n\n    // is less than length\n    maxLength: function(value, maxLength) {\n      return (value !== undefined)\n        ? (value.length <= maxLength)\n        : false\n      ;\n    },\n\n    // matches another field\n    match: function(value, identifier) {\n      var\n        $form = $(this),\n        matchingValue\n      ;\n      if( $('[data-validate=\"'+ identifier +'\"]').length > 0 ) {\n        matchingValue = $('[data-validate=\"'+ identifier +'\"]').val();\n      }\n      else if($('#' + identifier).length > 0) {\n        matchingValue = $('#' + identifier).val();\n      }\n      else if($('[name=\"' + identifier +'\"]').length > 0) {\n        matchingValue = $('[name=\"' + identifier + '\"]').val();\n      }\n      else if( $('[name=\"' + identifier +'[]\"]').length > 0 ) {\n        matchingValue = $('[name=\"' + identifier +'[]\"]');\n      }\n      return (matchingValue !== undefined)\n        ? ( value.toString() == matchingValue.toString() )\n        : false\n      ;\n    },\n\n    // different than another field\n    different: function(value, identifier) {\n      // use either id or name of field\n      var\n        $form = $(this),\n        matchingValue\n      ;\n      if( $('[data-validate=\"'+ identifier +'\"]').length > 0 ) {\n        matchingValue = $('[data-validate=\"'+ identifier +'\"]').val();\n      }\n      else if($('#' + identifier).length > 0) {\n        matchingValue = $('#' + identifier).val();\n      }\n      else if($('[name=\"' + identifier +'\"]').length > 0) {\n        matchingValue = $('[name=\"' + identifier + '\"]').val();\n      }\n      else if( $('[name=\"' + identifier +'[]\"]').length > 0 ) {\n        matchingValue = $('[name=\"' + identifier +'[]\"]');\n      }\n      return (matchingValue !== undefined)\n        ? ( value.toString() !== matchingValue.toString() )\n        : false\n      ;\n    },\n\n    creditCard: function(cardNumber, cardTypes) {\n      var\n        cards = {\n          visa: {\n            pattern : /^4/,\n            length  : [16]\n          },\n          amex: {\n            pattern : /^3[47]/,\n            length  : [15]\n          },\n          mastercard: {\n            pattern : /^5[1-5]/,\n            length  : [16]\n          },\n          discover: {\n            pattern : /^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,\n            length  : [16]\n          },\n          unionPay: {\n            pattern : /^(62|88)/,\n            length  : [16, 17, 18, 19]\n          },\n          jcb: {\n            pattern : /^35(2[89]|[3-8][0-9])/,\n            length  : [16]\n          },\n          maestro: {\n            pattern : /^(5018|5020|5038|6304|6759|676[1-3])/,\n            length  : [12, 13, 14, 15, 16, 17, 18, 19]\n          },\n          dinersClub: {\n            pattern : /^(30[0-5]|^36)/,\n            length  : [14]\n          },\n          laser: {\n            pattern : /^(6304|670[69]|6771)/,\n            length  : [16, 17, 18, 19]\n          },\n          visaElectron: {\n            pattern : /^(4026|417500|4508|4844|491(3|7))/,\n            length  : [16]\n          }\n        },\n        valid         = {},\n        validCard     = false,\n        requiredTypes = (typeof cardTypes == 'string')\n          ? cardTypes.split(',')\n          : false,\n        unionPay,\n        validation\n      ;\n\n      if(typeof cardNumber !== 'string' || cardNumber.length === 0) {\n        return;\n      }\n\n      // allow dashes in card\n      cardNumber = cardNumber.replace(/[\\-]/g, '');\n\n      // verify card types\n      if(requiredTypes) {\n        $.each(requiredTypes, function(index, type){\n          // verify each card type\n          validation = cards[type];\n          if(validation) {\n            valid = {\n              length  : ($.inArray(cardNumber.length, validation.length) !== -1),\n              pattern : (cardNumber.search(validation.pattern) !== -1)\n            };\n            if(valid.length && valid.pattern) {\n              validCard = true;\n            }\n          }\n        });\n\n        if(!validCard) {\n          return false;\n        }\n      }\n\n      // skip luhn for UnionPay\n      unionPay = {\n        number  : ($.inArray(cardNumber.length, cards.unionPay.length) !== -1),\n        pattern : (cardNumber.search(cards.unionPay.pattern) !== -1)\n      };\n      if(unionPay.number && unionPay.pattern) {\n        return true;\n      }\n\n      // verify luhn, adapted from  <https://gist.github.com/2134376>\n      var\n        length        = cardNumber.length,\n        multiple      = 0,\n        producedValue = [\n          [0, 1, 2, 3, 4, 5, 6, 7, 8, 9],\n          [0, 2, 4, 6, 8, 1, 3, 5, 7, 9]\n        ],\n        sum           = 0\n      ;\n      while (length--) {\n        sum += producedValue[multiple][parseInt(cardNumber.charAt(length), 10)];\n        multiple ^= 1;\n      }\n      return (sum % 10 === 0 && sum > 0);\n    },\n\n    minCount: function(value, minCount) {\n      if(minCount == 0) {\n        return true;\n      }\n      if(minCount == 1) {\n        return (value !== '');\n      }\n      return (value.split(',').length >= minCount);\n    },\n\n    exactCount: function(value, exactCount) {\n      if(exactCount == 0) {\n        return (value === '');\n      }\n      if(exactCount == 1) {\n        return (value !== '' && value.search(',') === -1);\n      }\n      return (value.split(',').length == exactCount);\n    },\n\n    maxCount: function(value, maxCount) {\n      if(maxCount == 0) {\n        return false;\n      }\n      if(maxCount == 1) {\n        return (value.search(',') === -1);\n      }\n      return (value.split(',').length <= maxCount);\n    }\n  }\n\n};\n\n})( jQuery, window, document );\n","/*!\n * # Semantic UI - Visibility\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.visibility = function(parameters) {\n  var\n    $allModules    = $(this),\n    moduleSelector = $allModules.selector || '',\n\n    time           = new Date().getTime(),\n    performance    = [],\n\n    query          = arguments[0],\n    methodInvoked  = (typeof query == 'string'),\n    queryArguments = [].slice.call(arguments, 1),\n    returnedValue,\n\n    moduleCount    = $allModules.length,\n    loadedCount    = 0\n  ;\n\n  $allModules\n    .each(function() {\n      var\n        settings        = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.visibility.settings, parameters)\n          : $.extend({}, $.fn.visibility.settings),\n\n        className       = settings.className,\n        namespace       = settings.namespace,\n        error           = settings.error,\n        metadata        = settings.metadata,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n\n        $window         = $(window),\n\n        $module         = $(this),\n        $context        = $(settings.context),\n\n        $placeholder,\n\n        selector        = $module.selector || '',\n        instance        = $module.data(moduleNamespace),\n\n        requestAnimationFrame = window.requestAnimationFrame\n          || window.mozRequestAnimationFrame\n          || window.webkitRequestAnimationFrame\n          || window.msRequestAnimationFrame\n          || function(callback) { setTimeout(callback, 0); },\n\n        element         = this,\n        disabled        = false,\n\n        contextObserver,\n        observer,\n        module\n      ;\n\n      module = {\n\n        initialize: function() {\n          module.debug('Initializing', settings);\n\n          module.setup.cache();\n\n          if( module.should.trackChanges() ) {\n\n            if(settings.type == 'image') {\n              module.setup.image();\n            }\n            if(settings.type == 'fixed') {\n              module.setup.fixed();\n            }\n\n            if(settings.observeChanges) {\n              module.observeChanges();\n            }\n            module.bind.events();\n          }\n\n          module.save.position();\n          if( !module.is.visible() ) {\n            module.error(error.visible, $module);\n          }\n\n          if(settings.initialCheck) {\n            module.checkVisibility();\n          }\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.debug('Storing instance', module);\n          $module\n            .data(moduleNamespace, module)\n          ;\n          instance = module;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous module');\n          if(observer) {\n            observer.disconnect();\n          }\n          if(contextObserver) {\n            contextObserver.disconnect();\n          }\n          $window\n            .off('load'   + eventNamespace, module.event.load)\n            .off('resize' + eventNamespace, module.event.resize)\n          ;\n          $context\n            .off('scroll'       + eventNamespace, module.event.scroll)\n            .off('scrollchange' + eventNamespace, module.event.scrollchange)\n          ;\n          if(settings.type == 'fixed') {\n            module.resetFixed();\n            module.remove.placeholder();\n          }\n          $module\n            .off(eventNamespace)\n            .removeData(moduleNamespace)\n          ;\n        },\n\n        observeChanges: function() {\n          if('MutationObserver' in window) {\n            contextObserver = new MutationObserver(module.event.contextChanged);\n            observer        = new MutationObserver(module.event.changed);\n            contextObserver.observe(document, {\n              childList : true,\n              subtree   : true\n            });\n            observer.observe(element, {\n              childList : true,\n              subtree   : true\n            });\n            module.debug('Setting up mutation observer', observer);\n          }\n        },\n\n        bind: {\n          events: function() {\n            module.verbose('Binding visibility events to scroll and resize');\n            if(settings.refreshOnLoad) {\n              $window\n                .on('load'   + eventNamespace, module.event.load)\n              ;\n            }\n            $window\n              .on('resize' + eventNamespace, module.event.resize)\n            ;\n            // pub/sub pattern\n            $context\n              .off('scroll'      + eventNamespace)\n              .on('scroll'       + eventNamespace, module.event.scroll)\n              .on('scrollchange' + eventNamespace, module.event.scrollchange)\n            ;\n          }\n        },\n\n        event: {\n          changed: function(mutations) {\n            module.verbose('DOM tree modified, updating visibility calculations');\n            module.timer = setTimeout(function() {\n              module.verbose('DOM tree modified, updating sticky menu');\n              module.refresh();\n            }, 100);\n          },\n          contextChanged: function(mutations) {\n            [].forEach.call(mutations, function(mutation) {\n              if(mutation.removedNodes) {\n                [].forEach.call(mutation.removedNodes, function(node) {\n                  if(node == element || $(node).find(element).length > 0) {\n                    module.debug('Element removed from DOM, tearing down events');\n                    module.destroy();\n                  }\n                });\n              }\n            });\n          },\n          resize: function() {\n            module.debug('Window resized');\n            if(settings.refreshOnResize) {\n              requestAnimationFrame(module.refresh);\n            }\n          },\n          load: function() {\n            module.debug('Page finished loading');\n            requestAnimationFrame(module.refresh);\n          },\n          // publishes scrollchange event on one scroll\n          scroll: function() {\n            if(settings.throttle) {\n              clearTimeout(module.timer);\n              module.timer = setTimeout(function() {\n                $context.triggerHandler('scrollchange' + eventNamespace, [ $context.scrollTop() ]);\n              }, settings.throttle);\n            }\n            else {\n              requestAnimationFrame(function() {\n                $context.triggerHandler('scrollchange' + eventNamespace, [ $context.scrollTop() ]);\n              });\n            }\n          },\n          // subscribes to scrollchange\n          scrollchange: function(event, scrollPosition) {\n            module.checkVisibility(scrollPosition);\n          },\n        },\n\n        precache: function(images, callback) {\n          if (!(images instanceof Array)) {\n            images = [images];\n          }\n          var\n            imagesLength  = images.length,\n            loadedCounter = 0,\n            cache         = [],\n            cacheImage    = document.createElement('img'),\n            handleLoad    = function() {\n              loadedCounter++;\n              if (loadedCounter >= images.length) {\n                if ($.isFunction(callback)) {\n                  callback();\n                }\n              }\n            }\n          ;\n          while (imagesLength--) {\n            cacheImage         = document.createElement('img');\n            cacheImage.onload  = handleLoad;\n            cacheImage.onerror = handleLoad;\n            cacheImage.src     = images[imagesLength];\n            cache.push(cacheImage);\n          }\n        },\n\n        enableCallbacks: function() {\n          module.debug('Allowing callbacks to occur');\n          disabled = false;\n        },\n\n        disableCallbacks: function() {\n          module.debug('Disabling all callbacks temporarily');\n          disabled = true;\n        },\n\n        should: {\n          trackChanges: function() {\n            if(methodInvoked) {\n              module.debug('One time query, no need to bind events');\n              return false;\n            }\n            module.debug('Callbacks being attached');\n            return true;\n          }\n        },\n\n        setup: {\n          cache: function() {\n            module.cache = {\n              occurred : {},\n              screen   : {},\n              element  : {},\n            };\n          },\n          image: function() {\n            var\n              src = $module.data(metadata.src)\n            ;\n            if(src) {\n              module.verbose('Lazy loading image', src);\n              settings.once           = true;\n              settings.observeChanges = false;\n\n              // show when top visible\n              settings.onOnScreen = function() {\n                module.debug('Image on screen', element);\n                module.precache(src, function() {\n                  module.set.image(src, function() {\n                    loadedCount++;\n                    if(loadedCount == moduleCount) {\n                      settings.onAllLoaded.call(this);\n                    }\n                    settings.onLoad.call(this);\n                  });\n                });\n              };\n            }\n          },\n          fixed: function() {\n            module.debug('Setting up fixed');\n            settings.once           = false;\n            settings.observeChanges = false;\n            settings.initialCheck   = true;\n            settings.refreshOnLoad  = true;\n            if(!parameters.transition) {\n              settings.transition = false;\n            }\n            module.create.placeholder();\n            module.debug('Added placeholder', $placeholder);\n            settings.onTopPassed = function() {\n              module.debug('Element passed, adding fixed position', $module);\n              module.show.placeholder();\n              module.set.fixed();\n              if(settings.transition) {\n                if($.fn.transition !== undefined) {\n                  $module.transition(settings.transition, settings.duration);\n                }\n              }\n            };\n            settings.onTopPassedReverse = function() {\n              module.debug('Element returned to position, removing fixed', $module);\n              module.hide.placeholder();\n              module.remove.fixed();\n            };\n          }\n        },\n\n        create: {\n          placeholder: function() {\n            module.verbose('Creating fixed position placeholder');\n            $placeholder = $module\n              .clone(false)\n              .css('display', 'none')\n              .addClass(className.placeholder)\n              .insertAfter($module)\n            ;\n          }\n        },\n\n        show: {\n          placeholder: function() {\n            module.verbose('Showing placeholder');\n            $placeholder\n              .css('display', 'block')\n              .css('visibility', 'hidden')\n            ;\n          }\n        },\n        hide: {\n          placeholder: function() {\n            module.verbose('Hiding placeholder');\n            $placeholder\n              .css('display', 'none')\n              .css('visibility', '')\n            ;\n          }\n        },\n\n        set: {\n          fixed: function() {\n            module.verbose('Setting element to fixed position');\n            $module\n              .addClass(className.fixed)\n              .css({\n                position : 'fixed',\n                top      : settings.offset + 'px',\n                left     : 'auto',\n                zIndex   : settings.zIndex\n              })\n            ;\n            settings.onFixed.call(element);\n          },\n          image: function(src, callback) {\n            $module\n              .attr('src', src)\n            ;\n            if(settings.transition) {\n              if( $.fn.transition !== undefined) {\n                if($module.hasClass(className.visible)) {\n                  module.debug('Transition already occurred on this image, skipping animation');\n                  return;\n                }\n                $module.transition(settings.transition, settings.duration, callback);\n              }\n              else {\n                $module.fadeIn(settings.duration, callback);\n              }\n            }\n            else {\n              $module.show();\n            }\n          }\n        },\n\n        is: {\n          onScreen: function() {\n            var\n              calculations   = module.get.elementCalculations()\n            ;\n            return calculations.onScreen;\n          },\n          offScreen: function() {\n            var\n              calculations   = module.get.elementCalculations()\n            ;\n            return calculations.offScreen;\n          },\n          visible: function() {\n            if(module.cache && module.cache.element) {\n              return !(module.cache.element.width === 0 && module.cache.element.offset.top === 0);\n            }\n            return false;\n          },\n          verticallyScrollableContext: function() {\n            var\n              overflowY = ($context.get(0) !== window)\n                ? $context.css('overflow-y')\n                : false\n            ;\n            return (overflowY == 'auto' || overflowY == 'scroll');\n          },\n          horizontallyScrollableContext: function() {\n            var\n              overflowX = ($context.get(0) !== window)\n                ? $context.css('overflow-x')\n                : false\n            ;\n            return (overflowX == 'auto' || overflowX == 'scroll');\n          }\n        },\n\n        refresh: function() {\n          module.debug('Refreshing constants (width/height)');\n          if(settings.type == 'fixed') {\n            module.resetFixed();\n          }\n          module.reset();\n          module.save.position();\n          if(settings.checkOnRefresh) {\n            module.checkVisibility();\n          }\n          settings.onRefresh.call(element);\n        },\n\n        resetFixed: function () {\n          module.remove.fixed();\n          module.remove.occurred();\n        },\n\n        reset: function() {\n          module.verbose('Resetting all cached values');\n          if( $.isPlainObject(module.cache) ) {\n            module.cache.screen = {};\n            module.cache.element = {};\n          }\n        },\n\n        checkVisibility: function(scroll) {\n          module.verbose('Checking visibility of element', module.cache.element);\n\n          if( !disabled && module.is.visible() ) {\n\n            // save scroll position\n            module.save.scroll(scroll);\n\n            // update calculations derived from scroll\n            module.save.calculations();\n\n            // percentage\n            module.passed();\n\n            // reverse (must be first)\n            module.passingReverse();\n            module.topVisibleReverse();\n            module.bottomVisibleReverse();\n            module.topPassedReverse();\n            module.bottomPassedReverse();\n\n            // one time\n            module.onScreen();\n            module.offScreen();\n            module.passing();\n            module.topVisible();\n            module.bottomVisible();\n            module.topPassed();\n            module.bottomPassed();\n\n            // on update callback\n            if(settings.onUpdate) {\n              settings.onUpdate.call(element, module.get.elementCalculations());\n            }\n          }\n        },\n\n        passed: function(amount, newCallback) {\n          var\n            calculations   = module.get.elementCalculations(),\n            amountInPixels\n          ;\n          // assign callback\n          if(amount && newCallback) {\n            settings.onPassed[amount] = newCallback;\n          }\n          else if(amount !== undefined) {\n            return (module.get.pixelsPassed(amount) > calculations.pixelsPassed);\n          }\n          else if(calculations.passing) {\n            $.each(settings.onPassed, function(amount, callback) {\n              if(calculations.bottomVisible || calculations.pixelsPassed > module.get.pixelsPassed(amount)) {\n                module.execute(callback, amount);\n              }\n              else if(!settings.once) {\n                module.remove.occurred(callback);\n              }\n            });\n          }\n        },\n\n        onScreen: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onOnScreen,\n            callbackName = 'onScreen'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for onScreen', newCallback);\n            settings.onOnScreen = newCallback;\n          }\n          if(calculations.onScreen) {\n            module.execute(callback, callbackName);\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback !== undefined) {\n            return calculations.onOnScreen;\n          }\n        },\n\n        offScreen: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onOffScreen,\n            callbackName = 'offScreen'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for offScreen', newCallback);\n            settings.onOffScreen = newCallback;\n          }\n          if(calculations.offScreen) {\n            module.execute(callback, callbackName);\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback !== undefined) {\n            return calculations.onOffScreen;\n          }\n        },\n\n        passing: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onPassing,\n            callbackName = 'passing'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for passing', newCallback);\n            settings.onPassing = newCallback;\n          }\n          if(calculations.passing) {\n            module.execute(callback, callbackName);\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback !== undefined) {\n            return calculations.passing;\n          }\n        },\n\n\n        topVisible: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onTopVisible,\n            callbackName = 'topVisible'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for top visible', newCallback);\n            settings.onTopVisible = newCallback;\n          }\n          if(calculations.topVisible) {\n            module.execute(callback, callbackName);\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback === undefined) {\n            return calculations.topVisible;\n          }\n        },\n\n        bottomVisible: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onBottomVisible,\n            callbackName = 'bottomVisible'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for bottom visible', newCallback);\n            settings.onBottomVisible = newCallback;\n          }\n          if(calculations.bottomVisible) {\n            module.execute(callback, callbackName);\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback === undefined) {\n            return calculations.bottomVisible;\n          }\n        },\n\n        topPassed: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onTopPassed,\n            callbackName = 'topPassed'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for top passed', newCallback);\n            settings.onTopPassed = newCallback;\n          }\n          if(calculations.topPassed) {\n            module.execute(callback, callbackName);\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback === undefined) {\n            return calculations.topPassed;\n          }\n        },\n\n        bottomPassed: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onBottomPassed,\n            callbackName = 'bottomPassed'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for bottom passed', newCallback);\n            settings.onBottomPassed = newCallback;\n          }\n          if(calculations.bottomPassed) {\n            module.execute(callback, callbackName);\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback === undefined) {\n            return calculations.bottomPassed;\n          }\n        },\n\n        passingReverse: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onPassingReverse,\n            callbackName = 'passingReverse'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for passing reverse', newCallback);\n            settings.onPassingReverse = newCallback;\n          }\n          if(!calculations.passing) {\n            if(module.get.occurred('passing')) {\n              module.execute(callback, callbackName);\n            }\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback !== undefined) {\n            return !calculations.passing;\n          }\n        },\n\n\n        topVisibleReverse: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onTopVisibleReverse,\n            callbackName = 'topVisibleReverse'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for top visible reverse', newCallback);\n            settings.onTopVisibleReverse = newCallback;\n          }\n          if(!calculations.topVisible) {\n            if(module.get.occurred('topVisible')) {\n              module.execute(callback, callbackName);\n            }\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback === undefined) {\n            return !calculations.topVisible;\n          }\n        },\n\n        bottomVisibleReverse: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onBottomVisibleReverse,\n            callbackName = 'bottomVisibleReverse'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for bottom visible reverse', newCallback);\n            settings.onBottomVisibleReverse = newCallback;\n          }\n          if(!calculations.bottomVisible) {\n            if(module.get.occurred('bottomVisible')) {\n              module.execute(callback, callbackName);\n            }\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback === undefined) {\n            return !calculations.bottomVisible;\n          }\n        },\n\n        topPassedReverse: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onTopPassedReverse,\n            callbackName = 'topPassedReverse'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for top passed reverse', newCallback);\n            settings.onTopPassedReverse = newCallback;\n          }\n          if(!calculations.topPassed) {\n            if(module.get.occurred('topPassed')) {\n              module.execute(callback, callbackName);\n            }\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback === undefined) {\n            return !calculations.onTopPassed;\n          }\n        },\n\n        bottomPassedReverse: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onBottomPassedReverse,\n            callbackName = 'bottomPassedReverse'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for bottom passed reverse', newCallback);\n            settings.onBottomPassedReverse = newCallback;\n          }\n          if(!calculations.bottomPassed) {\n            if(module.get.occurred('bottomPassed')) {\n              module.execute(callback, callbackName);\n            }\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback === undefined) {\n            return !calculations.bottomPassed;\n          }\n        },\n\n        execute: function(callback, callbackName) {\n          var\n            calculations = module.get.elementCalculations(),\n            screen       = module.get.screenCalculations()\n          ;\n          callback = callback || false;\n          if(callback) {\n            if(settings.continuous) {\n              module.debug('Callback being called continuously', callbackName, calculations);\n              callback.call(element, calculations, screen);\n            }\n            else if(!module.get.occurred(callbackName)) {\n              module.debug('Conditions met', callbackName, calculations);\n              callback.call(element, calculations, screen);\n            }\n          }\n          module.save.occurred(callbackName);\n        },\n\n        remove: {\n          fixed: function() {\n            module.debug('Removing fixed position');\n            $module\n              .removeClass(className.fixed)\n              .css({\n                position : '',\n                top      : '',\n                left     : '',\n                zIndex   : ''\n              })\n            ;\n            settings.onUnfixed.call(element);\n          },\n          placeholder: function() {\n            module.debug('Removing placeholder content');\n            if($placeholder) {\n              $placeholder.remove();\n            }\n          },\n          occurred: function(callback) {\n            if(callback) {\n              var\n                occurred = module.cache.occurred\n              ;\n              if(occurred[callback] !== undefined && occurred[callback] === true) {\n                module.debug('Callback can now be called again', callback);\n                module.cache.occurred[callback] = false;\n              }\n            }\n            else {\n              module.cache.occurred = {};\n            }\n          }\n        },\n\n        save: {\n          calculations: function() {\n            module.verbose('Saving all calculations necessary to determine positioning');\n            module.save.direction();\n            module.save.screenCalculations();\n            module.save.elementCalculations();\n          },\n          occurred: function(callback) {\n            if(callback) {\n              if(module.cache.occurred[callback] === undefined || (module.cache.occurred[callback] !== true)) {\n                module.verbose('Saving callback occurred', callback);\n                module.cache.occurred[callback] = true;\n              }\n            }\n          },\n          scroll: function(scrollPosition) {\n            scrollPosition      = scrollPosition + settings.offset || $context.scrollTop() + settings.offset;\n            module.cache.scroll = scrollPosition;\n          },\n          direction: function() {\n            var\n              scroll     = module.get.scroll(),\n              lastScroll = module.get.lastScroll(),\n              direction\n            ;\n            if(scroll > lastScroll && lastScroll) {\n              direction = 'down';\n            }\n            else if(scroll < lastScroll && lastScroll) {\n              direction = 'up';\n            }\n            else {\n              direction = 'static';\n            }\n            module.cache.direction = direction;\n            return module.cache.direction;\n          },\n          elementPosition: function() {\n            var\n              element = module.cache.element,\n              screen  = module.get.screenSize()\n            ;\n            module.verbose('Saving element position');\n            // (quicker than $.extend)\n            element.fits          = (element.height < screen.height);\n            element.offset        = $module.offset();\n            element.width         = $module.outerWidth();\n            element.height        = $module.outerHeight();\n            // compensate for scroll in context\n            if(module.is.verticallyScrollableContext()) {\n              element.offset.top += $context.scrollTop() - $context.offset().top;\n            }\n            if(module.is.horizontallyScrollableContext()) {\n              element.offset.left += $context.scrollLeft - $context.offset().left;\n            }\n            // store\n            module.cache.element = element;\n            return element;\n          },\n          elementCalculations: function() {\n            var\n              screen     = module.get.screenCalculations(),\n              element    = module.get.elementPosition()\n            ;\n            // offset\n            if(settings.includeMargin) {\n              element.margin        = {};\n              element.margin.top    = parseInt($module.css('margin-top'), 10);\n              element.margin.bottom = parseInt($module.css('margin-bottom'), 10);\n              element.top    = element.offset.top - element.margin.top;\n              element.bottom = element.offset.top + element.height + element.margin.bottom;\n            }\n            else {\n              element.top    = element.offset.top;\n              element.bottom = element.offset.top + element.height;\n            }\n\n            // visibility\n            element.topPassed        = (screen.top >= element.top);\n            element.bottomPassed     = (screen.top >= element.bottom);\n            element.topVisible       = (screen.bottom >= element.top) && !element.topPassed;\n            element.bottomVisible    = (screen.bottom >= element.bottom) && !element.bottomPassed;\n            element.pixelsPassed     = 0;\n            element.percentagePassed = 0;\n\n            // meta calculations\n            element.onScreen  = ((element.topVisible || element.passing) && !element.bottomPassed);\n            element.passing   = (element.topPassed && !element.bottomPassed);\n            element.offScreen = (!element.onScreen);\n\n            // passing calculations\n            if(element.passing) {\n              element.pixelsPassed     = (screen.top - element.top);\n              element.percentagePassed = (screen.top - element.top) / element.height;\n            }\n            module.cache.element = element;\n            module.verbose('Updated element calculations', element);\n            return element;\n          },\n          screenCalculations: function() {\n            var\n              scroll = module.get.scroll()\n            ;\n            module.save.direction();\n            module.cache.screen.top    = scroll;\n            module.cache.screen.bottom = scroll + module.cache.screen.height;\n            return module.cache.screen;\n          },\n          screenSize: function() {\n            module.verbose('Saving window position');\n            module.cache.screen = {\n              height: $context.height()\n            };\n          },\n          position: function() {\n            module.save.screenSize();\n            module.save.elementPosition();\n          }\n        },\n\n        get: {\n          pixelsPassed: function(amount) {\n            var\n              element = module.get.elementCalculations()\n            ;\n            if(amount.search('%') > -1) {\n              return ( element.height * (parseInt(amount, 10) / 100) );\n            }\n            return parseInt(amount, 10);\n          },\n          occurred: function(callback) {\n            return (module.cache.occurred !== undefined)\n              ? module.cache.occurred[callback] || false\n              : false\n            ;\n          },\n          direction: function() {\n            if(module.cache.direction === undefined) {\n              module.save.direction();\n            }\n            return module.cache.direction;\n          },\n          elementPosition: function() {\n            if(module.cache.element === undefined) {\n              module.save.elementPosition();\n            }\n            return module.cache.element;\n          },\n          elementCalculations: function() {\n            if(module.cache.element === undefined) {\n              module.save.elementCalculations();\n            }\n            return module.cache.element;\n          },\n          screenCalculations: function() {\n            if(module.cache.screen === undefined) {\n              module.save.screenCalculations();\n            }\n            return module.cache.screen;\n          },\n          screenSize: function() {\n            if(module.cache.screen === undefined) {\n              module.save.screenSize();\n            }\n            return module.cache.screen;\n          },\n          scroll: function() {\n            if(module.cache.scroll === undefined) {\n              module.save.scroll();\n            }\n            return module.cache.scroll;\n          },\n          lastScroll: function() {\n            if(module.cache.screen === undefined) {\n              module.debug('First scroll event, no last scroll could be found');\n              return false;\n            }\n            return module.cache.screen.top;\n          }\n        },\n\n        setting: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            settings[name] = value;\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        instance.save.scroll();\n        instance.save.calculations();\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.visibility.settings = {\n\n  name                   : 'Visibility',\n  namespace              : 'visibility',\n\n  debug                  : false,\n  verbose                : false,\n  performance            : true,\n\n  // whether to use mutation observers to follow changes\n  observeChanges         : true,\n\n  // check position immediately on init\n  initialCheck           : true,\n\n  // whether to refresh calculations after all page images load\n  refreshOnLoad          : true,\n\n  // whether to refresh calculations after page resize event\n  refreshOnResize        : true,\n\n  // should call callbacks on refresh event (resize, etc)\n  checkOnRefresh         : true,\n\n  // callback should only occur one time\n  once                   : true,\n\n  // callback should fire continuously whe evaluates to true\n  continuous             : false,\n\n  // offset to use with scroll top\n  offset                 : 0,\n\n  // whether to include margin in elements position\n  includeMargin          : false,\n\n  // scroll context for visibility checks\n  context                : window,\n\n  // visibility check delay in ms (defaults to animationFrame)\n  throttle               : false,\n\n  // special visibility type (image, fixed)\n  type                   : false,\n\n  // z-index to use with visibility 'fixed'\n  zIndex                 : '10',\n\n  // image only animation settings\n  transition             : 'fade in',\n  duration               : 1000,\n\n  // array of callbacks for percentage\n  onPassed               : {},\n\n  // standard callbacks\n  onOnScreen             : false,\n  onOffScreen            : false,\n  onPassing              : false,\n  onTopVisible           : false,\n  onBottomVisible        : false,\n  onTopPassed            : false,\n  onBottomPassed         : false,\n\n  // reverse callbacks\n  onPassingReverse       : false,\n  onTopVisibleReverse    : false,\n  onBottomVisibleReverse : false,\n  onTopPassedReverse     : false,\n  onBottomPassedReverse  : false,\n\n  // special callbacks for image\n  onLoad                 : function() {},\n  onAllLoaded            : function() {},\n\n  // special callbacks for fixed position\n  onFixed                : function() {},\n  onUnfixed              : function() {},\n\n  // utility callbacks\n  onUpdate               : false, // disabled by default for performance\n  onRefresh              : function(){},\n\n  metadata : {\n    src: 'src'\n  },\n\n  className: {\n    fixed       : 'fixed',\n    placeholder : 'placeholder',\n    visible     : 'visible'\n  },\n\n  error : {\n    method  : 'The method you called is not defined.',\n    visible : 'Element is hidden, you must call refresh after element becomes visible'\n  }\n\n};\n\n})( jQuery, window, document );\n","/*!\n * # Semantic UI - Site\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n$.site = $.fn.site = function(parameters) {\n  var\n    time           = new Date().getTime(),\n    performance    = [],\n\n    query          = arguments[0],\n    methodInvoked  = (typeof query == 'string'),\n    queryArguments = [].slice.call(arguments, 1),\n\n    settings        = ( $.isPlainObject(parameters) )\n      ? $.extend(true, {}, $.site.settings, parameters)\n      : $.extend({}, $.site.settings),\n\n    namespace       = settings.namespace,\n    error           = settings.error,\n\n    eventNamespace  = '.' + namespace,\n    moduleNamespace = 'module-' + namespace,\n\n    $document       = $(document),\n    $module         = $document,\n    element         = this,\n    instance        = $module.data(moduleNamespace),\n\n    module,\n    returnedValue\n  ;\n  module = {\n\n    initialize: function() {\n      module.instantiate();\n    },\n\n    instantiate: function() {\n      module.verbose('Storing instance of site', module);\n      instance = module;\n      $module\n        .data(moduleNamespace, module)\n      ;\n    },\n\n    normalize: function() {\n      module.fix.console();\n      module.fix.requestAnimationFrame();\n    },\n\n    fix: {\n      console: function() {\n        module.debug('Normalizing window.console');\n        if (console === undefined || console.log === undefined) {\n          module.verbose('Console not available, normalizing events');\n          module.disable.console();\n        }\n        if (typeof console.group == 'undefined' || typeof console.groupEnd == 'undefined' || typeof console.groupCollapsed == 'undefined') {\n          module.verbose('Console group not available, normalizing events');\n          window.console.group = function() {};\n          window.console.groupEnd = function() {};\n          window.console.groupCollapsed = function() {};\n        }\n        if (typeof console.markTimeline == 'undefined') {\n          module.verbose('Mark timeline not available, normalizing events');\n          window.console.markTimeline = function() {};\n        }\n      },\n      consoleClear: function() {\n        module.debug('Disabling programmatic console clearing');\n        window.console.clear = function() {};\n      },\n      requestAnimationFrame: function() {\n        module.debug('Normalizing requestAnimationFrame');\n        if(window.requestAnimationFrame === undefined) {\n          module.debug('RequestAnimationFrame not available, normalizing event');\n          window.requestAnimationFrame = window.requestAnimationFrame\n            || window.mozRequestAnimationFrame\n            || window.webkitRequestAnimationFrame\n            || window.msRequestAnimationFrame\n            || function(callback) { setTimeout(callback, 0); }\n          ;\n        }\n      }\n    },\n\n    moduleExists: function(name) {\n      return ($.fn[name] !== undefined && $.fn[name].settings !== undefined);\n    },\n\n    enabled: {\n      modules: function(modules) {\n        var\n          enabledModules = []\n        ;\n        modules = modules || settings.modules;\n        $.each(modules, function(index, name) {\n          if(module.moduleExists(name)) {\n            enabledModules.push(name);\n          }\n        });\n        return enabledModules;\n      }\n    },\n\n    disabled: {\n      modules: function(modules) {\n        var\n          disabledModules = []\n        ;\n        modules = modules || settings.modules;\n        $.each(modules, function(index, name) {\n          if(!module.moduleExists(name)) {\n            disabledModules.push(name);\n          }\n        });\n        return disabledModules;\n      }\n    },\n\n    change: {\n      setting: function(setting, value, modules, modifyExisting) {\n        modules = (typeof modules === 'string')\n          ? (modules === 'all')\n            ? settings.modules\n            : [modules]\n          : modules || settings.modules\n        ;\n        modifyExisting = (modifyExisting !== undefined)\n          ? modifyExisting\n          : true\n        ;\n        $.each(modules, function(index, name) {\n          var\n            namespace = (module.moduleExists(name))\n              ? $.fn[name].settings.namespace || false\n              : true,\n            $existingModules\n          ;\n          if(module.moduleExists(name)) {\n            module.verbose('Changing default setting', setting, value, name);\n            $.fn[name].settings[setting] = value;\n            if(modifyExisting && namespace) {\n              $existingModules = $(':data(module-' + namespace + ')');\n              if($existingModules.length > 0) {\n                module.verbose('Modifying existing settings', $existingModules);\n                $existingModules[name]('setting', setting, value);\n              }\n            }\n          }\n        });\n      },\n      settings: function(newSettings, modules, modifyExisting) {\n        modules = (typeof modules === 'string')\n          ? [modules]\n          : modules || settings.modules\n        ;\n        modifyExisting = (modifyExisting !== undefined)\n          ? modifyExisting\n          : true\n        ;\n        $.each(modules, function(index, name) {\n          var\n            $existingModules\n          ;\n          if(module.moduleExists(name)) {\n            module.verbose('Changing default setting', newSettings, name);\n            $.extend(true, $.fn[name].settings, newSettings);\n            if(modifyExisting && namespace) {\n              $existingModules = $(':data(module-' + namespace + ')');\n              if($existingModules.length > 0) {\n                module.verbose('Modifying existing settings', $existingModules);\n                $existingModules[name]('setting', newSettings);\n              }\n            }\n          }\n        });\n      }\n    },\n\n    enable: {\n      console: function() {\n        module.console(true);\n      },\n      debug: function(modules, modifyExisting) {\n        modules = modules || settings.modules;\n        module.debug('Enabling debug for modules', modules);\n        module.change.setting('debug', true, modules, modifyExisting);\n      },\n      verbose: function(modules, modifyExisting) {\n        modules = modules || settings.modules;\n        module.debug('Enabling verbose debug for modules', modules);\n        module.change.setting('verbose', true, modules, modifyExisting);\n      }\n    },\n    disable: {\n      console: function() {\n        module.console(false);\n      },\n      debug: function(modules, modifyExisting) {\n        modules = modules || settings.modules;\n        module.debug('Disabling debug for modules', modules);\n        module.change.setting('debug', false, modules, modifyExisting);\n      },\n      verbose: function(modules, modifyExisting) {\n        modules = modules || settings.modules;\n        module.debug('Disabling verbose debug for modules', modules);\n        module.change.setting('verbose', false, modules, modifyExisting);\n      }\n    },\n\n    console: function(enable) {\n      if(enable) {\n        if(instance.cache.console === undefined) {\n          module.error(error.console);\n          return;\n        }\n        module.debug('Restoring console function');\n        window.console = instance.cache.console;\n      }\n      else {\n        module.debug('Disabling console function');\n        instance.cache.console = window.console;\n        window.console = {\n          clear          : function(){},\n          error          : function(){},\n          group          : function(){},\n          groupCollapsed : function(){},\n          groupEnd       : function(){},\n          info           : function(){},\n          log            : function(){},\n          markTimeline   : function(){},\n          warn           : function(){}\n        };\n      }\n    },\n\n    destroy: function() {\n      module.verbose('Destroying previous site for', $module);\n      $module\n        .removeData(moduleNamespace)\n      ;\n    },\n\n    cache: {},\n\n    setting: function(name, value) {\n      if( $.isPlainObject(name) ) {\n        $.extend(true, settings, name);\n      }\n      else if(value !== undefined) {\n        settings[name] = value;\n      }\n      else {\n        return settings[name];\n      }\n    },\n    internal: function(name, value) {\n      if( $.isPlainObject(name) ) {\n        $.extend(true, module, name);\n      }\n      else if(value !== undefined) {\n        module[name] = value;\n      }\n      else {\n        return module[name];\n      }\n    },\n    debug: function() {\n      if(settings.debug) {\n        if(settings.performance) {\n          module.performance.log(arguments);\n        }\n        else {\n          module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n          module.debug.apply(console, arguments);\n        }\n      }\n    },\n    verbose: function() {\n      if(settings.verbose && settings.debug) {\n        if(settings.performance) {\n          module.performance.log(arguments);\n        }\n        else {\n          module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n          module.verbose.apply(console, arguments);\n        }\n      }\n    },\n    error: function() {\n      module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n      module.error.apply(console, arguments);\n    },\n    performance: {\n      log: function(message) {\n        var\n          currentTime,\n          executionTime,\n          previousTime\n        ;\n        if(settings.performance) {\n          currentTime   = new Date().getTime();\n          previousTime  = time || currentTime;\n          executionTime = currentTime - previousTime;\n          time          = currentTime;\n          performance.push({\n            'Element'        : element,\n            'Name'           : message[0],\n            'Arguments'      : [].slice.call(message, 1) || '',\n            'Execution Time' : executionTime\n          });\n        }\n        clearTimeout(module.performance.timer);\n        module.performance.timer = setTimeout(module.performance.display, 500);\n      },\n      display: function() {\n        var\n          title = settings.name + ':',\n          totalTime = 0\n        ;\n        time = false;\n        clearTimeout(module.performance.timer);\n        $.each(performance, function(index, data) {\n          totalTime += data['Execution Time'];\n        });\n        title += ' ' + totalTime + 'ms';\n        if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n          console.groupCollapsed(title);\n          if(console.table) {\n            console.table(performance);\n          }\n          else {\n            $.each(performance, function(index, data) {\n              console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n            });\n          }\n          console.groupEnd();\n        }\n        performance = [];\n      }\n    },\n    invoke: function(query, passedArguments, context) {\n      var\n        object = instance,\n        maxDepth,\n        found,\n        response\n      ;\n      passedArguments = passedArguments || queryArguments;\n      context         = element         || context;\n      if(typeof query == 'string' && object !== undefined) {\n        query    = query.split(/[\\. ]/);\n        maxDepth = query.length - 1;\n        $.each(query, function(depth, value) {\n          var camelCaseValue = (depth != maxDepth)\n            ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n            : query\n          ;\n          if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n            object = object[camelCaseValue];\n          }\n          else if( object[camelCaseValue] !== undefined ) {\n            found = object[camelCaseValue];\n            return false;\n          }\n          else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n            object = object[value];\n          }\n          else if( object[value] !== undefined ) {\n            found = object[value];\n            return false;\n          }\n          else {\n            module.error(error.method, query);\n            return false;\n          }\n        });\n      }\n      if ( $.isFunction( found ) ) {\n        response = found.apply(context, passedArguments);\n      }\n      else if(found !== undefined) {\n        response = found;\n      }\n      if($.isArray(returnedValue)) {\n        returnedValue.push(response);\n      }\n      else if(returnedValue !== undefined) {\n        returnedValue = [returnedValue, response];\n      }\n      else if(response !== undefined) {\n        returnedValue = response;\n      }\n      return found;\n    }\n  };\n\n  if(methodInvoked) {\n    if(instance === undefined) {\n      module.initialize();\n    }\n    module.invoke(query);\n  }\n  else {\n    if(instance !== undefined) {\n      module.destroy();\n    }\n    module.initialize();\n  }\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.site.settings = {\n\n  name        : 'Site',\n  namespace   : 'site',\n\n  error : {\n    console : 'Console cannot be restored, most likely it was overwritten outside of module',\n    method : 'The method you called is not defined.'\n  },\n\n  debug       : false,\n  verbose     : false,\n  performance : true,\n\n  modules: [\n    'accordion',\n    'api',\n    'checkbox',\n    'dimmer',\n    'dropdown',\n    'embed',\n    'form',\n    'modal',\n    'nag',\n    'popup',\n    'rating',\n    'shape',\n    'sidebar',\n    'state',\n    'sticky',\n    'tab',\n    'transition',\n    'visit',\n    'visibility'\n  ],\n\n  siteNamespace   : 'site',\n  namespaceStub   : {\n    cache     : {},\n    config    : {},\n    sections  : {},\n    section   : {},\n    utilities : {}\n  }\n\n};\n\n// allows for selection of elements with data attributes\n$.extend($.expr[ \":\" ], {\n  data: ($.expr.createPseudo)\n    ? $.expr.createPseudo(function(dataName) {\n        return function(elem) {\n          return !!$.data(elem, dataName);\n        };\n      })\n    : function(elem, i, match) {\n      // support: jQuery < 1.8\n      return !!$.data(elem, match[ 3 ]);\n    }\n});\n\n\n})( jQuery, window, document );\n","/*!\n * # Semantic UI - Accordion\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.accordion = function(parameters) {\n  var\n    $allModules     = $(this),\n\n    time            = new Date().getTime(),\n    performance     = [],\n\n    query           = arguments[0],\n    methodInvoked   = (typeof query == 'string'),\n    queryArguments  = [].slice.call(arguments, 1),\n\n    requestAnimationFrame = window.requestAnimationFrame\n      || window.mozRequestAnimationFrame\n      || window.webkitRequestAnimationFrame\n      || window.msRequestAnimationFrame\n      || function(callback) { setTimeout(callback, 0); },\n\n    returnedValue\n  ;\n  $allModules\n    .each(function() {\n      var\n        settings        = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.accordion.settings, parameters)\n          : $.extend({}, $.fn.accordion.settings),\n\n        className       = settings.className,\n        namespace       = settings.namespace,\n        selector        = settings.selector,\n        error           = settings.error,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n        moduleSelector  = $allModules.selector || '',\n\n        $module  = $(this),\n        $title   = $module.find(selector.title),\n        $content = $module.find(selector.content),\n\n        element  = this,\n        instance = $module.data(moduleNamespace),\n        observer,\n        module\n      ;\n\n      module = {\n\n        initialize: function() {\n          module.debug('Initializing', $module);\n          module.bind.events();\n          if(settings.observeChanges) {\n            module.observeChanges();\n          }\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n\n        destroy: function() {\n          module.debug('Destroying previous instance', $module);\n          $module\n            .off(eventNamespace)\n            .removeData(moduleNamespace)\n          ;\n        },\n\n        refresh: function() {\n          $title   = $module.find(selector.title);\n          $content = $module.find(selector.content);\n        },\n\n        observeChanges: function() {\n          if('MutationObserver' in window) {\n            observer = new MutationObserver(function(mutations) {\n              module.debug('DOM tree modified, updating selector cache');\n              module.refresh();\n            });\n            observer.observe(element, {\n              childList : true,\n              subtree   : true\n            });\n            module.debug('Setting up mutation observer', observer);\n          }\n        },\n\n        bind: {\n          events: function() {\n            module.debug('Binding delegated events');\n            $module\n              .on(settings.on + eventNamespace, selector.trigger, module.event.click)\n            ;\n          }\n        },\n\n        event: {\n          click: function() {\n            module.toggle.call(this);\n          }\n        },\n\n        toggle: function(query) {\n          var\n            $activeTitle = (query !== undefined)\n              ? (typeof query === 'number')\n                ? $title.eq(query)\n                : $(query).closest(selector.title)\n              : $(this).closest(selector.title),\n            $activeContent = $activeTitle.next($content),\n            isAnimating = $activeContent.hasClass(className.animating),\n            isActive    = $activeContent.hasClass(className.active),\n            isOpen      = (isActive && !isAnimating),\n            isOpening   = (!isActive && isAnimating)\n          ;\n          module.debug('Toggling visibility of content', $activeTitle);\n          if(isOpen || isOpening) {\n            if(settings.collapsible) {\n              module.close.call($activeTitle);\n            }\n            else {\n              module.debug('Cannot close accordion content collapsing is disabled');\n            }\n          }\n          else {\n            module.open.call($activeTitle);\n          }\n        },\n\n        open: function(query) {\n          var\n            $activeTitle = (query !== undefined)\n              ? (typeof query === 'number')\n                ? $title.eq(query)\n                : $(query).closest(selector.title)\n              : $(this).closest(selector.title),\n            $activeContent = $activeTitle.next($content),\n            isAnimating = $activeContent.hasClass(className.animating),\n            isActive    = $activeContent.hasClass(className.active),\n            isOpen      = (isActive || isAnimating)\n          ;\n          if(isOpen) {\n            module.debug('Accordion already open, skipping', $activeContent);\n            return;\n          }\n          module.debug('Opening accordion content', $activeTitle);\n          settings.onOpening.call($activeContent);\n          settings.onChanging.call($activeContent);\n          if(settings.exclusive) {\n            module.closeOthers.call($activeTitle);\n          }\n          $activeTitle\n            .addClass(className.active)\n          ;\n          $activeContent\n            .stop(true, true)\n            .addClass(className.animating)\n          ;\n          if(settings.animateChildren) {\n            if($.fn.transition !== undefined && $module.transition('is supported')) {\n              $activeContent\n                .children()\n                  .transition({\n                    animation   : 'fade in',\n                    queue       : false,\n                    useFailSafe : true,\n                    debug       : settings.debug,\n                    verbose     : settings.verbose,\n                    duration    : settings.duration\n                  })\n              ;\n            }\n            else {\n              $activeContent\n                .children()\n                  .stop(true, true)\n                  .animate({\n                    opacity: 1\n                  }, settings.duration, module.resetOpacity)\n              ;\n            }\n          }\n          $activeContent\n            .slideDown(settings.duration, settings.easing, function() {\n              $activeContent\n                .removeClass(className.animating)\n                .addClass(className.active)\n              ;\n              module.reset.display.call(this);\n              settings.onOpen.call(this);\n              settings.onChange.call(this);\n            })\n          ;\n        },\n\n        close: function(query) {\n          var\n            $activeTitle = (query !== undefined)\n              ? (typeof query === 'number')\n                ? $title.eq(query)\n                : $(query).closest(selector.title)\n              : $(this).closest(selector.title),\n            $activeContent = $activeTitle.next($content),\n            isAnimating    = $activeContent.hasClass(className.animating),\n            isActive       = $activeContent.hasClass(className.active),\n            isOpening      = (!isActive && isAnimating),\n            isClosing      = (isActive && isAnimating)\n          ;\n          if((isActive || isOpening) && !isClosing) {\n            module.debug('Closing accordion content', $activeContent);\n            settings.onClosing.call($activeContent);\n            settings.onChanging.call($activeContent);\n            $activeTitle\n              .removeClass(className.active)\n            ;\n            $activeContent\n              .stop(true, true)\n              .addClass(className.animating)\n            ;\n            if(settings.animateChildren) {\n              if($.fn.transition !== undefined && $module.transition('is supported')) {\n                $activeContent\n                  .children()\n                    .transition({\n                      animation   : 'fade out',\n                      queue       : false,\n                      useFailSafe : true,\n                      debug       : settings.debug,\n                      verbose     : settings.verbose,\n                      duration    : settings.duration\n                    })\n                ;\n              }\n              else {\n                $activeContent\n                  .children()\n                    .stop(true, true)\n                    .animate({\n                      opacity: 0\n                    }, settings.duration, module.resetOpacity)\n                ;\n              }\n            }\n            $activeContent\n              .slideUp(settings.duration, settings.easing, function() {\n                $activeContent\n                  .removeClass(className.animating)\n                  .removeClass(className.active)\n                ;\n                module.reset.display.call(this);\n                settings.onClose.call(this);\n                settings.onChange.call(this);\n              })\n            ;\n          }\n        },\n\n        closeOthers: function(index) {\n          var\n            $activeTitle = (index !== undefined)\n              ? $title.eq(index)\n              : $(this).closest(selector.title),\n            $parentTitles    = $activeTitle.parents(selector.content).prev(selector.title),\n            $activeAccordion = $activeTitle.closest(selector.accordion),\n            activeSelector   = selector.title + '.' + className.active + ':visible',\n            activeContent    = selector.content + '.' + className.active + ':visible',\n            $openTitles,\n            $nestedTitles,\n            $openContents\n          ;\n          if(settings.closeNested) {\n            $openTitles   = $activeAccordion.find(activeSelector).not($parentTitles);\n            $openContents = $openTitles.next($content);\n          }\n          else {\n            $openTitles   = $activeAccordion.find(activeSelector).not($parentTitles);\n            $nestedTitles = $activeAccordion.find(activeContent).find(activeSelector).not($parentTitles);\n            $openTitles   = $openTitles.not($nestedTitles);\n            $openContents = $openTitles.next($content);\n          }\n          if( ($openTitles.length > 0) ) {\n            module.debug('Exclusive enabled, closing other content', $openTitles);\n            $openTitles\n              .removeClass(className.active)\n            ;\n            $openContents\n              .removeClass(className.animating)\n              .stop(true, true)\n            ;\n            if(settings.animateChildren) {\n              if($.fn.transition !== undefined && $module.transition('is supported')) {\n                $openContents\n                  .children()\n                    .transition({\n                      animation   : 'fade out',\n                      useFailSafe : true,\n                      debug       : settings.debug,\n                      verbose     : settings.verbose,\n                      duration    : settings.duration\n                    })\n                ;\n              }\n              else {\n                $openContents\n                  .children()\n                    .stop(true, true)\n                    .animate({\n                      opacity: 0\n                    }, settings.duration, module.resetOpacity)\n                ;\n              }\n            }\n            $openContents\n              .slideUp(settings.duration , settings.easing, function() {\n                $(this).removeClass(className.active);\n                module.reset.display.call(this);\n              })\n            ;\n          }\n        },\n\n        reset: {\n\n          display: function() {\n            module.verbose('Removing inline display from element', this);\n            $(this).css('display', '');\n            if( $(this).attr('style') === '') {\n              $(this)\n                .attr('style', '')\n                .removeAttr('style')\n              ;\n            }\n          },\n\n          opacity: function() {\n            module.verbose('Removing inline opacity from element', this);\n            $(this).css('opacity', '');\n            if( $(this).attr('style') === '') {\n              $(this)\n                .attr('style', '')\n                .removeAttr('style')\n              ;\n            }\n          },\n\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          module.debug('Changing internal', name, value);\n          if(value !== undefined) {\n            if( $.isPlainObject(name) ) {\n              $.extend(true, module, name);\n            }\n            else {\n              module[name] = value;\n            }\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.accordion.settings = {\n\n  name            : 'Accordion',\n  namespace       : 'accordion',\n\n  silent          : false,\n  debug           : false,\n  verbose         : false,\n  performance     : true,\n\n  on              : 'click', // event on title that opens accordion\n\n  observeChanges  : true,  // whether accordion should automatically refresh on DOM insertion\n\n  exclusive       : true,  // whether a single accordion content panel should be open at once\n  collapsible     : true,  // whether accordion content can be closed\n  closeNested     : false, // whether nested content should be closed when a panel is closed\n  animateChildren : true,  // whether children opacity should be animated\n\n  duration        : 350, // duration of animation\n  easing          : 'easeOutQuad', // easing equation for animation\n\n  onOpening       : function(){}, // callback before open animation\n  onClosing       : function(){}, // callback before closing animation\n  onChanging      : function(){}, // callback before closing or opening animation\n\n  onOpen          : function(){}, // callback after open animation\n  onClose         : function(){}, // callback after closing animation\n  onChange        : function(){}, // callback after closing or opening animation\n\n  error: {\n    method : 'The method you called is not defined'\n  },\n\n  className   : {\n    active    : 'active',\n    animating : 'animating'\n  },\n\n  selector    : {\n    accordion : '.accordion',\n    title     : '.title',\n    trigger   : '.title',\n    content   : '.content'\n  }\n\n};\n\n// Adds easing\n$.extend( $.easing, {\n  easeOutQuad: function (x, t, b, c, d) {\n    return -c *(t/=d)*(t-2) + b;\n  }\n});\n\n})( jQuery, window, document );\n\n","/*!\n * # Semantic UI - Checkbox\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.checkbox = function(parameters) {\n  var\n    $allModules    = $(this),\n    moduleSelector = $allModules.selector || '',\n\n    time           = new Date().getTime(),\n    performance    = [],\n\n    query          = arguments[0],\n    methodInvoked  = (typeof query == 'string'),\n    queryArguments = [].slice.call(arguments, 1),\n    returnedValue\n  ;\n\n  $allModules\n    .each(function() {\n      var\n        settings        = $.extend(true, {}, $.fn.checkbox.settings, parameters),\n\n        className       = settings.className,\n        namespace       = settings.namespace,\n        selector        = settings.selector,\n        error           = settings.error,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n\n        $module         = $(this),\n        $label          = $(this).children(selector.label),\n        $input          = $(this).children(selector.input),\n        input           = $input[0],\n\n        initialLoad     = false,\n        shortcutPressed = false,\n        instance        = $module.data(moduleNamespace),\n\n        observer,\n        element         = this,\n        module\n      ;\n\n      module      = {\n\n        initialize: function() {\n          module.verbose('Initializing checkbox', settings);\n\n          module.create.label();\n          module.bind.events();\n\n          module.set.tabbable();\n          module.hide.input();\n\n          module.observeChanges();\n          module.instantiate();\n          module.setup();\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying module');\n          module.unbind.events();\n          module.show.input();\n          $module.removeData(moduleNamespace);\n        },\n\n        fix: {\n          reference: function() {\n            if( $module.is(selector.input) ) {\n              module.debug('Behavior called on <input> adjusting invoked element');\n              $module = $module.closest(selector.checkbox);\n              module.refresh();\n            }\n          }\n        },\n\n        setup: function() {\n          module.set.initialLoad();\n          if( module.is.indeterminate() ) {\n            module.debug('Initial value is indeterminate');\n            module.indeterminate();\n          }\n          else if( module.is.checked() ) {\n            module.debug('Initial value is checked');\n            module.check();\n          }\n          else {\n            module.debug('Initial value is unchecked');\n            module.uncheck();\n          }\n          module.remove.initialLoad();\n        },\n\n        refresh: function() {\n          $label = $module.children(selector.label);\n          $input = $module.children(selector.input);\n          input  = $input[0];\n        },\n\n        hide: {\n          input: function() {\n            module.verbose('Modifying <input> z-index to be unselectable');\n            $input.addClass(className.hidden);\n          }\n        },\n        show: {\n          input: function() {\n            module.verbose('Modifying <input> z-index to be selectable');\n            $input.removeClass(className.hidden);\n          }\n        },\n\n        observeChanges: function() {\n          if('MutationObserver' in window) {\n            observer = new MutationObserver(function(mutations) {\n              module.debug('DOM tree modified, updating selector cache');\n              module.refresh();\n            });\n            observer.observe(element, {\n              childList : true,\n              subtree   : true\n            });\n            module.debug('Setting up mutation observer', observer);\n          }\n        },\n\n        attachEvents: function(selector, event) {\n          var\n            $element = $(selector)\n          ;\n          event = $.isFunction(module[event])\n            ? module[event]\n            : module.toggle\n          ;\n          if($element.length > 0) {\n            module.debug('Attaching checkbox events to element', selector, event);\n            $element\n              .on('click' + eventNamespace, event)\n            ;\n          }\n          else {\n            module.error(error.notFound);\n          }\n        },\n\n        event: {\n          click: function(event) {\n            var\n              $target = $(event.target)\n            ;\n            if( $target.is(selector.input) ) {\n              module.verbose('Using default check action on initialized checkbox');\n              return;\n            }\n            if( $target.is(selector.link) ) {\n              module.debug('Clicking link inside checkbox, skipping toggle');\n              return;\n            }\n            module.toggle();\n            $input.focus();\n            event.preventDefault();\n          },\n          keydown: function(event) {\n            var\n              key     = event.which,\n              keyCode = {\n                enter  : 13,\n                space  : 32,\n                escape : 27\n              }\n            ;\n            if(key == keyCode.escape) {\n              module.verbose('Escape key pressed blurring field');\n              $input.blur();\n              shortcutPressed = true;\n            }\n            else if(!event.ctrlKey && ( key == keyCode.space || key == keyCode.enter) ) {\n              module.verbose('Enter/space key pressed, toggling checkbox');\n              module.toggle();\n              shortcutPressed = true;\n            }\n            else {\n              shortcutPressed = false;\n            }\n          },\n          keyup: function(event) {\n            if(shortcutPressed) {\n              event.preventDefault();\n            }\n          }\n        },\n\n        check: function() {\n          if( !module.should.allowCheck() ) {\n            return;\n          }\n          module.debug('Checking checkbox', $input);\n          module.set.checked();\n          if( !module.should.ignoreCallbacks() ) {\n            settings.onChecked.call(input);\n            settings.onChange.call(input);\n          }\n        },\n\n        uncheck: function() {\n          if( !module.should.allowUncheck() ) {\n            return;\n          }\n          module.debug('Unchecking checkbox');\n          module.set.unchecked();\n          if( !module.should.ignoreCallbacks() ) {\n            settings.onUnchecked.call(input);\n            settings.onChange.call(input);\n          }\n        },\n\n        indeterminate: function() {\n          if( module.should.allowIndeterminate() ) {\n            module.debug('Checkbox is already indeterminate');\n            return;\n          }\n          module.debug('Making checkbox indeterminate');\n          module.set.indeterminate();\n          if( !module.should.ignoreCallbacks() ) {\n            settings.onIndeterminate.call(input);\n            settings.onChange.call(input);\n          }\n        },\n\n        determinate: function() {\n          if( module.should.allowDeterminate() ) {\n            module.debug('Checkbox is already determinate');\n            return;\n          }\n          module.debug('Making checkbox determinate');\n          module.set.determinate();\n          if( !module.should.ignoreCallbacks() ) {\n            settings.onDeterminate.call(input);\n            settings.onChange.call(input);\n          }\n        },\n\n        enable: function() {\n          if( module.is.enabled() ) {\n            module.debug('Checkbox is already enabled');\n            return;\n          }\n          module.debug('Enabling checkbox');\n          module.set.enabled();\n          settings.onEnable.call(input);\n          // preserve legacy callbacks\n          settings.onEnabled.call(input);\n        },\n\n        disable: function() {\n          if( module.is.disabled() ) {\n            module.debug('Checkbox is already disabled');\n            return;\n          }\n          module.debug('Disabling checkbox');\n          module.set.disabled();\n          settings.onDisable.call(input);\n          // preserve legacy callbacks\n          settings.onDisabled.call(input);\n        },\n\n        get: {\n          radios: function() {\n            var\n              name = module.get.name()\n            ;\n            return $('input[name=\"' + name + '\"]').closest(selector.checkbox);\n          },\n          otherRadios: function() {\n            return module.get.radios().not($module);\n          },\n          name: function() {\n            return $input.attr('name');\n          }\n        },\n\n        is: {\n          initialLoad: function() {\n            return initialLoad;\n          },\n          radio: function() {\n            return ($input.hasClass(className.radio) || $input.attr('type') == 'radio');\n          },\n          indeterminate: function() {\n            return $input.prop('indeterminate') !== undefined && $input.prop('indeterminate');\n          },\n          checked: function() {\n            return $input.prop('checked') !== undefined && $input.prop('checked');\n          },\n          disabled: function() {\n            return $input.prop('disabled') !== undefined && $input.prop('disabled');\n          },\n          enabled: function() {\n            return !module.is.disabled();\n          },\n          determinate: function() {\n            return !module.is.indeterminate();\n          },\n          unchecked: function() {\n            return !module.is.checked();\n          }\n        },\n\n        should: {\n          allowCheck: function() {\n            if(module.is.determinate() && module.is.checked() && !module.should.forceCallbacks() ) {\n              module.debug('Should not allow check, checkbox is already checked');\n              return false;\n            }\n            if(settings.beforeChecked.apply(input) === false) {\n              module.debug('Should not allow check, beforeChecked cancelled');\n              return false;\n            }\n            return true;\n          },\n          allowUncheck: function() {\n            if(module.is.determinate() && module.is.unchecked() && !module.should.forceCallbacks() ) {\n              module.debug('Should not allow uncheck, checkbox is already unchecked');\n              return false;\n            }\n            if(settings.beforeUnchecked.apply(input) === false) {\n              module.debug('Should not allow uncheck, beforeUnchecked cancelled');\n              return false;\n            }\n            return true;\n          },\n          allowIndeterminate: function() {\n            if(module.is.indeterminate() && !module.should.forceCallbacks() ) {\n              module.debug('Should not allow indeterminate, checkbox is already indeterminate');\n              return false;\n            }\n            if(settings.beforeIndeterminate.apply(input) === false) {\n              module.debug('Should not allow indeterminate, beforeIndeterminate cancelled');\n              return false;\n            }\n            return true;\n          },\n          allowDeterminate: function() {\n            if(module.is.determinate() && !module.should.forceCallbacks() ) {\n              module.debug('Should not allow determinate, checkbox is already determinate');\n              return false;\n            }\n            if(settings.beforeDeterminate.apply(input) === false) {\n              module.debug('Should not allow determinate, beforeDeterminate cancelled');\n              return false;\n            }\n            return true;\n          },\n          forceCallbacks: function() {\n            return (module.is.initialLoad() && settings.fireOnInit);\n          },\n          ignoreCallbacks: function() {\n            return (initialLoad && !settings.fireOnInit);\n          }\n        },\n\n        can: {\n          change: function() {\n            return !( $module.hasClass(className.disabled) || $module.hasClass(className.readOnly) || $input.prop('disabled') || $input.prop('readonly') );\n          },\n          uncheck: function() {\n            return (typeof settings.uncheckable === 'boolean')\n              ? settings.uncheckable\n              : !module.is.radio()\n            ;\n          }\n        },\n\n        set: {\n          initialLoad: function() {\n            initialLoad = true;\n          },\n          checked: function() {\n            module.verbose('Setting class to checked');\n            $module\n              .removeClass(className.indeterminate)\n              .addClass(className.checked)\n            ;\n            if( module.is.radio() ) {\n              module.uncheckOthers();\n            }\n            if(!module.is.indeterminate() && module.is.checked()) {\n              module.debug('Input is already checked, skipping input property change');\n              return;\n            }\n            module.verbose('Setting state to checked', input);\n            $input\n              .prop('indeterminate', false)\n              .prop('checked', true)\n            ;\n            module.trigger.change();\n          },\n          unchecked: function() {\n            module.verbose('Removing checked class');\n            $module\n              .removeClass(className.indeterminate)\n              .removeClass(className.checked)\n            ;\n            if(!module.is.indeterminate() &&  module.is.unchecked() ) {\n              module.debug('Input is already unchecked');\n              return;\n            }\n            module.debug('Setting state to unchecked');\n            $input\n              .prop('indeterminate', false)\n              .prop('checked', false)\n            ;\n            module.trigger.change();\n          },\n          indeterminate: function() {\n            module.verbose('Setting class to indeterminate');\n            $module\n              .addClass(className.indeterminate)\n            ;\n            if( module.is.indeterminate() ) {\n              module.debug('Input is already indeterminate, skipping input property change');\n              return;\n            }\n            module.debug('Setting state to indeterminate');\n            $input\n              .prop('indeterminate', true)\n            ;\n            module.trigger.change();\n          },\n          determinate: function() {\n            module.verbose('Removing indeterminate class');\n            $module\n              .removeClass(className.indeterminate)\n            ;\n            if( module.is.determinate() ) {\n              module.debug('Input is already determinate, skipping input property change');\n              return;\n            }\n            module.debug('Setting state to determinate');\n            $input\n              .prop('indeterminate', false)\n            ;\n          },\n          disabled: function() {\n            module.verbose('Setting class to disabled');\n            $module\n              .addClass(className.disabled)\n            ;\n            if( module.is.disabled() ) {\n              module.debug('Input is already disabled, skipping input property change');\n              return;\n            }\n            module.debug('Setting state to disabled');\n            $input\n              .prop('disabled', 'disabled')\n            ;\n            module.trigger.change();\n          },\n          enabled: function() {\n            module.verbose('Removing disabled class');\n            $module.removeClass(className.disabled);\n            if( module.is.enabled() ) {\n              module.debug('Input is already enabled, skipping input property change');\n              return;\n            }\n            module.debug('Setting state to enabled');\n            $input\n              .prop('disabled', false)\n            ;\n            module.trigger.change();\n          },\n          tabbable: function() {\n            module.verbose('Adding tabindex to checkbox');\n            if( $input.attr('tabindex') === undefined) {\n              $input.attr('tabindex', 0);\n            }\n          }\n        },\n\n        remove: {\n          initialLoad: function() {\n            initialLoad = false;\n          }\n        },\n\n        trigger: {\n          change: function() {\n            var\n              events       = document.createEvent('HTMLEvents'),\n              inputElement = $input[0]\n            ;\n            if(inputElement) {\n              module.verbose('Triggering native change event');\n              events.initEvent('change', true, false);\n              inputElement.dispatchEvent(events);\n            }\n          }\n        },\n\n\n        create: {\n          label: function() {\n            if($input.prevAll(selector.label).length > 0) {\n              $input.prev(selector.label).detach().insertAfter($input);\n              module.debug('Moving existing label', $label);\n            }\n            else if( !module.has.label() ) {\n              $label = $('<label>').insertAfter($input);\n              module.debug('Creating label', $label);\n            }\n          }\n        },\n\n        has: {\n          label: function() {\n            return ($label.length > 0);\n          }\n        },\n\n        bind: {\n          events: function() {\n            module.verbose('Attaching checkbox events');\n            $module\n              .on('click'   + eventNamespace, module.event.click)\n              .on('keydown' + eventNamespace, selector.input, module.event.keydown)\n              .on('keyup'   + eventNamespace, selector.input, module.event.keyup)\n            ;\n          }\n        },\n\n        unbind: {\n          events: function() {\n            module.debug('Removing events');\n            $module\n              .off(eventNamespace)\n            ;\n          }\n        },\n\n        uncheckOthers: function() {\n          var\n            $radios = module.get.otherRadios()\n          ;\n          module.debug('Unchecking other radios', $radios);\n          $radios.removeClass(className.checked);\n        },\n\n        toggle: function() {\n          if( !module.can.change() ) {\n            if(!module.is.radio()) {\n              module.debug('Checkbox is read-only or disabled, ignoring toggle');\n            }\n            return;\n          }\n          if( module.is.indeterminate() || module.is.unchecked() ) {\n            module.debug('Currently unchecked');\n            module.check();\n          }\n          else if( module.is.checked() && module.can.uncheck() ) {\n            module.debug('Currently checked');\n            module.uncheck();\n          }\n        },\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.checkbox.settings = {\n\n  name                : 'Checkbox',\n  namespace           : 'checkbox',\n\n  silent              : false,\n  debug               : false,\n  verbose             : true,\n  performance         : true,\n\n  // delegated event context\n  uncheckable         : 'auto',\n  fireOnInit          : false,\n\n  onChange            : function(){},\n\n  beforeChecked       : function(){},\n  beforeUnchecked     : function(){},\n  beforeDeterminate   : function(){},\n  beforeIndeterminate : function(){},\n\n  onChecked           : function(){},\n  onUnchecked         : function(){},\n\n  onDeterminate       : function() {},\n  onIndeterminate     : function() {},\n\n  onEnable            : function(){},\n  onDisable           : function(){},\n\n  // preserve misspelled callbacks (will be removed in 3.0)\n  onEnabled           : function(){},\n  onDisabled          : function(){},\n\n  className       : {\n    checked       : 'checked',\n    indeterminate : 'indeterminate',\n    disabled      : 'disabled',\n    hidden        : 'hidden',\n    radio         : 'radio',\n    readOnly      : 'read-only'\n  },\n\n  error     : {\n    method       : 'The method you called is not defined'\n  },\n\n  selector : {\n    checkbox : '.ui.checkbox',\n    label    : 'label, .box',\n    input    : 'input[type=\"checkbox\"], input[type=\"radio\"]',\n    link     : 'a[href]'\n  }\n\n};\n\n})( jQuery, window, document );\n","/*!\n * # Semantic UI - Dimmer\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.dimmer = function(parameters) {\n  var\n    $allModules     = $(this),\n\n    time            = new Date().getTime(),\n    performance     = [],\n\n    query           = arguments[0],\n    methodInvoked   = (typeof query == 'string'),\n    queryArguments  = [].slice.call(arguments, 1),\n\n    returnedValue\n  ;\n\n  $allModules\n    .each(function() {\n      var\n        settings        = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.dimmer.settings, parameters)\n          : $.extend({}, $.fn.dimmer.settings),\n\n        selector        = settings.selector,\n        namespace       = settings.namespace,\n        className       = settings.className,\n        error           = settings.error,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n        moduleSelector  = $allModules.selector || '',\n\n        clickEvent      = ('ontouchstart' in document.documentElement)\n          ? 'touchstart'\n          : 'click',\n\n        $module = $(this),\n        $dimmer,\n        $dimmable,\n\n        element   = this,\n        instance  = $module.data(moduleNamespace),\n        module\n      ;\n\n      module = {\n\n        preinitialize: function() {\n          if( module.is.dimmer() ) {\n\n            $dimmable = $module.parent();\n            $dimmer   = $module;\n          }\n          else {\n            $dimmable = $module;\n            if( module.has.dimmer() ) {\n              if(settings.dimmerName) {\n                $dimmer = $dimmable.find(selector.dimmer).filter('.' + settings.dimmerName);\n              }\n              else {\n                $dimmer = $dimmable.find(selector.dimmer);\n              }\n            }\n            else {\n              $dimmer = module.create();\n            }\n            module.set.variation();\n          }\n        },\n\n        initialize: function() {\n          module.debug('Initializing dimmer', settings);\n\n          module.bind.events();\n          module.set.dimmable();\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, instance)\n          ;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous module', $dimmer);\n          module.unbind.events();\n          module.remove.variation();\n          $dimmable\n            .off(eventNamespace)\n          ;\n        },\n\n        bind: {\n          events: function() {\n            if(module.is.page()) {\n              // touch events default to passive, due to changes in chrome to optimize mobile perf\n              $dimmable.get(0).addEventListener('touchmove', module.event.preventScroll, { passive: false });\n            }\n            if(settings.on == 'hover') {\n              $dimmable\n                .on('mouseenter' + eventNamespace, module.show)\n                .on('mouseleave' + eventNamespace, module.hide)\n              ;\n            }\n            else if(settings.on == 'click') {\n              $dimmable\n                .on(clickEvent + eventNamespace, module.toggle)\n              ;\n            }\n            if( module.is.page() ) {\n              module.debug('Setting as a page dimmer', $dimmable);\n              module.set.pageDimmer();\n            }\n\n            if( module.is.closable() ) {\n              module.verbose('Adding dimmer close event', $dimmer);\n              $dimmable\n                .on(clickEvent + eventNamespace, selector.dimmer, module.event.click)\n              ;\n            }\n          }\n        },\n\n        unbind: {\n          events: function() {\n            if(module.is.page()) {\n              $dimmable.get(0).removeEventListener('touchmove', module.event.preventScroll, { passive: false });\n            }\n            $module\n              .removeData(moduleNamespace)\n            ;\n            $dimmable\n              .off(eventNamespace)\n            ;\n          }\n        },\n\n        event: {\n          click: function(event) {\n            module.verbose('Determining if event occured on dimmer', event);\n            if( $dimmer.find(event.target).length === 0 || $(event.target).is(selector.content) ) {\n              module.hide();\n              event.stopImmediatePropagation();\n            }\n          },\n          preventScroll: function(event) {\n            event.preventDefault();\n          }\n        },\n\n        addContent: function(element) {\n          var\n            $content = $(element)\n          ;\n          module.debug('Add content to dimmer', $content);\n          if($content.parent()[0] !== $dimmer[0]) {\n            $content.detach().appendTo($dimmer);\n          }\n        },\n\n        create: function() {\n          var\n            $element = $( settings.template.dimmer() )\n          ;\n          if(settings.dimmerName) {\n            module.debug('Creating named dimmer', settings.dimmerName);\n            $element.addClass(settings.dimmerName);\n          }\n          $element\n            .appendTo($dimmable)\n          ;\n          return $element;\n        },\n\n        show: function(callback) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          module.debug('Showing dimmer', $dimmer, settings);\n          if( (!module.is.dimmed() || module.is.animating()) && module.is.enabled() ) {\n            module.animate.show(callback);\n            settings.onShow.call(element);\n            settings.onChange.call(element);\n          }\n          else {\n            module.debug('Dimmer is already shown or disabled');\n          }\n        },\n\n        hide: function(callback) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          if( module.is.dimmed() || module.is.animating() ) {\n            module.debug('Hiding dimmer', $dimmer);\n            module.animate.hide(callback);\n            settings.onHide.call(element);\n            settings.onChange.call(element);\n          }\n          else {\n            module.debug('Dimmer is not visible');\n          }\n        },\n\n        toggle: function() {\n          module.verbose('Toggling dimmer visibility', $dimmer);\n          if( !module.is.dimmed() ) {\n            module.show();\n          }\n          else {\n            module.hide();\n          }\n        },\n\n        animate: {\n          show: function(callback) {\n            callback = $.isFunction(callback)\n              ? callback\n              : function(){}\n            ;\n            if(settings.useCSS && $.fn.transition !== undefined && $dimmer.transition('is supported')) {\n              if(settings.opacity !== 'auto') {\n                module.set.opacity();\n              }\n              $dimmer\n                .transition({\n                  displayType : 'flex',\n                  animation   : settings.transition + ' in',\n                  queue       : false,\n                  duration    : module.get.duration(),\n                  useFailSafe : true,\n                  onStart     : function() {\n                    module.set.dimmed();\n                  },\n                  onComplete  : function() {\n                    module.set.active();\n                    callback();\n                  }\n                })\n              ;\n            }\n            else {\n              module.verbose('Showing dimmer animation with javascript');\n              module.set.dimmed();\n              if(settings.opacity == 'auto') {\n                settings.opacity = 0.8;\n              }\n              $dimmer\n                .stop()\n                .css({\n                  opacity : 0,\n                  width   : '100%',\n                  height  : '100%'\n                })\n                .fadeTo(module.get.duration(), settings.opacity, function() {\n                  $dimmer.removeAttr('style');\n                  module.set.active();\n                  callback();\n                })\n              ;\n            }\n          },\n          hide: function(callback) {\n            callback = $.isFunction(callback)\n              ? callback\n              : function(){}\n            ;\n            if(settings.useCSS && $.fn.transition !== undefined && $dimmer.transition('is supported')) {\n              module.verbose('Hiding dimmer with css');\n              $dimmer\n                .transition({\n                  displayType : 'flex',\n                  animation   : settings.transition + ' out',\n                  queue       : false,\n                  duration    : module.get.duration(),\n                  useFailSafe : true,\n                  onStart     : function() {\n                    module.remove.dimmed();\n                  },\n                  onComplete  : function() {\n                    module.remove.active();\n                    callback();\n                  }\n                })\n              ;\n            }\n            else {\n              module.verbose('Hiding dimmer with javascript');\n              module.remove.dimmed();\n              $dimmer\n                .stop()\n                .fadeOut(module.get.duration(), function() {\n                  module.remove.active();\n                  $dimmer.removeAttr('style');\n                  callback();\n                })\n              ;\n            }\n          }\n        },\n\n        get: {\n          dimmer: function() {\n            return $dimmer;\n          },\n          duration: function() {\n            if(typeof settings.duration == 'object') {\n              if( module.is.active() ) {\n                return settings.duration.hide;\n              }\n              else {\n                return settings.duration.show;\n              }\n            }\n            return settings.duration;\n          }\n        },\n\n        has: {\n          dimmer: function() {\n            if(settings.dimmerName) {\n              return ($module.find(selector.dimmer).filter('.' + settings.dimmerName).length > 0);\n            }\n            else {\n              return ( $module.find(selector.dimmer).length > 0 );\n            }\n          }\n        },\n\n        is: {\n          active: function() {\n            return $dimmer.hasClass(className.active);\n          },\n          animating: function() {\n            return ( $dimmer.is(':animated') || $dimmer.hasClass(className.animating) );\n          },\n          closable: function() {\n            if(settings.closable == 'auto') {\n              if(settings.on == 'hover') {\n                return false;\n              }\n              return true;\n            }\n            return settings.closable;\n          },\n          dimmer: function() {\n            return $module.hasClass(className.dimmer);\n          },\n          dimmable: function() {\n            return $module.hasClass(className.dimmable);\n          },\n          dimmed: function() {\n            return $dimmable.hasClass(className.dimmed);\n          },\n          disabled: function() {\n            return $dimmable.hasClass(className.disabled);\n          },\n          enabled: function() {\n            return !module.is.disabled();\n          },\n          page: function () {\n            return $dimmable.is('body');\n          },\n          pageDimmer: function() {\n            return $dimmer.hasClass(className.pageDimmer);\n          }\n        },\n\n        can: {\n          show: function() {\n            return !$dimmer.hasClass(className.disabled);\n          }\n        },\n\n        set: {\n          opacity: function(opacity) {\n            var\n              color      = $dimmer.css('background-color'),\n              colorArray = color.split(','),\n              isRGB      = (colorArray && colorArray.length == 3),\n              isRGBA     = (colorArray && colorArray.length == 4)\n            ;\n            opacity    = settings.opacity === 0 ? 0 : settings.opacity || opacity;\n            if(isRGB || isRGBA) {\n              colorArray[3] = opacity + ')';\n              color         = colorArray.join(',');\n            }\n            else {\n              color = 'rgba(0, 0, 0, ' + opacity + ')';\n            }\n            module.debug('Setting opacity to', opacity);\n            $dimmer.css('background-color', color);\n          },\n          active: function() {\n            $dimmer.addClass(className.active);\n          },\n          dimmable: function() {\n            $dimmable.addClass(className.dimmable);\n          },\n          dimmed: function() {\n            $dimmable.addClass(className.dimmed);\n          },\n          pageDimmer: function() {\n            $dimmer.addClass(className.pageDimmer);\n          },\n          disabled: function() {\n            $dimmer.addClass(className.disabled);\n          },\n          variation: function(variation) {\n            variation = variation || settings.variation;\n            if(variation) {\n              $dimmer.addClass(variation);\n            }\n          }\n        },\n\n        remove: {\n          active: function() {\n            $dimmer\n              .removeClass(className.active)\n            ;\n          },\n          dimmed: function() {\n            $dimmable.removeClass(className.dimmed);\n          },\n          disabled: function() {\n            $dimmer.removeClass(className.disabled);\n          },\n          variation: function(variation) {\n            variation = variation || settings.variation;\n            if(variation) {\n              $dimmer.removeClass(variation);\n            }\n          }\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      module.preinitialize();\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.dimmer.settings = {\n\n  name        : 'Dimmer',\n  namespace   : 'dimmer',\n\n  silent      : false,\n  debug       : false,\n  verbose     : false,\n  performance : true,\n\n  // name to distinguish between multiple dimmers in context\n  dimmerName  : false,\n\n  // whether to add a variation type\n  variation   : false,\n\n  // whether to bind close events\n  closable    : 'auto',\n\n  // whether to use css animations\n  useCSS      : true,\n\n  // css animation to use\n  transition  : 'fade',\n\n  // event to bind to\n  on          : false,\n\n  // overriding opacity value\n  opacity     : 'auto',\n\n  // transition durations\n  duration    : {\n    show : 500,\n    hide : 500\n  },\n\n  onChange    : function(){},\n  onShow      : function(){},\n  onHide      : function(){},\n\n  error   : {\n    method   : 'The method you called is not defined.'\n  },\n\n  className : {\n    active     : 'active',\n    animating  : 'animating',\n    dimmable   : 'dimmable',\n    dimmed     : 'dimmed',\n    dimmer     : 'dimmer',\n    disabled   : 'disabled',\n    hide       : 'hide',\n    pageDimmer : 'page',\n    show       : 'show'\n  },\n\n  selector: {\n    dimmer   : '> .ui.dimmer',\n    content  : '.ui.dimmer > .content, .ui.dimmer > .content > .center'\n  },\n\n  template: {\n    dimmer: function() {\n     return $('<div />').attr('class', 'ui dimmer');\n    }\n  }\n\n};\n\n})( jQuery, window, document );\n","/*!\n * # Semantic UI - Dropdown\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.dropdown = function(parameters) {\n  var\n    $allModules    = $(this),\n    $document      = $(document),\n\n    moduleSelector = $allModules.selector || '',\n\n    hasTouch       = ('ontouchstart' in document.documentElement),\n    time           = new Date().getTime(),\n    performance    = [],\n\n    query          = arguments[0],\n    methodInvoked  = (typeof query == 'string'),\n    queryArguments = [].slice.call(arguments, 1),\n    returnedValue\n  ;\n\n  $allModules\n    .each(function(elementIndex) {\n      var\n        settings          = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.dropdown.settings, parameters)\n          : $.extend({}, $.fn.dropdown.settings),\n\n        className       = settings.className,\n        message         = settings.message,\n        fields          = settings.fields,\n        keys            = settings.keys,\n        metadata        = settings.metadata,\n        namespace       = settings.namespace,\n        regExp          = settings.regExp,\n        selector        = settings.selector,\n        error           = settings.error,\n        templates       = settings.templates,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n\n        $module         = $(this),\n        $context        = $(settings.context),\n        $text           = $module.find(selector.text),\n        $search         = $module.find(selector.search),\n        $sizer          = $module.find(selector.sizer),\n        $input          = $module.find(selector.input),\n        $icon           = $module.find(selector.icon),\n\n        $combo = ($module.prev().find(selector.text).length > 0)\n          ? $module.prev().find(selector.text)\n          : $module.prev(),\n\n        $menu           = $module.children(selector.menu),\n        $item           = $menu.find(selector.item),\n\n        activated       = false,\n        itemActivated   = false,\n        internalChange  = false,\n        element         = this,\n        instance        = $module.data(moduleNamespace),\n\n        initialLoad,\n        pageLostFocus,\n        willRefocus,\n        elementNamespace,\n        id,\n        selectObserver,\n        menuObserver,\n        module\n      ;\n\n      module = {\n\n        initialize: function() {\n          module.debug('Initializing dropdown', settings);\n\n          if( module.is.alreadySetup() ) {\n            module.setup.reference();\n          }\n          else {\n\n            module.setup.layout();\n\n            if(settings.values) {\n              module.change.values(settings.values);\n            }\n\n            module.refreshData();\n\n            module.save.defaults();\n            module.restore.selected();\n\n            module.create.id();\n            module.bind.events();\n\n            module.observeChanges();\n            module.instantiate();\n          }\n\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of dropdown', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous dropdown', $module);\n          module.remove.tabbable();\n          $module\n            .off(eventNamespace)\n            .removeData(moduleNamespace)\n          ;\n          $menu\n            .off(eventNamespace)\n          ;\n          $document\n            .off(elementNamespace)\n          ;\n          module.disconnect.menuObserver();\n          module.disconnect.selectObserver();\n        },\n\n        observeChanges: function() {\n          if('MutationObserver' in window) {\n            selectObserver = new MutationObserver(module.event.select.mutation);\n            menuObserver   = new MutationObserver(module.event.menu.mutation);\n            module.debug('Setting up mutation observer', selectObserver, menuObserver);\n            module.observe.select();\n            module.observe.menu();\n          }\n        },\n\n        disconnect: {\n          menuObserver: function() {\n            if(menuObserver) {\n              menuObserver.disconnect();\n            }\n          },\n          selectObserver: function() {\n            if(selectObserver) {\n              selectObserver.disconnect();\n            }\n          }\n        },\n        observe: {\n          select: function() {\n            if(module.has.input()) {\n              selectObserver.observe($module[0], {\n                childList : true,\n                subtree   : true\n              });\n            }\n          },\n          menu: function() {\n            if(module.has.menu()) {\n              menuObserver.observe($menu[0], {\n                childList : true,\n                subtree   : true\n              });\n            }\n          }\n        },\n\n        create: {\n          id: function() {\n            id = (Math.random().toString(16) + '000000000').substr(2, 8);\n            elementNamespace = '.' + id;\n            module.verbose('Creating unique id for element', id);\n          },\n          userChoice: function(values) {\n            var\n              $userChoices,\n              $userChoice,\n              isUserValue,\n              html\n            ;\n            values = values || module.get.userValues();\n            if(!values) {\n              return false;\n            }\n            values = $.isArray(values)\n              ? values\n              : [values]\n            ;\n            $.each(values, function(index, value) {\n              if(module.get.item(value) === false) {\n                html         = settings.templates.addition( module.add.variables(message.addResult, value) );\n                $userChoice  = $('<div />')\n                  .html(html)\n                  .attr('data-' + metadata.value, value)\n                  .attr('data-' + metadata.text, value)\n                  .addClass(className.addition)\n                  .addClass(className.item)\n                ;\n                if(settings.hideAdditions) {\n                  $userChoice.addClass(className.hidden);\n                }\n                $userChoices = ($userChoices === undefined)\n                  ? $userChoice\n                  : $userChoices.add($userChoice)\n                ;\n                module.verbose('Creating user choices for value', value, $userChoice);\n              }\n            });\n            return $userChoices;\n          },\n          userLabels: function(value) {\n            var\n              userValues = module.get.userValues()\n            ;\n            if(userValues) {\n              module.debug('Adding user labels', userValues);\n              $.each(userValues, function(index, value) {\n                module.verbose('Adding custom user value');\n                module.add.label(value, value);\n              });\n            }\n          },\n          menu: function() {\n            $menu = $('<div />')\n              .addClass(className.menu)\n              .appendTo($module)\n            ;\n          },\n          sizer: function() {\n            $sizer = $('<span />')\n              .addClass(className.sizer)\n              .insertAfter($search)\n            ;\n          }\n        },\n\n        search: function(query) {\n          query = (query !== undefined)\n            ? query\n            : module.get.query()\n          ;\n          module.verbose('Searching for query', query);\n          if(module.has.minCharacters(query)) {\n            module.filter(query);\n          }\n          else {\n            module.hide();\n          }\n        },\n\n        select: {\n          firstUnfiltered: function() {\n            module.verbose('Selecting first non-filtered element');\n            module.remove.selectedItem();\n            $item\n              .not(selector.unselectable)\n              .not(selector.addition + selector.hidden)\n                .eq(0)\n                .addClass(className.selected)\n            ;\n          },\n          nextAvailable: function($selected) {\n            $selected = $selected.eq(0);\n            var\n              $nextAvailable = $selected.nextAll(selector.item).not(selector.unselectable).eq(0),\n              $prevAvailable = $selected.prevAll(selector.item).not(selector.unselectable).eq(0),\n              hasNext        = ($nextAvailable.length > 0)\n            ;\n            if(hasNext) {\n              module.verbose('Moving selection to', $nextAvailable);\n              $nextAvailable.addClass(className.selected);\n            }\n            else {\n              module.verbose('Moving selection to', $prevAvailable);\n              $prevAvailable.addClass(className.selected);\n            }\n          }\n        },\n\n        setup: {\n          api: function() {\n            var\n              apiSettings = {\n                debug   : settings.debug,\n                urlData : {\n                  value : module.get.value(),\n                  query : module.get.query()\n                },\n                on    : false\n              }\n            ;\n            module.verbose('First request, initializing API');\n            $module\n              .api(apiSettings)\n            ;\n          },\n          layout: function() {\n            if( $module.is('select') ) {\n              module.setup.select();\n              module.setup.returnedObject();\n            }\n            if( !module.has.menu() ) {\n              module.create.menu();\n            }\n            if( module.is.search() && !module.has.search() ) {\n              module.verbose('Adding search input');\n              $search = $('<input />')\n                .addClass(className.search)\n                .prop('autocomplete', 'off')\n                .insertBefore($text)\n              ;\n            }\n            if( module.is.multiple() && module.is.searchSelection() && !module.has.sizer()) {\n              module.create.sizer();\n            }\n            if(settings.allowTab) {\n              module.set.tabbable();\n            }\n          },\n          select: function() {\n            var\n              selectValues  = module.get.selectValues()\n            ;\n            module.debug('Dropdown initialized on a select', selectValues);\n            if( $module.is('select') ) {\n              $input = $module;\n            }\n            // see if select is placed correctly already\n            if($input.parent(selector.dropdown).length > 0) {\n              module.debug('UI dropdown already exists. Creating dropdown menu only');\n              $module = $input.closest(selector.dropdown);\n              if( !module.has.menu() ) {\n                module.create.menu();\n              }\n              $menu = $module.children(selector.menu);\n              module.setup.menu(selectValues);\n            }\n            else {\n              module.debug('Creating entire dropdown from select');\n              $module = $('<div />')\n                .attr('class', $input.attr('class') )\n                .addClass(className.selection)\n                .addClass(className.dropdown)\n                .html( templates.dropdown(selectValues) )\n                .insertBefore($input)\n              ;\n              if($input.hasClass(className.multiple) && $input.prop('multiple') === false) {\n                module.error(error.missingMultiple);\n                $input.prop('multiple', true);\n              }\n              if($input.is('[multiple]')) {\n                module.set.multiple();\n              }\n              if ($input.prop('disabled')) {\n                module.debug('Disabling dropdown');\n                $module.addClass(className.disabled);\n              }\n              $input\n                .removeAttr('class')\n                .detach()\n                .prependTo($module)\n              ;\n            }\n            module.refresh();\n          },\n          menu: function(values) {\n            $menu.html( templates.menu(values, fields));\n            $item = $menu.find(selector.item);\n          },\n          reference: function() {\n            module.debug('Dropdown behavior was called on select, replacing with closest dropdown');\n            // replace module reference\n            $module  = $module.parent(selector.dropdown);\n            instance = $module.data(moduleNamespace);\n            element  = $module.get(0);\n            module.refresh();\n            module.setup.returnedObject();\n          },\n          returnedObject: function() {\n            var\n              $firstModules = $allModules.slice(0, elementIndex),\n              $lastModules  = $allModules.slice(elementIndex + 1)\n            ;\n            // adjust all modules to use correct reference\n            $allModules = $firstModules.add($module).add($lastModules);\n          }\n        },\n\n        refresh: function() {\n          module.refreshSelectors();\n          module.refreshData();\n        },\n\n        refreshItems: function() {\n          $item = $menu.find(selector.item);\n        },\n\n        refreshSelectors: function() {\n          module.verbose('Refreshing selector cache');\n          $text   = $module.find(selector.text);\n          $search = $module.find(selector.search);\n          $input  = $module.find(selector.input);\n          $icon   = $module.find(selector.icon);\n          $combo  = ($module.prev().find(selector.text).length > 0)\n            ? $module.prev().find(selector.text)\n            : $module.prev()\n          ;\n          $menu    = $module.children(selector.menu);\n          $item    = $menu.find(selector.item);\n        },\n\n        refreshData: function() {\n          module.verbose('Refreshing cached metadata');\n          $item\n            .removeData(metadata.text)\n            .removeData(metadata.value)\n          ;\n        },\n\n        clearData: function() {\n          module.verbose('Clearing metadata');\n          $item\n            .removeData(metadata.text)\n            .removeData(metadata.value)\n          ;\n          $module\n            .removeData(metadata.defaultText)\n            .removeData(metadata.defaultValue)\n            .removeData(metadata.placeholderText)\n          ;\n        },\n\n        toggle: function() {\n          module.verbose('Toggling menu visibility');\n          if( !module.is.active() ) {\n            module.show();\n          }\n          else {\n            module.hide();\n          }\n        },\n\n        show: function(callback) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          if(!module.can.show() && module.is.remote()) {\n            module.debug('No API results retrieved, searching before show');\n            module.queryRemote(module.get.query(), module.show);\n          }\n          if( module.can.show() && !module.is.active() ) {\n            module.debug('Showing dropdown');\n            if(module.has.message() && !(module.has.maxSelections() || module.has.allResultsFiltered()) ) {\n              module.remove.message();\n            }\n            if(module.is.allFiltered()) {\n              return true;\n            }\n            if(settings.onShow.call(element) !== false) {\n              module.animate.show(function() {\n                if( module.can.click() ) {\n                  module.bind.intent();\n                }\n                if(module.has.menuSearch()) {\n                  module.focusSearch();\n                }\n                module.set.visible();\n                callback.call(element);\n              });\n            }\n          }\n        },\n\n        hide: function(callback) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          if( module.is.active() && !module.is.animatingOutward() ) {\n            module.debug('Hiding dropdown');\n            if(settings.onHide.call(element) !== false) {\n              module.animate.hide(function() {\n                module.remove.visible();\n                callback.call(element);\n              });\n            }\n          }\n        },\n\n        hideOthers: function() {\n          module.verbose('Finding other dropdowns to hide');\n          $allModules\n            .not($module)\n              .has(selector.menu + '.' + className.visible)\n                .dropdown('hide')\n          ;\n        },\n\n        hideMenu: function() {\n          module.verbose('Hiding menu  instantaneously');\n          module.remove.active();\n          module.remove.visible();\n          $menu.transition('hide');\n        },\n\n        hideSubMenus: function() {\n          var\n            $subMenus = $menu.children(selector.item).find(selector.menu)\n          ;\n          module.verbose('Hiding sub menus', $subMenus);\n          $subMenus.transition('hide');\n        },\n\n        bind: {\n          events: function() {\n            if(hasTouch) {\n              module.bind.touchEvents();\n            }\n            module.bind.keyboardEvents();\n            module.bind.inputEvents();\n            module.bind.mouseEvents();\n          },\n          touchEvents: function() {\n            module.debug('Touch device detected binding additional touch events');\n            if( module.is.searchSelection() ) {\n              // do nothing special yet\n            }\n            else if( module.is.single() ) {\n              $module\n                .on('touchstart' + eventNamespace, module.event.test.toggle)\n              ;\n            }\n            $menu\n              .on('touchstart' + eventNamespace, selector.item, module.event.item.mouseenter)\n            ;\n          },\n          keyboardEvents: function() {\n            module.verbose('Binding keyboard events');\n            $module\n              .on('keydown' + eventNamespace, module.event.keydown)\n            ;\n            if( module.has.search() ) {\n              $module\n                .on(module.get.inputEvent() + eventNamespace, selector.search, module.event.input)\n              ;\n            }\n            if( module.is.multiple() ) {\n              $document\n                .on('keydown' + elementNamespace, module.event.document.keydown)\n              ;\n            }\n          },\n          inputEvents: function() {\n            module.verbose('Binding input change events');\n            $module\n              .on('change' + eventNamespace, selector.input, module.event.change)\n            ;\n          },\n          mouseEvents: function() {\n            module.verbose('Binding mouse events');\n            if(module.is.multiple()) {\n              $module\n                .on('click'   + eventNamespace, selector.label,  module.event.label.click)\n                .on('click'   + eventNamespace, selector.remove, module.event.remove.click)\n              ;\n            }\n            if( module.is.searchSelection() ) {\n              $module\n                .on('mousedown' + eventNamespace, module.event.mousedown)\n                .on('mouseup'   + eventNamespace, module.event.mouseup)\n                .on('mousedown' + eventNamespace, selector.menu,   module.event.menu.mousedown)\n                .on('mouseup'   + eventNamespace, selector.menu,   module.event.menu.mouseup)\n                .on('click'     + eventNamespace, selector.icon,   module.event.icon.click)\n                .on('focus'     + eventNamespace, selector.search, module.event.search.focus)\n                .on('click'     + eventNamespace, selector.search, module.event.search.focus)\n                .on('blur'      + eventNamespace, selector.search, module.event.search.blur)\n                .on('click'     + eventNamespace, selector.text,   module.event.text.focus)\n              ;\n              if(module.is.multiple()) {\n                $module\n                  .on('click' + eventNamespace, module.event.click)\n                ;\n              }\n            }\n            else {\n              if(settings.on == 'click') {\n                $module\n                  .on('click' + eventNamespace, selector.icon, module.event.icon.click)\n                  .on('click' + eventNamespace, module.event.test.toggle)\n                ;\n              }\n              else if(settings.on == 'hover') {\n                $module\n                  .on('mouseenter' + eventNamespace, module.delay.show)\n                  .on('mouseleave' + eventNamespace, module.delay.hide)\n                ;\n              }\n              else {\n                $module\n                  .on(settings.on + eventNamespace, module.toggle)\n                ;\n              }\n              $module\n                .on('mousedown' + eventNamespace, module.event.mousedown)\n                .on('mouseup'   + eventNamespace, module.event.mouseup)\n                .on('focus'     + eventNamespace, module.event.focus)\n              ;\n              if(module.has.menuSearch() ) {\n                $module\n                  .on('blur' + eventNamespace, selector.search, module.event.search.blur)\n                ;\n              }\n              else {\n                $module\n                  .on('blur' + eventNamespace, module.event.blur)\n                ;\n              }\n            }\n            $menu\n              .on('mouseenter' + eventNamespace, selector.item, module.event.item.mouseenter)\n              .on('mouseleave' + eventNamespace, selector.item, module.event.item.mouseleave)\n              .on('click'      + eventNamespace, selector.item, module.event.item.click)\n            ;\n          },\n          intent: function() {\n            module.verbose('Binding hide intent event to document');\n            if(hasTouch) {\n              $document\n                .on('touchstart' + elementNamespace, module.event.test.touch)\n                .on('touchmove'  + elementNamespace, module.event.test.touch)\n              ;\n            }\n            $document\n              .on('click' + elementNamespace, module.event.test.hide)\n            ;\n          }\n        },\n\n        unbind: {\n          intent: function() {\n            module.verbose('Removing hide intent event from document');\n            if(hasTouch) {\n              $document\n                .off('touchstart' + elementNamespace)\n                .off('touchmove' + elementNamespace)\n              ;\n            }\n            $document\n              .off('click' + elementNamespace)\n            ;\n          }\n        },\n\n        filter: function(query) {\n          var\n            searchTerm = (query !== undefined)\n              ? query\n              : module.get.query(),\n            afterFiltered = function() {\n              if(module.is.multiple()) {\n                module.filterActive();\n              }\n              if(query || (!query && module.get.activeItem().length == 0)) {\n                module.select.firstUnfiltered();\n              }\n              if( module.has.allResultsFiltered() ) {\n                if( settings.onNoResults.call(element, searchTerm) ) {\n                  if(settings.allowAdditions) {\n                    if(settings.hideAdditions) {\n                      module.verbose('User addition with no menu, setting empty style');\n                      module.set.empty();\n                      module.hideMenu();\n                    }\n                  }\n                  else {\n                    module.verbose('All items filtered, showing message', searchTerm);\n                    module.add.message(message.noResults);\n                  }\n                }\n                else {\n                  module.verbose('All items filtered, hiding dropdown', searchTerm);\n                  module.hideMenu();\n                }\n              }\n              else {\n                module.remove.empty();\n                module.remove.message();\n              }\n              if(settings.allowAdditions) {\n                module.add.userSuggestion(query);\n              }\n              if(module.is.searchSelection() && module.can.show() && module.is.focusedOnSearch() ) {\n                module.show();\n              }\n            }\n          ;\n          if(settings.useLabels && module.has.maxSelections()) {\n            return;\n          }\n          if(settings.apiSettings) {\n            if( module.can.useAPI() ) {\n              module.queryRemote(searchTerm, function() {\n                if(settings.filterRemoteData) {\n                  module.filterItems(searchTerm);\n                }\n                afterFiltered();\n              });\n            }\n            else {\n              module.error(error.noAPI);\n            }\n          }\n          else {\n            module.filterItems(searchTerm);\n            afterFiltered();\n          }\n        },\n\n        queryRemote: function(query, callback) {\n          var\n            apiSettings = {\n              errorDuration : false,\n              cache         : 'local',\n              throttle      : settings.throttle,\n              urlData       : {\n                query: query\n              },\n              onError: function() {\n                module.add.message(message.serverError);\n                callback();\n              },\n              onFailure: function() {\n                module.add.message(message.serverError);\n                callback();\n              },\n              onSuccess : function(response) {\n                var\n                  values          = response[fields.remoteValues],\n                  hasRemoteValues = ($.isArray(values) && values.length > 0)\n                ;\n                if(hasRemoteValues) {\n                  module.remove.message();\n                  module.setup.menu({\n                    values: response[fields.remoteValues]\n                  });\n                }\n                else {\n                  module.add.message(message.noResults);\n                }\n                callback();\n              }\n            }\n          ;\n          if( !$module.api('get request') ) {\n            module.setup.api();\n          }\n          apiSettings = $.extend(true, {}, apiSettings, settings.apiSettings);\n          $module\n            .api('setting', apiSettings)\n            .api('query')\n          ;\n        },\n\n        filterItems: function(query) {\n          var\n            searchTerm = (query !== undefined)\n              ? query\n              : module.get.query(),\n            results          =  null,\n            escapedTerm      = module.escape.string(searchTerm),\n            beginsWithRegExp = new RegExp('^' + escapedTerm, 'igm')\n          ;\n          // avoid loop if we're matching nothing\n          if( module.has.query() ) {\n            results = [];\n\n            module.verbose('Searching for matching values', searchTerm);\n            $item\n              .each(function(){\n                var\n                  $choice = $(this),\n                  text,\n                  value\n                ;\n                if(settings.match == 'both' || settings.match == 'text') {\n                  text = String(module.get.choiceText($choice, false));\n                  if(text.search(beginsWithRegExp) !== -1) {\n                    results.push(this);\n                    return true;\n                  }\n                  else if (settings.fullTextSearch === 'exact' && module.exactSearch(searchTerm, text)) {\n                    results.push(this);\n                    return true;\n                  }\n                  else if (settings.fullTextSearch === true && module.fuzzySearch(searchTerm, text)) {\n                    results.push(this);\n                    return true;\n                  }\n                }\n                if(settings.match == 'both' || settings.match == 'value') {\n                  value = String(module.get.choiceValue($choice, text));\n                  if(value.search(beginsWithRegExp) !== -1) {\n                    results.push(this);\n                    return true;\n                  }\n                  else if (settings.fullTextSearch === 'exact' && module.exactSearch(searchTerm, value)) {\n                    results.push(this);\n                    return true;\n                  }\n                  else if (settings.fullTextSearch === true && module.fuzzySearch(searchTerm, value)) {\n                    results.push(this);\n                    return true;\n                  }\n                }\n              })\n            ;\n          }\n          module.debug('Showing only matched items', searchTerm);\n          module.remove.filteredItem();\n          if(results) {\n            $item\n              .not(results)\n              .addClass(className.filtered)\n            ;\n          }\n        },\n\n        fuzzySearch: function(query, term) {\n          var\n            termLength  = term.length,\n            queryLength = query.length\n          ;\n          query = query.toLowerCase();\n          term  = term.toLowerCase();\n          if(queryLength > termLength) {\n            return false;\n          }\n          if(queryLength === termLength) {\n            return (query === term);\n          }\n          search: for (var characterIndex = 0, nextCharacterIndex = 0; characterIndex < queryLength; characterIndex++) {\n            var\n              queryCharacter = query.charCodeAt(characterIndex)\n            ;\n            while(nextCharacterIndex < termLength) {\n              if(term.charCodeAt(nextCharacterIndex++) === queryCharacter) {\n                continue search;\n              }\n            }\n            return false;\n          }\n          return true;\n        },\n        exactSearch: function (query, term) {\n          query = query.toLowerCase();\n          term  = term.toLowerCase();\n          if(term.indexOf(query) > -1) {\n             return true;\n          }\n          return false;\n        },\n        filterActive: function() {\n          if(settings.useLabels) {\n            $item.filter('.' + className.active)\n              .addClass(className.filtered)\n            ;\n          }\n        },\n\n        focusSearch: function(skipHandler) {\n          if( module.has.search() && !module.is.focusedOnSearch() ) {\n            if(skipHandler) {\n              $module.off('focus' + eventNamespace, selector.search);\n              $search.focus();\n              $module.on('focus'  + eventNamespace, selector.search, module.event.search.focus);\n            }\n            else {\n              $search.focus();\n            }\n          }\n        },\n\n        forceSelection: function() {\n          var\n            $currentlySelected = $item.not(className.filtered).filter('.' + className.selected).eq(0),\n            $activeItem        = $item.not(className.filtered).filter('.' + className.active).eq(0),\n            $selectedItem      = ($currentlySelected.length > 0)\n              ? $currentlySelected\n              : $activeItem,\n            hasSelected = ($selectedItem.length > 0)\n          ;\n          if(hasSelected && !module.is.multiple()) {\n            module.debug('Forcing partial selection to selected item', $selectedItem);\n            module.event.item.click.call($selectedItem, {}, true);\n            return;\n          }\n          else {\n            if(settings.allowAdditions) {\n              module.set.selected(module.get.query());\n              module.remove.searchTerm();\n            }\n            else {\n              module.remove.searchTerm();\n            }\n          }\n        },\n\n        change: {\n          values: function(values) {\n            if(!settings.allowAdditions) {\n              module.clear();\n            }\n            module.debug('Creating dropdown with specified values', values);\n            module.setup.menu({values: values});\n            $.each(values, function(index, item) {\n              if(item.selected == true) {\n                module.debug('Setting initial selection to', item.value);\n                module.set.selected(item.value);\n                return true;\n              }\n            });\n          }\n        },\n\n        event: {\n          change: function() {\n            if(!internalChange) {\n              module.debug('Input changed, updating selection');\n              module.set.selected();\n            }\n          },\n          focus: function() {\n            if(settings.showOnFocus && !activated && module.is.hidden() && !pageLostFocus) {\n              module.show();\n            }\n          },\n          blur: function(event) {\n            pageLostFocus = (document.activeElement === this);\n            if(!activated && !pageLostFocus) {\n              module.remove.activeLabel();\n              module.hide();\n            }\n          },\n          mousedown: function() {\n            if(module.is.searchSelection()) {\n              // prevent menu hiding on immediate re-focus\n              willRefocus = true;\n            }\n            else {\n              // prevents focus callback from occurring on mousedown\n              activated = true;\n            }\n          },\n          mouseup: function() {\n            if(module.is.searchSelection()) {\n              // prevent menu hiding on immediate re-focus\n              willRefocus = false;\n            }\n            else {\n              activated = false;\n            }\n          },\n          click: function(event) {\n            var\n              $target = $(event.target)\n            ;\n            // focus search\n            if($target.is($module)) {\n              if(!module.is.focusedOnSearch()) {\n                module.focusSearch();\n              }\n              else {\n                module.show();\n              }\n            }\n          },\n          search: {\n            focus: function() {\n              activated = true;\n              if(module.is.multiple()) {\n                module.remove.activeLabel();\n              }\n              if(settings.showOnFocus) {\n                module.search();\n              }\n            },\n            blur: function(event) {\n              pageLostFocus = (document.activeElement === this);\n              if(module.is.searchSelection() && !willRefocus) {\n                if(!itemActivated && !pageLostFocus) {\n                  if(settings.forceSelection) {\n                    module.forceSelection();\n                  }\n                  module.hide();\n                }\n              }\n              willRefocus = false;\n            }\n          },\n          icon: {\n            click: function(event) {\n              module.toggle();\n            }\n          },\n          text: {\n            focus: function(event) {\n              activated = true;\n              module.focusSearch();\n            }\n          },\n          input: function(event) {\n            if(module.is.multiple() || module.is.searchSelection()) {\n              module.set.filtered();\n            }\n            clearTimeout(module.timer);\n            module.timer = setTimeout(module.search, settings.delay.search);\n          },\n          label: {\n            click: function(event) {\n              var\n                $label        = $(this),\n                $labels       = $module.find(selector.label),\n                $activeLabels = $labels.filter('.' + className.active),\n                $nextActive   = $label.nextAll('.' + className.active),\n                $prevActive   = $label.prevAll('.' + className.active),\n                $range = ($nextActive.length > 0)\n                  ? $label.nextUntil($nextActive).add($activeLabels).add($label)\n                  : $label.prevUntil($prevActive).add($activeLabels).add($label)\n              ;\n              if(event.shiftKey) {\n                $activeLabels.removeClass(className.active);\n                $range.addClass(className.active);\n              }\n              else if(event.ctrlKey) {\n                $label.toggleClass(className.active);\n              }\n              else {\n                $activeLabels.removeClass(className.active);\n                $label.addClass(className.active);\n              }\n              settings.onLabelSelect.apply(this, $labels.filter('.' + className.active));\n            }\n          },\n          remove: {\n            click: function() {\n              var\n                $label = $(this).parent()\n              ;\n              if( $label.hasClass(className.active) ) {\n                // remove all selected labels\n                module.remove.activeLabels();\n              }\n              else {\n                // remove this label only\n                module.remove.activeLabels( $label );\n              }\n            }\n          },\n          test: {\n            toggle: function(event) {\n              var\n                toggleBehavior = (module.is.multiple())\n                  ? module.show\n                  : module.toggle\n              ;\n              if(module.is.bubbledLabelClick(event) || module.is.bubbledIconClick(event)) {\n                return;\n              }\n              if( module.determine.eventOnElement(event, toggleBehavior) ) {\n                event.preventDefault();\n              }\n            },\n            touch: function(event) {\n              module.determine.eventOnElement(event, function() {\n                if(event.type == 'touchstart') {\n                  module.timer = setTimeout(function() {\n                    module.hide();\n                  }, settings.delay.touch);\n                }\n                else if(event.type == 'touchmove') {\n                  clearTimeout(module.timer);\n                }\n              });\n              event.stopPropagation();\n            },\n            hide: function(event) {\n              module.determine.eventInModule(event, module.hide);\n            }\n          },\n          select: {\n            mutation: function(mutations) {\n              module.debug('<select> modified, recreating menu');\n              var\n                isSelectMutation = false\n              ;\n              $.each(mutations, function(index, mutation) {\n                if($(mutation.target).is('select') || $(mutation.addedNodes).is('select')) {\n                  isSelectMutation = true;\n                  return true;\n                }\n              });\n              if(isSelectMutation) {\n                module.disconnect.selectObserver();\n                module.refresh();\n                module.setup.select();\n                module.set.selected();\n                module.observe.select();\n              }\n            }\n          },\n          menu: {\n            mutation: function(mutations) {\n              var\n                mutation   = mutations[0],\n                $addedNode = mutation.addedNodes\n                  ? $(mutation.addedNodes[0])\n                  : $(false),\n                $removedNode = mutation.removedNodes\n                  ? $(mutation.removedNodes[0])\n                  : $(false),\n                $changedNodes  = $addedNode.add($removedNode),\n                isUserAddition = $changedNodes.is(selector.addition) || $changedNodes.closest(selector.addition).length > 0,\n                isMessage      = $changedNodes.is(selector.message)  || $changedNodes.closest(selector.message).length > 0\n              ;\n              if(isUserAddition || isMessage) {\n                module.debug('Updating item selector cache');\n                module.refreshItems();\n              }\n              else {\n                module.debug('Menu modified, updating selector cache');\n                module.refresh();\n              }\n            },\n            mousedown: function() {\n              itemActivated = true;\n            },\n            mouseup: function() {\n              itemActivated = false;\n            }\n          },\n          item: {\n            mouseenter: function(event) {\n              var\n                $target        = $(event.target),\n                $item          = $(this),\n                $subMenu       = $item.children(selector.menu),\n                $otherMenus    = $item.siblings(selector.item).children(selector.menu),\n                hasSubMenu     = ($subMenu.length > 0),\n                isBubbledEvent = ($subMenu.find($target).length > 0)\n              ;\n              if( !isBubbledEvent && hasSubMenu ) {\n                clearTimeout(module.itemTimer);\n                module.itemTimer = setTimeout(function() {\n                  module.verbose('Showing sub-menu', $subMenu);\n                  $.each($otherMenus, function() {\n                    module.animate.hide(false, $(this));\n                  });\n                  module.animate.show(false, $subMenu);\n                }, settings.delay.show);\n                event.preventDefault();\n              }\n            },\n            mouseleave: function(event) {\n              var\n                $subMenu = $(this).children(selector.menu)\n              ;\n              if($subMenu.length > 0) {\n                clearTimeout(module.itemTimer);\n                module.itemTimer = setTimeout(function() {\n                  module.verbose('Hiding sub-menu', $subMenu);\n                  module.animate.hide(false, $subMenu);\n                }, settings.delay.hide);\n              }\n            },\n            click: function (event, skipRefocus) {\n              var\n                $choice        = $(this),\n                $target        = (event)\n                  ? $(event.target)\n                  : $(''),\n                $subMenu       = $choice.find(selector.menu),\n                text           = module.get.choiceText($choice),\n                value          = module.get.choiceValue($choice, text),\n                hasSubMenu     = ($subMenu.length > 0),\n                isBubbledEvent = ($subMenu.find($target).length > 0)\n              ;\n              // prevents IE11 bug where menu receives focus even though `tabindex=-1`\n              if(module.has.menuSearch()) {\n                $(document.activeElement).blur();\n              }\n              if(!isBubbledEvent && (!hasSubMenu || settings.allowCategorySelection)) {\n                if(module.is.searchSelection()) {\n                  if(settings.allowAdditions) {\n                    module.remove.userAddition();\n                  }\n                  module.remove.searchTerm();\n                  if(!module.is.focusedOnSearch() && !(skipRefocus == true)) {\n                    module.focusSearch(true);\n                  }\n                }\n                if(!settings.useLabels) {\n                  module.remove.filteredItem();\n                  module.set.scrollPosition($choice);\n                }\n                module.determine.selectAction.call(this, text, value);\n              }\n            }\n          },\n\n          document: {\n            // label selection should occur even when element has no focus\n            keydown: function(event) {\n              var\n                pressedKey    = event.which,\n                isShortcutKey = module.is.inObject(pressedKey, keys)\n              ;\n              if(isShortcutKey) {\n                var\n                  $label            = $module.find(selector.label),\n                  $activeLabel      = $label.filter('.' + className.active),\n                  activeValue       = $activeLabel.data(metadata.value),\n                  labelIndex        = $label.index($activeLabel),\n                  labelCount        = $label.length,\n                  hasActiveLabel    = ($activeLabel.length > 0),\n                  hasMultipleActive = ($activeLabel.length > 1),\n                  isFirstLabel      = (labelIndex === 0),\n                  isLastLabel       = (labelIndex + 1 == labelCount),\n                  isSearch          = module.is.searchSelection(),\n                  isFocusedOnSearch = module.is.focusedOnSearch(),\n                  isFocused         = module.is.focused(),\n                  caretAtStart      = (isFocusedOnSearch && module.get.caretPosition() === 0),\n                  $nextLabel\n                ;\n                if(isSearch && !hasActiveLabel && !isFocusedOnSearch) {\n                  return;\n                }\n\n                if(pressedKey == keys.leftArrow) {\n                  // activate previous label\n                  if((isFocused || caretAtStart) && !hasActiveLabel) {\n                    module.verbose('Selecting previous label');\n                    $label.last().addClass(className.active);\n                  }\n                  else if(hasActiveLabel) {\n                    if(!event.shiftKey) {\n                      module.verbose('Selecting previous label');\n                      $label.removeClass(className.active);\n                    }\n                    else {\n                      module.verbose('Adding previous label to selection');\n                    }\n                    if(isFirstLabel && !hasMultipleActive) {\n                      $activeLabel.addClass(className.active);\n                    }\n                    else {\n                      $activeLabel.prev(selector.siblingLabel)\n                        .addClass(className.active)\n                        .end()\n                      ;\n                    }\n                    event.preventDefault();\n                  }\n                }\n                else if(pressedKey == keys.rightArrow) {\n                  // activate first label\n                  if(isFocused && !hasActiveLabel) {\n                    $label.first().addClass(className.active);\n                  }\n                  // activate next label\n                  if(hasActiveLabel) {\n                    if(!event.shiftKey) {\n                      module.verbose('Selecting next label');\n                      $label.removeClass(className.active);\n                    }\n                    else {\n                      module.verbose('Adding next label to selection');\n                    }\n                    if(isLastLabel) {\n                      if(isSearch) {\n                        if(!isFocusedOnSearch) {\n                          module.focusSearch();\n                        }\n                        else {\n                          $label.removeClass(className.active);\n                        }\n                      }\n                      else if(hasMultipleActive) {\n                        $activeLabel.next(selector.siblingLabel).addClass(className.active);\n                      }\n                      else {\n                        $activeLabel.addClass(className.active);\n                      }\n                    }\n                    else {\n                      $activeLabel.next(selector.siblingLabel).addClass(className.active);\n                    }\n                    event.preventDefault();\n                  }\n                }\n                else if(pressedKey == keys.deleteKey || pressedKey == keys.backspace) {\n                  if(hasActiveLabel) {\n                    module.verbose('Removing active labels');\n                    if(isLastLabel) {\n                      if(isSearch && !isFocusedOnSearch) {\n                        module.focusSearch();\n                      }\n                    }\n                    $activeLabel.last().next(selector.siblingLabel).addClass(className.active);\n                    module.remove.activeLabels($activeLabel);\n                    event.preventDefault();\n                  }\n                  else if(caretAtStart && !hasActiveLabel && pressedKey == keys.backspace) {\n                    module.verbose('Removing last label on input backspace');\n                    $activeLabel = $label.last().addClass(className.active);\n                    module.remove.activeLabels($activeLabel);\n                  }\n                }\n                else {\n                  $activeLabel.removeClass(className.active);\n                }\n              }\n            }\n          },\n\n          keydown: function(event) {\n            var\n              pressedKey    = event.which,\n              isShortcutKey = module.is.inObject(pressedKey, keys)\n            ;\n            if(isShortcutKey) {\n              var\n                $currentlySelected = $item.not(selector.unselectable).filter('.' + className.selected).eq(0),\n                $activeItem        = $menu.children('.' + className.active).eq(0),\n                $selectedItem      = ($currentlySelected.length > 0)\n                  ? $currentlySelected\n                  : $activeItem,\n                $visibleItems = ($selectedItem.length > 0)\n                  ? $selectedItem.siblings(':not(.' + className.filtered +')').addBack()\n                  : $menu.children(':not(.' + className.filtered +')'),\n                $subMenu              = $selectedItem.children(selector.menu),\n                $parentMenu           = $selectedItem.closest(selector.menu),\n                inVisibleMenu         = ($parentMenu.hasClass(className.visible) || $parentMenu.hasClass(className.animating) || $parentMenu.parent(selector.menu).length > 0),\n                hasSubMenu            = ($subMenu.length> 0),\n                hasSelectedItem       = ($selectedItem.length > 0),\n                selectedIsSelectable  = ($selectedItem.not(selector.unselectable).length > 0),\n                delimiterPressed      = (pressedKey == keys.delimiter && settings.allowAdditions && module.is.multiple()),\n                isAdditionWithoutMenu = (settings.allowAdditions && settings.hideAdditions && (pressedKey == keys.enter || delimiterPressed) && selectedIsSelectable),\n                $nextItem,\n                isSubMenuItem,\n                newIndex\n              ;\n              // allow selection with menu closed\n              if(isAdditionWithoutMenu) {\n                module.verbose('Selecting item from keyboard shortcut', $selectedItem);\n                module.event.item.click.call($selectedItem, event);\n                if(module.is.searchSelection()) {\n                  module.remove.searchTerm();\n                }\n              }\n\n              // visible menu keyboard shortcuts\n              if( module.is.visible() ) {\n\n                // enter (select or open sub-menu)\n                if(pressedKey == keys.enter || delimiterPressed) {\n                  if(pressedKey == keys.enter && hasSelectedItem && hasSubMenu && !settings.allowCategorySelection) {\n                    module.verbose('Pressed enter on unselectable category, opening sub menu');\n                    pressedKey = keys.rightArrow;\n                  }\n                  else if(selectedIsSelectable) {\n                    module.verbose('Selecting item from keyboard shortcut', $selectedItem);\n                    module.event.item.click.call($selectedItem, event);\n                    if(module.is.searchSelection()) {\n                      module.remove.searchTerm();\n                    }\n                  }\n                  event.preventDefault();\n                }\n\n                // sub-menu actions\n                if(hasSelectedItem) {\n\n                  if(pressedKey == keys.leftArrow) {\n\n                    isSubMenuItem = ($parentMenu[0] !== $menu[0]);\n\n                    if(isSubMenuItem) {\n                      module.verbose('Left key pressed, closing sub-menu');\n                      module.animate.hide(false, $parentMenu);\n                      $selectedItem\n                        .removeClass(className.selected)\n                      ;\n                      $parentMenu\n                        .closest(selector.item)\n                          .addClass(className.selected)\n                      ;\n                      event.preventDefault();\n                    }\n                  }\n\n                  // right arrow (show sub-menu)\n                  if(pressedKey == keys.rightArrow) {\n                    if(hasSubMenu) {\n                      module.verbose('Right key pressed, opening sub-menu');\n                      module.animate.show(false, $subMenu);\n                      $selectedItem\n                        .removeClass(className.selected)\n                      ;\n                      $subMenu\n                        .find(selector.item).eq(0)\n                          .addClass(className.selected)\n                      ;\n                      event.preventDefault();\n                    }\n                  }\n                }\n\n                // up arrow (traverse menu up)\n                if(pressedKey == keys.upArrow) {\n                  $nextItem = (hasSelectedItem && inVisibleMenu)\n                    ? $selectedItem.prevAll(selector.item + ':not(' + selector.unselectable + ')').eq(0)\n                    : $item.eq(0)\n                  ;\n                  if($visibleItems.index( $nextItem ) < 0) {\n                    module.verbose('Up key pressed but reached top of current menu');\n                    event.preventDefault();\n                    return;\n                  }\n                  else {\n                    module.verbose('Up key pressed, changing active item');\n                    $selectedItem\n                      .removeClass(className.selected)\n                    ;\n                    $nextItem\n                      .addClass(className.selected)\n                    ;\n                    module.set.scrollPosition($nextItem);\n                    if(settings.selectOnKeydown && module.is.single()) {\n                      module.set.selectedItem($nextItem);\n                    }\n                  }\n                  event.preventDefault();\n                }\n\n                // down arrow (traverse menu down)\n                if(pressedKey == keys.downArrow) {\n                  $nextItem = (hasSelectedItem && inVisibleMenu)\n                    ? $nextItem = $selectedItem.nextAll(selector.item + ':not(' + selector.unselectable + ')').eq(0)\n                    : $item.eq(0)\n                  ;\n                  if($nextItem.length === 0) {\n                    module.verbose('Down key pressed but reached bottom of current menu');\n                    event.preventDefault();\n                    return;\n                  }\n                  else {\n                    module.verbose('Down key pressed, changing active item');\n                    $item\n                      .removeClass(className.selected)\n                    ;\n                    $nextItem\n                      .addClass(className.selected)\n                    ;\n                    module.set.scrollPosition($nextItem);\n                    if(settings.selectOnKeydown && module.is.single()) {\n                      module.set.selectedItem($nextItem);\n                    }\n                  }\n                  event.preventDefault();\n                }\n\n                // page down (show next page)\n                if(pressedKey == keys.pageUp) {\n                  module.scrollPage('up');\n                  event.preventDefault();\n                }\n                if(pressedKey == keys.pageDown) {\n                  module.scrollPage('down');\n                  event.preventDefault();\n                }\n\n                // escape (close menu)\n                if(pressedKey == keys.escape) {\n                  module.verbose('Escape key pressed, closing dropdown');\n                  module.hide();\n                }\n\n              }\n              else {\n                // delimiter key\n                if(delimiterPressed) {\n                  event.preventDefault();\n                }\n                // down arrow (open menu)\n                if(pressedKey == keys.downArrow && !module.is.visible()) {\n                  module.verbose('Down key pressed, showing dropdown');\n                  module.show();\n                  event.preventDefault();\n                }\n              }\n            }\n            else {\n              if( !module.has.search() ) {\n                module.set.selectedLetter( String.fromCharCode(pressedKey) );\n              }\n            }\n          }\n        },\n\n        trigger: {\n          change: function() {\n            var\n              events       = document.createEvent('HTMLEvents'),\n              inputElement = $input[0]\n            ;\n            if(inputElement) {\n              module.verbose('Triggering native change event');\n              events.initEvent('change', true, false);\n              inputElement.dispatchEvent(events);\n            }\n          }\n        },\n\n        determine: {\n          selectAction: function(text, value) {\n            module.verbose('Determining action', settings.action);\n            if( $.isFunction( module.action[settings.action] ) ) {\n              module.verbose('Triggering preset action', settings.action, text, value);\n              module.action[ settings.action ].call(element, text, value, this);\n            }\n            else if( $.isFunction(settings.action) ) {\n              module.verbose('Triggering user action', settings.action, text, value);\n              settings.action.call(element, text, value, this);\n            }\n            else {\n              module.error(error.action, settings.action);\n            }\n          },\n          eventInModule: function(event, callback) {\n            var\n              $target    = $(event.target),\n              inDocument = ($target.closest(document.documentElement).length > 0),\n              inModule   = ($target.closest($module).length > 0)\n            ;\n            callback = $.isFunction(callback)\n              ? callback\n              : function(){}\n            ;\n            if(inDocument && !inModule) {\n              module.verbose('Triggering event', callback);\n              callback();\n              return true;\n            }\n            else {\n              module.verbose('Event occurred in dropdown, canceling callback');\n              return false;\n            }\n          },\n          eventOnElement: function(event, callback) {\n            var\n              $target      = $(event.target),\n              $label       = $target.closest(selector.siblingLabel),\n              inVisibleDOM = document.body.contains(event.target),\n              notOnLabel   = ($module.find($label).length === 0),\n              notInMenu    = ($target.closest($menu).length === 0)\n            ;\n            callback = $.isFunction(callback)\n              ? callback\n              : function(){}\n            ;\n            if(inVisibleDOM && notOnLabel && notInMenu) {\n              module.verbose('Triggering event', callback);\n              callback();\n              return true;\n            }\n            else {\n              module.verbose('Event occurred in dropdown menu, canceling callback');\n              return false;\n            }\n          }\n        },\n\n        action: {\n\n          nothing: function() {},\n\n          activate: function(text, value, element) {\n            value = (value !== undefined)\n              ? value\n              : text\n            ;\n            if( module.can.activate( $(element) ) ) {\n              module.set.selected(value, $(element));\n              if(module.is.multiple() && !module.is.allFiltered()) {\n                return;\n              }\n              else {\n                module.hideAndClear();\n              }\n            }\n          },\n\n          select: function(text, value, element) {\n            value = (value !== undefined)\n              ? value\n              : text\n            ;\n            if( module.can.activate( $(element) ) ) {\n              module.set.value(value, text, $(element));\n              if(module.is.multiple() && !module.is.allFiltered()) {\n                return;\n              }\n              else {\n                module.hideAndClear();\n              }\n            }\n          },\n\n          combo: function(text, value, element) {\n            value = (value !== undefined)\n              ? value\n              : text\n            ;\n            module.set.selected(value, $(element));\n            module.hideAndClear();\n          },\n\n          hide: function(text, value, element) {\n            module.set.value(value, text);\n            module.hideAndClear();\n          }\n\n        },\n\n        get: {\n          id: function() {\n            return id;\n          },\n          defaultText: function() {\n            return $module.data(metadata.defaultText);\n          },\n          defaultValue: function() {\n            return $module.data(metadata.defaultValue);\n          },\n          placeholderText: function() {\n            if(settings.placeholder != 'auto' && typeof settings.placeholder == 'string') {\n              return settings.placeholder;\n            }\n            return $module.data(metadata.placeholderText) || '';\n          },\n          text: function() {\n            return $text.text();\n          },\n          query: function() {\n            return $.trim($search.val());\n          },\n          searchWidth: function(value) {\n            value = (value !== undefined)\n              ? value\n              : $search.val()\n            ;\n            $sizer.text(value);\n            // prevent rounding issues\n            return Math.ceil( $sizer.width() + 1);\n          },\n          selectionCount: function() {\n            var\n              values = module.get.values(),\n              count\n            ;\n            count = ( module.is.multiple() )\n              ? $.isArray(values)\n                ? values.length\n                : 0\n              : (module.get.value() !== '')\n                ? 1\n                : 0\n            ;\n            return count;\n          },\n          transition: function($subMenu) {\n            return (settings.transition == 'auto')\n              ? module.is.upward($subMenu)\n                ? 'slide up'\n                : 'slide down'\n              : settings.transition\n            ;\n          },\n          userValues: function() {\n            var\n              values = module.get.values()\n            ;\n            if(!values) {\n              return false;\n            }\n            values = $.isArray(values)\n              ? values\n              : [values]\n            ;\n            return $.grep(values, function(value) {\n              return (module.get.item(value) === false);\n            });\n          },\n          uniqueArray: function(array) {\n            return $.grep(array, function (value, index) {\n                return $.inArray(value, array) === index;\n            });\n          },\n          caretPosition: function() {\n            var\n              input = $search.get(0),\n              range,\n              rangeLength\n            ;\n            if('selectionStart' in input) {\n              return input.selectionStart;\n            }\n            else if (document.selection) {\n              input.focus();\n              range       = document.selection.createRange();\n              rangeLength = range.text.length;\n              range.moveStart('character', -input.value.length);\n              return range.text.length - rangeLength;\n            }\n          },\n          value: function() {\n            var\n              value = ($input.length > 0)\n                ? $input.val()\n                : $module.data(metadata.value),\n              isEmptyMultiselect = ($.isArray(value) && value.length === 1 && value[0] === '')\n            ;\n            // prevents placeholder element from being selected when multiple\n            return (value === undefined || isEmptyMultiselect)\n              ? ''\n              : value\n            ;\n          },\n          values: function() {\n            var\n              value = module.get.value()\n            ;\n            if(value === '') {\n              return '';\n            }\n            return ( !module.has.selectInput() && module.is.multiple() )\n              ? (typeof value == 'string') // delimited string\n                ? value.split(settings.delimiter)\n                : ''\n              : value\n            ;\n          },\n          remoteValues: function() {\n            var\n              values = module.get.values(),\n              remoteValues = false\n            ;\n            if(values) {\n              if(typeof values == 'string') {\n                values = [values];\n              }\n              $.each(values, function(index, value) {\n                var\n                  name = module.read.remoteData(value)\n                ;\n                module.verbose('Restoring value from session data', name, value);\n                if(name) {\n                  if(!remoteValues) {\n                    remoteValues = {};\n                  }\n                  remoteValues[value] = name;\n                }\n              });\n            }\n            return remoteValues;\n          },\n          choiceText: function($choice, preserveHTML) {\n            preserveHTML = (preserveHTML !== undefined)\n              ? preserveHTML\n              : settings.preserveHTML\n            ;\n            if($choice) {\n              if($choice.find(selector.menu).length > 0) {\n                module.verbose('Retrieving text of element with sub-menu');\n                $choice = $choice.clone();\n                $choice.find(selector.menu).remove();\n                $choice.find(selector.menuIcon).remove();\n              }\n              return ($choice.data(metadata.text) !== undefined)\n                ? $choice.data(metadata.text)\n                : (preserveHTML)\n                  ? $.trim($choice.html())\n                  : $.trim($choice.text())\n              ;\n            }\n          },\n          choiceValue: function($choice, choiceText) {\n            choiceText = choiceText || module.get.choiceText($choice);\n            if(!$choice) {\n              return false;\n            }\n            return ($choice.data(metadata.value) !== undefined)\n              ? String( $choice.data(metadata.value) )\n              : (typeof choiceText === 'string')\n                ? $.trim(choiceText.toLowerCase())\n                : String(choiceText)\n            ;\n          },\n          inputEvent: function() {\n            var\n              input = $search[0]\n            ;\n            if(input) {\n              return (input.oninput !== undefined)\n                ? 'input'\n                : (input.onpropertychange !== undefined)\n                  ? 'propertychange'\n                  : 'keyup'\n              ;\n            }\n            return false;\n          },\n          selectValues: function() {\n            var\n              select = {}\n            ;\n            select.values = [];\n            $module\n              .find('option')\n                .each(function() {\n                  var\n                    $option  = $(this),\n                    name     = $option.html(),\n                    disabled = $option.attr('disabled'),\n                    value    = ( $option.attr('value') !== undefined )\n                      ? $option.attr('value')\n                      : name\n                  ;\n                  if(settings.placeholder === 'auto' && value === '') {\n                    select.placeholder = name;\n                  }\n                  else {\n                    select.values.push({\n                      name     : name,\n                      value    : value,\n                      disabled : disabled\n                    });\n                  }\n                })\n            ;\n            if(settings.placeholder && settings.placeholder !== 'auto') {\n              module.debug('Setting placeholder value to', settings.placeholder);\n              select.placeholder = settings.placeholder;\n            }\n            if(settings.sortSelect) {\n              select.values.sort(function(a, b) {\n                return (a.name > b.name)\n                  ? 1\n                  : -1\n                ;\n              });\n              module.debug('Retrieved and sorted values from select', select);\n            }\n            else {\n              module.debug('Retrieved values from select', select);\n            }\n            return select;\n          },\n          activeItem: function() {\n            return $item.filter('.'  + className.active);\n          },\n          selectedItem: function() {\n            var\n              $selectedItem = $item.not(selector.unselectable).filter('.'  + className.selected)\n            ;\n            return ($selectedItem.length > 0)\n              ? $selectedItem\n              : $item.eq(0)\n            ;\n          },\n          itemWithAdditions: function(value) {\n            var\n              $items       = module.get.item(value),\n              $userItems   = module.create.userChoice(value),\n              hasUserItems = ($userItems && $userItems.length > 0)\n            ;\n            if(hasUserItems) {\n              $items = ($items.length > 0)\n                ? $items.add($userItems)\n                : $userItems\n              ;\n            }\n            return $items;\n          },\n          item: function(value, strict) {\n            var\n              $selectedItem = false,\n              shouldSearch,\n              isMultiple\n            ;\n            value = (value !== undefined)\n              ? value\n              : ( module.get.values() !== undefined)\n                ? module.get.values()\n                : module.get.text()\n            ;\n            shouldSearch = (isMultiple)\n              ? (value.length > 0)\n              : (value !== undefined && value !== null)\n            ;\n            isMultiple = (module.is.multiple() && $.isArray(value));\n            strict     = (value === '' || value === 0)\n              ? true\n              : strict || false\n            ;\n            if(shouldSearch) {\n              $item\n                .each(function() {\n                  var\n                    $choice       = $(this),\n                    optionText    = module.get.choiceText($choice),\n                    optionValue   = module.get.choiceValue($choice, optionText)\n                  ;\n                  // safe early exit\n                  if(optionValue === null || optionValue === undefined) {\n                    return;\n                  }\n                  if(isMultiple) {\n                    if($.inArray( String(optionValue), value) !== -1 || $.inArray(optionText, value) !== -1) {\n                      $selectedItem = ($selectedItem)\n                        ? $selectedItem.add($choice)\n                        : $choice\n                      ;\n                    }\n                  }\n                  else if(strict) {\n                    module.verbose('Ambiguous dropdown value using strict type check', $choice, value);\n                    if( optionValue === value || optionText === value) {\n                      $selectedItem = $choice;\n                      return true;\n                    }\n                  }\n                  else {\n                    if( String(optionValue) == String(value) || optionText == value) {\n                      module.verbose('Found select item by value', optionValue, value);\n                      $selectedItem = $choice;\n                      return true;\n                    }\n                  }\n                })\n              ;\n            }\n            return $selectedItem;\n          }\n        },\n\n        check: {\n          maxSelections: function(selectionCount) {\n            if(settings.maxSelections) {\n              selectionCount = (selectionCount !== undefined)\n                ? selectionCount\n                : module.get.selectionCount()\n              ;\n              if(selectionCount >= settings.maxSelections) {\n                module.debug('Maximum selection count reached');\n                if(settings.useLabels) {\n                  $item.addClass(className.filtered);\n                  module.add.message(message.maxSelections);\n                }\n                return true;\n              }\n              else {\n                module.verbose('No longer at maximum selection count');\n                module.remove.message();\n                module.remove.filteredItem();\n                if(module.is.searchSelection()) {\n                  module.filterItems();\n                }\n                return false;\n              }\n            }\n            return true;\n          }\n        },\n\n        restore: {\n          defaults: function() {\n            module.clear();\n            module.restore.defaultText();\n            module.restore.defaultValue();\n          },\n          defaultText: function() {\n            var\n              defaultText     = module.get.defaultText(),\n              placeholderText = module.get.placeholderText\n            ;\n            if(defaultText === placeholderText) {\n              module.debug('Restoring default placeholder text', defaultText);\n              module.set.placeholderText(defaultText);\n            }\n            else {\n              module.debug('Restoring default text', defaultText);\n              module.set.text(defaultText);\n            }\n          },\n          placeholderText: function() {\n            module.set.placeholderText();\n          },\n          defaultValue: function() {\n            var\n              defaultValue = module.get.defaultValue()\n            ;\n            if(defaultValue !== undefined) {\n              module.debug('Restoring default value', defaultValue);\n              if(defaultValue !== '') {\n                module.set.value(defaultValue);\n                module.set.selected();\n              }\n              else {\n                module.remove.activeItem();\n                module.remove.selectedItem();\n              }\n            }\n          },\n          labels: function() {\n            if(settings.allowAdditions) {\n              if(!settings.useLabels) {\n                module.error(error.labels);\n                settings.useLabels = true;\n              }\n              module.debug('Restoring selected values');\n              module.create.userLabels();\n            }\n            module.check.maxSelections();\n          },\n          selected: function() {\n            module.restore.values();\n            if(module.is.multiple()) {\n              module.debug('Restoring previously selected values and labels');\n              module.restore.labels();\n            }\n            else {\n              module.debug('Restoring previously selected values');\n            }\n          },\n          values: function() {\n            // prevents callbacks from occurring on initial load\n            module.set.initialLoad();\n            if(settings.apiSettings && settings.saveRemoteData && module.get.remoteValues()) {\n              module.restore.remoteValues();\n            }\n            else {\n              module.set.selected();\n            }\n            module.remove.initialLoad();\n          },\n          remoteValues: function() {\n            var\n              values = module.get.remoteValues()\n            ;\n            module.debug('Recreating selected from session data', values);\n            if(values) {\n              if( module.is.single() ) {\n                $.each(values, function(value, name) {\n                  module.set.text(name);\n                });\n              }\n              else {\n                $.each(values, function(value, name) {\n                  module.add.label(value, name);\n                });\n              }\n            }\n          }\n        },\n\n        read: {\n          remoteData: function(value) {\n            var\n              name\n            ;\n            if(window.Storage === undefined) {\n              module.error(error.noStorage);\n              return;\n            }\n            name = sessionStorage.getItem(value);\n            return (name !== undefined)\n              ? name\n              : false\n            ;\n          }\n        },\n\n        save: {\n          defaults: function() {\n            module.save.defaultText();\n            module.save.placeholderText();\n            module.save.defaultValue();\n          },\n          defaultValue: function() {\n            var\n              value = module.get.value()\n            ;\n            module.verbose('Saving default value as', value);\n            $module.data(metadata.defaultValue, value);\n          },\n          defaultText: function() {\n            var\n              text = module.get.text()\n            ;\n            module.verbose('Saving default text as', text);\n            $module.data(metadata.defaultText, text);\n          },\n          placeholderText: function() {\n            var\n              text\n            ;\n            if(settings.placeholder !== false && $text.hasClass(className.placeholder)) {\n              text = module.get.text();\n              module.verbose('Saving placeholder text as', text);\n              $module.data(metadata.placeholderText, text);\n            }\n          },\n          remoteData: function(name, value) {\n            if(window.Storage === undefined) {\n              module.error(error.noStorage);\n              return;\n            }\n            module.verbose('Saving remote data to session storage', value, name);\n            sessionStorage.setItem(value, name);\n          }\n        },\n\n        clear: function() {\n          if(module.is.multiple() && settings.useLabels) {\n            module.remove.labels();\n          }\n          else {\n            module.remove.activeItem();\n            module.remove.selectedItem();\n          }\n          module.set.placeholderText();\n          module.clearValue();\n        },\n\n        clearValue: function() {\n          module.set.value('');\n        },\n\n        scrollPage: function(direction, $selectedItem) {\n          var\n            $currentItem  = $selectedItem || module.get.selectedItem(),\n            $menu         = $currentItem.closest(selector.menu),\n            menuHeight    = $menu.outerHeight(),\n            currentScroll = $menu.scrollTop(),\n            itemHeight    = $item.eq(0).outerHeight(),\n            itemsPerPage  = Math.floor(menuHeight / itemHeight),\n            maxScroll     = $menu.prop('scrollHeight'),\n            newScroll     = (direction == 'up')\n              ? currentScroll - (itemHeight * itemsPerPage)\n              : currentScroll + (itemHeight * itemsPerPage),\n            $selectableItem = $item.not(selector.unselectable),\n            isWithinRange,\n            $nextSelectedItem,\n            elementIndex\n          ;\n          elementIndex      = (direction == 'up')\n            ? $selectableItem.index($currentItem) - itemsPerPage\n            : $selectableItem.index($currentItem) + itemsPerPage\n          ;\n          isWithinRange = (direction == 'up')\n            ? (elementIndex >= 0)\n            : (elementIndex < $selectableItem.length)\n          ;\n          $nextSelectedItem = (isWithinRange)\n            ? $selectableItem.eq(elementIndex)\n            : (direction == 'up')\n              ? $selectableItem.first()\n              : $selectableItem.last()\n          ;\n          if($nextSelectedItem.length > 0) {\n            module.debug('Scrolling page', direction, $nextSelectedItem);\n            $currentItem\n              .removeClass(className.selected)\n            ;\n            $nextSelectedItem\n              .addClass(className.selected)\n            ;\n            if(settings.selectOnKeydown && module.is.single()) {\n              module.set.selectedItem($nextSelectedItem);\n            }\n            $menu\n              .scrollTop(newScroll)\n            ;\n          }\n        },\n\n        set: {\n          filtered: function() {\n            var\n              isMultiple       = module.is.multiple(),\n              isSearch         = module.is.searchSelection(),\n              isSearchMultiple = (isMultiple && isSearch),\n              searchValue      = (isSearch)\n                ? module.get.query()\n                : '',\n              hasSearchValue   = (typeof searchValue === 'string' && searchValue.length > 0),\n              searchWidth      = module.get.searchWidth(),\n              valueIsSet       = searchValue !== ''\n            ;\n            if(isMultiple && hasSearchValue) {\n              module.verbose('Adjusting input width', searchWidth, settings.glyphWidth);\n              $search.css('width', searchWidth);\n            }\n            if(hasSearchValue || (isSearchMultiple && valueIsSet)) {\n              module.verbose('Hiding placeholder text');\n              $text.addClass(className.filtered);\n            }\n            else if(!isMultiple || (isSearchMultiple && !valueIsSet)) {\n              module.verbose('Showing placeholder text');\n              $text.removeClass(className.filtered);\n            }\n          },\n          empty: function() {\n            $module.addClass(className.empty);\n          },\n          loading: function() {\n            $module.addClass(className.loading);\n          },\n          placeholderText: function(text) {\n            text = text || module.get.placeholderText();\n            module.debug('Setting placeholder text', text);\n            module.set.text(text);\n            $text.addClass(className.placeholder);\n          },\n          tabbable: function() {\n            if( module.is.searchSelection() ) {\n              module.debug('Added tabindex to searchable dropdown');\n              $search\n                .val('')\n                .attr('tabindex', 0)\n              ;\n              $menu\n                .attr('tabindex', -1)\n              ;\n            }\n            else {\n              module.debug('Added tabindex to dropdown');\n              if( $module.attr('tabindex') === undefined) {\n                $module\n                  .attr('tabindex', 0)\n                ;\n                $menu\n                  .attr('tabindex', -1)\n                ;\n              }\n            }\n          },\n          initialLoad: function() {\n            module.verbose('Setting initial load');\n            initialLoad = true;\n          },\n          activeItem: function($item) {\n            if( settings.allowAdditions && $item.filter(selector.addition).length > 0 ) {\n              $item.addClass(className.filtered);\n            }\n            else {\n              $item.addClass(className.active);\n            }\n          },\n          partialSearch: function(text) {\n            var\n              length = module.get.query().length\n            ;\n            $search.val( text.substr(0, length));\n          },\n          scrollPosition: function($item, forceScroll) {\n            var\n              edgeTolerance = 5,\n              $menu,\n              hasActive,\n              offset,\n              itemHeight,\n              itemOffset,\n              menuOffset,\n              menuScroll,\n              menuHeight,\n              abovePage,\n              belowPage\n            ;\n\n            $item       = $item || module.get.selectedItem();\n            $menu       = $item.closest(selector.menu);\n            hasActive   = ($item && $item.length > 0);\n            forceScroll = (forceScroll !== undefined)\n              ? forceScroll\n              : false\n            ;\n            if($item && $menu.length > 0 && hasActive) {\n              itemOffset = $item.position().top;\n\n              $menu.addClass(className.loading);\n              menuScroll = $menu.scrollTop();\n              menuOffset = $menu.offset().top;\n              itemOffset = $item.offset().top;\n              offset     = menuScroll - menuOffset + itemOffset;\n              if(!forceScroll) {\n                menuHeight = $menu.height();\n                belowPage  = menuScroll + menuHeight < (offset + edgeTolerance);\n                abovePage  = ((offset - edgeTolerance) < menuScroll);\n              }\n              module.debug('Scrolling to active item', offset);\n              if(forceScroll || abovePage || belowPage) {\n                $menu.scrollTop(offset);\n              }\n              $menu.removeClass(className.loading);\n            }\n          },\n          text: function(text) {\n            if(settings.action !== 'select') {\n              if(settings.action == 'combo') {\n                module.debug('Changing combo button text', text, $combo);\n                if(settings.preserveHTML) {\n                  $combo.html(text);\n                }\n                else {\n                  $combo.text(text);\n                }\n              }\n              else {\n                if(text !== module.get.placeholderText()) {\n                  $text.removeClass(className.placeholder);\n                }\n                module.debug('Changing text', text, $text);\n                $text\n                  .removeClass(className.filtered)\n                ;\n                if(settings.preserveHTML) {\n                  $text.html(text);\n                }\n                else {\n                  $text.text(text);\n                }\n              }\n            }\n          },\n          selectedItem: function($item) {\n            var\n              value      = module.get.choiceValue($item),\n              searchText = module.get.choiceText($item, false),\n              text       = module.get.choiceText($item, true)\n            ;\n            module.debug('Setting user selection to item', $item);\n            module.remove.activeItem();\n            module.set.partialSearch(searchText);\n            module.set.activeItem($item);\n            module.set.selected(value, $item);\n            module.set.text(text);\n          },\n          selectedLetter: function(letter) {\n            var\n              $selectedItem         = $item.filter('.' + className.selected),\n              alreadySelectedLetter = $selectedItem.length > 0 && module.has.firstLetter($selectedItem, letter),\n              $nextValue            = false,\n              $nextItem\n            ;\n            // check next of same letter\n            if(alreadySelectedLetter) {\n              $nextItem = $selectedItem.nextAll($item).eq(0);\n              if( module.has.firstLetter($nextItem, letter) ) {\n                $nextValue  = $nextItem;\n              }\n            }\n            // check all values\n            if(!$nextValue) {\n              $item\n                .each(function(){\n                  if(module.has.firstLetter($(this), letter)) {\n                    $nextValue = $(this);\n                    return false;\n                  }\n                })\n              ;\n            }\n            // set next value\n            if($nextValue) {\n              module.verbose('Scrolling to next value with letter', letter);\n              module.set.scrollPosition($nextValue);\n              $selectedItem.removeClass(className.selected);\n              $nextValue.addClass(className.selected);\n              if(settings.selectOnKeydown && module.is.single()) {\n                module.set.selectedItem($nextValue);\n              }\n            }\n          },\n          direction: function($menu) {\n            if(settings.direction == 'auto') {\n              // reset position\n              module.remove.upward();\n\n              if(module.can.openDownward($menu)) {\n                module.remove.upward($menu);\n              }\n              else {\n                module.set.upward($menu);\n              }\n              if(!module.is.leftward($menu) && !module.can.openRightward($menu)) {\n                module.set.leftward($menu);\n              }\n            }\n            else if(settings.direction == 'upward') {\n              module.set.upward($menu);\n            }\n          },\n          upward: function($currentMenu) {\n            var $element = $currentMenu || $module;\n            $element.addClass(className.upward);\n          },\n          leftward: function($currentMenu) {\n            var $element = $currentMenu || $menu;\n            $element.addClass(className.leftward);\n          },\n          value: function(value, text, $selected) {\n            var\n              escapedValue = module.escape.value(value),\n              hasInput     = ($input.length > 0),\n              currentValue = module.get.values(),\n              stringValue  = (value !== undefined)\n                ? String(value)\n                : value,\n              newValue\n            ;\n            if(hasInput) {\n              if(!settings.allowReselection && stringValue == currentValue) {\n                module.verbose('Skipping value update already same value', value, currentValue);\n                if(!module.is.initialLoad()) {\n                  return;\n                }\n              }\n\n              if( module.is.single() && module.has.selectInput() && module.can.extendSelect() ) {\n                module.debug('Adding user option', value);\n                module.add.optionValue(value);\n              }\n              module.debug('Updating input value', escapedValue, currentValue);\n              internalChange = true;\n              $input\n                .val(escapedValue)\n              ;\n              if(settings.fireOnInit === false && module.is.initialLoad()) {\n                module.debug('Input native change event ignored on initial load');\n              }\n              else {\n                module.trigger.change();\n              }\n              internalChange = false;\n            }\n            else {\n              module.verbose('Storing value in metadata', escapedValue, $input);\n              if(escapedValue !== currentValue) {\n                $module.data(metadata.value, stringValue);\n              }\n            }\n            if(settings.fireOnInit === false && module.is.initialLoad()) {\n              module.verbose('No callback on initial load', settings.onChange);\n            }\n            else {\n              settings.onChange.call(element, value, text, $selected);\n            }\n          },\n          active: function() {\n            $module\n              .addClass(className.active)\n            ;\n          },\n          multiple: function() {\n            $module.addClass(className.multiple);\n          },\n          visible: function() {\n            $module.addClass(className.visible);\n          },\n          exactly: function(value, $selectedItem) {\n            module.debug('Setting selected to exact values');\n            module.clear();\n            module.set.selected(value, $selectedItem);\n          },\n          selected: function(value, $selectedItem) {\n            var\n              isMultiple = module.is.multiple(),\n              $userSelectedItem\n            ;\n            $selectedItem = (settings.allowAdditions)\n              ? $selectedItem || module.get.itemWithAdditions(value)\n              : $selectedItem || module.get.item(value)\n            ;\n            if(!$selectedItem) {\n              return;\n            }\n            module.debug('Setting selected menu item to', $selectedItem);\n            if(module.is.multiple()) {\n              module.remove.searchWidth();\n            }\n            if(module.is.single()) {\n              module.remove.activeItem();\n              module.remove.selectedItem();\n            }\n            else if(settings.useLabels) {\n              module.remove.selectedItem();\n            }\n            // select each item\n            $selectedItem\n              .each(function() {\n                var\n                  $selected      = $(this),\n                  selectedText   = module.get.choiceText($selected),\n                  selectedValue  = module.get.choiceValue($selected, selectedText),\n\n                  isFiltered     = $selected.hasClass(className.filtered),\n                  isActive       = $selected.hasClass(className.active),\n                  isUserValue    = $selected.hasClass(className.addition),\n                  shouldAnimate  = (isMultiple && $selectedItem.length == 1)\n                ;\n                if(isMultiple) {\n                  if(!isActive || isUserValue) {\n                    if(settings.apiSettings && settings.saveRemoteData) {\n                      module.save.remoteData(selectedText, selectedValue);\n                    }\n                    if(settings.useLabels) {\n                      module.add.label(selectedValue, selectedText, shouldAnimate);\n                      module.add.value(selectedValue, selectedText, $selected);\n                      module.set.activeItem($selected);\n                      module.filterActive();\n                      module.select.nextAvailable($selectedItem);\n                    }\n                    else {\n                      module.add.value(selectedValue, selectedText, $selected);\n                      module.set.text(module.add.variables(message.count));\n                      module.set.activeItem($selected);\n                    }\n                  }\n                  else if(!isFiltered) {\n                    module.debug('Selected active value, removing label');\n                    module.remove.selected(selectedValue);\n                  }\n                }\n                else {\n                  if(settings.apiSettings && settings.saveRemoteData) {\n                    module.save.remoteData(selectedText, selectedValue);\n                  }\n                  module.set.text(selectedText);\n                  module.set.value(selectedValue, selectedText, $selected);\n                  $selected\n                    .addClass(className.active)\n                    .addClass(className.selected)\n                  ;\n                }\n              })\n            ;\n          }\n        },\n\n        add: {\n          label: function(value, text, shouldAnimate) {\n            var\n              $next  = module.is.searchSelection()\n                ? $search\n                : $text,\n              escapedValue = module.escape.value(value),\n              $label\n            ;\n            if(settings.ignoreCase) {\n              escapedValue = escapedValue.toLowerCase();\n            }\n            $label =  $('<a />')\n              .addClass(className.label)\n              .attr('data-' + metadata.value, escapedValue)\n              .html(templates.label(escapedValue, text))\n            ;\n            $label = settings.onLabelCreate.call($label, escapedValue, text);\n\n            if(module.has.label(value)) {\n              module.debug('User selection already exists, skipping', escapedValue);\n              return;\n            }\n            if(settings.label.variation) {\n              $label.addClass(settings.label.variation);\n            }\n            if(shouldAnimate === true) {\n              module.debug('Animating in label', $label);\n              $label\n                .addClass(className.hidden)\n                .insertBefore($next)\n                .transition(settings.label.transition, settings.label.duration)\n              ;\n            }\n            else {\n              module.debug('Adding selection label', $label);\n              $label\n                .insertBefore($next)\n              ;\n            }\n          },\n          message: function(message) {\n            var\n              $message = $menu.children(selector.message),\n              html     = settings.templates.message(module.add.variables(message))\n            ;\n            if($message.length > 0) {\n              $message\n                .html(html)\n              ;\n            }\n            else {\n              $message = $('<div/>')\n                .html(html)\n                .addClass(className.message)\n                .appendTo($menu)\n              ;\n            }\n          },\n          optionValue: function(value) {\n            var\n              escapedValue = module.escape.value(value),\n              $option      = $input.find('option[value=\"' + module.escape.string(escapedValue) + '\"]'),\n              hasOption    = ($option.length > 0)\n            ;\n            if(hasOption) {\n              return;\n            }\n            // temporarily disconnect observer\n            module.disconnect.selectObserver();\n            if( module.is.single() ) {\n              module.verbose('Removing previous user addition');\n              $input.find('option.' + className.addition).remove();\n            }\n            $('<option/>')\n              .prop('value', escapedValue)\n              .addClass(className.addition)\n              .html(value)\n              .appendTo($input)\n            ;\n            module.verbose('Adding user addition as an <option>', value);\n            module.observe.select();\n          },\n          userSuggestion: function(value) {\n            var\n              $addition         = $menu.children(selector.addition),\n              $existingItem     = module.get.item(value),\n              alreadyHasValue   = $existingItem && $existingItem.not(selector.addition).length,\n              hasUserSuggestion = $addition.length > 0,\n              html\n            ;\n            if(settings.useLabels && module.has.maxSelections()) {\n              return;\n            }\n            if(value === '' || alreadyHasValue) {\n              $addition.remove();\n              return;\n            }\n            if(hasUserSuggestion) {\n              $addition\n                .data(metadata.value, value)\n                .data(metadata.text, value)\n                .attr('data-' + metadata.value, value)\n                .attr('data-' + metadata.text, value)\n                .removeClass(className.filtered)\n              ;\n              if(!settings.hideAdditions) {\n                html = settings.templates.addition( module.add.variables(message.addResult, value) );\n                $addition\n                  .html(html)\n                ;\n              }\n              module.verbose('Replacing user suggestion with new value', $addition);\n            }\n            else {\n              $addition = module.create.userChoice(value);\n              $addition\n                .prependTo($menu)\n              ;\n              module.verbose('Adding item choice to menu corresponding with user choice addition', $addition);\n            }\n            if(!settings.hideAdditions || module.is.allFiltered()) {\n              $addition\n                .addClass(className.selected)\n                .siblings()\n                .removeClass(className.selected)\n              ;\n            }\n            module.refreshItems();\n          },\n          variables: function(message, term) {\n            var\n              hasCount    = (message.search('{count}') !== -1),\n              hasMaxCount = (message.search('{maxCount}') !== -1),\n              hasTerm     = (message.search('{term}') !== -1),\n              values,\n              count,\n              query\n            ;\n            module.verbose('Adding templated variables to message', message);\n            if(hasCount) {\n              count  = module.get.selectionCount();\n              message = message.replace('{count}', count);\n            }\n            if(hasMaxCount) {\n              count  = module.get.selectionCount();\n              message = message.replace('{maxCount}', settings.maxSelections);\n            }\n            if(hasTerm) {\n              query   = term || module.get.query();\n              message = message.replace('{term}', query);\n            }\n            return message;\n          },\n          value: function(addedValue, addedText, $selectedItem) {\n            var\n              currentValue = module.get.values(),\n              newValue\n            ;\n            if(module.has.value(addedValue)) {\n              module.debug('Value already selected');\n              return;\n            }\n            if(addedValue === '') {\n              module.debug('Cannot select blank values from multiselect');\n              return;\n            }\n            // extend current array\n            if($.isArray(currentValue)) {\n              newValue = currentValue.concat([addedValue]);\n              newValue = module.get.uniqueArray(newValue);\n            }\n            else {\n              newValue = [addedValue];\n            }\n            // add values\n            if( module.has.selectInput() ) {\n              if(module.can.extendSelect()) {\n                module.debug('Adding value to select', addedValue, newValue, $input);\n                module.add.optionValue(addedValue);\n              }\n            }\n            else {\n              newValue = newValue.join(settings.delimiter);\n              module.debug('Setting hidden input to delimited value', newValue, $input);\n            }\n\n            if(settings.fireOnInit === false && module.is.initialLoad()) {\n              module.verbose('Skipping onadd callback on initial load', settings.onAdd);\n            }\n            else {\n              settings.onAdd.call(element, addedValue, addedText, $selectedItem);\n            }\n            module.set.value(newValue, addedValue, addedText, $selectedItem);\n            module.check.maxSelections();\n          }\n        },\n\n        remove: {\n          active: function() {\n            $module.removeClass(className.active);\n          },\n          activeLabel: function() {\n            $module.find(selector.label).removeClass(className.active);\n          },\n          empty: function() {\n            $module.removeClass(className.empty);\n          },\n          loading: function() {\n            $module.removeClass(className.loading);\n          },\n          initialLoad: function() {\n            initialLoad = false;\n          },\n          upward: function($currentMenu) {\n            var $element = $currentMenu || $module;\n            $element.removeClass(className.upward);\n          },\n          leftward: function($currentMenu) {\n            var $element = $currentMenu || $menu;\n            $element.removeClass(className.leftward);\n          },\n          visible: function() {\n            $module.removeClass(className.visible);\n          },\n          activeItem: function() {\n            $item.removeClass(className.active);\n          },\n          filteredItem: function() {\n            if(settings.useLabels && module.has.maxSelections() ) {\n              return;\n            }\n            if(settings.useLabels && module.is.multiple()) {\n              $item.not('.' + className.active).removeClass(className.filtered);\n            }\n            else {\n              $item.removeClass(className.filtered);\n            }\n            module.remove.empty();\n          },\n          optionValue: function(value) {\n            var\n              escapedValue = module.escape.value(value),\n              $option      = $input.find('option[value=\"' + module.escape.string(escapedValue) + '\"]'),\n              hasOption    = ($option.length > 0)\n            ;\n            if(!hasOption || !$option.hasClass(className.addition)) {\n              return;\n            }\n            // temporarily disconnect observer\n            if(selectObserver) {\n              selectObserver.disconnect();\n              module.verbose('Temporarily disconnecting mutation observer');\n            }\n            $option.remove();\n            module.verbose('Removing user addition as an <option>', escapedValue);\n            if(selectObserver) {\n              selectObserver.observe($input[0], {\n                childList : true,\n                subtree   : true\n              });\n            }\n          },\n          message: function() {\n            $menu.children(selector.message).remove();\n          },\n          searchWidth: function() {\n            $search.css('width', '');\n          },\n          searchTerm: function() {\n            module.verbose('Cleared search term');\n            $search.val('');\n            module.set.filtered();\n          },\n          userAddition: function() {\n            $item.filter(selector.addition).remove();\n          },\n          selected: function(value, $selectedItem) {\n            $selectedItem = (settings.allowAdditions)\n              ? $selectedItem || module.get.itemWithAdditions(value)\n              : $selectedItem || module.get.item(value)\n            ;\n\n            if(!$selectedItem) {\n              return false;\n            }\n\n            $selectedItem\n              .each(function() {\n                var\n                  $selected     = $(this),\n                  selectedText  = module.get.choiceText($selected),\n                  selectedValue = module.get.choiceValue($selected, selectedText)\n                ;\n                if(module.is.multiple()) {\n                  if(settings.useLabels) {\n                    module.remove.value(selectedValue, selectedText, $selected);\n                    module.remove.label(selectedValue);\n                  }\n                  else {\n                    module.remove.value(selectedValue, selectedText, $selected);\n                    if(module.get.selectionCount() === 0) {\n                      module.set.placeholderText();\n                    }\n                    else {\n                      module.set.text(module.add.variables(message.count));\n                    }\n                  }\n                }\n                else {\n                  module.remove.value(selectedValue, selectedText, $selected);\n                }\n                $selected\n                  .removeClass(className.filtered)\n                  .removeClass(className.active)\n                ;\n                if(settings.useLabels) {\n                  $selected.removeClass(className.selected);\n                }\n              })\n            ;\n          },\n          selectedItem: function() {\n            $item.removeClass(className.selected);\n          },\n          value: function(removedValue, removedText, $removedItem) {\n            var\n              values = module.get.values(),\n              newValue\n            ;\n            if( module.has.selectInput() ) {\n              module.verbose('Input is <select> removing selected option', removedValue);\n              newValue = module.remove.arrayValue(removedValue, values);\n              module.remove.optionValue(removedValue);\n            }\n            else {\n              module.verbose('Removing from delimited values', removedValue);\n              newValue = module.remove.arrayValue(removedValue, values);\n              newValue = newValue.join(settings.delimiter);\n            }\n            if(settings.fireOnInit === false && module.is.initialLoad()) {\n              module.verbose('No callback on initial load', settings.onRemove);\n            }\n            else {\n              settings.onRemove.call(element, removedValue, removedText, $removedItem);\n            }\n            module.set.value(newValue, removedText, $removedItem);\n            module.check.maxSelections();\n          },\n          arrayValue: function(removedValue, values) {\n            if( !$.isArray(values) ) {\n              values = [values];\n            }\n            values = $.grep(values, function(value){\n              return (removedValue != value);\n            });\n            module.verbose('Removed value from delimited string', removedValue, values);\n            return values;\n          },\n          label: function(value, shouldAnimate) {\n            var\n              $labels       = $module.find(selector.label),\n              $removedLabel = $labels.filter('[data-' + metadata.value + '=\"' + module.escape.string(value) +'\"]')\n            ;\n            module.verbose('Removing label', $removedLabel);\n            $removedLabel.remove();\n          },\n          activeLabels: function($activeLabels) {\n            $activeLabels = $activeLabels || $module.find(selector.label).filter('.' + className.active);\n            module.verbose('Removing active label selections', $activeLabels);\n            module.remove.labels($activeLabels);\n          },\n          labels: function($labels) {\n            $labels = $labels || $module.find(selector.label);\n            module.verbose('Removing labels', $labels);\n            $labels\n              .each(function(){\n                var\n                  $label      = $(this),\n                  value       = $label.data(metadata.value),\n                  stringValue = (value !== undefined)\n                    ? String(value)\n                    : value,\n                  isUserValue = module.is.userValue(stringValue)\n                ;\n                if(settings.onLabelRemove.call($label, value) === false) {\n                  module.debug('Label remove callback cancelled removal');\n                  return;\n                }\n                module.remove.message();\n                if(isUserValue) {\n                  module.remove.value(stringValue);\n                  module.remove.label(stringValue);\n                }\n                else {\n                  // selected will also remove label\n                  module.remove.selected(stringValue);\n                }\n              })\n            ;\n          },\n          tabbable: function() {\n            if( module.is.searchSelection() ) {\n              module.debug('Searchable dropdown initialized');\n              $search\n                .removeAttr('tabindex')\n              ;\n              $menu\n                .removeAttr('tabindex')\n              ;\n            }\n            else {\n              module.debug('Simple selection dropdown initialized');\n              $module\n                .removeAttr('tabindex')\n              ;\n              $menu\n                .removeAttr('tabindex')\n              ;\n            }\n          }\n        },\n\n        has: {\n          menuSearch: function() {\n            return (module.has.search() && $search.closest($menu).length > 0);\n          },\n          search: function() {\n            return ($search.length > 0);\n          },\n          sizer: function() {\n            return ($sizer.length > 0);\n          },\n          selectInput: function() {\n            return ( $input.is('select') );\n          },\n          minCharacters: function(searchTerm) {\n            if(settings.minCharacters) {\n              searchTerm = (searchTerm !== undefined)\n                ? String(searchTerm)\n                : String(module.get.query())\n              ;\n              return (searchTerm.length >= settings.minCharacters);\n            }\n            return true;\n          },\n          firstLetter: function($item, letter) {\n            var\n              text,\n              firstLetter\n            ;\n            if(!$item || $item.length === 0 || typeof letter !== 'string') {\n              return false;\n            }\n            text        = module.get.choiceText($item, false);\n            letter      = letter.toLowerCase();\n            firstLetter = String(text).charAt(0).toLowerCase();\n            return (letter == firstLetter);\n          },\n          input: function() {\n            return ($input.length > 0);\n          },\n          items: function() {\n            return ($item.length > 0);\n          },\n          menu: function() {\n            return ($menu.length > 0);\n          },\n          message: function() {\n            return ($menu.children(selector.message).length !== 0);\n          },\n          label: function(value) {\n            var\n              escapedValue = module.escape.value(value),\n              $labels      = $module.find(selector.label)\n            ;\n            if(settings.ignoreCase) {\n              escapedValue = escapedValue.toLowerCase();\n            }\n            return ($labels.filter('[data-' + metadata.value + '=\"' + module.escape.string(escapedValue) +'\"]').length > 0);\n          },\n          maxSelections: function() {\n            return (settings.maxSelections && module.get.selectionCount() >= settings.maxSelections);\n          },\n          allResultsFiltered: function() {\n            var\n              $normalResults = $item.not(selector.addition)\n            ;\n            return ($normalResults.filter(selector.unselectable).length === $normalResults.length);\n          },\n          userSuggestion: function() {\n            return ($menu.children(selector.addition).length > 0);\n          },\n          query: function() {\n            return (module.get.query() !== '');\n          },\n          value: function(value) {\n            return (settings.ignoreCase)\n              ? module.has.valueIgnoringCase(value)\n              : module.has.valueMatchingCase(value)\n            ;\n          },\n          valueMatchingCase: function(value) {\n            var\n              values   = module.get.values(),\n              hasValue = $.isArray(values)\n               ? values && ($.inArray(value, values) !== -1)\n               : (values == value)\n            ;\n            return (hasValue)\n              ? true\n              : false\n            ;\n          },\n          valueIgnoringCase: function(value) {\n            var\n              values   = module.get.values(),\n              hasValue = false\n            ;\n            if(!$.isArray(values)) {\n              values = [values];\n            }\n            $.each(values, function(index, existingValue) {\n              if(String(value).toLowerCase() == String(existingValue).toLowerCase()) {\n                hasValue = true;\n                return false;\n              }\n            });\n            return hasValue;\n          }\n        },\n\n        is: {\n          active: function() {\n            return $module.hasClass(className.active);\n          },\n          animatingInward: function() {\n            return $menu.transition('is inward');\n          },\n          animatingOutward: function() {\n            return $menu.transition('is outward');\n          },\n          bubbledLabelClick: function(event) {\n            return $(event.target).is('select, input') && $module.closest('label').length > 0;\n          },\n          bubbledIconClick: function(event) {\n            return $(event.target).closest($icon).length > 0;\n          },\n          alreadySetup: function() {\n            return ($module.is('select') && $module.parent(selector.dropdown).data(moduleNamespace) !== undefined && $module.prev().length === 0);\n          },\n          animating: function($subMenu) {\n            return ($subMenu)\n              ? $subMenu.transition && $subMenu.transition('is animating')\n              : $menu.transition    && $menu.transition('is animating')\n            ;\n          },\n          leftward: function($subMenu) {\n            var $selectedMenu = $subMenu || $menu;\n            return $selectedMenu.hasClass(className.leftward);\n          },\n          disabled: function() {\n            return $module.hasClass(className.disabled);\n          },\n          focused: function() {\n            return (document.activeElement === $module[0]);\n          },\n          focusedOnSearch: function() {\n            return (document.activeElement === $search[0]);\n          },\n          allFiltered: function() {\n            return( (module.is.multiple() || module.has.search()) && !(settings.hideAdditions == false && module.has.userSuggestion()) && !module.has.message() && module.has.allResultsFiltered() );\n          },\n          hidden: function($subMenu) {\n            return !module.is.visible($subMenu);\n          },\n          initialLoad: function() {\n            return initialLoad;\n          },\n          inObject: function(needle, object) {\n            var\n              found = false\n            ;\n            $.each(object, function(index, property) {\n              if(property == needle) {\n                found = true;\n                return true;\n              }\n            });\n            return found;\n          },\n          multiple: function() {\n            return $module.hasClass(className.multiple);\n          },\n          remote: function() {\n            return settings.apiSettings && module.can.useAPI();\n          },\n          single: function() {\n            return !module.is.multiple();\n          },\n          selectMutation: function(mutations) {\n            var\n              selectChanged = false\n            ;\n            $.each(mutations, function(index, mutation) {\n              if(mutation.target && $(mutation.target).is('select')) {\n                selectChanged = true;\n                return true;\n              }\n            });\n            return selectChanged;\n          },\n          search: function() {\n            return $module.hasClass(className.search);\n          },\n          searchSelection: function() {\n            return ( module.has.search() && $search.parent(selector.dropdown).length === 1 );\n          },\n          selection: function() {\n            return $module.hasClass(className.selection);\n          },\n          userValue: function(value) {\n            return ($.inArray(value, module.get.userValues()) !== -1);\n          },\n          upward: function($menu) {\n            var $element = $menu || $module;\n            return $element.hasClass(className.upward);\n          },\n          visible: function($subMenu) {\n            return ($subMenu)\n              ? $subMenu.hasClass(className.visible)\n              : $menu.hasClass(className.visible)\n            ;\n          },\n          verticallyScrollableContext: function() {\n            var\n              overflowY = ($context.get(0) !== window)\n                ? $context.css('overflow-y')\n                : false\n            ;\n            return (overflowY == 'auto' || overflowY == 'scroll');\n          },\n          horizontallyScrollableContext: function() {\n            var\n              overflowX = ($context.get(0) !== window)\n                ? $context.css('overflow-X')\n                : false\n            ;\n            return (overflowX == 'auto' || overflowX == 'scroll');\n          }\n        },\n\n        can: {\n          activate: function($item) {\n            if(settings.useLabels) {\n              return true;\n            }\n            if(!module.has.maxSelections()) {\n              return true;\n            }\n            if(module.has.maxSelections() && $item.hasClass(className.active)) {\n              return true;\n            }\n            return false;\n          },\n          openDownward: function($subMenu) {\n            var\n              $currentMenu    = $subMenu || $menu,\n              canOpenDownward = true,\n              onScreen        = {},\n              calculations\n            ;\n            $currentMenu\n              .addClass(className.loading)\n            ;\n            calculations = {\n              context: {\n                offset    : ($context.get(0) === window)\n                  ? { top: 0, left: 0}\n                  : $context.offset(),\n                scrollTop : $context.scrollTop(),\n                height    : $context.outerHeight()\n              },\n              menu : {\n                offset: $currentMenu.offset(),\n                height: $currentMenu.outerHeight()\n              }\n            };\n            if(module.is.verticallyScrollableContext()) {\n              calculations.menu.offset.top += calculations.context.scrollTop;\n            }\n            onScreen = {\n              above : (calculations.context.scrollTop) <= calculations.menu.offset.top - calculations.context.offset.top - calculations.menu.height,\n              below : (calculations.context.scrollTop + calculations.context.height) >= calculations.menu.offset.top - calculations.context.offset.top + calculations.menu.height\n            };\n            if(onScreen.below) {\n              module.verbose('Dropdown can fit in context downward', onScreen);\n              canOpenDownward = true;\n            }\n            else if(!onScreen.below && !onScreen.above) {\n              module.verbose('Dropdown cannot fit in either direction, favoring downward', onScreen);\n              canOpenDownward = true;\n            }\n            else {\n              module.verbose('Dropdown cannot fit below, opening upward', onScreen);\n              canOpenDownward = false;\n            }\n            $currentMenu.removeClass(className.loading);\n            return canOpenDownward;\n          },\n          openRightward: function($subMenu) {\n            var\n              $currentMenu     = $subMenu || $menu,\n              canOpenRightward = true,\n              isOffscreenRight = false,\n              calculations\n            ;\n            $currentMenu\n              .addClass(className.loading)\n            ;\n            calculations = {\n              context: {\n                offset     : ($context.get(0) === window)\n                  ? { top: 0, left: 0}\n                  : $context.offset(),\n                scrollLeft : $context.scrollLeft(),\n                width      : $context.outerWidth()\n              },\n              menu: {\n                offset : $currentMenu.offset(),\n                width  : $currentMenu.outerWidth()\n              }\n            };\n            if(module.is.horizontallyScrollableContext()) {\n              calculations.menu.offset.left += calculations.context.scrollLeft;\n            }\n            isOffscreenRight = (calculations.menu.offset.left - calculations.context.offset.left + calculations.menu.width >= calculations.context.scrollLeft + calculations.context.width);\n            if(isOffscreenRight) {\n              module.verbose('Dropdown cannot fit in context rightward', isOffscreenRight);\n              canOpenRightward = false;\n            }\n            $currentMenu.removeClass(className.loading);\n            return canOpenRightward;\n          },\n          click: function() {\n            return (hasTouch || settings.on == 'click');\n          },\n          extendSelect: function() {\n            return settings.allowAdditions || settings.apiSettings;\n          },\n          show: function() {\n            return !module.is.disabled() && (module.has.items() || module.has.message());\n          },\n          useAPI: function() {\n            return $.fn.api !== undefined;\n          }\n        },\n\n        animate: {\n          show: function(callback, $subMenu) {\n            var\n              $currentMenu = $subMenu || $menu,\n              start = ($subMenu)\n                ? function() {}\n                : function() {\n                  module.hideSubMenus();\n                  module.hideOthers();\n                  module.set.active();\n                },\n              transition\n            ;\n            callback = $.isFunction(callback)\n              ? callback\n              : function(){}\n            ;\n            module.verbose('Doing menu show animation', $currentMenu);\n            module.set.direction($subMenu);\n            transition = module.get.transition($subMenu);\n            if( module.is.selection() ) {\n              module.set.scrollPosition(module.get.selectedItem(), true);\n            }\n            if( module.is.hidden($currentMenu) || module.is.animating($currentMenu) ) {\n              if(transition == 'none') {\n                start();\n                $currentMenu.transition('show');\n                callback.call(element);\n              }\n              else if($.fn.transition !== undefined && $module.transition('is supported')) {\n                $currentMenu\n                  .transition({\n                    animation  : transition + ' in',\n                    debug      : settings.debug,\n                    verbose    : settings.verbose,\n                    duration   : settings.duration,\n                    queue      : true,\n                    onStart    : start,\n                    onComplete : function() {\n                      callback.call(element);\n                    }\n                  })\n                ;\n              }\n              else {\n                module.error(error.noTransition, transition);\n              }\n            }\n          },\n          hide: function(callback, $subMenu) {\n            var\n              $currentMenu = $subMenu || $menu,\n              duration = ($subMenu)\n                ? (settings.duration * 0.9)\n                : settings.duration,\n              start = ($subMenu)\n                ? function() {}\n                : function() {\n                  if( module.can.click() ) {\n                    module.unbind.intent();\n                  }\n                  module.remove.active();\n                },\n              transition = module.get.transition($subMenu)\n            ;\n            callback = $.isFunction(callback)\n              ? callback\n              : function(){}\n            ;\n            if( module.is.visible($currentMenu) || module.is.animating($currentMenu) ) {\n              module.verbose('Doing menu hide animation', $currentMenu);\n\n              if(transition == 'none') {\n                start();\n                $currentMenu.transition('hide');\n                callback.call(element);\n              }\n              else if($.fn.transition !== undefined && $module.transition('is supported')) {\n                $currentMenu\n                  .transition({\n                    animation  : transition + ' out',\n                    duration   : settings.duration,\n                    debug      : settings.debug,\n                    verbose    : settings.verbose,\n                    queue      : false,\n                    onStart    : start,\n                    onComplete : function() {\n                      callback.call(element);\n                    }\n                  })\n                ;\n              }\n              else {\n                module.error(error.transition);\n              }\n            }\n          }\n        },\n\n        hideAndClear: function() {\n          module.remove.searchTerm();\n          if( module.has.maxSelections() ) {\n            return;\n          }\n          if(module.has.search()) {\n            module.hide(function() {\n              module.remove.filteredItem();\n            });\n          }\n          else {\n            module.hide();\n          }\n        },\n\n        delay: {\n          show: function() {\n            module.verbose('Delaying show event to ensure user intent');\n            clearTimeout(module.timer);\n            module.timer = setTimeout(module.show, settings.delay.show);\n          },\n          hide: function() {\n            module.verbose('Delaying hide event to ensure user intent');\n            clearTimeout(module.timer);\n            module.timer = setTimeout(module.hide, settings.delay.hide);\n          }\n        },\n\n        escape: {\n          value: function(value) {\n            var\n              multipleValues = $.isArray(value),\n              stringValue    = (typeof value === 'string'),\n              isUnparsable   = (!stringValue && !multipleValues),\n              hasQuotes      = (stringValue && value.search(regExp.quote) !== -1),\n              values         = []\n            ;\n            if(isUnparsable || !hasQuotes) {\n              return value;\n            }\n            module.debug('Encoding quote values for use in select', value);\n            if(multipleValues) {\n              $.each(value, function(index, value){\n                values.push(value.replace(regExp.quote, '&quot;'));\n              });\n              return values;\n            }\n            return value.replace(regExp.quote, '&quot;');\n          },\n          string: function(text) {\n            text =  String(text);\n            return text.replace(regExp.escape, '\\\\$&');\n          }\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : $allModules\n  ;\n};\n\n$.fn.dropdown.settings = {\n\n  silent                 : false,\n  debug                  : false,\n  verbose                : false,\n  performance            : true,\n\n  on                     : 'click',    // what event should show menu action on item selection\n  action                 : 'activate', // action on item selection (nothing, activate, select, combo, hide, function(){})\n\n  values                 : false,      // specify values to use for dropdown\n\n  apiSettings            : false,\n  selectOnKeydown        : true,       // Whether selection should occur automatically when keyboard shortcuts used\n  minCharacters          : 0,          // Minimum characters required to trigger API call\n\n  filterRemoteData       : false,      // Whether API results should be filtered after being returned for query term\n  saveRemoteData         : true,       // Whether remote name/value pairs should be stored in sessionStorage to allow remote data to be restored on page refresh\n\n  throttle               : 200,        // How long to wait after last user input to search remotely\n\n  context                : window,     // Context to use when determining if on screen\n  direction              : 'auto',     // Whether dropdown should always open in one direction\n  keepOnScreen           : true,       // Whether dropdown should check whether it is on screen before showing\n\n  match                  : 'both',     // what to match against with search selection (both, text, or label)\n  fullTextSearch         : false,      // search anywhere in value (set to 'exact' to require exact matches)\n\n  placeholder            : 'auto',     // whether to convert blank <select> values to placeholder text\n  preserveHTML           : true,       // preserve html when selecting value\n  sortSelect             : false,      // sort selection on init\n\n  forceSelection         : true,       // force a choice on blur with search selection\n\n  allowAdditions         : false,      // whether multiple select should allow user added values\n  ignoreCase             : false,       // whether to consider values not matching in case to be the same\n  hideAdditions          : true,       // whether or not to hide special message prompting a user they can enter a value\n\n  maxSelections          : false,      // When set to a number limits the number of selections to this count\n  useLabels              : true,       // whether multiple select should filter currently active selections from choices\n  delimiter              : ',',        // when multiselect uses normal <input> the values will be delimited with this character\n\n  showOnFocus            : true,       // show menu on focus\n  allowReselection       : false,      // whether current value should trigger callbacks when reselected\n  allowTab               : true,       // add tabindex to element\n  allowCategorySelection : false,      // allow elements with sub-menus to be selected\n\n  fireOnInit             : false,      // Whether callbacks should fire when initializing dropdown values\n\n  transition             : 'auto',     // auto transition will slide down or up based on direction\n  duration               : 200,        // duration of transition\n\n  glyphWidth             : 1.037,      // widest glyph width in em (W is 1.037 em) used to calculate multiselect input width\n\n  // label settings on multi-select\n  label: {\n    transition : 'scale',\n    duration   : 200,\n    variation  : false\n  },\n\n  // delay before event\n  delay : {\n    hide   : 300,\n    show   : 200,\n    search : 20,\n    touch  : 50\n  },\n\n  /* Callbacks */\n  onChange      : function(value, text, $selected){},\n  onAdd         : function(value, text, $selected){},\n  onRemove      : function(value, text, $selected){},\n\n  onLabelSelect : function($selectedLabels){},\n  onLabelCreate : function(value, text) { return $(this); },\n  onLabelRemove : function(value) { return true; },\n  onNoResults   : function(searchTerm) { return true; },\n  onShow        : function(){},\n  onHide        : function(){},\n\n  /* Component */\n  name           : 'Dropdown',\n  namespace      : 'dropdown',\n\n  message: {\n    addResult     : 'Add <b>{term}</b>',\n    count         : '{count} selected',\n    maxSelections : 'Max {maxCount} selections',\n    noResults     : 'No results found.',\n    serverError   : 'There was an error contacting the server'\n  },\n\n  error : {\n    action          : 'You called a dropdown action that was not defined',\n    alreadySetup    : 'Once a select has been initialized behaviors must be called on the created ui dropdown',\n    labels          : 'Allowing user additions currently requires the use of labels.',\n    missingMultiple : '<select> requires multiple property to be set to correctly preserve multiple values',\n    method          : 'The method you called is not defined.',\n    noAPI           : 'The API module is required to load resources remotely',\n    noStorage       : 'Saving remote data requires session storage',\n    noTransition    : 'This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>'\n  },\n\n  regExp : {\n    escape   : /[-[\\]{}()*+?.,\\\\^$|#\\s]/g,\n    quote    : /\"/g\n  },\n\n  metadata : {\n    defaultText     : 'defaultText',\n    defaultValue    : 'defaultValue',\n    placeholderText : 'placeholder',\n    text            : 'text',\n    value           : 'value'\n  },\n\n  // property names for remote query\n  fields: {\n    remoteValues : 'results',  // grouping for api results\n    values       : 'values',   // grouping for all dropdown values\n    disabled     : 'disabled', // whether value should be disabled\n    name         : 'name',     // displayed dropdown text\n    value        : 'value',    // actual dropdown value\n    text         : 'text'      // displayed text when selected\n  },\n\n  keys : {\n    backspace  : 8,\n    delimiter  : 188, // comma\n    deleteKey  : 46,\n    enter      : 13,\n    escape     : 27,\n    pageUp     : 33,\n    pageDown   : 34,\n    leftArrow  : 37,\n    upArrow    : 38,\n    rightArrow : 39,\n    downArrow  : 40\n  },\n\n  selector : {\n    addition     : '.addition',\n    dropdown     : '.ui.dropdown',\n    hidden       : '.hidden',\n    icon         : '> .dropdown.icon',\n    input        : '> input[type=\"hidden\"], > select',\n    item         : '.item',\n    label        : '> .label',\n    remove       : '> .label > .delete.icon',\n    siblingLabel : '.label',\n    menu         : '.menu',\n    message      : '.message',\n    menuIcon     : '.dropdown.icon',\n    search       : 'input.search, .menu > .search > input, .menu input.search',\n    sizer        : '> input.sizer',\n    text         : '> .text:not(.icon)',\n    unselectable : '.disabled, .filtered'\n  },\n\n  className : {\n    active      : 'active',\n    addition    : 'addition',\n    animating   : 'animating',\n    disabled    : 'disabled',\n    empty       : 'empty',\n    dropdown    : 'ui dropdown',\n    filtered    : 'filtered',\n    hidden      : 'hidden transition',\n    item        : 'item',\n    label       : 'ui label',\n    loading     : 'loading',\n    menu        : 'menu',\n    message     : 'message',\n    multiple    : 'multiple',\n    placeholder : 'default',\n    sizer       : 'sizer',\n    search      : 'search',\n    selected    : 'selected',\n    selection   : 'selection',\n    upward      : 'upward',\n    leftward    : 'left',\n    visible     : 'visible'\n  }\n\n};\n\n/* Templates */\n$.fn.dropdown.settings.templates = {\n\n  // generates dropdown from select values\n  dropdown: function(select) {\n    var\n      placeholder = select.placeholder || false,\n      values      = select.values || {},\n      html        = ''\n    ;\n    html +=  '<i class=\"dropdown icon\"></i>';\n    if(select.placeholder) {\n      html += '<div class=\"default text\">' + placeholder + '</div>';\n    }\n    else {\n      html += '<div class=\"text\"></div>';\n    }\n    html += '<div class=\"menu\">';\n    $.each(select.values, function(index, option) {\n      html += (option.disabled)\n        ? '<div class=\"disabled item\" data-value=\"' + option.value + '\">' + option.name + '</div>'\n        : '<div class=\"item\" data-value=\"' + option.value + '\">' + option.name + '</div>'\n      ;\n    });\n    html += '</div>';\n    return html;\n  },\n\n  // generates just menu from select\n  menu: function(response, fields) {\n    var\n      values = response[fields.values] || {},\n      html   = ''\n    ;\n    $.each(values, function(index, option) {\n      var\n        maybeText = (option[fields.text])\n          ? 'data-text=\"' + option[fields.text] + '\"'\n          : '',\n        maybeDisabled = (option[fields.disabled])\n          ? 'disabled '\n          : ''\n      ;\n      html += '<div class=\"'+ maybeDisabled +'item\" data-value=\"' + option[fields.value] + '\"' + maybeText + '>';\n      html +=   option[fields.name];\n      html += '</div>';\n    });\n    return html;\n  },\n\n  // generates label for multiselect\n  label: function(value, text) {\n    return text + '<i class=\"delete icon\"></i>';\n  },\n\n\n  // generates messages like \"No results\"\n  message: function(message) {\n    return message;\n  },\n\n  // generates user addition to selection menu\n  addition: function(choice) {\n    return choice;\n  }\n\n};\n\n})( jQuery, window, document );\n","/*!\n * # Semantic UI - Embed\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.embed = function(parameters) {\n\n  var\n    $allModules     = $(this),\n\n    moduleSelector  = $allModules.selector || '',\n\n    time            = new Date().getTime(),\n    performance     = [],\n\n    query           = arguments[0],\n    methodInvoked   = (typeof query == 'string'),\n    queryArguments  = [].slice.call(arguments, 1),\n\n    returnedValue\n  ;\n\n  $allModules\n    .each(function() {\n      var\n        settings        = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.embed.settings, parameters)\n          : $.extend({}, $.fn.embed.settings),\n\n        selector        = settings.selector,\n        className       = settings.className,\n        sources         = settings.sources,\n        error           = settings.error,\n        metadata        = settings.metadata,\n        namespace       = settings.namespace,\n        templates       = settings.templates,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n\n        $window         = $(window),\n        $module         = $(this),\n        $placeholder    = $module.find(selector.placeholder),\n        $icon           = $module.find(selector.icon),\n        $embed          = $module.find(selector.embed),\n\n        element         = this,\n        instance        = $module.data(moduleNamespace),\n        module\n      ;\n\n      module = {\n\n        initialize: function() {\n          module.debug('Initializing embed');\n          module.determine.autoplay();\n          module.create();\n          module.bind.events();\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous instance of embed');\n          module.reset();\n          $module\n            .removeData(moduleNamespace)\n            .off(eventNamespace)\n          ;\n        },\n\n        refresh: function() {\n          module.verbose('Refreshing selector cache');\n          $placeholder = $module.find(selector.placeholder);\n          $icon        = $module.find(selector.icon);\n          $embed       = $module.find(selector.embed);\n        },\n\n        bind: {\n          events: function() {\n            if( module.has.placeholder() ) {\n              module.debug('Adding placeholder events');\n              $module\n                .on('click' + eventNamespace, selector.placeholder, module.createAndShow)\n                .on('click' + eventNamespace, selector.icon, module.createAndShow)\n              ;\n            }\n          }\n        },\n\n        create: function() {\n          var\n            placeholder = module.get.placeholder()\n          ;\n          if(placeholder) {\n            module.createPlaceholder();\n          }\n          else {\n            module.createAndShow();\n          }\n        },\n\n        createPlaceholder: function(placeholder) {\n          var\n            icon  = module.get.icon(),\n            url   = module.get.url(),\n            embed = module.generate.embed(url)\n          ;\n          placeholder = placeholder || module.get.placeholder();\n          $module.html( templates.placeholder(placeholder, icon) );\n          module.debug('Creating placeholder for embed', placeholder, icon);\n        },\n\n        createEmbed: function(url) {\n          module.refresh();\n          url = url || module.get.url();\n          $embed = $('<div/>')\n            .addClass(className.embed)\n            .html( module.generate.embed(url) )\n            .appendTo($module)\n          ;\n          settings.onCreate.call(element, url);\n          module.debug('Creating embed object', $embed);\n        },\n\n        changeEmbed: function(url) {\n          $embed\n            .html( module.generate.embed(url) )\n          ;\n        },\n\n        createAndShow: function() {\n          module.createEmbed();\n          module.show();\n        },\n\n        // sets new embed\n        change: function(source, id, url) {\n          module.debug('Changing video to ', source, id, url);\n          $module\n            .data(metadata.source, source)\n            .data(metadata.id, id)\n          ;\n          if(url) {\n            $module.data(metadata.url, url);\n          }\n          else {\n            $module.removeData(metadata.url);\n          }\n          if(module.has.embed()) {\n            module.changeEmbed();\n          }\n          else {\n            module.create();\n          }\n        },\n\n        // clears embed\n        reset: function() {\n          module.debug('Clearing embed and showing placeholder');\n          module.remove.active();\n          module.remove.embed();\n          module.showPlaceholder();\n          settings.onReset.call(element);\n        },\n\n        // shows current embed\n        show: function() {\n          module.debug('Showing embed');\n          module.set.active();\n          settings.onDisplay.call(element);\n        },\n\n        hide: function() {\n          module.debug('Hiding embed');\n          module.showPlaceholder();\n        },\n\n        showPlaceholder: function() {\n          module.debug('Showing placeholder image');\n          module.remove.active();\n          settings.onPlaceholderDisplay.call(element);\n        },\n\n        get: {\n          id: function() {\n            return settings.id || $module.data(metadata.id);\n          },\n          placeholder: function() {\n            return settings.placeholder || $module.data(metadata.placeholder);\n          },\n          icon: function() {\n            return (settings.icon)\n              ? settings.icon\n              : ($module.data(metadata.icon) !== undefined)\n                ? $module.data(metadata.icon)\n                : module.determine.icon()\n            ;\n          },\n          source: function(url) {\n            return (settings.source)\n              ? settings.source\n              : ($module.data(metadata.source) !== undefined)\n                ? $module.data(metadata.source)\n                : module.determine.source()\n            ;\n          },\n          type: function() {\n            var source = module.get.source();\n            return (sources[source] !== undefined)\n              ? sources[source].type\n              : false\n            ;\n          },\n          url: function() {\n            return (settings.url)\n              ? settings.url\n              : ($module.data(metadata.url) !== undefined)\n                ? $module.data(metadata.url)\n                : module.determine.url()\n            ;\n          }\n        },\n\n        determine: {\n          autoplay: function() {\n            if(module.should.autoplay()) {\n              settings.autoplay = true;\n            }\n          },\n          source: function(url) {\n            var\n              matchedSource = false\n            ;\n            url = url || module.get.url();\n            if(url) {\n              $.each(sources, function(name, source) {\n                if(url.search(source.domain) !== -1) {\n                  matchedSource = name;\n                  return false;\n                }\n              });\n            }\n            return matchedSource;\n          },\n          icon: function() {\n            var\n              source = module.get.source()\n            ;\n            return (sources[source] !== undefined)\n              ? sources[source].icon\n              : false\n            ;\n          },\n          url: function() {\n            var\n              id     = settings.id     || $module.data(metadata.id),\n              source = settings.source || $module.data(metadata.source),\n              url\n            ;\n            url = (sources[source] !== undefined)\n              ? sources[source].url.replace('{id}', id)\n              : false\n            ;\n            if(url) {\n              $module.data(metadata.url, url);\n            }\n            return url;\n          }\n        },\n\n\n        set: {\n          active: function() {\n            $module.addClass(className.active);\n          }\n        },\n\n        remove: {\n          active: function() {\n            $module.removeClass(className.active);\n          },\n          embed: function() {\n            $embed.empty();\n          }\n        },\n\n        encode: {\n          parameters: function(parameters) {\n            var\n              urlString = [],\n              index\n            ;\n            for (index in parameters) {\n              urlString.push( encodeURIComponent(index) + '=' + encodeURIComponent( parameters[index] ) );\n            }\n            return urlString.join('&amp;');\n          }\n        },\n\n        generate: {\n          embed: function(url) {\n            module.debug('Generating embed html');\n            var\n              source = module.get.source(),\n              html,\n              parameters\n            ;\n            url = module.get.url(url);\n            if(url) {\n              parameters = module.generate.parameters(source);\n              html       = templates.iframe(url, parameters);\n            }\n            else {\n              module.error(error.noURL, $module);\n            }\n            return html;\n          },\n          parameters: function(source, extraParameters) {\n            var\n              parameters = (sources[source] && sources[source].parameters !== undefined)\n                ? sources[source].parameters(settings)\n                : {}\n            ;\n            extraParameters = extraParameters || settings.parameters;\n            if(extraParameters) {\n              parameters = $.extend({}, parameters, extraParameters);\n            }\n            parameters = settings.onEmbed(parameters);\n            return module.encode.parameters(parameters);\n          }\n        },\n\n        has: {\n          embed: function() {\n            return ($embed.length > 0);\n          },\n          placeholder: function() {\n            return settings.placeholder || $module.data(metadata.placeholder);\n          }\n        },\n\n        should: {\n          autoplay: function() {\n            return (settings.autoplay === 'auto')\n              ? (settings.placeholder || $module.data(metadata.placeholder) !== undefined)\n              : settings.autoplay\n            ;\n          }\n        },\n\n        is: {\n          video: function() {\n            return module.get.type() == 'video';\n          }\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.embed.settings = {\n\n  name        : 'Embed',\n  namespace   : 'embed',\n\n  silent      : false,\n  debug       : false,\n  verbose     : false,\n  performance : true,\n\n  icon     : false,\n  source   : false,\n  url      : false,\n  id       : false,\n\n  // standard video settings\n  autoplay  : 'auto',\n  color     : '#444444',\n  hd        : true,\n  brandedUI : false,\n\n  // additional parameters to include with the embed\n  parameters: false,\n\n  onDisplay            : function() {},\n  onPlaceholderDisplay : function() {},\n  onReset              : function() {},\n  onCreate             : function(url) {},\n  onEmbed              : function(parameters) {\n    return parameters;\n  },\n\n  metadata    : {\n    id          : 'id',\n    icon        : 'icon',\n    placeholder : 'placeholder',\n    source      : 'source',\n    url         : 'url'\n  },\n\n  error : {\n    noURL  : 'No URL specified',\n    method : 'The method you called is not defined'\n  },\n\n  className : {\n    active : 'active',\n    embed  : 'embed'\n  },\n\n  selector : {\n    embed       : '.embed',\n    placeholder : '.placeholder',\n    icon        : '.icon'\n  },\n\n  sources: {\n    youtube: {\n      name   : 'youtube',\n      type   : 'video',\n      icon   : 'video play',\n      domain : 'youtube.com',\n      url    : '//www.youtube.com/embed/{id}',\n      parameters: function(settings) {\n        return {\n          autohide       : !settings.brandedUI,\n          autoplay       : settings.autoplay,\n          color          : settings.color || undefined,\n          hq             : settings.hd,\n          jsapi          : settings.api,\n          modestbranding : !settings.brandedUI\n        };\n      }\n    },\n    vimeo: {\n      name   : 'vimeo',\n      type   : 'video',\n      icon   : 'video play',\n      domain : 'vimeo.com',\n      url    : '//player.vimeo.com/video/{id}',\n      parameters: function(settings) {\n        return {\n          api      : settings.api,\n          autoplay : settings.autoplay,\n          byline   : settings.brandedUI,\n          color    : settings.color || undefined,\n          portrait : settings.brandedUI,\n          title    : settings.brandedUI\n        };\n      }\n    }\n  },\n\n  templates: {\n    iframe : function(url, parameters) {\n      var src = url;\n      if (parameters) {\n          src += '?' + parameters;\n      }\n      return ''\n        + '<iframe src=\"' + src + '\"'\n        + ' width=\"100%\" height=\"100%\"'\n        + ' frameborder=\"0\" scrolling=\"no\" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'\n      ;\n    },\n    placeholder : function(image, icon) {\n      var\n        html = ''\n      ;\n      if(icon) {\n        html += '<i class=\"' + icon + ' icon\"></i>';\n      }\n      if(image) {\n        html += '<img class=\"placeholder\" src=\"' + image + '\">';\n      }\n      return html;\n    }\n  },\n\n  // NOT YET IMPLEMENTED\n  api     : false,\n  onPause : function() {},\n  onPlay  : function() {},\n  onStop  : function() {}\n\n};\n\n\n\n})( jQuery, window, document );\n","/*!\n * # Semantic UI - Modal\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.modal = function(parameters) {\n  var\n    $allModules    = $(this),\n    $window        = $(window),\n    $document      = $(document),\n    $body          = $('body'),\n\n    moduleSelector = $allModules.selector || '',\n\n    time           = new Date().getTime(),\n    performance    = [],\n\n    query          = arguments[0],\n    methodInvoked  = (typeof query == 'string'),\n    queryArguments = [].slice.call(arguments, 1),\n\n    requestAnimationFrame = window.requestAnimationFrame\n      || window.mozRequestAnimationFrame\n      || window.webkitRequestAnimationFrame\n      || window.msRequestAnimationFrame\n      || function(callback) { setTimeout(callback, 0); },\n\n    returnedValue\n  ;\n\n  $allModules\n    .each(function() {\n      var\n        settings    = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.modal.settings, parameters)\n          : $.extend({}, $.fn.modal.settings),\n\n        selector        = settings.selector,\n        className       = settings.className,\n        namespace       = settings.namespace,\n        error           = settings.error,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n\n        $module         = $(this),\n        $context        = $(settings.context),\n        $close          = $module.find(selector.close),\n\n        $allModals,\n        $otherModals,\n        $focusedElement,\n        $dimmable,\n        $dimmer,\n\n        element         = this,\n        instance        = $module.data(moduleNamespace),\n\n        ignoreRepeatedEvents = false,\n\n        elementEventNamespace,\n        id,\n        observer,\n        module\n      ;\n      module  = {\n\n        initialize: function() {\n          module.verbose('Initializing dimmer', $context);\n\n          module.create.id();\n          module.create.dimmer();\n          module.refreshModals();\n\n          module.bind.events();\n          if(settings.observeChanges) {\n            module.observeChanges();\n          }\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of modal');\n          instance = module;\n          $module\n            .data(moduleNamespace, instance)\n          ;\n        },\n\n        create: {\n          dimmer: function() {\n            var\n              defaultSettings = {\n                debug      : settings.debug,\n                variation  : settings.centered\n                  ? false\n                  : 'top aligned'\n                ,\n                dimmerName : 'modals'\n              },\n              dimmerSettings = $.extend(true, defaultSettings, settings.dimmerSettings)\n            ;\n            if($.fn.dimmer === undefined) {\n              module.error(error.dimmer);\n              return;\n            }\n            module.debug('Creating dimmer');\n            $dimmable = $context.dimmer(dimmerSettings);\n            if(settings.detachable) {\n              module.verbose('Modal is detachable, moving content into dimmer');\n              $dimmable.dimmer('add content', $module);\n            }\n            else {\n              module.set.undetached();\n            }\n            $dimmer = $dimmable.dimmer('get dimmer');\n          },\n          id: function() {\n            id = (Math.random().toString(16) + '000000000').substr(2,8);\n            elementEventNamespace = '.' + id;\n            module.verbose('Creating unique id for element', id);\n          }\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous modal');\n          $module\n            .removeData(moduleNamespace)\n            .off(eventNamespace)\n          ;\n          $window.off(elementEventNamespace);\n          $dimmer.off(elementEventNamespace);\n          $close.off(eventNamespace);\n          $context.dimmer('destroy');\n        },\n\n        observeChanges: function() {\n          if('MutationObserver' in window) {\n            observer = new MutationObserver(function(mutations) {\n              module.debug('DOM tree modified, refreshing');\n              module.refresh();\n            });\n            observer.observe(element, {\n              childList : true,\n              subtree   : true\n            });\n            module.debug('Setting up mutation observer', observer);\n          }\n        },\n\n        refresh: function() {\n          module.remove.scrolling();\n          module.cacheSizes();\n          module.set.screenHeight();\n          module.set.type();\n        },\n\n        refreshModals: function() {\n          $otherModals = $module.siblings(selector.modal);\n          $allModals   = $otherModals.add($module);\n        },\n\n        attachEvents: function(selector, event) {\n          var\n            $toggle = $(selector)\n          ;\n          event = $.isFunction(module[event])\n            ? module[event]\n            : module.toggle\n          ;\n          if($toggle.length > 0) {\n            module.debug('Attaching modal events to element', selector, event);\n            $toggle\n              .off(eventNamespace)\n              .on('click' + eventNamespace, event)\n            ;\n          }\n          else {\n            module.error(error.notFound, selector);\n          }\n        },\n\n        bind: {\n          events: function() {\n            module.verbose('Attaching events');\n            $module\n              .on('click' + eventNamespace, selector.close, module.event.close)\n              .on('click' + eventNamespace, selector.approve, module.event.approve)\n              .on('click' + eventNamespace, selector.deny, module.event.deny)\n            ;\n            $window\n              .on('resize' + elementEventNamespace, module.event.resize)\n            ;\n          }\n        },\n\n        get: {\n          id: function() {\n            return (Math.random().toString(16) + '000000000').substr(2,8);\n          }\n        },\n\n        event: {\n          approve: function() {\n            if(ignoreRepeatedEvents || settings.onApprove.call(element, $(this)) === false) {\n              module.verbose('Approve callback returned false cancelling hide');\n              return;\n            }\n            ignoreRepeatedEvents = true;\n            module.hide(function() {\n              ignoreRepeatedEvents = false;\n            });\n          },\n          deny: function() {\n            if(ignoreRepeatedEvents || settings.onDeny.call(element, $(this)) === false) {\n              module.verbose('Deny callback returned false cancelling hide');\n              return;\n            }\n            ignoreRepeatedEvents = true;\n            module.hide(function() {\n              ignoreRepeatedEvents = false;\n            });\n          },\n          close: function() {\n            module.hide();\n          },\n          click: function(event) {\n            if(!settings.closable) {\n              module.verbose('Dimmer clicked but closable setting is disabled');\n              return;\n            }\n            var\n              $target   = $(event.target),\n              isInModal = ($target.closest(selector.modal).length > 0),\n              isInDOM   = $.contains(document.documentElement, event.target)\n            ;\n            if(!isInModal && isInDOM && module.is.active()) {\n              module.debug('Dimmer clicked, hiding all modals');\n              module.remove.clickaway();\n              if(settings.allowMultiple) {\n                module.hide();\n              }\n              else {\n                module.hideAll();\n              }\n            }\n          },\n          debounce: function(method, delay) {\n            clearTimeout(module.timer);\n            module.timer = setTimeout(method, delay);\n          },\n          keyboard: function(event) {\n            var\n              keyCode   = event.which,\n              escapeKey = 27\n            ;\n            if(keyCode == escapeKey) {\n              if(settings.closable) {\n                module.debug('Escape key pressed hiding modal');\n                module.hide();\n              }\n              else {\n                module.debug('Escape key pressed, but closable is set to false');\n              }\n              event.preventDefault();\n            }\n          },\n          resize: function() {\n            if( $dimmable.dimmer('is active') && ( module.is.animating() || module.is.active() ) ) {\n              requestAnimationFrame(module.refresh);\n            }\n          }\n        },\n\n        toggle: function() {\n          if( module.is.active() || module.is.animating() ) {\n            module.hide();\n          }\n          else {\n            module.show();\n          }\n        },\n\n        show: function(callback) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          module.refreshModals();\n          module.set.dimmerSettings();\n          module.showModal(callback);\n        },\n\n        hide: function(callback) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          module.refreshModals();\n          module.hideModal(callback);\n        },\n\n        showModal: function(callback) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          if( module.is.animating() || !module.is.active() ) {\n\n            module.showDimmer();\n            module.cacheSizes();\n            module.set.screenHeight();\n            module.set.type();\n            module.set.clickaway();\n\n            if( !settings.allowMultiple && module.others.active() ) {\n              module.hideOthers(module.showModal);\n            }\n            else {\n              if(settings.allowMultiple && settings.detachable) {\n                $module.detach().appendTo($dimmer);\n              }\n              settings.onShow.call(element);\n              if(settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n                module.debug('Showing modal with css animations');\n                $module\n                  .transition({\n                    debug       : settings.debug,\n                    animation   : settings.transition + ' in',\n                    queue       : settings.queue,\n                    duration    : settings.duration,\n                    useFailSafe : true,\n                    onComplete : function() {\n                      settings.onVisible.apply(element);\n                      if(settings.keyboardShortcuts) {\n                        module.add.keyboardShortcuts();\n                      }\n                      module.save.focus();\n                      module.set.active();\n                      if(settings.autofocus) {\n                        module.set.autofocus();\n                      }\n                      callback();\n                    }\n                  })\n                ;\n              }\n              else {\n                module.error(error.noTransition);\n              }\n            }\n          }\n          else {\n            module.debug('Modal is already visible');\n          }\n        },\n\n        hideModal: function(callback, keepDimmed) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          module.debug('Hiding modal');\n          if(settings.onHide.call(element, $(this)) === false) {\n            module.verbose('Hide callback returned false cancelling hide');\n            return;\n          }\n\n          if( module.is.animating() || module.is.active() ) {\n            if(settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n              module.remove.active();\n              $module\n                .transition({\n                  debug       : settings.debug,\n                  animation   : settings.transition + ' out',\n                  queue       : settings.queue,\n                  duration    : settings.duration,\n                  useFailSafe : true,\n                  onStart     : function() {\n                    if(!module.others.active() && !keepDimmed) {\n                      module.hideDimmer();\n                    }\n                    if(settings.keyboardShortcuts) {\n                      module.remove.keyboardShortcuts();\n                    }\n                  },\n                  onComplete : function() {\n                    settings.onHidden.call(element);\n                    module.restore.focus();\n                    callback();\n                  }\n                })\n              ;\n            }\n            else {\n              module.error(error.noTransition);\n            }\n          }\n        },\n\n        showDimmer: function() {\n          if($dimmable.dimmer('is animating') || !$dimmable.dimmer('is active') ) {\n            module.debug('Showing dimmer');\n            $dimmable.dimmer('show');\n          }\n          else {\n            module.debug('Dimmer already visible');\n          }\n        },\n\n        hideDimmer: function() {\n          if( $dimmable.dimmer('is animating') || ($dimmable.dimmer('is active')) ) {\n            $dimmable.dimmer('hide', function() {\n              module.remove.clickaway();\n              module.remove.screenHeight();\n            });\n          }\n          else {\n            module.debug('Dimmer is not visible cannot hide');\n            return;\n          }\n        },\n\n        hideAll: function(callback) {\n          var\n            $visibleModals = $allModals.filter('.' + className.active + ', .' + className.animating)\n          ;\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          if( $visibleModals.length > 0 ) {\n            module.debug('Hiding all visible modals');\n            module.hideDimmer();\n            $visibleModals\n              .modal('hide modal', callback)\n            ;\n          }\n        },\n\n        hideOthers: function(callback) {\n          var\n            $visibleModals = $otherModals.filter('.' + className.active + ', .' + className.animating)\n          ;\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          if( $visibleModals.length > 0 ) {\n            module.debug('Hiding other modals', $otherModals);\n            $visibleModals\n              .modal('hide modal', callback, true)\n            ;\n          }\n        },\n\n        others: {\n          active: function() {\n            return ($otherModals.filter('.' + className.active).length > 0);\n          },\n          animating: function() {\n            return ($otherModals.filter('.' + className.animating).length > 0);\n          }\n        },\n\n\n        add: {\n          keyboardShortcuts: function() {\n            module.verbose('Adding keyboard shortcuts');\n            $document\n              .on('keyup' + eventNamespace, module.event.keyboard)\n            ;\n          }\n        },\n\n        save: {\n          focus: function() {\n            var\n              $activeElement = $(document.activeElement),\n              inCurrentModal = $activeElement.closest($module).length > 0\n            ;\n            if(!inCurrentModal) {\n              $focusedElement = $(document.activeElement).blur();\n            }\n          }\n        },\n\n        restore: {\n          focus: function() {\n            if($focusedElement && $focusedElement.length > 0) {\n              $focusedElement.focus();\n            }\n          }\n        },\n\n        remove: {\n          active: function() {\n            $module.removeClass(className.active);\n          },\n          clickaway: function() {\n            $dimmer\n              .off('click' + elementEventNamespace)\n            ;\n          },\n          bodyStyle: function() {\n            if($body.attr('style') === '') {\n              module.verbose('Removing style attribute');\n              $body.removeAttr('style');\n            }\n          },\n          screenHeight: function() {\n            module.debug('Removing page height');\n            $body\n              .css('height', '')\n            ;\n          },\n          keyboardShortcuts: function() {\n            module.verbose('Removing keyboard shortcuts');\n            $document\n              .off('keyup' + eventNamespace)\n            ;\n          },\n          scrolling: function() {\n            $dimmable.removeClass(className.scrolling);\n            $module.removeClass(className.scrolling);\n          }\n        },\n\n        cacheSizes: function() {\n          $module.addClass(className.loading);\n          var\n            scrollHeight = $module.prop('scrollHeight'),\n            modalHeight  = $module.outerHeight()\n          ;\n          if(module.cache === undefined || modalHeight !== 0) {\n            module.cache = {\n              pageHeight    : $(document).outerHeight(),\n              height        : modalHeight + settings.offset,\n              scrollHeight  : scrollHeight + settings.offset,\n              contextHeight : (settings.context == 'body')\n                ? $(window).height()\n                : $dimmable.height(),\n            };\n            module.cache.topOffset = -(module.cache.height / 2);\n          }\n          $module.removeClass(className.loading);\n          module.debug('Caching modal and container sizes', module.cache);\n        },\n\n        can: {\n          fit: function() {\n            var\n              contextHeight  = module.cache.contextHeight,\n              verticalCenter = module.cache.contextHeight / 2,\n              topOffset      = module.cache.topOffset,\n              scrollHeight   = module.cache.scrollHeight,\n              height         = module.cache.height,\n              paddingHeight  = settings.padding,\n              startPosition  = (verticalCenter + topOffset)\n            ;\n            return (scrollHeight > height)\n              ? (startPosition + scrollHeight + paddingHeight < contextHeight)\n              : (height + (paddingHeight * 2) < contextHeight)\n            ;\n          }\n        },\n\n        is: {\n          active: function() {\n            return $module.hasClass(className.active);\n          },\n          animating: function() {\n            return $module.transition('is supported')\n              ? $module.transition('is animating')\n              : $module.is(':visible')\n            ;\n          },\n          scrolling: function() {\n            return $dimmable.hasClass(className.scrolling);\n          },\n          modernBrowser: function() {\n            // appName for IE11 reports 'Netscape' can no longer use\n            return !(window.ActiveXObject || \"ActiveXObject\" in window);\n          }\n        },\n\n        set: {\n          autofocus: function() {\n            var\n              $inputs    = $module.find('[tabindex], :input').filter(':visible'),\n              $autofocus = $inputs.filter('[autofocus]'),\n              $input     = ($autofocus.length > 0)\n                ? $autofocus.first()\n                : $inputs.first()\n            ;\n            if($input.length > 0) {\n              $input.focus();\n            }\n          },\n          clickaway: function() {\n            $dimmer\n              .on('click' + elementEventNamespace, module.event.click)\n            ;\n          },\n          dimmerSettings: function() {\n            if($.fn.dimmer === undefined) {\n              module.error(error.dimmer);\n              return;\n            }\n            var\n              defaultSettings = {\n                debug      : settings.debug,\n                dimmerName : 'modals',\n                closable   : 'auto',\n                variation  : settings.centered\n                  ? false\n                  : 'top aligned'\n                ,\n                duration   : {\n                  show     : settings.duration,\n                  hide     : settings.duration\n                }\n              },\n              dimmerSettings = $.extend(true, defaultSettings, settings.dimmerSettings)\n            ;\n            if(settings.inverted) {\n              dimmerSettings.variation = (dimmerSettings.variation !== undefined)\n                ? dimmerSettings.variation + ' inverted'\n                : 'inverted'\n              ;\n              $dimmer.addClass(className.inverted);\n            }\n            else {\n              $dimmer.removeClass(className.inverted);\n            }\n            if(settings.blurring) {\n              $dimmable.addClass(className.blurring);\n            }\n            else {\n              $dimmable.removeClass(className.blurring);\n            }\n            $context.dimmer('setting', dimmerSettings);\n          },\n          screenHeight: function() {\n            if( module.can.fit() ) {\n              $body.css('height', '');\n            }\n            else {\n              module.debug('Modal is taller than page content, resizing page height');\n              $body\n                .css('height', module.cache.height + (settings.padding * 2) )\n              ;\n            }\n          },\n          active: function() {\n            $module.addClass(className.active);\n          },\n          scrolling: function() {\n            $dimmable.addClass(className.scrolling);\n            $module.addClass(className.scrolling);\n          },\n          type: function() {\n            if(module.can.fit()) {\n              module.verbose('Modal fits on screen');\n              if(!module.others.active() && !module.others.animating()) {\n                module.remove.scrolling();\n              }\n            }\n            else {\n              module.verbose('Modal cannot fit on screen setting to scrolling');\n              module.set.scrolling();\n            }\n          },\n          undetached: function() {\n            $dimmable.addClass(className.undetached);\n          }\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.modal.settings = {\n\n  name           : 'Modal',\n  namespace      : 'modal',\n\n  silent         : false,\n  debug          : false,\n  verbose        : false,\n  performance    : true,\n\n  observeChanges : false,\n\n  allowMultiple  : false,\n  detachable     : true,\n  closable       : true,\n  autofocus      : true,\n\n  inverted       : false,\n  blurring       : false,\n\n  centered       : true,\n\n  dimmerSettings : {\n    closable : false,\n    useCSS   : true\n  },\n\n  // whether to use keyboard shortcuts\n  keyboardShortcuts: true,\n\n  context    : 'body',\n\n  queue      : false,\n  duration   : 500,\n  offset     : 0,\n  transition : 'scale',\n\n  // padding with edge of page\n  padding    : 50,\n\n  // called before show animation\n  onShow     : function(){},\n\n  // called after show animation\n  onVisible  : function(){},\n\n  // called before hide animation\n  onHide     : function(){ return true; },\n\n  // called after hide animation\n  onHidden   : function(){},\n\n  // called after approve selector match\n  onApprove  : function(){ return true; },\n\n  // called after deny selector match\n  onDeny     : function(){ return true; },\n\n  selector    : {\n    close    : '> .close',\n    approve  : '.actions .positive, .actions .approve, .actions .ok',\n    deny     : '.actions .negative, .actions .deny, .actions .cancel',\n    modal    : '.ui.modal'\n  },\n  error : {\n    dimmer    : 'UI Dimmer, a required component is not included in this page',\n    method    : 'The method you called is not defined.',\n    notFound  : 'The element you specified could not be found'\n  },\n  className : {\n    active     : 'active',\n    animating  : 'animating',\n    blurring   : 'blurring',\n    inverted   : 'inverted',\n    loading    : 'loading',\n    scrolling  : 'scrolling',\n    undetached : 'undetached'\n  }\n};\n\n\n})( jQuery, window, document );\n","/*!\n * # Semantic UI - Nag\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.nag = function(parameters) {\n  var\n    $allModules    = $(this),\n    moduleSelector = $allModules.selector || '',\n\n    time           = new Date().getTime(),\n    performance    = [],\n\n    query          = arguments[0],\n    methodInvoked  = (typeof query == 'string'),\n    queryArguments = [].slice.call(arguments, 1),\n    returnedValue\n  ;\n  $allModules\n    .each(function() {\n      var\n        settings          = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.nag.settings, parameters)\n          : $.extend({}, $.fn.nag.settings),\n\n        className       = settings.className,\n        selector        = settings.selector,\n        error           = settings.error,\n        namespace       = settings.namespace,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = namespace + '-module',\n\n        $module         = $(this),\n\n        $close          = $module.find(selector.close),\n        $context        = (settings.context)\n          ? $(settings.context)\n          : $('body'),\n\n        element         = this,\n        instance        = $module.data(moduleNamespace),\n\n        moduleOffset,\n        moduleHeight,\n\n        contextWidth,\n        contextHeight,\n        contextOffset,\n\n        yOffset,\n        yPosition,\n\n        timer,\n        module,\n\n        requestAnimationFrame = window.requestAnimationFrame\n          || window.mozRequestAnimationFrame\n          || window.webkitRequestAnimationFrame\n          || window.msRequestAnimationFrame\n          || function(callback) { setTimeout(callback, 0); }\n      ;\n      module = {\n\n        initialize: function() {\n          module.verbose('Initializing element');\n\n          $module\n            .on('click' + eventNamespace, selector.close, module.dismiss)\n            .data(moduleNamespace, module)\n          ;\n\n          if(settings.detachable && $module.parent()[0] !== $context[0]) {\n            $module\n              .detach()\n              .prependTo($context)\n            ;\n          }\n\n          if(settings.displayTime > 0) {\n            setTimeout(module.hide, settings.displayTime);\n          }\n          module.show();\n        },\n\n        destroy: function() {\n          module.verbose('Destroying instance');\n          $module\n            .removeData(moduleNamespace)\n            .off(eventNamespace)\n          ;\n        },\n\n        show: function() {\n          if( module.should.show() && !$module.is(':visible') ) {\n            module.debug('Showing nag', settings.animation.show);\n            if(settings.animation.show == 'fade') {\n              $module\n                .fadeIn(settings.duration, settings.easing)\n              ;\n            }\n            else {\n              $module\n                .slideDown(settings.duration, settings.easing)\n              ;\n            }\n          }\n        },\n\n        hide: function() {\n          module.debug('Showing nag', settings.animation.hide);\n          if(settings.animation.show == 'fade') {\n            $module\n              .fadeIn(settings.duration, settings.easing)\n            ;\n          }\n          else {\n            $module\n              .slideUp(settings.duration, settings.easing)\n            ;\n          }\n        },\n\n        onHide: function() {\n          module.debug('Removing nag', settings.animation.hide);\n          $module.remove();\n          if (settings.onHide) {\n            settings.onHide();\n          }\n        },\n\n        dismiss: function(event) {\n          if(settings.storageMethod) {\n            module.storage.set(settings.key, settings.value);\n          }\n          module.hide();\n          event.stopImmediatePropagation();\n          event.preventDefault();\n        },\n\n        should: {\n          show: function() {\n            if(settings.persist) {\n              module.debug('Persistent nag is set, can show nag');\n              return true;\n            }\n            if( module.storage.get(settings.key) != settings.value.toString() ) {\n              module.debug('Stored value is not set, can show nag', module.storage.get(settings.key));\n              return true;\n            }\n            module.debug('Stored value is set, cannot show nag', module.storage.get(settings.key));\n            return false;\n          }\n        },\n\n        get: {\n          storageOptions: function() {\n            var\n              options = {}\n            ;\n            if(settings.expires) {\n              options.expires = settings.expires;\n            }\n            if(settings.domain) {\n              options.domain = settings.domain;\n            }\n            if(settings.path) {\n              options.path = settings.path;\n            }\n            return options;\n          }\n        },\n\n        clear: function() {\n          module.storage.remove(settings.key);\n        },\n\n        storage: {\n          set: function(key, value) {\n            var\n              options = module.get.storageOptions()\n            ;\n            if(settings.storageMethod == 'localstorage' && window.localStorage !== undefined) {\n              window.localStorage.setItem(key, value);\n              module.debug('Value stored using local storage', key, value);\n            }\n            else if(settings.storageMethod == 'sessionstorage' && window.sessionStorage !== undefined) {\n              window.sessionStorage.setItem(key, value);\n              module.debug('Value stored using session storage', key, value);\n            }\n            else if($.cookie !== undefined) {\n              $.cookie(key, value, options);\n              module.debug('Value stored using cookie', key, value, options);\n            }\n            else {\n              module.error(error.noCookieStorage);\n              return;\n            }\n          },\n          get: function(key, value) {\n            var\n              storedValue\n            ;\n            if(settings.storageMethod == 'localstorage' && window.localStorage !== undefined) {\n              storedValue = window.localStorage.getItem(key);\n            }\n            else if(settings.storageMethod == 'sessionstorage' && window.sessionStorage !== undefined) {\n              storedValue = window.sessionStorage.getItem(key);\n            }\n            // get by cookie\n            else if($.cookie !== undefined) {\n              storedValue = $.cookie(key);\n            }\n            else {\n              module.error(error.noCookieStorage);\n            }\n            if(storedValue == 'undefined' || storedValue == 'null' || storedValue === undefined || storedValue === null) {\n              storedValue = undefined;\n            }\n            return storedValue;\n          },\n          remove: function(key) {\n            var\n              options = module.get.storageOptions()\n            ;\n            if(settings.storageMethod == 'localstorage' && window.localStorage !== undefined) {\n              window.localStorage.removeItem(key);\n            }\n            else if(settings.storageMethod == 'sessionstorage' && window.sessionStorage !== undefined) {\n              window.sessionStorage.removeItem(key);\n            }\n            // store by cookie\n            else if($.cookie !== undefined) {\n              $.removeCookie(key, options);\n            }\n            else {\n              module.error(error.noStorage);\n            }\n          }\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.nag.settings = {\n\n  name        : 'Nag',\n\n  silent      : false,\n  debug       : false,\n  verbose     : false,\n  performance : true,\n\n  namespace   : 'Nag',\n\n  // allows cookie to be overridden\n  persist     : false,\n\n  // set to zero to require manually dismissal, otherwise hides on its own\n  displayTime : 0,\n\n  animation   : {\n    show : 'slide',\n    hide : 'slide'\n  },\n\n  context       : false,\n  detachable    : false,\n\n  expires       : 30,\n  domain        : false,\n  path          : '/',\n\n  // type of storage to use\n  storageMethod : 'cookie',\n\n  // value to store in dismissed localstorage/cookie\n  key           : 'nag',\n  value         : 'dismiss',\n\n  error: {\n    noCookieStorage : '$.cookie is not included. A storage solution is required.',\n    noStorage       : 'Neither $.cookie or store is defined. A storage solution is required for storing state',\n    method          : 'The method you called is not defined.'\n  },\n\n  className     : {\n    bottom : 'bottom',\n    fixed  : 'fixed'\n  },\n\n  selector      : {\n    close : '.close.icon'\n  },\n\n  speed         : 500,\n  easing        : 'easeOutQuad',\n\n  onHide: function() {}\n\n};\n\n// Adds easing\n$.extend( $.easing, {\n  easeOutQuad: function (x, t, b, c, d) {\n    return -c *(t/=d)*(t-2) + b;\n  }\n});\n\n})( jQuery, window, document );\n","/*!\n * # Semantic UI - Popup\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.popup = function(parameters) {\n  var\n    $allModules    = $(this),\n    $document      = $(document),\n    $window        = $(window),\n    $body          = $('body'),\n\n    moduleSelector = $allModules.selector || '',\n\n    hasTouch       = (true),\n    time           = new Date().getTime(),\n    performance    = [],\n\n    query          = arguments[0],\n    methodInvoked  = (typeof query == 'string'),\n    queryArguments = [].slice.call(arguments, 1),\n\n    returnedValue\n  ;\n  $allModules\n    .each(function() {\n      var\n        settings        = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.popup.settings, parameters)\n          : $.extend({}, $.fn.popup.settings),\n\n        selector           = settings.selector,\n        className          = settings.className,\n        error              = settings.error,\n        metadata           = settings.metadata,\n        namespace          = settings.namespace,\n\n        eventNamespace     = '.' + settings.namespace,\n        moduleNamespace    = 'module-' + namespace,\n\n        $module            = $(this),\n        $context           = $(settings.context),\n        $scrollContext     = $(settings.scrollContext),\n        $boundary          = $(settings.boundary),\n        $target            = (settings.target)\n          ? $(settings.target)\n          : $module,\n\n        $popup,\n        $offsetParent,\n\n        searchDepth        = 0,\n        triedPositions     = false,\n        openedWithTouch    = false,\n\n        element            = this,\n        instance           = $module.data(moduleNamespace),\n\n        documentObserver,\n        elementNamespace,\n        id,\n        module\n      ;\n\n      module = {\n\n        // binds events\n        initialize: function() {\n          module.debug('Initializing', $module);\n          module.createID();\n          module.bind.events();\n          if(!module.exists() && settings.preserve) {\n            module.create();\n          }\n          if(settings.observeChanges) {\n            module.observeChanges();\n          }\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, instance)\n          ;\n        },\n\n        observeChanges: function() {\n          if('MutationObserver' in window) {\n            documentObserver = new MutationObserver(module.event.documentChanged);\n            documentObserver.observe(document, {\n              childList : true,\n              subtree   : true\n            });\n            module.debug('Setting up mutation observer', documentObserver);\n          }\n        },\n\n        refresh: function() {\n          if(settings.popup) {\n            $popup = $(settings.popup).eq(0);\n          }\n          else {\n            if(settings.inline) {\n              $popup = $target.nextAll(selector.popup).eq(0);\n              settings.popup = $popup;\n            }\n          }\n          if(settings.popup) {\n            $popup.addClass(className.loading);\n            $offsetParent = module.get.offsetParent();\n            $popup.removeClass(className.loading);\n            if(settings.movePopup && module.has.popup() && module.get.offsetParent($popup)[0] !== $offsetParent[0]) {\n              module.debug('Moving popup to the same offset parent as target');\n              $popup\n                .detach()\n                .appendTo($offsetParent)\n              ;\n            }\n          }\n          else {\n            $offsetParent = (settings.inline)\n              ? module.get.offsetParent($target)\n              : module.has.popup()\n                ? module.get.offsetParent($popup)\n                : $body\n            ;\n          }\n          if( $offsetParent.is('html') && $offsetParent[0] !== $body[0] ) {\n            module.debug('Setting page as offset parent');\n            $offsetParent = $body;\n          }\n          if( module.get.variation() ) {\n            module.set.variation();\n          }\n        },\n\n        reposition: function() {\n          module.refresh();\n          module.set.position();\n        },\n\n        destroy: function() {\n          module.debug('Destroying previous module');\n          if(documentObserver) {\n            documentObserver.disconnect();\n          }\n          // remove element only if was created dynamically\n          if($popup && !settings.preserve) {\n            module.removePopup();\n          }\n          // clear all timeouts\n          clearTimeout(module.hideTimer);\n          clearTimeout(module.showTimer);\n          // remove events\n          module.unbind.close();\n          module.unbind.events();\n          $module\n            .removeData(moduleNamespace)\n          ;\n        },\n\n        event: {\n          start:  function(event) {\n            var\n              delay = ($.isPlainObject(settings.delay))\n                ? settings.delay.show\n                : settings.delay\n            ;\n            clearTimeout(module.hideTimer);\n            if(!openedWithTouch) {\n              module.showTimer = setTimeout(module.show, delay);\n            }\n          },\n          end:  function() {\n            var\n              delay = ($.isPlainObject(settings.delay))\n                ? settings.delay.hide\n                : settings.delay\n            ;\n            clearTimeout(module.showTimer);\n            module.hideTimer = setTimeout(module.hide, delay);\n          },\n          touchstart: function(event) {\n            openedWithTouch = true;\n            module.show();\n          },\n          resize: function() {\n            if( module.is.visible() ) {\n              module.set.position();\n            }\n          },\n          documentChanged: function(mutations) {\n            [].forEach.call(mutations, function(mutation) {\n              if(mutation.removedNodes) {\n                [].forEach.call(mutation.removedNodes, function(node) {\n                  if(node == element || $(node).find(element).length > 0) {\n                    module.debug('Element removed from DOM, tearing down events');\n                    module.destroy();\n                  }\n                });\n              }\n            });\n          },\n          hideGracefully: function(event) {\n            var\n              $target = $(event.target),\n              isInDOM = $.contains(document.documentElement, event.target),\n              inPopup = ($target.closest(selector.popup).length > 0)\n            ;\n            // don't close on clicks inside popup\n            if(event && !inPopup && isInDOM) {\n              module.debug('Click occurred outside popup hiding popup');\n              module.hide();\n            }\n            else {\n              module.debug('Click was inside popup, keeping popup open');\n            }\n          }\n        },\n\n        // generates popup html from metadata\n        create: function() {\n          var\n            html      = module.get.html(),\n            title     = module.get.title(),\n            content   = module.get.content()\n          ;\n\n          if(html || content || title) {\n            module.debug('Creating pop-up html');\n            if(!html) {\n              html = settings.templates.popup({\n                title   : title,\n                content : content\n              });\n            }\n            $popup = $('<div/>')\n              .addClass(className.popup)\n              .data(metadata.activator, $module)\n              .html(html)\n            ;\n            if(settings.inline) {\n              module.verbose('Inserting popup element inline', $popup);\n              $popup\n                .insertAfter($module)\n              ;\n            }\n            else {\n              module.verbose('Appending popup element to body', $popup);\n              $popup\n                .appendTo( $context )\n              ;\n            }\n            module.refresh();\n            module.set.variation();\n\n            if(settings.hoverable) {\n              module.bind.popup();\n            }\n            settings.onCreate.call($popup, element);\n          }\n          else if($target.next(selector.popup).length !== 0) {\n            module.verbose('Pre-existing popup found');\n            settings.inline = true;\n            settings.popup  = $target.next(selector.popup).data(metadata.activator, $module);\n            module.refresh();\n            if(settings.hoverable) {\n              module.bind.popup();\n            }\n          }\n          else if(settings.popup) {\n            $(settings.popup).data(metadata.activator, $module);\n            module.verbose('Used popup specified in settings');\n            module.refresh();\n            if(settings.hoverable) {\n              module.bind.popup();\n            }\n          }\n          else {\n            module.debug('No content specified skipping display', element);\n          }\n        },\n\n        createID: function() {\n          id = (Math.random().toString(16) + '000000000').substr(2, 8);\n          elementNamespace = '.' + id;\n          module.verbose('Creating unique id for element', id);\n        },\n\n        // determines popup state\n        toggle: function() {\n          module.debug('Toggling pop-up');\n          if( module.is.hidden() ) {\n            module.debug('Popup is hidden, showing pop-up');\n            module.unbind.close();\n            module.show();\n          }\n          else {\n            module.debug('Popup is visible, hiding pop-up');\n            module.hide();\n          }\n        },\n\n        show: function(callback) {\n          callback = callback || function(){};\n          module.debug('Showing pop-up', settings.transition);\n          if(module.is.hidden() && !( module.is.active() && module.is.dropdown()) ) {\n            if( !module.exists() ) {\n              module.create();\n            }\n            if(settings.onShow.call($popup, element) === false) {\n              module.debug('onShow callback returned false, cancelling popup animation');\n              return;\n            }\n            else if(!settings.preserve && !settings.popup) {\n              module.refresh();\n            }\n            if( $popup && module.set.position() ) {\n              module.save.conditions();\n              if(settings.exclusive) {\n                module.hideAll();\n              }\n              module.animate.show(callback);\n            }\n          }\n        },\n\n\n        hide: function(callback) {\n          callback = callback || function(){};\n          if( module.is.visible() || module.is.animating() ) {\n            if(settings.onHide.call($popup, element) === false) {\n              module.debug('onHide callback returned false, cancelling popup animation');\n              return;\n            }\n            module.remove.visible();\n            module.unbind.close();\n            module.restore.conditions();\n            module.animate.hide(callback);\n          }\n        },\n\n        hideAll: function() {\n          $(selector.popup)\n            .filter('.' + className.popupVisible)\n            .each(function() {\n              $(this)\n                .data(metadata.activator)\n                  .popup('hide')\n              ;\n            })\n          ;\n        },\n        exists: function() {\n          if(!$popup) {\n            return false;\n          }\n          if(settings.inline || settings.popup) {\n            return ( module.has.popup() );\n          }\n          else {\n            return ( $popup.closest($context).length >= 1 )\n              ? true\n              : false\n            ;\n          }\n        },\n\n        removePopup: function() {\n          if( module.has.popup() && !settings.popup) {\n            module.debug('Removing popup', $popup);\n            $popup.remove();\n            $popup = undefined;\n            settings.onRemove.call($popup, element);\n          }\n        },\n\n        save: {\n          conditions: function() {\n            module.cache = {\n              title: $module.attr('title')\n            };\n            if (module.cache.title) {\n              $module.removeAttr('title');\n            }\n            module.verbose('Saving original attributes', module.cache.title);\n          }\n        },\n        restore: {\n          conditions: function() {\n            if(module.cache && module.cache.title) {\n              $module.attr('title', module.cache.title);\n              module.verbose('Restoring original attributes', module.cache.title);\n            }\n            return true;\n          }\n        },\n        supports: {\n          svg: function() {\n            return (typeof SVGGraphicsElement === 'undefined');\n          }\n        },\n        animate: {\n          show: function(callback) {\n            callback = $.isFunction(callback) ? callback : function(){};\n            if(settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n              module.set.visible();\n              $popup\n                .transition({\n                  animation  : settings.transition + ' in',\n                  queue      : false,\n                  debug      : settings.debug,\n                  verbose    : settings.verbose,\n                  duration   : settings.duration,\n                  onComplete : function() {\n                    module.bind.close();\n                    callback.call($popup, element);\n                    settings.onVisible.call($popup, element);\n                  }\n                })\n              ;\n            }\n            else {\n              module.error(error.noTransition);\n            }\n          },\n          hide: function(callback) {\n            callback = $.isFunction(callback) ? callback : function(){};\n            module.debug('Hiding pop-up');\n            if(settings.onHide.call($popup, element) === false) {\n              module.debug('onHide callback returned false, cancelling popup animation');\n              return;\n            }\n            if(settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n              $popup\n                .transition({\n                  animation  : settings.transition + ' out',\n                  queue      : false,\n                  duration   : settings.duration,\n                  debug      : settings.debug,\n                  verbose    : settings.verbose,\n                  onComplete : function() {\n                    module.reset();\n                    callback.call($popup, element);\n                    settings.onHidden.call($popup, element);\n                  }\n                })\n              ;\n            }\n            else {\n              module.error(error.noTransition);\n            }\n          }\n        },\n\n        change: {\n          content: function(html) {\n            $popup.html(html);\n          }\n        },\n\n        get: {\n          html: function() {\n            $module.removeData(metadata.html);\n            return $module.data(metadata.html) || settings.html;\n          },\n          title: function() {\n            $module.removeData(metadata.title);\n            return $module.data(metadata.title) || settings.title;\n          },\n          content: function() {\n            $module.removeData(metadata.content);\n            return $module.data(metadata.content) || settings.content || $module.attr('title');\n          },\n          variation: function() {\n            $module.removeData(metadata.variation);\n            return $module.data(metadata.variation) || settings.variation;\n          },\n          popup: function() {\n            return $popup;\n          },\n          popupOffset: function() {\n            return $popup.offset();\n          },\n          calculations: function() {\n            var\n              $popupOffsetParent = module.get.offsetParent($popup),\n              targetElement      = $target[0],\n              isWindow           = ($boundary[0] == window),\n              targetPosition     = (settings.inline || (settings.popup && settings.movePopup))\n                ? $target.position()\n                : $target.offset(),\n              screenPosition = (isWindow)\n                ? { top: 0, left: 0 }\n                : $boundary.offset(),\n              calculations   = {},\n              scroll = (isWindow)\n                ? { top: $window.scrollTop(), left: $window.scrollLeft() }\n                : { top: 0, left: 0},\n              screen\n            ;\n            calculations = {\n              // element which is launching popup\n              target : {\n                element : $target[0],\n                width   : $target.outerWidth(),\n                height  : $target.outerHeight(),\n                top     : targetPosition.top,\n                left    : targetPosition.left,\n                margin  : {}\n              },\n              // popup itself\n              popup : {\n                width  : $popup.outerWidth(),\n                height : $popup.outerHeight()\n              },\n              // offset container (or 3d context)\n              parent : {\n                width  : $offsetParent.outerWidth(),\n                height : $offsetParent.outerHeight()\n              },\n              // screen boundaries\n              screen : {\n                top  : screenPosition.top,\n                left : screenPosition.left,\n                scroll: {\n                  top  : scroll.top,\n                  left : scroll.left\n                },\n                width  : $boundary.width(),\n                height : $boundary.height()\n              }\n            };\n\n            // if popup offset context is not same as target, then adjust calculations\n            if($popupOffsetParent.get(0) !== $offsetParent.get(0)) {\n              var\n                popupOffset        = $popupOffsetParent.offset()\n              ;\n              calculations.target.top -= popupOffset.top;\n              calculations.target.left -= popupOffset.left;\n              calculations.parent.width = $popupOffsetParent.outerWidth();\n              calculations.parent.height = $popupOffsetParent.outerHeight();\n            }\n\n            // add in container calcs if fluid\n            if( settings.setFluidWidth && module.is.fluid() ) {\n              calculations.container = {\n                width: $popup.parent().outerWidth()\n              };\n              calculations.popup.width = calculations.container.width;\n            }\n\n            // add in margins if inline\n            calculations.target.margin.top = (settings.inline)\n              ? parseInt( window.getComputedStyle(targetElement).getPropertyValue('margin-top'), 10)\n              : 0\n            ;\n            calculations.target.margin.left = (settings.inline)\n              ? module.is.rtl()\n                ? parseInt( window.getComputedStyle(targetElement).getPropertyValue('margin-right'), 10)\n                : parseInt( window.getComputedStyle(targetElement).getPropertyValue('margin-left'), 10)\n              : 0\n            ;\n            // calculate screen boundaries\n            screen = calculations.screen;\n            calculations.boundary = {\n              top    : screen.top + screen.scroll.top,\n              bottom : screen.top + screen.scroll.top + screen.height,\n              left   : screen.left + screen.scroll.left,\n              right  : screen.left + screen.scroll.left + screen.width\n            };\n            return calculations;\n          },\n          id: function() {\n            return id;\n          },\n          startEvent: function() {\n            if(settings.on == 'hover') {\n              return 'mouseenter';\n            }\n            else if(settings.on == 'focus') {\n              return 'focus';\n            }\n            return false;\n          },\n          scrollEvent: function() {\n            return 'scroll';\n          },\n          endEvent: function() {\n            if(settings.on == 'hover') {\n              return 'mouseleave';\n            }\n            else if(settings.on == 'focus') {\n              return 'blur';\n            }\n            return false;\n          },\n          distanceFromBoundary: function(offset, calculations) {\n            var\n              distanceFromBoundary = {},\n              popup,\n              boundary\n            ;\n            calculations = calculations || module.get.calculations();\n\n            // shorthand\n            popup        = calculations.popup;\n            boundary     = calculations.boundary;\n\n            if(offset) {\n              distanceFromBoundary = {\n                top    : (offset.top - boundary.top),\n                left   : (offset.left - boundary.left),\n                right  : (boundary.right - (offset.left + popup.width) ),\n                bottom : (boundary.bottom - (offset.top + popup.height) )\n              };\n              module.verbose('Distance from boundaries determined', offset, distanceFromBoundary);\n            }\n            return distanceFromBoundary;\n          },\n          offsetParent: function($element) {\n            var\n              element = ($element !== undefined)\n                ? $element[0]\n                : $target[0],\n              parentNode = element.parentNode,\n              $node    = $(parentNode)\n            ;\n            if(parentNode) {\n              var\n                is2D     = ($node.css('transform') === 'none'),\n                isStatic = ($node.css('position') === 'static'),\n                isBody   = $node.is('body')\n              ;\n              while(parentNode && !isBody && isStatic && is2D) {\n                parentNode = parentNode.parentNode;\n                $node    = $(parentNode);\n                is2D     = ($node.css('transform') === 'none');\n                isStatic = ($node.css('position') === 'static');\n                isBody   = $node.is('body');\n              }\n            }\n            return ($node && $node.length > 0)\n              ? $node\n              : $()\n            ;\n          },\n          positions: function() {\n            return {\n              'top left'      : false,\n              'top center'    : false,\n              'top right'     : false,\n              'bottom left'   : false,\n              'bottom center' : false,\n              'bottom right'  : false,\n              'left center'   : false,\n              'right center'  : false\n            };\n          },\n          nextPosition: function(position) {\n            var\n              positions          = position.split(' '),\n              verticalPosition   = positions[0],\n              horizontalPosition = positions[1],\n              opposite = {\n                top    : 'bottom',\n                bottom : 'top',\n                left   : 'right',\n                right  : 'left'\n              },\n              adjacent = {\n                left   : 'center',\n                center : 'right',\n                right  : 'left'\n              },\n              backup = {\n                'top left'      : 'top center',\n                'top center'    : 'top right',\n                'top right'     : 'right center',\n                'right center'  : 'bottom right',\n                'bottom right'  : 'bottom center',\n                'bottom center' : 'bottom left',\n                'bottom left'   : 'left center',\n                'left center'   : 'top left'\n              },\n              adjacentsAvailable = (verticalPosition == 'top' || verticalPosition == 'bottom'),\n              oppositeTried = false,\n              adjacentTried = false,\n              nextPosition  = false\n            ;\n            if(!triedPositions) {\n              module.verbose('All available positions available');\n              triedPositions = module.get.positions();\n            }\n\n            module.debug('Recording last position tried', position);\n            triedPositions[position] = true;\n\n            if(settings.prefer === 'opposite') {\n              nextPosition  = [opposite[verticalPosition], horizontalPosition];\n              nextPosition  = nextPosition.join(' ');\n              oppositeTried = (triedPositions[nextPosition] === true);\n              module.debug('Trying opposite strategy', nextPosition);\n            }\n            if((settings.prefer === 'adjacent') && adjacentsAvailable ) {\n              nextPosition  = [verticalPosition, adjacent[horizontalPosition]];\n              nextPosition  = nextPosition.join(' ');\n              adjacentTried = (triedPositions[nextPosition] === true);\n              module.debug('Trying adjacent strategy', nextPosition);\n            }\n            if(adjacentTried || oppositeTried) {\n              module.debug('Using backup position', nextPosition);\n              nextPosition = backup[position];\n            }\n            return nextPosition;\n          }\n        },\n\n        set: {\n          position: function(position, calculations) {\n\n            // exit conditions\n            if($target.length === 0 || $popup.length === 0) {\n              module.error(error.notFound);\n              return;\n            }\n            var\n              offset,\n              distanceAway,\n              target,\n              popup,\n              parent,\n              positioning,\n              popupOffset,\n              distanceFromBoundary\n            ;\n\n            calculations = calculations || module.get.calculations();\n            position     = position     || $module.data(metadata.position) || settings.position;\n\n            offset       = $module.data(metadata.offset) || settings.offset;\n            distanceAway = settings.distanceAway;\n\n            // shorthand\n            target = calculations.target;\n            popup  = calculations.popup;\n            parent = calculations.parent;\n\n            if(module.should.centerArrow(calculations)) {\n              module.verbose('Adjusting offset to center arrow on small target element');\n              if(position == 'top left' || position == 'bottom left') {\n                offset += (target.width / 2)\n                offset -= settings.arrowPixelsFromEdge;\n              }\n              if(position == 'top right' || position == 'bottom right') {\n                offset -= (target.width / 2)\n                offset += settings.arrowPixelsFromEdge;\n              }\n            }\n\n            if(target.width === 0 && target.height === 0 && !module.is.svg(target.element)) {\n              module.debug('Popup target is hidden, no action taken');\n              return false;\n            }\n\n            if(settings.inline) {\n              module.debug('Adding margin to calculation', target.margin);\n              if(position == 'left center' || position == 'right center') {\n                offset       +=  target.margin.top;\n                distanceAway += -target.margin.left;\n              }\n              else if (position == 'top left' || position == 'top center' || position == 'top right') {\n                offset       += target.margin.left;\n                distanceAway -= target.margin.top;\n              }\n              else {\n                offset       += target.margin.left;\n                distanceAway += target.margin.top;\n              }\n            }\n\n            module.debug('Determining popup position from calculations', position, calculations);\n\n            if (module.is.rtl()) {\n              position = position.replace(/left|right/g, function (match) {\n                return (match == 'left')\n                  ? 'right'\n                  : 'left'\n                ;\n              });\n              module.debug('RTL: Popup position updated', position);\n            }\n\n            // if last attempt use specified last resort position\n            if(searchDepth == settings.maxSearchDepth && typeof settings.lastResort === 'string') {\n              position = settings.lastResort;\n            }\n\n            switch (position) {\n              case 'top left':\n                positioning = {\n                  top    : 'auto',\n                  bottom : parent.height - target.top + distanceAway,\n                  left   : target.left + offset,\n                  right  : 'auto'\n                };\n              break;\n              case 'top center':\n                positioning = {\n                  bottom : parent.height - target.top + distanceAway,\n                  left   : target.left + (target.width / 2) - (popup.width / 2) + offset,\n                  top    : 'auto',\n                  right  : 'auto'\n                };\n              break;\n              case 'top right':\n                positioning = {\n                  bottom :  parent.height - target.top + distanceAway,\n                  right  :  parent.width - target.left - target.width - offset,\n                  top    : 'auto',\n                  left   : 'auto'\n                };\n              break;\n              case 'left center':\n                positioning = {\n                  top    : target.top + (target.height / 2) - (popup.height / 2) + offset,\n                  right  : parent.width - target.left + distanceAway,\n                  left   : 'auto',\n                  bottom : 'auto'\n                };\n              break;\n              case 'right center':\n                positioning = {\n                  top    : target.top + (target.height / 2) - (popup.height / 2) + offset,\n                  left   : target.left + target.width + distanceAway,\n                  bottom : 'auto',\n                  right  : 'auto'\n                };\n              break;\n              case 'bottom left':\n                positioning = {\n                  top    : target.top + target.height + distanceAway,\n                  left   : target.left + offset,\n                  bottom : 'auto',\n                  right  : 'auto'\n                };\n              break;\n              case 'bottom center':\n                positioning = {\n                  top    : target.top + target.height + distanceAway,\n                  left   : target.left + (target.width / 2) - (popup.width / 2) + offset,\n                  bottom : 'auto',\n                  right  : 'auto'\n                };\n              break;\n              case 'bottom right':\n                positioning = {\n                  top    : target.top + target.height + distanceAway,\n                  right  : parent.width - target.left  - target.width - offset,\n                  left   : 'auto',\n                  bottom : 'auto'\n                };\n              break;\n            }\n            if(positioning === undefined) {\n              module.error(error.invalidPosition, position);\n            }\n\n            module.debug('Calculated popup positioning values', positioning);\n\n            // tentatively place on stage\n            $popup\n              .css(positioning)\n              .removeClass(className.position)\n              .addClass(position)\n              .addClass(className.loading)\n            ;\n\n            popupOffset = module.get.popupOffset();\n\n            // see if any boundaries are surpassed with this tentative position\n            distanceFromBoundary = module.get.distanceFromBoundary(popupOffset, calculations);\n\n            if( module.is.offstage(distanceFromBoundary, position) ) {\n              module.debug('Position is outside viewport', position);\n              if(searchDepth < settings.maxSearchDepth) {\n                searchDepth++;\n                position = module.get.nextPosition(position);\n                module.debug('Trying new position', position);\n                return ($popup)\n                  ? module.set.position(position, calculations)\n                  : false\n                ;\n              }\n              else {\n                if(settings.lastResort) {\n                  module.debug('No position found, showing with last position');\n                }\n                else {\n                  module.debug('Popup could not find a position to display', $popup);\n                  module.error(error.cannotPlace, element);\n                  module.remove.attempts();\n                  module.remove.loading();\n                  module.reset();\n                  settings.onUnplaceable.call($popup, element);\n                  return false;\n                }\n              }\n            }\n            module.debug('Position is on stage', position);\n            module.remove.attempts();\n            module.remove.loading();\n            if( settings.setFluidWidth && module.is.fluid() ) {\n              module.set.fluidWidth(calculations);\n            }\n            return true;\n          },\n\n          fluidWidth: function(calculations) {\n            calculations = calculations || module.get.calculations();\n            module.debug('Automatically setting element width to parent width', calculations.parent.width);\n            $popup.css('width', calculations.container.width);\n          },\n\n          variation: function(variation) {\n            variation = variation || module.get.variation();\n            if(variation && module.has.popup() ) {\n              module.verbose('Adding variation to popup', variation);\n              $popup.addClass(variation);\n            }\n          },\n\n          visible: function() {\n            $module.addClass(className.visible);\n          }\n        },\n\n        remove: {\n          loading: function() {\n            $popup.removeClass(className.loading);\n          },\n          variation: function(variation) {\n            variation = variation || module.get.variation();\n            if(variation) {\n              module.verbose('Removing variation', variation);\n              $popup.removeClass(variation);\n            }\n          },\n          visible: function() {\n            $module.removeClass(className.visible);\n          },\n          attempts: function() {\n            module.verbose('Resetting all searched positions');\n            searchDepth    = 0;\n            triedPositions = false;\n          }\n        },\n\n        bind: {\n          events: function() {\n            module.debug('Binding popup events to module');\n            if(settings.on == 'click') {\n              $module\n                .on('click' + eventNamespace, module.toggle)\n              ;\n            }\n            if(settings.on == 'hover' && hasTouch) {\n              $module\n                .on('touchstart' + eventNamespace, module.event.touchstart)\n              ;\n            }\n            if( module.get.startEvent() ) {\n              $module\n                .on(module.get.startEvent() + eventNamespace, module.event.start)\n                .on(module.get.endEvent() + eventNamespace, module.event.end)\n              ;\n            }\n            if(settings.target) {\n              module.debug('Target set to element', $target);\n            }\n            $window.on('resize' + elementNamespace, module.event.resize);\n          },\n          popup: function() {\n            module.verbose('Allowing hover events on popup to prevent closing');\n            if( $popup && module.has.popup() ) {\n              $popup\n                .on('mouseenter' + eventNamespace, module.event.start)\n                .on('mouseleave' + eventNamespace, module.event.end)\n              ;\n            }\n          },\n          close: function() {\n            if(settings.hideOnScroll === true || (settings.hideOnScroll == 'auto' && settings.on != 'click')) {\n              module.bind.closeOnScroll();\n            }\n            if(settings.on == 'hover' && openedWithTouch) {\n              module.bind.touchClose();\n            }\n            if(settings.on == 'click' && settings.closable) {\n              module.bind.clickaway();\n            }\n          },\n          closeOnScroll: function() {\n            module.verbose('Binding scroll close event to document');\n            $scrollContext\n              .one(module.get.scrollEvent() + elementNamespace, module.event.hideGracefully)\n            ;\n          },\n          touchClose: function() {\n            module.verbose('Binding popup touchclose event to document');\n            $document\n              .on('touchstart' + elementNamespace, function(event) {\n                module.verbose('Touched away from popup');\n                module.event.hideGracefully.call(element, event);\n              })\n            ;\n          },\n          clickaway: function() {\n            module.verbose('Binding popup close event to document');\n            $document\n              .on('click' + elementNamespace, function(event) {\n                module.verbose('Clicked away from popup');\n                module.event.hideGracefully.call(element, event);\n              })\n            ;\n          }\n        },\n\n        unbind: {\n          events: function() {\n            $window\n              .off(elementNamespace)\n            ;\n            $module\n              .off(eventNamespace)\n            ;\n          },\n          close: function() {\n            $document\n              .off(elementNamespace)\n            ;\n            $scrollContext\n              .off(elementNamespace)\n            ;\n          },\n        },\n\n        has: {\n          popup: function() {\n            return ($popup && $popup.length > 0);\n          }\n        },\n\n        should: {\n          centerArrow: function(calculations) {\n            return !module.is.basic() && calculations.target.width <= (settings.arrowPixelsFromEdge * 2);\n          }\n        },\n\n        is: {\n          offstage: function(distanceFromBoundary, position) {\n            var\n              offstage = []\n            ;\n            // return boundaries that have been surpassed\n            $.each(distanceFromBoundary, function(direction, distance) {\n              if(distance < -settings.jitter) {\n                module.debug('Position exceeds allowable distance from edge', direction, distance, position);\n                offstage.push(direction);\n              }\n            });\n            if(offstage.length > 0) {\n              return true;\n            }\n            else {\n              return false;\n            }\n          },\n          svg: function(element) {\n            return module.supports.svg() && (element instanceof SVGGraphicsElement);\n          },\n          basic: function() {\n            return $module.hasClass(className.basic);\n          },\n          active: function() {\n            return $module.hasClass(className.active);\n          },\n          animating: function() {\n            return ($popup !== undefined && $popup.hasClass(className.animating) );\n          },\n          fluid: function() {\n            return ($popup !== undefined && $popup.hasClass(className.fluid));\n          },\n          visible: function() {\n            return ($popup !== undefined && $popup.hasClass(className.popupVisible));\n          },\n          dropdown: function() {\n            return $module.hasClass(className.dropdown);\n          },\n          hidden: function() {\n            return !module.is.visible();\n          },\n          rtl: function () {\n            return $module.css('direction') == 'rtl';\n          }\n        },\n\n        reset: function() {\n          module.remove.visible();\n          if(settings.preserve) {\n            if($.fn.transition !== undefined) {\n              $popup\n                .transition('remove transition')\n              ;\n            }\n          }\n          else {\n            module.removePopup();\n          }\n        },\n\n        setting: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            settings[name] = value;\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.popup.settings = {\n\n  name           : 'Popup',\n\n  // module settings\n  silent         : false,\n  debug          : false,\n  verbose        : false,\n  performance    : true,\n  namespace      : 'popup',\n\n  // whether it should use dom mutation observers\n  observeChanges : true,\n\n  // callback only when element added to dom\n  onCreate       : function(){},\n\n  // callback before element removed from dom\n  onRemove       : function(){},\n\n  // callback before show animation\n  onShow         : function(){},\n\n  // callback after show animation\n  onVisible      : function(){},\n\n  // callback before hide animation\n  onHide         : function(){},\n\n  // callback when popup cannot be positioned in visible screen\n  onUnplaceable  : function(){},\n\n  // callback after hide animation\n  onHidden       : function(){},\n\n  // when to show popup\n  on             : 'hover',\n\n  // element to use to determine if popup is out of boundary\n  boundary       : window,\n\n  // whether to add touchstart events when using hover\n  addTouchEvents : true,\n\n  // default position relative to element\n  position       : 'top left',\n\n  // name of variation to use\n  variation      : '',\n\n  // whether popup should be moved to context\n  movePopup      : true,\n\n  // element which popup should be relative to\n  target         : false,\n\n  // jq selector or element that should be used as popup\n  popup          : false,\n\n  // popup should remain inline next to activator\n  inline         : false,\n\n  // popup should be removed from page on hide\n  preserve       : false,\n\n  // popup should not close when being hovered on\n  hoverable      : false,\n\n  // explicitly set content\n  content        : false,\n\n  // explicitly set html\n  html           : false,\n\n  // explicitly set title\n  title          : false,\n\n  // whether automatically close on clickaway when on click\n  closable       : true,\n\n  // automatically hide on scroll\n  hideOnScroll   : 'auto',\n\n  // hide other popups on show\n  exclusive      : false,\n\n  // context to attach popups\n  context        : 'body',\n\n  // context for binding scroll events\n  scrollContext  : window,\n\n  // position to prefer when calculating new position\n  prefer         : 'opposite',\n\n  // specify position to appear even if it doesn't fit\n  lastResort     : false,\n\n  // number of pixels from edge of popup to pointing arrow center (used from centering)\n  arrowPixelsFromEdge: 20,\n\n  // delay used to prevent accidental refiring of animations due to user error\n  delay : {\n    show : 50,\n    hide : 70\n  },\n\n  // whether fluid variation should assign width explicitly\n  setFluidWidth  : true,\n\n  // transition settings\n  duration       : 200,\n  transition     : 'scale',\n\n  // distance away from activating element in px\n  distanceAway   : 0,\n\n  // number of pixels an element is allowed to be \"offstage\" for a position to be chosen (allows for rounding)\n  jitter         : 2,\n\n  // offset on aligning axis from calculated position\n  offset         : 0,\n\n  // maximum times to look for a position before failing (9 positions total)\n  maxSearchDepth : 15,\n\n  error: {\n    invalidPosition : 'The position you specified is not a valid position',\n    cannotPlace     : 'Popup does not fit within the boundaries of the viewport',\n    method          : 'The method you called is not defined.',\n    noTransition    : 'This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>',\n    notFound        : 'The target or popup you specified does not exist on the page'\n  },\n\n  metadata: {\n    activator : 'activator',\n    content   : 'content',\n    html      : 'html',\n    offset    : 'offset',\n    position  : 'position',\n    title     : 'title',\n    variation : 'variation'\n  },\n\n  className   : {\n    active       : 'active',\n    basic        : 'basic',\n    animating    : 'animating',\n    dropdown     : 'dropdown',\n    fluid        : 'fluid',\n    loading      : 'loading',\n    popup        : 'ui popup',\n    position     : 'top left center bottom right',\n    visible      : 'visible',\n    popupVisible : 'visible'\n  },\n\n  selector    : {\n    popup    : '.ui.popup'\n  },\n\n  templates: {\n    escape: function(string) {\n      var\n        badChars     = /[&<>\"'`]/g,\n        shouldEscape = /[&<>\"'`]/,\n        escape       = {\n          \"&\": \"&amp;\",\n          \"<\": \"&lt;\",\n          \">\": \"&gt;\",\n          '\"': \"&quot;\",\n          \"'\": \"&#x27;\",\n          \"`\": \"&#x60;\"\n        },\n        escapedChar  = function(chr) {\n          return escape[chr];\n        }\n      ;\n      if(shouldEscape.test(string)) {\n        return string.replace(badChars, escapedChar);\n      }\n      return string;\n    },\n    popup: function(text) {\n      var\n        html   = '',\n        escape = $.fn.popup.settings.templates.escape\n      ;\n      if(typeof text !== undefined) {\n        if(typeof text.title !== undefined && text.title) {\n          text.title = escape(text.title);\n          html += '<div class=\"header\">' + text.title + '</div>';\n        }\n        if(typeof text.content !== undefined && text.content) {\n          text.content = escape(text.content);\n          html += '<div class=\"content\">' + text.content + '</div>';\n        }\n      }\n      return html;\n    }\n  }\n\n};\n\n\n})( jQuery, window, document );\n","/*!\n * # Semantic UI - Progress\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\nvar\n  global = (typeof window != 'undefined' && window.Math == Math)\n    ? window\n    : (typeof self != 'undefined' && self.Math == Math)\n      ? self\n      : Function('return this')()\n;\n\n$.fn.progress = function(parameters) {\n  var\n    $allModules    = $(this),\n\n    moduleSelector = $allModules.selector || '',\n\n    time           = new Date().getTime(),\n    performance    = [],\n\n    query          = arguments[0],\n    methodInvoked  = (typeof query == 'string'),\n    queryArguments = [].slice.call(arguments, 1),\n\n    returnedValue\n  ;\n\n  $allModules\n    .each(function() {\n      var\n        settings          = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.progress.settings, parameters)\n          : $.extend({}, $.fn.progress.settings),\n\n        className       = settings.className,\n        metadata        = settings.metadata,\n        namespace       = settings.namespace,\n        selector        = settings.selector,\n        error           = settings.error,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n\n        $module         = $(this),\n        $bar            = $(this).find(selector.bar),\n        $progress       = $(this).find(selector.progress),\n        $label          = $(this).find(selector.label),\n\n        element         = this,\n        instance        = $module.data(moduleNamespace),\n\n        animating = false,\n        transitionEnd,\n        module\n      ;\n\n      module = {\n\n        initialize: function() {\n          module.debug('Initializing progress bar', settings);\n\n          module.set.duration();\n          module.set.transitionEvent();\n\n          module.read.metadata();\n          module.read.settings();\n\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of progress', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n        destroy: function() {\n          module.verbose('Destroying previous progress for', $module);\n          clearInterval(instance.interval);\n          module.remove.state();\n          $module.removeData(moduleNamespace);\n          instance = undefined;\n        },\n\n        reset: function() {\n          module.remove.nextValue();\n          module.update.progress(0);\n        },\n\n        complete: function() {\n          if(module.percent === undefined || module.percent < 100) {\n            module.remove.progressPoll();\n            module.set.percent(100);\n          }\n        },\n\n        read: {\n          metadata: function() {\n            var\n              data = {\n                percent : $module.data(metadata.percent),\n                total   : $module.data(metadata.total),\n                value   : $module.data(metadata.value)\n              }\n            ;\n            if(data.percent) {\n              module.debug('Current percent value set from metadata', data.percent);\n              module.set.percent(data.percent);\n            }\n            if(data.total) {\n              module.debug('Total value set from metadata', data.total);\n              module.set.total(data.total);\n            }\n            if(data.value) {\n              module.debug('Current value set from metadata', data.value);\n              module.set.value(data.value);\n              module.set.progress(data.value);\n            }\n          },\n          settings: function() {\n            if(settings.total !== false) {\n              module.debug('Current total set in settings', settings.total);\n              module.set.total(settings.total);\n            }\n            if(settings.value !== false) {\n              module.debug('Current value set in settings', settings.value);\n              module.set.value(settings.value);\n              module.set.progress(module.value);\n            }\n            if(settings.percent !== false) {\n              module.debug('Current percent set in settings', settings.percent);\n              module.set.percent(settings.percent);\n            }\n          }\n        },\n\n        bind: {\n          transitionEnd: function(callback) {\n            var\n              transitionEnd = module.get.transitionEnd()\n            ;\n            $bar\n              .one(transitionEnd + eventNamespace, function(event) {\n                clearTimeout(module.failSafeTimer);\n                callback.call(this, event);\n              })\n            ;\n            module.failSafeTimer = setTimeout(function() {\n              $bar.triggerHandler(transitionEnd);\n            }, settings.duration + settings.failSafeDelay);\n            module.verbose('Adding fail safe timer', module.timer);\n          }\n        },\n\n        increment: function(incrementValue) {\n          var\n            maxValue,\n            startValue,\n            newValue\n          ;\n          if( module.has.total() ) {\n            startValue     = module.get.value();\n            incrementValue = incrementValue || 1;\n            newValue       = startValue + incrementValue;\n          }\n          else {\n            startValue     = module.get.percent();\n            incrementValue = incrementValue || module.get.randomValue();\n\n            newValue       = startValue + incrementValue;\n            maxValue       = 100;\n            module.debug('Incrementing percentage by', startValue, newValue);\n          }\n          newValue = module.get.normalizedValue(newValue);\n          module.set.progress(newValue);\n        },\n        decrement: function(decrementValue) {\n          var\n            total     = module.get.total(),\n            startValue,\n            newValue\n          ;\n          if(total) {\n            startValue     =  module.get.value();\n            decrementValue =  decrementValue || 1;\n            newValue       =  startValue - decrementValue;\n            module.debug('Decrementing value by', decrementValue, startValue);\n          }\n          else {\n            startValue     =  module.get.percent();\n            decrementValue =  decrementValue || module.get.randomValue();\n            newValue       =  startValue - decrementValue;\n            module.debug('Decrementing percentage by', decrementValue, startValue);\n          }\n          newValue = module.get.normalizedValue(newValue);\n          module.set.progress(newValue);\n        },\n\n        has: {\n          progressPoll: function() {\n            return module.progressPoll;\n          },\n          total: function() {\n            return (module.get.total() !== false);\n          }\n        },\n\n        get: {\n          text: function(templateText) {\n            var\n              value   = module.value                || 0,\n              total   = module.total                || 0,\n              percent = (animating)\n                ? module.get.displayPercent()\n                : module.percent || 0,\n              left = (module.total > 0)\n                ? (total - value)\n                : (100 - percent)\n            ;\n            templateText = templateText || '';\n            templateText = templateText\n              .replace('{value}', value)\n              .replace('{total}', total)\n              .replace('{left}', left)\n              .replace('{percent}', percent)\n            ;\n            module.verbose('Adding variables to progress bar text', templateText);\n            return templateText;\n          },\n\n          normalizedValue: function(value) {\n            if(value < 0) {\n              module.debug('Value cannot decrement below 0');\n              return 0;\n            }\n            if(module.has.total()) {\n              if(value > module.total) {\n                module.debug('Value cannot increment above total', module.total);\n                return module.total;\n              }\n            }\n            else if(value > 100 ) {\n              module.debug('Value cannot increment above 100 percent');\n              return 100;\n            }\n            return value;\n          },\n\n          updateInterval: function() {\n            if(settings.updateInterval == 'auto') {\n              return settings.duration;\n            }\n            return settings.updateInterval;\n          },\n\n          randomValue: function() {\n            module.debug('Generating random increment percentage');\n            return Math.floor((Math.random() * settings.random.max) + settings.random.min);\n          },\n\n          numericValue: function(value) {\n            return (typeof value === 'string')\n              ? (value.replace(/[^\\d.]/g, '') !== '')\n                ? +(value.replace(/[^\\d.]/g, ''))\n                : false\n              : value\n            ;\n          },\n\n          transitionEnd: function() {\n            var\n              element     = document.createElement('element'),\n              transitions = {\n                'transition'       :'transitionend',\n                'OTransition'      :'oTransitionEnd',\n                'MozTransition'    :'transitionend',\n                'WebkitTransition' :'webkitTransitionEnd'\n              },\n              transition\n            ;\n            for(transition in transitions){\n              if( element.style[transition] !== undefined ){\n                return transitions[transition];\n              }\n            }\n          },\n\n          // gets current displayed percentage (if animating values this is the intermediary value)\n          displayPercent: function() {\n            var\n              barWidth       = $bar.width(),\n              totalWidth     = $module.width(),\n              minDisplay     = parseInt($bar.css('min-width'), 10),\n              displayPercent = (barWidth > minDisplay)\n                ? (barWidth / totalWidth * 100)\n                : module.percent\n            ;\n            return (settings.precision > 0)\n              ? Math.round(displayPercent * (10 * settings.precision)) / (10 * settings.precision)\n              : Math.round(displayPercent)\n            ;\n          },\n\n          percent: function() {\n            return module.percent || 0;\n          },\n          value: function() {\n            return module.nextValue || module.value || 0;\n          },\n          total: function() {\n            return module.total || false;\n          }\n        },\n\n        create: {\n          progressPoll: function() {\n            module.progressPoll = setTimeout(function() {\n              module.update.toNextValue();\n              module.remove.progressPoll();\n            }, module.get.updateInterval());\n          },\n        },\n\n        is: {\n          complete: function() {\n            return module.is.success() || module.is.warning() || module.is.error();\n          },\n          success: function() {\n            return $module.hasClass(className.success);\n          },\n          warning: function() {\n            return $module.hasClass(className.warning);\n          },\n          error: function() {\n            return $module.hasClass(className.error);\n          },\n          active: function() {\n            return $module.hasClass(className.active);\n          },\n          visible: function() {\n            return $module.is(':visible');\n          }\n        },\n\n        remove: {\n          progressPoll: function() {\n            module.verbose('Removing progress poll timer');\n            if(module.progressPoll) {\n              clearTimeout(module.progressPoll);\n              delete module.progressPoll;\n            }\n          },\n          nextValue: function() {\n            module.verbose('Removing progress value stored for next update');\n            delete module.nextValue;\n          },\n          state: function() {\n            module.verbose('Removing stored state');\n            delete module.total;\n            delete module.percent;\n            delete module.value;\n          },\n          active: function() {\n            module.verbose('Removing active state');\n            $module.removeClass(className.active);\n          },\n          success: function() {\n            module.verbose('Removing success state');\n            $module.removeClass(className.success);\n          },\n          warning: function() {\n            module.verbose('Removing warning state');\n            $module.removeClass(className.warning);\n          },\n          error: function() {\n            module.verbose('Removing error state');\n            $module.removeClass(className.error);\n          }\n        },\n\n        set: {\n          barWidth: function(value) {\n            if(value > 100) {\n              module.error(error.tooHigh, value);\n            }\n            else if (value < 0) {\n              module.error(error.tooLow, value);\n            }\n            else {\n              $bar\n                .css('width', value + '%')\n              ;\n              $module\n                .attr('data-percent', parseInt(value, 10))\n              ;\n            }\n          },\n          duration: function(duration) {\n            duration = duration || settings.duration;\n            duration = (typeof duration == 'number')\n              ? duration + 'ms'\n              : duration\n            ;\n            module.verbose('Setting progress bar transition duration', duration);\n            $bar\n              .css({\n                'transition-duration':  duration\n              })\n            ;\n          },\n          percent: function(percent) {\n            percent = (typeof percent == 'string')\n              ? +(percent.replace('%', ''))\n              : percent\n            ;\n            // round display percentage\n            percent = (settings.precision > 0)\n              ? Math.round(percent * (10 * settings.precision)) / (10 * settings.precision)\n              : Math.round(percent)\n            ;\n            module.percent = percent;\n            if( !module.has.total() ) {\n              module.value = (settings.precision > 0)\n                ? Math.round( (percent / 100) * module.total * (10 * settings.precision)) / (10 * settings.precision)\n                : Math.round( (percent / 100) * module.total * 10) / 10\n              ;\n              if(settings.limitValues) {\n                module.value = (module.value > 100)\n                  ? 100\n                  : (module.value < 0)\n                    ? 0\n                    : module.value\n                ;\n              }\n            }\n            module.set.barWidth(percent);\n            module.set.labelInterval();\n            module.set.labels();\n            settings.onChange.call(element, percent, module.value, module.total);\n          },\n          labelInterval: function() {\n            var\n              animationCallback = function() {\n                module.verbose('Bar finished animating, removing continuous label updates');\n                clearInterval(module.interval);\n                animating = false;\n                module.set.labels();\n              }\n            ;\n            clearInterval(module.interval);\n            module.bind.transitionEnd(animationCallback);\n            animating = true;\n            module.interval = setInterval(function() {\n              var\n                isInDOM = $.contains(document.documentElement, element)\n              ;\n              if(!isInDOM) {\n                clearInterval(module.interval);\n                animating = false;\n              }\n              module.set.labels();\n            }, settings.framerate);\n          },\n          labels: function() {\n            module.verbose('Setting both bar progress and outer label text');\n            module.set.barLabel();\n            module.set.state();\n          },\n          label: function(text) {\n            text = text || '';\n            if(text) {\n              text = module.get.text(text);\n              module.verbose('Setting label to text', text);\n              $label.text(text);\n            }\n          },\n          state: function(percent) {\n            percent = (percent !== undefined)\n              ? percent\n              : module.percent\n            ;\n            if(percent === 100) {\n              if(settings.autoSuccess && !(module.is.warning() || module.is.error() || module.is.success())) {\n                module.set.success();\n                module.debug('Automatically triggering success at 100%');\n              }\n              else {\n                module.verbose('Reached 100% removing active state');\n                module.remove.active();\n                module.remove.progressPoll();\n              }\n            }\n            else if(percent > 0) {\n              module.verbose('Adjusting active progress bar label', percent);\n              module.set.active();\n            }\n            else {\n              module.remove.active();\n              module.set.label(settings.text.active);\n            }\n          },\n          barLabel: function(text) {\n            if(text !== undefined) {\n              $progress.text( module.get.text(text) );\n            }\n            else if(settings.label == 'ratio' && module.total) {\n              module.verbose('Adding ratio to bar label');\n              $progress.text( module.get.text(settings.text.ratio) );\n            }\n            else if(settings.label == 'percent') {\n              module.verbose('Adding percentage to bar label');\n              $progress.text( module.get.text(settings.text.percent) );\n            }\n          },\n          active: function(text) {\n            text = text || settings.text.active;\n            module.debug('Setting active state');\n            if(settings.showActivity && !module.is.active() ) {\n              $module.addClass(className.active);\n            }\n            module.remove.warning();\n            module.remove.error();\n            module.remove.success();\n            text = settings.onLabelUpdate('active', text, module.value, module.total);\n            if(text) {\n              module.set.label(text);\n            }\n            module.bind.transitionEnd(function() {\n              settings.onActive.call(element, module.value, module.total);\n            });\n          },\n          success : function(text) {\n            text = text || settings.text.success || settings.text.active;\n            module.debug('Setting success state');\n            $module.addClass(className.success);\n            module.remove.active();\n            module.remove.warning();\n            module.remove.error();\n            module.complete();\n            if(settings.text.success) {\n              text = settings.onLabelUpdate('success', text, module.value, module.total);\n              module.set.label(text);\n            }\n            else {\n              text = settings.onLabelUpdate('active', text, module.value, module.total);\n              module.set.label(text);\n            }\n            module.bind.transitionEnd(function() {\n              settings.onSuccess.call(element, module.total);\n            });\n          },\n          warning : function(text) {\n            text = text || settings.text.warning;\n            module.debug('Setting warning state');\n            $module.addClass(className.warning);\n            module.remove.active();\n            module.remove.success();\n            module.remove.error();\n            module.complete();\n            text = settings.onLabelUpdate('warning', text, module.value, module.total);\n            if(text) {\n              module.set.label(text);\n            }\n            module.bind.transitionEnd(function() {\n              settings.onWarning.call(element, module.value, module.total);\n            });\n          },\n          error : function(text) {\n            text = text || settings.text.error;\n            module.debug('Setting error state');\n            $module.addClass(className.error);\n            module.remove.active();\n            module.remove.success();\n            module.remove.warning();\n            module.complete();\n            text = settings.onLabelUpdate('error', text, module.value, module.total);\n            if(text) {\n              module.set.label(text);\n            }\n            module.bind.transitionEnd(function() {\n              settings.onError.call(element, module.value, module.total);\n            });\n          },\n          transitionEvent: function() {\n            transitionEnd = module.get.transitionEnd();\n          },\n          total: function(totalValue) {\n            module.total = totalValue;\n          },\n          value: function(value) {\n            module.value = value;\n          },\n          progress: function(value) {\n            if(!module.has.progressPoll()) {\n              module.debug('First update in progress update interval, immediately updating', value);\n              module.update.progress(value);\n              module.create.progressPoll();\n            }\n            else {\n              module.debug('Updated within interval, setting next update to use new value', value);\n              module.set.nextValue(value);\n            }\n          },\n          nextValue: function(value) {\n            module.nextValue = value;\n          }\n        },\n\n        update: {\n          toNextValue: function() {\n            var\n              nextValue = module.nextValue\n            ;\n            if(nextValue) {\n              module.debug('Update interval complete using last updated value', nextValue);\n              module.update.progress(nextValue);\n              module.remove.nextValue();\n            }\n          },\n          progress: function(value) {\n            var\n              percentComplete\n            ;\n            value = module.get.numericValue(value);\n            if(value === false) {\n              module.error(error.nonNumeric, value);\n            }\n            value = module.get.normalizedValue(value);\n            if( module.has.total() ) {\n              module.set.value(value);\n              percentComplete = (value / module.total) * 100;\n              module.debug('Calculating percent complete from total', percentComplete);\n              module.set.percent( percentComplete );\n            }\n            else {\n              percentComplete = value;\n              module.debug('Setting value to exact percentage value', percentComplete);\n              module.set.percent( percentComplete );\n            }\n          }\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.progress.settings = {\n\n  name         : 'Progress',\n  namespace    : 'progress',\n\n  silent       : false,\n  debug        : false,\n  verbose      : false,\n  performance  : true,\n\n  random       : {\n    min : 2,\n    max : 5\n  },\n\n  duration       : 300,\n\n  updateInterval : 'auto',\n\n  autoSuccess    : true,\n  showActivity   : true,\n  limitValues    : true,\n\n  label          : 'percent',\n  precision      : 0,\n  framerate      : (1000 / 30), /// 30 fps\n\n  percent        : false,\n  total          : false,\n  value          : false,\n\n  // delay in ms for fail safe animation callback\n  failSafeDelay : 100,\n\n  onLabelUpdate : function(state, text, value, total){\n    return text;\n  },\n  onChange      : function(percent, value, total){},\n  onSuccess     : function(total){},\n  onActive      : function(value, total){},\n  onError       : function(value, total){},\n  onWarning     : function(value, total){},\n\n  error    : {\n    method     : 'The method you called is not defined.',\n    nonNumeric : 'Progress value is non numeric',\n    tooHigh    : 'Value specified is above 100%',\n    tooLow     : 'Value specified is below 0%'\n  },\n\n  regExp: {\n    variable: /\\{\\$*[A-z0-9]+\\}/g\n  },\n\n  metadata: {\n    percent : 'percent',\n    total   : 'total',\n    value   : 'value'\n  },\n\n  selector : {\n    bar      : '> .bar',\n    label    : '> .label',\n    progress : '.bar > .progress'\n  },\n\n  text : {\n    active  : false,\n    error   : false,\n    success : false,\n    warning : false,\n    percent : '{percent}%',\n    ratio   : '{value} of {total}'\n  },\n\n  className : {\n    active  : 'active',\n    error   : 'error',\n    success : 'success',\n    warning : 'warning'\n  }\n\n};\n\n\n})( jQuery, window, document );\n","/*!\n * # Semantic UI - Rating\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.rating = function(parameters) {\n  var\n    $allModules     = $(this),\n    moduleSelector  = $allModules.selector || '',\n\n    time            = new Date().getTime(),\n    performance     = [],\n\n    query           = arguments[0],\n    methodInvoked   = (typeof query == 'string'),\n    queryArguments  = [].slice.call(arguments, 1),\n    returnedValue\n  ;\n  $allModules\n    .each(function() {\n      var\n        settings        = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.rating.settings, parameters)\n          : $.extend({}, $.fn.rating.settings),\n\n        namespace       = settings.namespace,\n        className       = settings.className,\n        metadata        = settings.metadata,\n        selector        = settings.selector,\n        error           = settings.error,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n\n        element         = this,\n        instance        = $(this).data(moduleNamespace),\n\n        $module         = $(this),\n        $icon           = $module.find(selector.icon),\n\n        initialLoad,\n        module\n      ;\n\n      module = {\n\n        initialize: function() {\n          module.verbose('Initializing rating module', settings);\n\n          if($icon.length === 0) {\n            module.setup.layout();\n          }\n\n          if(settings.interactive) {\n            module.enable();\n          }\n          else {\n            module.disable();\n          }\n          module.set.initialLoad();\n          module.set.rating( module.get.initialRating() );\n          module.remove.initialLoad();\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.verbose('Instantiating module', settings);\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous instance', instance);\n          module.remove.events();\n          $module\n            .removeData(moduleNamespace)\n          ;\n        },\n\n        refresh: function() {\n          $icon   = $module.find(selector.icon);\n        },\n\n        setup: {\n          layout: function() {\n            var\n              maxRating = module.get.maxRating(),\n              html      = $.fn.rating.settings.templates.icon(maxRating)\n            ;\n            module.debug('Generating icon html dynamically');\n            $module\n              .html(html)\n            ;\n            module.refresh();\n          }\n        },\n\n        event: {\n          mouseenter: function() {\n            var\n              $activeIcon = $(this)\n            ;\n            $activeIcon\n              .nextAll()\n                .removeClass(className.selected)\n            ;\n            $module\n              .addClass(className.selected)\n            ;\n            $activeIcon\n              .addClass(className.selected)\n                .prevAll()\n                .addClass(className.selected)\n            ;\n          },\n          mouseleave: function() {\n            $module\n              .removeClass(className.selected)\n            ;\n            $icon\n              .removeClass(className.selected)\n            ;\n          },\n          click: function() {\n            var\n              $activeIcon   = $(this),\n              currentRating = module.get.rating(),\n              rating        = $icon.index($activeIcon) + 1,\n              canClear      = (settings.clearable == 'auto')\n               ? ($icon.length === 1)\n               : settings.clearable\n            ;\n            if(canClear && currentRating == rating) {\n              module.clearRating();\n            }\n            else {\n              module.set.rating( rating );\n            }\n          }\n        },\n\n        clearRating: function() {\n          module.debug('Clearing current rating');\n          module.set.rating(0);\n        },\n\n        bind: {\n          events: function() {\n            module.verbose('Binding events');\n            $module\n              .on('mouseenter' + eventNamespace, selector.icon, module.event.mouseenter)\n              .on('mouseleave' + eventNamespace, selector.icon, module.event.mouseleave)\n              .on('click'      + eventNamespace, selector.icon, module.event.click)\n            ;\n          }\n        },\n\n        remove: {\n          events: function() {\n            module.verbose('Removing events');\n            $module\n              .off(eventNamespace)\n            ;\n          },\n          initialLoad: function() {\n            initialLoad = false;\n          }\n        },\n\n        enable: function() {\n          module.debug('Setting rating to interactive mode');\n          module.bind.events();\n          $module\n            .removeClass(className.disabled)\n          ;\n        },\n\n        disable: function() {\n          module.debug('Setting rating to read-only mode');\n          module.remove.events();\n          $module\n            .addClass(className.disabled)\n          ;\n        },\n\n        is: {\n          initialLoad: function() {\n            return initialLoad;\n          }\n        },\n\n        get: {\n          initialRating: function() {\n            if($module.data(metadata.rating) !== undefined) {\n              $module.removeData(metadata.rating);\n              return $module.data(metadata.rating);\n            }\n            return settings.initialRating;\n          },\n          maxRating: function() {\n            if($module.data(metadata.maxRating) !== undefined) {\n              $module.removeData(metadata.maxRating);\n              return $module.data(metadata.maxRating);\n            }\n            return settings.maxRating;\n          },\n          rating: function() {\n            var\n              currentRating = $icon.filter('.' + className.active).length\n            ;\n            module.verbose('Current rating retrieved', currentRating);\n            return currentRating;\n          }\n        },\n\n        set: {\n          rating: function(rating) {\n            var\n              ratingIndex = (rating - 1 >= 0)\n                ? (rating - 1)\n                : 0,\n              $activeIcon = $icon.eq(ratingIndex)\n            ;\n            $module\n              .removeClass(className.selected)\n            ;\n            $icon\n              .removeClass(className.selected)\n              .removeClass(className.active)\n            ;\n            if(rating > 0) {\n              module.verbose('Setting current rating to', rating);\n              $activeIcon\n                .prevAll()\n                .addBack()\n                  .addClass(className.active)\n              ;\n            }\n            if(!module.is.initialLoad()) {\n              settings.onRate.call(element, rating);\n            }\n          },\n          initialLoad: function() {\n            initialLoad = true;\n          }\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.rating.settings = {\n\n  name          : 'Rating',\n  namespace     : 'rating',\n\n  slent         : false,\n  debug         : false,\n  verbose       : false,\n  performance   : true,\n\n  initialRating : 0,\n  interactive   : true,\n  maxRating     : 4,\n  clearable     : 'auto',\n\n  fireOnInit    : false,\n\n  onRate        : function(rating){},\n\n  error         : {\n    method    : 'The method you called is not defined',\n    noMaximum : 'No maximum rating specified. Cannot generate HTML automatically'\n  },\n\n\n  metadata: {\n    rating    : 'rating',\n    maxRating : 'maxRating'\n  },\n\n  className : {\n    active   : 'active',\n    disabled : 'disabled',\n    selected : 'selected',\n    loading  : 'loading'\n  },\n\n  selector  : {\n    icon : '.icon'\n  },\n\n  templates: {\n    icon: function(maxRating) {\n      var\n        icon = 1,\n        html = ''\n      ;\n      while(icon <= maxRating) {\n        html += '<i class=\"icon\"></i>';\n        icon++;\n      }\n      return html;\n    }\n  }\n\n};\n\n})( jQuery, window, document );\n","/*!\n * # Semantic UI - Search\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.search = function(parameters) {\n  var\n    $allModules     = $(this),\n    moduleSelector  = $allModules.selector || '',\n\n    time            = new Date().getTime(),\n    performance     = [],\n\n    query           = arguments[0],\n    methodInvoked   = (typeof query == 'string'),\n    queryArguments  = [].slice.call(arguments, 1),\n    returnedValue\n  ;\n  $(this)\n    .each(function() {\n      var\n        settings          = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.search.settings, parameters)\n          : $.extend({}, $.fn.search.settings),\n\n        className        = settings.className,\n        metadata         = settings.metadata,\n        regExp           = settings.regExp,\n        fields           = settings.fields,\n        selector         = settings.selector,\n        error            = settings.error,\n        namespace        = settings.namespace,\n\n        eventNamespace   = '.' + namespace,\n        moduleNamespace  = namespace + '-module',\n\n        $module          = $(this),\n        $prompt          = $module.find(selector.prompt),\n        $searchButton    = $module.find(selector.searchButton),\n        $results         = $module.find(selector.results),\n        $result          = $module.find(selector.result),\n        $category        = $module.find(selector.category),\n\n        element          = this,\n        instance         = $module.data(moduleNamespace),\n\n        disabledBubbled  = false,\n        resultsDismissed = false,\n\n        module\n      ;\n\n      module = {\n\n        initialize: function() {\n          module.verbose('Initializing module');\n          module.get.settings();\n          module.determine.searchFields();\n          module.bind.events();\n          module.set.type();\n          module.create.results();\n          module.instantiate();\n        },\n        instantiate: function() {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n        destroy: function() {\n          module.verbose('Destroying instance');\n          $module\n            .off(eventNamespace)\n            .removeData(moduleNamespace)\n          ;\n        },\n\n        refresh: function() {\n          module.debug('Refreshing selector cache');\n          $prompt         = $module.find(selector.prompt);\n          $searchButton   = $module.find(selector.searchButton);\n          $category       = $module.find(selector.category);\n          $results        = $module.find(selector.results);\n          $result         = $module.find(selector.result);\n        },\n\n        refreshResults: function() {\n          $results = $module.find(selector.results);\n          $result  = $module.find(selector.result);\n        },\n\n        bind: {\n          events: function() {\n            module.verbose('Binding events to search');\n            if(settings.automatic) {\n              $module\n                .on(module.get.inputEvent() + eventNamespace, selector.prompt, module.event.input)\n              ;\n              $prompt\n                .attr('autocomplete', 'off')\n              ;\n            }\n            $module\n              // prompt\n              .on('focus'     + eventNamespace, selector.prompt, module.event.focus)\n              .on('blur'      + eventNamespace, selector.prompt, module.event.blur)\n              .on('keydown'   + eventNamespace, selector.prompt, module.handleKeyboard)\n              // search button\n              .on('click'     + eventNamespace, selector.searchButton, module.query)\n              // results\n              .on('mousedown' + eventNamespace, selector.results, module.event.result.mousedown)\n              .on('mouseup'   + eventNamespace, selector.results, module.event.result.mouseup)\n              .on('click'     + eventNamespace, selector.result,  module.event.result.click)\n            ;\n          }\n        },\n\n        determine: {\n          searchFields: function() {\n            // this makes sure $.extend does not add specified search fields to default fields\n            // this is the only setting which should not extend defaults\n            if(parameters && parameters.searchFields !== undefined) {\n              settings.searchFields = parameters.searchFields;\n            }\n          }\n        },\n\n        event: {\n          input: function() {\n            if(settings.searchDelay) {\n              clearTimeout(module.timer);\n              module.timer = setTimeout(function() {\n                if(module.is.focused()) {\n                  module.query();\n                }\n              }, settings.searchDelay);\n            }\n            else {\n              module.query();\n            }\n          },\n          focus: function() {\n            module.set.focus();\n            if(settings.searchOnFocus && module.has.minimumCharacters() ) {\n              module.query(function() {\n                if(module.can.show() ) {\n                  module.showResults();\n                }\n              });\n            }\n          },\n          blur: function(event) {\n            var\n              pageLostFocus = (document.activeElement === this),\n              callback      = function() {\n                module.cancel.query();\n                module.remove.focus();\n                module.timer = setTimeout(module.hideResults, settings.hideDelay);\n              }\n            ;\n            if(pageLostFocus) {\n              return;\n            }\n            resultsDismissed = false;\n            if(module.resultsClicked) {\n              module.debug('Determining if user action caused search to close');\n              $module\n                .one('click.close' + eventNamespace, selector.results, function(event) {\n                  if(module.is.inMessage(event) || disabledBubbled) {\n                    $prompt.focus();\n                    return;\n                  }\n                  disabledBubbled = false;\n                  if( !module.is.animating() && !module.is.hidden()) {\n                    callback();\n                  }\n                })\n              ;\n            }\n            else {\n              module.debug('Input blurred without user action, closing results');\n              callback();\n            }\n          },\n          result: {\n            mousedown: function() {\n              module.resultsClicked = true;\n            },\n            mouseup: function() {\n              module.resultsClicked = false;\n            },\n            click: function(event) {\n              module.debug('Search result selected');\n              var\n                $result = $(this),\n                $title  = $result.find(selector.title).eq(0),\n                $link   = $result.is('a[href]')\n                  ? $result\n                  : $result.find('a[href]').eq(0),\n                href    = $link.attr('href')   || false,\n                target  = $link.attr('target') || false,\n                title   = $title.html(),\n                // title is used for result lookup\n                value   = ($title.length > 0)\n                  ? $title.text()\n                  : false,\n                results = module.get.results(),\n                result  = $result.data(metadata.result) || module.get.result(value, results),\n                returnedValue\n              ;\n              if( $.isFunction(settings.onSelect) ) {\n                if(settings.onSelect.call(element, result, results) === false) {\n                  module.debug('Custom onSelect callback cancelled default select action');\n                  disabledBubbled = true;\n                  return;\n                }\n              }\n              module.hideResults();\n              if(value) {\n                module.set.value(value);\n              }\n              if(href) {\n                module.verbose('Opening search link found in result', $link);\n                if(target == '_blank' || event.ctrlKey) {\n                  window.open(href);\n                }\n                else {\n                  window.location.href = (href);\n                }\n              }\n            }\n          }\n        },\n        handleKeyboard: function(event) {\n          var\n            // force selector refresh\n            $result         = $module.find(selector.result),\n            $category       = $module.find(selector.category),\n            $activeResult   = $result.filter('.' + className.active),\n            currentIndex    = $result.index( $activeResult ),\n            resultSize      = $result.length,\n            hasActiveResult = $activeResult.length > 0,\n\n            keyCode         = event.which,\n            keys            = {\n              backspace : 8,\n              enter     : 13,\n              escape    : 27,\n              upArrow   : 38,\n              downArrow : 40\n            },\n            newIndex\n          ;\n          // search shortcuts\n          if(keyCode == keys.escape) {\n            module.verbose('Escape key pressed, blurring search field');\n            module.hideResults();\n            resultsDismissed = true;\n          }\n          if( module.is.visible() ) {\n            if(keyCode == keys.enter) {\n              module.verbose('Enter key pressed, selecting active result');\n              if( $result.filter('.' + className.active).length > 0 ) {\n                module.event.result.click.call($result.filter('.' + className.active), event);\n                event.preventDefault();\n                return false;\n              }\n            }\n            else if(keyCode == keys.upArrow && hasActiveResult) {\n              module.verbose('Up key pressed, changing active result');\n              newIndex = (currentIndex - 1 < 0)\n                ? currentIndex\n                : currentIndex - 1\n              ;\n              $category\n                .removeClass(className.active)\n              ;\n              $result\n                .removeClass(className.active)\n                .eq(newIndex)\n                  .addClass(className.active)\n                  .closest($category)\n                    .addClass(className.active)\n              ;\n              event.preventDefault();\n            }\n            else if(keyCode == keys.downArrow) {\n              module.verbose('Down key pressed, changing active result');\n              newIndex = (currentIndex + 1 >= resultSize)\n                ? currentIndex\n                : currentIndex + 1\n              ;\n              $category\n                .removeClass(className.active)\n              ;\n              $result\n                .removeClass(className.active)\n                .eq(newIndex)\n                  .addClass(className.active)\n                  .closest($category)\n                    .addClass(className.active)\n              ;\n              event.preventDefault();\n            }\n          }\n          else {\n            // query shortcuts\n            if(keyCode == keys.enter) {\n              module.verbose('Enter key pressed, executing query');\n              module.query();\n              module.set.buttonPressed();\n              $prompt.one('keyup', module.remove.buttonFocus);\n            }\n          }\n        },\n\n        setup: {\n          api: function(searchTerm, callback) {\n            var\n              apiSettings = {\n                debug             : settings.debug,\n                on                : false,\n                cache             : settings.cache,\n                action            : 'search',\n                urlData           : {\n                  query : searchTerm\n                },\n                onSuccess         : function(response) {\n                  module.parse.response.call(element, response, searchTerm);\n                  callback();\n                },\n                onFailure         : function() {\n                  module.displayMessage(error.serverError);\n                  callback();\n                },\n                onAbort : function(response) {\n                },\n                onError           : module.error\n              },\n              searchHTML\n            ;\n            $.extend(true, apiSettings, settings.apiSettings);\n            module.verbose('Setting up API request', apiSettings);\n            $module.api(apiSettings);\n          }\n        },\n\n        can: {\n          useAPI: function() {\n            return $.fn.api !== undefined;\n          },\n          show: function() {\n            return module.is.focused() && !module.is.visible() && !module.is.empty();\n          },\n          transition: function() {\n            return settings.transition && $.fn.transition !== undefined && $module.transition('is supported');\n          }\n        },\n\n        is: {\n          animating: function() {\n            return $results.hasClass(className.animating);\n          },\n          hidden: function() {\n            return $results.hasClass(className.hidden);\n          },\n          inMessage: function(event) {\n            if(!event.target) {\n              return;\n            }\n            var\n              $target = $(event.target),\n              isInDOM = $.contains(document.documentElement, event.target)\n            ;\n            return (isInDOM && $target.closest(selector.message).length > 0);\n          },\n          empty: function() {\n            return ($results.html() === '');\n          },\n          visible: function() {\n            return ($results.filter(':visible').length > 0);\n          },\n          focused: function() {\n            return ($prompt.filter(':focus').length > 0);\n          }\n        },\n\n        get: {\n          settings: function() {\n            if($.isPlainObject(parameters) && parameters.searchFullText) {\n              settings.fullTextSearch = parameters.searchFullText;\n              module.error(settings.error.oldSearchSyntax, element);\n            }\n          },\n          inputEvent: function() {\n            var\n              prompt = $prompt[0],\n              inputEvent   = (prompt !== undefined && prompt.oninput !== undefined)\n                ? 'input'\n                : (prompt !== undefined && prompt.onpropertychange !== undefined)\n                  ? 'propertychange'\n                  : 'keyup'\n            ;\n            return inputEvent;\n          },\n          value: function() {\n            return $prompt.val();\n          },\n          results: function() {\n            var\n              results = $module.data(metadata.results)\n            ;\n            return results;\n          },\n          result: function(value, results) {\n            var\n              lookupFields = ['title', 'id'],\n              result       = false\n            ;\n            value = (value !== undefined)\n              ? value\n              : module.get.value()\n            ;\n            results = (results !== undefined)\n              ? results\n              : module.get.results()\n            ;\n            if(settings.type === 'category') {\n              module.debug('Finding result that matches', value);\n              $.each(results, function(index, category) {\n                if($.isArray(category.results)) {\n                  result = module.search.object(value, category.results, lookupFields)[0];\n                  // don't continue searching if a result is found\n                  if(result) {\n                    return false;\n                  }\n                }\n              });\n            }\n            else {\n              module.debug('Finding result in results object', value);\n              result = module.search.object(value, results, lookupFields)[0];\n            }\n            return result || false;\n          },\n        },\n\n        select: {\n          firstResult: function() {\n            module.verbose('Selecting first result');\n            $result.first().addClass(className.active);\n          }\n        },\n\n        set: {\n          focus: function() {\n            $module.addClass(className.focus);\n          },\n          loading: function() {\n            $module.addClass(className.loading);\n          },\n          value: function(value) {\n            module.verbose('Setting search input value', value);\n            $prompt\n              .val(value)\n            ;\n          },\n          type: function(type) {\n            type = type || settings.type;\n            if(settings.type == 'category') {\n              $module.addClass(settings.type);\n            }\n          },\n          buttonPressed: function() {\n            $searchButton.addClass(className.pressed);\n          }\n        },\n\n        remove: {\n          loading: function() {\n            $module.removeClass(className.loading);\n          },\n          focus: function() {\n            $module.removeClass(className.focus);\n          },\n          buttonPressed: function() {\n            $searchButton.removeClass(className.pressed);\n          }\n        },\n\n        query: function(callback) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          var\n            searchTerm = module.get.value(),\n            cache = module.read.cache(searchTerm)\n          ;\n          callback = callback || function() {};\n          if( module.has.minimumCharacters() )  {\n            if(cache) {\n              module.debug('Reading result from cache', searchTerm);\n              module.save.results(cache.results);\n              module.addResults(cache.html);\n              module.inject.id(cache.results);\n              callback();\n            }\n            else {\n              module.debug('Querying for', searchTerm);\n              if($.isPlainObject(settings.source) || $.isArray(settings.source)) {\n                module.search.local(searchTerm);\n                callback();\n              }\n              else if( module.can.useAPI() ) {\n                module.search.remote(searchTerm, callback);\n              }\n              else {\n                module.error(error.source);\n                callback();\n              }\n            }\n            settings.onSearchQuery.call(element, searchTerm);\n          }\n          else {\n            module.hideResults();\n          }\n        },\n\n        search: {\n          local: function(searchTerm) {\n            var\n              results = module.search.object(searchTerm, settings.content),\n              searchHTML\n            ;\n            module.set.loading();\n            module.save.results(results);\n            module.debug('Returned full local search results', results);\n            if(settings.maxResults > 0) {\n              module.debug('Using specified max results', results);\n              results = results.slice(0, settings.maxResults);\n            }\n            if(settings.type == 'category') {\n              results = module.create.categoryResults(results);\n            }\n            searchHTML = module.generateResults({\n              results: results\n            });\n            module.remove.loading();\n            module.addResults(searchHTML);\n            module.inject.id(results);\n            module.write.cache(searchTerm, {\n              html    : searchHTML,\n              results : results\n            });\n          },\n          remote: function(searchTerm, callback) {\n            callback = $.isFunction(callback)\n              ? callback\n              : function(){}\n            ;\n            if($module.api('is loading')) {\n              $module.api('abort');\n            }\n            module.setup.api(searchTerm, callback);\n            $module\n              .api('query')\n            ;\n          },\n          object: function(searchTerm, source, searchFields) {\n            var\n              results      = [],\n              exactResults = [],\n              fuzzyResults = [],\n              searchExp    = searchTerm.toString().replace(regExp.escape, '\\\\$&'),\n              matchRegExp  = new RegExp(regExp.beginsWith + searchExp, 'i'),\n\n              // avoid duplicates when pushing results\n              addResult = function(array, result) {\n                var\n                  notResult      = ($.inArray(result, results) == -1),\n                  notFuzzyResult = ($.inArray(result, fuzzyResults) == -1),\n                  notExactResults = ($.inArray(result, exactResults) == -1)\n                ;\n                if(notResult && notFuzzyResult && notExactResults) {\n                  array.push(result);\n                }\n              }\n            ;\n            source = source || settings.source;\n            searchFields = (searchFields !== undefined)\n              ? searchFields\n              : settings.searchFields\n            ;\n\n            // search fields should be array to loop correctly\n            if(!$.isArray(searchFields)) {\n              searchFields = [searchFields];\n            }\n\n            // exit conditions if no source\n            if(source === undefined || source === false) {\n              module.error(error.source);\n              return [];\n            }\n            // iterate through search fields looking for matches\n            $.each(searchFields, function(index, field) {\n              $.each(source, function(label, content) {\n                var\n                  fieldExists = (typeof content[field] == 'string')\n                ;\n                if(fieldExists) {\n                  if( content[field].search(matchRegExp) !== -1) {\n                    // content starts with value (first in results)\n                    addResult(results, content);\n                  }\n                  else if(settings.fullTextSearch === 'exact' && module.exactSearch(searchTerm, content[field]) ) {\n                    // content fuzzy matches (last in results)\n                    addResult(exactResults, content);\n                  }\n                  else if(settings.fullTextSearch == true && module.fuzzySearch(searchTerm, content[field]) ) {\n                    // content fuzzy matches (last in results)\n                    addResult(fuzzyResults, content);\n                  }\n                }\n              });\n            });\n            $.merge(exactResults, fuzzyResults)\n            $.merge(results, exactResults);\n            return results;\n          }\n        },\n        exactSearch: function (query, term) {\n          query = query.toLowerCase();\n          term  = term.toLowerCase();\n          if(term.indexOf(query) > -1) {\n             return true;\n          }\n          return false;\n        },\n        fuzzySearch: function(query, term) {\n          var\n            termLength  = term.length,\n            queryLength = query.length\n          ;\n          if(typeof query !== 'string') {\n            return false;\n          }\n          query = query.toLowerCase();\n          term  = term.toLowerCase();\n          if(queryLength > termLength) {\n            return false;\n          }\n          if(queryLength === termLength) {\n            return (query === term);\n          }\n          search: for (var characterIndex = 0, nextCharacterIndex = 0; characterIndex < queryLength; characterIndex++) {\n            var\n              queryCharacter = query.charCodeAt(characterIndex)\n            ;\n            while(nextCharacterIndex < termLength) {\n              if(term.charCodeAt(nextCharacterIndex++) === queryCharacter) {\n                continue search;\n              }\n            }\n            return false;\n          }\n          return true;\n        },\n\n        parse: {\n          response: function(response, searchTerm) {\n            var\n              searchHTML = module.generateResults(response)\n            ;\n            module.verbose('Parsing server response', response);\n            if(response !== undefined) {\n              if(searchTerm !== undefined && response[fields.results] !== undefined) {\n                module.addResults(searchHTML);\n                module.inject.id(response[fields.results]);\n                module.write.cache(searchTerm, {\n                  html    : searchHTML,\n                  results : response[fields.results]\n                });\n                module.save.results(response[fields.results]);\n              }\n            }\n          }\n        },\n\n        cancel: {\n          query: function() {\n            if( module.can.useAPI() ) {\n              $module.api('abort');\n            }\n          }\n        },\n\n        has: {\n          minimumCharacters: function() {\n            var\n              searchTerm    = module.get.value(),\n              numCharacters = searchTerm.length\n            ;\n            return (numCharacters >= settings.minCharacters);\n          },\n          results: function() {\n            if($results.length === 0) {\n              return false;\n            }\n            var\n              html = $results.html()\n            ;\n            return html != '';\n          }\n        },\n\n        clear: {\n          cache: function(value) {\n            var\n              cache = $module.data(metadata.cache)\n            ;\n            if(!value) {\n              module.debug('Clearing cache', value);\n              $module.removeData(metadata.cache);\n            }\n            else if(value && cache && cache[value]) {\n              module.debug('Removing value from cache', value);\n              delete cache[value];\n              $module.data(metadata.cache, cache);\n            }\n          }\n        },\n\n        read: {\n          cache: function(name) {\n            var\n              cache = $module.data(metadata.cache)\n            ;\n            if(settings.cache) {\n              module.verbose('Checking cache for generated html for query', name);\n              return (typeof cache == 'object') && (cache[name] !== undefined)\n                ? cache[name]\n                : false\n              ;\n            }\n            return false;\n          }\n        },\n\n        create: {\n          categoryResults: function(results) {\n            var\n              categoryResults = {}\n            ;\n            $.each(results, function(index, result) {\n              if(!result.category) {\n                return;\n              }\n              if(categoryResults[result.category] === undefined) {\n                module.verbose('Creating new category of results', result.category);\n                categoryResults[result.category] = {\n                  name    : result.category,\n                  results : [result]\n                }\n              }\n              else {\n                categoryResults[result.category].results.push(result);\n              }\n            });\n            return categoryResults;\n          },\n          id: function(resultIndex, categoryIndex) {\n            var\n              resultID      = (resultIndex + 1), // not zero indexed\n              categoryID    = (categoryIndex + 1),\n              firstCharCode,\n              letterID,\n              id\n            ;\n            if(categoryIndex !== undefined) {\n              // start char code for \"A\"\n              letterID = String.fromCharCode(97 + categoryIndex);\n              id          = letterID + resultID;\n              module.verbose('Creating category result id', id);\n            }\n            else {\n              id = resultID;\n              module.verbose('Creating result id', id);\n            }\n            return id;\n          },\n          results: function() {\n            if($results.length === 0) {\n              $results = $('<div />')\n                .addClass(className.results)\n                .appendTo($module)\n              ;\n            }\n          }\n        },\n\n        inject: {\n          result: function(result, resultIndex, categoryIndex) {\n            module.verbose('Injecting result into results');\n            var\n              $selectedResult = (categoryIndex !== undefined)\n                ? $results\n                    .children().eq(categoryIndex)\n                      .children(selector.results)\n                        .first()\n                        .children(selector.result)\n                          .eq(resultIndex)\n                : $results\n                    .children(selector.result).eq(resultIndex)\n            ;\n            module.verbose('Injecting results metadata', $selectedResult);\n            $selectedResult\n              .data(metadata.result, result)\n            ;\n          },\n          id: function(results) {\n            module.debug('Injecting unique ids into results');\n            var\n              // since results may be object, we must use counters\n              categoryIndex = 0,\n              resultIndex   = 0\n            ;\n            if(settings.type === 'category') {\n              // iterate through each category result\n              $.each(results, function(index, category) {\n                resultIndex = 0;\n                $.each(category.results, function(index, value) {\n                  var\n                    result = category.results[index]\n                  ;\n                  if(result.id === undefined) {\n                    result.id = module.create.id(resultIndex, categoryIndex);\n                  }\n                  module.inject.result(result, resultIndex, categoryIndex);\n                  resultIndex++;\n                });\n                categoryIndex++;\n              });\n            }\n            else {\n              // top level\n              $.each(results, function(index, value) {\n                var\n                  result = results[index]\n                ;\n                if(result.id === undefined) {\n                  result.id = module.create.id(resultIndex);\n                }\n                module.inject.result(result, resultIndex);\n                resultIndex++;\n              });\n            }\n            return results;\n          }\n        },\n\n        save: {\n          results: function(results) {\n            module.verbose('Saving current search results to metadata', results);\n            $module.data(metadata.results, results);\n          }\n        },\n\n        write: {\n          cache: function(name, value) {\n            var\n              cache = ($module.data(metadata.cache) !== undefined)\n                ? $module.data(metadata.cache)\n                : {}\n            ;\n            if(settings.cache) {\n              module.verbose('Writing generated html to cache', name, value);\n              cache[name] = value;\n              $module\n                .data(metadata.cache, cache)\n              ;\n            }\n          }\n        },\n\n        addResults: function(html) {\n          if( $.isFunction(settings.onResultsAdd) ) {\n            if( settings.onResultsAdd.call($results, html) === false ) {\n              module.debug('onResultsAdd callback cancelled default action');\n              return false;\n            }\n          }\n          if(html) {\n            $results\n              .html(html)\n            ;\n            module.refreshResults();\n            if(settings.selectFirstResult) {\n              module.select.firstResult();\n            }\n            module.showResults();\n          }\n          else {\n            module.hideResults(function() {\n              $results.empty();\n            });\n          }\n        },\n\n        showResults: function(callback) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          if(resultsDismissed) {\n            return;\n          }\n          if(!module.is.visible() && module.has.results()) {\n            if( module.can.transition() ) {\n              module.debug('Showing results with css animations');\n              $results\n                .transition({\n                  animation  : settings.transition + ' in',\n                  debug      : settings.debug,\n                  verbose    : settings.verbose,\n                  duration   : settings.duration,\n                  onComplete : function() {\n                    callback();\n                  },\n                  queue      : true\n                })\n              ;\n            }\n            else {\n              module.debug('Showing results with javascript');\n              $results\n                .stop()\n                .fadeIn(settings.duration, settings.easing)\n              ;\n            }\n            settings.onResultsOpen.call($results);\n          }\n        },\n        hideResults: function(callback) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          if( module.is.visible() ) {\n            if( module.can.transition() ) {\n              module.debug('Hiding results with css animations');\n              $results\n                .transition({\n                  animation  : settings.transition + ' out',\n                  debug      : settings.debug,\n                  verbose    : settings.verbose,\n                  duration   : settings.duration,\n                  onComplete : function() {\n                    callback();\n                  },\n                  queue      : true\n                })\n              ;\n            }\n            else {\n              module.debug('Hiding results with javascript');\n              $results\n                .stop()\n                .fadeOut(settings.duration, settings.easing)\n              ;\n            }\n            settings.onResultsClose.call($results);\n          }\n        },\n\n        generateResults: function(response) {\n          module.debug('Generating html from response', response);\n          var\n            template       = settings.templates[settings.type],\n            isProperObject = ($.isPlainObject(response[fields.results]) && !$.isEmptyObject(response[fields.results])),\n            isProperArray  = ($.isArray(response[fields.results]) && response[fields.results].length > 0),\n            html           = ''\n          ;\n          if(isProperObject || isProperArray ) {\n            if(settings.maxResults > 0) {\n              if(isProperObject) {\n                if(settings.type == 'standard') {\n                  module.error(error.maxResults);\n                }\n              }\n              else {\n                response[fields.results] = response[fields.results].slice(0, settings.maxResults);\n              }\n            }\n            if($.isFunction(template)) {\n              html = template(response, fields);\n            }\n            else {\n              module.error(error.noTemplate, false);\n            }\n          }\n          else if(settings.showNoResults) {\n            html = module.displayMessage(error.noResults, 'empty');\n          }\n          settings.onResults.call(element, response);\n          return html;\n        },\n\n        displayMessage: function(text, type) {\n          type = type || 'standard';\n          module.debug('Displaying message', text, type);\n          module.addResults( settings.templates.message(text, type) );\n          return settings.templates.message(text, type);\n        },\n\n        setting: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            settings[name] = value;\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                return false;\n              }\n            });\n          }\n          if( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.search.settings = {\n\n  name              : 'Search',\n  namespace         : 'search',\n\n  silent            : false,\n  debug             : false,\n  verbose           : false,\n  performance       : true,\n\n  // template to use (specified in settings.templates)\n  type              : 'standard',\n\n  // minimum characters required to search\n  minCharacters     : 1,\n\n  // whether to select first result after searching automatically\n  selectFirstResult : false,\n\n  // API config\n  apiSettings       : false,\n\n  // object to search\n  source            : false,\n\n  // Whether search should query current term on focus\n  searchOnFocus     : true,\n\n  // fields to search\n  searchFields   : [\n    'title',\n    'description'\n  ],\n\n  // field to display in standard results template\n  displayField   : '',\n\n  // search anywhere in value (set to 'exact' to require exact matches\n  fullTextSearch : 'exact',\n\n  // whether to add events to prompt automatically\n  automatic      : true,\n\n  // delay before hiding menu after blur\n  hideDelay      : 0,\n\n  // delay before searching\n  searchDelay    : 200,\n\n  // maximum results returned from search\n  maxResults     : 7,\n\n  // whether to store lookups in local cache\n  cache          : true,\n\n  // whether no results errors should be shown\n  showNoResults  : true,\n\n  // transition settings\n  transition     : 'scale',\n  duration       : 200,\n  easing         : 'easeOutExpo',\n\n  // callbacks\n  onSelect       : false,\n  onResultsAdd   : false,\n\n  onSearchQuery  : function(query){},\n  onResults      : function(response){},\n\n  onResultsOpen  : function(){},\n  onResultsClose : function(){},\n\n  className: {\n    animating : 'animating',\n    active    : 'active',\n    empty     : 'empty',\n    focus     : 'focus',\n    hidden    : 'hidden',\n    loading   : 'loading',\n    results   : 'results',\n    pressed   : 'down'\n  },\n\n  error : {\n    source          : 'Cannot search. No source used, and Semantic API module was not included',\n    noResults       : 'Your search returned no results',\n    logging         : 'Error in debug logging, exiting.',\n    noEndpoint      : 'No search endpoint was specified',\n    noTemplate      : 'A valid template name was not specified.',\n    oldSearchSyntax : 'searchFullText setting has been renamed fullTextSearch for consistency, please adjust your settings.',\n    serverError     : 'There was an issue querying the server.',\n    maxResults      : 'Results must be an array to use maxResults setting',\n    method          : 'The method you called is not defined.'\n  },\n\n  metadata: {\n    cache   : 'cache',\n    results : 'results',\n    result  : 'result'\n  },\n\n  regExp: {\n    escape     : /[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g,\n    beginsWith : '(?:\\s|^)'\n  },\n\n  // maps api response attributes to internal representation\n  fields: {\n    categories      : 'results',     // array of categories (category view)\n    categoryName    : 'name',        // name of category (category view)\n    categoryResults : 'results',     // array of results (category view)\n    description     : 'description', // result description\n    image           : 'image',       // result image\n    price           : 'price',       // result price\n    results         : 'results',     // array of results (standard)\n    title           : 'title',       // result title\n    url             : 'url',         // result url\n    action          : 'action',      // \"view more\" object name\n    actionText      : 'text',        // \"view more\" text\n    actionURL       : 'url'          // \"view more\" url\n  },\n\n  selector : {\n    prompt       : '.prompt',\n    searchButton : '.search.button',\n    results      : '.results',\n    message      : '.results > .message',\n    category     : '.category',\n    result       : '.result',\n    title        : '.title, .name'\n  },\n\n  templates: {\n    escape: function(string) {\n      var\n        badChars     = /[&<>\"'`]/g,\n        shouldEscape = /[&<>\"'`]/,\n        escape       = {\n          \"&\": \"&amp;\",\n          \"<\": \"&lt;\",\n          \">\": \"&gt;\",\n          '\"': \"&quot;\",\n          \"'\": \"&#x27;\",\n          \"`\": \"&#x60;\"\n        },\n        escapedChar  = function(chr) {\n          return escape[chr];\n        }\n      ;\n      if(shouldEscape.test(string)) {\n        return string.replace(badChars, escapedChar);\n      }\n      return string;\n    },\n    message: function(message, type) {\n      var\n        html = ''\n      ;\n      if(message !== undefined && type !== undefined) {\n        html +=  ''\n          + '<div class=\"message ' + type + '\">'\n        ;\n        // message type\n        if(type == 'empty') {\n          html += ''\n            + '<div class=\"header\">No Results</div class=\"header\">'\n            + '<div class=\"description\">' + message + '</div class=\"description\">'\n          ;\n        }\n        else {\n          html += ' <div class=\"description\">' + message + '</div>';\n        }\n        html += '</div>';\n      }\n      return html;\n    },\n    category: function(response, fields) {\n      var\n        html = '',\n        escape = $.fn.search.settings.templates.escape\n      ;\n      if(response[fields.categoryResults] !== undefined) {\n\n        // each category\n        $.each(response[fields.categoryResults], function(index, category) {\n          if(category[fields.results] !== undefined && category.results.length > 0) {\n\n            html  += '<div class=\"category\">';\n\n            if(category[fields.categoryName] !== undefined) {\n              html += '<div class=\"name\">' + category[fields.categoryName] + '</div>';\n            }\n\n            // each item inside category\n            html += '<div class=\"results\">';\n            $.each(category.results, function(index, result) {\n              if(result[fields.url]) {\n                html  += '<a class=\"result\" href=\"' + result[fields.url] + '\">';\n              }\n              else {\n                html  += '<a class=\"result\">';\n              }\n              if(result[fields.image] !== undefined) {\n                html += ''\n                  + '<div class=\"image\">'\n                  + ' <img src=\"' + result[fields.image] + '\">'\n                  + '</div>'\n                ;\n              }\n              html += '<div class=\"content\">';\n              if(result[fields.price] !== undefined) {\n                html += '<div class=\"price\">' + result[fields.price] + '</div>';\n              }\n              if(result[fields.title] !== undefined) {\n                html += '<div class=\"title\">' + result[fields.title] + '</div>';\n              }\n              if(result[fields.description] !== undefined) {\n                html += '<div class=\"description\">' + result[fields.description] + '</div>';\n              }\n              html  += ''\n                + '</div>'\n              ;\n              html += '</a>';\n            });\n            html += '</div>';\n            html  += ''\n              + '</div>'\n            ;\n          }\n        });\n        if(response[fields.action]) {\n          html += ''\n          + '<a href=\"' + response[fields.action][fields.actionURL] + '\" class=\"action\">'\n          +   response[fields.action][fields.actionText]\n          + '</a>';\n        }\n        return html;\n      }\n      return false;\n    },\n    standard: function(response, fields) {\n      var\n        html = ''\n      ;\n      if(response[fields.results] !== undefined) {\n\n        // each result\n        $.each(response[fields.results], function(index, result) {\n          if(result[fields.url]) {\n            html  += '<a class=\"result\" href=\"' + result[fields.url] + '\">';\n          }\n          else {\n            html  += '<a class=\"result\">';\n          }\n          if(result[fields.image] !== undefined) {\n            html += ''\n              + '<div class=\"image\">'\n              + ' <img src=\"' + result[fields.image] + '\">'\n              + '</div>'\n            ;\n          }\n          html += '<div class=\"content\">';\n          if(result[fields.price] !== undefined) {\n            html += '<div class=\"price\">' + result[fields.price] + '</div>';\n          }\n          if(result[fields.title] !== undefined) {\n            html += '<div class=\"title\">' + result[fields.title] + '</div>';\n          }\n          if(result[fields.description] !== undefined) {\n            html += '<div class=\"description\">' + result[fields.description] + '</div>';\n          }\n          html  += ''\n            + '</div>'\n          ;\n          html += '</a>';\n        });\n\n        if(response[fields.action]) {\n          html += ''\n          + '<a href=\"' + response[fields.action][fields.actionURL] + '\" class=\"action\">'\n          +   response[fields.action][fields.actionText]\n          + '</a>';\n        }\n        return html;\n      }\n      return false;\n    }\n  }\n};\n\n})( jQuery, window, document );\n","/*!\n * # Semantic UI - Shape\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.shape = function(parameters) {\n  var\n    $allModules     = $(this),\n    $body           = $('body'),\n\n    time            = new Date().getTime(),\n    performance     = [],\n\n    query           = arguments[0],\n    methodInvoked   = (typeof query == 'string'),\n    queryArguments  = [].slice.call(arguments, 1),\n\n    requestAnimationFrame = window.requestAnimationFrame\n      || window.mozRequestAnimationFrame\n      || window.webkitRequestAnimationFrame\n      || window.msRequestAnimationFrame\n      || function(callback) { setTimeout(callback, 0); },\n\n    returnedValue\n  ;\n\n  $allModules\n    .each(function() {\n      var\n        moduleSelector = $allModules.selector || '',\n        settings       = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.shape.settings, parameters)\n          : $.extend({}, $.fn.shape.settings),\n\n        // internal aliases\n        namespace     = settings.namespace,\n        selector      = settings.selector,\n        error         = settings.error,\n        className     = settings.className,\n\n        // define namespaces for modules\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n\n        // selector cache\n        $module       = $(this),\n        $sides        = $module.find(selector.sides),\n        $side         = $module.find(selector.side),\n\n        // private variables\n        nextIndex = false,\n        $activeSide,\n        $nextSide,\n\n        // standard module\n        element       = this,\n        instance      = $module.data(moduleNamespace),\n        module\n      ;\n\n      module = {\n\n        initialize: function() {\n          module.verbose('Initializing module for', element);\n          module.set.defaultSide();\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, instance)\n          ;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous module for', element);\n          $module\n            .removeData(moduleNamespace)\n            .off(eventNamespace)\n          ;\n        },\n\n        refresh: function() {\n          module.verbose('Refreshing selector cache for', element);\n          $module = $(element);\n          $sides  = $(this).find(selector.shape);\n          $side   = $(this).find(selector.side);\n        },\n\n        repaint: function() {\n          module.verbose('Forcing repaint event');\n          var\n            shape          = $sides[0] || document.createElement('div'),\n            fakeAssignment = shape.offsetWidth\n          ;\n        },\n\n        animate: function(propertyObject, callback) {\n          module.verbose('Animating box with properties', propertyObject);\n          callback = callback || function(event) {\n            module.verbose('Executing animation callback');\n            if(event !== undefined) {\n              event.stopPropagation();\n            }\n            module.reset();\n            module.set.active();\n          };\n          settings.beforeChange.call($nextSide[0]);\n          if(module.get.transitionEvent()) {\n            module.verbose('Starting CSS animation');\n            $module\n              .addClass(className.animating)\n            ;\n            $sides\n              .css(propertyObject)\n              .one(module.get.transitionEvent(), callback)\n            ;\n            module.set.duration(settings.duration);\n            requestAnimationFrame(function() {\n              $module\n                .addClass(className.animating)\n              ;\n              $activeSide\n                .addClass(className.hidden)\n              ;\n            });\n          }\n          else {\n            callback();\n          }\n        },\n\n        queue: function(method) {\n          module.debug('Queueing animation of', method);\n          $sides\n            .one(module.get.transitionEvent(), function() {\n              module.debug('Executing queued animation');\n              setTimeout(function(){\n                $module.shape(method);\n              }, 0);\n            })\n          ;\n        },\n\n        reset: function() {\n          module.verbose('Animating states reset');\n          $module\n            .removeClass(className.animating)\n            .attr('style', '')\n            .removeAttr('style')\n          ;\n          // removeAttr style does not consistently work in safari\n          $sides\n            .attr('style', '')\n            .removeAttr('style')\n          ;\n          $side\n            .attr('style', '')\n            .removeAttr('style')\n            .removeClass(className.hidden)\n          ;\n          $nextSide\n            .removeClass(className.animating)\n            .attr('style', '')\n            .removeAttr('style')\n          ;\n        },\n\n        is: {\n          complete: function() {\n            return ($side.filter('.' + className.active)[0] == $nextSide[0]);\n          },\n          animating: function() {\n            return $module.hasClass(className.animating);\n          }\n        },\n\n        set: {\n\n          defaultSide: function() {\n            $activeSide = $module.find('.' + settings.className.active);\n            $nextSide   = ( $activeSide.next(selector.side).length > 0 )\n              ? $activeSide.next(selector.side)\n              : $module.find(selector.side).first()\n            ;\n            nextIndex = false;\n            module.verbose('Active side set to', $activeSide);\n            module.verbose('Next side set to', $nextSide);\n          },\n\n          duration: function(duration) {\n            duration = duration || settings.duration;\n            duration = (typeof duration == 'number')\n              ? duration + 'ms'\n              : duration\n            ;\n            module.verbose('Setting animation duration', duration);\n            if(settings.duration || settings.duration === 0) {\n              $sides.add($side)\n                .css({\n                  '-webkit-transition-duration': duration,\n                  '-moz-transition-duration': duration,\n                  '-ms-transition-duration': duration,\n                  '-o-transition-duration': duration,\n                  'transition-duration': duration\n                })\n              ;\n            }\n          },\n\n          currentStageSize: function() {\n            var\n              $activeSide = $module.find('.' + settings.className.active),\n              width       = $activeSide.outerWidth(true),\n              height      = $activeSide.outerHeight(true)\n            ;\n            $module\n              .css({\n                width: width,\n                height: height\n              })\n            ;\n          },\n\n          stageSize: function() {\n            var\n              $clone      = $module.clone().addClass(className.loading),\n              $activeSide = $clone.find('.' + settings.className.active),\n              $nextSide   = (nextIndex)\n                ? $clone.find(selector.side).eq(nextIndex)\n                : ( $activeSide.next(selector.side).length > 0 )\n                  ? $activeSide.next(selector.side)\n                  : $clone.find(selector.side).first(),\n              newWidth    = (settings.width == 'next')\n                ? $nextSide.outerWidth(true)\n                : (settings.width == 'initial')\n                  ? $module.width()\n                  : settings.width,\n              newHeight    = (settings.height == 'next')\n                ? $nextSide.outerHeight(true)\n                : (settings.height == 'initial')\n                  ? $module.height()\n                  : settings.height\n            ;\n            $activeSide.removeClass(className.active);\n            $nextSide.addClass(className.active);\n            $clone.insertAfter($module);\n            $clone.remove();\n            if(settings.width != 'auto') {\n              $module.css('width', newWidth + settings.jitter);\n              module.verbose('Specifying width during animation', newWidth);\n            }\n            if(settings.height != 'auto') {\n              $module.css('height', newHeight + settings.jitter);\n              module.verbose('Specifying height during animation', newHeight);\n            }\n          },\n\n          nextSide: function(selector) {\n            nextIndex = selector;\n            $nextSide = $side.filter(selector);\n            nextIndex = $side.index($nextSide);\n            if($nextSide.length === 0) {\n              module.set.defaultSide();\n              module.error(error.side);\n            }\n            module.verbose('Next side manually set to', $nextSide);\n          },\n\n          active: function() {\n            module.verbose('Setting new side to active', $nextSide);\n            $side\n              .removeClass(className.active)\n            ;\n            $nextSide\n              .addClass(className.active)\n            ;\n            settings.onChange.call($nextSide[0]);\n            module.set.defaultSide();\n          }\n        },\n\n        flip: {\n\n          up: function() {\n            if(module.is.complete() && !module.is.animating() && !settings.allowRepeats) {\n              module.debug('Side already visible', $nextSide);\n              return;\n            }\n            if( !module.is.animating()) {\n              module.debug('Flipping up', $nextSide);\n              var\n                transform = module.get.transform.up()\n              ;\n              module.set.stageSize();\n              module.stage.above();\n              module.animate(transform);\n            }\n            else {\n              module.queue('flip up');\n            }\n          },\n\n          down: function() {\n            if(module.is.complete() && !module.is.animating() && !settings.allowRepeats) {\n              module.debug('Side already visible', $nextSide);\n              return;\n            }\n            if( !module.is.animating()) {\n              module.debug('Flipping down', $nextSide);\n              var\n                transform = module.get.transform.down()\n              ;\n              module.set.stageSize();\n              module.stage.below();\n              module.animate(transform);\n            }\n            else {\n              module.queue('flip down');\n            }\n          },\n\n          left: function() {\n            if(module.is.complete() && !module.is.animating() && !settings.allowRepeats) {\n              module.debug('Side already visible', $nextSide);\n              return;\n            }\n            if( !module.is.animating()) {\n              module.debug('Flipping left', $nextSide);\n              var\n                transform = module.get.transform.left()\n              ;\n              module.set.stageSize();\n              module.stage.left();\n              module.animate(transform);\n            }\n            else {\n              module.queue('flip left');\n            }\n          },\n\n          right: function() {\n            if(module.is.complete() && !module.is.animating() && !settings.allowRepeats) {\n              module.debug('Side already visible', $nextSide);\n              return;\n            }\n            if( !module.is.animating()) {\n              module.debug('Flipping right', $nextSide);\n              var\n                transform = module.get.transform.right()\n              ;\n              module.set.stageSize();\n              module.stage.right();\n              module.animate(transform);\n            }\n            else {\n              module.queue('flip right');\n            }\n          },\n\n          over: function() {\n            if(module.is.complete() && !module.is.animating() && !settings.allowRepeats) {\n              module.debug('Side already visible', $nextSide);\n              return;\n            }\n            if( !module.is.animating()) {\n              module.debug('Flipping over', $nextSide);\n              module.set.stageSize();\n              module.stage.behind();\n              module.animate(module.get.transform.over() );\n            }\n            else {\n              module.queue('flip over');\n            }\n          },\n\n          back: function() {\n            if(module.is.complete() && !module.is.animating() && !settings.allowRepeats) {\n              module.debug('Side already visible', $nextSide);\n              return;\n            }\n            if( !module.is.animating()) {\n              module.debug('Flipping back', $nextSide);\n              module.set.stageSize();\n              module.stage.behind();\n              module.animate(module.get.transform.back() );\n            }\n            else {\n              module.queue('flip back');\n            }\n          }\n\n        },\n\n        get: {\n\n          transform: {\n            up: function() {\n              var\n                translate = {\n                  y: -(($activeSide.outerHeight(true) - $nextSide.outerHeight(true)) / 2),\n                  z: -($activeSide.outerHeight(true) / 2)\n                }\n              ;\n              return {\n                transform: 'translateY(' + translate.y + 'px) translateZ('+ translate.z + 'px) rotateX(-90deg)'\n              };\n            },\n\n            down: function() {\n              var\n                translate = {\n                  y: -(($activeSide.outerHeight(true) - $nextSide.outerHeight(true)) / 2),\n                  z: -($activeSide.outerHeight(true) / 2)\n                }\n              ;\n              return {\n                transform: 'translateY(' + translate.y + 'px) translateZ('+ translate.z + 'px) rotateX(90deg)'\n              };\n            },\n\n            left: function() {\n              var\n                translate = {\n                  x : -(($activeSide.outerWidth(true) - $nextSide.outerWidth(true)) / 2),\n                  z : -($activeSide.outerWidth(true) / 2)\n                }\n              ;\n              return {\n                transform: 'translateX(' + translate.x + 'px) translateZ(' + translate.z + 'px) rotateY(90deg)'\n              };\n            },\n\n            right: function() {\n              var\n                translate = {\n                  x : -(($activeSide.outerWidth(true) - $nextSide.outerWidth(true)) / 2),\n                  z : -($activeSide.outerWidth(true) / 2)\n                }\n              ;\n              return {\n                transform: 'translateX(' + translate.x + 'px) translateZ(' + translate.z + 'px) rotateY(-90deg)'\n              };\n            },\n\n            over: function() {\n              var\n                translate = {\n                  x : -(($activeSide.outerWidth(true) - $nextSide.outerWidth(true)) / 2)\n                }\n              ;\n              return {\n                transform: 'translateX(' + translate.x + 'px) rotateY(180deg)'\n              };\n            },\n\n            back: function() {\n              var\n                translate = {\n                  x : -(($activeSide.outerWidth(true) - $nextSide.outerWidth(true)) / 2)\n                }\n              ;\n              return {\n                transform: 'translateX(' + translate.x + 'px) rotateY(-180deg)'\n              };\n            }\n          },\n\n          transitionEvent: function() {\n            var\n              element     = document.createElement('element'),\n              transitions = {\n                'transition'       :'transitionend',\n                'OTransition'      :'oTransitionEnd',\n                'MozTransition'    :'transitionend',\n                'WebkitTransition' :'webkitTransitionEnd'\n              },\n              transition\n            ;\n            for(transition in transitions){\n              if( element.style[transition] !== undefined ){\n                return transitions[transition];\n              }\n            }\n          },\n\n          nextSide: function() {\n            return ( $activeSide.next(selector.side).length > 0 )\n              ? $activeSide.next(selector.side)\n              : $module.find(selector.side).first()\n            ;\n          }\n\n        },\n\n        stage: {\n\n          above: function() {\n            var\n              box = {\n                origin : (($activeSide.outerHeight(true) - $nextSide.outerHeight(true)) / 2),\n                depth  : {\n                  active : ($nextSide.outerHeight(true) / 2),\n                  next   : ($activeSide.outerHeight(true) / 2)\n                }\n              }\n            ;\n            module.verbose('Setting the initial animation position as above', $nextSide, box);\n            $sides\n              .css({\n                'transform' : 'translateZ(-' + box.depth.active + 'px)'\n              })\n            ;\n            $activeSide\n              .css({\n                'transform' : 'rotateY(0deg) translateZ(' + box.depth.active + 'px)'\n              })\n            ;\n            $nextSide\n              .addClass(className.animating)\n              .css({\n                'top'       : box.origin + 'px',\n                'transform' : 'rotateX(90deg) translateZ(' + box.depth.next + 'px)'\n              })\n            ;\n          },\n\n          below: function() {\n            var\n              box = {\n                origin : (($activeSide.outerHeight(true) - $nextSide.outerHeight(true)) / 2),\n                depth  : {\n                  active : ($nextSide.outerHeight(true) / 2),\n                  next   : ($activeSide.outerHeight(true) / 2)\n                }\n              }\n            ;\n            module.verbose('Setting the initial animation position as below', $nextSide, box);\n            $sides\n              .css({\n                'transform' : 'translateZ(-' + box.depth.active + 'px)'\n              })\n            ;\n            $activeSide\n              .css({\n                'transform' : 'rotateY(0deg) translateZ(' + box.depth.active + 'px)'\n              })\n            ;\n            $nextSide\n              .addClass(className.animating)\n              .css({\n                'top'       : box.origin + 'px',\n                'transform' : 'rotateX(-90deg) translateZ(' + box.depth.next + 'px)'\n              })\n            ;\n          },\n\n          left: function() {\n            var\n              height = {\n                active : $activeSide.outerWidth(true),\n                next   : $nextSide.outerWidth(true)\n              },\n              box = {\n                origin : ( ( height.active - height.next ) / 2),\n                depth  : {\n                  active : (height.next / 2),\n                  next   : (height.active / 2)\n                }\n              }\n            ;\n            module.verbose('Setting the initial animation position as left', $nextSide, box);\n            $sides\n              .css({\n                'transform' : 'translateZ(-' + box.depth.active + 'px)'\n              })\n            ;\n            $activeSide\n              .css({\n                'transform' : 'rotateY(0deg) translateZ(' + box.depth.active + 'px)'\n              })\n            ;\n            $nextSide\n              .addClass(className.animating)\n              .css({\n                'left'      : box.origin + 'px',\n                'transform' : 'rotateY(-90deg) translateZ(' + box.depth.next + 'px)'\n              })\n            ;\n          },\n\n          right: function() {\n            var\n              height = {\n                active : $activeSide.outerWidth(true),\n                next   : $nextSide.outerWidth(true)\n              },\n              box = {\n                origin : ( ( height.active - height.next ) / 2),\n                depth  : {\n                  active : (height.next / 2),\n                  next   : (height.active / 2)\n                }\n              }\n            ;\n            module.verbose('Setting the initial animation position as left', $nextSide, box);\n            $sides\n              .css({\n                'transform' : 'translateZ(-' + box.depth.active + 'px)'\n              })\n            ;\n            $activeSide\n              .css({\n                'transform' : 'rotateY(0deg) translateZ(' + box.depth.active + 'px)'\n              })\n            ;\n            $nextSide\n              .addClass(className.animating)\n              .css({\n                'left'      : box.origin + 'px',\n                'transform' : 'rotateY(90deg) translateZ(' + box.depth.next + 'px)'\n              })\n            ;\n          },\n\n          behind: function() {\n            var\n              height = {\n                active : $activeSide.outerWidth(true),\n                next   : $nextSide.outerWidth(true)\n              },\n              box = {\n                origin : ( ( height.active - height.next ) / 2),\n                depth  : {\n                  active : (height.next / 2),\n                  next   : (height.active / 2)\n                }\n              }\n            ;\n            module.verbose('Setting the initial animation position as behind', $nextSide, box);\n            $activeSide\n              .css({\n                'transform' : 'rotateY(0deg)'\n              })\n            ;\n            $nextSide\n              .addClass(className.animating)\n              .css({\n                'left'      : box.origin + 'px',\n                'transform' : 'rotateY(-180deg)'\n              })\n            ;\n          }\n        },\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.shape.settings = {\n\n  // module info\n  name : 'Shape',\n\n  // hide all debug content\n  silent     : false,\n\n  // debug content outputted to console\n  debug      : false,\n\n  // verbose debug output\n  verbose    : false,\n\n  // fudge factor in pixels when swapping from 2d to 3d (can be useful to correct rounding errors)\n  jitter     : 0,\n\n  // performance data output\n  performance: true,\n\n  // event namespace\n  namespace  : 'shape',\n\n  // width during animation, can be set to 'auto', initial', 'next' or pixel amount\n  width: 'initial',\n\n  // height during animation, can be set to 'auto', 'initial', 'next' or pixel amount\n  height: 'initial',\n\n  // callback occurs on side change\n  beforeChange : function() {},\n  onChange     : function() {},\n\n  // allow animation to same side\n  allowRepeats: false,\n\n  // animation duration\n  duration   : false,\n\n  // possible errors\n  error: {\n    side   : 'You tried to switch to a side that does not exist.',\n    method : 'The method you called is not defined'\n  },\n\n  // classnames used\n  className   : {\n    animating : 'animating',\n    hidden    : 'hidden',\n    loading   : 'loading',\n    active    : 'active'\n  },\n\n  // selectors used\n  selector    : {\n    sides : '.sides',\n    side  : '.side'\n  }\n\n};\n\n\n})( jQuery, window, document );\n","/*!\n * # Semantic UI - Sidebar\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.sidebar = function(parameters) {\n  var\n    $allModules     = $(this),\n    $window         = $(window),\n    $document       = $(document),\n    $html           = $('html'),\n    $head           = $('head'),\n\n    moduleSelector  = $allModules.selector || '',\n\n    time            = new Date().getTime(),\n    performance     = [],\n\n    query           = arguments[0],\n    methodInvoked   = (typeof query == 'string'),\n    queryArguments  = [].slice.call(arguments, 1),\n\n    requestAnimationFrame = window.requestAnimationFrame\n      || window.mozRequestAnimationFrame\n      || window.webkitRequestAnimationFrame\n      || window.msRequestAnimationFrame\n      || function(callback) { setTimeout(callback, 0); },\n\n    returnedValue\n  ;\n\n  $allModules\n    .each(function() {\n      var\n        settings        = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.sidebar.settings, parameters)\n          : $.extend({}, $.fn.sidebar.settings),\n\n        selector        = settings.selector,\n        className       = settings.className,\n        namespace       = settings.namespace,\n        regExp          = settings.regExp,\n        error           = settings.error,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n\n        $module         = $(this),\n        $context        = $(settings.context),\n\n        $sidebars       = $module.children(selector.sidebar),\n        $fixed          = $context.children(selector.fixed),\n        $pusher         = $context.children(selector.pusher),\n        $style,\n\n        element         = this,\n        instance        = $module.data(moduleNamespace),\n\n        elementNamespace,\n        id,\n        currentScroll,\n        transitionEvent,\n\n        module\n      ;\n\n      module      = {\n\n        initialize: function() {\n          module.debug('Initializing sidebar', parameters);\n\n          module.create.id();\n\n          transitionEvent = module.get.transitionEvent();\n\n          // avoids locking rendering if initialized in onReady\n          if(settings.delaySetup) {\n            requestAnimationFrame(module.setup.layout);\n          }\n          else {\n            module.setup.layout();\n          }\n\n          requestAnimationFrame(function() {\n            module.setup.cache();\n          });\n\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n\n        create: {\n          id: function() {\n            id = (Math.random().toString(16) + '000000000').substr(2,8);\n            elementNamespace = '.' + id;\n            module.verbose('Creating unique id for element', id);\n          }\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous module for', $module);\n          $module\n            .off(eventNamespace)\n            .removeData(moduleNamespace)\n          ;\n          if(module.is.ios()) {\n            module.remove.ios();\n          }\n          // bound by uuid\n          $context.off(elementNamespace);\n          $window.off(elementNamespace);\n          $document.off(elementNamespace);\n        },\n\n        event: {\n          clickaway: function(event) {\n            var\n              clickedInPusher = ($pusher.find(event.target).length > 0 || $pusher.is(event.target)),\n              clickedContext  = ($context.is(event.target))\n            ;\n            if(clickedInPusher) {\n              module.verbose('User clicked on dimmed page');\n              module.hide();\n            }\n            if(clickedContext) {\n              module.verbose('User clicked on dimmable context (scaled out page)');\n              module.hide();\n            }\n          },\n          touch: function(event) {\n            //event.stopPropagation();\n          },\n          containScroll: function(event) {\n            if(element.scrollTop <= 0)  {\n              element.scrollTop = 1;\n            }\n            if((element.scrollTop + element.offsetHeight) >= element.scrollHeight) {\n              element.scrollTop = element.scrollHeight - element.offsetHeight - 1;\n            }\n          },\n          scroll: function(event) {\n            if( $(event.target).closest(selector.sidebar).length === 0 ) {\n              event.preventDefault();\n            }\n          }\n        },\n\n        bind: {\n          clickaway: function() {\n            module.verbose('Adding clickaway events to context', $context);\n            if(settings.closable) {\n              $context\n                .on('click'    + elementNamespace, module.event.clickaway)\n                .on('touchend' + elementNamespace, module.event.clickaway)\n              ;\n            }\n          },\n          scrollLock: function() {\n            if(settings.scrollLock) {\n              module.debug('Disabling page scroll');\n              $window\n                .on('DOMMouseScroll' + elementNamespace, module.event.scroll)\n              ;\n            }\n            module.verbose('Adding events to contain sidebar scroll');\n            $document\n              .on('touchmove' + elementNamespace, module.event.touch)\n            ;\n            $module\n              .on('scroll' + eventNamespace, module.event.containScroll)\n            ;\n          }\n        },\n        unbind: {\n          clickaway: function() {\n            module.verbose('Removing clickaway events from context', $context);\n            $context.off(elementNamespace);\n          },\n          scrollLock: function() {\n            module.verbose('Removing scroll lock from page');\n            $document.off(elementNamespace);\n            $window.off(elementNamespace);\n            $module.off('scroll' + eventNamespace);\n          }\n        },\n\n        add: {\n          inlineCSS: function() {\n            var\n              width     = module.cache.width  || $module.outerWidth(),\n              height    = module.cache.height || $module.outerHeight(),\n              isRTL     = module.is.rtl(),\n              direction = module.get.direction(),\n              distance  = {\n                left   : width,\n                right  : -width,\n                top    : height,\n                bottom : -height\n              },\n              style\n            ;\n\n            if(isRTL){\n              module.verbose('RTL detected, flipping widths');\n              distance.left = -width;\n              distance.right = width;\n            }\n\n            style  = '<style>';\n\n            if(direction === 'left' || direction === 'right') {\n              module.debug('Adding CSS rules for animation distance', width);\n              style  += ''\n                + ' .ui.visible.' + direction + '.sidebar ~ .fixed,'\n                + ' .ui.visible.' + direction + '.sidebar ~ .pusher {'\n                + '   -webkit-transform: translate3d('+ distance[direction] + 'px, 0, 0);'\n                + '           transform: translate3d('+ distance[direction] + 'px, 0, 0);'\n                + ' }'\n              ;\n            }\n            else if(direction === 'top' || direction == 'bottom') {\n              style  += ''\n                + ' .ui.visible.' + direction + '.sidebar ~ .fixed,'\n                + ' .ui.visible.' + direction + '.sidebar ~ .pusher {'\n                + '   -webkit-transform: translate3d(0, ' + distance[direction] + 'px, 0);'\n                + '           transform: translate3d(0, ' + distance[direction] + 'px, 0);'\n                + ' }'\n              ;\n            }\n\n            /* IE is only browser not to create context with transforms */\n            /* https://www.w3.org/Bugs/Public/show_bug.cgi?id=16328 */\n            if( module.is.ie() ) {\n              if(direction === 'left' || direction === 'right') {\n                module.debug('Adding CSS rules for animation distance', width);\n                style  += ''\n                  + ' body.pushable > .ui.visible.' + direction + '.sidebar ~ .pusher:after {'\n                  + '   -webkit-transform: translate3d('+ distance[direction] + 'px, 0, 0);'\n                  + '           transform: translate3d('+ distance[direction] + 'px, 0, 0);'\n                  + ' }'\n                ;\n              }\n              else if(direction === 'top' || direction == 'bottom') {\n                style  += ''\n                  + ' body.pushable > .ui.visible.' + direction + '.sidebar ~ .pusher:after {'\n                  + '   -webkit-transform: translate3d(0, ' + distance[direction] + 'px, 0);'\n                  + '           transform: translate3d(0, ' + distance[direction] + 'px, 0);'\n                  + ' }'\n                ;\n              }\n              /* opposite sides visible forces content overlay */\n              style += ''\n                + ' body.pushable > .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .pusher:after,'\n                + ' body.pushable > .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .pusher:after {'\n                + '   -webkit-transform: translate3d(0px, 0, 0);'\n                + '           transform: translate3d(0px, 0, 0);'\n                + ' }'\n              ;\n            }\n            style += '</style>';\n            $style = $(style)\n              .appendTo($head)\n            ;\n            module.debug('Adding sizing css to head', $style);\n          }\n        },\n\n        refresh: function() {\n          module.verbose('Refreshing selector cache');\n          $context  = $(settings.context);\n          $sidebars = $context.children(selector.sidebar);\n          $pusher   = $context.children(selector.pusher);\n          $fixed    = $context.children(selector.fixed);\n          module.clear.cache();\n        },\n\n        refreshSidebars: function() {\n          module.verbose('Refreshing other sidebars');\n          $sidebars = $context.children(selector.sidebar);\n        },\n\n        repaint: function() {\n          module.verbose('Forcing repaint event');\n          element.style.display = 'none';\n          var ignored = element.offsetHeight;\n          element.scrollTop = element.scrollTop;\n          element.style.display = '';\n        },\n\n        setup: {\n          cache: function() {\n            module.cache = {\n              width  : $module.outerWidth(),\n              height : $module.outerHeight(),\n              rtl    : ($module.css('direction') == 'rtl')\n            };\n          },\n          layout: function() {\n            if( $context.children(selector.pusher).length === 0 ) {\n              module.debug('Adding wrapper element for sidebar');\n              module.error(error.pusher);\n              $pusher = $('<div class=\"pusher\" />');\n              $context\n                .children()\n                  .not(selector.omitted)\n                  .not($sidebars)\n                  .wrapAll($pusher)\n              ;\n              module.refresh();\n            }\n            if($module.nextAll(selector.pusher).length === 0 || $module.nextAll(selector.pusher)[0] !== $pusher[0]) {\n              module.debug('Moved sidebar to correct parent element');\n              module.error(error.movedSidebar, element);\n              $module.detach().prependTo($context);\n              module.refresh();\n            }\n            module.clear.cache();\n            module.set.pushable();\n            module.set.direction();\n          }\n        },\n\n        attachEvents: function(selector, event) {\n          var\n            $toggle = $(selector)\n          ;\n          event = $.isFunction(module[event])\n            ? module[event]\n            : module.toggle\n          ;\n          if($toggle.length > 0) {\n            module.debug('Attaching sidebar events to element', selector, event);\n            $toggle\n              .on('click' + eventNamespace, event)\n            ;\n          }\n          else {\n            module.error(error.notFound, selector);\n          }\n        },\n\n        show: function(callback) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          if(module.is.hidden()) {\n            module.refreshSidebars();\n            if(settings.overlay)  {\n              module.error(error.overlay);\n              settings.transition = 'overlay';\n            }\n            module.refresh();\n            if(module.othersActive()) {\n              module.debug('Other sidebars currently visible');\n              if(settings.exclusive) {\n                // if not overlay queue animation after hide\n                if(settings.transition != 'overlay') {\n                  module.hideOthers(module.show);\n                  return;\n                }\n                else {\n                  module.hideOthers();\n                }\n              }\n              else {\n                settings.transition = 'overlay';\n              }\n            }\n            module.pushPage(function() {\n              callback.call(element);\n              settings.onShow.call(element);\n            });\n            settings.onChange.call(element);\n            settings.onVisible.call(element);\n          }\n          else {\n            module.debug('Sidebar is already visible');\n          }\n        },\n\n        hide: function(callback) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          if(module.is.visible() || module.is.animating()) {\n            module.debug('Hiding sidebar', callback);\n            module.refreshSidebars();\n            module.pullPage(function() {\n              callback.call(element);\n              settings.onHidden.call(element);\n            });\n            settings.onChange.call(element);\n            settings.onHide.call(element);\n          }\n        },\n\n        othersAnimating: function() {\n          return ($sidebars.not($module).filter('.' + className.animating).length > 0);\n        },\n        othersVisible: function() {\n          return ($sidebars.not($module).filter('.' + className.visible).length > 0);\n        },\n        othersActive: function() {\n          return(module.othersVisible() || module.othersAnimating());\n        },\n\n        hideOthers: function(callback) {\n          var\n            $otherSidebars = $sidebars.not($module).filter('.' + className.visible),\n            sidebarCount   = $otherSidebars.length,\n            callbackCount  = 0\n          ;\n          callback = callback || function(){};\n          $otherSidebars\n            .sidebar('hide', function() {\n              callbackCount++;\n              if(callbackCount == sidebarCount) {\n                callback();\n              }\n            })\n          ;\n        },\n\n        toggle: function() {\n          module.verbose('Determining toggled direction');\n          if(module.is.hidden()) {\n            module.show();\n          }\n          else {\n            module.hide();\n          }\n        },\n\n        pushPage: function(callback) {\n          var\n            transition = module.get.transition(),\n            $transition = (transition === 'overlay' || module.othersActive())\n              ? $module\n              : $pusher,\n            animate,\n            dim,\n            transitionEnd\n          ;\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          if(settings.transition == 'scale down') {\n            module.scrollToTop();\n          }\n          module.set.transition(transition);\n          module.repaint();\n          animate = function() {\n            module.bind.clickaway();\n            module.add.inlineCSS();\n            module.set.animating();\n            module.set.visible();\n          };\n          dim = function() {\n            module.set.dimmed();\n          };\n          transitionEnd = function(event) {\n            if( event.target == $transition[0] ) {\n              $transition.off(transitionEvent + elementNamespace, transitionEnd);\n              module.remove.animating();\n              module.bind.scrollLock();\n              callback.call(element);\n            }\n          };\n          $transition.off(transitionEvent + elementNamespace);\n          $transition.on(transitionEvent + elementNamespace, transitionEnd);\n          requestAnimationFrame(animate);\n          if(settings.dimPage && !module.othersVisible()) {\n            requestAnimationFrame(dim);\n          }\n        },\n\n        pullPage: function(callback) {\n          var\n            transition = module.get.transition(),\n            $transition = (transition == 'overlay' || module.othersActive())\n              ? $module\n              : $pusher,\n            animate,\n            transitionEnd\n          ;\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          module.verbose('Removing context push state', module.get.direction());\n\n          module.unbind.clickaway();\n          module.unbind.scrollLock();\n\n          animate = function() {\n            module.set.transition(transition);\n            module.set.animating();\n            module.remove.visible();\n            if(settings.dimPage && !module.othersVisible()) {\n              $pusher.removeClass(className.dimmed);\n            }\n          };\n          transitionEnd = function(event) {\n            if( event.target == $transition[0] ) {\n              $transition.off(transitionEvent + elementNamespace, transitionEnd);\n              module.remove.animating();\n              module.remove.transition();\n              module.remove.inlineCSS();\n              if(transition == 'scale down' || (settings.returnScroll && module.is.mobile()) ) {\n                module.scrollBack();\n              }\n              callback.call(element);\n            }\n          };\n          $transition.off(transitionEvent + elementNamespace);\n          $transition.on(transitionEvent + elementNamespace, transitionEnd);\n          requestAnimationFrame(animate);\n        },\n\n        scrollToTop: function() {\n          module.verbose('Scrolling to top of page to avoid animation issues');\n          currentScroll = $(window).scrollTop();\n          $module.scrollTop(0);\n          window.scrollTo(0, 0);\n        },\n\n        scrollBack: function() {\n          module.verbose('Scrolling back to original page position');\n          window.scrollTo(0, currentScroll);\n        },\n\n        clear: {\n          cache: function() {\n            module.verbose('Clearing cached dimensions');\n            module.cache = {};\n          }\n        },\n\n        set: {\n\n          // ios only (scroll on html not document). This prevent auto-resize canvas/scroll in ios\n          // (This is no longer necessary in latest iOS)\n          ios: function() {\n            $html.addClass(className.ios);\n          },\n\n          // container\n          pushed: function() {\n            $context.addClass(className.pushed);\n          },\n          pushable: function() {\n            $context.addClass(className.pushable);\n          },\n\n          // pusher\n          dimmed: function() {\n            $pusher.addClass(className.dimmed);\n          },\n\n          // sidebar\n          active: function() {\n            $module.addClass(className.active);\n          },\n          animating: function() {\n            $module.addClass(className.animating);\n          },\n          transition: function(transition) {\n            transition = transition || module.get.transition();\n            $module.addClass(transition);\n          },\n          direction: function(direction) {\n            direction = direction || module.get.direction();\n            $module.addClass(className[direction]);\n          },\n          visible: function() {\n            $module.addClass(className.visible);\n          },\n          overlay: function() {\n            $module.addClass(className.overlay);\n          }\n        },\n        remove: {\n\n          inlineCSS: function() {\n            module.debug('Removing inline css styles', $style);\n            if($style && $style.length > 0) {\n              $style.remove();\n            }\n          },\n\n          // ios scroll on html not document\n          ios: function() {\n            $html.removeClass(className.ios);\n          },\n\n          // context\n          pushed: function() {\n            $context.removeClass(className.pushed);\n          },\n          pushable: function() {\n            $context.removeClass(className.pushable);\n          },\n\n          // sidebar\n          active: function() {\n            $module.removeClass(className.active);\n          },\n          animating: function() {\n            $module.removeClass(className.animating);\n          },\n          transition: function(transition) {\n            transition = transition || module.get.transition();\n            $module.removeClass(transition);\n          },\n          direction: function(direction) {\n            direction = direction || module.get.direction();\n            $module.removeClass(className[direction]);\n          },\n          visible: function() {\n            $module.removeClass(className.visible);\n          },\n          overlay: function() {\n            $module.removeClass(className.overlay);\n          }\n        },\n\n        get: {\n          direction: function() {\n            if($module.hasClass(className.top)) {\n              return className.top;\n            }\n            else if($module.hasClass(className.right)) {\n              return className.right;\n            }\n            else if($module.hasClass(className.bottom)) {\n              return className.bottom;\n            }\n            return className.left;\n          },\n          transition: function() {\n            var\n              direction = module.get.direction(),\n              transition\n            ;\n            transition = ( module.is.mobile() )\n              ? (settings.mobileTransition == 'auto')\n                ? settings.defaultTransition.mobile[direction]\n                : settings.mobileTransition\n              : (settings.transition == 'auto')\n                ? settings.defaultTransition.computer[direction]\n                : settings.transition\n            ;\n            module.verbose('Determined transition', transition);\n            return transition;\n          },\n          transitionEvent: function() {\n            var\n              element     = document.createElement('element'),\n              transitions = {\n                'transition'       :'transitionend',\n                'OTransition'      :'oTransitionEnd',\n                'MozTransition'    :'transitionend',\n                'WebkitTransition' :'webkitTransitionEnd'\n              },\n              transition\n            ;\n            for(transition in transitions){\n              if( element.style[transition] !== undefined ){\n                return transitions[transition];\n              }\n            }\n          }\n        },\n\n        is: {\n\n          ie: function() {\n            var\n              isIE11 = (!(window.ActiveXObject) && 'ActiveXObject' in window),\n              isIE   = ('ActiveXObject' in window)\n            ;\n            return (isIE11 || isIE);\n          },\n\n          ios: function() {\n            var\n              userAgent      = navigator.userAgent,\n              isIOS          = userAgent.match(regExp.ios),\n              isMobileChrome = userAgent.match(regExp.mobileChrome)\n            ;\n            if(isIOS && !isMobileChrome) {\n              module.verbose('Browser was found to be iOS', userAgent);\n              return true;\n            }\n            else {\n              return false;\n            }\n          },\n          mobile: function() {\n            var\n              userAgent    = navigator.userAgent,\n              isMobile     = userAgent.match(regExp.mobile)\n            ;\n            if(isMobile) {\n              module.verbose('Browser was found to be mobile', userAgent);\n              return true;\n            }\n            else {\n              module.verbose('Browser is not mobile, using regular transition', userAgent);\n              return false;\n            }\n          },\n          hidden: function() {\n            return !module.is.visible();\n          },\n          visible: function() {\n            return $module.hasClass(className.visible);\n          },\n          // alias\n          open: function() {\n            return module.is.visible();\n          },\n          closed: function() {\n            return module.is.hidden();\n          },\n          vertical: function() {\n            return $module.hasClass(className.top);\n          },\n          animating: function() {\n            return $context.hasClass(className.animating);\n          },\n          rtl: function () {\n            if(module.cache.rtl === undefined) {\n              module.cache.rtl = ($module.css('direction') == 'rtl');\n            }\n            return module.cache.rtl;\n          }\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      }\n    ;\n\n    if(methodInvoked) {\n      if(instance === undefined) {\n        module.initialize();\n      }\n      module.invoke(query);\n    }\n    else {\n      if(instance !== undefined) {\n        module.invoke('destroy');\n      }\n      module.initialize();\n    }\n  });\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.sidebar.settings = {\n\n  name              : 'Sidebar',\n  namespace         : 'sidebar',\n\n  silent            : false,\n  debug             : false,\n  verbose           : false,\n  performance       : true,\n\n  transition        : 'auto',\n  mobileTransition  : 'auto',\n\n  defaultTransition : {\n    computer: {\n      left   : 'uncover',\n      right  : 'uncover',\n      top    : 'overlay',\n      bottom : 'overlay'\n    },\n    mobile: {\n      left   : 'uncover',\n      right  : 'uncover',\n      top    : 'overlay',\n      bottom : 'overlay'\n    }\n  },\n\n  context           : 'body',\n  exclusive         : false,\n  closable          : true,\n  dimPage           : true,\n  scrollLock        : false,\n  returnScroll      : false,\n  delaySetup        : false,\n\n  duration          : 500,\n\n  onChange          : function(){},\n  onShow            : function(){},\n  onHide            : function(){},\n\n  onHidden          : function(){},\n  onVisible         : function(){},\n\n  className         : {\n    active    : 'active',\n    animating : 'animating',\n    dimmed    : 'dimmed',\n    ios       : 'ios',\n    pushable  : 'pushable',\n    pushed    : 'pushed',\n    right     : 'right',\n    top       : 'top',\n    left      : 'left',\n    bottom    : 'bottom',\n    visible   : 'visible'\n  },\n\n  selector: {\n    fixed   : '.fixed',\n    omitted : 'script, link, style, .ui.modal, .ui.dimmer, .ui.nag, .ui.fixed',\n    pusher  : '.pusher',\n    sidebar : '.ui.sidebar'\n  },\n\n  regExp: {\n    ios          : /(iPad|iPhone|iPod)/g,\n    mobileChrome : /(CriOS)/g,\n    mobile       : /Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/g\n  },\n\n  error   : {\n    method       : 'The method you called is not defined.',\n    pusher       : 'Had to add pusher element. For optimal performance make sure body content is inside a pusher element',\n    movedSidebar : 'Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag',\n    overlay      : 'The overlay setting is no longer supported, use animation: overlay',\n    notFound     : 'There were no elements that matched the specified selector'\n  }\n\n};\n\n\n})( jQuery, window, document );\n","/*!\n * # Semantic UI - Sticky\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.sticky = function(parameters) {\n  var\n    $allModules    = $(this),\n    moduleSelector = $allModules.selector || '',\n\n    time           = new Date().getTime(),\n    performance    = [],\n\n    query          = arguments[0],\n    methodInvoked  = (typeof query == 'string'),\n    queryArguments = [].slice.call(arguments, 1),\n    returnedValue\n  ;\n\n  $allModules\n    .each(function() {\n      var\n        settings              = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.sticky.settings, parameters)\n          : $.extend({}, $.fn.sticky.settings),\n\n        className             = settings.className,\n        namespace             = settings.namespace,\n        error                 = settings.error,\n\n        eventNamespace        = '.' + namespace,\n        moduleNamespace       = 'module-' + namespace,\n\n        $module               = $(this),\n        $window               = $(window),\n        $scroll               = $(settings.scrollContext),\n        $container,\n        $context,\n\n        selector              = $module.selector || '',\n        instance              = $module.data(moduleNamespace),\n\n        requestAnimationFrame = window.requestAnimationFrame\n          || window.mozRequestAnimationFrame\n          || window.webkitRequestAnimationFrame\n          || window.msRequestAnimationFrame\n          || function(callback) { setTimeout(callback, 0); },\n\n        element         = this,\n\n        documentObserver,\n        observer,\n        module\n      ;\n\n      module      = {\n\n        initialize: function() {\n\n          module.determineContainer();\n          module.determineContext();\n          module.verbose('Initializing sticky', settings, $container);\n\n          module.save.positions();\n          module.checkErrors();\n          module.bind.events();\n\n          if(settings.observeChanges) {\n            module.observeChanges();\n          }\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous instance');\n          module.reset();\n          if(documentObserver) {\n            documentObserver.disconnect();\n          }\n          if(observer) {\n            observer.disconnect();\n          }\n          $window\n            .off('load' + eventNamespace, module.event.load)\n            .off('resize' + eventNamespace, module.event.resize)\n          ;\n          $scroll\n            .off('scrollchange' + eventNamespace, module.event.scrollchange)\n          ;\n          $module.removeData(moduleNamespace);\n        },\n\n        observeChanges: function() {\n          if('MutationObserver' in window) {\n            documentObserver = new MutationObserver(module.event.documentChanged);\n            observer         = new MutationObserver(module.event.changed);\n            documentObserver.observe(document, {\n              childList : true,\n              subtree   : true\n            });\n            observer.observe(element, {\n              childList : true,\n              subtree   : true\n            });\n            observer.observe($context[0], {\n              childList : true,\n              subtree   : true\n            });\n            module.debug('Setting up mutation observer', observer);\n          }\n        },\n\n        determineContainer: function() {\n          if(settings.container) {\n            $container = $(settings.container);\n          }\n          else {\n            $container = $module.offsetParent();\n          }\n        },\n\n        determineContext: function() {\n          if(settings.context) {\n            $context = $(settings.context);\n          }\n          else {\n            $context = $container;\n          }\n          if($context.length === 0) {\n            module.error(error.invalidContext, settings.context, $module);\n            return;\n          }\n        },\n\n        checkErrors: function() {\n          if( module.is.hidden() ) {\n            module.error(error.visible, $module);\n          }\n          if(module.cache.element.height > module.cache.context.height) {\n            module.reset();\n            module.error(error.elementSize, $module);\n            return;\n          }\n        },\n\n        bind: {\n          events: function() {\n            $window\n              .on('load' + eventNamespace, module.event.load)\n              .on('resize' + eventNamespace, module.event.resize)\n            ;\n            // pub/sub pattern\n            $scroll\n              .off('scroll' + eventNamespace)\n              .on('scroll' + eventNamespace, module.event.scroll)\n              .on('scrollchange' + eventNamespace, module.event.scrollchange)\n            ;\n          }\n        },\n\n        event: {\n          changed: function(mutations) {\n            clearTimeout(module.timer);\n            module.timer = setTimeout(function() {\n              module.verbose('DOM tree modified, updating sticky menu', mutations);\n              module.refresh();\n            }, 100);\n          },\n          documentChanged: function(mutations) {\n            [].forEach.call(mutations, function(mutation) {\n              if(mutation.removedNodes) {\n                [].forEach.call(mutation.removedNodes, function(node) {\n                  if(node == element || $(node).find(element).length > 0) {\n                    module.debug('Element removed from DOM, tearing down events');\n                    module.destroy();\n                  }\n                });\n              }\n            });\n          },\n          load: function() {\n            module.verbose('Page contents finished loading');\n            requestAnimationFrame(module.refresh);\n          },\n          resize: function() {\n            module.verbose('Window resized');\n            requestAnimationFrame(module.refresh);\n          },\n          scroll: function() {\n            requestAnimationFrame(function() {\n              $scroll.triggerHandler('scrollchange' + eventNamespace, $scroll.scrollTop() );\n            });\n          },\n          scrollchange: function(event, scrollPosition) {\n            module.stick(scrollPosition);\n            settings.onScroll.call(element);\n          }\n        },\n\n        refresh: function(hardRefresh) {\n          module.reset();\n          if(!settings.context) {\n            module.determineContext();\n          }\n          if(hardRefresh) {\n            module.determineContainer();\n          }\n          module.save.positions();\n          module.stick();\n          settings.onReposition.call(element);\n        },\n\n        supports: {\n          sticky: function() {\n            var\n              $element = $('<div/>'),\n              element = $element[0]\n            ;\n            $element.addClass(className.supported);\n            return($element.css('position').match('sticky'));\n          }\n        },\n\n        save: {\n          lastScroll: function(scroll) {\n            module.lastScroll = scroll;\n          },\n          elementScroll: function(scroll) {\n            module.elementScroll = scroll;\n          },\n          positions: function() {\n            var\n              scrollContext = {\n                height : $scroll.height()\n              },\n              element = {\n                margin: {\n                  top    : parseInt($module.css('margin-top'), 10),\n                  bottom : parseInt($module.css('margin-bottom'), 10),\n                },\n                offset : $module.offset(),\n                width  : $module.outerWidth(),\n                height : $module.outerHeight()\n              },\n              context = {\n                offset : $context.offset(),\n                height : $context.outerHeight()\n              },\n              container = {\n                height: $container.outerHeight()\n              }\n            ;\n            if( !module.is.standardScroll() ) {\n              module.debug('Non-standard scroll. Removing scroll offset from element offset');\n\n              scrollContext.top  = $scroll.scrollTop();\n              scrollContext.left = $scroll.scrollLeft();\n\n              element.offset.top  += scrollContext.top;\n              context.offset.top  += scrollContext.top;\n              element.offset.left += scrollContext.left;\n              context.offset.left += scrollContext.left;\n            }\n            module.cache = {\n              fits          : ( (element.height + settings.offset) <= scrollContext.height),\n              sameHeight    : (element.height == context.height),\n              scrollContext : {\n                height : scrollContext.height\n              },\n              element: {\n                margin : element.margin,\n                top    : element.offset.top - element.margin.top,\n                left   : element.offset.left,\n                width  : element.width,\n                height : element.height,\n                bottom : element.offset.top + element.height\n              },\n              context: {\n                top           : context.offset.top,\n                height        : context.height,\n                bottom        : context.offset.top + context.height\n              }\n            };\n            module.set.containerSize();\n\n            module.stick();\n            module.debug('Caching element positions', module.cache);\n          }\n        },\n\n        get: {\n          direction: function(scroll) {\n            var\n              direction = 'down'\n            ;\n            scroll = scroll || $scroll.scrollTop();\n            if(module.lastScroll !== undefined) {\n              if(module.lastScroll < scroll) {\n                direction = 'down';\n              }\n              else if(module.lastScroll > scroll) {\n                direction = 'up';\n              }\n            }\n            return direction;\n          },\n          scrollChange: function(scroll) {\n            scroll = scroll || $scroll.scrollTop();\n            return (module.lastScroll)\n              ? (scroll - module.lastScroll)\n              : 0\n            ;\n          },\n          currentElementScroll: function() {\n            if(module.elementScroll) {\n              return module.elementScroll;\n            }\n            return ( module.is.top() )\n              ? Math.abs(parseInt($module.css('top'), 10))    || 0\n              : Math.abs(parseInt($module.css('bottom'), 10)) || 0\n            ;\n          },\n\n          elementScroll: function(scroll) {\n            scroll = scroll || $scroll.scrollTop();\n            var\n              element        = module.cache.element,\n              scrollContext  = module.cache.scrollContext,\n              delta          = module.get.scrollChange(scroll),\n              maxScroll      = (element.height - scrollContext.height + settings.offset),\n              elementScroll  = module.get.currentElementScroll(),\n              possibleScroll = (elementScroll + delta)\n            ;\n            if(module.cache.fits || possibleScroll < 0) {\n              elementScroll = 0;\n            }\n            else if(possibleScroll > maxScroll ) {\n              elementScroll = maxScroll;\n            }\n            else {\n              elementScroll = possibleScroll;\n            }\n            return elementScroll;\n          }\n        },\n\n        remove: {\n          lastScroll: function() {\n            delete module.lastScroll;\n          },\n          elementScroll: function(scroll) {\n            delete module.elementScroll;\n          },\n          minimumSize: function() {\n            $container\n              .css('min-height', '')\n            ;\n          },\n          offset: function() {\n            $module.css('margin-top', '');\n          }\n        },\n\n        set: {\n          offset: function() {\n            module.verbose('Setting offset on element', settings.offset);\n            $module\n              .css('margin-top', settings.offset)\n            ;\n          },\n          containerSize: function() {\n            var\n              tagName = $container.get(0).tagName\n            ;\n            if(tagName === 'HTML' || tagName == 'body') {\n              // this can trigger for too many reasons\n              //module.error(error.container, tagName, $module);\n              module.determineContainer();\n            }\n            else {\n              if( Math.abs($container.outerHeight() - module.cache.context.height) > settings.jitter) {\n                module.debug('Context has padding, specifying exact height for container', module.cache.context.height);\n                $container.css({\n                  height: module.cache.context.height\n                });\n              }\n            }\n          },\n          minimumSize: function() {\n            var\n              element   = module.cache.element\n            ;\n            $container\n              .css('min-height', element.height)\n            ;\n          },\n          scroll: function(scroll) {\n            module.debug('Setting scroll on element', scroll);\n            if(module.elementScroll == scroll) {\n              return;\n            }\n            if( module.is.top() ) {\n              $module\n                .css('bottom', '')\n                .css('top', -scroll)\n              ;\n            }\n            if( module.is.bottom() ) {\n              $module\n                .css('top', '')\n                .css('bottom', scroll)\n              ;\n            }\n          },\n          size: function() {\n            if(module.cache.element.height !== 0 && module.cache.element.width !== 0) {\n              element.style.setProperty('width',  module.cache.element.width  + 'px', 'important');\n              element.style.setProperty('height', module.cache.element.height + 'px', 'important');\n            }\n          }\n        },\n\n        is: {\n          standardScroll: function() {\n            return ($scroll[0] == window);\n          },\n          top: function() {\n            return $module.hasClass(className.top);\n          },\n          bottom: function() {\n            return $module.hasClass(className.bottom);\n          },\n          initialPosition: function() {\n            return (!module.is.fixed() && !module.is.bound());\n          },\n          hidden: function() {\n            return (!$module.is(':visible'));\n          },\n          bound: function() {\n            return $module.hasClass(className.bound);\n          },\n          fixed: function() {\n            return $module.hasClass(className.fixed);\n          }\n        },\n\n        stick: function(scroll) {\n          var\n            cachedPosition = scroll || $scroll.scrollTop(),\n            cache          = module.cache,\n            fits           = cache.fits,\n            sameHeight     = cache.sameHeight,\n            element        = cache.element,\n            scrollContext  = cache.scrollContext,\n            context        = cache.context,\n            offset         = (module.is.bottom() && settings.pushing)\n              ? settings.bottomOffset\n              : settings.offset,\n            scroll         = {\n              top    : cachedPosition + offset,\n              bottom : cachedPosition + offset + scrollContext.height\n            },\n            direction      = module.get.direction(scroll.top),\n            elementScroll  = (fits)\n              ? 0\n              : module.get.elementScroll(scroll.top),\n\n            // shorthand\n            doesntFit      = !fits,\n            elementVisible = (element.height !== 0)\n          ;\n          if(elementVisible && !sameHeight) {\n\n            if( module.is.initialPosition() ) {\n              if(scroll.top >= context.bottom) {\n                module.debug('Initial element position is bottom of container');\n                module.bindBottom();\n              }\n              else if(scroll.top > element.top) {\n                if( (element.height + scroll.top - elementScroll) >= context.bottom ) {\n                  module.debug('Initial element position is bottom of container');\n                  module.bindBottom();\n                }\n                else {\n                  module.debug('Initial element position is fixed');\n                  module.fixTop();\n                }\n              }\n\n            }\n            else if( module.is.fixed() ) {\n\n              // currently fixed top\n              if( module.is.top() ) {\n                if( scroll.top <= element.top ) {\n                  module.debug('Fixed element reached top of container');\n                  module.setInitialPosition();\n                }\n                else if( (element.height + scroll.top - elementScroll) >= context.bottom ) {\n                  module.debug('Fixed element reached bottom of container');\n                  module.bindBottom();\n                }\n                // scroll element if larger than screen\n                else if(doesntFit) {\n                  module.set.scroll(elementScroll);\n                  module.save.lastScroll(scroll.top);\n                  module.save.elementScroll(elementScroll);\n                }\n              }\n\n              // currently fixed bottom\n              else if(module.is.bottom() ) {\n\n                // top edge\n                if( (scroll.bottom - element.height) <= element.top) {\n                  module.debug('Bottom fixed rail has reached top of container');\n                  module.setInitialPosition();\n                }\n                // bottom edge\n                else if(scroll.bottom >= context.bottom) {\n                  module.debug('Bottom fixed rail has reached bottom of container');\n                  module.bindBottom();\n                }\n                // scroll element if larger than screen\n                else if(doesntFit) {\n                  module.set.scroll(elementScroll);\n                  module.save.lastScroll(scroll.top);\n                  module.save.elementScroll(elementScroll);\n                }\n\n              }\n            }\n            else if( module.is.bottom() ) {\n              if( scroll.top <= element.top ) {\n                module.debug('Jumped from bottom fixed to top fixed, most likely used home/end button');\n                module.setInitialPosition();\n              }\n              else {\n                if(settings.pushing) {\n                  if(module.is.bound() && scroll.bottom <= context.bottom ) {\n                    module.debug('Fixing bottom attached element to bottom of browser.');\n                    module.fixBottom();\n                  }\n                }\n                else {\n                  if(module.is.bound() && (scroll.top <= context.bottom - element.height) ) {\n                    module.debug('Fixing bottom attached element to top of browser.');\n                    module.fixTop();\n                  }\n                }\n              }\n            }\n          }\n        },\n\n        bindTop: function() {\n          module.debug('Binding element to top of parent container');\n          module.remove.offset();\n          $module\n            .css({\n              left         : '',\n              top          : '',\n              marginBottom : ''\n            })\n            .removeClass(className.fixed)\n            .removeClass(className.bottom)\n            .addClass(className.bound)\n            .addClass(className.top)\n          ;\n          settings.onTop.call(element);\n          settings.onUnstick.call(element);\n        },\n        bindBottom: function() {\n          module.debug('Binding element to bottom of parent container');\n          module.remove.offset();\n          $module\n            .css({\n              left         : '',\n              top          : ''\n            })\n            .removeClass(className.fixed)\n            .removeClass(className.top)\n            .addClass(className.bound)\n            .addClass(className.bottom)\n          ;\n          settings.onBottom.call(element);\n          settings.onUnstick.call(element);\n        },\n\n        setInitialPosition: function() {\n          module.debug('Returning to initial position');\n          module.unfix();\n          module.unbind();\n        },\n\n\n        fixTop: function() {\n          module.debug('Fixing element to top of page');\n          if(settings.setSize) {\n            module.set.size();\n          }\n          module.set.minimumSize();\n          module.set.offset();\n          $module\n            .css({\n              left         : module.cache.element.left,\n              bottom       : '',\n              marginBottom : ''\n            })\n            .removeClass(className.bound)\n            .removeClass(className.bottom)\n            .addClass(className.fixed)\n            .addClass(className.top)\n          ;\n          settings.onStick.call(element);\n        },\n\n        fixBottom: function() {\n          module.debug('Sticking element to bottom of page');\n          if(settings.setSize) {\n            module.set.size();\n          }\n          module.set.minimumSize();\n          module.set.offset();\n          $module\n            .css({\n              left         : module.cache.element.left,\n              bottom       : '',\n              marginBottom : ''\n            })\n            .removeClass(className.bound)\n            .removeClass(className.top)\n            .addClass(className.fixed)\n            .addClass(className.bottom)\n          ;\n          settings.onStick.call(element);\n        },\n\n        unbind: function() {\n          if( module.is.bound() ) {\n            module.debug('Removing container bound position on element');\n            module.remove.offset();\n            $module\n              .removeClass(className.bound)\n              .removeClass(className.top)\n              .removeClass(className.bottom)\n            ;\n          }\n        },\n\n        unfix: function() {\n          if( module.is.fixed() ) {\n            module.debug('Removing fixed position on element');\n            module.remove.minimumSize();\n            module.remove.offset();\n            $module\n              .removeClass(className.fixed)\n              .removeClass(className.top)\n              .removeClass(className.bottom)\n            ;\n            settings.onUnstick.call(element);\n          }\n        },\n\n        reset: function() {\n          module.debug('Resetting elements position');\n          module.unbind();\n          module.unfix();\n          module.resetCSS();\n          module.remove.offset();\n          module.remove.lastScroll();\n        },\n\n        resetCSS: function() {\n          $module\n            .css({\n              width  : '',\n              height : ''\n            })\n          ;\n          $container\n            .css({\n              height: ''\n            })\n          ;\n        },\n\n        setting: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            settings[name] = value;\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 0);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.sticky.settings = {\n\n  name           : 'Sticky',\n  namespace      : 'sticky',\n\n  silent         : false,\n  debug          : false,\n  verbose        : true,\n  performance    : true,\n\n  // whether to stick in the opposite direction on scroll up\n  pushing        : false,\n\n  context        : false,\n  container      : false,\n\n  // Context to watch scroll events\n  scrollContext  : window,\n\n  // Offset to adjust scroll\n  offset         : 0,\n\n  // Offset to adjust scroll when attached to bottom of screen\n  bottomOffset   : 0,\n\n  // will only set container height if difference between context and container is larger than this number\n  jitter         : 5,\n\n  // set width of sticky element when it is fixed to page (used to make sure 100% width is maintained if no fixed size set)\n  setSize        : true,\n\n  // Whether to automatically observe changes with Mutation Observers\n  observeChanges : false,\n\n  // Called when position is recalculated\n  onReposition   : function(){},\n\n  // Called on each scroll\n  onScroll       : function(){},\n\n  // Called when element is stuck to viewport\n  onStick        : function(){},\n\n  // Called when element is unstuck from viewport\n  onUnstick      : function(){},\n\n  // Called when element reaches top of context\n  onTop          : function(){},\n\n  // Called when element reaches bottom of context\n  onBottom       : function(){},\n\n  error         : {\n    container      : 'Sticky element must be inside a relative container',\n    visible        : 'Element is hidden, you must call refresh after element becomes visible. Use silent setting to surpress this warning in production.',\n    method         : 'The method you called is not defined.',\n    invalidContext : 'Context specified does not exist',\n    elementSize    : 'Sticky element is larger than its container, cannot create sticky.'\n  },\n\n  className : {\n    bound     : 'bound',\n    fixed     : 'fixed',\n    supported : 'native',\n    top       : 'top',\n    bottom    : 'bottom'\n  }\n\n};\n\n})( jQuery, window, document );\n","/*!\n * # Semantic UI - Tab\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.tab = function(parameters) {\n\n  var\n    // use window context if none specified\n    $allModules     = $.isFunction(this)\n        ? $(window)\n        : $(this),\n\n    moduleSelector  = $allModules.selector || '',\n    time            = new Date().getTime(),\n    performance     = [],\n\n    query           = arguments[0],\n    methodInvoked   = (typeof query == 'string'),\n    queryArguments  = [].slice.call(arguments, 1),\n\n    initializedHistory = false,\n    returnedValue\n  ;\n\n  $allModules\n    .each(function() {\n      var\n\n        settings        = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.tab.settings, parameters)\n          : $.extend({}, $.fn.tab.settings),\n\n        className       = settings.className,\n        metadata        = settings.metadata,\n        selector        = settings.selector,\n        error           = settings.error,\n\n        eventNamespace  = '.' + settings.namespace,\n        moduleNamespace = 'module-' + settings.namespace,\n\n        $module         = $(this),\n        $context,\n        $tabs,\n\n        cache           = {},\n        firstLoad       = true,\n        recursionDepth  = 0,\n        element         = this,\n        instance        = $module.data(moduleNamespace),\n\n        activeTabPath,\n        parameterArray,\n        module,\n\n        historyEvent\n\n      ;\n\n      module = {\n\n        initialize: function() {\n          module.debug('Initializing tab menu item', $module);\n          module.fix.callbacks();\n          module.determineTabs();\n\n          module.debug('Determining tabs', settings.context, $tabs);\n          // set up automatic routing\n          if(settings.auto) {\n            module.set.auto();\n          }\n          module.bind.events();\n\n          if(settings.history && !initializedHistory) {\n            module.initializeHistory();\n            initializedHistory = true;\n          }\n\n          module.instantiate();\n        },\n\n        instantiate: function () {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n\n        destroy: function() {\n          module.debug('Destroying tabs', $module);\n          $module\n            .removeData(moduleNamespace)\n            .off(eventNamespace)\n          ;\n        },\n\n        bind: {\n          events: function() {\n            // if using $.tab don't add events\n            if( !$.isWindow( element ) ) {\n              module.debug('Attaching tab activation events to element', $module);\n              $module\n                .on('click' + eventNamespace, module.event.click)\n              ;\n            }\n          }\n        },\n\n        determineTabs: function() {\n          var\n            $reference\n          ;\n\n          // determine tab context\n          if(settings.context === 'parent') {\n            if($module.closest(selector.ui).length > 0) {\n              $reference = $module.closest(selector.ui);\n              module.verbose('Using closest UI element as parent', $reference);\n            }\n            else {\n              $reference = $module;\n            }\n            $context = $reference.parent();\n            module.verbose('Determined parent element for creating context', $context);\n          }\n          else if(settings.context) {\n            $context = $(settings.context);\n            module.verbose('Using selector for tab context', settings.context, $context);\n          }\n          else {\n            $context = $('body');\n          }\n          // find tabs\n          if(settings.childrenOnly) {\n            $tabs = $context.children(selector.tabs);\n            module.debug('Searching tab context children for tabs', $context, $tabs);\n          }\n          else {\n            $tabs = $context.find(selector.tabs);\n            module.debug('Searching tab context for tabs', $context, $tabs);\n          }\n        },\n\n        fix: {\n          callbacks: function() {\n            if( $.isPlainObject(parameters) && (parameters.onTabLoad || parameters.onTabInit) ) {\n              if(parameters.onTabLoad) {\n                parameters.onLoad = parameters.onTabLoad;\n                delete parameters.onTabLoad;\n                module.error(error.legacyLoad, parameters.onLoad);\n              }\n              if(parameters.onTabInit) {\n                parameters.onFirstLoad = parameters.onTabInit;\n                delete parameters.onTabInit;\n                module.error(error.legacyInit, parameters.onFirstLoad);\n              }\n              settings = $.extend(true, {}, $.fn.tab.settings, parameters);\n            }\n          }\n        },\n\n        initializeHistory: function() {\n          module.debug('Initializing page state');\n          if( $.address === undefined ) {\n            module.error(error.state);\n            return false;\n          }\n          else {\n            if(settings.historyType == 'state') {\n              module.debug('Using HTML5 to manage state');\n              if(settings.path !== false) {\n                $.address\n                  .history(true)\n                  .state(settings.path)\n                ;\n              }\n              else {\n                module.error(error.path);\n                return false;\n              }\n            }\n            $.address\n              .bind('change', module.event.history.change)\n            ;\n          }\n        },\n\n        event: {\n          click: function(event) {\n            var\n              tabPath = $(this).data(metadata.tab)\n            ;\n            if(tabPath !== undefined) {\n              if(settings.history) {\n                module.verbose('Updating page state', event);\n                $.address.value(tabPath);\n              }\n              else {\n                module.verbose('Changing tab', event);\n                module.changeTab(tabPath);\n              }\n              event.preventDefault();\n            }\n            else {\n              module.debug('No tab specified');\n            }\n          },\n          history: {\n            change: function(event) {\n              var\n                tabPath   = event.pathNames.join('/') || module.get.initialPath(),\n                pageTitle = settings.templates.determineTitle(tabPath) || false\n              ;\n              module.performance.display();\n              module.debug('History change event', tabPath, event);\n              historyEvent = event;\n              if(tabPath !== undefined) {\n                module.changeTab(tabPath);\n              }\n              if(pageTitle) {\n                $.address.title(pageTitle);\n              }\n            }\n          }\n        },\n\n        refresh: function() {\n          if(activeTabPath) {\n            module.debug('Refreshing tab', activeTabPath);\n            module.changeTab(activeTabPath);\n          }\n        },\n\n        cache: {\n\n          read: function(cacheKey) {\n            return (cacheKey !== undefined)\n              ? cache[cacheKey]\n              : false\n            ;\n          },\n          add: function(cacheKey, content) {\n            cacheKey = cacheKey || activeTabPath;\n            module.debug('Adding cached content for', cacheKey);\n            cache[cacheKey] = content;\n          },\n          remove: function(cacheKey) {\n            cacheKey = cacheKey || activeTabPath;\n            module.debug('Removing cached content for', cacheKey);\n            delete cache[cacheKey];\n          }\n        },\n\n        set: {\n          auto: function() {\n            var\n              url = (typeof settings.path == 'string')\n                ? settings.path.replace(/\\/$/, '') + '/{$tab}'\n                : '/{$tab}'\n            ;\n            module.verbose('Setting up automatic tab retrieval from server', url);\n            if($.isPlainObject(settings.apiSettings)) {\n              settings.apiSettings.url = url;\n            }\n            else {\n              settings.apiSettings = {\n                url: url\n              };\n            }\n          },\n          loading: function(tabPath) {\n            var\n              $tab      = module.get.tabElement(tabPath),\n              isLoading = $tab.hasClass(className.loading)\n            ;\n            if(!isLoading) {\n              module.verbose('Setting loading state for', $tab);\n              $tab\n                .addClass(className.loading)\n                .siblings($tabs)\n                  .removeClass(className.active + ' ' + className.loading)\n              ;\n              if($tab.length > 0) {\n                settings.onRequest.call($tab[0], tabPath);\n              }\n            }\n          },\n          state: function(state) {\n            $.address.value(state);\n          }\n        },\n\n        changeTab: function(tabPath) {\n          var\n            pushStateAvailable = (window.history && window.history.pushState),\n            shouldIgnoreLoad   = (pushStateAvailable && settings.ignoreFirstLoad && firstLoad),\n            remoteContent      = (settings.auto || $.isPlainObject(settings.apiSettings) ),\n            // only add default path if not remote content\n            pathArray = (remoteContent && !shouldIgnoreLoad)\n              ? module.utilities.pathToArray(tabPath)\n              : module.get.defaultPathArray(tabPath)\n          ;\n          tabPath = module.utilities.arrayToPath(pathArray);\n          $.each(pathArray, function(index, tab) {\n            var\n              currentPathArray   = pathArray.slice(0, index + 1),\n              currentPath        = module.utilities.arrayToPath(currentPathArray),\n\n              isTab              = module.is.tab(currentPath),\n              isLastIndex        = (index + 1 == pathArray.length),\n\n              $tab               = module.get.tabElement(currentPath),\n              $anchor,\n              nextPathArray,\n              nextPath,\n              isLastTab\n            ;\n            module.verbose('Looking for tab', tab);\n            if(isTab) {\n              module.verbose('Tab was found', tab);\n              // scope up\n              activeTabPath  = currentPath;\n              parameterArray = module.utilities.filterArray(pathArray, currentPathArray);\n\n              if(isLastIndex) {\n                isLastTab = true;\n              }\n              else {\n                nextPathArray = pathArray.slice(0, index + 2);\n                nextPath      = module.utilities.arrayToPath(nextPathArray);\n                isLastTab     = ( !module.is.tab(nextPath) );\n                if(isLastTab) {\n                  module.verbose('Tab parameters found', nextPathArray);\n                }\n              }\n              if(isLastTab && remoteContent) {\n                if(!shouldIgnoreLoad) {\n                  module.activate.navigation(currentPath);\n                  module.fetch.content(currentPath, tabPath);\n                }\n                else {\n                  module.debug('Ignoring remote content on first tab load', currentPath);\n                  firstLoad = false;\n                  module.cache.add(tabPath, $tab.html());\n                  module.activate.all(currentPath);\n                  settings.onFirstLoad.call($tab[0], currentPath, parameterArray, historyEvent);\n                  settings.onLoad.call($tab[0], currentPath, parameterArray, historyEvent);\n                }\n                return false;\n              }\n              else {\n                module.debug('Opened local tab', currentPath);\n                module.activate.all(currentPath);\n                if( !module.cache.read(currentPath) ) {\n                  module.cache.add(currentPath, true);\n                  module.debug('First time tab loaded calling tab init');\n                  settings.onFirstLoad.call($tab[0], currentPath, parameterArray, historyEvent);\n                }\n                settings.onLoad.call($tab[0], currentPath, parameterArray, historyEvent);\n              }\n\n            }\n            else if(tabPath.search('/') == -1 && tabPath !== '') {\n              // look for in page anchor\n              $anchor     = $('#' + tabPath + ', a[name=\"' + tabPath + '\"]');\n              currentPath = $anchor.closest('[data-tab]').data(metadata.tab);\n              $tab        = module.get.tabElement(currentPath);\n              // if anchor exists use parent tab\n              if($anchor && $anchor.length > 0 && currentPath) {\n                module.debug('Anchor link used, opening parent tab', $tab, $anchor);\n                if( !$tab.hasClass(className.active) ) {\n                  setTimeout(function() {\n                    module.scrollTo($anchor);\n                  }, 0);\n                }\n                module.activate.all(currentPath);\n                if( !module.cache.read(currentPath) ) {\n                  module.cache.add(currentPath, true);\n                  module.debug('First time tab loaded calling tab init');\n                  settings.onFirstLoad.call($tab[0], currentPath, parameterArray, historyEvent);\n                }\n                settings.onLoad.call($tab[0], currentPath, parameterArray, historyEvent);\n                return false;\n              }\n            }\n            else {\n              module.error(error.missingTab, $module, $context, currentPath);\n              return false;\n            }\n          });\n        },\n\n        scrollTo: function($element) {\n          var\n            scrollOffset = ($element && $element.length > 0)\n              ? $element.offset().top\n              : false\n          ;\n          if(scrollOffset !== false) {\n            module.debug('Forcing scroll to an in-page link in a hidden tab', scrollOffset, $element);\n            $(document).scrollTop(scrollOffset);\n          }\n        },\n\n        update: {\n          content: function(tabPath, html, evaluateScripts) {\n            var\n              $tab = module.get.tabElement(tabPath),\n              tab  = $tab[0]\n            ;\n            evaluateScripts = (evaluateScripts !== undefined)\n              ? evaluateScripts\n              : settings.evaluateScripts\n            ;\n            if(typeof settings.cacheType == 'string' && settings.cacheType.toLowerCase() == 'dom' && typeof html !== 'string') {\n              $tab\n                .empty()\n                .append($(html).clone(true))\n              ;\n            }\n            else {\n              if(evaluateScripts) {\n                module.debug('Updating HTML and evaluating inline scripts', tabPath, html);\n                $tab.html(html);\n              }\n              else {\n                module.debug('Updating HTML', tabPath, html);\n                tab.innerHTML = html;\n              }\n            }\n          }\n        },\n\n        fetch: {\n\n          content: function(tabPath, fullTabPath) {\n            var\n              $tab        = module.get.tabElement(tabPath),\n              apiSettings = {\n                dataType         : 'html',\n                encodeParameters : false,\n                on               : 'now',\n                cache            : settings.alwaysRefresh,\n                headers          : {\n                  'X-Remote': true\n                },\n                onSuccess : function(response) {\n                  if(settings.cacheType == 'response') {\n                    module.cache.add(fullTabPath, response);\n                  }\n                  module.update.content(tabPath, response);\n                  if(tabPath == activeTabPath) {\n                    module.debug('Content loaded', tabPath);\n                    module.activate.tab(tabPath);\n                  }\n                  else {\n                    module.debug('Content loaded in background', tabPath);\n                  }\n                  settings.onFirstLoad.call($tab[0], tabPath, parameterArray, historyEvent);\n                  settings.onLoad.call($tab[0], tabPath, parameterArray, historyEvent);\n\n                  if(settings.loadOnce) {\n                    module.cache.add(fullTabPath, true);\n                  }\n                  else if(typeof settings.cacheType == 'string' && settings.cacheType.toLowerCase() == 'dom' && $tab.children().length > 0) {\n                    setTimeout(function() {\n                      var\n                        $clone = $tab.children().clone(true)\n                      ;\n                      $clone = $clone.not('script');\n                      module.cache.add(fullTabPath, $clone);\n                    }, 0);\n                  }\n                  else {\n                    module.cache.add(fullTabPath, $tab.html());\n                  }\n                },\n                urlData: {\n                  tab: fullTabPath\n                }\n              },\n              request         = $tab.api('get request') || false,\n              existingRequest = ( request && request.state() === 'pending' ),\n              requestSettings,\n              cachedContent\n            ;\n\n            fullTabPath   = fullTabPath || tabPath;\n            cachedContent = module.cache.read(fullTabPath);\n\n\n            if(settings.cache && cachedContent) {\n              module.activate.tab(tabPath);\n              module.debug('Adding cached content', fullTabPath);\n              if(!settings.loadOnce) {\n                if(settings.evaluateScripts == 'once') {\n                  module.update.content(tabPath, cachedContent, false);\n                }\n                else {\n                  module.update.content(tabPath, cachedContent);\n                }\n              }\n              settings.onLoad.call($tab[0], tabPath, parameterArray, historyEvent);\n            }\n            else if(existingRequest) {\n              module.set.loading(tabPath);\n              module.debug('Content is already loading', fullTabPath);\n            }\n            else if($.api !== undefined) {\n              requestSettings = $.extend(true, {}, settings.apiSettings, apiSettings);\n              module.debug('Retrieving remote content', fullTabPath, requestSettings);\n              module.set.loading(tabPath);\n              $tab.api(requestSettings);\n            }\n            else {\n              module.error(error.api);\n            }\n          }\n        },\n\n        activate: {\n          all: function(tabPath) {\n            module.activate.tab(tabPath);\n            module.activate.navigation(tabPath);\n          },\n          tab: function(tabPath) {\n            var\n              $tab          = module.get.tabElement(tabPath),\n              $deactiveTabs = (settings.deactivate == 'siblings')\n                ? $tab.siblings($tabs)\n                : $tabs.not($tab),\n              isActive      = $tab.hasClass(className.active)\n            ;\n            module.verbose('Showing tab content for', $tab);\n            if(!isActive) {\n              $tab\n                .addClass(className.active)\n              ;\n              $deactiveTabs\n                .removeClass(className.active + ' ' + className.loading)\n              ;\n              if($tab.length > 0) {\n                settings.onVisible.call($tab[0], tabPath);\n              }\n            }\n          },\n          navigation: function(tabPath) {\n            var\n              $navigation         = module.get.navElement(tabPath),\n              $deactiveNavigation = (settings.deactivate == 'siblings')\n                ? $navigation.siblings($allModules)\n                : $allModules.not($navigation),\n              isActive    = $navigation.hasClass(className.active)\n            ;\n            module.verbose('Activating tab navigation for', $navigation, tabPath);\n            if(!isActive) {\n              $navigation\n                .addClass(className.active)\n              ;\n              $deactiveNavigation\n                .removeClass(className.active + ' ' + className.loading)\n              ;\n            }\n          }\n        },\n\n        deactivate: {\n          all: function() {\n            module.deactivate.navigation();\n            module.deactivate.tabs();\n          },\n          navigation: function() {\n            $allModules\n              .removeClass(className.active)\n            ;\n          },\n          tabs: function() {\n            $tabs\n              .removeClass(className.active + ' ' + className.loading)\n            ;\n          }\n        },\n\n        is: {\n          tab: function(tabName) {\n            return (tabName !== undefined)\n              ? ( module.get.tabElement(tabName).length > 0 )\n              : false\n            ;\n          }\n        },\n\n        get: {\n          initialPath: function() {\n            return $allModules.eq(0).data(metadata.tab) || $tabs.eq(0).data(metadata.tab);\n          },\n          path: function() {\n            return $.address.value();\n          },\n          // adds default tabs to tab path\n          defaultPathArray: function(tabPath) {\n            return module.utilities.pathToArray( module.get.defaultPath(tabPath) );\n          },\n          defaultPath: function(tabPath) {\n            var\n              $defaultNav = $allModules.filter('[data-' + metadata.tab + '^=\"' + tabPath + '/\"]').eq(0),\n              defaultTab  = $defaultNav.data(metadata.tab) || false\n            ;\n            if( defaultTab ) {\n              module.debug('Found default tab', defaultTab);\n              if(recursionDepth < settings.maxDepth) {\n                recursionDepth++;\n                return module.get.defaultPath(defaultTab);\n              }\n              module.error(error.recursion);\n            }\n            else {\n              module.debug('No default tabs found for', tabPath, $tabs);\n            }\n            recursionDepth = 0;\n            return tabPath;\n          },\n          navElement: function(tabPath) {\n            tabPath = tabPath || activeTabPath;\n            return $allModules.filter('[data-' + metadata.tab + '=\"' + tabPath + '\"]');\n          },\n          tabElement: function(tabPath) {\n            var\n              $fullPathTab,\n              $simplePathTab,\n              tabPathArray,\n              lastTab\n            ;\n            tabPath        = tabPath || activeTabPath;\n            tabPathArray   = module.utilities.pathToArray(tabPath);\n            lastTab        = module.utilities.last(tabPathArray);\n            $fullPathTab   = $tabs.filter('[data-' + metadata.tab + '=\"' + tabPath + '\"]');\n            $simplePathTab = $tabs.filter('[data-' + metadata.tab + '=\"' + lastTab + '\"]');\n            return ($fullPathTab.length > 0)\n              ? $fullPathTab\n              : $simplePathTab\n            ;\n          },\n          tab: function() {\n            return activeTabPath;\n          }\n        },\n\n        utilities: {\n          filterArray: function(keepArray, removeArray) {\n            return $.grep(keepArray, function(keepValue) {\n              return ( $.inArray(keepValue, removeArray) == -1);\n            });\n          },\n          last: function(array) {\n            return $.isArray(array)\n              ? array[ array.length - 1]\n              : false\n            ;\n          },\n          pathToArray: function(pathName) {\n            if(pathName === undefined) {\n              pathName = activeTabPath;\n            }\n            return typeof pathName == 'string'\n              ? pathName.split('/')\n              : [pathName]\n            ;\n          },\n          arrayToPath: function(pathArray) {\n            return $.isArray(pathArray)\n              ? pathArray.join('/')\n              : false\n            ;\n          }\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n\n};\n\n// shortcut for tabbed content with no defined navigation\n$.tab = function() {\n  $(window).tab.apply(this, arguments);\n};\n\n$.fn.tab.settings = {\n\n  name            : 'Tab',\n  namespace       : 'tab',\n\n  silent          : false,\n  debug           : false,\n  verbose         : false,\n  performance     : true,\n\n  auto            : false,      // uses pjax style endpoints fetching content from same url with remote-content headers\n  history         : false,      // use browser history\n  historyType     : 'hash',     // #/ or html5 state\n  path            : false,      // base path of url\n\n  context         : false,      // specify a context that tabs must appear inside\n  childrenOnly    : false,      // use only tabs that are children of context\n  maxDepth        : 25,         // max depth a tab can be nested\n\n  deactivate      : 'siblings', // whether tabs should deactivate sibling menu elements or all elements initialized together\n\n  alwaysRefresh   : false,      // load tab content new every tab click\n  cache           : true,       // cache the content requests to pull locally\n  loadOnce        : false,      // Whether tab data should only be loaded once when using remote content\n  cacheType       : 'response', // Whether to cache exact response, or to html cache contents after scripts execute\n  ignoreFirstLoad : false,      // don't load remote content on first load\n\n  apiSettings     : false,      // settings for api call\n  evaluateScripts : 'once',     // whether inline scripts should be parsed (true/false/once). Once will not re-evaluate on cached content\n\n  onFirstLoad : function(tabPath, parameterArray, historyEvent) {}, // called first time loaded\n  onLoad      : function(tabPath, parameterArray, historyEvent) {}, // called on every load\n  onVisible   : function(tabPath, parameterArray, historyEvent) {}, // called every time tab visible\n  onRequest   : function(tabPath, parameterArray, historyEvent) {}, // called ever time a tab beings loading remote content\n\n  templates : {\n    determineTitle: function(tabArray) {} // returns page title for path\n  },\n\n  error: {\n    api        : 'You attempted to load content without API module',\n    method     : 'The method you called is not defined',\n    missingTab : 'Activated tab cannot be found. Tabs are case-sensitive.',\n    noContent  : 'The tab you specified is missing a content url.',\n    path       : 'History enabled, but no path was specified',\n    recursion  : 'Max recursive depth reached',\n    legacyInit : 'onTabInit has been renamed to onFirstLoad in 2.0, please adjust your code.',\n    legacyLoad : 'onTabLoad has been renamed to onLoad in 2.0. Please adjust your code',\n    state      : 'History requires Asual\\'s Address library <https://github.com/asual/jquery-address>'\n  },\n\n  metadata : {\n    tab    : 'tab',\n    loaded : 'loaded',\n    promise: 'promise'\n  },\n\n  className   : {\n    loading : 'loading',\n    active  : 'active'\n  },\n\n  selector    : {\n    tabs : '.ui.tab',\n    ui   : '.ui'\n  }\n\n};\n\n})( jQuery, window, document );\n","/*!\n * # Semantic UI - Transition\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.transition = function() {\n  var\n    $allModules     = $(this),\n    moduleSelector  = $allModules.selector || '',\n\n    time            = new Date().getTime(),\n    performance     = [],\n\n    moduleArguments = arguments,\n    query           = moduleArguments[0],\n    queryArguments  = [].slice.call(arguments, 1),\n    methodInvoked   = (typeof query === 'string'),\n\n    requestAnimationFrame = window.requestAnimationFrame\n      || window.mozRequestAnimationFrame\n      || window.webkitRequestAnimationFrame\n      || window.msRequestAnimationFrame\n      || function(callback) { setTimeout(callback, 0); },\n\n    returnedValue\n  ;\n  $allModules\n    .each(function(index) {\n      var\n        $module  = $(this),\n        element  = this,\n\n        // set at run time\n        settings,\n        instance,\n\n        error,\n        className,\n        metadata,\n        animationEnd,\n        animationName,\n\n        namespace,\n        moduleNamespace,\n        eventNamespace,\n        module\n      ;\n\n      module = {\n\n        initialize: function() {\n\n          // get full settings\n          settings        = module.get.settings.apply(element, moduleArguments);\n\n          // shorthand\n          className       = settings.className;\n          error           = settings.error;\n          metadata        = settings.metadata;\n\n          // define namespace\n          eventNamespace  = '.' + settings.namespace;\n          moduleNamespace = 'module-' + settings.namespace;\n          instance        = $module.data(moduleNamespace) || module;\n\n          // get vendor specific events\n          animationEnd    = module.get.animationEndEvent();\n\n          if(methodInvoked) {\n            methodInvoked = module.invoke(query);\n          }\n\n          // method not invoked, lets run an animation\n          if(methodInvoked === false) {\n            module.verbose('Converted arguments into settings object', settings);\n            if(settings.interval) {\n              module.delay(settings.animate);\n            }\n            else  {\n              module.animate();\n            }\n            module.instantiate();\n          }\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, instance)\n          ;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous module for', element);\n          $module\n            .removeData(moduleNamespace)\n          ;\n        },\n\n        refresh: function() {\n          module.verbose('Refreshing display type on next animation');\n          delete module.displayType;\n        },\n\n        forceRepaint: function() {\n          module.verbose('Forcing element repaint');\n          var\n            $parentElement = $module.parent(),\n            $nextElement = $module.next()\n          ;\n          if($nextElement.length === 0) {\n            $module.detach().appendTo($parentElement);\n          }\n          else {\n            $module.detach().insertBefore($nextElement);\n          }\n        },\n\n        repaint: function() {\n          module.verbose('Repainting element');\n          var\n            fakeAssignment = element.offsetWidth\n          ;\n        },\n\n        delay: function(interval) {\n          var\n            direction = module.get.animationDirection(),\n            shouldReverse,\n            delay\n          ;\n          if(!direction) {\n            direction = module.can.transition()\n              ? module.get.direction()\n              : 'static'\n            ;\n          }\n          interval = (interval !== undefined)\n            ? interval\n            : settings.interval\n          ;\n          shouldReverse = (settings.reverse == 'auto' && direction == className.outward);\n          delay = (shouldReverse || settings.reverse == true)\n            ? ($allModules.length - index) * settings.interval\n            : index * settings.interval\n          ;\n          module.debug('Delaying animation by', delay);\n          setTimeout(module.animate, delay);\n        },\n\n        animate: function(overrideSettings) {\n          settings = overrideSettings || settings;\n          if(!module.is.supported()) {\n            module.error(error.support);\n            return false;\n          }\n          module.debug('Preparing animation', settings.animation);\n          if(module.is.animating()) {\n            if(settings.queue) {\n              if(!settings.allowRepeats && module.has.direction() && module.is.occurring() && module.queuing !== true) {\n                module.debug('Animation is currently occurring, preventing queueing same animation', settings.animation);\n              }\n              else {\n                module.queue(settings.animation);\n              }\n              return false;\n            }\n            else if(!settings.allowRepeats && module.is.occurring()) {\n              module.debug('Animation is already occurring, will not execute repeated animation', settings.animation);\n              return false;\n            }\n            else {\n              module.debug('New animation started, completing previous early', settings.animation);\n              instance.complete();\n            }\n          }\n          if( module.can.animate() ) {\n            module.set.animating(settings.animation);\n          }\n          else {\n            module.error(error.noAnimation, settings.animation, element);\n          }\n        },\n\n        reset: function() {\n          module.debug('Resetting animation to beginning conditions');\n          module.remove.animationCallbacks();\n          module.restore.conditions();\n          module.remove.animating();\n        },\n\n        queue: function(animation) {\n          module.debug('Queueing animation of', animation);\n          module.queuing = true;\n          $module\n            .one(animationEnd + '.queue' + eventNamespace, function() {\n              module.queuing = false;\n              module.repaint();\n              module.animate.apply(this, settings);\n            })\n          ;\n        },\n\n        complete: function (event) {\n          module.debug('Animation complete', settings.animation);\n          module.remove.completeCallback();\n          module.remove.failSafe();\n          if(!module.is.looping()) {\n            if( module.is.outward() ) {\n              module.verbose('Animation is outward, hiding element');\n              module.restore.conditions();\n              module.hide();\n            }\n            else if( module.is.inward() ) {\n              module.verbose('Animation is outward, showing element');\n              module.restore.conditions();\n              module.show();\n            }\n            else {\n              module.verbose('Static animation completed');\n              module.restore.conditions();\n              settings.onComplete.call(element);\n            }\n          }\n        },\n\n        force: {\n          visible: function() {\n            var\n              style          = $module.attr('style'),\n              userStyle      = module.get.userStyle(),\n              displayType    = module.get.displayType(),\n              overrideStyle  = userStyle + 'display: ' + displayType + ' !important;',\n              currentDisplay = $module.css('display'),\n              emptyStyle     = (style === undefined || style === '')\n            ;\n            if(currentDisplay !== displayType) {\n              module.verbose('Overriding default display to show element', displayType);\n              $module\n                .attr('style', overrideStyle)\n              ;\n            }\n            else if(emptyStyle) {\n              $module.removeAttr('style');\n            }\n          },\n          hidden: function() {\n            var\n              style          = $module.attr('style'),\n              currentDisplay = $module.css('display'),\n              emptyStyle     = (style === undefined || style === '')\n            ;\n            if(currentDisplay !== 'none' && !module.is.hidden()) {\n              module.verbose('Overriding default display to hide element');\n              $module\n                .css('display', 'none')\n              ;\n            }\n            else if(emptyStyle) {\n              $module\n                .removeAttr('style')\n              ;\n            }\n          }\n        },\n\n        has: {\n          direction: function(animation) {\n            var\n              hasDirection = false\n            ;\n            animation = animation || settings.animation;\n            if(typeof animation === 'string') {\n              animation = animation.split(' ');\n              $.each(animation, function(index, word){\n                if(word === className.inward || word === className.outward) {\n                  hasDirection = true;\n                }\n              });\n            }\n            return hasDirection;\n          },\n          inlineDisplay: function() {\n            var\n              style = $module.attr('style') || ''\n            ;\n            return $.isArray(style.match(/display.*?;/, ''));\n          }\n        },\n\n        set: {\n          animating: function(animation) {\n            var\n              animationClass,\n              direction\n            ;\n            // remove previous callbacks\n            module.remove.completeCallback();\n\n            // determine exact animation\n            animation      = animation || settings.animation;\n            animationClass = module.get.animationClass(animation);\n\n            // save animation class in cache to restore class names\n            module.save.animation(animationClass);\n\n            // override display if necessary so animation appears visibly\n            module.force.visible();\n\n            module.remove.hidden();\n            module.remove.direction();\n\n            module.start.animation(animationClass);\n\n          },\n          duration: function(animationName, duration) {\n            duration = duration || settings.duration;\n            duration = (typeof duration == 'number')\n              ? duration + 'ms'\n              : duration\n            ;\n            if(duration || duration === 0) {\n              module.verbose('Setting animation duration', duration);\n              $module\n                .css({\n                  'animation-duration':  duration\n                })\n              ;\n            }\n          },\n          direction: function(direction) {\n            direction = direction || module.get.direction();\n            if(direction == className.inward) {\n              module.set.inward();\n            }\n            else {\n              module.set.outward();\n            }\n          },\n          looping: function() {\n            module.debug('Transition set to loop');\n            $module\n              .addClass(className.looping)\n            ;\n          },\n          hidden: function() {\n            $module\n              .addClass(className.transition)\n              .addClass(className.hidden)\n            ;\n          },\n          inward: function() {\n            module.debug('Setting direction to inward');\n            $module\n              .removeClass(className.outward)\n              .addClass(className.inward)\n            ;\n          },\n          outward: function() {\n            module.debug('Setting direction to outward');\n            $module\n              .removeClass(className.inward)\n              .addClass(className.outward)\n            ;\n          },\n          visible: function() {\n            $module\n              .addClass(className.transition)\n              .addClass(className.visible)\n            ;\n          }\n        },\n\n        start: {\n          animation: function(animationClass) {\n            animationClass = animationClass || module.get.animationClass();\n            module.debug('Starting tween', animationClass);\n            $module\n              .addClass(animationClass)\n              .one(animationEnd + '.complete' + eventNamespace, module.complete)\n            ;\n            if(settings.useFailSafe) {\n              module.add.failSafe();\n            }\n            module.set.duration(settings.duration);\n            settings.onStart.call(element);\n          }\n        },\n\n        save: {\n          animation: function(animation) {\n            if(!module.cache) {\n              module.cache = {};\n            }\n            module.cache.animation = animation;\n          },\n          displayType: function(displayType) {\n            if(displayType !== 'none') {\n              $module.data(metadata.displayType, displayType);\n            }\n          },\n          transitionExists: function(animation, exists) {\n            $.fn.transition.exists[animation] = exists;\n            module.verbose('Saving existence of transition', animation, exists);\n          }\n        },\n\n        restore: {\n          conditions: function() {\n            var\n              animation = module.get.currentAnimation()\n            ;\n            if(animation) {\n              $module\n                .removeClass(animation)\n              ;\n              module.verbose('Removing animation class', module.cache);\n            }\n            module.remove.duration();\n          }\n        },\n\n        add: {\n          failSafe: function() {\n            var\n              duration = module.get.duration()\n            ;\n            module.timer = setTimeout(function() {\n              $module.triggerHandler(animationEnd);\n            }, duration + settings.failSafeDelay);\n            module.verbose('Adding fail safe timer', module.timer);\n          }\n        },\n\n        remove: {\n          animating: function() {\n            $module.removeClass(className.animating);\n          },\n          animationCallbacks: function() {\n            module.remove.queueCallback();\n            module.remove.completeCallback();\n          },\n          queueCallback: function() {\n            $module.off('.queue' + eventNamespace);\n          },\n          completeCallback: function() {\n            $module.off('.complete' + eventNamespace);\n          },\n          display: function() {\n            $module.css('display', '');\n          },\n          direction: function() {\n            $module\n              .removeClass(className.inward)\n              .removeClass(className.outward)\n            ;\n          },\n          duration: function() {\n            $module\n              .css('animation-duration', '')\n            ;\n          },\n          failSafe: function() {\n            module.verbose('Removing fail safe timer', module.timer);\n            if(module.timer) {\n              clearTimeout(module.timer);\n            }\n          },\n          hidden: function() {\n            $module.removeClass(className.hidden);\n          },\n          visible: function() {\n            $module.removeClass(className.visible);\n          },\n          looping: function() {\n            module.debug('Transitions are no longer looping');\n            if( module.is.looping() ) {\n              module.reset();\n              $module\n                .removeClass(className.looping)\n              ;\n            }\n          },\n          transition: function() {\n            $module\n              .removeClass(className.visible)\n              .removeClass(className.hidden)\n            ;\n          }\n        },\n        get: {\n          settings: function(animation, duration, onComplete) {\n            // single settings object\n            if(typeof animation == 'object') {\n              return $.extend(true, {}, $.fn.transition.settings, animation);\n            }\n            // all arguments provided\n            else if(typeof onComplete == 'function') {\n              return $.extend({}, $.fn.transition.settings, {\n                animation  : animation,\n                onComplete : onComplete,\n                duration   : duration\n              });\n            }\n            // only duration provided\n            else if(typeof duration == 'string' || typeof duration == 'number') {\n              return $.extend({}, $.fn.transition.settings, {\n                animation : animation,\n                duration  : duration\n              });\n            }\n            // duration is actually settings object\n            else if(typeof duration == 'object') {\n              return $.extend({}, $.fn.transition.settings, duration, {\n                animation : animation\n              });\n            }\n            // duration is actually callback\n            else if(typeof duration == 'function') {\n              return $.extend({}, $.fn.transition.settings, {\n                animation  : animation,\n                onComplete : duration\n              });\n            }\n            // only animation provided\n            else {\n              return $.extend({}, $.fn.transition.settings, {\n                animation : animation\n              });\n            }\n          },\n          animationClass: function(animation) {\n            var\n              animationClass = animation || settings.animation,\n              directionClass = (module.can.transition() && !module.has.direction())\n                ? module.get.direction() + ' '\n                : ''\n            ;\n            return className.animating + ' '\n              + className.transition + ' '\n              + directionClass\n              + animationClass\n            ;\n          },\n          currentAnimation: function() {\n            return (module.cache && module.cache.animation !== undefined)\n              ? module.cache.animation\n              : false\n            ;\n          },\n          currentDirection: function() {\n            return module.is.inward()\n              ? className.inward\n              : className.outward\n            ;\n          },\n          direction: function() {\n            return module.is.hidden() || !module.is.visible()\n              ? className.inward\n              : className.outward\n            ;\n          },\n          animationDirection: function(animation) {\n            var\n              direction\n            ;\n            animation = animation || settings.animation;\n            if(typeof animation === 'string') {\n              animation = animation.split(' ');\n              // search animation name for out/in class\n              $.each(animation, function(index, word){\n                if(word === className.inward) {\n                  direction = className.inward;\n                }\n                else if(word === className.outward) {\n                  direction = className.outward;\n                }\n              });\n            }\n            // return found direction\n            if(direction) {\n              return direction;\n            }\n            return false;\n          },\n          duration: function(duration) {\n            duration = duration || settings.duration;\n            if(duration === false) {\n              duration = $module.css('animation-duration') || 0;\n            }\n            return (typeof duration === 'string')\n              ? (duration.indexOf('ms') > -1)\n                ? parseFloat(duration)\n                : parseFloat(duration) * 1000\n              : duration\n            ;\n          },\n          displayType: function(shouldDetermine) {\n            shouldDetermine = (shouldDetermine !== undefined)\n              ? shouldDetermine\n              : true\n            ;\n            if(settings.displayType) {\n              return settings.displayType;\n            }\n            if(shouldDetermine && $module.data(metadata.displayType) === undefined) {\n              // create fake element to determine display state\n              module.can.transition(true);\n            }\n            return $module.data(metadata.displayType);\n          },\n          userStyle: function(style) {\n            style = style || $module.attr('style') || '';\n            return style.replace(/display.*?;/, '');\n          },\n          transitionExists: function(animation) {\n            return $.fn.transition.exists[animation];\n          },\n          animationStartEvent: function() {\n            var\n              element     = document.createElement('div'),\n              animations  = {\n                'animation'       :'animationstart',\n                'OAnimation'      :'oAnimationStart',\n                'MozAnimation'    :'mozAnimationStart',\n                'WebkitAnimation' :'webkitAnimationStart'\n              },\n              animation\n            ;\n            for(animation in animations){\n              if( element.style[animation] !== undefined ){\n                return animations[animation];\n              }\n            }\n            return false;\n          },\n          animationEndEvent: function() {\n            var\n              element     = document.createElement('div'),\n              animations  = {\n                'animation'       :'animationend',\n                'OAnimation'      :'oAnimationEnd',\n                'MozAnimation'    :'mozAnimationEnd',\n                'WebkitAnimation' :'webkitAnimationEnd'\n              },\n              animation\n            ;\n            for(animation in animations){\n              if( element.style[animation] !== undefined ){\n                return animations[animation];\n              }\n            }\n            return false;\n          }\n\n        },\n\n        can: {\n          transition: function(forced) {\n            var\n              animation         = settings.animation,\n              transitionExists  = module.get.transitionExists(animation),\n              displayType       = module.get.displayType(false),\n              elementClass,\n              tagName,\n              $clone,\n              currentAnimation,\n              inAnimation,\n              directionExists\n            ;\n            if( transitionExists === undefined || forced) {\n              module.verbose('Determining whether animation exists');\n              elementClass = $module.attr('class');\n              tagName      = $module.prop('tagName');\n\n              $clone = $('<' + tagName + ' />').addClass( elementClass ).insertAfter($module);\n              currentAnimation = $clone\n                .addClass(animation)\n                .removeClass(className.inward)\n                .removeClass(className.outward)\n                .addClass(className.animating)\n                .addClass(className.transition)\n                .css('animationName')\n              ;\n              inAnimation = $clone\n                .addClass(className.inward)\n                .css('animationName')\n              ;\n              if(!displayType) {\n                displayType = $clone\n                  .attr('class', elementClass)\n                  .removeAttr('style')\n                  .removeClass(className.hidden)\n                  .removeClass(className.visible)\n                  .show()\n                  .css('display')\n                ;\n                module.verbose('Determining final display state', displayType);\n                module.save.displayType(displayType);\n              }\n\n              $clone.remove();\n              if(currentAnimation != inAnimation) {\n                module.debug('Direction exists for animation', animation);\n                directionExists = true;\n              }\n              else if(currentAnimation == 'none' || !currentAnimation) {\n                module.debug('No animation defined in css', animation);\n                return;\n              }\n              else {\n                module.debug('Static animation found', animation, displayType);\n                directionExists = false;\n              }\n              module.save.transitionExists(animation, directionExists);\n            }\n            return (transitionExists !== undefined)\n              ? transitionExists\n              : directionExists\n            ;\n          },\n          animate: function() {\n            // can transition does not return a value if animation does not exist\n            return (module.can.transition() !== undefined);\n          }\n        },\n\n        is: {\n          animating: function() {\n            return $module.hasClass(className.animating);\n          },\n          inward: function() {\n            return $module.hasClass(className.inward);\n          },\n          outward: function() {\n            return $module.hasClass(className.outward);\n          },\n          looping: function() {\n            return $module.hasClass(className.looping);\n          },\n          occurring: function(animation) {\n            animation = animation || settings.animation;\n            animation = '.' + animation.replace(' ', '.');\n            return ( $module.filter(animation).length > 0 );\n          },\n          visible: function() {\n            return $module.is(':visible');\n          },\n          hidden: function() {\n            return $module.css('visibility') === 'hidden';\n          },\n          supported: function() {\n            return(animationEnd !== false);\n          }\n        },\n\n        hide: function() {\n          module.verbose('Hiding element');\n          if( module.is.animating() ) {\n            module.reset();\n          }\n          element.blur(); // IE will trigger focus change if element is not blurred before hiding\n          module.remove.display();\n          module.remove.visible();\n          module.set.hidden();\n          module.force.hidden();\n          settings.onHide.call(element);\n          settings.onComplete.call(element);\n          // module.repaint();\n        },\n\n        show: function(display) {\n          module.verbose('Showing element', display);\n          module.remove.hidden();\n          module.set.visible();\n          module.force.visible();\n          settings.onShow.call(element);\n          settings.onComplete.call(element);\n          // module.repaint();\n        },\n\n        toggle: function() {\n          if( module.is.visible() ) {\n            module.hide();\n          }\n          else {\n            module.show();\n          }\n        },\n\n        stop: function() {\n          module.debug('Stopping current animation');\n          $module.triggerHandler(animationEnd);\n        },\n\n        stopAll: function() {\n          module.debug('Stopping all animation');\n          module.remove.queueCallback();\n          $module.triggerHandler(animationEnd);\n        },\n\n        clear: {\n          queue: function() {\n            module.debug('Clearing animation queue');\n            module.remove.queueCallback();\n          }\n        },\n\n        enable: function() {\n          module.verbose('Starting animation');\n          $module.removeClass(className.disabled);\n        },\n\n        disable: function() {\n          module.debug('Stopping animation');\n          $module.addClass(className.disabled);\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        // modified for transition to return invoke success\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return (found !== undefined)\n            ? found\n            : false\n          ;\n        }\n      };\n      module.initialize();\n    })\n  ;\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n// Records if CSS transition is available\n$.fn.transition.exists = {};\n\n$.fn.transition.settings = {\n\n  // module info\n  name          : 'Transition',\n\n  // hide all output from this component regardless of other settings\n  silent        : false,\n\n  // debug content outputted to console\n  debug         : false,\n\n  // verbose debug output\n  verbose       : false,\n\n  // performance data output\n  performance   : true,\n\n  // event namespace\n  namespace     : 'transition',\n\n  // delay between animations in group\n  interval      : 0,\n\n  // whether group animations should be reversed\n  reverse       : 'auto',\n\n  // animation callback event\n  onStart       : function() {},\n  onComplete    : function() {},\n  onShow        : function() {},\n  onHide        : function() {},\n\n  // whether timeout should be used to ensure callback fires in cases animationend does not\n  useFailSafe   : true,\n\n  // delay in ms for fail safe\n  failSafeDelay : 100,\n\n  // whether EXACT animation can occur twice in a row\n  allowRepeats  : false,\n\n  // Override final display type on visible\n  displayType   : false,\n\n  // animation duration\n  animation     : 'fade',\n  duration      : false,\n\n  // new animations will occur after previous ones\n  queue         : true,\n\n  metadata : {\n    displayType: 'display'\n  },\n\n  className   : {\n    animating  : 'animating',\n    disabled   : 'disabled',\n    hidden     : 'hidden',\n    inward     : 'in',\n    loading    : 'loading',\n    looping    : 'looping',\n    outward    : 'out',\n    transition : 'transition',\n    visible    : 'visible'\n  },\n\n  // possible errors\n  error: {\n    noAnimation : 'Element is no longer attached to DOM. Unable to animate.  Use silent setting to surpress this warning in production.',\n    repeated    : 'That animation is already occurring, cancelling repeated animation',\n    method      : 'The method you called is not defined',\n    support     : 'This browser does not support CSS animations'\n  }\n\n};\n\n\n})( jQuery, window, document );\n","/*******************************\n            Set-up\n*******************************/\n\nvar\n  gulp         = require('gulp-help')(require('gulp')),\n\n  // read user config to know what task to load\n  config       = require('./tasks/config/user'),\n\n  // watch changes\n  watch        = require('./tasks/watch'),\n\n  // build all files\n  build        = require('./tasks/build'),\n  buildJS      = require('./tasks/build/javascript'),\n  buildCSS     = require('./tasks/build/css'),\n  buildAssets  = require('./tasks/build/assets'),\n\n  // utility\n  clean        = require('./tasks/clean'),\n  version      = require('./tasks/version'),\n\n  // docs tasks\n  serveDocs    = require('./tasks/docs/serve'),\n  buildDocs    = require('./tasks/docs/build'),\n\n  // rtl\n  buildRTL     = require('./tasks/rtl/build'),\n  watchRTL     = require('./tasks/rtl/watch')\n;\n\n\n/*******************************\n             Tasks\n*******************************/\n\ngulp.task('default', false, [\n  'watch'\n]);\n\ngulp.task('watch', 'Watch for site/theme changes', watch);\n\ngulp.task('build', 'Builds all files from source', build);\ngulp.task('build-javascript', 'Builds all javascript from source', buildJS);\ngulp.task('build-css', 'Builds all css from source', buildCSS);\ngulp.task('build-assets', 'Copies all assets from source', buildAssets);\n\ngulp.task('clean', 'Clean dist folder', clean);\ngulp.task('version', 'Displays current version of Semantic', version);\n\n/*--------------\n      Docs\n---------------*/\n\n/*\n  Lets you serve files to a local documentation instance\n  https://github.com/Semantic-Org/Semantic-UI-Docs/\n*/\n\ngulp.task('serve-docs', 'Serve file changes to SUI Docs', serveDocs);\ngulp.task('build-docs', 'Build all files and add to SUI Docs', buildDocs);\n\n\n/*--------------\n      RTL\n---------------*/\n\nif(config.rtl) {\n  gulp.task('watch-rtl', 'Watch files as RTL', watchRTL);\n  gulp.task('build-rtl', 'Build all files as RTL', buildRTL);\n}\n"]}}]