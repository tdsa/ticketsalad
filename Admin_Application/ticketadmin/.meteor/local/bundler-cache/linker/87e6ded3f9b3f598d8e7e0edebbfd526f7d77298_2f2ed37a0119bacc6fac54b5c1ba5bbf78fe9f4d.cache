[{"type":"js","data":"/* Imports for global scope */\n\nMongoInternals = Package.mongo.MongoInternals;\nMongo = Package.mongo.Mongo;\nReactiveVar = Package['reactive-var'].ReactiveVar;\nTracker = Package.tracker.Tracker;\nDeps = Package.tracker.Deps;\nECMAScript = Package.ecmascript.ECMAScript;\nLaunchScreen = Package['launch-screen'].LaunchScreen;\nMeteor = Package.meteor.Meteor;\nglobal = Package.meteor.global;\nmeteorEnv = Package.meteor.meteorEnv;\nWebApp = Package.webapp.WebApp;\nWebAppInternals = Package.webapp.WebAppInternals;\nmain = Package.webapp.main;\nDDP = Package['ddp-client'].DDP;\nDDPServer = Package['ddp-server'].DDPServer;\nmeteorInstall = Package.modules.meteorInstall;\nmeteorBabelHelpers = Package['babel-runtime'].meteorBabelHelpers;\nPromise = Package.promise.Promise;\nAutoupdate = Package.autoupdate.Autoupdate;\n\n","servePath":"/global-imports.js"},{"type":"js","data":"var require = meteorInstall({\"lib\":{\"collections.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// lib/collections.js                                                                                                  //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.export({\n  Events: () => Events\n});\nlet Mongo;\nmodule.watch(require(\"meteor/mongo\"), {\n  Mongo(v) {\n    Mongo = v;\n  }\n\n}, 0);\nconst Events = new Mongo.Collection('events');\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"semantic\":{\"tasks\":{\"config\":{\"admin\":{\"templates\":{\"component-package.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/config/admin/templates/component-package.js                                                          //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nPackage.describe({\n  name: 'semantic:ui-{component}',\n  summary: 'Semantic UI - {Component}: Single component release',\n  version: '{version}',\n  git: 'git://github.com/Semantic-Org/UI-{Component}.git'\n});\nPackage.onUse(function (api) {\n  api.versionsFrom('1.0');\n  api.addFiles([{\n    files\n  }], 'client');\n});\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"css-package.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/config/admin/templates/css-package.js                                                                //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar where = 'client' // Adds files only to the client\n;\nPackage.describe({\n  name: 'semantic:ui-css',\n  summary: 'Semantic UI - CSS Release of Semantic UI',\n  version: '{version}',\n  git: 'git://github.com/Semantic-Org/Semantic-UI-CSS.git'\n});\nPackage.onUse(function (api) {\n  api.versionsFrom('1.0');\n  api.use('jquery', 'client');\n  api.addFiles([// icons\n  'themes/default/assets/fonts/icons.eot', 'themes/default/assets/fonts/icons.svg', 'themes/default/assets/fonts/icons.ttf', 'themes/default/assets/fonts/icons.woff', 'themes/default/assets/fonts/icons.woff2', // flags\n  'themes/default/assets/images/flags.png', // release\n  'semantic.css', 'semantic.js'], 'client');\n});\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"less-package.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/config/admin/templates/less-package.js                                                               //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar where = 'client' // Adds files only to the client\n;\nPackage.describe({\n  name: 'semantic:ui',\n  summary: 'Semantic UI - LESS Release of Semantic UI',\n  version: '{version}',\n  git: 'git://github.com/Semantic-Org/Semantic-UI-LESS.git'\n});\nPackage.onUse(function (api) {\n  api.versionsFrom('1.0');\n  api.use('less', 'client');\n  api.addFiles([{\n    files\n  }], 'client');\n});\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"github.js\":function(require,exports,module,__filename,__dirname){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/config/admin/github.js                                                                               //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n          GitHub Login\n*******************************/\n\n/*\n  Logs into GitHub using OAuth\n*/\nvar fs = require('fs'),\n    path = require('path'),\n    githubAPI = require('github'),\n    // stores oauth info for GitHub API\noAuthConfig = path.join(__dirname, 'oauth.js'),\n    oAuth = fs.existsSync(oAuthConfig) ? require(oAuthConfig) : false,\n    github;\n\nif (!oAuth) {\n  console.error('Must add oauth token for GitHub in tasks/config/admin/oauth.js');\n}\n\ngithub = new githubAPI({\n  version: '3.0.0',\n  debug: true,\n  protocol: 'https',\n  timeout: 5000\n});\ngithub.authenticate({\n  type: 'oauth',\n  token: oAuth.token\n});\nmodule.exports = github;\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"oauth.example.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/config/admin/oauth.example.js                                                                        //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*\n Used to import GitHub Auth Token\n To Automate GitHub Updates\n*/\nmodule.exports = {\n  token: 'AN-OAUTH2-TOKEN',\n  username: 'github-username',\n  name: 'Your Name',\n  email: 'user@email.com'\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"release.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/config/admin/release.js                                                                              //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n        Release Settings\n*******************************/\n// release settings\nmodule.exports = {\n  // path to components for repos\n  source: './dist/components/',\n  // modified asset paths for component repos\n  paths: {\n    source: '../themes/default/assets/',\n    output: 'assets/'\n  },\n  templates: {\n    bower: './tasks/config/admin/templates/bower.json',\n    composer: './tasks/config/admin/templates/composer.json',\n    package: './tasks/config/admin/templates/package.json',\n    meteor: {\n      css: './tasks/config/admin/templates/css-package.js',\n      component: './tasks/config/admin/templates/component-package.js',\n      less: './tasks/config/admin/templates/less-package.js'\n    },\n    readme: './tasks/config/admin/templates/README.md',\n    notes: './RELEASE-NOTES.md'\n  },\n  org: 'Semantic-Org',\n  repo: 'Semantic-UI',\n  // files created for package managers\n  files: {\n    composer: 'composer.json',\n    config: 'semantic.json',\n    npm: 'package.json',\n    meteor: 'package.js'\n  },\n  // root name for distribution repos\n  distRepoRoot: 'Semantic-UI-',\n  // root name for single component repos\n  componentRepoRoot: 'UI-',\n  // root name for package managers\n  packageRoot: 'semantic-ui-',\n  // root path to repos\n  outputRoot: '../repos/',\n  homepage: 'http://www.semantic-ui.com',\n  // distributions that get separate repos\n  distributions: ['LESS', 'CSS'],\n  // components that get separate repositories for bower/npm\n  components: ['accordion', 'ad', 'api', 'breadcrumb', 'button', 'card', 'checkbox', 'comment', 'container', 'dimmer', 'divider', 'dropdown', 'embed', 'feed', 'flag', 'form', 'grid', 'header', 'icon', 'image', 'input', 'item', 'label', 'list', 'loader', 'menu', 'message', 'modal', 'nag', 'popup', 'progress', 'rail', 'rating', 'reset', 'reveal', 'search', 'segment', 'shape', 'sidebar', 'site', 'statistic', 'step', 'sticky', 'tab', 'table', 'transition', 'visibility']\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"npm\":{\"gulpfile.js\":function(require){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/config/npm/gulpfile.js                                                                               //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n            Set-up\n*******************************/\nvar gulp = require('gulp-help')(require('gulp')),\n    // read user config to know what task to load\nconfig = require('./tasks/config/user'),\n    // watch changes\nwatch = require('./tasks/watch'),\n    // build all files\nbuild = require('./tasks/build'),\n    buildJS = require('./tasks/build/javascript'),\n    buildCSS = require('./tasks/build/css'),\n    buildAssets = require('./tasks/build/assets'),\n    // utility\nclean = require('./tasks/clean'),\n    version = require('./tasks/version'),\n    // docs tasks\nserveDocs = require('./tasks/docs/serve'),\n    buildDocs = require('./tasks/docs/build'),\n    // rtl\nbuildRTL = require('./tasks/rtl/build'),\n    watchRTL = require('./tasks/rtl/watch');\n/*******************************\n             Tasks\n*******************************/\n\n\ngulp.task('default', false, ['watch']);\ngulp.task('watch', 'Watch for site/theme changes', watch);\ngulp.task('build', 'Builds all files from source', build);\ngulp.task('build-javascript', 'Builds all javascript from source', buildJS);\ngulp.task('build-css', 'Builds all css from source', buildCSS);\ngulp.task('build-assets', 'Copies all assets from source', buildAssets);\ngulp.task('clean', 'Clean dist folder', clean);\ngulp.task('version', 'Displays current version of Semantic', version);\n/*--------------\n      Docs\n---------------*/\n\n/*\n  Lets you serve files to a local documentation instance\n  https://github.com/Semantic-Org/Semantic-UI-Docs/\n*/\n\ngulp.task('serve-docs', 'Serve file changes to SUI Docs', serveDocs);\ngulp.task('build-docs', 'Build all files and add to SUI Docs', buildDocs);\n/*--------------\n      RTL\n---------------*/\n\nif (config.rtl) {\n  gulp.task('watch-rtl', 'Watch files as RTL', watchRTL);\n  gulp.task('build-rtl', 'Build all files as RTL', buildRTL);\n}\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"project\":{\"config.js\":function(require,exports,module,__filename,__dirname){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/config/project/config.js                                                                             //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n            Set-up\n*******************************/\nvar extend = require('extend'),\n    fs = require('fs'),\n    path = require('path'),\n    defaults = require('../defaults');\n/*******************************\n            Exports\n*******************************/\n\n\nmodule.exports = {\n  getPath: function (file, directory) {\n    var configPath,\n        walk = function (directory) {\n      var nextDirectory = path.resolve(path.join(directory, path.sep, '..')),\n          currentPath = path.normalize(path.join(directory, file));\n\n      if (fs.existsSync(currentPath)) {\n        // found file\n        configPath = path.normalize(directory);\n        return;\n      } else {\n        // reached file system root, let's stop\n        if (nextDirectory == directory) {\n          return;\n        } // otherwise recurse\n\n\n        walk(nextDirectory, file);\n      }\n    }; // start walk from outside require-dot-files directory\n\n\n    file = file || defaults.files.config;\n    directory = directory || path.join(__dirname, path.sep, '..');\n    walk(directory);\n    return configPath || '';\n  },\n  // adds additional derived values to a config object\n  addDerivedValues: function (config) {\n    config = config || extend(false, {}, defaults);\n    /*--------------\n       File Paths\n    ---------------*/\n\n    var configPath = this.getPath(),\n        sourcePaths = {},\n        outputPaths = {},\n        folder; // resolve paths (config location + base + path)\n\n    for (folder in config.paths.source) {\n      if (config.paths.source.hasOwnProperty(folder)) {\n        sourcePaths[folder] = path.resolve(path.join(configPath, config.base, config.paths.source[folder]));\n      }\n    }\n\n    for (folder in config.paths.output) {\n      if (config.paths.output.hasOwnProperty(folder)) {\n        outputPaths[folder] = path.resolve(path.join(configPath, config.base, config.paths.output[folder]));\n      }\n    } // set config paths to full paths\n\n\n    config.paths.source = sourcePaths;\n    config.paths.output = outputPaths; // resolve \"clean\" command path\n\n    config.paths.clean = path.resolve(path.join(configPath, config.base, config.paths.clean));\n    /*--------------\n        CSS URLs\n    ---------------*/\n    // determine asset paths in css by finding relative path between themes and output\n    // force forward slashes\n\n    config.paths.assets = {\n      source: '../../themes',\n      // source asset path is always the same\n      uncompressed: './' + path.relative(config.paths.output.uncompressed, config.paths.output.themes).replace(/\\\\/g, '/'),\n      compressed: './' + path.relative(config.paths.output.compressed, config.paths.output.themes).replace(/\\\\/g, '/'),\n      packaged: './' + path.relative(config.paths.output.packaged, config.paths.output.themes).replace(/\\\\/g, '/')\n    };\n    /*--------------\n       Permission\n    ---------------*/\n\n    if (config.permission) {\n      config.hasPermissions = true;\n    } else {\n      // pass blank object to avoid causing errors\n      config.permission = {};\n      config.hasPermissions = false;\n    }\n    /*--------------\n         Globs\n    ---------------*/\n\n\n    if (!config.globs) {\n      config.globs = {};\n    } // remove duplicates from component array\n\n\n    if (config.components instanceof Array) {\n      config.components = config.components.filter(function (component, index) {\n        return config.components.indexOf(component) == index;\n      });\n    } // takes component object and creates file glob matching selected components\n\n\n    config.globs.components = typeof config.components == 'object' ? config.components.length > 1 ? '{' + config.components.join(',') + '}' : config.components[0] : '{' + defaults.components.join(',') + '}';\n    return config;\n  }\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"install.js\":function(require,exports,module,__filename,__dirname){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/config/project/install.js                                                                            //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n            Set-up\n*******************************/\nvar fs = require('fs'),\n    path = require('path'),\n    defaults = require('../defaults'),\n    release = require('./release'),\n    requireDotFile = require('require-dot-file');\n/*******************************\n          When to Ask\n*******************************/\n\n/* Preconditions for install questions */\n\n\nvar when = {\n  // path\n  changeRoot: function (questions) {\n    return questions.useRoot !== undefined && questions.useRoot !== true;\n  },\n  // permissions\n  changePermissions: function (questions) {\n    return questions.changePermissions && questions.changePermissions === true;\n  },\n  // install\n  hasConfig: function () {\n    return requireDotFile('semantic.json', process.cwd());\n  },\n  allowOverwrite: function (questions) {\n    return questions.overwrite === undefined || questions.overwrite == 'yes';\n  },\n  notAuto: function (questions) {\n    return questions.install !== 'auto' && (questions.overwrite === undefined || questions.overwrite == 'yes');\n  },\n  custom: function (questions) {\n    return questions.install === 'custom' && (questions.overwrite === undefined || questions.overwrite == 'yes');\n  },\n  express: function (questions) {\n    return questions.install === 'express' && (questions.overwrite === undefined || questions.overwrite == 'yes');\n  },\n  // customize\n  customize: function (questions) {\n    return questions.customize === true;\n  },\n  primaryColor: function (questions) {\n    return questions.primaryColor;\n  },\n  secondaryColor: function (questions) {\n    return questions.secondaryColor;\n  }\n};\n/*******************************\n        Response Filters\n*******************************/\n\n/* Filters to user input from install questions */\n\nvar filter = {\n  removeTrailingSlash: function (path) {\n    return path.replace(/(\\/$|\\\\$)+/mg, '');\n  }\n};\n/*******************************\n          Configuration\n*******************************/\n\nmodule.exports = {\n  // check whether install is setup\n  isSetup: function () {\n    return when.hasConfig();\n  },\n  // detect whether there is a semantic.json configuration and that the auto-install option is set to true\n  shouldAutoInstall: function () {\n    var config = when.hasConfig();\n    return config['autoInstall'];\n  },\n  // checks if files are in a PM directory\n  getPackageManager: function (directory) {\n    var // returns last matching result (avoid sub-module detection)\n    walk = function (directory) {\n      var pathArray = directory.split(path.sep),\n          folder = pathArray[pathArray.length - 1],\n          nextDirectory = path.join(directory, path.sep, '..');\n\n      if (folder == 'bower_components') {\n        return {\n          name: 'Bower',\n          root: nextDirectory\n        };\n      } else if (folder == 'node_modules') {\n        return {\n          name: 'NPM',\n          root: nextDirectory\n        };\n      } else if (folder == 'composer') {\n        return {\n          name: 'Composer',\n          root: nextDirectory\n        };\n      }\n\n      if (path.resolve(directory) == path.resolve(nextDirectory)) {\n        return false;\n      } // recurse downward\n\n\n      return walk(nextDirectory);\n    }; // start walk from current directory if none specified\n\n\n    directory = directory || __dirname + path.sep;\n    return walk(directory);\n  },\n  // checks if files is PMed submodule\n  isSubModule: function (directory) {\n    var moduleFolders = 0,\n        walk = function (directory) {\n      var pathArray = directory.split(path.sep),\n          folder = pathArray[pathArray.length - 2],\n          nextDirectory = path.join(directory, path.sep, '..');\n\n      if (folder == 'bower_components') {\n        moduleFolders++;\n      } else if (folder == 'node_modules') {\n        moduleFolders++;\n      } else if (folder == 'composer') {\n        moduleFolders++;\n      }\n\n      if (path.resolve(directory) == path.resolve(nextDirectory)) {\n        return moduleFolders > 1;\n      } // recurse downward\n\n\n      return walk(nextDirectory);\n    }; // start walk from current directory if none specified\n\n\n    directory = directory || __dirname + path.sep;\n    return walk(directory);\n  },\n  createJSON: function (answers) {\n    var json = {\n      paths: {\n        source: {},\n        output: {}\n      }\n    }; // add components\n\n    if (answers.components) {\n      json.components = answers.components;\n    } // add rtl choice\n\n\n    if (answers.rtl) {\n      json.rtl = answers.rtl;\n    } // add permissions\n\n\n    if (answers.permission) {\n      json.permission = answers.permission;\n    } // add path to semantic\n\n\n    if (answers.semanticRoot) {\n      json.base = path.normalize(answers.semanticRoot);\n    } // record version number to avoid re-installing on same version\n\n\n    json.version = release.version; // add dist folder paths\n\n    if (answers.dist) {\n      answers.dist = path.normalize(answers.dist);\n      json.paths.output = {\n        packaged: path.normalize(answers.dist + '/'),\n        uncompressed: path.normalize(answers.dist + '/components/'),\n        compressed: path.normalize(answers.dist + '/components/'),\n        themes: path.normalize(answers.dist + '/themes/')\n      };\n    } // add site path\n\n\n    if (answers.site) {\n      json.paths.source.site = path.normalize(answers.site + '/');\n    }\n\n    if (answers.packaged) {\n      json.paths.output.packaged = path.normalize(answers.packaged + '/');\n    }\n\n    if (answers.compressed) {\n      json.paths.output.compressed = path.normalize(answers.compressed + '/');\n    }\n\n    if (answers.uncompressed) {\n      json.paths.output.uncompressed = path.normalize(answers.uncompressed + '/');\n    }\n\n    return json;\n  },\n  // files cleaned up after install\n  setupFiles: ['./src/theme.config.example', './semantic.json.example', './src/_site'],\n  regExp: {\n    // used to match siteFolder variable in theme.less\n    siteVariable: /@siteFolder .*\\'(.*)/mg\n  },\n  // source paths (when installing)\n  source: {\n    config: './semantic.json.example',\n    definitions: './src/definitions',\n    gulpFile: './gulpfile.js',\n    lessImport: './src/semantic.less',\n    site: './src/_site',\n    tasks: './tasks',\n    themeConfig: './src/theme.config.example',\n    themeImport: './src/theme.less',\n    themes: './src/themes',\n    defaultTheme: './src/themes/default',\n    userGulpFile: './tasks/config/npm/gulpfile.js'\n  },\n  // expected final filenames\n  files: {\n    config: 'semantic.json',\n    lessImport: 'src/semantic.less',\n    site: 'src/site',\n    themeConfig: 'src/theme.config',\n    themeImport: 'src/theme.less'\n  },\n  // folder paths to files relative to root\n  folders: {\n    config: './',\n    definitions: 'src/definitions/',\n    lessImport: 'src/',\n    modules: 'node_modules/',\n    site: 'src/site/',\n    tasks: 'tasks/',\n    themeConfig: 'src/',\n    themeImport: 'src/',\n    themes: 'src/themes/',\n    defaultTheme: 'default/' // only path that is relative to another directory and not root\n\n  },\n  // questions asked during install\n  questions: {\n    root: [{\n      type: 'list',\n      name: 'useRoot',\n      message: '{packageMessage} Is this your project folder? {root}',\n      choices: [{\n        name: 'Yes',\n        value: true\n      }, {\n        name: 'No, let me specify',\n        value: false\n      }]\n    }, {\n      type: 'input',\n      name: 'customRoot',\n      message: 'Please enter the absolute path to your project root',\n      default: '/my/project/path',\n      when: when.changeRoot\n    }, {\n      type: 'input',\n      name: 'semanticRoot',\n      message: 'Where should we put Semantic UI inside your project?',\n      default: 'semantic/'\n    }],\n    setup: [{\n      type: 'list',\n      name: 'overwrite',\n      message: 'It looks like you have a semantic.json file already.',\n      when: when.hasConfig,\n      choices: [{\n        name: 'Yes, extend my current settings.',\n        value: 'yes'\n      }, {\n        name: 'Skip install',\n        value: 'no'\n      }]\n    }, {\n      type: 'list',\n      name: 'install',\n      message: 'Set-up Semantic UI',\n      when: when.allowOverwrite,\n      choices: [{\n        name: 'Automatic (Use default locations and all components)',\n        value: 'auto'\n      }, {\n        name: 'Express (Set components and output folder)',\n        value: 'express'\n      }, {\n        name: 'Custom (Customize all src/dist values)',\n        value: 'custom'\n      }]\n    }, {\n      type: 'checkbox',\n      name: 'components',\n      message: 'What components should we include in the package?',\n      // duplicated manually from tasks/defaults.js with additional property\n      choices: [{\n        name: \"reset\",\n        checked: true\n      }, {\n        name: \"site\",\n        checked: true\n      }, {\n        name: \"button\",\n        checked: true\n      }, {\n        name: \"container\",\n        checked: true\n      }, {\n        name: \"divider\",\n        checked: true\n      }, {\n        name: \"flag\",\n        checked: true\n      }, {\n        name: \"header\",\n        checked: true\n      }, {\n        name: \"icon\",\n        checked: true\n      }, {\n        name: \"image\",\n        checked: true\n      }, {\n        name: \"input\",\n        checked: true\n      }, {\n        name: \"label\",\n        checked: true\n      }, {\n        name: \"list\",\n        checked: true\n      }, {\n        name: \"loader\",\n        checked: true\n      }, {\n        name: \"rail\",\n        checked: true\n      }, {\n        name: \"reveal\",\n        checked: true\n      }, {\n        name: \"segment\",\n        checked: true\n      }, {\n        name: \"step\",\n        checked: true\n      }, {\n        name: \"breadcrumb\",\n        checked: true\n      }, {\n        name: \"form\",\n        checked: true\n      }, {\n        name: \"grid\",\n        checked: true\n      }, {\n        name: \"menu\",\n        checked: true\n      }, {\n        name: \"message\",\n        checked: true\n      }, {\n        name: \"table\",\n        checked: true\n      }, {\n        name: \"ad\",\n        checked: true\n      }, {\n        name: \"card\",\n        checked: true\n      }, {\n        name: \"comment\",\n        checked: true\n      }, {\n        name: \"feed\",\n        checked: true\n      }, {\n        name: \"item\",\n        checked: true\n      }, {\n        name: \"statistic\",\n        checked: true\n      }, {\n        name: \"accordion\",\n        checked: true\n      }, {\n        name: \"checkbox\",\n        checked: true\n      }, {\n        name: \"dimmer\",\n        checked: true\n      }, {\n        name: \"dropdown\",\n        checked: true\n      }, {\n        name: \"embed\",\n        checked: true\n      }, {\n        name: \"modal\",\n        checked: true\n      }, {\n        name: \"nag\",\n        checked: true\n      }, {\n        name: \"popup\",\n        checked: true\n      }, {\n        name: \"progress\",\n        checked: true\n      }, {\n        name: \"rating\",\n        checked: true\n      }, {\n        name: \"search\",\n        checked: true\n      }, {\n        name: \"shape\",\n        checked: true\n      }, {\n        name: \"sidebar\",\n        checked: true\n      }, {\n        name: \"sticky\",\n        checked: true\n      }, {\n        name: \"tab\",\n        checked: true\n      }, {\n        name: \"transition\",\n        checked: true\n      }, {\n        name: \"api\",\n        checked: true\n      }, {\n        name: \"form\",\n        checked: true\n      }, {\n        name: \"state\",\n        checked: true\n      }, {\n        name: \"visibility\",\n        checked: true\n      }],\n      when: when.notAuto\n    }, {\n      type: 'list',\n      name: 'changePermissions',\n      when: when.notAuto,\n      message: 'Should we set permissions on outputted files?',\n      choices: [{\n        name: 'No',\n        value: false\n      }, {\n        name: 'Yes',\n        value: true\n      }]\n    }, {\n      type: 'input',\n      name: 'permission',\n      message: 'What octal file permission should outputted files receive?',\n      default: defaults.permission,\n      when: when.changePermissions\n    }, {\n      type: 'list',\n      name: 'rtl',\n      message: 'Do you use a RTL (Right-To-Left) language?',\n      when: when.notAuto,\n      choices: [{\n        name: 'No',\n        value: false\n      }, {\n        name: 'Yes',\n        value: true\n      }, {\n        name: 'Build Both',\n        value: 'both'\n      }]\n    }, {\n      type: 'input',\n      name: 'dist',\n      message: 'Where should we output Semantic UI?',\n      default: defaults.paths.output.packaged,\n      filter: filter.removeTrailingSlash,\n      when: when.express\n    }, {\n      type: 'input',\n      name: 'site',\n      message: 'Where should we put your site folder?',\n      default: defaults.paths.source.site,\n      filter: filter.removeTrailingSlash,\n      when: when.custom\n    }, {\n      type: 'input',\n      name: 'packaged',\n      message: 'Where should we output a packaged version?',\n      default: defaults.paths.output.packaged,\n      filter: filter.removeTrailingSlash,\n      when: when.custom\n    }, {\n      type: 'input',\n      name: 'compressed',\n      message: 'Where should we output compressed components?',\n      default: defaults.paths.output.compressed,\n      filter: filter.removeTrailingSlash,\n      when: when.custom\n    }, {\n      type: 'input',\n      name: 'uncompressed',\n      message: 'Where should we output uncompressed components?',\n      default: defaults.paths.output.uncompressed,\n      filter: filter.removeTrailingSlash,\n      when: when.custom\n    }],\n    cleanup: [{\n      type: 'list',\n      name: 'cleanup',\n      message: 'Should we remove set-up files?',\n      choices: [{\n        name: 'Yes (re-install will require redownloading semantic).',\n        value: 'yes'\n      }, {\n        name: 'No Thanks',\n        value: 'no'\n      }]\n    }, {\n      type: 'list',\n      name: 'build',\n      message: 'Do you want to build Semantic now?',\n      choices: [{\n        name: 'Yes',\n        value: 'yes'\n      }, {\n        name: 'No',\n        value: 'no'\n      }]\n    }],\n    site: [{\n      type: 'list',\n      name: 'customize',\n      message: 'You have not yet customized your site, can we help you do that?',\n      choices: [{\n        name: 'Yes, ask me a few questions',\n        value: true\n      }, {\n        name: 'No I\\'ll do it myself',\n        value: false\n      }]\n    }, {\n      type: 'list',\n      name: 'headerFont',\n      message: 'Select your header font',\n      choices: [{\n        name: 'Helvetica Neue, Arial, sans-serif',\n        value: 'Helvetica Neue, Arial, sans-serif;'\n      }, {\n        name: 'Lato (Google Fonts)',\n        value: 'Lato'\n      }, {\n        name: 'Open Sans (Google Fonts)',\n        value: 'Open Sans'\n      }, {\n        name: 'Source Sans Pro (Google Fonts)',\n        value: 'Source Sans Pro'\n      }, {\n        name: 'Droid (Google Fonts)',\n        value: 'Droid'\n      }, {\n        name: 'I\\'ll choose on my own',\n        value: false\n      }],\n      when: when.customize\n    }, {\n      type: 'list',\n      name: 'pageFont',\n      message: 'Select your page font',\n      choices: [{\n        name: 'Helvetica Neue, Arial, sans-serif',\n        value: 'Helvetica Neue, Arial, sans-serif;'\n      }, {\n        name: 'Lato (Import from Google Fonts)',\n        value: 'Lato'\n      }, {\n        name: 'Open Sans (Import from Google Fonts)',\n        value: 'Open Sans'\n      }, {\n        name: 'Source Sans Pro (Import from Google Fonts)',\n        value: 'Source Sans Pro'\n      }, {\n        name: 'Droid (Google Fonts)',\n        value: 'Droid'\n      }, {\n        name: 'I\\'ll choose on my own',\n        value: false\n      }],\n      when: when.customize\n    }, {\n      type: 'list',\n      name: 'fontSize',\n      message: 'Select your base font size',\n      default: '14px',\n      choices: [{\n        name: '12px'\n      }, {\n        name: '13px'\n      }, {\n        name: '14px (Recommended)',\n        value: '14px'\n      }, {\n        name: '15px'\n      }, {\n        name: '16px'\n      }, {\n        name: 'I\\'ll choose on my own',\n        value: false\n      }],\n      when: when.customize\n    }, {\n      type: 'list',\n      name: 'primaryColor',\n      message: 'Select the closest name for your primary brand color',\n      default: '14px',\n      choices: [{\n        name: 'Blue'\n      }, {\n        name: 'Green'\n      }, {\n        name: 'Orange'\n      }, {\n        name: 'Pink'\n      }, {\n        name: 'Purple'\n      }, {\n        name: 'Red'\n      }, {\n        name: 'Teal'\n      }, {\n        name: 'Yellow'\n      }, {\n        name: 'Black'\n      }, {\n        name: 'I\\'ll choose on my own',\n        value: false\n      }],\n      when: when.customize\n    }, {\n      type: 'input',\n      name: 'PrimaryHex',\n      message: 'Enter a hexcode for your primary brand color',\n      when: when.primaryColor\n    }, {\n      type: 'list',\n      name: 'secondaryColor',\n      message: 'Select the closest name for your secondary brand color',\n      default: '14px',\n      choices: [{\n        name: 'Blue'\n      }, {\n        name: 'Green'\n      }, {\n        name: 'Orange'\n      }, {\n        name: 'Pink'\n      }, {\n        name: 'Purple'\n      }, {\n        name: 'Red'\n      }, {\n        name: 'Teal'\n      }, {\n        name: 'Yellow'\n      }, {\n        name: 'Black'\n      }, {\n        name: 'I\\'ll choose on my own',\n        value: false\n      }],\n      when: when.customize\n    }, {\n      type: 'input',\n      name: 'secondaryHex',\n      message: 'Enter a hexcode for your secondary brand color',\n      when: when.secondaryColor\n    }]\n  },\n  settings: {\n    /* Rename Files */\n    rename: {\n      json: {\n        extname: '.json'\n      }\n    },\n\n    /* Copy Install Folders */\n    wrench: {\n      // overwrite existing files update & install (default theme / definition)\n      overwrite: {\n        forceDelete: true,\n        excludeHiddenUnix: true,\n        preserveFiles: false\n      },\n      // only create files that don't exist (site theme update)\n      merge: {\n        forceDelete: false,\n        excludeHiddenUnix: true,\n        preserveFiles: true\n      }\n    }\n  }\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"release.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/config/project/release.js                                                                            //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n         Release Config\n*******************************/\nvar requireDotFile = require('require-dot-file'),\n    config,\n    npmPackage,\n    version;\n/*******************************\n         Derived Values\n*******************************/\n\n\ntry {\n  config = requireDotFile('semantic.json');\n} catch (error) {}\n\ntry {\n  npmPackage = require('../../../package.json');\n} catch (error) {\n  // generate fake package\n  npmPackage = {\n    name: 'Unknown',\n    version: 'x.x'\n  };\n} // looks for version in config or package.json (whichever is available)\n\n\nversion = npmPackage && npmPackage.version !== undefined && npmPackage.name == 'semantic-ui' ? npmPackage.version : config.version;\n/*******************************\n             Export\n*******************************/\n\nmodule.exports = {\n  title: 'Semantic UI',\n  repository: 'https://github.com/Semantic-Org/Semantic-UI',\n  url: 'http://www.semantic-ui.com/',\n  banner: '' + ' /*' + '\\n' + ' * # <%= title %> - <%= version %>' + '\\n' + ' * <%= repository %>' + '\\n' + ' * <%= url %>' + '\\n' + ' *' + '\\n' + ' * Copyright 2014 Contributors' + '\\n' + ' * Released under the MIT license' + '\\n' + ' * http://opensource.org/licenses/MIT' + '\\n' + ' *' + '\\n' + ' */' + '\\n',\n  version: version\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"defaults.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/config/defaults.js                                                                                   //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n          Default Paths\n*******************************/\nmodule.exports = {\n  // base path added to all other paths\n  base: '',\n  // base path when installed with npm\n  pmRoot: 'semantic/',\n  // octal permission for output files, i.e. 644 (false does not adjust)\n  permission: 744,\n  // whether to generate rtl files\n  rtl: false,\n  // file paths\n  files: {\n    config: 'semantic.json',\n    site: 'src/site',\n    theme: 'src/theme.config'\n  },\n  // folder paths\n  paths: {\n    source: {\n      config: 'src/theme.config',\n      definitions: 'src/definitions/',\n      site: 'src/site/',\n      themes: 'src/themes/'\n    },\n    output: {\n      packaged: 'dist/',\n      uncompressed: 'dist/components/',\n      compressed: 'dist/components/',\n      themes: 'dist/themes/'\n    },\n    clean: 'dist/'\n  },\n  // components to include in package\n  components: [// global\n  'reset', 'site', // elements\n  'button', 'container', 'divider', 'flag', 'header', 'icon', 'image', 'input', 'label', 'list', 'loader', 'rail', 'reveal', 'segment', 'step', // collections\n  'breadcrumb', 'form', 'grid', 'menu', 'message', 'table', // views\n  'ad', 'card', 'comment', 'feed', 'item', 'statistic', // modules\n  'accordion', 'checkbox', 'dimmer', 'dropdown', 'embed', 'modal', 'nag', 'popup', 'progress', 'rating', 'search', 'shape', 'sidebar', 'sticky', 'tab', 'transition', // behaviors\n  'api', 'form', 'state', 'visibility'],\n  // whether to load admin tasks\n  admin: false,\n  // globs used for matching file patterns\n  globs: {\n    ignored: '!(*.min|*.map|*.rtl)',\n    ignoredRTL: '!(*.min|*.map)'\n  }\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"docs.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/config/docs.js                                                                                       //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n             Docs\n*******************************/\n\n/* Paths used for \"serve-docs\" and \"build-docs\" tasks */\nmodule.exports = {\n  base: '',\n  globs: {\n    eco: '**/*.html.eco'\n  },\n  paths: {\n    clean: '../docs/out/dist/',\n    source: {\n      config: 'src/theme.config',\n      definitions: 'src/definitions/',\n      site: 'src/site/',\n      themes: 'src/themes/'\n    },\n    output: {\n      examples: '../docs/out/examples/',\n      less: '../docs/out/src/',\n      metadata: '../docs/out/',\n      packaged: '../docs/out/dist/',\n      uncompressed: '../docs/out/dist/components/',\n      compressed: '../docs/out/dist/components/',\n      themes: '../docs/out/dist/themes/'\n    },\n    template: {\n      eco: '../docs/server/documents/'\n    }\n  }\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"tasks.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/config/tasks.js                                                                                      //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar console = require('better-console'),\n    config = require('./user'),\n    release = require('./project/release');\n\nmodule.exports = {\n  banner: release.banner,\n  log: {\n    created: function (file) {\n      return 'Created: ' + file;\n    },\n    modified: function (file) {\n      return 'Modified: ' + file;\n    }\n  },\n  filenames: {\n    concatenatedCSS: 'semantic.css',\n    concatenatedJS: 'semantic.js',\n    concatenatedMinifiedCSS: 'semantic.min.css',\n    concatenatedMinifiedJS: 'semantic.min.js',\n    concatenatedRTLCSS: 'semantic.rtl.css',\n    concatenatedMinifiedRTLCSS: 'semantic.rtl.min.css'\n  },\n  regExp: {\n    comments: {\n      // remove all comments from config files (.variable)\n      variables: {\n        in: /(\\/\\*[\\s\\S]+?\\*\\/+)[\\s\\S]+?\\/\\* End Config \\*\\//,\n        out: '$1'\n      },\n      // add version to first comment\n      license: {\n        in: /(^\\/\\*[\\s\\S]+)(# Semantic UI )([\\s\\S]+?\\*\\/)/,\n        out: '$1$2' + release.version + ' $3'\n      },\n      // adds uniform spacing around comments\n      large: {\n        in: /(\\/\\*\\*\\*\\*[\\s\\S]+?\\*\\/)/mg,\n        out: '\\n\\n$1\\n'\n      },\n      small: {\n        in: /(\\/\\*---[\\s\\S]+?\\*\\/)/mg,\n        out: '\\n$1\\n'\n      },\n      tiny: {\n        in: /(\\/\\* [\\s\\S]+? \\*\\/)/mg,\n        out: '\\n$1'\n      }\n    },\n    theme: /.*(\\/|\\\\)themes(\\/|\\\\).*?(?=(\\/|\\\\))/mg\n  },\n  settings: {\n    /* Remove Files in Clean */\n    del: {\n      silent: true\n    },\n    concatCSS: {\n      rebaseUrls: false\n    },\n\n    /* Comment Banners */\n    header: {\n      title: release.title,\n      version: release.version,\n      repository: release.repository,\n      url: release.url\n    },\n    plumber: {\n      less: {\n        errorHandler: function (error) {\n          var regExp = {\n            variable: /@(\\S.*?)\\s/,\n            theme: /themes[\\/\\\\]+(.*?)[\\/\\\\].*/,\n            element: /[\\/\\\\]([^\\/\\\\*]*)\\.overrides/\n          },\n              theme,\n              element;\n\n          if (error.filename.match(/theme.less/)) {\n            if (error.line == 5) {\n              element = regExp.variable.exec(error.message)[1];\n\n              if (element) {\n                console.error('Missing theme.config value for ', element);\n              }\n\n              console.error('Most likely new UI was added in an update. You will need to add missing elements from theme.config.example');\n            }\n\n            if (error.line == 46) {\n              element = regExp.element.exec(error.message)[1];\n              theme = regExp.theme.exec(error.message)[1];\n              console.error(theme + ' is not an available theme for ' + element);\n            }\n          } else {\n            console.log(error);\n          }\n\n          this.emit('end');\n        }\n      }\n    },\n\n    /* What Browsers to Prefix */\n    prefix: {\n      browsers: ['last 2 versions', '> 1%', 'opera 12.1', 'bb 10', 'android 4']\n    },\n\n    /* File Renames */\n    rename: {\n      minJS: {\n        extname: '.min.js'\n      },\n      minCSS: {\n        extname: '.min.css'\n      },\n      rtlCSS: {\n        extname: '.rtl.css'\n      },\n      rtlMinCSS: {\n        extname: '.rtl.min.css'\n      }\n    },\n\n    /* Minified CSS Concat */\n    minify: {\n      processImport: false,\n      restructuring: false,\n      keepSpecialComments: 1,\n      roundingPrecision: -1\n    },\n\n    /* Minified JS Settings */\n    uglify: {\n      mangle: true,\n      output: {\n        comments: 'some'\n      }\n    },\n\n    /* Minified Concat CSS Settings */\n    concatMinify: {\n      processImport: false,\n      restructuring: false,\n      keepSpecialComments: false,\n      roundingPrecision: -1\n    },\n\n    /* Minified Concat JS */\n    concatUglify: {\n      mangle: true,\n      output: {\n        comments: 'some'\n      }\n    }\n  }\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"user.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/config/user.js                                                                                       //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n             Set-up\n*******************************/\nvar // npm dependencies\nextend = require('extend'),\n    fs = require('fs'),\n    path = require('path'),\n    requireDotFile = require('require-dot-file'),\n    // semantic.json defaults\ndefaults = require('./defaults'),\n    config = require('./project/config'),\n    // Final config object\ngulpConfig = {},\n    // semantic.json settings\nuserConfig;\n/*******************************\n          User Config\n*******************************/\n\n\ntry {\n  // looks for config file across all parent directories\n  userConfig = requireDotFile('semantic.json');\n} catch (error) {\n  if (error.code === 'MODULE_NOT_FOUND') {\n    console.error('No semantic.json config found');\n  }\n} // extend user config with defaults\n\n\ngulpConfig = !userConfig ? extend(true, {}, defaults) : extend(false, {}, defaults, userConfig);\n/*******************************\n       Add Derived Values\n*******************************/\n// adds calculated values\n\nconfig.addDerivedValues(gulpConfig);\n/*******************************\n             Export\n*******************************/\n\nmodule.exports = gulpConfig;\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"admin\":{\"components\":{\"create.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/admin/components/create.js                                                                           //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n     Create Component Repos\n*******************************/\n\n/*\n This will create individual component repositories for each SUI component\n\n  * copy component files from release\n  * create commonjs files as index.js for NPM release\n  * create release notes that filter only items related to component\n  * custom package.json file from template\n  * create bower.json from template\n  * create README from template\n  * create meteor.js file\n*/\nvar gulp = require('gulp'),\n    // node dependencies\nconsole = require('better-console'),\n    del = require('del'),\n    fs = require('fs'),\n    path = require('path'),\n    runSequence = require('run-sequence'),\n    // admin dependencies\nconcatFileNames = require('gulp-concat-filenames'),\n    debug = require('gulp-debug'),\n    flatten = require('gulp-flatten'),\n    git = require('gulp-git'),\n    jsonEditor = require('gulp-json-editor'),\n    plumber = require('gulp-plumber'),\n    rename = require('gulp-rename'),\n    replace = require('gulp-replace'),\n    tap = require('gulp-tap'),\n    util = require('gulp-util'),\n    // config\nconfig = require('../../config/user'),\n    release = require('../../config/admin/release'),\n    project = require('../../config/project/release'),\n    // shorthand\nversion = project.version,\n    output = config.paths.output;\n\nmodule.exports = function (callback) {\n  var stream,\n      index,\n      tasks = [];\n\n  for (index in release.components) {\n    var component = release.components[index]; // streams... designed to save time and make coding fun...\n\n    (function (component) {\n      var outputDirectory = path.join(release.outputRoot, component),\n          isJavascript = fs.existsSync(output.compressed + component + '.js'),\n          isCSS = fs.existsSync(output.compressed + component + '.css'),\n          capitalizedComponent = component.charAt(0).toUpperCase() + component.slice(1),\n          packageName = release.packageRoot + component,\n          repoName = release.componentRepoRoot + capitalizedComponent,\n          gitURL = 'https://github.com/' + release.org + '/' + repoName + '.git',\n          repoURL = 'https://github.com/' + release.org + '/' + repoName + '/',\n          concatSettings = {\n        newline: '',\n        root: outputDirectory,\n        prepend: \"    '\",\n        append: \"',\"\n      },\n          regExp = {\n        match: {\n          // templated values\n          name: '{component}',\n          titleName: '{Component}',\n          version: '{version}',\n          files: '{files}',\n          // release notes\n          spacedVersions: /(###.*\\n)\\n+(?=###)/gm,\n          spacedLists: /(^- .*\\n)\\n+(?=^-)/gm,\n          trim: /^\\s+|\\s+$/g,\n          unrelatedNotes: new RegExp('^((?!(^.*(' + component + ').*$|###.*)).)*$', 'gmi'),\n          whitespace: /\\n\\s*\\n\\s*\\n/gm,\n          // npm\n          componentExport: /(.*)\\$\\.fn\\.\\w+\\s*=\\s*function\\(([^\\)]*)\\)\\s*{/g,\n          componentReference: '$.fn.' + component,\n          settingsExport: /\\$\\.fn\\.\\w+\\.settings\\s*=/g,\n          settingsReference: /\\$\\.fn\\.\\w+\\.settings/g,\n          trailingComma: /,(?=[^,]*$)/,\n          jQuery: /jQuery/g\n        },\n        replace: {\n          // readme\n          name: component,\n          titleName: capitalizedComponent,\n          // release notes\n          spacedVersions: '',\n          spacedLists: '$1',\n          trim: '',\n          unrelatedNotes: '',\n          whitespace: '\\n\\n',\n          // npm\n          componentExport: 'var _module = module;\\n$1module.exports = function($2) {',\n          componentReference: '_module.exports',\n          settingsExport: 'module.exports.settings =',\n          settingsReference: '_module.exports.settings',\n          jQuery: 'require(\"jquery\")'\n        }\n      },\n          task = {\n        all: component + ' creating',\n        repo: component + ' create repo',\n        bower: component + ' create bower.json',\n        readme: component + ' create README',\n        npm: component + ' create NPM Module',\n        notes: component + ' create release notes',\n        composer: component + ' create composer.json',\n        package: component + ' create package.json',\n        meteor: component + ' create meteor package.js'\n      },\n          // paths to includable assets\n      manifest = {\n        assets: outputDirectory + '/assets/**/' + component + '?(s).*',\n        component: outputDirectory + '/' + component + '+(.js|.css)'\n      }; // copy dist files into output folder adjusting asset paths\n\n      gulp.task(task.repo, false, function () {\n        return gulp.src(release.source + component + '.*').pipe(plumber()).pipe(flatten()).pipe(replace(release.paths.source, release.paths.output)).pipe(gulp.dest(outputDirectory));\n      }); // create npm module\n\n      gulp.task(task.npm, false, function () {\n        return gulp.src(release.source + component + '!(*.min|*.map).js').pipe(plumber()).pipe(flatten()).pipe(replace(regExp.match.componentExport, regExp.replace.componentExport)).pipe(replace(regExp.match.componentReference, regExp.replace.componentReference)).pipe(replace(regExp.match.settingsExport, regExp.replace.settingsExport)).pipe(replace(regExp.match.settingsReference, regExp.replace.settingsReference)).pipe(replace(regExp.match.jQuery, regExp.replace.jQuery)).pipe(rename('index.js')).pipe(gulp.dest(outputDirectory));\n      }); // create readme\n\n      gulp.task(task.readme, false, function () {\n        return gulp.src(release.templates.readme).pipe(plumber()).pipe(flatten()).pipe(replace(regExp.match.name, regExp.replace.name)).pipe(replace(regExp.match.titleName, regExp.replace.titleName)).pipe(gulp.dest(outputDirectory));\n      }); // extend bower.json\n\n      gulp.task(task.bower, false, function () {\n        return gulp.src(release.templates.bower).pipe(plumber()).pipe(flatten()).pipe(jsonEditor(function (bower) {\n          bower.name = packageName;\n          bower.description = capitalizedComponent + ' - Semantic UI';\n\n          if (isJavascript) {\n            if (isCSS) {\n              bower.main = [component + '.js', component + '.css'];\n            } else {\n              bower.main = [component + '.js'];\n            }\n\n            bower.dependencies = {\n              jquery: '>=1.8'\n            };\n          } else {\n            bower.main = [component + '.css'];\n          }\n\n          return bower;\n        })).pipe(gulp.dest(outputDirectory));\n      }); // extend package.json\n\n      gulp.task(task.package, false, function () {\n        return gulp.src(release.templates.package).pipe(plumber()).pipe(flatten()).pipe(jsonEditor(function (npm) {\n          if (isJavascript) {\n            npm.dependencies = {\n              jquery: 'x.x.x'\n            };\n            npm.main = 'index.js';\n          }\n\n          npm.name = packageName;\n\n          if (version) {\n            npm.version = version;\n          }\n\n          npm.title = 'Semantic UI - ' + capitalizedComponent;\n          npm.description = 'Single component release of ' + component;\n          npm.repository = {\n            type: 'git',\n            url: gitURL\n          };\n          return npm;\n        })).pipe(gulp.dest(outputDirectory));\n      }); // extend composer.json\n\n      gulp.task(task.composer, false, function () {\n        return gulp.src(release.templates.composer).pipe(plumber()).pipe(flatten()).pipe(jsonEditor(function (composer) {\n          if (isJavascript) {\n            composer.dependencies = {\n              jquery: 'x.x.x'\n            };\n            composer.main = component + '.js';\n          }\n\n          composer.name = 'semantic/' + component;\n\n          if (version) {\n            composer.version = version;\n          }\n\n          composer.description = 'Single component release of ' + component;\n          return composer;\n        })).pipe(gulp.dest(outputDirectory));\n      }); // create release notes\n\n      gulp.task(task.notes, false, function () {\n        return gulp.src(release.templates.notes).pipe(plumber()).pipe(flatten()) // Remove release notes for lines not mentioning component\n        .pipe(replace(regExp.match.unrelatedNotes, regExp.replace.unrelatedNotes)).pipe(replace(regExp.match.whitespace, regExp.replace.whitespace)).pipe(replace(regExp.match.spacedVersions, regExp.replace.spacedVersions)).pipe(replace(regExp.match.spacedLists, regExp.replace.spacedLists)).pipe(replace(regExp.match.trim, regExp.replace.trim)).pipe(gulp.dest(outputDirectory));\n      }); // Creates meteor package.js\n\n      gulp.task(task.meteor, function () {\n        var filenames = '';\n        return gulp.src(manifest.component).pipe(concatFileNames('empty.txt', concatSettings)).pipe(tap(function (file) {\n          filenames += file.contents;\n        })).on('end', function () {\n          gulp.src(manifest.assets).pipe(concatFileNames('empty.txt', concatSettings)).pipe(tap(function (file) {\n            filenames += file.contents;\n          })).on('end', function () {\n            // remove trailing slash\n            filenames = filenames.replace(regExp.match.trailingComma, '').trim();\n            gulp.src(release.templates.meteor.component).pipe(plumber()).pipe(flatten()).pipe(replace(regExp.match.name, regExp.replace.name)).pipe(replace(regExp.match.titleName, regExp.replace.titleName)).pipe(replace(regExp.match.version, version)).pipe(replace(regExp.match.files, filenames)).pipe(rename(release.files.meteor)).pipe(gulp.dest(outputDirectory));\n          });\n        });\n      }); // synchronous tasks in orchestrator? I think not\n\n      gulp.task(task.all, false, function (callback) {\n        runSequence([task.repo, task.npm, task.bower, task.readme, task.package, task.composer, task.notes, task.meteor], callback);\n      });\n      tasks.push(task.all);\n    })(component);\n  }\n\n  runSequence(tasks, callback);\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"init.js\":function(require,exports,module,__filename,__dirname){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/admin/components/init.js                                                                             //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n          Init Repos\n*******************************/\n\n/*\n\n This task pulls the latest version of each component from GitHub\n\n  * Creates new repo if doesnt exist (locally & GitHub)\n  * Adds remote it doesnt exists\n  * Pulls latest changes from repo\n\n*/\nvar gulp = require('gulp'),\n    // node dependencies\nconsole = require('better-console'),\n    del = require('del'),\n    fs = require('fs'),\n    path = require('path'),\n    git = require('gulp-git'),\n    githubAPI = require('github'),\n    mkdirp = require('mkdirp'),\n    // admin files\ngithub = require('../../config/admin/github.js'),\n    release = require('../../config/admin/release'),\n    project = require('../../config/project/release'),\n    // oAuth configuration for GitHub\noAuth = fs.existsSync(__dirname + '/../../config/admin/oauth.js') ? require('../../config/admin/oauth') : false,\n    // shorthand\nversion = project.version;\n\nmodule.exports = function (callback) {\n  var index = -1,\n      total = release.components.length,\n      timer,\n      stream,\n      stepRepo;\n\n  if (!oAuth) {\n    console.error('Must add oauth token for GitHub in tasks/config/admin/oauth.js');\n    return;\n  } // Do Git commands synchronously per component, to avoid issues\n\n\n  stepRepo = function () {\n    index = index + 1;\n\n    if (index >= total) {\n      callback();\n      return;\n    }\n\n    var component = release.components[index],\n        outputDirectory = path.resolve(release.outputRoot + component),\n        capitalizedComponent = component.charAt(0).toUpperCase() + component.slice(1),\n        repoName = release.componentRepoRoot + capitalizedComponent,\n        gitOptions = {\n      cwd: outputDirectory\n    },\n        pullOptions = {\n      args: '-q',\n      cwd: outputDirectory,\n      quiet: true\n    },\n        resetOptions = {\n      args: '-q --hard',\n      cwd: outputDirectory,\n      quiet: true\n    },\n        gitURL = 'git@github.com:' + release.org + '/' + repoName + '.git',\n        repoURL = 'https://github.com/' + release.org + '/' + repoName + '/',\n        localRepoSetup = fs.existsSync(path.join(outputDirectory, '.git'));\n    console.log('Processing repository: ' + outputDirectory); // create folder if doesn't exist\n\n    if (!fs.existsSync(outputDirectory)) {\n      mkdirp.sync(outputDirectory);\n    } // clean folder\n\n\n    if (release.outputRoot.search('../repos') == 0) {\n      console.info('Cleaning dir', outputDirectory);\n      del.sync([outputDirectory + '**/*'], {\n        silent: true,\n        force: true\n      });\n    } // set-up local repo\n\n\n    function setupRepo() {\n      if (localRepoSetup) {\n        addRemote();\n      } else {\n        initRepo();\n      }\n    }\n\n    function initRepo() {\n      console.info('Initializing repository for ' + component);\n      git.init(gitOptions, function (error) {\n        if (error) {\n          console.error('Error initializing repo', error);\n        }\n\n        addRemote();\n      });\n    }\n\n    function createRepo() {\n      console.info('Creating GitHub repo ' + repoURL);\n      github.repos.createFromOrg({\n        org: release.org,\n        name: repoName,\n        homepage: release.homepage\n      }, function () {\n        setupRepo();\n      });\n    }\n\n    function addRemote() {\n      console.info('Adding remote origin as ' + gitURL);\n      git.addRemote('origin', gitURL, gitOptions, function () {\n        pullFiles();\n      });\n    }\n\n    function pullFiles() {\n      console.info('Pulling ' + component + ' files');\n      git.pull('origin', 'master', pullOptions, function (error) {\n        resetFiles();\n      });\n    }\n\n    function resetFiles() {\n      console.info('Resetting files to head');\n      git.reset('HEAD', resetOptions, function (error) {\n        nextRepo();\n      });\n    }\n\n    function nextRepo() {\n      //console.log('Sleeping for 1 second...');\n      // avoid rate throttling\n      global.clearTimeout(timer);\n      timer = global.setTimeout(function () {\n        stepRepo();\n      }, 0);\n    }\n\n    if (localRepoSetup) {\n      pullFiles();\n    } else {\n      setupRepo(); // createRepo() only use to create remote repo (easier to do manually)\n    }\n  };\n\n  stepRepo();\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"update.js\":function(require,exports,module,__filename,__dirname){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/admin/components/update.js                                                                           //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n          Update Repos\n*******************************/\n\n/*\n\n This task update all SUI individual component repos with new versions of components\n\n  * Commits changes from create repo\n  * Pushes changes to GitHub\n  * Tag new releases if version changed in main repo\n\n*/\nvar gulp = require('gulp'),\n    // node dependencies\nconsole = require('better-console'),\n    fs = require('fs'),\n    path = require('path'),\n    git = require('gulp-git'),\n    githubAPI = require('github'),\n    requireDotFile = require('require-dot-file'),\n    // admin files\ngithub = require('../../config/admin/github.js'),\n    release = require('../../config/admin/release'),\n    project = require('../../config/project/release'),\n    // oAuth configuration for GitHub\noAuth = fs.existsSync(__dirname + '/../../config/admin/oauth.js') ? require('../../config/admin/oauth') : false,\n    // shorthand\nversion = project.version;\n\nmodule.exports = function (callback) {\n  var index = -1,\n      total = release.components.length,\n      timer,\n      stream,\n      stepRepo;\n\n  if (!oAuth) {\n    console.error('Must add oauth token for GitHub in tasks/config/admin/oauth.js');\n    return;\n  } // Do Git commands synchronously per component, to avoid issues\n\n\n  stepRepo = function () {\n    index = index + 1;\n\n    if (index >= total) {\n      callback();\n      return;\n    }\n\n    var component = release.components[index],\n        outputDirectory = path.resolve(path.join(release.outputRoot, component)),\n        capitalizedComponent = component.charAt(0).toUpperCase() + component.slice(1),\n        repoName = release.componentRepoRoot + capitalizedComponent,\n        gitURL = 'https://github.com/' + release.org + '/' + repoName + '.git',\n        repoURL = 'https://github.com/' + release.org + '/' + repoName + '/',\n        commitArgs = oAuth.name !== undefined && oAuth.email !== undefined ? '--author \"' + oAuth.name + ' <' + oAuth.email + '>\"' : '',\n        componentPackage = fs.existsSync(outputDirectory + 'package.json') ? require(outputDirectory + 'package.json') : false,\n        isNewVersion = version && componentPackage.version != version,\n        commitMessage = isNewVersion ? 'Updated component to version ' + version : 'Updated files from main repo',\n        gitOptions = {\n      cwd: outputDirectory\n    },\n        commitOptions = {\n      args: commitArgs,\n      cwd: outputDirectory\n    },\n        releaseOptions = {\n      tag_name: version,\n      owner: release.org,\n      repo: repoName\n    },\n        fileModeOptions = {\n      args: 'config core.fileMode false',\n      cwd: outputDirectory\n    },\n        usernameOptions = {\n      args: 'config user.name \"' + oAuth.name + '\"',\n      cwd: outputDirectory\n    },\n        emailOptions = {\n      args: 'config user.email \"' + oAuth.email + '\"',\n      cwd: outputDirectory\n    },\n        versionOptions = {\n      args: 'rev-parse --verify HEAD',\n      cwd: outputDirectory\n    },\n        localRepoSetup = fs.existsSync(path.join(outputDirectory, '.git')),\n        canProceed = true;\n    console.info('Processing repository:' + outputDirectory);\n\n    function setConfig() {\n      git.exec(fileModeOptions, function () {\n        git.exec(usernameOptions, function () {\n          git.exec(emailOptions, function () {\n            commitFiles();\n          });\n        });\n      });\n    } // standard path\n\n\n    function commitFiles() {\n      // commit files\n      console.info('Committing ' + component + ' files', commitArgs);\n      gulp.src('./', gitOptions).pipe(git.add(gitOptions)).pipe(git.commit(commitMessage, commitOptions)).on('error', function (error) {// canProceed = false; bug in git commit <https://github.com/stevelacy/gulp-git/issues/49>\n      }).on('finish', function (callback) {\n        if (canProceed) {\n          pushFiles();\n        } else {\n          console.info('Nothing new to commit');\n          nextRepo();\n        }\n      });\n    } // push changes to remote\n\n\n    function pushFiles() {\n      console.info('Pushing files for ' + component);\n      git.push('origin', 'master', {\n        args: '',\n        cwd: outputDirectory\n      }, function (error) {\n        console.info('Push completed successfully');\n        getSHA();\n      });\n    } // gets SHA of last commit\n\n\n    function getSHA() {\n      git.exec(versionOptions, function (error, version) {\n        version = version.trim();\n        createRelease(version);\n      });\n    } // create release on GitHub.com\n\n\n    function createRelease(version) {\n      if (version) {\n        releaseOptions.target_commitish = version;\n      }\n\n      github.repos.createRelease(releaseOptions, function () {\n        nextRepo();\n      });\n    } // Steps to next repository\n\n\n    function nextRepo() {\n      console.log('Sleeping for 1 second...'); // avoid rate throttling\n\n      global.clearTimeout(timer);\n      timer = global.setTimeout(stepRepo, 100);\n    }\n\n    if (localRepoSetup) {\n      setConfig();\n    } else {\n      console.error('Repository must be setup before running update components');\n    }\n  };\n\n  stepRepo();\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"distributions\":{\"create.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/admin/distributions/create.js                                                                        //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n     Create Distributions\n*******************************/\n\n/*\n This will create individual distribution repositories for each SUI distribution\n\n  * copy distribution files to release\n  * update package.json file\n*/\nvar gulp = require('gulp'),\n    // node dependencies\nconsole = require('better-console'),\n    del = require('del'),\n    fs = require('fs'),\n    path = require('path'),\n    runSequence = require('run-sequence'),\n    mergeStream = require('merge-stream'),\n    // admin dependencies\nconcatFileNames = require('gulp-concat-filenames'),\n    debug = require('gulp-debug'),\n    flatten = require('gulp-flatten'),\n    git = require('gulp-git'),\n    jsonEditor = require('gulp-json-editor'),\n    plumber = require('gulp-plumber'),\n    rename = require('gulp-rename'),\n    replace = require('gulp-replace'),\n    tap = require('gulp-tap'),\n    // config\nconfig = require('../../config/user'),\n    release = require('../../config/admin/release'),\n    project = require('../../config/project/release'),\n    // shorthand\nversion = project.version,\n    output = config.paths.output;\n\nmodule.exports = function (callback) {\n  var stream,\n      index,\n      tasks = [];\n\n  for (index in release.distributions) {\n    var distribution = release.distributions[index]; // streams... designed to save time and make coding fun...\n\n    (function (distribution) {\n      var distLowerCase = distribution.toLowerCase(),\n          outputDirectory = path.join(release.outputRoot, distLowerCase),\n          packageFile = path.join(outputDirectory, release.files.npm),\n          repoName = release.distRepoRoot + distribution,\n          regExp = {\n        match: {\n          files: '{files}',\n          version: '{version}'\n        }\n      },\n          task = {\n        all: distribution + ' copying files',\n        repo: distribution + ' create repo',\n        meteor: distribution + ' create meteor package.js',\n        package: distribution + ' create package.json'\n      },\n          gatherFiles,\n          createList; // get files for meteor\n\n      gatherFiles = function (dir) {\n        var dir = dir || path.resolve('.'),\n            list = fs.readdirSync(dir),\n            omitted = ['.git', 'node_modules', 'package.js', 'LICENSE', 'README.md', 'package.json', 'bower.json', '.gitignore'],\n            files = [];\n        list.forEach(function (file) {\n          var isOmitted = omitted.indexOf(file) > -1,\n              filePath = path.join(dir, file),\n              stat = fs.statSync(filePath);\n\n          if (!isOmitted) {\n            if (stat && stat.isDirectory()) {\n              files = files.concat(gatherFiles(filePath));\n            } else {\n              files.push(filePath.replace(outputDirectory + path.sep, ''));\n            }\n          }\n        });\n        return files;\n      }; // spaces out list correctly\n\n\n      createList = function (files) {\n        var filenames = '';\n\n        for (var file in files) {\n          if (file == files.length - 1) {\n            filenames += \"'\" + files[file] + \"'\";\n          } else {\n            filenames += \"'\" + files[file] + \"',\\n    \";\n          }\n        }\n\n        return filenames;\n      };\n\n      gulp.task(task.meteor, function () {\n        var files = gatherFiles(outputDirectory),\n            filenames = createList(files);\n        gulp.src(release.templates.meteor[distLowerCase]).pipe(plumber()).pipe(flatten()).pipe(replace(regExp.match.version, version)).pipe(replace(regExp.match.files, filenames)).pipe(rename(release.files.meteor)).pipe(gulp.dest(outputDirectory));\n      });\n\n      if (distribution == 'CSS') {\n        gulp.task(task.repo, function () {\n          var themes, components, releases;\n          themes = gulp.src('dist/themes/default/**/*', {\n            base: 'dist/'\n          }).pipe(gulp.dest(outputDirectory));\n          components = gulp.src('dist/components/*', {\n            base: 'dist/'\n          }).pipe(gulp.dest(outputDirectory));\n          releases = gulp.src('dist/*', {\n            base: 'dist/'\n          }).pipe(gulp.dest(outputDirectory));\n          return mergeStream(themes, components, releases);\n        });\n      } else if (distribution == 'LESS') {\n        gulp.task(task.repo, function () {\n          var definitions, themeImport, themeConfig, siteTheme, themes;\n          definitions = gulp.src('src/definitions/**/*', {\n            base: 'src/'\n          }).pipe(gulp.dest(outputDirectory));\n          themeImport = gulp.src('src/semantic.less', {\n            base: 'src/'\n          }).pipe(gulp.dest(outputDirectory));\n          themeImport = gulp.src('src/theme.less', {\n            base: 'src/'\n          }).pipe(gulp.dest(outputDirectory));\n          themeConfig = gulp.src('src/theme.config.example', {\n            base: 'src/'\n          }).pipe(gulp.dest(outputDirectory));\n          siteTheme = gulp.src('src/_site/**/*', {\n            base: 'src/'\n          }).pipe(gulp.dest(outputDirectory));\n          themes = gulp.src('src/themes/**/*', {\n            base: 'src/'\n          }).pipe(gulp.dest(outputDirectory));\n          return mergeStream(definitions, themeImport, themeConfig, siteTheme, themes);\n        });\n      } // extend package.json\n\n\n      gulp.task(task.package, function () {\n        return gulp.src(packageFile).pipe(plumber()).pipe(jsonEditor(function (package) {\n          if (version) {\n            package.version = version;\n          }\n\n          return package;\n        })).pipe(gulp.dest(outputDirectory));\n      });\n      tasks.push(task.meteor);\n      tasks.push(task.repo);\n      tasks.push(task.package);\n    })(distribution);\n  }\n\n  runSequence(tasks, callback);\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"init.js\":function(require,exports,module,__filename,__dirname){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/admin/distributions/init.js                                                                          //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n        Init Dist Repos\n*******************************/\n\n/*\n\n This task pulls the latest version of distribution from GitHub\n\n  * Creates new repo if doesnt exist (locally & GitHub)\n  * Adds remote it doesnt exists\n  * Pulls latest changes from repo\n\n*/\nvar gulp = require('gulp'),\n    // node dependencies\nconsole = require('better-console'),\n    del = require('del'),\n    fs = require('fs'),\n    path = require('path'),\n    git = require('gulp-git'),\n    githubAPI = require('github'),\n    mkdirp = require('mkdirp'),\n    // admin files\ngithub = require('../../config/admin/github.js'),\n    release = require('../../config/admin/release'),\n    project = require('../../config/project/release'),\n    // oAuth configuration for GitHub\noAuth = fs.existsSync(__dirname + '/../../config/admin/oauth.js') ? require('../../config/admin/oauth') : false,\n    // shorthand\nversion = project.version;\n\nmodule.exports = function (callback) {\n  var index = -1,\n      total = release.distributions.length,\n      timer,\n      stream,\n      stepRepo;\n\n  if (!oAuth) {\n    console.error('Must add oauth token for GitHub in tasks/config/admin/oauth.js');\n    return;\n  } // Do Git commands synchronously per component, to avoid issues\n\n\n  stepRepo = function () {\n    index = index + 1;\n\n    if (index >= total) {\n      callback();\n      return;\n    }\n\n    var component = release.distributions[index],\n        lowerCaseComponent = component.toLowerCase(),\n        outputDirectory = path.resolve(release.outputRoot + lowerCaseComponent),\n        repoName = release.distRepoRoot + component,\n        gitOptions = {\n      cwd: outputDirectory\n    },\n        pullOptions = {\n      args: '-q',\n      cwd: outputDirectory,\n      quiet: true\n    },\n        resetOptions = {\n      args: '-q --hard',\n      cwd: outputDirectory,\n      quiet: true\n    },\n        gitURL = 'git@github.com:' + release.org + '/' + repoName + '.git',\n        repoURL = 'https://github.com/' + release.org + '/' + repoName + '/',\n        localRepoSetup = fs.existsSync(path.join(outputDirectory, '.git'));\n    console.log('Processing repository: ' + outputDirectory); // create folder if doesn't exist\n\n    if (!fs.existsSync(outputDirectory)) {\n      mkdirp.sync(outputDirectory);\n    } // clean folder\n\n\n    if (release.outputRoot.search('../repos') == 0) {\n      console.info('Cleaning dir', outputDirectory);\n      del.sync([outputDirectory + '**/*'], {\n        silent: true,\n        force: true\n      });\n    } // set-up local repo\n\n\n    function setupRepo() {\n      if (localRepoSetup) {\n        addRemote();\n      } else {\n        initRepo();\n      }\n    }\n\n    function initRepo() {\n      console.info('Initializing repository for ' + component);\n      git.init(gitOptions, function (error) {\n        if (error) {\n          console.error('Error initializing repo', error);\n        }\n\n        addRemote();\n      });\n    }\n\n    function createRepo() {\n      console.info('Creating GitHub repo ' + repoURL);\n      github.repos.createFromOrg({\n        org: release.org,\n        name: repoName,\n        homepage: release.homepage\n      }, function () {\n        setupRepo();\n      });\n    }\n\n    function addRemote() {\n      console.info('Adding remote origin as ' + gitURL);\n      git.addRemote('origin', gitURL, gitOptions, function () {\n        pullFiles();\n      });\n    }\n\n    function pullFiles() {\n      console.info('Pulling ' + component + ' files');\n      git.pull('origin', 'master', pullOptions, function (error) {\n        resetFiles();\n      });\n    }\n\n    function resetFiles() {\n      console.info('Resetting files to head');\n      git.reset('HEAD', resetOptions, function (error) {\n        nextRepo();\n      });\n    }\n\n    function nextRepo() {\n      //console.log('Sleeping for 1 second...');\n      // avoid rate throttling\n      global.clearTimeout(timer);\n      timer = global.setTimeout(function () {\n        stepRepo();\n      }, 0);\n    }\n\n    if (localRepoSetup) {\n      pullFiles();\n    } else {\n      setupRepo(); // createRepo() only use to create remote repo (easier to do manually)\n    }\n  };\n\n  stepRepo();\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"update.js\":function(require,exports,module,__filename,__dirname){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/admin/distributions/update.js                                                                        //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n          Update Repos\n*******************************/\n\n/*\n\n This task update all SUI individual distribution repos with new versions of distributions\n\n  * Commits changes from create repo\n  * Pushes changes to GitHub\n  * Tag new releases if version changed in main repo\n\n*/\nvar gulp = require('gulp'),\n    // node dependencies\nconsole = require('better-console'),\n    fs = require('fs'),\n    path = require('path'),\n    git = require('gulp-git'),\n    githubAPI = require('github'),\n    requireDotFile = require('require-dot-file'),\n    // admin files\ngithub = require('../../config/admin/github.js'),\n    release = require('../../config/admin/release'),\n    project = require('../../config/project/release'),\n    // oAuth configuration for GitHub\noAuth = fs.existsSync(__dirname + '/../../config/admin/oauth.js') ? require('../../config/admin/oauth') : false,\n    // shorthand\nversion = project.version;\n\nmodule.exports = function (callback) {\n  var index = -1,\n      total = release.distributions.length,\n      timer,\n      stream,\n      stepRepo;\n\n  if (!oAuth) {\n    console.error('Must add oauth token for GitHub in tasks/config/admin/oauth.js');\n    return;\n  } // Do Git commands synchronously per distribution, to avoid issues\n\n\n  stepRepo = function () {\n    index = index + 1;\n\n    if (index >= total) {\n      callback();\n      return;\n    }\n\n    var distribution = release.distributions[index],\n        outputDirectory = path.resolve(path.join(release.outputRoot, distribution.toLowerCase())),\n        repoName = release.distRepoRoot + distribution,\n        commitArgs = oAuth.name !== undefined && oAuth.email !== undefined ? '--author \"' + oAuth.name + ' <' + oAuth.email + '>\"' : '',\n        distributionPackage = fs.existsSync(outputDirectory + 'package.json') ? require(outputDirectory + 'package.json') : false,\n        isNewVersion = version && distributionPackage.version != version,\n        commitMessage = isNewVersion ? 'Updated distribution to version ' + version : 'Updated files from main repo',\n        gitOptions = {\n      cwd: outputDirectory\n    },\n        commitOptions = {\n      args: commitArgs,\n      cwd: outputDirectory\n    },\n        releaseOptions = {\n      tag_name: version,\n      owner: release.org,\n      repo: repoName\n    },\n        fileModeOptions = {\n      args: 'config core.fileMode false',\n      cwd: outputDirectory\n    },\n        usernameOptions = {\n      args: 'config user.name \"' + oAuth.name + '\"',\n      cwd: outputDirectory\n    },\n        emailOptions = {\n      args: 'config user.email \"' + oAuth.email + '\"',\n      cwd: outputDirectory\n    },\n        versionOptions = {\n      args: 'rev-parse --verify HEAD',\n      cwd: outputDirectory\n    },\n        localRepoSetup = fs.existsSync(path.join(outputDirectory, '.git')),\n        canProceed = true;\n    console.info('Processing repository:' + outputDirectory);\n\n    function setConfig() {\n      git.exec(fileModeOptions, function () {\n        git.exec(usernameOptions, function () {\n          git.exec(emailOptions, function () {\n            commitFiles();\n          });\n        });\n      });\n    } // standard path\n\n\n    function commitFiles() {\n      // commit files\n      console.info('Committing ' + distribution + ' files', commitArgs);\n      gulp.src('./', gitOptions).pipe(git.add(gitOptions)).pipe(git.commit(commitMessage, commitOptions)).on('error', function (error) {// canProceed = false; bug in git commit <https://github.com/stevelacy/gulp-git/issues/49>\n      }).on('finish', function (callback) {\n        if (canProceed) {\n          pushFiles();\n        } else {\n          console.info('Nothing new to commit');\n          nextRepo();\n        }\n      });\n    } // push changes to remote\n\n\n    function pushFiles() {\n      console.info('Pushing files for ' + distribution);\n      git.push('origin', 'master', {\n        args: '',\n        cwd: outputDirectory\n      }, function (error) {\n        console.info('Push completed successfully');\n        getSHA();\n      });\n    } // gets SHA of last commit\n\n\n    function getSHA() {\n      git.exec(versionOptions, function (error, version) {\n        version = version.trim();\n        createRelease(version);\n      });\n    } // create release on GitHub.com\n\n\n    function createRelease(version) {\n      if (version) {\n        releaseOptions.target_commitish = version;\n      }\n\n      github.repos.createRelease(releaseOptions, function () {\n        nextRepo();\n      });\n    } // Steps to next repository\n\n\n    function nextRepo() {\n      console.log('Sleeping for 1 second...'); // avoid rate throttling\n\n      global.clearTimeout(timer);\n      timer = global.setTimeout(stepRepo, 100);\n    }\n\n    if (localRepoSetup) {\n      setConfig();\n    } else {\n      console.error('Repository must be setup before running update distributions');\n    }\n  };\n\n  stepRepo();\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"publish.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/admin/publish.js                                                                                     //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n          Release All\n*******************************/\n\n/*\n This task update all SUI individual component repos with new versions of components\n\n  * Commits changes from create components to GitHub and Tags\n\n*/\nvar runSequence = require('run-sequence');\n/* Release All */\n\n\nmodule.exports = function (callback) {\n  runSequence('update distributions', // commit less/css versions to github\n  'update components', // commit components to github\n  callback);\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"register.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/admin/register.js                                                                                    //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n          Register PM\n*******************************/\n\n/*\n  Task to register component repos with Package Managers\n  * Registers component with bower\n  * Registers component with NPM\n*/\nvar // node dependencies\nprocess = require('child_process'),\n    // config\nrelease = require('../config/admin/release'),\n    // register components and distributions\nrepos = release.distributions.concat(release.components),\n    total = repos.length,\n    index = -1,\n    stream,\n    stepRepo;\n\nmodule.exports = function (callback) {\n  console.log('Registering repos with package managers'); // Do Git commands synchronously per component, to avoid issues\n\n  stepRepo = function () {\n    index = index + 1;\n\n    if (index >= total) {\n      callback();\n      return;\n    }\n\n    var repo = repos[index].toLowerCase(),\n        outputDirectory = release.outputRoot + repo + '/',\n        exec = process.exec,\n        execSettings = {\n      cwd: outputDirectory\n    },\n        updateNPM = 'npm publish;meteor publish;';\n    /* Register with NPM */\n\n    exec(updateNPM, execSettings, function (err, stdout, stderr) {\n      console.log(err, stdout, stderr);\n      stepRepo();\n    });\n  };\n\n  stepRepo();\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"release.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/admin/release.js                                                                                     //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n          Release\n*******************************/\n\n/*\n This task update all SUI individual component repos with new versions of components\n\n  * Initializes repositories with current versions\n  * Creates local files at ../distributions/ with each repo for release\n\n*/\nvar runSequence = require('run-sequence');\n/* Release All */\n\n\nmodule.exports = function (callback) {\n  runSequence( //'build', // build Semantic\n  'init distributions', // sync with current github version\n  'create distributions', // update each repo with changes from master repo\n  'init components', // sync with current github version\n  'create components', // update each repo\n  callback);\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"build\":{\"assets.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/build/assets.js                                                                                      //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n          Build Task\n*******************************/\nvar gulp = require('gulp'),\n    // gulp dependencies\nchmod = require('gulp-chmod'),\n    gulpif = require('gulp-if'),\n    // config\nconfig = require('../config/user'),\n    tasks = require('../config/tasks'),\n    // shorthand\nglobs = config.globs,\n    assets = config.paths.assets,\n    output = config.paths.output,\n    source = config.paths.source,\n    log = tasks.log;\n\nmodule.exports = function (callback) {\n  console.info('Building assets'); // copy assets\n\n  return gulp.src(source.themes + '/**/assets/**/*.*').pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.themes));\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"css.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/build/css.js                                                                                         //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n          Build Task\n*******************************/\nvar gulp = require('gulp'),\n    // node dependencies\nconsole = require('better-console'),\n    fs = require('fs'),\n    // gulp dependencies\nautoprefixer = require('gulp-autoprefixer'),\n    chmod = require('gulp-chmod'),\n    clone = require('gulp-clone'),\n    flatten = require('gulp-flatten'),\n    gulpif = require('gulp-if'),\n    less = require('gulp-less'),\n    minifyCSS = require('gulp-clean-css'),\n    plumber = require('gulp-plumber'),\n    print = require('gulp-print'),\n    rename = require('gulp-rename'),\n    replace = require('gulp-replace'),\n    runSequence = require('run-sequence'),\n    // config\nconfig = require('../config/user'),\n    tasks = require('../config/tasks'),\n    install = require('../config/project/install'),\n    // shorthand\nglobs = config.globs,\n    assets = config.paths.assets,\n    output = config.paths.output,\n    source = config.paths.source,\n    banner = tasks.banner,\n    comments = tasks.regExp.comments,\n    log = tasks.log,\n    settings = tasks.settings; // add internal tasks (concat release)\n\n\nrequire('../collections/internal')(gulp);\n\nmodule.exports = function (callback) {\n  var tasksCompleted = 0,\n      maybeCallback = function () {\n    tasksCompleted++;\n\n    if (tasksCompleted === 2) {\n      callback();\n    }\n  },\n      stream,\n      compressedStream,\n      uncompressedStream;\n\n  console.info('Building CSS');\n\n  if (!install.isSetup()) {\n    console.error('Cannot build files. Run \"gulp install\" to set-up Semantic');\n    return;\n  } // unified css stream\n\n\n  stream = gulp.src(source.definitions + '/**/' + globs.components + '.less').pipe(plumber(settings.plumber.less)).pipe(less(settings.less)).pipe(autoprefixer(settings.prefix)).pipe(replace(comments.variables.in, comments.variables.out)).pipe(replace(comments.license.in, comments.license.out)).pipe(replace(comments.large.in, comments.large.out)).pipe(replace(comments.small.in, comments.small.out)).pipe(replace(comments.tiny.in, comments.tiny.out)).pipe(flatten()); // two concurrent streams from same source to concat release\n\n  uncompressedStream = stream.pipe(clone());\n  compressedStream = stream.pipe(clone()); // uncompressed component css\n\n  uncompressedStream.pipe(plumber()).pipe(replace(assets.source, assets.uncompressed)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.uncompressed)).pipe(print(log.created)).on('end', function () {\n    runSequence('package uncompressed css', maybeCallback);\n  }); // compressed component css\n\n  compressedStream = stream.pipe(plumber()).pipe(clone()).pipe(replace(assets.source, assets.compressed)).pipe(minifyCSS(settings.minify)).pipe(rename(settings.rename.minCSS)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.compressed)).pipe(print(log.created)).on('end', function () {\n    runSequence('package compressed css', maybeCallback);\n  });\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"javascript.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/build/javascript.js                                                                                  //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n          Build Task\n*******************************/\nvar gulp = require('gulp'),\n    // node dependencies\nconsole = require('better-console'),\n    fs = require('fs'),\n    // gulp dependencies\nchmod = require('gulp-chmod'),\n    flatten = require('gulp-flatten'),\n    gulpif = require('gulp-if'),\n    plumber = require('gulp-plumber'),\n    print = require('gulp-print'),\n    rename = require('gulp-rename'),\n    replace = require('gulp-replace'),\n    uglify = require('gulp-uglify'),\n    // config\nconfig = require('../config/user'),\n    tasks = require('../config/tasks'),\n    install = require('../config/project/install'),\n    // shorthand\nglobs = config.globs,\n    assets = config.paths.assets,\n    output = config.paths.output,\n    source = config.paths.source,\n    banner = tasks.banner,\n    comments = tasks.regExp.comments,\n    log = tasks.log,\n    settings = tasks.settings; // add internal tasks (concat release)\n\n\nrequire('../collections/internal')(gulp);\n\nmodule.exports = function (callback) {\n  var stream, compressedStream, uncompressedStream;\n  console.info('Building Javascript');\n\n  if (!install.isSetup()) {\n    console.error('Cannot build files. Run \"gulp install\" to set-up Semantic');\n    return;\n  } // copy source javascript\n\n\n  gulp.src(source.definitions + '/**/' + globs.components + '.js').pipe(plumber()).pipe(flatten()).pipe(replace(comments.license.in, comments.license.out)).pipe(gulp.dest(output.uncompressed)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(print(log.created)).pipe(uglify(settings.uglify)).pipe(rename(settings.rename.minJS)).pipe(gulp.dest(output.compressed)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(print(log.created)).on('end', function () {\n    gulp.start('package compressed js');\n    gulp.start('package uncompressed js');\n    callback();\n  });\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"collections\":{\"admin.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/collections/admin.js                                                                                 //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n     Admin Task Collection\n*******************************/\n\n/*\n  This are tasks to be run by project maintainers\n  - Creating Component Repos\n  - Syncing with GitHub via APIs\n  - Modifying package files\n*/\n\n/*******************************\n             Tasks\n*******************************/\nmodule.exports = function (gulp) {\n  var // less/css distributions\n  initComponents = require('../admin/components/init'),\n      createComponents = require('../admin/components/create'),\n      updateComponents = require('../admin/components/update'),\n      // single component releases\n  initDistributions = require('../admin/distributions/init'),\n      createDistributions = require('../admin/distributions/create'),\n      updateDistributions = require('../admin/distributions/update'),\n      release = require('../admin/release'),\n      publish = require('../admin/publish'),\n      register = require('../admin/register');\n  /* Release */\n\n\n  gulp.task('init distributions', 'Grabs each component from GitHub', initDistributions);\n  gulp.task('create distributions', 'Updates files in each repo', createDistributions);\n  gulp.task('init components', 'Grabs each component from GitHub', initComponents);\n  gulp.task('create components', 'Updates files in each repo', createComponents);\n  /* Publish */\n\n  gulp.task('update distributions', 'Commits component updates from create to GitHub', updateDistributions);\n  gulp.task('update components', 'Commits component updates from create to GitHub', updateComponents);\n  /* Tasks */\n\n  gulp.task('release', 'Stages changes in GitHub repos for all distributions', release);\n  gulp.task('publish', 'Publishes all releases (components, package)', publish);\n  gulp.task('register', 'Registers all packages with NPM', register);\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"build.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/collections/build.js                                                                                 //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n        Define Sub-Tasks\n*******************************/\nmodule.exports = function (gulp) {\n  var // build sub-tasks\n  buildJS = require('./../build/javascript'),\n      buildCSS = require('./../build/css'),\n      buildAssets = require('./../build/assets'); // in case these tasks are undefined during import, less make sure these are available in scope\n\n\n  gulp.task('build-javascript', 'Builds all javascript from source', buildJS);\n  gulp.task('build-css', 'Builds all css from source', buildCSS);\n  gulp.task('build-assets', 'Copies all assets from source', buildAssets);\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"internal.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/collections/internal.js                                                                              //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n    Internal Task Collection\n*******************************/\n\n/* These tasks create packaged files from **dist** components\n   Not intended to be called directly by a user because\n   these do not build fresh from **src**\n*/\nmodule.exports = function (gulp) {\n  var // node dependencies\n  fs = require('fs'),\n      chmod = require('gulp-chmod'),\n      concat = require('gulp-concat'),\n      concatCSS = require('gulp-concat-css'),\n      clone = require('gulp-clone'),\n      dedupe = require('gulp-dedupe'),\n      gulpif = require('gulp-if'),\n      header = require('gulp-header'),\n      less = require('gulp-less'),\n      minifyCSS = require('gulp-clean-css'),\n      plumber = require('gulp-plumber'),\n      print = require('gulp-print'),\n      rename = require('gulp-rename'),\n      replace = require('gulp-replace'),\n      uglify = require('gulp-uglify'),\n      // user config\n  config = require('./../config/user'),\n      docsConfig = require('./../config/docs'),\n      // install config\n  tasks = require('./../config/tasks'),\n      release = require('./../config/project/release'),\n      // shorthand\n  globs = config.globs,\n      assets = config.paths.assets,\n      output = config.paths.output,\n      banner = tasks.banner,\n      filenames = tasks.filenames,\n      log = tasks.log,\n      settings = tasks.settings;\n  /*--------------\n      Packaged\n  ---------------*/\n\n\n  gulp.task('package uncompressed css', function () {\n    return gulp.src(output.uncompressed + '/**/' + globs.components + globs.ignored + '.css').pipe(plumber()).pipe(dedupe()).pipe(replace(assets.uncompressed, assets.packaged)).pipe(concatCSS(filenames.concatenatedCSS, settings.concatCSS)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(header(banner, settings.header)).pipe(gulp.dest(output.packaged)).pipe(print(log.created));\n  });\n  gulp.task('package compressed css', function () {\n    return gulp.src(output.uncompressed + '/**/' + globs.components + globs.ignored + '.css').pipe(plumber()).pipe(dedupe()).pipe(replace(assets.uncompressed, assets.packaged)).pipe(concatCSS(filenames.concatenatedMinifiedCSS, settings.concatCSS)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(minifyCSS(settings.concatMinify)).pipe(header(banner, settings.header)).pipe(gulp.dest(output.packaged)).pipe(print(log.created));\n  });\n  gulp.task('package uncompressed js', function () {\n    return gulp.src(output.uncompressed + '/**/' + globs.components + globs.ignored + '.js').pipe(plumber()).pipe(dedupe()).pipe(replace(assets.uncompressed, assets.packaged)).pipe(concat(filenames.concatenatedJS)).pipe(header(banner, settings.header)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.packaged)).pipe(print(log.created));\n  });\n  gulp.task('package compressed js', function () {\n    return gulp.src(output.uncompressed + '/**/' + globs.components + globs.ignored + '.js').pipe(plumber()).pipe(dedupe()).pipe(replace(assets.uncompressed, assets.packaged)).pipe(concat(filenames.concatenatedMinifiedJS)).pipe(uglify(settings.concatUglify)).pipe(header(banner, settings.header)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.packaged)).pipe(print(log.created));\n  });\n  /*--------------\n        RTL\n  ---------------*/\n\n  if (config.rtl) {\n    gulp.task('package uncompressed rtl css', function () {\n      return gulp.src(output.uncompressed + '/**/' + globs.components + globs.ignoredRTL + '.rtl.css').pipe(dedupe()).pipe(replace(assets.uncompressed, assets.packaged)).pipe(concatCSS(filenames.concatenatedRTLCSS, settings.concatCSS)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(header(banner, settings.header)).pipe(gulp.dest(output.packaged)).pipe(print(log.created));\n    });\n    gulp.task('package compressed rtl css', function () {\n      return gulp.src(output.uncompressed + '/**/' + globs.components + globs.ignoredRTL + '.rtl.css').pipe(dedupe()).pipe(replace(assets.uncompressed, assets.packaged)).pipe(concatCSS(filenames.concatenatedMinifiedRTLCSS, settings.concatCSS)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(minifyCSS(settings.concatMinify)).pipe(header(banner, settings.header)).pipe(gulp.dest(output.packaged)).pipe(print(log.created));\n    });\n    gulp.task('package uncompressed docs css', function () {\n      return gulp.src(output.uncompressed + '/**/' + globs.components + globs.ignored + '.css').pipe(dedupe()).pipe(plumber()).pipe(replace(assets.uncompressed, assets.packaged)).pipe(concatCSS(filenames.concatenatedCSS, settings.concatCSS)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.packaged)).pipe(print(log.created));\n    });\n    gulp.task('package compressed docs css', function () {\n      return gulp.src(output.uncompressed + '/**/' + globs.components + globs.ignored + '.css').pipe(dedupe()).pipe(plumber()).pipe(replace(assets.uncompressed, assets.packaged)).pipe(concatCSS(filenames.concatenatedMinifiedCSS, settings.concatCSS)).pipe(minifyCSS(settings.concatMinify)).pipe(header(banner, settings.header)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.packaged)).pipe(print(log.created));\n    });\n  }\n  /*--------------\n        Docs\n  ---------------*/\n\n\n  var docsOutput = docsConfig.paths.output;\n  gulp.task('package uncompressed docs css', function () {\n    return gulp.src(docsOutput.uncompressed + '/**/' + globs.components + globs.ignored + '.css').pipe(dedupe()).pipe(plumber()).pipe(replace(assets.uncompressed, assets.packaged)).pipe(concatCSS(filenames.concatenatedCSS, settings.concatCSS)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(docsOutput.packaged)).pipe(print(log.created));\n  });\n  gulp.task('package compressed docs css', function () {\n    return gulp.src(docsOutput.uncompressed + '/**/' + globs.components + globs.ignored + '.css').pipe(dedupe()).pipe(plumber()).pipe(replace(assets.uncompressed, assets.packaged)).pipe(concatCSS(filenames.concatenatedMinifiedCSS, settings.concatCSS)).pipe(minifyCSS(settings.concatMinify)).pipe(header(banner, settings.header)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(docsOutput.packaged)).pipe(print(log.created));\n  });\n  gulp.task('package uncompressed docs js', function () {\n    return gulp.src(docsOutput.uncompressed + '/**/' + globs.components + globs.ignored + '.js').pipe(dedupe()).pipe(plumber()).pipe(replace(assets.uncompressed, assets.packaged)).pipe(concat(filenames.concatenatedJS)).pipe(header(banner, settings.header)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(docsOutput.packaged)).pipe(print(log.created));\n  });\n  gulp.task('package compressed docs js', function () {\n    return gulp.src(docsOutput.uncompressed + '/**/' + globs.components + globs.ignored + '.js').pipe(dedupe()).pipe(plumber()).pipe(replace(assets.uncompressed, assets.packaged)).pipe(concat(filenames.concatenatedMinifiedJS)).pipe(uglify(settings.concatUglify)).pipe(header(banner, settings.header)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(docsOutput.packaged)).pipe(print(log.created));\n  });\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"rtl.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/collections/rtl.js                                                                                   //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n        Define Sub-Tasks\n*******************************/\nmodule.exports = function (gulp) {\n  var // rtl\n  buildRTL = require('./../rtl/build'),\n      watchRTL = require('./../rtl/watch');\n\n  gulp.task('watch-rtl', 'Build all files as RTL', watchRTL);\n  gulp.task('build-rtl', 'Watch files as RTL ', buildRTL);\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"docs\":{\"build.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/docs/build.js                                                                                        //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n           Build Docs\n*******************************/\nvar gulp = require('gulp'),\n    // node dependencies\nconsole = require('better-console'),\n    fs = require('fs'),\n    map = require('map-stream'),\n    // gulp dependencies\nautoprefixer = require('gulp-autoprefixer'),\n    chmod = require('gulp-chmod'),\n    clone = require('gulp-clone'),\n    flatten = require('gulp-flatten'),\n    gulpif = require('gulp-if'),\n    header = require('gulp-header'),\n    less = require('gulp-less'),\n    minifyCSS = require('gulp-clean-css'),\n    plumber = require('gulp-plumber'),\n    print = require('gulp-print'),\n    rename = require('gulp-rename'),\n    replace = require('gulp-replace'),\n    uglify = require('gulp-uglify'),\n    // user config\nconfig = require('../config/docs'),\n    // install config\ntasks = require('../config/tasks'),\n    configSetup = require('../config/project/config'),\n    install = require('../config/project/install'),\n    // metadata parsing\nmetadata = require('./metadata'),\n    // shorthand\nglobs,\n    assets,\n    output,\n    source,\n    banner = tasks.banner,\n    comments = tasks.regExp.comments,\n    log = tasks.log,\n    settings = tasks.settings; // add internal tasks (concat release)\n\n\nrequire('../collections/internal')(gulp);\n\nmodule.exports = function (callback) {\n  var stream, compressedStream, uncompressedStream; // use a different config\n\n  config = configSetup.addDerivedValues(config); // shorthand\n\n  globs = config.globs;\n  assets = config.paths.assets;\n  output = config.paths.output;\n  source = config.paths.source;\n  /*--------------\n   Parse metadata\n   ---------------*/\n  // parse all *.html.eco in docs repo, data will end up in\n  // metadata.result object.  Note this assumes that the docs\n  // repository is present and in proper directory location as\n  // specified by docs.json.\n\n  console.info('Building Metadata');\n  gulp.src(config.paths.template.eco + globs.eco).pipe(map(metadata.parser)).on('end', function () {\n    fs.writeFile(output.metadata + '/metadata.json', JSON.stringify(metadata.result, null, 2));\n  });\n  /*--------------\n    Copy Examples\n  ---------------*/\n\n  console.info('Copying examples'); // copy src/ to server\n\n  gulp.src('examples/**/*.*').pipe(gulp.dest(output.examples)).pipe(print(log.created));\n  /*--------------\n     Copy Source\n  ---------------*/\n\n  console.info('Copying LESS source'); // copy src/ to server\n\n  gulp.src('src/**/*.*').pipe(gulp.dest(output.less)).pipe(print(log.created));\n  /*--------------\n        Build\n  ---------------*/\n\n  console.info('Building Semantic for docs');\n\n  if (!install.isSetup()) {\n    console.error('Cannot build files. Run \"gulp install\" to set-up Semantic');\n    return;\n  } // unified css stream\n\n\n  stream = gulp.src(source.definitions + '/**/' + globs.components + '.less').pipe(plumber()).pipe(less(settings.less)).pipe(autoprefixer(settings.prefix)).pipe(flatten()); // two concurrent streams from same source to concat release\n\n  uncompressedStream = stream.pipe(clone());\n  compressedStream = stream.pipe(clone());\n  uncompressedStream.pipe(plumber()).pipe(replace(comments.variables.in, comments.variables.out)).pipe(replace(comments.large.in, comments.large.out)).pipe(replace(comments.small.in, comments.small.out)).pipe(replace(comments.tiny.in, comments.tiny.out)).pipe(replace(assets.source, assets.uncompressed)).pipe(header(banner, settings.header)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.uncompressed)).pipe(print(log.created)).on('end', function () {\n    gulp.start('package uncompressed docs css');\n  });\n  compressedStream = stream.pipe(plumber()).pipe(clone()).pipe(replace(assets.source, assets.compressed)).pipe(minifyCSS(settings.minify)).pipe(rename(settings.rename.minCSS)).pipe(header(banner, settings.header)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.compressed)).pipe(print(log.created)).on('end', function () {\n    callback();\n    gulp.start('package compressed docs css');\n  }); // copy assets\n\n  gulp.src(source.themes + '/**/assets/**/*.*').pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.themes)); // copy source javascript\n\n  gulp.src(source.definitions + '/**/' + globs.components + '.js').pipe(plumber()).pipe(flatten()).pipe(gulp.dest(output.uncompressed)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(print(log.created)).pipe(uglify(settings.uglify)).pipe(rename(settings.rename.minJS)).pipe(header(banner, settings.header)).pipe(gulp.dest(output.compressed)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(print(log.created)).on('end', function () {\n    gulp.start('package compressed docs js');\n    gulp.start('package uncompressed docs js');\n  });\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"metadata.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/docs/metadata.js                                                                                     //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n           Summarize Docs\n*******************************/\nvar // node dependencies\nconsole = require('better-console'),\n    fs = require('fs'),\n    YAML = require('yamljs');\n\nvar data = {};\n/**\n * Test for prefix in string.\n * @param {string} str\n * @param {string} prefix\n * @return {boolean}\n */\n\nfunction startsWith(str, prefix) {\n  return str.indexOf(prefix) === 0;\n}\n\n;\n\nfunction inArray(needle, haystack) {\n  var length = haystack.length;\n\n  for (var i = 0; i < length; i++) {\n    if (haystack[i] == needle) return true;\n  }\n\n  return false;\n}\n/**\n * Parses a file for metadata and stores result in data object.\n * @param {File} file - object provided by map-stream.\n * @param {function(?,File)} - callback provided by map-stream to\n * reply when done.\n */\n\n\nfunction parser(file, callback) {\n  // file exit conditions\n  if (file.isNull()) {\n    return callback(null, file); // pass along\n  }\n\n  if (file.isStream()) {\n    return callback(new Error('Streaming not supported'));\n  }\n\n  try {\n    var\n    /** @type {string} */\n    text = String(file.contents.toString('utf8')),\n        lines = text.split('\\n'),\n        filename = file.path.substring(0, file.path.length - 4),\n        key = 'server/documents',\n        position = filename.indexOf(key); // exit conditions\n\n    if (!lines) {\n      return;\n    }\n\n    if (position < 0) {\n      return callback(null, file);\n    }\n\n    filename = filename.substring(position + key.length + 1, filename.length);\n    var lineCount = lines.length,\n        active = false,\n        yaml = [],\n        categories = ['UI Element', 'UI Global', 'UI Collection', 'UI View', 'UI Module', 'UI Behavior'],\n        index,\n        meta,\n        line;\n\n    for (index = 0; index < lineCount; index++) {\n      line = lines[index]; // Wait for metadata block to begin\n\n      if (!active) {\n        if (startsWith(line, '---')) {\n          active = true;\n        }\n\n        continue;\n      } // End of metadata block, stop parsing.\n\n\n      if (startsWith(line, '---')) {\n        break;\n      }\n\n      yaml.push(line);\n    } // Parse yaml.\n\n\n    meta = YAML.parse(yaml.join('\\n'));\n\n    if (meta && meta.type && meta.title && inArray(meta.type, categories)) {\n      meta.category = meta.type;\n      meta.filename = filename;\n      meta.url = '/' + filename;\n      meta.title = meta.title; // Primary key will by filepath\n\n      data[meta.element] = meta;\n    } else {// skip\n      // console.log(meta);\n    }\n  } catch (error) {\n    console.log(error, filename);\n  }\n\n  callback(null, file);\n}\n/**\n * Export function expected by map-stream.\n */\n\n\nmodule.exports = {\n  result: data,\n  parser: parser\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"serve.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/docs/serve.js                                                                                        //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n           Serve Docs\n*******************************/\nvar gulp = require('gulp'),\n    // node dependencies\nconsole = require('better-console'),\n    fs = require('fs'),\n    // gulp dependencies\nautoprefixer = require('gulp-autoprefixer'),\n    chmod = require('gulp-chmod'),\n    clone = require('gulp-clone'),\n    gulpif = require('gulp-if'),\n    header = require('gulp-header'),\n    less = require('gulp-less'),\n    minifyCSS = require('gulp-clean-css'),\n    plumber = require('gulp-plumber'),\n    print = require('gulp-print'),\n    rename = require('gulp-rename'),\n    replace = require('gulp-replace'),\n    uglify = require('gulp-uglify'),\n    util = require('gulp-util'),\n    watch = require('gulp-watch'),\n    // user config\nconfig = require('../config/docs'),\n    // task config\ntasks = require('../config/tasks'),\n    configSetup = require('../config/project/config'),\n    install = require('../config/project/install'),\n    // shorthand\nbanner = tasks.banner,\n    comments = tasks.regExp.comments,\n    log = tasks.log,\n    settings = tasks.settings,\n    globs,\n    assets,\n    output,\n    source;\n\nrequire('../collections/internal')(gulp);\n\nmodule.exports = function () {\n  // use a different config\n  config = configSetup.addDerivedValues(config); // shorthand\n\n  globs = config.globs;\n  assets = config.paths.assets;\n  output = config.paths.output;\n  source = config.paths.source;\n  /*--------------\n     Copy Source\n  ---------------*/\n\n  gulp.watch(['src/**/*.*'], function (file) {\n    console.clear();\n    return gulp.src(file.path, {\n      base: 'src/'\n    }).pipe(gulp.dest(output.less)).pipe(print(log.created));\n  });\n  /*--------------\n    Copy Examples\n  ---------------*/\n\n  gulp.watch(['examples/**/*.*'], function (file) {\n    console.clear();\n    return gulp.src(file.path, {\n      base: 'examples/'\n    }).pipe(gulp.dest(output.examples)).pipe(print(log.created));\n  });\n  /*--------------\n      Watch CSS\n  ---------------*/\n\n  gulp.watch([source.config, source.definitions + '/**/*.less', source.site + '/**/*.{overrides,variables}', source.themes + '/**/*.{overrides,variables}'], function (file) {\n    var lessPath, stream, compressedStream, uncompressedStream, isDefinition, isPackagedTheme, isSiteTheme, isConfig; // log modified file\n\n    gulp.src(file.path).pipe(print(log.modified));\n    /*--------------\n       Find Source\n    ---------------*/\n    // recompile on *.override , *.variable change\n\n    isConfig = file.path.indexOf('theme.config') !== -1 || file.path.indexOf('site.variables') !== -1;\n    isPackagedTheme = file.path.indexOf(source.themes) !== -1;\n    isSiteTheme = file.path.indexOf(source.site) !== -1;\n    isDefinition = file.path.indexOf(source.definitions) !== -1;\n\n    if (isConfig) {\n      // console.info('Rebuilding all files');\n      // cant rebuild paths are wrong\n      // gulp.start('build-docs');\n      return;\n    } else if (isPackagedTheme) {\n      console.log('Change detected in packaged theme');\n      lessPath = util.replaceExtension(file.path, '.less');\n      lessPath = lessPath.replace(tasks.regExp.theme, source.definitions);\n    } else if (isSiteTheme) {\n      console.log('Change detected in site theme');\n      lessPath = util.replaceExtension(file.path, '.less');\n      lessPath = lessPath.replace(source.site, source.definitions);\n    } else {\n      console.log('Change detected in definition');\n      lessPath = file.path;\n    }\n    /*--------------\n      Create CSS\n    ---------------*/\n\n\n    if (fs.existsSync(lessPath)) {\n      // unified css stream\n      stream = gulp.src(lessPath).pipe(plumber()).pipe(less(settings.less)).pipe(replace(comments.variables.in, comments.variables.out)).pipe(replace(comments.large.in, comments.large.out)).pipe(replace(comments.small.in, comments.small.out)).pipe(replace(comments.tiny.in, comments.tiny.out)).pipe(autoprefixer(settings.prefix)).pipe(gulpif(config.hasPermission, chmod(config.permission))); // use 2 concurrent streams from same pipe\n\n      uncompressedStream = stream.pipe(clone());\n      compressedStream = stream.pipe(clone());\n      uncompressedStream.pipe(plumber()).pipe(replace(assets.source, assets.uncompressed)).pipe(header(banner, settings.header)).pipe(gulp.dest(output.uncompressed)).pipe(print(log.created)).on('end', function () {\n        gulp.start('package uncompressed docs css');\n      });\n      compressedStream = stream.pipe(plumber()).pipe(replace(assets.source, assets.compressed)).pipe(minifyCSS(settings.minify)).pipe(rename(settings.rename.minCSS)).pipe(header(banner, settings.header)).pipe(gulp.dest(output.compressed)).pipe(print(log.created)).on('end', function () {\n        gulp.start('package compressed docs css');\n      });\n    } else {\n      console.log('Cannot find UI definition at path', lessPath);\n    }\n  });\n  /*--------------\n      Watch JS\n  ---------------*/\n\n  gulp.watch([source.definitions + '/**/*.js'], function (file) {\n    gulp.src(file.path).pipe(plumber()).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.uncompressed)).pipe(print(log.created)).pipe(uglify(settings.uglify)).pipe(rename(settings.rename.minJS)).pipe(gulp.dest(output.compressed)).pipe(print(log.created)).on('end', function () {\n      gulp.start('package compressed docs js');\n      gulp.start('package uncompressed docs js');\n    });\n  });\n  /*--------------\n    Watch Assets\n  ---------------*/\n  // only copy assets that match component names (or their plural)\n\n  gulp.watch([source.themes + '/**/assets/**/' + globs.components + '?(s).*'], function (file) {\n    // copy assets\n    gulp.src(file.path, {\n      base: source.themes\n    }).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.themes)).pipe(print(log.created));\n  });\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"rtl\":{\"build.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/rtl/build.js                                                                                         //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n          Build Task\n*******************************/\nvar gulp = require('gulp'),\n    // node dependencies\nfs = require('fs'),\n    // gulp dependencies\nautoprefixer = require('gulp-autoprefixer'),\n    chmod = require('gulp-chmod'),\n    clone = require('gulp-clone'),\n    flatten = require('gulp-flatten'),\n    gulpif = require('gulp-if'),\n    less = require('gulp-less'),\n    minifyCSS = require('gulp-clean-css'),\n    plumber = require('gulp-plumber'),\n    print = require('gulp-print'),\n    rename = require('gulp-rename'),\n    replace = require('gulp-replace'),\n    rtlcss = require('gulp-rtlcss'),\n    uglify = require('gulp-uglify'),\n    // user config\nconfig = require('../config/user'),\n    // install config\ntasks = require('../config/tasks'),\n    install = require('../config/project/install'),\n    // shorthand\nglobs = config.globs,\n    assets = config.paths.assets,\n    output = config.paths.output,\n    source = config.paths.source,\n    banner = tasks.banner,\n    comments = tasks.regExp.comments,\n    log = tasks.log,\n    settings = tasks.settings; // add internal tasks (concat release)\n\n\nrequire('../collections/internal')(gulp);\n\nmodule.exports = function (callback) {\n  var stream, compressedStream, uncompressedStream;\n  console.info('Building Semantic');\n\n  if (!install.isSetup()) {\n    console.error('Cannot build files. Run \"gulp install\" to set-up Semantic');\n    return;\n  } // unified css stream\n\n\n  stream = gulp.src(source.definitions + '/**/' + globs.components + '.less').pipe(plumber()).pipe(less(settings.less)).pipe(autoprefixer(settings.prefix)).pipe(rtlcss()).pipe(replace(comments.variables.in, comments.variables.out)).pipe(replace(comments.license.in, comments.license.out)).pipe(replace(comments.large.in, comments.large.out)).pipe(replace(comments.small.in, comments.small.out)).pipe(replace(comments.tiny.in, comments.tiny.out)).pipe(flatten()); // two concurrent streams from same source to concat release\n\n  uncompressedStream = stream.pipe(clone());\n  compressedStream = stream.pipe(clone());\n  uncompressedStream.pipe(plumber()).pipe(replace(assets.source, assets.uncompressed)).pipe(rename(settings.rename.rtlCSS)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.uncompressed)).pipe(print(log.created)).on('end', function () {\n    gulp.start('package uncompressed rtl css');\n  });\n  compressedStream = stream.pipe(plumber()).pipe(clone()).pipe(replace(assets.source, assets.compressed)).pipe(minifyCSS(settings.minify)).pipe(rename(settings.rename.rtlMinCSS)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.compressed)).pipe(print(log.created)).on('end', function () {\n    callback();\n    gulp.start('package compressed rtl css');\n  }); // copy assets\n\n  gulp.src(source.themes + '/**/assets/**/' + globs.components + '?(s).*').pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.themes)); // copy source javascript\n\n  gulp.src(source.definitions + '/**/' + globs.components + '.js').pipe(plumber()).pipe(flatten()).pipe(replace(comments.license.in, comments.license.out)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.uncompressed)).pipe(print(log.created)).pipe(uglify(settings.uglify)).pipe(rename(settings.rename.minJS)).pipe(gulp.dest(output.compressed)).pipe(print(log.created)).on('end', function () {\n    gulp.start('package compressed js');\n    gulp.start('package uncompressed js');\n  });\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"watch.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/rtl/watch.js                                                                                         //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n           Watch Task\n*******************************/\nvar gulp = require('gulp'),\n    // node deps\nconsole = require('better-console'),\n    fs = require('fs'),\n    // gulp deps\nautoprefixer = require('gulp-autoprefixer'),\n    chmod = require('gulp-chmod'),\n    clone = require('gulp-clone'),\n    gulpif = require('gulp-if'),\n    less = require('gulp-less'),\n    minifyCSS = require('gulp-clean-css'),\n    plumber = require('gulp-plumber'),\n    print = require('gulp-print'),\n    rename = require('gulp-rename'),\n    replace = require('gulp-replace'),\n    rtlcss = require('gulp-rtlcss'),\n    uglify = require('gulp-uglify'),\n    util = require('gulp-util'),\n    watch = require('gulp-watch'),\n    // user config\nconfig = require('../config/user'),\n    // task config\ntasks = require('../config/tasks'),\n    install = require('../config/project/install'),\n    // shorthand\nglobs = config.globs,\n    assets = config.paths.assets,\n    output = config.paths.output,\n    source = config.paths.source,\n    banner = tasks.banner,\n    comments = tasks.regExp.comments,\n    log = tasks.log,\n    settings = tasks.settings; // add internal tasks (concat release)\n\n\nrequire('../collections/internal')(gulp);\n\nmodule.exports = function (callback) {\n  if (!install.isSetup()) {\n    console.error('Cannot watch files. Run \"gulp install\" to set-up Semantic');\n    return;\n  }\n\n  console.clear();\n  console.log('Watching source files for changes');\n  /*--------------\n      Watch CSS\n  ---------------*/\n\n  gulp.watch([source.config, source.definitions + '/**/*.less', source.site + '/**/*.{overrides,variables}', source.themes + '/**/*.{overrides,variables}'], function (file) {\n    var lessPath, stream, compressedStream, uncompressedStream, isDefinition, isPackagedTheme, isSiteTheme, isConfig; // log modified file\n\n    gulp.src(file.path).pipe(print(log.modified));\n    /*--------------\n       Find Source\n    ---------------*/\n    // recompile on *.override , *.variable change\n\n    isConfig = file.path.indexOf('.config') !== -1;\n    isPackagedTheme = file.path.indexOf(source.themes) !== -1;\n    isSiteTheme = file.path.indexOf(source.site) !== -1;\n    isDefinition = file.path.indexOf(source.definitions) !== -1;\n\n    if (isConfig) {\n      console.log('Change detected in theme config'); // cant tell which theme was changed in theme.config, rebuild all\n\n      gulp.start('build');\n    } else if (isPackagedTheme) {\n      console.log('Change detected in packaged theme');\n      lessPath = lessPath.replace(tasks.regExp.theme, source.definitions);\n      lessPath = util.replaceExtension(file.path, '.less');\n    } else if (isSiteTheme) {\n      console.log('Change detected in site theme');\n      lessPath = lessPath.replace(source.site, source.definitions);\n      lessPath = util.replaceExtension(file.path, '.less');\n    } else if (isDefinition) {\n      console.log('Change detected in definition');\n      lessPath = util.replaceExtension(file.path, '.less');\n    }\n    /*--------------\n       Create CSS\n    ---------------*/\n\n\n    if (fs.existsSync(lessPath)) {\n      // unified css stream\n      stream = gulp.src(lessPath).pipe(plumber()).pipe(less(settings.less)).pipe(replace(comments.variables.in, comments.variables.out)).pipe(replace(comments.license.in, comments.license.out)).pipe(replace(comments.large.in, comments.large.out)).pipe(replace(comments.small.in, comments.small.out)).pipe(replace(comments.tiny.in, comments.tiny.out)).pipe(autoprefixer(settings.prefix)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(rtlcss()); // use 2 concurrent streams from same pipe\n\n      uncompressedStream = stream.pipe(clone());\n      compressedStream = stream.pipe(clone());\n      uncompressedStream.pipe(plumber()).pipe(replace(assets.source, assets.uncompressed)).pipe(rename(settings.rename.rtlCSS)).pipe(gulp.dest(output.uncompressed)).pipe(print(log.created)).on('end', function () {\n        gulp.start('package uncompressed rtl css');\n      });\n      compressedStream = stream.pipe(plumber()).pipe(replace(assets.source, assets.compressed)).pipe(minifyCSS(settings.minify)).pipe(rename(settings.rename.minCSS)).pipe(rename(settings.rename.rtlMinCSS)).pipe(gulp.dest(output.compressed)).pipe(print(log.created)).on('end', function () {\n        gulp.start('package compressed rtl css');\n      });\n    } else {\n      console.log('Cannot find UI definition at path', lessPath);\n    }\n  });\n  /*--------------\n      Watch JS\n  ---------------*/\n\n  gulp.watch([source.definitions + '/**/*.js'], function (file) {\n    gulp.src(file.path).pipe(plumber()).pipe(replace(comments.license.in, comments.license.out)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.uncompressed)).pipe(print(log.created)).pipe(uglify(settings.uglify)).pipe(rename(settings.rename.minJS)).pipe(gulp.dest(output.compressed)).pipe(print(log.created)).on('end', function () {\n      gulp.start('package compressed js');\n      gulp.start('package uncompressed js');\n    });\n  });\n  /*--------------\n    Watch Assets\n  ---------------*/\n  // only copy assets that match component names (or their plural)\n\n  gulp.watch([source.themes + '/**/assets/**/' + globs.components + '?(s).*'], function (file) {\n    // copy assets\n    gulp.src(file.path, {\n      base: source.themes\n    }).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.themes)).pipe(print(log.created));\n  });\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"build.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/build.js                                                                                             //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n          Build Task\n*******************************/\nvar // dependencies\ngulp = require('gulp-help')(require('gulp')),\n    runSequence = require('run-sequence'),\n    // config\nconfig = require('./config/user'),\n    install = require('./config/project/install'),\n    // task sequence\ntasks = []; // sub-tasks\n\n\nif (config.rtl) {\n  require('./collections/rtl')(gulp);\n}\n\nrequire('./collections/build')(gulp);\n\nmodule.exports = function (callback) {\n  console.info('Building Semantic');\n\n  if (!install.isSetup()) {\n    console.error('Cannot find semantic.json. Run \"gulp install\" to set-up Semantic');\n    return 1;\n  } // check for right-to-left (RTL) language\n\n\n  if (config.rtl === true || config.rtl === 'Yes') {\n    gulp.start('build-rtl');\n    return;\n  }\n\n  if (config.rtl == 'both') {\n    tasks.push('build-rtl');\n  }\n\n  tasks.push('build-javascript');\n  tasks.push('build-css');\n  tasks.push('build-assets');\n  runSequence(tasks, callback);\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"check-install.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/check-install.js                                                                                     //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n         Check Install\n*******************************/\nvar // node dependencies\ngulp = require('gulp'),\n    fs = require('fs'),\n    console = require('better-console'),\n    install = require('./config/project/install'); // export task\n\n\nmodule.exports = function () {\n  setTimeout(function () {\n    if (!install.isSetup()) {\n      console.log('Starting install...');\n      gulp.start('install');\n      return;\n    } else {\n      gulp.start('watch');\n    }\n  }, 50); // Delay to allow console.clear to remove messages from check event\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"clean.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/clean.js                                                                                             //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n          Clean Task\n*******************************/\nvar del = require('del'),\n    config = require('./config/user'),\n    tasks = require('./config/tasks'); // cleans distribution files\n\n\nmodule.exports = function (callback) {\n  return del([config.paths.clean], tasks.settings.del, callback);\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"install.js\":function(require,exports,module,__filename,__dirname){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/install.js                                                                                           //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n         Install Task\n*******************************/\n\n/*\n   Install tasks\n\n   For more notes\n\n   * Runs automatically after npm update (hooks)\n   * (NPM) Install - Will ask for where to put semantic (outside pm folder)\n   * (NPM) Upgrade - Will look for semantic install, copy over files and update if new version\n   * Standard installer runs asking for paths to site files etc\n\n*/\nvar gulp = require('gulp'),\n    // node dependencies\nconsole = require('better-console'),\n    extend = require('extend'),\n    fs = require('fs'),\n    mkdirp = require('mkdirp'),\n    path = require('path'),\n    runSequence = require('run-sequence'),\n    // gulp dependencies\nchmod = require('gulp-chmod'),\n    del = require('del'),\n    jsonEditor = require('gulp-json-editor'),\n    plumber = require('gulp-plumber'),\n    prompt = require('prompt-sui'),\n    rename = require('gulp-rename'),\n    replace = require('gulp-replace'),\n    requireDotFile = require('require-dot-file'),\n    wrench = require('wrench-sui'),\n    // install config\ninstall = require('./config/project/install'),\n    // user config\nconfig = require('./config/user'),\n    // release config (name/title/etc)\nrelease = require('./config/project/release'),\n    // shorthand\nquestions = install.questions,\n    files = install.files,\n    folders = install.folders,\n    regExp = install.regExp,\n    settings = install.settings,\n    source = install.source; // Export install task\n\n\nmodule.exports = function (callback) {\n  var currentConfig = requireDotFile('semantic.json'),\n      manager = install.getPackageManager(),\n      rootQuestions = questions.root,\n      installFolder = false,\n      answers;\n  console.clear();\n  /* Test NPM install\n  manager = {\n    name : 'NPM',\n    root : path.normalize(__dirname + '/../')\n  };\n  */\n\n  /* Don't do end user config if SUI is a sub-module */\n\n  if (install.isSubModule()) {\n    console.info('SUI is a sub-module, skipping end-user install');\n    return;\n  }\n  /*-----------------\n      Update SUI\n  -----------------*/\n  // run update scripts if semantic.json exists\n\n\n  if (currentConfig && manager.name === 'NPM') {\n    var updateFolder = path.join(manager.root, currentConfig.base),\n        updatePaths = {\n      config: path.join(manager.root, files.config),\n      tasks: path.join(updateFolder, folders.tasks),\n      themeImport: path.join(updateFolder, folders.themeImport),\n      definition: path.join(currentConfig.paths.source.definitions),\n      site: path.join(currentConfig.paths.source.site),\n      theme: path.join(currentConfig.paths.source.themes),\n      defaultTheme: path.join(currentConfig.paths.source.themes, folders.defaultTheme)\n    }; // duck-type if there is a project installed\n\n    if (fs.existsSync(updatePaths.definition)) {\n      // perform update if new version\n      if (currentConfig.version !== release.version) {\n        console.log('Updating Semantic UI from ' + currentConfig.version + ' to ' + release.version);\n        console.info('Updating ui definitions...');\n        wrench.copyDirSyncRecursive(source.definitions, updatePaths.definition, settings.wrench.overwrite);\n        console.info('Updating default theme...');\n        wrench.copyDirSyncRecursive(source.themes, updatePaths.theme, settings.wrench.merge);\n        wrench.copyDirSyncRecursive(source.defaultTheme, updatePaths.defaultTheme, settings.wrench.overwrite);\n        console.info('Updating tasks...');\n        wrench.copyDirSyncRecursive(source.tasks, updatePaths.tasks, settings.wrench.overwrite);\n        console.info('Updating gulpfile.js');\n        gulp.src(source.userGulpFile).pipe(plumber()).pipe(gulp.dest(updateFolder)); // copy theme import\n\n        console.info('Updating theme import file');\n        gulp.src(source.themeImport).pipe(plumber()).pipe(gulp.dest(updatePaths.themeImport));\n        console.info('Adding new site theme files...');\n        wrench.copyDirSyncRecursive(source.site, updatePaths.site, settings.wrench.merge);\n        console.info('Updating version...'); // update version number in semantic.json\n\n        gulp.src(updatePaths.config).pipe(plumber()).pipe(rename(settings.rename.json)) // preserve file extension\n        .pipe(jsonEditor({\n          version: release.version\n        })).pipe(gulp.dest(manager.root));\n        console.info('Update complete! Run \"\\x1b[92mgulp build\\x1b[0m\" to rebuild dist/ files.');\n        return;\n      } else {\n        console.log('Current version of Semantic UI already installed');\n        return;\n      }\n    } else {\n      console.error('Cannot locate files to update at path: ', updatePaths.definition);\n      console.log('Running installer');\n    }\n  }\n  /*--------------\n   Determine Root\n  ---------------*/\n  // PM that supports Build Tools (NPM Only Now)\n\n\n  if (manager.name == 'NPM') {\n    rootQuestions[0].message = rootQuestions[0].message.replace('{packageMessage}', 'We detected you are using ' + manager.name + ' Nice!').replace('{root}', manager.root); // set default path to detected PM root\n\n    rootQuestions[0].default = manager.root;\n    rootQuestions[1].default = manager.root; // insert PM questions after \"Install Type\" question\n\n    Array.prototype.splice.apply(questions.setup, [2, 0].concat(rootQuestions)); // omit cleanup questions for managed install\n\n    questions.cleanup = [];\n  }\n  /*--------------\n     Create SUI\n  ---------------*/\n\n\n  gulp.task('run setup', function () {\n    // If auto-install is switched on, we skip the configuration section and simply reuse the configuration from semantic.json\n    if (install.shouldAutoInstall()) {\n      answers = {\n        overwrite: 'yes',\n        install: 'auto',\n        useRoot: true,\n        semanticRoot: currentConfig.base\n      };\n    } else {\n      return gulp.src('gulpfile.js').pipe(prompt.prompt(questions.setup, function (setupAnswers) {\n        // hoist\n        answers = setupAnswers;\n      }));\n    }\n  });\n  gulp.task('create install files', function (callback) {\n    /*--------------\n     Exit Conditions\n    ---------------*/\n    // if config exists and user specifies not to proceed\n    if (answers.overwrite !== undefined && answers.overwrite == 'no') {\n      return;\n    }\n\n    console.clear();\n\n    if (install.shouldAutoInstall()) {\n      console.log('Auto-Installing (Without User Interaction)');\n    } else {\n      console.log('Installing');\n    }\n\n    console.log('------------------------------');\n    /*--------------\n          Paths\n    ---------------*/\n\n    var installPaths = {\n      config: files.config,\n      configFolder: folders.config,\n      site: answers.site || folders.site,\n      themeConfig: files.themeConfig,\n      themeConfigFolder: folders.themeConfig\n    };\n    /*--------------\n      NPM Install\n    ---------------*/\n    // Check if PM install\n\n    if (manager && (answers.useRoot || answers.customRoot)) {\n      // Set root to custom root path if set\n      if (answers.customRoot) {\n        if (answers.customRoot === '') {\n          console.log('Unable to proceed, invalid project root');\n          return;\n        }\n\n        manager.root = answers.customRoot;\n      } // special install paths only for PM install\n\n\n      installPaths = extend(false, {}, installPaths, {\n        definition: folders.definitions,\n        lessImport: folders.lessImport,\n        tasks: folders.tasks,\n        theme: folders.themes,\n        defaultTheme: path.join(folders.themes, folders.defaultTheme),\n        themeImport: folders.themeImport\n      }); // add project root to semantic root\n\n      installFolder = path.join(manager.root, answers.semanticRoot); // add install folder to all output paths\n\n      for (var destination in installPaths) {\n        if (installPaths.hasOwnProperty(destination)) {\n          // config goes in project root, rest in install folder\n          installPaths[destination] = destination == 'config' || destination == 'configFolder' ? path.normalize(path.join(manager.root, installPaths[destination])) : path.normalize(path.join(installFolder, installPaths[destination]));\n        }\n      } // create project folders\n\n\n      try {\n        mkdirp.sync(installFolder);\n        mkdirp.sync(installPaths.definition);\n        mkdirp.sync(installPaths.theme);\n        mkdirp.sync(installPaths.tasks);\n      } catch (error) {\n        console.error('NPM does not have permissions to create folders at your specified path. Adjust your folders permissions and run \"npm install\" again');\n      }\n\n      console.log('Installing to \\x1b[92m' + answers.semanticRoot + '\\x1b[0m');\n      console.info('Copying UI definitions');\n      wrench.copyDirSyncRecursive(source.definitions, installPaths.definition, settings.wrench.overwrite);\n      console.info('Copying UI themes');\n      wrench.copyDirSyncRecursive(source.themes, installPaths.theme, settings.wrench.merge);\n      wrench.copyDirSyncRecursive(source.defaultTheme, installPaths.defaultTheme, settings.wrench.overwrite);\n      console.info('Copying gulp tasks');\n      wrench.copyDirSyncRecursive(source.tasks, installPaths.tasks, settings.wrench.overwrite); // copy theme import\n\n      console.info('Adding theme files');\n      gulp.src(source.themeImport).pipe(plumber()).pipe(gulp.dest(installPaths.themeImport));\n      gulp.src(source.lessImport).pipe(plumber()).pipe(gulp.dest(installPaths.lessImport)); // create gulp file\n\n      console.info('Creating gulpfile.js');\n      gulp.src(source.userGulpFile).pipe(plumber()).pipe(gulp.dest(installFolder));\n    }\n    /*--------------\n       Site Theme\n    ---------------*/\n    // Copy _site templates folder to destination\n\n\n    if (fs.existsSync(installPaths.site)) {\n      console.info('Site folder exists, merging files (no overwrite)', installPaths.site);\n    } else {\n      console.info('Creating site theme folder', installPaths.site);\n    }\n\n    wrench.copyDirSyncRecursive(source.site, installPaths.site, settings.wrench.merge);\n    /*--------------\n      Theme Config\n    ---------------*/\n\n    gulp.task('create theme.config', function () {\n      var // determine path to site theme folder from theme config\n      // force CSS path variable to use forward slashes for paths\n      pathToSite = path.relative(path.resolve(installPaths.themeConfigFolder), path.resolve(installPaths.site)).replace(/\\\\/g, '/'),\n          siteVariable = \"@siteFolder   : '\" + pathToSite + \"/';\"; // rewrite site variable in theme.less\n\n      console.info('Adjusting @siteFolder to: ', pathToSite + '/');\n\n      if (fs.existsSync(installPaths.themeConfig)) {\n        console.info('Modifying src/theme.config (LESS config)', installPaths.themeConfig);\n        return gulp.src(installPaths.themeConfig).pipe(plumber()).pipe(replace(regExp.siteVariable, siteVariable)).pipe(gulp.dest(installPaths.themeConfigFolder));\n      } else {\n        console.info('Creating src/theme.config (LESS config)', installPaths.themeConfig);\n        return gulp.src(source.themeConfig).pipe(plumber()).pipe(rename({\n          extname: ''\n        })).pipe(replace(regExp.siteVariable, siteVariable)).pipe(gulp.dest(installPaths.themeConfigFolder));\n      }\n    });\n    /*--------------\n      Semantic.json\n    ---------------*/\n\n    gulp.task('create semantic.json', function () {\n      var jsonConfig = install.createJSON(answers); // adjust variables in theme.less\n\n      if (fs.existsSync(installPaths.config)) {\n        console.info('Extending config file (semantic.json)', installPaths.config);\n        return gulp.src(installPaths.config).pipe(plumber()).pipe(rename(settings.rename.json)) // preserve file extension\n        .pipe(jsonEditor(jsonConfig)).pipe(gulp.dest(installPaths.configFolder));\n      } else {\n        console.info('Creating config file (semantic.json)', installPaths.config);\n        return gulp.src(source.config).pipe(plumber()).pipe(rename({\n          extname: ''\n        })) // remove .template from ext\n        .pipe(jsonEditor(jsonConfig)).pipe(gulp.dest(installPaths.configFolder));\n      }\n    });\n    runSequence('create theme.config', 'create semantic.json', callback);\n  });\n  gulp.task('clean up install', function () {\n    // Completion Message\n    if (installFolder && !install.shouldAutoInstall()) {\n      console.log('\\n Setup Complete! \\n Installing Peer Dependencies. \\x1b[0;31mPlease refrain from ctrl + c\\x1b[0m... \\n After completion navigate to \\x1b[92m' + answers.semanticRoot + '\\x1b[0m and run \"\\x1b[92mgulp build\\x1b[0m\" to build');\n      process.exit(0);\n    } else {\n      console.log('');\n      console.log('');\n    } // If auto-install is switched on, we skip the configuration section and simply build the dependencies\n\n\n    if (install.shouldAutoInstall()) {\n      return gulp.start('build');\n    } else {\n      return gulp.src('gulpfile.js').pipe(prompt.prompt(questions.cleanup, function (answers) {\n        if (answers.cleanup == 'yes') {\n          del(install.setupFiles);\n        }\n\n        if (answers.build == 'yes') {\n          gulp.start('build');\n        }\n      }));\n    }\n  });\n  runSequence('run setup', 'create install files', 'clean up install', callback);\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"version.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/version.js                                                                                           //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n          Version Task\n*******************************/\nvar release = require('./config/project/release');\n\nmodule.exports = function (callback) {\n  console.log(release.title + ' ' + release.version);\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"watch.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/watch.js                                                                                             //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n           Watch Task\n*******************************/\nvar gulp = require('gulp-help')(require('gulp')),\n    // node dependencies\nconsole = require('better-console'),\n    fs = require('fs'),\n    // gulp dependencies\nautoprefixer = require('gulp-autoprefixer'),\n    chmod = require('gulp-chmod'),\n    clone = require('gulp-clone'),\n    gulpif = require('gulp-if'),\n    less = require('gulp-less'),\n    minifyCSS = require('gulp-clean-css'),\n    plumber = require('gulp-plumber'),\n    print = require('gulp-print'),\n    rename = require('gulp-rename'),\n    replace = require('gulp-replace'),\n    uglify = require('gulp-uglify'),\n    util = require('gulp-util'),\n    watch = require('gulp-watch'),\n    // user config\nconfig = require('./config/user'),\n    // task config\ntasks = require('./config/tasks'),\n    install = require('./config/project/install'),\n    // shorthand\nglobs = config.globs,\n    assets = config.paths.assets,\n    output = config.paths.output,\n    source = config.paths.source,\n    banner = tasks.banner,\n    comments = tasks.regExp.comments,\n    log = tasks.log,\n    settings = tasks.settings; // add tasks referenced using gulp.run (sub-tasks)\n\n\nif (config.rtl) {\n  require('./collections/rtl')(gulp);\n}\n\nrequire('./collections/internal')(gulp); // export task\n\n\nmodule.exports = function (callback) {\n  if (!install.isSetup()) {\n    console.error('Cannot watch files. Run \"gulp install\" to set-up Semantic');\n    return;\n  } // check for right-to-left (RTL) language\n\n\n  if (config.rtl == 'both') {\n    gulp.start('watch-rtl');\n  }\n\n  if (config.rtl === true || config.rtl === 'Yes') {\n    gulp.start('watch-rtl');\n    return;\n  } //console.clear();\n\n\n  console.log('Watching source files for changes');\n  /*--------------\n      Watch CSS\n  ---------------*/\n\n  gulp.watch([source.config, source.definitions + '/**/*.less', source.site + '/**/*.{overrides,variables}', source.themes + '/**/*.{overrides,variables}'], function (file) {\n    var lessPath, stream, compressedStream, uncompressedStream, isDefinition, isPackagedTheme, isSiteTheme, isConfig; // log modified file\n\n    gulp.src(file.path).pipe(print(log.modified));\n    /*--------------\n       Find Source\n    ---------------*/\n    // recompile on *.override , *.variable change\n\n    isConfig = file.path.indexOf('theme.config') !== -1 || file.path.indexOf('site.variables') !== -1;\n    isPackagedTheme = file.path.indexOf(source.themes) !== -1;\n    isSiteTheme = file.path.indexOf(source.site) !== -1;\n    isDefinition = file.path.indexOf(source.definitions) !== -1;\n\n    if (isConfig) {\n      console.info('Rebuilding all UI'); // impossible to tell which file was updated in theme.config, rebuild all\n\n      gulp.start('build-css');\n      return;\n    } else if (isPackagedTheme) {\n      console.log('Change detected in packaged theme');\n      lessPath = util.replaceExtension(file.path, '.less');\n      lessPath = lessPath.replace(tasks.regExp.theme, source.definitions);\n    } else if (isSiteTheme) {\n      console.log('Change detected in site theme');\n      lessPath = util.replaceExtension(file.path, '.less');\n      lessPath = lessPath.replace(source.site, source.definitions);\n    } else {\n      console.log('Change detected in definition');\n      lessPath = file.path;\n    }\n    /*--------------\n       Create CSS\n    ---------------*/\n\n\n    if (fs.existsSync(lessPath)) {\n      // unified css stream\n      stream = gulp.src(lessPath).pipe(plumber(settings.plumber.less)).pipe(less(settings.less)).pipe(print(log.created)).pipe(replace(comments.variables.in, comments.variables.out)).pipe(replace(comments.license.in, comments.license.out)).pipe(replace(comments.large.in, comments.large.out)).pipe(replace(comments.small.in, comments.small.out)).pipe(replace(comments.tiny.in, comments.tiny.out)).pipe(autoprefixer(settings.prefix)).pipe(gulpif(config.hasPermission, chmod(config.permission))); // use 2 concurrent streams from same pipe\n\n      uncompressedStream = stream.pipe(clone());\n      compressedStream = stream.pipe(clone());\n      uncompressedStream.pipe(plumber()).pipe(replace(assets.source, assets.uncompressed)).pipe(gulp.dest(output.uncompressed)).pipe(print(log.created)).on('end', function () {\n        gulp.start('package uncompressed css');\n      });\n      compressedStream = stream.pipe(plumber()).pipe(replace(assets.source, assets.compressed)).pipe(minifyCSS(settings.minify)).pipe(rename(settings.rename.minCSS)).pipe(gulp.dest(output.compressed)).pipe(print(log.created)).on('end', function () {\n        gulp.start('package compressed css');\n      });\n    } else {\n      console.log('Cannot find UI definition at path', lessPath);\n    }\n  });\n  /*--------------\n      Watch JS\n  ---------------*/\n\n  gulp.watch([source.definitions + '/**/*.js'], function (file) {\n    gulp.src(file.path).pipe(plumber()).pipe(replace(comments.license.in, comments.license.out)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.uncompressed)).pipe(print(log.created)).pipe(uglify(settings.uglify)).pipe(rename(settings.rename.minJS)).pipe(gulp.dest(output.compressed)).pipe(print(log.created)).on('end', function () {\n      gulp.start('package compressed js');\n      gulp.start('package uncompressed js');\n    });\n  });\n  /*--------------\n    Watch Assets\n  ---------------*/\n  // only copy assets that match component names (or their plural)\n\n  gulp.watch([source.themes + '/**/assets/**/*.*'], function (file) {\n    // copy assets\n    gulp.src(file.path, {\n      base: source.themes\n    }).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.themes)).pipe(print(log.created));\n  });\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"src\":{\"definitions\":{\"behaviors\":{\"api.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/behaviors/api.js                                                                           //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * # Semantic UI - API\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  var window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.api = $.fn.api = function (parameters) {\n    var // use window context if none specified\n    $allModules = $.isFunction(this) ? $(window) : $(this),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue;\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.api.settings, parameters) : $.extend({}, $.fn.api.settings),\n          // internal aliases\n      namespace = settings.namespace,\n          metadata = settings.metadata,\n          selector = settings.selector,\n          error = settings.error,\n          className = settings.className,\n          // define namespaces for modules\n      eventNamespace = '.' + namespace,\n          moduleNamespace = 'module-' + namespace,\n          // element that creates request\n      $module = $(this),\n          $form = $module.closest(selector.form),\n          // context used for state\n      $context = settings.stateContext ? $(settings.stateContext) : $module,\n          // request details\n      ajaxSettings,\n          requestSettings,\n          url,\n          data,\n          requestStartTime,\n          // standard module\n      element = this,\n          context = $context[0],\n          instance = $module.data(moduleNamespace),\n          module;\n      module = {\n        initialize: function () {\n          if (!methodInvoked) {\n            module.bind.events();\n          }\n\n          module.instantiate();\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module.data(moduleNamespace, instance);\n        },\n        destroy: function () {\n          module.verbose('Destroying previous module for', element);\n          $module.removeData(moduleNamespace).off(eventNamespace);\n        },\n        bind: {\n          events: function () {\n            var triggerEvent = module.get.event();\n\n            if (triggerEvent) {\n              module.verbose('Attaching API events to element', triggerEvent);\n              $module.on(triggerEvent + eventNamespace, module.event.trigger);\n            } else if (settings.on == 'now') {\n              module.debug('Querying API endpoint immediately');\n              module.query();\n            }\n          }\n        },\n        decode: {\n          json: function (response) {\n            if (response !== undefined && typeof response == 'string') {\n              try {\n                response = JSON.parse(response);\n              } catch (e) {// isnt json string\n              }\n            }\n\n            return response;\n          }\n        },\n        read: {\n          cachedResponse: function (url) {\n            var response;\n\n            if (window.Storage === undefined) {\n              module.error(error.noStorage);\n              return;\n            }\n\n            response = sessionStorage.getItem(url);\n            module.debug('Using cached response', url, response);\n            response = module.decode.json(response);\n            return response;\n          }\n        },\n        write: {\n          cachedResponse: function (url, response) {\n            if (response && response === '') {\n              module.debug('Response empty, not caching', response);\n              return;\n            }\n\n            if (window.Storage === undefined) {\n              module.error(error.noStorage);\n              return;\n            }\n\n            if ($.isPlainObject(response)) {\n              response = JSON.stringify(response);\n            }\n\n            sessionStorage.setItem(url, response);\n            module.verbose('Storing cached response for url', url, response);\n          }\n        },\n        query: function () {\n          if (module.is.disabled()) {\n            module.debug('Element is disabled API request aborted');\n            return;\n          }\n\n          if (module.is.loading()) {\n            if (settings.interruptRequests) {\n              module.debug('Interrupting previous request');\n              module.abort();\n            } else {\n              module.debug('Cancelling request, previous request is still pending');\n              return;\n            }\n          } // pass element metadata to url (value, text)\n\n\n          if (settings.defaultData) {\n            $.extend(true, settings.urlData, module.get.defaultData());\n          } // Add form content\n\n\n          if (settings.serializeForm) {\n            settings.data = module.add.formData(settings.data);\n          } // call beforesend and get any settings changes\n\n\n          requestSettings = module.get.settings(); // check if before send cancelled request\n\n          if (requestSettings === false) {\n            module.cancelled = true;\n            module.error(error.beforeSend);\n            return;\n          } else {\n            module.cancelled = false;\n          } // get url\n\n\n          url = module.get.templatedURL();\n\n          if (!url && !module.is.mocked()) {\n            module.error(error.missingURL);\n            return;\n          } // replace variables\n\n\n          url = module.add.urlData(url); // missing url parameters\n\n          if (!url && !module.is.mocked()) {\n            return;\n          }\n\n          requestSettings.url = settings.base + url; // look for jQuery ajax parameters in settings\n\n          ajaxSettings = $.extend(true, {}, settings, {\n            type: settings.method || settings.type,\n            data: data,\n            url: settings.base + url,\n            beforeSend: settings.beforeXHR,\n            success: function () {},\n            failure: function () {},\n            complete: function () {}\n          });\n          module.debug('Querying URL', ajaxSettings.url);\n          module.verbose('Using AJAX settings', ajaxSettings);\n\n          if (settings.cache === 'local' && module.read.cachedResponse(url)) {\n            module.debug('Response returned from local cache');\n            module.request = module.create.request();\n            module.request.resolveWith(context, [module.read.cachedResponse(url)]);\n            return;\n          }\n\n          if (!settings.throttle) {\n            module.debug('Sending request', data, ajaxSettings.method);\n            module.send.request();\n          } else {\n            if (!settings.throttleFirstRequest && !module.timer) {\n              module.debug('Sending request', data, ajaxSettings.method);\n              module.send.request();\n              module.timer = setTimeout(function () {}, settings.throttle);\n            } else {\n              module.debug('Throttling request', settings.throttle);\n              clearTimeout(module.timer);\n              module.timer = setTimeout(function () {\n                if (module.timer) {\n                  delete module.timer;\n                }\n\n                module.debug('Sending throttled request', data, ajaxSettings.method);\n                module.send.request();\n              }, settings.throttle);\n            }\n          }\n        },\n        should: {\n          removeError: function () {\n            return settings.hideError === true || settings.hideError === 'auto' && !module.is.form();\n          }\n        },\n        is: {\n          disabled: function () {\n            return $module.filter(selector.disabled).length > 0;\n          },\n          expectingJSON: function () {\n            return settings.dataType === 'json' || settings.dataType === 'jsonp';\n          },\n          form: function () {\n            return $module.is('form') || $context.is('form');\n          },\n          mocked: function () {\n            return settings.mockResponse || settings.mockResponseAsync || settings.response || settings.responseAsync;\n          },\n          input: function () {\n            return $module.is('input');\n          },\n          loading: function () {\n            return module.request ? module.request.state() == 'pending' : false;\n          },\n          abortedRequest: function (xhr) {\n            if (xhr && xhr.readyState !== undefined && xhr.readyState === 0) {\n              module.verbose('XHR request determined to be aborted');\n              return true;\n            } else {\n              module.verbose('XHR request was not aborted');\n              return false;\n            }\n          },\n          validResponse: function (response) {\n            if (!module.is.expectingJSON() || !$.isFunction(settings.successTest)) {\n              module.verbose('Response is not JSON, skipping validation', settings.successTest, response);\n              return true;\n            }\n\n            module.debug('Checking JSON returned success', settings.successTest, response);\n\n            if (settings.successTest(response)) {\n              module.debug('Response passed success test', response);\n              return true;\n            } else {\n              module.debug('Response failed success test', response);\n              return false;\n            }\n          }\n        },\n        was: {\n          cancelled: function () {\n            return module.cancelled || false;\n          },\n          succesful: function () {\n            return module.request && module.request.state() == 'resolved';\n          },\n          failure: function () {\n            return module.request && module.request.state() == 'rejected';\n          },\n          complete: function () {\n            return module.request && (module.request.state() == 'resolved' || module.request.state() == 'rejected');\n          }\n        },\n        add: {\n          urlData: function (url, urlData) {\n            var requiredVariables, optionalVariables;\n\n            if (url) {\n              requiredVariables = url.match(settings.regExp.required);\n              optionalVariables = url.match(settings.regExp.optional);\n              urlData = urlData || settings.urlData;\n\n              if (requiredVariables) {\n                module.debug('Looking for required URL variables', requiredVariables);\n                $.each(requiredVariables, function (index, templatedString) {\n                  var // allow legacy {$var} style\n                  variable = templatedString.indexOf('$') !== -1 ? templatedString.substr(2, templatedString.length - 3) : templatedString.substr(1, templatedString.length - 2),\n                      value = $.isPlainObject(urlData) && urlData[variable] !== undefined ? urlData[variable] : $module.data(variable) !== undefined ? $module.data(variable) : $context.data(variable) !== undefined ? $context.data(variable) : urlData[variable]; // remove value\n\n                  if (value === undefined) {\n                    module.error(error.requiredParameter, variable, url);\n                    url = false;\n                    return false;\n                  } else {\n                    module.verbose('Found required variable', variable, value);\n                    value = settings.encodeParameters ? module.get.urlEncodedValue(value) : value;\n                    url = url.replace(templatedString, value);\n                  }\n                });\n              }\n\n              if (optionalVariables) {\n                module.debug('Looking for optional URL variables', requiredVariables);\n                $.each(optionalVariables, function (index, templatedString) {\n                  var // allow legacy {/$var} style\n                  variable = templatedString.indexOf('$') !== -1 ? templatedString.substr(3, templatedString.length - 4) : templatedString.substr(2, templatedString.length - 3),\n                      value = $.isPlainObject(urlData) && urlData[variable] !== undefined ? urlData[variable] : $module.data(variable) !== undefined ? $module.data(variable) : $context.data(variable) !== undefined ? $context.data(variable) : urlData[variable]; // optional replacement\n\n                  if (value !== undefined) {\n                    module.verbose('Optional variable Found', variable, value);\n                    url = url.replace(templatedString, value);\n                  } else {\n                    module.verbose('Optional variable not found', variable); // remove preceding slash if set\n\n                    if (url.indexOf('/' + templatedString) !== -1) {\n                      url = url.replace('/' + templatedString, '');\n                    } else {\n                      url = url.replace(templatedString, '');\n                    }\n                  }\n                });\n              }\n            }\n\n            return url;\n          },\n          formData: function (data) {\n            var canSerialize = $.fn.serializeObject !== undefined,\n                formData = canSerialize ? $form.serializeObject() : $form.serialize(),\n                hasOtherData;\n            data = data || settings.data;\n            hasOtherData = $.isPlainObject(data);\n\n            if (hasOtherData) {\n              if (canSerialize) {\n                module.debug('Extending existing data with form data', data, formData);\n                data = $.extend(true, {}, data, formData);\n              } else {\n                module.error(error.missingSerialize);\n                module.debug('Cant extend data. Replacing data with form data', data, formData);\n                data = formData;\n              }\n            } else {\n              module.debug('Adding form data', formData);\n              data = formData;\n            }\n\n            return data;\n          }\n        },\n        send: {\n          request: function () {\n            module.set.loading();\n            module.request = module.create.request();\n\n            if (module.is.mocked()) {\n              module.mockedXHR = module.create.mockedXHR();\n            } else {\n              module.xhr = module.create.xhr();\n            }\n\n            settings.onRequest.call(context, module.request, module.xhr);\n          }\n        },\n        event: {\n          trigger: function (event) {\n            module.query();\n\n            if (event.type == 'submit' || event.type == 'click') {\n              event.preventDefault();\n            }\n          },\n          xhr: {\n            always: function () {// nothing special\n            },\n            done: function (response, textStatus, xhr) {\n              var context = this,\n                  elapsedTime = new Date().getTime() - requestStartTime,\n                  timeLeft = settings.loadingDuration - elapsedTime,\n                  translatedResponse = $.isFunction(settings.onResponse) ? module.is.expectingJSON() ? settings.onResponse.call(context, $.extend(true, {}, response)) : settings.onResponse.call(context, response) : false;\n              timeLeft = timeLeft > 0 ? timeLeft : 0;\n\n              if (translatedResponse) {\n                module.debug('Modified API response in onResponse callback', settings.onResponse, translatedResponse, response);\n                response = translatedResponse;\n              }\n\n              if (timeLeft > 0) {\n                module.debug('Response completed early delaying state change by', timeLeft);\n              }\n\n              setTimeout(function () {\n                if (module.is.validResponse(response)) {\n                  module.request.resolveWith(context, [response, xhr]);\n                } else {\n                  module.request.rejectWith(context, [xhr, 'invalid']);\n                }\n              }, timeLeft);\n            },\n            fail: function (xhr, status, httpMessage) {\n              var context = this,\n                  elapsedTime = new Date().getTime() - requestStartTime,\n                  timeLeft = settings.loadingDuration - elapsedTime;\n              timeLeft = timeLeft > 0 ? timeLeft : 0;\n\n              if (timeLeft > 0) {\n                module.debug('Response completed early delaying state change by', timeLeft);\n              }\n\n              setTimeout(function () {\n                if (module.is.abortedRequest(xhr)) {\n                  module.request.rejectWith(context, [xhr, 'aborted', httpMessage]);\n                } else {\n                  module.request.rejectWith(context, [xhr, 'error', status, httpMessage]);\n                }\n              }, timeLeft);\n            }\n          },\n          request: {\n            done: function (response, xhr) {\n              module.debug('Successful API Response', response);\n\n              if (settings.cache === 'local' && url) {\n                module.write.cachedResponse(url, response);\n                module.debug('Saving server response locally', module.cache);\n              }\n\n              settings.onSuccess.call(context, response, $module, xhr);\n            },\n            complete: function (firstParameter, secondParameter) {\n              var xhr, response; // have to guess callback parameters based on request success\n\n              if (module.was.succesful()) {\n                response = firstParameter;\n                xhr = secondParameter;\n              } else {\n                xhr = firstParameter;\n                response = module.get.responseFromXHR(xhr);\n              }\n\n              module.remove.loading();\n              settings.onComplete.call(context, response, $module, xhr);\n            },\n            fail: function (xhr, status, httpMessage) {\n              var // pull response from xhr if available\n              response = module.get.responseFromXHR(xhr),\n                  errorMessage = module.get.errorFromRequest(response, status, httpMessage);\n\n              if (status == 'aborted') {\n                module.debug('XHR Aborted (Most likely caused by page navigation or CORS Policy)', status, httpMessage);\n                settings.onAbort.call(context, status, $module, xhr);\n                return true;\n              } else if (status == 'invalid') {\n                module.debug('JSON did not pass success test. A server-side error has most likely occurred', response);\n              } else if (status == 'error') {\n                if (xhr !== undefined) {\n                  module.debug('XHR produced a server error', status, httpMessage); // make sure we have an error to display to console\n\n                  if (xhr.status != 200 && httpMessage !== undefined && httpMessage !== '') {\n                    module.error(error.statusMessage + httpMessage, ajaxSettings.url);\n                  }\n\n                  settings.onError.call(context, errorMessage, $module, xhr);\n                }\n              }\n\n              if (settings.errorDuration && status !== 'aborted') {\n                module.debug('Adding error state');\n                module.set.error();\n\n                if (module.should.removeError()) {\n                  setTimeout(module.remove.error, settings.errorDuration);\n                }\n              }\n\n              module.debug('API Request failed', errorMessage, xhr);\n              settings.onFailure.call(context, response, $module, xhr);\n            }\n          }\n        },\n        create: {\n          request: function () {\n            // api request promise\n            return $.Deferred().always(module.event.request.complete).done(module.event.request.done).fail(module.event.request.fail);\n          },\n          mockedXHR: function () {\n            var // xhr does not simulate these properties of xhr but must return them\n            textStatus = false,\n                status = false,\n                httpMessage = false,\n                responder = settings.mockResponse || settings.response,\n                asyncResponder = settings.mockResponseAsync || settings.responseAsync,\n                asyncCallback,\n                response,\n                mockedXHR;\n            mockedXHR = $.Deferred().always(module.event.xhr.complete).done(module.event.xhr.done).fail(module.event.xhr.fail);\n\n            if (responder) {\n              if ($.isFunction(responder)) {\n                module.debug('Using specified synchronous callback', responder);\n                response = responder.call(context, requestSettings);\n              } else {\n                module.debug('Using settings specified response', responder);\n                response = responder;\n              } // simulating response\n\n\n              mockedXHR.resolveWith(context, [response, textStatus, {\n                responseText: response\n              }]);\n            } else if ($.isFunction(asyncResponder)) {\n              asyncCallback = function (response) {\n                module.debug('Async callback returned response', response);\n\n                if (response) {\n                  mockedXHR.resolveWith(context, [response, textStatus, {\n                    responseText: response\n                  }]);\n                } else {\n                  mockedXHR.rejectWith(context, [{\n                    responseText: response\n                  }, status, httpMessage]);\n                }\n              };\n\n              module.debug('Using specified async response callback', asyncResponder);\n              asyncResponder.call(context, requestSettings, asyncCallback);\n            }\n\n            return mockedXHR;\n          },\n          xhr: function () {\n            var xhr; // ajax request promise\n\n            xhr = $.ajax(ajaxSettings).always(module.event.xhr.always).done(module.event.xhr.done).fail(module.event.xhr.fail);\n            module.verbose('Created server request', xhr, ajaxSettings);\n            return xhr;\n          }\n        },\n        set: {\n          error: function () {\n            module.verbose('Adding error state to element', $context);\n            $context.addClass(className.error);\n          },\n          loading: function () {\n            module.verbose('Adding loading state to element', $context);\n            $context.addClass(className.loading);\n            requestStartTime = new Date().getTime();\n          }\n        },\n        remove: {\n          error: function () {\n            module.verbose('Removing error state from element', $context);\n            $context.removeClass(className.error);\n          },\n          loading: function () {\n            module.verbose('Removing loading state from element', $context);\n            $context.removeClass(className.loading);\n          }\n        },\n        get: {\n          responseFromXHR: function (xhr) {\n            return $.isPlainObject(xhr) ? module.is.expectingJSON() ? module.decode.json(xhr.responseText) : xhr.responseText : false;\n          },\n          errorFromRequest: function (response, status, httpMessage) {\n            return $.isPlainObject(response) && response.error !== undefined ? response.error // use json error message\n            : settings.error[status] !== undefined ? // use server error message\n            settings.error[status] : httpMessage;\n          },\n          request: function () {\n            return module.request || false;\n          },\n          xhr: function () {\n            return module.xhr || false;\n          },\n          settings: function () {\n            var runSettings;\n            runSettings = settings.beforeSend.call(context, settings);\n\n            if (runSettings) {\n              if (runSettings.success !== undefined) {\n                module.debug('Legacy success callback detected', runSettings);\n                module.error(error.legacyParameters, runSettings.success);\n                runSettings.onSuccess = runSettings.success;\n              }\n\n              if (runSettings.failure !== undefined) {\n                module.debug('Legacy failure callback detected', runSettings);\n                module.error(error.legacyParameters, runSettings.failure);\n                runSettings.onFailure = runSettings.failure;\n              }\n\n              if (runSettings.complete !== undefined) {\n                module.debug('Legacy complete callback detected', runSettings);\n                module.error(error.legacyParameters, runSettings.complete);\n                runSettings.onComplete = runSettings.complete;\n              }\n            }\n\n            if (runSettings === undefined) {\n              module.error(error.noReturnedValue);\n            }\n\n            if (runSettings === false) {\n              return runSettings;\n            }\n\n            return runSettings !== undefined ? $.extend(true, {}, runSettings) : $.extend(true, {}, settings);\n          },\n          urlEncodedValue: function (value) {\n            var decodedValue = window.decodeURIComponent(value),\n                encodedValue = window.encodeURIComponent(value),\n                alreadyEncoded = decodedValue !== value;\n\n            if (alreadyEncoded) {\n              module.debug('URL value is already encoded, avoiding double encoding', value);\n              return value;\n            }\n\n            module.verbose('Encoding value using encodeURIComponent', value, encodedValue);\n            return encodedValue;\n          },\n          defaultData: function () {\n            var data = {};\n\n            if (!$.isWindow(element)) {\n              if (module.is.input()) {\n                data.value = $module.val();\n              } else if (module.is.form()) {} else {\n                data.text = $module.text();\n              }\n            }\n\n            return data;\n          },\n          event: function () {\n            if ($.isWindow(element) || settings.on == 'now') {\n              module.debug('API called without element, no events attached');\n              return false;\n            } else if (settings.on == 'auto') {\n              if ($module.is('input')) {\n                return element.oninput !== undefined ? 'input' : element.onpropertychange !== undefined ? 'propertychange' : 'keyup';\n              } else if ($module.is('form')) {\n                return 'submit';\n              } else {\n                return 'click';\n              }\n            } else {\n              return settings.on;\n            }\n          },\n          templatedURL: function (action) {\n            action = action || $module.data(metadata.action) || settings.action || false;\n            url = $module.data(metadata.url) || settings.url || false;\n\n            if (url) {\n              module.debug('Using specified url', url);\n              return url;\n            }\n\n            if (action) {\n              module.debug('Looking up url for action', action, settings.api);\n\n              if (settings.api[action] === undefined && !module.is.mocked()) {\n                module.error(error.missingAction, settings.action, settings.api);\n                return;\n              }\n\n              url = settings.api[action];\n            } else if (module.is.form()) {\n              url = $module.attr('action') || $context.attr('action') || false;\n              module.debug('No url or action specified, defaulting to form action', url);\n            }\n\n            return url;\n          }\n        },\n        abort: function () {\n          var xhr = module.get.xhr();\n\n          if (xhr && xhr.state() !== 'resolved') {\n            module.debug('Cancelling API request');\n            xhr.abort();\n          }\n        },\n        // reset state\n        reset: function () {\n          module.remove.error();\n          module.remove.loading();\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                //'Element'        : element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.api.settings = {\n    name: 'API',\n    namespace: 'api',\n    debug: false,\n    verbose: false,\n    performance: true,\n    // object containing all templates endpoints\n    api: {},\n    // whether to cache responses\n    cache: true,\n    // whether new requests should abort previous requests\n    interruptRequests: true,\n    // event binding\n    on: 'auto',\n    // context for applying state classes\n    stateContext: false,\n    // duration for loading state\n    loadingDuration: 0,\n    // whether to hide errors after a period of time\n    hideError: 'auto',\n    // duration for error state\n    errorDuration: 2000,\n    // whether parameters should be encoded with encodeURIComponent\n    encodeParameters: true,\n    // API action to use\n    action: false,\n    // templated URL to use\n    url: false,\n    // base URL to apply to all endpoints\n    base: '',\n    // data that will\n    urlData: {},\n    // whether to add default data to url data\n    defaultData: true,\n    // whether to serialize closest form\n    serializeForm: false,\n    // how long to wait before request should occur\n    throttle: 0,\n    // whether to throttle first request or only repeated\n    throttleFirstRequest: true,\n    // standard ajax settings\n    method: 'get',\n    data: {},\n    dataType: 'json',\n    // mock response\n    mockResponse: false,\n    mockResponseAsync: false,\n    // aliases for mock\n    response: false,\n    responseAsync: false,\n    // callbacks before request\n    beforeSend: function (settings) {\n      return settings;\n    },\n    beforeXHR: function (xhr) {},\n    onRequest: function (promise, xhr) {},\n    // after request\n    onResponse: false,\n    // function(response) { },\n    // response was successful, if JSON passed validation\n    onSuccess: function (response, $module) {},\n    // request finished without aborting\n    onComplete: function (response, $module) {},\n    // failed JSON success test\n    onFailure: function (response, $module) {},\n    // server error\n    onError: function (errorMessage, $module) {},\n    // request aborted\n    onAbort: function (errorMessage, $module) {},\n    successTest: false,\n    // errors\n    error: {\n      beforeSend: 'The before send function has aborted the request',\n      error: 'There was an error with your request',\n      exitConditions: 'API Request Aborted. Exit conditions met',\n      JSONParse: 'JSON could not be parsed during error handling',\n      legacyParameters: 'You are using legacy API success callback names',\n      method: 'The method you called is not defined',\n      missingAction: 'API action used but no url was defined',\n      missingSerialize: 'jquery-serialize-object is required to add form data to an existing data object',\n      missingURL: 'No URL specified for api event',\n      noReturnedValue: 'The beforeSend callback must return a settings object, beforeSend ignored.',\n      noStorage: 'Caching responses locally requires session storage',\n      parseError: 'There was an error parsing your request',\n      requiredParameter: 'Missing a required URL parameter: ',\n      statusMessage: 'Server gave an error: ',\n      timeout: 'Your request timed out'\n    },\n    regExp: {\n      required: /\\{\\$*[A-z0-9]+\\}/g,\n      optional: /\\{\\/\\$*[A-z0-9]+\\}/g\n    },\n    className: {\n      loading: 'loading',\n      error: 'error'\n    },\n    selector: {\n      disabled: '.disabled',\n      form: 'form'\n    },\n    metadata: {\n      action: 'action',\n      url: 'url'\n    }\n  };\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"form.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/behaviors/form.js                                                                          //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * # Semantic UI - Form Validation\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.form = function (parameters) {\n    var $allModules = $(this),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        legacyParameters = arguments[1],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue;\n    $allModules.each(function () {\n      var $module = $(this),\n          element = this,\n          formErrors = [],\n          keyHeldDown = false,\n          // set at run-time\n      $field,\n          $group,\n          $message,\n          $prompt,\n          $submit,\n          $clear,\n          $reset,\n          settings,\n          validation,\n          metadata,\n          selector,\n          className,\n          regExp,\n          error,\n          namespace,\n          moduleNamespace,\n          eventNamespace,\n          instance,\n          module;\n      module = {\n        initialize: function () {\n          // settings grabbed at run time\n          module.get.settings();\n\n          if (methodInvoked) {\n            if (instance === undefined) {\n              module.instantiate();\n            }\n\n            module.invoke(query);\n          } else {\n            if (instance !== undefined) {\n              instance.invoke('destroy');\n            }\n\n            module.verbose('Initializing form validation', $module, settings);\n            module.bindEvents();\n            module.set.defaults();\n            module.instantiate();\n          }\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module.data(moduleNamespace, module);\n        },\n        destroy: function () {\n          module.verbose('Destroying previous module', instance);\n          module.removeEvents();\n          $module.removeData(moduleNamespace);\n        },\n        refresh: function () {\n          module.verbose('Refreshing selector cache');\n          $field = $module.find(selector.field);\n          $group = $module.find(selector.group);\n          $message = $module.find(selector.message);\n          $prompt = $module.find(selector.prompt);\n          $submit = $module.find(selector.submit);\n          $clear = $module.find(selector.clear);\n          $reset = $module.find(selector.reset);\n        },\n        submit: function () {\n          module.verbose('Submitting form', $module);\n          $module.submit();\n        },\n        attachEvents: function (selector, action) {\n          action = action || 'submit';\n          $(selector).on('click' + eventNamespace, function (event) {\n            module[action]();\n            event.preventDefault();\n          });\n        },\n        bindEvents: function () {\n          module.verbose('Attaching form events');\n          $module.on('submit' + eventNamespace, module.validate.form).on('blur' + eventNamespace, selector.field, module.event.field.blur).on('click' + eventNamespace, selector.submit, module.submit).on('click' + eventNamespace, selector.reset, module.reset).on('click' + eventNamespace, selector.clear, module.clear);\n\n          if (settings.keyboardShortcuts) {\n            $module.on('keydown' + eventNamespace, selector.field, module.event.field.keydown);\n          }\n\n          $field.each(function () {\n            var $input = $(this),\n                type = $input.prop('type'),\n                inputEvent = module.get.changeEvent(type, $input);\n            $(this).on(inputEvent + eventNamespace, module.event.field.change);\n          });\n        },\n        clear: function () {\n          $field.each(function () {\n            var $field = $(this),\n                $element = $field.parent(),\n                $fieldGroup = $field.closest($group),\n                $prompt = $fieldGroup.find(selector.prompt),\n                defaultValue = $field.data(metadata.defaultValue) || '',\n                isCheckbox = $element.is(selector.uiCheckbox),\n                isDropdown = $element.is(selector.uiDropdown),\n                isErrored = $fieldGroup.hasClass(className.error);\n\n            if (isErrored) {\n              module.verbose('Resetting error on field', $fieldGroup);\n              $fieldGroup.removeClass(className.error);\n              $prompt.remove();\n            }\n\n            if (isDropdown) {\n              module.verbose('Resetting dropdown value', $element, defaultValue);\n              $element.dropdown('clear');\n            } else if (isCheckbox) {\n              $field.prop('checked', false);\n            } else {\n              module.verbose('Resetting field value', $field, defaultValue);\n              $field.val('');\n            }\n          });\n        },\n        reset: function () {\n          $field.each(function () {\n            var $field = $(this),\n                $element = $field.parent(),\n                $fieldGroup = $field.closest($group),\n                $prompt = $fieldGroup.find(selector.prompt),\n                defaultValue = $field.data(metadata.defaultValue),\n                isCheckbox = $element.is(selector.uiCheckbox),\n                isDropdown = $element.is(selector.uiDropdown),\n                isErrored = $fieldGroup.hasClass(className.error);\n\n            if (defaultValue === undefined) {\n              return;\n            }\n\n            if (isErrored) {\n              module.verbose('Resetting error on field', $fieldGroup);\n              $fieldGroup.removeClass(className.error);\n              $prompt.remove();\n            }\n\n            if (isDropdown) {\n              module.verbose('Resetting dropdown value', $element, defaultValue);\n              $element.dropdown('restore defaults');\n            } else if (isCheckbox) {\n              module.verbose('Resetting checkbox value', $element, defaultValue);\n              $field.prop('checked', defaultValue);\n            } else {\n              module.verbose('Resetting field value', $field, defaultValue);\n              $field.val(defaultValue);\n            }\n          });\n        },\n        determine: {\n          isValid: function () {\n            var allValid = true;\n            $.each(validation, function (fieldName, field) {\n              if (!module.validate.field(field, fieldName, true)) {\n                allValid = false;\n              }\n            });\n            return allValid;\n          }\n        },\n        is: {\n          bracketedRule: function (rule) {\n            return rule.type && rule.type.match(settings.regExp.bracket);\n          },\n          shorthandFields: function (fields) {\n            var fieldKeys = Object.keys(fields),\n                firstRule = fields[fieldKeys[0]];\n            return module.is.shorthandRules(firstRule);\n          },\n          // duck type rule test\n          shorthandRules: function (rules) {\n            return typeof rules == 'string' || $.isArray(rules);\n          },\n          empty: function ($field) {\n            if (!$field || $field.length === 0) {\n              return true;\n            } else if ($field.is('input[type=\"checkbox\"]')) {\n              return !$field.is(':checked');\n            } else {\n              return module.is.blank($field);\n            }\n          },\n          blank: function ($field) {\n            return $.trim($field.val()) === '';\n          },\n          valid: function (field) {\n            var allValid = true;\n\n            if (field) {\n              module.verbose('Checking if field is valid', field);\n              return module.validate.field(validation[field], field, false);\n            } else {\n              module.verbose('Checking if form is valid');\n              $.each(validation, function (fieldName, field) {\n                if (!module.is.valid(fieldName)) {\n                  allValid = false;\n                }\n              });\n              return allValid;\n            }\n          }\n        },\n        removeEvents: function () {\n          $module.off(eventNamespace);\n          $field.off(eventNamespace);\n          $submit.off(eventNamespace);\n          $field.off(eventNamespace);\n        },\n        event: {\n          field: {\n            keydown: function (event) {\n              var $field = $(this),\n                  key = event.which,\n                  isInput = $field.is(selector.input),\n                  isCheckbox = $field.is(selector.checkbox),\n                  isInDropdown = $field.closest(selector.uiDropdown).length > 0,\n                  keyCode = {\n                enter: 13,\n                escape: 27\n              };\n\n              if (key == keyCode.escape) {\n                module.verbose('Escape key pressed blurring field');\n                $field.blur();\n              }\n\n              if (!event.ctrlKey && key == keyCode.enter && isInput && !isInDropdown && !isCheckbox) {\n                if (!keyHeldDown) {\n                  $field.one('keyup' + eventNamespace, module.event.field.keyup);\n                  module.submit();\n                  module.debug('Enter pressed on input submitting form');\n                }\n\n                keyHeldDown = true;\n              }\n            },\n            keyup: function () {\n              keyHeldDown = false;\n            },\n            blur: function (event) {\n              var $field = $(this),\n                  $fieldGroup = $field.closest($group),\n                  validationRules = module.get.validation($field);\n\n              if ($fieldGroup.hasClass(className.error)) {\n                module.debug('Revalidating field', $field, validationRules);\n\n                if (validationRules) {\n                  module.validate.field(validationRules);\n                }\n              } else if (settings.on == 'blur') {\n                if (validationRules) {\n                  module.validate.field(validationRules);\n                }\n              }\n            },\n            change: function (event) {\n              var $field = $(this),\n                  $fieldGroup = $field.closest($group),\n                  validationRules = module.get.validation($field);\n\n              if (validationRules && (settings.on == 'change' || $fieldGroup.hasClass(className.error) && settings.revalidate)) {\n                clearTimeout(module.timer);\n                module.timer = setTimeout(function () {\n                  module.debug('Revalidating field', $field, module.get.validation($field));\n                  module.validate.field(validationRules);\n                }, settings.delay);\n              }\n            }\n          }\n        },\n        get: {\n          ancillaryValue: function (rule) {\n            if (!rule.type || !rule.value && !module.is.bracketedRule(rule)) {\n              return false;\n            }\n\n            return rule.value !== undefined ? rule.value : rule.type.match(settings.regExp.bracket)[1] + '';\n          },\n          ruleName: function (rule) {\n            if (module.is.bracketedRule(rule)) {\n              return rule.type.replace(rule.type.match(settings.regExp.bracket)[0], '');\n            }\n\n            return rule.type;\n          },\n          changeEvent: function (type, $input) {\n            if (type == 'checkbox' || type == 'radio' || type == 'hidden' || $input.is('select')) {\n              return 'change';\n            } else {\n              return module.get.inputEvent();\n            }\n          },\n          inputEvent: function () {\n            return document.createElement('input').oninput !== undefined ? 'input' : document.createElement('input').onpropertychange !== undefined ? 'propertychange' : 'keyup';\n          },\n          fieldsFromShorthand: function (fields) {\n            var fullFields = {};\n            $.each(fields, function (name, rules) {\n              if (typeof rules == 'string') {\n                rules = [rules];\n              }\n\n              fullFields[name] = {\n                rules: []\n              };\n              $.each(rules, function (index, rule) {\n                fullFields[name].rules.push({\n                  type: rule\n                });\n              });\n            });\n            return fullFields;\n          },\n          prompt: function (rule, field) {\n            var ruleName = module.get.ruleName(rule),\n                ancillary = module.get.ancillaryValue(rule),\n                $field = module.get.field(field.identifier),\n                value = $field.val(),\n                prompt = $.isFunction(rule.prompt) ? rule.prompt(value) : rule.prompt || settings.prompt[ruleName] || settings.text.unspecifiedRule,\n                requiresValue = prompt.search('{value}') !== -1,\n                requiresName = prompt.search('{name}') !== -1,\n                $label,\n                name;\n\n            if (requiresValue) {\n              prompt = prompt.replace('{value}', $field.val());\n            }\n\n            if (requiresName) {\n              $label = $field.closest(selector.group).find('label').eq(0);\n              name = $label.length == 1 ? $label.text() : $field.prop('placeholder') || settings.text.unspecifiedField;\n              prompt = prompt.replace('{name}', name);\n            }\n\n            prompt = prompt.replace('{identifier}', field.identifier);\n            prompt = prompt.replace('{ruleValue}', ancillary);\n\n            if (!rule.prompt) {\n              module.verbose('Using default validation prompt for type', prompt, ruleName);\n            }\n\n            return prompt;\n          },\n          settings: function () {\n            if ($.isPlainObject(parameters)) {\n              var keys = Object.keys(parameters),\n                  isLegacySettings = keys.length > 0 ? parameters[keys[0]].identifier !== undefined && parameters[keys[0]].rules !== undefined : false,\n                  ruleKeys;\n\n              if (isLegacySettings) {\n                // 1.x (ducktyped)\n                settings = $.extend(true, {}, $.fn.form.settings, legacyParameters);\n                validation = $.extend({}, $.fn.form.settings.defaults, parameters);\n                module.error(settings.error.oldSyntax, element);\n                module.verbose('Extending settings from legacy parameters', validation, settings);\n              } else {\n                // 2.x\n                if (parameters.fields && module.is.shorthandFields(parameters.fields)) {\n                  parameters.fields = module.get.fieldsFromShorthand(parameters.fields);\n                }\n\n                settings = $.extend(true, {}, $.fn.form.settings, parameters);\n                validation = $.extend({}, $.fn.form.settings.defaults, settings.fields);\n                module.verbose('Extending settings', validation, settings);\n              }\n            } else {\n              settings = $.fn.form.settings;\n              validation = $.fn.form.settings.defaults;\n              module.verbose('Using default form validation', validation, settings);\n            } // shorthand\n\n\n            namespace = settings.namespace;\n            metadata = settings.metadata;\n            selector = settings.selector;\n            className = settings.className;\n            regExp = settings.regExp;\n            error = settings.error;\n            moduleNamespace = 'module-' + namespace;\n            eventNamespace = '.' + namespace; // grab instance\n\n            instance = $module.data(moduleNamespace); // refresh selector cache\n\n            module.refresh();\n          },\n          field: function (identifier) {\n            module.verbose('Finding field with identifier', identifier);\n            identifier = module.escape.string(identifier);\n\n            if ($field.filter('#' + identifier).length > 0) {\n              return $field.filter('#' + identifier);\n            } else if ($field.filter('[name=\"' + identifier + '\"]').length > 0) {\n              return $field.filter('[name=\"' + identifier + '\"]');\n            } else if ($field.filter('[name=\"' + identifier + '[]\"]').length > 0) {\n              return $field.filter('[name=\"' + identifier + '[]\"]');\n            } else if ($field.filter('[data-' + metadata.validate + '=\"' + identifier + '\"]').length > 0) {\n              return $field.filter('[data-' + metadata.validate + '=\"' + identifier + '\"]');\n            }\n\n            return $('<input/>');\n          },\n          fields: function (fields) {\n            var $fields = $();\n            $.each(fields, function (index, name) {\n              $fields = $fields.add(module.get.field(name));\n            });\n            return $fields;\n          },\n          validation: function ($field) {\n            var fieldValidation, identifier;\n\n            if (!validation) {\n              return false;\n            }\n\n            $.each(validation, function (fieldName, field) {\n              identifier = field.identifier || fieldName;\n\n              if (module.get.field(identifier)[0] == $field[0]) {\n                field.identifier = identifier;\n                fieldValidation = field;\n              }\n            });\n            return fieldValidation || false;\n          },\n          value: function (field) {\n            var fields = [],\n                results;\n            fields.push(field);\n            results = module.get.values.call(element, fields);\n            return results[field];\n          },\n          values: function (fields) {\n            var $fields = $.isArray(fields) ? module.get.fields(fields) : $field,\n                values = {};\n            $fields.each(function (index, field) {\n              var $field = $(field),\n                  type = $field.prop('type'),\n                  name = $field.prop('name'),\n                  value = $field.val(),\n                  isCheckbox = $field.is(selector.checkbox),\n                  isRadio = $field.is(selector.radio),\n                  isMultiple = name.indexOf('[]') !== -1,\n                  isChecked = isCheckbox ? $field.is(':checked') : false;\n\n              if (name) {\n                if (isMultiple) {\n                  name = name.replace('[]', '');\n\n                  if (!values[name]) {\n                    values[name] = [];\n                  }\n\n                  if (isCheckbox) {\n                    if (isChecked) {\n                      values[name].push(value || true);\n                    } else {\n                      values[name].push(false);\n                    }\n                  } else {\n                    values[name].push(value);\n                  }\n                } else {\n                  if (isRadio) {\n                    if (values[name] === undefined || values[name] == false) {\n                      values[name] = isChecked ? value || true : false;\n                    }\n                  } else if (isCheckbox) {\n                    if (isChecked) {\n                      values[name] = value || true;\n                    } else {\n                      values[name] = false;\n                    }\n                  } else {\n                    values[name] = value;\n                  }\n                }\n              }\n            });\n            return values;\n          }\n        },\n        has: {\n          field: function (identifier) {\n            module.verbose('Checking for existence of a field with identifier', identifier);\n            identifier = module.escape.string(identifier);\n\n            if (typeof identifier !== 'string') {\n              module.error(error.identifier, identifier);\n            }\n\n            if ($field.filter('#' + identifier).length > 0) {\n              return true;\n            } else if ($field.filter('[name=\"' + identifier + '\"]').length > 0) {\n              return true;\n            } else if ($field.filter('[data-' + metadata.validate + '=\"' + identifier + '\"]').length > 0) {\n              return true;\n            }\n\n            return false;\n          }\n        },\n        escape: {\n          string: function (text) {\n            text = String(text);\n            return text.replace(regExp.escape, '\\\\$&');\n          }\n        },\n        add: {\n          // alias\n          rule: function (name, rules) {\n            module.add.field(name, rules);\n          },\n          field: function (name, rules) {\n            var newValidation = {};\n\n            if (module.is.shorthandRules(rules)) {\n              rules = $.isArray(rules) ? rules : [rules];\n              newValidation[name] = {\n                rules: []\n              };\n              $.each(rules, function (index, rule) {\n                newValidation[name].rules.push({\n                  type: rule\n                });\n              });\n            } else {\n              newValidation[name] = rules;\n            }\n\n            validation = $.extend({}, validation, newValidation);\n            module.debug('Adding rules', newValidation, validation);\n          },\n          fields: function (fields) {\n            var newValidation;\n\n            if (fields && module.is.shorthandFields(fields)) {\n              newValidation = module.get.fieldsFromShorthand(fields);\n            } else {\n              newValidation = fields;\n            }\n\n            validation = $.extend({}, validation, newValidation);\n          },\n          prompt: function (identifier, errors) {\n            var $field = module.get.field(identifier),\n                $fieldGroup = $field.closest($group),\n                $prompt = $fieldGroup.children(selector.prompt),\n                promptExists = $prompt.length !== 0;\n            errors = typeof errors == 'string' ? [errors] : errors;\n            module.verbose('Adding field error state', identifier);\n            $fieldGroup.addClass(className.error);\n\n            if (settings.inline) {\n              if (!promptExists) {\n                $prompt = settings.templates.prompt(errors);\n                $prompt.appendTo($fieldGroup);\n              }\n\n              $prompt.html(errors[0]);\n\n              if (!promptExists) {\n                if (settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n                  module.verbose('Displaying error with css transition', settings.transition);\n                  $prompt.transition(settings.transition + ' in', settings.duration);\n                } else {\n                  module.verbose('Displaying error with fallback javascript animation');\n                  $prompt.fadeIn(settings.duration);\n                }\n              } else {\n                module.verbose('Inline errors are disabled, no inline error added', identifier);\n              }\n            }\n          },\n          errors: function (errors) {\n            module.debug('Adding form error messages', errors);\n            module.set.error();\n            $message.html(settings.templates.error(errors));\n          }\n        },\n        remove: {\n          rule: function (field, rule) {\n            var rules = $.isArray(rule) ? rule : [rule];\n\n            if (rule == undefined) {\n              module.debug('Removed all rules');\n              validation[field].rules = [];\n              return;\n            }\n\n            if (validation[field] == undefined || !$.isArray(validation[field].rules)) {\n              return;\n            }\n\n            $.each(validation[field].rules, function (index, rule) {\n              if (rules.indexOf(rule.type) !== -1) {\n                module.debug('Removed rule', rule.type);\n                validation[field].rules.splice(index, 1);\n              }\n            });\n          },\n          field: function (field) {\n            var fields = $.isArray(field) ? field : [field];\n            $.each(fields, function (index, field) {\n              module.remove.rule(field);\n            });\n          },\n          // alias\n          rules: function (field, rules) {\n            if ($.isArray(field)) {\n              $.each(fields, function (index, field) {\n                module.remove.rule(field, rules);\n              });\n            } else {\n              module.remove.rule(field, rules);\n            }\n          },\n          fields: function (fields) {\n            module.remove.field(fields);\n          },\n          prompt: function (identifier) {\n            var $field = module.get.field(identifier),\n                $fieldGroup = $field.closest($group),\n                $prompt = $fieldGroup.children(selector.prompt);\n            $fieldGroup.removeClass(className.error);\n\n            if (settings.inline && $prompt.is(':visible')) {\n              module.verbose('Removing prompt for field', identifier);\n\n              if (settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n                $prompt.transition(settings.transition + ' out', settings.duration, function () {\n                  $prompt.remove();\n                });\n              } else {\n                $prompt.fadeOut(settings.duration, function () {\n                  $prompt.remove();\n                });\n              }\n            }\n          }\n        },\n        set: {\n          success: function () {\n            $module.removeClass(className.error).addClass(className.success);\n          },\n          defaults: function () {\n            $field.each(function () {\n              var $field = $(this),\n                  isCheckbox = $field.filter(selector.checkbox).length > 0,\n                  value = isCheckbox ? $field.is(':checked') : $field.val();\n              $field.data(metadata.defaultValue, value);\n            });\n          },\n          error: function () {\n            $module.removeClass(className.success).addClass(className.error);\n          },\n          value: function (field, value) {\n            var fields = {};\n            fields[field] = value;\n            return module.set.values.call(element, fields);\n          },\n          values: function (fields) {\n            if ($.isEmptyObject(fields)) {\n              return;\n            }\n\n            $.each(fields, function (key, value) {\n              var $field = module.get.field(key),\n                  $element = $field.parent(),\n                  isMultiple = $.isArray(value),\n                  isCheckbox = $element.is(selector.uiCheckbox),\n                  isDropdown = $element.is(selector.uiDropdown),\n                  isRadio = $field.is(selector.radio) && isCheckbox,\n                  fieldExists = $field.length > 0,\n                  $multipleField;\n\n              if (fieldExists) {\n                if (isMultiple && isCheckbox) {\n                  module.verbose('Selecting multiple', value, $field);\n                  $element.checkbox('uncheck');\n                  $.each(value, function (index, value) {\n                    $multipleField = $field.filter('[value=\"' + value + '\"]');\n                    $element = $multipleField.parent();\n\n                    if ($multipleField.length > 0) {\n                      $element.checkbox('check');\n                    }\n                  });\n                } else if (isRadio) {\n                  module.verbose('Selecting radio value', value, $field);\n                  $field.filter('[value=\"' + value + '\"]').parent(selector.uiCheckbox).checkbox('check');\n                } else if (isCheckbox) {\n                  module.verbose('Setting checkbox value', value, $element);\n\n                  if (value === true) {\n                    $element.checkbox('check');\n                  } else {\n                    $element.checkbox('uncheck');\n                  }\n                } else if (isDropdown) {\n                  module.verbose('Setting dropdown value', value, $element);\n                  $element.dropdown('set selected', value);\n                } else {\n                  module.verbose('Setting field value', value, $field);\n                  $field.val(value);\n                }\n              }\n            });\n          }\n        },\n        validate: {\n          form: function (event, ignoreCallbacks) {\n            var values = module.get.values(),\n                apiRequest; // input keydown event will fire submit repeatedly by browser default\n\n            if (keyHeldDown) {\n              return false;\n            } // reset errors\n\n\n            formErrors = [];\n\n            if (module.determine.isValid()) {\n              module.debug('Form has no validation errors, submitting');\n              module.set.success();\n\n              if (ignoreCallbacks !== true) {\n                return settings.onSuccess.call(element, event, values);\n              }\n            } else {\n              module.debug('Form has errors');\n              module.set.error();\n\n              if (!settings.inline) {\n                module.add.errors(formErrors);\n              } // prevent ajax submit\n\n\n              if ($module.data('moduleApi') !== undefined) {\n                event.stopImmediatePropagation();\n              }\n\n              if (ignoreCallbacks !== true) {\n                return settings.onFailure.call(element, formErrors, values);\n              }\n            }\n          },\n          // takes a validation object and returns whether field passes validation\n          field: function (field, fieldName, showErrors) {\n            showErrors = showErrors !== undefined ? showErrors : true;\n\n            if (typeof field == 'string') {\n              module.verbose('Validating field', field);\n              fieldName = field;\n              field = validation[field];\n            }\n\n            var identifier = field.identifier || fieldName,\n                $field = module.get.field(identifier),\n                $dependsField = field.depends ? module.get.field(field.depends) : false,\n                fieldValid = true,\n                fieldErrors = [];\n\n            if (!field.identifier) {\n              module.debug('Using field name as identifier', identifier);\n              field.identifier = identifier;\n            }\n\n            if ($field.prop('disabled')) {\n              module.debug('Field is disabled. Skipping', identifier);\n              fieldValid = true;\n            } else if (field.optional && module.is.blank($field)) {\n              module.debug('Field is optional and blank. Skipping', identifier);\n              fieldValid = true;\n            } else if (field.depends && module.is.empty($dependsField)) {\n              module.debug('Field depends on another value that is not present or empty. Skipping', $dependsField);\n              fieldValid = true;\n            } else if (field.rules !== undefined) {\n              $.each(field.rules, function (index, rule) {\n                if (module.has.field(identifier) && !module.validate.rule(field, rule)) {\n                  module.debug('Field is invalid', identifier, rule.type);\n                  fieldErrors.push(module.get.prompt(rule, field));\n                  fieldValid = false;\n                }\n              });\n            }\n\n            if (fieldValid) {\n              if (showErrors) {\n                module.remove.prompt(identifier, fieldErrors);\n                settings.onValid.call($field);\n              }\n            } else {\n              if (showErrors) {\n                formErrors = formErrors.concat(fieldErrors);\n                module.add.prompt(identifier, fieldErrors);\n                settings.onInvalid.call($field, fieldErrors);\n              }\n\n              return false;\n            }\n\n            return true;\n          },\n          // takes validation rule and returns whether field passes rule\n          rule: function (field, rule) {\n            var $field = module.get.field(field.identifier),\n                type = rule.type,\n                value = $field.val(),\n                isValid = true,\n                ancillary = module.get.ancillaryValue(rule),\n                ruleName = module.get.ruleName(rule),\n                ruleFunction = settings.rules[ruleName];\n\n            if (!$.isFunction(ruleFunction)) {\n              module.error(error.noRule, ruleName);\n              return;\n            } // cast to string avoiding encoding special values\n\n\n            value = value === undefined || value === '' || value === null ? '' : $.trim(value + '');\n            return ruleFunction.call($field, value, ancillary);\n          }\n        },\n        setting: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            settings[name] = value;\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n      module.initialize();\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.form.settings = {\n    name: 'Form',\n    namespace: 'form',\n    debug: false,\n    verbose: false,\n    performance: true,\n    fields: false,\n    keyboardShortcuts: true,\n    on: 'submit',\n    inline: false,\n    delay: 200,\n    revalidate: true,\n    transition: 'scale',\n    duration: 200,\n    onValid: function () {},\n    onInvalid: function () {},\n    onSuccess: function () {\n      return true;\n    },\n    onFailure: function () {\n      return false;\n    },\n    metadata: {\n      defaultValue: 'default',\n      validate: 'validate'\n    },\n    regExp: {\n      htmlID: /^[a-zA-Z][\\w:.-]*$/g,\n      bracket: /\\[(.*)\\]/i,\n      decimal: /^\\d+\\.?\\d*$/,\n      email: /^[a-z0-9!#$%&'*+\\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,\n      escape: /[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g,\n      flags: /^\\/(.*)\\/(.*)?/,\n      integer: /^\\-?\\d+$/,\n      number: /^\\-?\\d*(\\.\\d+)?$/,\n      url: /(https?:\\/\\/(?:www\\.|(?!www))[^\\s\\.]+\\.[^\\s]{2,}|www\\.[^\\s]+\\.[^\\s]{2,})/i\n    },\n    text: {\n      unspecifiedRule: 'Please enter a valid value',\n      unspecifiedField: 'This field'\n    },\n    prompt: {\n      empty: '{name} must have a value',\n      checked: '{name} must be checked',\n      email: '{name} must be a valid e-mail',\n      url: '{name} must be a valid url',\n      regExp: '{name} is not formatted correctly',\n      integer: '{name} must be an integer',\n      decimal: '{name} must be a decimal number',\n      number: '{name} must be set to a number',\n      is: '{name} must be \"{ruleValue}\"',\n      isExactly: '{name} must be exactly \"{ruleValue}\"',\n      not: '{name} cannot be set to \"{ruleValue}\"',\n      notExactly: '{name} cannot be set to exactly \"{ruleValue}\"',\n      contain: '{name} must contain \"{ruleValue}\"',\n      containExactly: '{name} must contain exactly \"{ruleValue}\"',\n      doesntContain: '{name} cannot contain  \"{ruleValue}\"',\n      doesntContainExactly: '{name} cannot contain exactly \"{ruleValue}\"',\n      minLength: '{name} must be at least {ruleValue} characters',\n      length: '{name} must be at least {ruleValue} characters',\n      exactLength: '{name} must be exactly {ruleValue} characters',\n      maxLength: '{name} cannot be longer than {ruleValue} characters',\n      match: '{name} must match {ruleValue} field',\n      different: '{name} must have a different value than {ruleValue} field',\n      creditCard: '{name} must be a valid credit card number',\n      minCount: '{name} must have at least {ruleValue} choices',\n      exactCount: '{name} must have exactly {ruleValue} choices',\n      maxCount: '{name} must have {ruleValue} or less choices'\n    },\n    selector: {\n      checkbox: 'input[type=\"checkbox\"], input[type=\"radio\"]',\n      clear: '.clear',\n      field: 'input, textarea, select',\n      group: '.field',\n      input: 'input',\n      message: '.error.message',\n      prompt: '.prompt.label',\n      radio: 'input[type=\"radio\"]',\n      reset: '.reset:not([type=\"reset\"])',\n      submit: '.submit:not([type=\"submit\"])',\n      uiCheckbox: '.ui.checkbox',\n      uiDropdown: '.ui.dropdown'\n    },\n    className: {\n      error: 'error',\n      label: 'ui prompt label',\n      pressed: 'down',\n      success: 'success'\n    },\n    error: {\n      identifier: 'You must specify a string identifier for each field',\n      method: 'The method you called is not defined.',\n      noRule: 'There is no rule matching the one you specified',\n      oldSyntax: 'Starting in 2.0 forms now only take a single settings object. Validation settings converted to new syntax automatically.'\n    },\n    templates: {\n      // template that produces error message\n      error: function (errors) {\n        var html = '<ul class=\"list\">';\n        $.each(errors, function (index, value) {\n          html += '<li>' + value + '</li>';\n        });\n        html += '</ul>';\n        return $(html);\n      },\n      // template that produces label\n      prompt: function (errors) {\n        return $('<div/>').addClass('ui basic red pointing prompt label').html(errors[0]);\n      }\n    },\n    rules: {\n      // is not empty or blank string\n      empty: function (value) {\n        return !(value === undefined || '' === value || $.isArray(value) && value.length === 0);\n      },\n      // checkbox checked\n      checked: function () {\n        return $(this).filter(':checked').length > 0;\n      },\n      // is most likely an email\n      email: function (value) {\n        return $.fn.form.settings.regExp.email.test(value);\n      },\n      // value is most likely url\n      url: function (value) {\n        return $.fn.form.settings.regExp.url.test(value);\n      },\n      // matches specified regExp\n      regExp: function (value, regExp) {\n        if (regExp instanceof RegExp) {\n          return value.match(regExp);\n        }\n\n        var regExpParts = regExp.match($.fn.form.settings.regExp.flags),\n            flags; // regular expression specified as /baz/gi (flags)\n\n        if (regExpParts) {\n          regExp = regExpParts.length >= 2 ? regExpParts[1] : regExp;\n          flags = regExpParts.length >= 3 ? regExpParts[2] : '';\n        }\n\n        return value.match(new RegExp(regExp, flags));\n      },\n      // is valid integer or matches range\n      integer: function (value, range) {\n        var intRegExp = $.fn.form.settings.regExp.integer,\n            min,\n            max,\n            parts;\n\n        if (!range || ['', '..'].indexOf(range) !== -1) {// do nothing\n        } else if (range.indexOf('..') == -1) {\n          if (intRegExp.test(range)) {\n            min = max = range - 0;\n          }\n        } else {\n          parts = range.split('..', 2);\n\n          if (intRegExp.test(parts[0])) {\n            min = parts[0] - 0;\n          }\n\n          if (intRegExp.test(parts[1])) {\n            max = parts[1] - 0;\n          }\n        }\n\n        return intRegExp.test(value) && (min === undefined || value >= min) && (max === undefined || value <= max);\n      },\n      // is valid number (with decimal)\n      decimal: function (value) {\n        return $.fn.form.settings.regExp.decimal.test(value);\n      },\n      // is valid number\n      number: function (value) {\n        return $.fn.form.settings.regExp.number.test(value);\n      },\n      // is value (case insensitive)\n      is: function (value, text) {\n        text = typeof text == 'string' ? text.toLowerCase() : text;\n        value = typeof value == 'string' ? value.toLowerCase() : value;\n        return value == text;\n      },\n      // is value\n      isExactly: function (value, text) {\n        return value == text;\n      },\n      // value is not another value (case insensitive)\n      not: function (value, notValue) {\n        value = typeof value == 'string' ? value.toLowerCase() : value;\n        notValue = typeof notValue == 'string' ? notValue.toLowerCase() : notValue;\n        return value != notValue;\n      },\n      // value is not another value (case sensitive)\n      notExactly: function (value, notValue) {\n        return value != notValue;\n      },\n      // value contains text (insensitive)\n      contains: function (value, text) {\n        // escape regex characters\n        text = text.replace($.fn.form.settings.regExp.escape, \"\\\\$&\");\n        return value.search(new RegExp(text, 'i')) !== -1;\n      },\n      // value contains text (case sensitive)\n      containsExactly: function (value, text) {\n        // escape regex characters\n        text = text.replace($.fn.form.settings.regExp.escape, \"\\\\$&\");\n        return value.search(new RegExp(text)) !== -1;\n      },\n      // value contains text (insensitive)\n      doesntContain: function (value, text) {\n        // escape regex characters\n        text = text.replace($.fn.form.settings.regExp.escape, \"\\\\$&\");\n        return value.search(new RegExp(text, 'i')) === -1;\n      },\n      // value contains text (case sensitive)\n      doesntContainExactly: function (value, text) {\n        // escape regex characters\n        text = text.replace($.fn.form.settings.regExp.escape, \"\\\\$&\");\n        return value.search(new RegExp(text)) === -1;\n      },\n      // is at least string length\n      minLength: function (value, requiredLength) {\n        return value !== undefined ? value.length >= requiredLength : false;\n      },\n      // see rls notes for 2.0.6 (this is a duplicate of minLength)\n      length: function (value, requiredLength) {\n        return value !== undefined ? value.length >= requiredLength : false;\n      },\n      // is exactly length\n      exactLength: function (value, requiredLength) {\n        return value !== undefined ? value.length == requiredLength : false;\n      },\n      // is less than length\n      maxLength: function (value, maxLength) {\n        return value !== undefined ? value.length <= maxLength : false;\n      },\n      // matches another field\n      match: function (value, identifier) {\n        var $form = $(this),\n            matchingValue;\n\n        if ($('[data-validate=\"' + identifier + '\"]').length > 0) {\n          matchingValue = $('[data-validate=\"' + identifier + '\"]').val();\n        } else if ($('#' + identifier).length > 0) {\n          matchingValue = $('#' + identifier).val();\n        } else if ($('[name=\"' + identifier + '\"]').length > 0) {\n          matchingValue = $('[name=\"' + identifier + '\"]').val();\n        } else if ($('[name=\"' + identifier + '[]\"]').length > 0) {\n          matchingValue = $('[name=\"' + identifier + '[]\"]');\n        }\n\n        return matchingValue !== undefined ? value.toString() == matchingValue.toString() : false;\n      },\n      // different than another field\n      different: function (value, identifier) {\n        // use either id or name of field\n        var $form = $(this),\n            matchingValue;\n\n        if ($('[data-validate=\"' + identifier + '\"]').length > 0) {\n          matchingValue = $('[data-validate=\"' + identifier + '\"]').val();\n        } else if ($('#' + identifier).length > 0) {\n          matchingValue = $('#' + identifier).val();\n        } else if ($('[name=\"' + identifier + '\"]').length > 0) {\n          matchingValue = $('[name=\"' + identifier + '\"]').val();\n        } else if ($('[name=\"' + identifier + '[]\"]').length > 0) {\n          matchingValue = $('[name=\"' + identifier + '[]\"]');\n        }\n\n        return matchingValue !== undefined ? value.toString() !== matchingValue.toString() : false;\n      },\n      creditCard: function (cardNumber, cardTypes) {\n        var cards = {\n          visa: {\n            pattern: /^4/,\n            length: [16]\n          },\n          amex: {\n            pattern: /^3[47]/,\n            length: [15]\n          },\n          mastercard: {\n            pattern: /^5[1-5]/,\n            length: [16]\n          },\n          discover: {\n            pattern: /^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,\n            length: [16]\n          },\n          unionPay: {\n            pattern: /^(62|88)/,\n            length: [16, 17, 18, 19]\n          },\n          jcb: {\n            pattern: /^35(2[89]|[3-8][0-9])/,\n            length: [16]\n          },\n          maestro: {\n            pattern: /^(5018|5020|5038|6304|6759|676[1-3])/,\n            length: [12, 13, 14, 15, 16, 17, 18, 19]\n          },\n          dinersClub: {\n            pattern: /^(30[0-5]|^36)/,\n            length: [14]\n          },\n          laser: {\n            pattern: /^(6304|670[69]|6771)/,\n            length: [16, 17, 18, 19]\n          },\n          visaElectron: {\n            pattern: /^(4026|417500|4508|4844|491(3|7))/,\n            length: [16]\n          }\n        },\n            valid = {},\n            validCard = false,\n            requiredTypes = typeof cardTypes == 'string' ? cardTypes.split(',') : false,\n            unionPay,\n            validation;\n\n        if (typeof cardNumber !== 'string' || cardNumber.length === 0) {\n          return;\n        } // allow dashes in card\n\n\n        cardNumber = cardNumber.replace(/[\\-]/g, ''); // verify card types\n\n        if (requiredTypes) {\n          $.each(requiredTypes, function (index, type) {\n            // verify each card type\n            validation = cards[type];\n\n            if (validation) {\n              valid = {\n                length: $.inArray(cardNumber.length, validation.length) !== -1,\n                pattern: cardNumber.search(validation.pattern) !== -1\n              };\n\n              if (valid.length && valid.pattern) {\n                validCard = true;\n              }\n            }\n          });\n\n          if (!validCard) {\n            return false;\n          }\n        } // skip luhn for UnionPay\n\n\n        unionPay = {\n          number: $.inArray(cardNumber.length, cards.unionPay.length) !== -1,\n          pattern: cardNumber.search(cards.unionPay.pattern) !== -1\n        };\n\n        if (unionPay.number && unionPay.pattern) {\n          return true;\n        } // verify luhn, adapted from  <https://gist.github.com/2134376>\n\n\n        var length = cardNumber.length,\n            multiple = 0,\n            producedValue = [[0, 1, 2, 3, 4, 5, 6, 7, 8, 9], [0, 2, 4, 6, 8, 1, 3, 5, 7, 9]],\n            sum = 0;\n\n        while (length--) {\n          sum += producedValue[multiple][parseInt(cardNumber.charAt(length), 10)];\n          multiple ^= 1;\n        }\n\n        return sum % 10 === 0 && sum > 0;\n      },\n      minCount: function (value, minCount) {\n        if (minCount == 0) {\n          return true;\n        }\n\n        if (minCount == 1) {\n          return value !== '';\n        }\n\n        return value.split(',').length >= minCount;\n      },\n      exactCount: function (value, exactCount) {\n        if (exactCount == 0) {\n          return value === '';\n        }\n\n        if (exactCount == 1) {\n          return value !== '' && value.search(',') === -1;\n        }\n\n        return value.split(',').length == exactCount;\n      },\n      maxCount: function (value, maxCount) {\n        if (maxCount == 0) {\n          return false;\n        }\n\n        if (maxCount == 1) {\n          return value.search(',') === -1;\n        }\n\n        return value.split(',').length <= maxCount;\n      }\n    }\n  };\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"visibility.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/behaviors/visibility.js                                                                    //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * # Semantic UI - Visibility\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.visibility = function (parameters) {\n    var $allModules = $(this),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue,\n        moduleCount = $allModules.length,\n        loadedCount = 0;\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.visibility.settings, parameters) : $.extend({}, $.fn.visibility.settings),\n          className = settings.className,\n          namespace = settings.namespace,\n          error = settings.error,\n          metadata = settings.metadata,\n          eventNamespace = '.' + namespace,\n          moduleNamespace = 'module-' + namespace,\n          $window = $(window),\n          $module = $(this),\n          $context = $(settings.context),\n          $placeholder,\n          selector = $module.selector || '',\n          instance = $module.data(moduleNamespace),\n          requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {\n        setTimeout(callback, 0);\n      },\n          element = this,\n          disabled = false,\n          contextObserver,\n          observer,\n          module;\n\n      module = {\n        initialize: function () {\n          module.debug('Initializing', settings);\n          module.setup.cache();\n\n          if (module.should.trackChanges()) {\n            if (settings.type == 'image') {\n              module.setup.image();\n            }\n\n            if (settings.type == 'fixed') {\n              module.setup.fixed();\n            }\n\n            if (settings.observeChanges) {\n              module.observeChanges();\n            }\n\n            module.bind.events();\n          }\n\n          module.save.position();\n\n          if (!module.is.visible()) {\n            module.error(error.visible, $module);\n          }\n\n          if (settings.initialCheck) {\n            module.checkVisibility();\n          }\n\n          module.instantiate();\n        },\n        instantiate: function () {\n          module.debug('Storing instance', module);\n          $module.data(moduleNamespace, module);\n          instance = module;\n        },\n        destroy: function () {\n          module.verbose('Destroying previous module');\n\n          if (observer) {\n            observer.disconnect();\n          }\n\n          if (contextObserver) {\n            contextObserver.disconnect();\n          }\n\n          $window.off('load' + eventNamespace, module.event.load).off('resize' + eventNamespace, module.event.resize);\n          $context.off('scroll' + eventNamespace, module.event.scroll).off('scrollchange' + eventNamespace, module.event.scrollchange);\n\n          if (settings.type == 'fixed') {\n            module.resetFixed();\n            module.remove.placeholder();\n          }\n\n          $module.off(eventNamespace).removeData(moduleNamespace);\n        },\n        observeChanges: function () {\n          if ('MutationObserver' in window) {\n            contextObserver = new MutationObserver(module.event.contextChanged);\n            observer = new MutationObserver(module.event.changed);\n            contextObserver.observe(document, {\n              childList: true,\n              subtree: true\n            });\n            observer.observe(element, {\n              childList: true,\n              subtree: true\n            });\n            module.debug('Setting up mutation observer', observer);\n          }\n        },\n        bind: {\n          events: function () {\n            module.verbose('Binding visibility events to scroll and resize');\n\n            if (settings.refreshOnLoad) {\n              $window.on('load' + eventNamespace, module.event.load);\n            }\n\n            $window.on('resize' + eventNamespace, module.event.resize); // pub/sub pattern\n\n            $context.off('scroll' + eventNamespace).on('scroll' + eventNamespace, module.event.scroll).on('scrollchange' + eventNamespace, module.event.scrollchange);\n          }\n        },\n        event: {\n          changed: function (mutations) {\n            module.verbose('DOM tree modified, updating visibility calculations');\n            module.timer = setTimeout(function () {\n              module.verbose('DOM tree modified, updating sticky menu');\n              module.refresh();\n            }, 100);\n          },\n          contextChanged: function (mutations) {\n            [].forEach.call(mutations, function (mutation) {\n              if (mutation.removedNodes) {\n                [].forEach.call(mutation.removedNodes, function (node) {\n                  if (node == element || $(node).find(element).length > 0) {\n                    module.debug('Element removed from DOM, tearing down events');\n                    module.destroy();\n                  }\n                });\n              }\n            });\n          },\n          resize: function () {\n            module.debug('Window resized');\n\n            if (settings.refreshOnResize) {\n              requestAnimationFrame(module.refresh);\n            }\n          },\n          load: function () {\n            module.debug('Page finished loading');\n            requestAnimationFrame(module.refresh);\n          },\n          // publishes scrollchange event on one scroll\n          scroll: function () {\n            if (settings.throttle) {\n              clearTimeout(module.timer);\n              module.timer = setTimeout(function () {\n                $context.triggerHandler('scrollchange' + eventNamespace, [$context.scrollTop()]);\n              }, settings.throttle);\n            } else {\n              requestAnimationFrame(function () {\n                $context.triggerHandler('scrollchange' + eventNamespace, [$context.scrollTop()]);\n              });\n            }\n          },\n          // subscribes to scrollchange\n          scrollchange: function (event, scrollPosition) {\n            module.checkVisibility(scrollPosition);\n          }\n        },\n        precache: function (images, callback) {\n          if (!(images instanceof Array)) {\n            images = [images];\n          }\n\n          var imagesLength = images.length,\n              loadedCounter = 0,\n              cache = [],\n              cacheImage = document.createElement('img'),\n              handleLoad = function () {\n            loadedCounter++;\n\n            if (loadedCounter >= images.length) {\n              if ($.isFunction(callback)) {\n                callback();\n              }\n            }\n          };\n\n          while (imagesLength--) {\n            cacheImage = document.createElement('img');\n            cacheImage.onload = handleLoad;\n            cacheImage.onerror = handleLoad;\n            cacheImage.src = images[imagesLength];\n            cache.push(cacheImage);\n          }\n        },\n        enableCallbacks: function () {\n          module.debug('Allowing callbacks to occur');\n          disabled = false;\n        },\n        disableCallbacks: function () {\n          module.debug('Disabling all callbacks temporarily');\n          disabled = true;\n        },\n        should: {\n          trackChanges: function () {\n            if (methodInvoked) {\n              module.debug('One time query, no need to bind events');\n              return false;\n            }\n\n            module.debug('Callbacks being attached');\n            return true;\n          }\n        },\n        setup: {\n          cache: function () {\n            module.cache = {\n              occurred: {},\n              screen: {},\n              element: {}\n            };\n          },\n          image: function () {\n            var src = $module.data(metadata.src);\n\n            if (src) {\n              module.verbose('Lazy loading image', src);\n              settings.once = true;\n              settings.observeChanges = false; // show when top visible\n\n              settings.onOnScreen = function () {\n                module.debug('Image on screen', element);\n                module.precache(src, function () {\n                  module.set.image(src, function () {\n                    loadedCount++;\n\n                    if (loadedCount == moduleCount) {\n                      settings.onAllLoaded.call(this);\n                    }\n\n                    settings.onLoad.call(this);\n                  });\n                });\n              };\n            }\n          },\n          fixed: function () {\n            module.debug('Setting up fixed');\n            settings.once = false;\n            settings.observeChanges = false;\n            settings.initialCheck = true;\n            settings.refreshOnLoad = true;\n\n            if (!parameters.transition) {\n              settings.transition = false;\n            }\n\n            module.create.placeholder();\n            module.debug('Added placeholder', $placeholder);\n\n            settings.onTopPassed = function () {\n              module.debug('Element passed, adding fixed position', $module);\n              module.show.placeholder();\n              module.set.fixed();\n\n              if (settings.transition) {\n                if ($.fn.transition !== undefined) {\n                  $module.transition(settings.transition, settings.duration);\n                }\n              }\n            };\n\n            settings.onTopPassedReverse = function () {\n              module.debug('Element returned to position, removing fixed', $module);\n              module.hide.placeholder();\n              module.remove.fixed();\n            };\n          }\n        },\n        create: {\n          placeholder: function () {\n            module.verbose('Creating fixed position placeholder');\n            $placeholder = $module.clone(false).css('display', 'none').addClass(className.placeholder).insertAfter($module);\n          }\n        },\n        show: {\n          placeholder: function () {\n            module.verbose('Showing placeholder');\n            $placeholder.css('display', 'block').css('visibility', 'hidden');\n          }\n        },\n        hide: {\n          placeholder: function () {\n            module.verbose('Hiding placeholder');\n            $placeholder.css('display', 'none').css('visibility', '');\n          }\n        },\n        set: {\n          fixed: function () {\n            module.verbose('Setting element to fixed position');\n            $module.addClass(className.fixed).css({\n              position: 'fixed',\n              top: settings.offset + 'px',\n              left: 'auto',\n              zIndex: settings.zIndex\n            });\n            settings.onFixed.call(element);\n          },\n          image: function (src, callback) {\n            $module.attr('src', src);\n\n            if (settings.transition) {\n              if ($.fn.transition !== undefined) {\n                if ($module.hasClass(className.visible)) {\n                  module.debug('Transition already occurred on this image, skipping animation');\n                  return;\n                }\n\n                $module.transition(settings.transition, settings.duration, callback);\n              } else {\n                $module.fadeIn(settings.duration, callback);\n              }\n            } else {\n              $module.show();\n            }\n          }\n        },\n        is: {\n          onScreen: function () {\n            var calculations = module.get.elementCalculations();\n            return calculations.onScreen;\n          },\n          offScreen: function () {\n            var calculations = module.get.elementCalculations();\n            return calculations.offScreen;\n          },\n          visible: function () {\n            if (module.cache && module.cache.element) {\n              return !(module.cache.element.width === 0 && module.cache.element.offset.top === 0);\n            }\n\n            return false;\n          },\n          verticallyScrollableContext: function () {\n            var overflowY = $context.get(0) !== window ? $context.css('overflow-y') : false;\n            return overflowY == 'auto' || overflowY == 'scroll';\n          },\n          horizontallyScrollableContext: function () {\n            var overflowX = $context.get(0) !== window ? $context.css('overflow-x') : false;\n            return overflowX == 'auto' || overflowX == 'scroll';\n          }\n        },\n        refresh: function () {\n          module.debug('Refreshing constants (width/height)');\n\n          if (settings.type == 'fixed') {\n            module.resetFixed();\n          }\n\n          module.reset();\n          module.save.position();\n\n          if (settings.checkOnRefresh) {\n            module.checkVisibility();\n          }\n\n          settings.onRefresh.call(element);\n        },\n        resetFixed: function () {\n          module.remove.fixed();\n          module.remove.occurred();\n        },\n        reset: function () {\n          module.verbose('Resetting all cached values');\n\n          if ($.isPlainObject(module.cache)) {\n            module.cache.screen = {};\n            module.cache.element = {};\n          }\n        },\n        checkVisibility: function (scroll) {\n          module.verbose('Checking visibility of element', module.cache.element);\n\n          if (!disabled && module.is.visible()) {\n            // save scroll position\n            module.save.scroll(scroll); // update calculations derived from scroll\n\n            module.save.calculations(); // percentage\n\n            module.passed(); // reverse (must be first)\n\n            module.passingReverse();\n            module.topVisibleReverse();\n            module.bottomVisibleReverse();\n            module.topPassedReverse();\n            module.bottomPassedReverse(); // one time\n\n            module.onScreen();\n            module.offScreen();\n            module.passing();\n            module.topVisible();\n            module.bottomVisible();\n            module.topPassed();\n            module.bottomPassed(); // on update callback\n\n            if (settings.onUpdate) {\n              settings.onUpdate.call(element, module.get.elementCalculations());\n            }\n          }\n        },\n        passed: function (amount, newCallback) {\n          var calculations = module.get.elementCalculations(),\n              amountInPixels; // assign callback\n\n          if (amount && newCallback) {\n            settings.onPassed[amount] = newCallback;\n          } else if (amount !== undefined) {\n            return module.get.pixelsPassed(amount) > calculations.pixelsPassed;\n          } else if (calculations.passing) {\n            $.each(settings.onPassed, function (amount, callback) {\n              if (calculations.bottomVisible || calculations.pixelsPassed > module.get.pixelsPassed(amount)) {\n                module.execute(callback, amount);\n              } else if (!settings.once) {\n                module.remove.occurred(callback);\n              }\n            });\n          }\n        },\n        onScreen: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onOnScreen,\n              callbackName = 'onScreen';\n\n          if (newCallback) {\n            module.debug('Adding callback for onScreen', newCallback);\n            settings.onOnScreen = newCallback;\n          }\n\n          if (calculations.onScreen) {\n            module.execute(callback, callbackName);\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback !== undefined) {\n            return calculations.onOnScreen;\n          }\n        },\n        offScreen: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onOffScreen,\n              callbackName = 'offScreen';\n\n          if (newCallback) {\n            module.debug('Adding callback for offScreen', newCallback);\n            settings.onOffScreen = newCallback;\n          }\n\n          if (calculations.offScreen) {\n            module.execute(callback, callbackName);\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback !== undefined) {\n            return calculations.onOffScreen;\n          }\n        },\n        passing: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onPassing,\n              callbackName = 'passing';\n\n          if (newCallback) {\n            module.debug('Adding callback for passing', newCallback);\n            settings.onPassing = newCallback;\n          }\n\n          if (calculations.passing) {\n            module.execute(callback, callbackName);\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback !== undefined) {\n            return calculations.passing;\n          }\n        },\n        topVisible: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onTopVisible,\n              callbackName = 'topVisible';\n\n          if (newCallback) {\n            module.debug('Adding callback for top visible', newCallback);\n            settings.onTopVisible = newCallback;\n          }\n\n          if (calculations.topVisible) {\n            module.execute(callback, callbackName);\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback === undefined) {\n            return calculations.topVisible;\n          }\n        },\n        bottomVisible: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onBottomVisible,\n              callbackName = 'bottomVisible';\n\n          if (newCallback) {\n            module.debug('Adding callback for bottom visible', newCallback);\n            settings.onBottomVisible = newCallback;\n          }\n\n          if (calculations.bottomVisible) {\n            module.execute(callback, callbackName);\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback === undefined) {\n            return calculations.bottomVisible;\n          }\n        },\n        topPassed: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onTopPassed,\n              callbackName = 'topPassed';\n\n          if (newCallback) {\n            module.debug('Adding callback for top passed', newCallback);\n            settings.onTopPassed = newCallback;\n          }\n\n          if (calculations.topPassed) {\n            module.execute(callback, callbackName);\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback === undefined) {\n            return calculations.topPassed;\n          }\n        },\n        bottomPassed: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onBottomPassed,\n              callbackName = 'bottomPassed';\n\n          if (newCallback) {\n            module.debug('Adding callback for bottom passed', newCallback);\n            settings.onBottomPassed = newCallback;\n          }\n\n          if (calculations.bottomPassed) {\n            module.execute(callback, callbackName);\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback === undefined) {\n            return calculations.bottomPassed;\n          }\n        },\n        passingReverse: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onPassingReverse,\n              callbackName = 'passingReverse';\n\n          if (newCallback) {\n            module.debug('Adding callback for passing reverse', newCallback);\n            settings.onPassingReverse = newCallback;\n          }\n\n          if (!calculations.passing) {\n            if (module.get.occurred('passing')) {\n              module.execute(callback, callbackName);\n            }\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback !== undefined) {\n            return !calculations.passing;\n          }\n        },\n        topVisibleReverse: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onTopVisibleReverse,\n              callbackName = 'topVisibleReverse';\n\n          if (newCallback) {\n            module.debug('Adding callback for top visible reverse', newCallback);\n            settings.onTopVisibleReverse = newCallback;\n          }\n\n          if (!calculations.topVisible) {\n            if (module.get.occurred('topVisible')) {\n              module.execute(callback, callbackName);\n            }\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback === undefined) {\n            return !calculations.topVisible;\n          }\n        },\n        bottomVisibleReverse: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onBottomVisibleReverse,\n              callbackName = 'bottomVisibleReverse';\n\n          if (newCallback) {\n            module.debug('Adding callback for bottom visible reverse', newCallback);\n            settings.onBottomVisibleReverse = newCallback;\n          }\n\n          if (!calculations.bottomVisible) {\n            if (module.get.occurred('bottomVisible')) {\n              module.execute(callback, callbackName);\n            }\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback === undefined) {\n            return !calculations.bottomVisible;\n          }\n        },\n        topPassedReverse: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onTopPassedReverse,\n              callbackName = 'topPassedReverse';\n\n          if (newCallback) {\n            module.debug('Adding callback for top passed reverse', newCallback);\n            settings.onTopPassedReverse = newCallback;\n          }\n\n          if (!calculations.topPassed) {\n            if (module.get.occurred('topPassed')) {\n              module.execute(callback, callbackName);\n            }\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback === undefined) {\n            return !calculations.onTopPassed;\n          }\n        },\n        bottomPassedReverse: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onBottomPassedReverse,\n              callbackName = 'bottomPassedReverse';\n\n          if (newCallback) {\n            module.debug('Adding callback for bottom passed reverse', newCallback);\n            settings.onBottomPassedReverse = newCallback;\n          }\n\n          if (!calculations.bottomPassed) {\n            if (module.get.occurred('bottomPassed')) {\n              module.execute(callback, callbackName);\n            }\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback === undefined) {\n            return !calculations.bottomPassed;\n          }\n        },\n        execute: function (callback, callbackName) {\n          var calculations = module.get.elementCalculations(),\n              screen = module.get.screenCalculations();\n          callback = callback || false;\n\n          if (callback) {\n            if (settings.continuous) {\n              module.debug('Callback being called continuously', callbackName, calculations);\n              callback.call(element, calculations, screen);\n            } else if (!module.get.occurred(callbackName)) {\n              module.debug('Conditions met', callbackName, calculations);\n              callback.call(element, calculations, screen);\n            }\n          }\n\n          module.save.occurred(callbackName);\n        },\n        remove: {\n          fixed: function () {\n            module.debug('Removing fixed position');\n            $module.removeClass(className.fixed).css({\n              position: '',\n              top: '',\n              left: '',\n              zIndex: ''\n            });\n            settings.onUnfixed.call(element);\n          },\n          placeholder: function () {\n            module.debug('Removing placeholder content');\n\n            if ($placeholder) {\n              $placeholder.remove();\n            }\n          },\n          occurred: function (callback) {\n            if (callback) {\n              var occurred = module.cache.occurred;\n\n              if (occurred[callback] !== undefined && occurred[callback] === true) {\n                module.debug('Callback can now be called again', callback);\n                module.cache.occurred[callback] = false;\n              }\n            } else {\n              module.cache.occurred = {};\n            }\n          }\n        },\n        save: {\n          calculations: function () {\n            module.verbose('Saving all calculations necessary to determine positioning');\n            module.save.direction();\n            module.save.screenCalculations();\n            module.save.elementCalculations();\n          },\n          occurred: function (callback) {\n            if (callback) {\n              if (module.cache.occurred[callback] === undefined || module.cache.occurred[callback] !== true) {\n                module.verbose('Saving callback occurred', callback);\n                module.cache.occurred[callback] = true;\n              }\n            }\n          },\n          scroll: function (scrollPosition) {\n            scrollPosition = scrollPosition + settings.offset || $context.scrollTop() + settings.offset;\n            module.cache.scroll = scrollPosition;\n          },\n          direction: function () {\n            var scroll = module.get.scroll(),\n                lastScroll = module.get.lastScroll(),\n                direction;\n\n            if (scroll > lastScroll && lastScroll) {\n              direction = 'down';\n            } else if (scroll < lastScroll && lastScroll) {\n              direction = 'up';\n            } else {\n              direction = 'static';\n            }\n\n            module.cache.direction = direction;\n            return module.cache.direction;\n          },\n          elementPosition: function () {\n            var element = module.cache.element,\n                screen = module.get.screenSize();\n            module.verbose('Saving element position'); // (quicker than $.extend)\n\n            element.fits = element.height < screen.height;\n            element.offset = $module.offset();\n            element.width = $module.outerWidth();\n            element.height = $module.outerHeight(); // compensate for scroll in context\n\n            if (module.is.verticallyScrollableContext()) {\n              element.offset.top += $context.scrollTop() - $context.offset().top;\n            }\n\n            if (module.is.horizontallyScrollableContext()) {\n              element.offset.left += $context.scrollLeft - $context.offset().left;\n            } // store\n\n\n            module.cache.element = element;\n            return element;\n          },\n          elementCalculations: function () {\n            var screen = module.get.screenCalculations(),\n                element = module.get.elementPosition(); // offset\n\n            if (settings.includeMargin) {\n              element.margin = {};\n              element.margin.top = parseInt($module.css('margin-top'), 10);\n              element.margin.bottom = parseInt($module.css('margin-bottom'), 10);\n              element.top = element.offset.top - element.margin.top;\n              element.bottom = element.offset.top + element.height + element.margin.bottom;\n            } else {\n              element.top = element.offset.top;\n              element.bottom = element.offset.top + element.height;\n            } // visibility\n\n\n            element.topPassed = screen.top >= element.top;\n            element.bottomPassed = screen.top >= element.bottom;\n            element.topVisible = screen.bottom >= element.top && !element.topPassed;\n            element.bottomVisible = screen.bottom >= element.bottom && !element.bottomPassed;\n            element.pixelsPassed = 0;\n            element.percentagePassed = 0; // meta calculations\n\n            element.onScreen = (element.topVisible || element.passing) && !element.bottomPassed;\n            element.passing = element.topPassed && !element.bottomPassed;\n            element.offScreen = !element.onScreen; // passing calculations\n\n            if (element.passing) {\n              element.pixelsPassed = screen.top - element.top;\n              element.percentagePassed = (screen.top - element.top) / element.height;\n            }\n\n            module.cache.element = element;\n            module.verbose('Updated element calculations', element);\n            return element;\n          },\n          screenCalculations: function () {\n            var scroll = module.get.scroll();\n            module.save.direction();\n            module.cache.screen.top = scroll;\n            module.cache.screen.bottom = scroll + module.cache.screen.height;\n            return module.cache.screen;\n          },\n          screenSize: function () {\n            module.verbose('Saving window position');\n            module.cache.screen = {\n              height: $context.height()\n            };\n          },\n          position: function () {\n            module.save.screenSize();\n            module.save.elementPosition();\n          }\n        },\n        get: {\n          pixelsPassed: function (amount) {\n            var element = module.get.elementCalculations();\n\n            if (amount.search('%') > -1) {\n              return element.height * (parseInt(amount, 10) / 100);\n            }\n\n            return parseInt(amount, 10);\n          },\n          occurred: function (callback) {\n            return module.cache.occurred !== undefined ? module.cache.occurred[callback] || false : false;\n          },\n          direction: function () {\n            if (module.cache.direction === undefined) {\n              module.save.direction();\n            }\n\n            return module.cache.direction;\n          },\n          elementPosition: function () {\n            if (module.cache.element === undefined) {\n              module.save.elementPosition();\n            }\n\n            return module.cache.element;\n          },\n          elementCalculations: function () {\n            if (module.cache.element === undefined) {\n              module.save.elementCalculations();\n            }\n\n            return module.cache.element;\n          },\n          screenCalculations: function () {\n            if (module.cache.screen === undefined) {\n              module.save.screenCalculations();\n            }\n\n            return module.cache.screen;\n          },\n          screenSize: function () {\n            if (module.cache.screen === undefined) {\n              module.save.screenSize();\n            }\n\n            return module.cache.screen;\n          },\n          scroll: function () {\n            if (module.cache.scroll === undefined) {\n              module.save.scroll();\n            }\n\n            return module.cache.scroll;\n          },\n          lastScroll: function () {\n            if (module.cache.screen === undefined) {\n              module.debug('First scroll event, no last scroll could be found');\n              return false;\n            }\n\n            return module.cache.screen.top;\n          }\n        },\n        setting: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            settings[name] = value;\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        instance.save.scroll();\n        instance.save.calculations();\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.visibility.settings = {\n    name: 'Visibility',\n    namespace: 'visibility',\n    debug: false,\n    verbose: false,\n    performance: true,\n    // whether to use mutation observers to follow changes\n    observeChanges: true,\n    // check position immediately on init\n    initialCheck: true,\n    // whether to refresh calculations after all page images load\n    refreshOnLoad: true,\n    // whether to refresh calculations after page resize event\n    refreshOnResize: true,\n    // should call callbacks on refresh event (resize, etc)\n    checkOnRefresh: true,\n    // callback should only occur one time\n    once: true,\n    // callback should fire continuously whe evaluates to true\n    continuous: false,\n    // offset to use with scroll top\n    offset: 0,\n    // whether to include margin in elements position\n    includeMargin: false,\n    // scroll context for visibility checks\n    context: window,\n    // visibility check delay in ms (defaults to animationFrame)\n    throttle: false,\n    // special visibility type (image, fixed)\n    type: false,\n    // z-index to use with visibility 'fixed'\n    zIndex: '10',\n    // image only animation settings\n    transition: 'fade in',\n    duration: 1000,\n    // array of callbacks for percentage\n    onPassed: {},\n    // standard callbacks\n    onOnScreen: false,\n    onOffScreen: false,\n    onPassing: false,\n    onTopVisible: false,\n    onBottomVisible: false,\n    onTopPassed: false,\n    onBottomPassed: false,\n    // reverse callbacks\n    onPassingReverse: false,\n    onTopVisibleReverse: false,\n    onBottomVisibleReverse: false,\n    onTopPassedReverse: false,\n    onBottomPassedReverse: false,\n    // special callbacks for image\n    onLoad: function () {},\n    onAllLoaded: function () {},\n    // special callbacks for fixed position\n    onFixed: function () {},\n    onUnfixed: function () {},\n    // utility callbacks\n    onUpdate: false,\n    // disabled by default for performance\n    onRefresh: function () {},\n    metadata: {\n      src: 'src'\n    },\n    className: {\n      fixed: 'fixed',\n      placeholder: 'placeholder',\n      visible: 'visible'\n    },\n    error: {\n      method: 'The method you called is not defined.',\n      visible: 'Element is hidden, you must call refresh after element becomes visible'\n    }\n  };\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"globals\":{\"site.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/globals/site.js                                                                            //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * # Semantic UI - Site\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  $.site = $.fn.site = function (parameters) {\n    var time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.site.settings, parameters) : $.extend({}, $.site.settings),\n        namespace = settings.namespace,\n        error = settings.error,\n        eventNamespace = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n        $document = $(document),\n        $module = $document,\n        element = this,\n        instance = $module.data(moduleNamespace),\n        module,\n        returnedValue;\n    module = {\n      initialize: function () {\n        module.instantiate();\n      },\n      instantiate: function () {\n        module.verbose('Storing instance of site', module);\n        instance = module;\n        $module.data(moduleNamespace, module);\n      },\n      normalize: function () {\n        module.fix.console();\n        module.fix.requestAnimationFrame();\n      },\n      fix: {\n        console: function () {\n          module.debug('Normalizing window.console');\n\n          if (console === undefined || console.log === undefined) {\n            module.verbose('Console not available, normalizing events');\n            module.disable.console();\n          }\n\n          if (typeof console.group == 'undefined' || typeof console.groupEnd == 'undefined' || typeof console.groupCollapsed == 'undefined') {\n            module.verbose('Console group not available, normalizing events');\n\n            window.console.group = function () {};\n\n            window.console.groupEnd = function () {};\n\n            window.console.groupCollapsed = function () {};\n          }\n\n          if (typeof console.markTimeline == 'undefined') {\n            module.verbose('Mark timeline not available, normalizing events');\n\n            window.console.markTimeline = function () {};\n          }\n        },\n        consoleClear: function () {\n          module.debug('Disabling programmatic console clearing');\n\n          window.console.clear = function () {};\n        },\n        requestAnimationFrame: function () {\n          module.debug('Normalizing requestAnimationFrame');\n\n          if (window.requestAnimationFrame === undefined) {\n            module.debug('RequestAnimationFrame not available, normalizing event');\n\n            window.requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {\n              setTimeout(callback, 0);\n            };\n          }\n        }\n      },\n      moduleExists: function (name) {\n        return $.fn[name] !== undefined && $.fn[name].settings !== undefined;\n      },\n      enabled: {\n        modules: function (modules) {\n          var enabledModules = [];\n          modules = modules || settings.modules;\n          $.each(modules, function (index, name) {\n            if (module.moduleExists(name)) {\n              enabledModules.push(name);\n            }\n          });\n          return enabledModules;\n        }\n      },\n      disabled: {\n        modules: function (modules) {\n          var disabledModules = [];\n          modules = modules || settings.modules;\n          $.each(modules, function (index, name) {\n            if (!module.moduleExists(name)) {\n              disabledModules.push(name);\n            }\n          });\n          return disabledModules;\n        }\n      },\n      change: {\n        setting: function (setting, value, modules, modifyExisting) {\n          modules = typeof modules === 'string' ? modules === 'all' ? settings.modules : [modules] : modules || settings.modules;\n          modifyExisting = modifyExisting !== undefined ? modifyExisting : true;\n          $.each(modules, function (index, name) {\n            var namespace = module.moduleExists(name) ? $.fn[name].settings.namespace || false : true,\n                $existingModules;\n\n            if (module.moduleExists(name)) {\n              module.verbose('Changing default setting', setting, value, name);\n              $.fn[name].settings[setting] = value;\n\n              if (modifyExisting && namespace) {\n                $existingModules = $(':data(module-' + namespace + ')');\n\n                if ($existingModules.length > 0) {\n                  module.verbose('Modifying existing settings', $existingModules);\n                  $existingModules[name]('setting', setting, value);\n                }\n              }\n            }\n          });\n        },\n        settings: function (newSettings, modules, modifyExisting) {\n          modules = typeof modules === 'string' ? [modules] : modules || settings.modules;\n          modifyExisting = modifyExisting !== undefined ? modifyExisting : true;\n          $.each(modules, function (index, name) {\n            var $existingModules;\n\n            if (module.moduleExists(name)) {\n              module.verbose('Changing default setting', newSettings, name);\n              $.extend(true, $.fn[name].settings, newSettings);\n\n              if (modifyExisting && namespace) {\n                $existingModules = $(':data(module-' + namespace + ')');\n\n                if ($existingModules.length > 0) {\n                  module.verbose('Modifying existing settings', $existingModules);\n                  $existingModules[name]('setting', newSettings);\n                }\n              }\n            }\n          });\n        }\n      },\n      enable: {\n        console: function () {\n          module.console(true);\n        },\n        debug: function (modules, modifyExisting) {\n          modules = modules || settings.modules;\n          module.debug('Enabling debug for modules', modules);\n          module.change.setting('debug', true, modules, modifyExisting);\n        },\n        verbose: function (modules, modifyExisting) {\n          modules = modules || settings.modules;\n          module.debug('Enabling verbose debug for modules', modules);\n          module.change.setting('verbose', true, modules, modifyExisting);\n        }\n      },\n      disable: {\n        console: function () {\n          module.console(false);\n        },\n        debug: function (modules, modifyExisting) {\n          modules = modules || settings.modules;\n          module.debug('Disabling debug for modules', modules);\n          module.change.setting('debug', false, modules, modifyExisting);\n        },\n        verbose: function (modules, modifyExisting) {\n          modules = modules || settings.modules;\n          module.debug('Disabling verbose debug for modules', modules);\n          module.change.setting('verbose', false, modules, modifyExisting);\n        }\n      },\n      console: function (enable) {\n        if (enable) {\n          if (instance.cache.console === undefined) {\n            module.error(error.console);\n            return;\n          }\n\n          module.debug('Restoring console function');\n          window.console = instance.cache.console;\n        } else {\n          module.debug('Disabling console function');\n          instance.cache.console = window.console;\n          window.console = {\n            clear: function () {},\n            error: function () {},\n            group: function () {},\n            groupCollapsed: function () {},\n            groupEnd: function () {},\n            info: function () {},\n            log: function () {},\n            markTimeline: function () {},\n            warn: function () {}\n          };\n        }\n      },\n      destroy: function () {\n        module.verbose('Destroying previous site for', $module);\n        $module.removeData(moduleNamespace);\n      },\n      cache: {},\n      setting: function (name, value) {\n        if ($.isPlainObject(name)) {\n          $.extend(true, settings, name);\n        } else if (value !== undefined) {\n          settings[name] = value;\n        } else {\n          return settings[name];\n        }\n      },\n      internal: function (name, value) {\n        if ($.isPlainObject(name)) {\n          $.extend(true, module, name);\n        } else if (value !== undefined) {\n          module[name] = value;\n        } else {\n          return module[name];\n        }\n      },\n      debug: function () {\n        if (settings.debug) {\n          if (settings.performance) {\n            module.performance.log(arguments);\n          } else {\n            module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n            module.debug.apply(console, arguments);\n          }\n        }\n      },\n      verbose: function () {\n        if (settings.verbose && settings.debug) {\n          if (settings.performance) {\n            module.performance.log(arguments);\n          } else {\n            module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n            module.verbose.apply(console, arguments);\n          }\n        }\n      },\n      error: function () {\n        module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n        module.error.apply(console, arguments);\n      },\n      performance: {\n        log: function (message) {\n          var currentTime, executionTime, previousTime;\n\n          if (settings.performance) {\n            currentTime = new Date().getTime();\n            previousTime = time || currentTime;\n            executionTime = currentTime - previousTime;\n            time = currentTime;\n            performance.push({\n              'Element': element,\n              'Name': message[0],\n              'Arguments': [].slice.call(message, 1) || '',\n              'Execution Time': executionTime\n            });\n          }\n\n          clearTimeout(module.performance.timer);\n          module.performance.timer = setTimeout(module.performance.display, 500);\n        },\n        display: function () {\n          var title = settings.name + ':',\n              totalTime = 0;\n          time = false;\n          clearTimeout(module.performance.timer);\n          $.each(performance, function (index, data) {\n            totalTime += data['Execution Time'];\n          });\n          title += ' ' + totalTime + 'ms';\n\n          if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n            console.groupCollapsed(title);\n\n            if (console.table) {\n              console.table(performance);\n            } else {\n              $.each(performance, function (index, data) {\n                console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n              });\n            }\n\n            console.groupEnd();\n          }\n\n          performance = [];\n        }\n      },\n      invoke: function (query, passedArguments, context) {\n        var object = instance,\n            maxDepth,\n            found,\n            response;\n        passedArguments = passedArguments || queryArguments;\n        context = element || context;\n\n        if (typeof query == 'string' && object !== undefined) {\n          query = query.split(/[\\. ]/);\n          maxDepth = query.length - 1;\n          $.each(query, function (depth, value) {\n            var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n            if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n              object = object[camelCaseValue];\n            } else if (object[camelCaseValue] !== undefined) {\n              found = object[camelCaseValue];\n              return false;\n            } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n              object = object[value];\n            } else if (object[value] !== undefined) {\n              found = object[value];\n              return false;\n            } else {\n              module.error(error.method, query);\n              return false;\n            }\n          });\n        }\n\n        if ($.isFunction(found)) {\n          response = found.apply(context, passedArguments);\n        } else if (found !== undefined) {\n          response = found;\n        }\n\n        if ($.isArray(returnedValue)) {\n          returnedValue.push(response);\n        } else if (returnedValue !== undefined) {\n          returnedValue = [returnedValue, response];\n        } else if (response !== undefined) {\n          returnedValue = response;\n        }\n\n        return found;\n      }\n    };\n\n    if (methodInvoked) {\n      if (instance === undefined) {\n        module.initialize();\n      }\n\n      module.invoke(query);\n    } else {\n      if (instance !== undefined) {\n        module.destroy();\n      }\n\n      module.initialize();\n    }\n\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.site.settings = {\n    name: 'Site',\n    namespace: 'site',\n    error: {\n      console: 'Console cannot be restored, most likely it was overwritten outside of module',\n      method: 'The method you called is not defined.'\n    },\n    debug: false,\n    verbose: false,\n    performance: true,\n    modules: ['accordion', 'api', 'checkbox', 'dimmer', 'dropdown', 'embed', 'form', 'modal', 'nag', 'popup', 'rating', 'shape', 'sidebar', 'state', 'sticky', 'tab', 'transition', 'visit', 'visibility'],\n    siteNamespace: 'site',\n    namespaceStub: {\n      cache: {},\n      config: {},\n      sections: {},\n      section: {},\n      utilities: {}\n    }\n  }; // allows for selection of elements with data attributes\n\n  $.extend($.expr[\":\"], {\n    data: $.expr.createPseudo ? $.expr.createPseudo(function (dataName) {\n      return function (elem) {\n        return !!$.data(elem, dataName);\n      };\n    }) : function (elem, i, match) {\n      // support: jQuery < 1.8\n      return !!$.data(elem, match[3]);\n    }\n  });\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"modules\":{\"accordion.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/modules/accordion.js                                                                       //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * # Semantic UI - Accordion\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.accordion = function (parameters) {\n    var $allModules = $(this),\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {\n      setTimeout(callback, 0);\n    },\n        returnedValue;\n\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.accordion.settings, parameters) : $.extend({}, $.fn.accordion.settings),\n          className = settings.className,\n          namespace = settings.namespace,\n          selector = settings.selector,\n          error = settings.error,\n          eventNamespace = '.' + namespace,\n          moduleNamespace = 'module-' + namespace,\n          moduleSelector = $allModules.selector || '',\n          $module = $(this),\n          $title = $module.find(selector.title),\n          $content = $module.find(selector.content),\n          element = this,\n          instance = $module.data(moduleNamespace),\n          observer,\n          module;\n      module = {\n        initialize: function () {\n          module.debug('Initializing', $module);\n          module.bind.events();\n\n          if (settings.observeChanges) {\n            module.observeChanges();\n          }\n\n          module.instantiate();\n        },\n        instantiate: function () {\n          instance = module;\n          $module.data(moduleNamespace, module);\n        },\n        destroy: function () {\n          module.debug('Destroying previous instance', $module);\n          $module.off(eventNamespace).removeData(moduleNamespace);\n        },\n        refresh: function () {\n          $title = $module.find(selector.title);\n          $content = $module.find(selector.content);\n        },\n        observeChanges: function () {\n          if ('MutationObserver' in window) {\n            observer = new MutationObserver(function (mutations) {\n              module.debug('DOM tree modified, updating selector cache');\n              module.refresh();\n            });\n            observer.observe(element, {\n              childList: true,\n              subtree: true\n            });\n            module.debug('Setting up mutation observer', observer);\n          }\n        },\n        bind: {\n          events: function () {\n            module.debug('Binding delegated events');\n            $module.on(settings.on + eventNamespace, selector.trigger, module.event.click);\n          }\n        },\n        event: {\n          click: function () {\n            module.toggle.call(this);\n          }\n        },\n        toggle: function (query) {\n          var $activeTitle = query !== undefined ? typeof query === 'number' ? $title.eq(query) : $(query).closest(selector.title) : $(this).closest(selector.title),\n              $activeContent = $activeTitle.next($content),\n              isAnimating = $activeContent.hasClass(className.animating),\n              isActive = $activeContent.hasClass(className.active),\n              isOpen = isActive && !isAnimating,\n              isOpening = !isActive && isAnimating;\n          module.debug('Toggling visibility of content', $activeTitle);\n\n          if (isOpen || isOpening) {\n            if (settings.collapsible) {\n              module.close.call($activeTitle);\n            } else {\n              module.debug('Cannot close accordion content collapsing is disabled');\n            }\n          } else {\n            module.open.call($activeTitle);\n          }\n        },\n        open: function (query) {\n          var $activeTitle = query !== undefined ? typeof query === 'number' ? $title.eq(query) : $(query).closest(selector.title) : $(this).closest(selector.title),\n              $activeContent = $activeTitle.next($content),\n              isAnimating = $activeContent.hasClass(className.animating),\n              isActive = $activeContent.hasClass(className.active),\n              isOpen = isActive || isAnimating;\n\n          if (isOpen) {\n            module.debug('Accordion already open, skipping', $activeContent);\n            return;\n          }\n\n          module.debug('Opening accordion content', $activeTitle);\n          settings.onOpening.call($activeContent);\n          settings.onChanging.call($activeContent);\n\n          if (settings.exclusive) {\n            module.closeOthers.call($activeTitle);\n          }\n\n          $activeTitle.addClass(className.active);\n          $activeContent.stop(true, true).addClass(className.animating);\n\n          if (settings.animateChildren) {\n            if ($.fn.transition !== undefined && $module.transition('is supported')) {\n              $activeContent.children().transition({\n                animation: 'fade in',\n                queue: false,\n                useFailSafe: true,\n                debug: settings.debug,\n                verbose: settings.verbose,\n                duration: settings.duration\n              });\n            } else {\n              $activeContent.children().stop(true, true).animate({\n                opacity: 1\n              }, settings.duration, module.resetOpacity);\n            }\n          }\n\n          $activeContent.slideDown(settings.duration, settings.easing, function () {\n            $activeContent.removeClass(className.animating).addClass(className.active);\n            module.reset.display.call(this);\n            settings.onOpen.call(this);\n            settings.onChange.call(this);\n          });\n        },\n        close: function (query) {\n          var $activeTitle = query !== undefined ? typeof query === 'number' ? $title.eq(query) : $(query).closest(selector.title) : $(this).closest(selector.title),\n              $activeContent = $activeTitle.next($content),\n              isAnimating = $activeContent.hasClass(className.animating),\n              isActive = $activeContent.hasClass(className.active),\n              isOpening = !isActive && isAnimating,\n              isClosing = isActive && isAnimating;\n\n          if ((isActive || isOpening) && !isClosing) {\n            module.debug('Closing accordion content', $activeContent);\n            settings.onClosing.call($activeContent);\n            settings.onChanging.call($activeContent);\n            $activeTitle.removeClass(className.active);\n            $activeContent.stop(true, true).addClass(className.animating);\n\n            if (settings.animateChildren) {\n              if ($.fn.transition !== undefined && $module.transition('is supported')) {\n                $activeContent.children().transition({\n                  animation: 'fade out',\n                  queue: false,\n                  useFailSafe: true,\n                  debug: settings.debug,\n                  verbose: settings.verbose,\n                  duration: settings.duration\n                });\n              } else {\n                $activeContent.children().stop(true, true).animate({\n                  opacity: 0\n                }, settings.duration, module.resetOpacity);\n              }\n            }\n\n            $activeContent.slideUp(settings.duration, settings.easing, function () {\n              $activeContent.removeClass(className.animating).removeClass(className.active);\n              module.reset.display.call(this);\n              settings.onClose.call(this);\n              settings.onChange.call(this);\n            });\n          }\n        },\n        closeOthers: function (index) {\n          var $activeTitle = index !== undefined ? $title.eq(index) : $(this).closest(selector.title),\n              $parentTitles = $activeTitle.parents(selector.content).prev(selector.title),\n              $activeAccordion = $activeTitle.closest(selector.accordion),\n              activeSelector = selector.title + '.' + className.active + ':visible',\n              activeContent = selector.content + '.' + className.active + ':visible',\n              $openTitles,\n              $nestedTitles,\n              $openContents;\n\n          if (settings.closeNested) {\n            $openTitles = $activeAccordion.find(activeSelector).not($parentTitles);\n            $openContents = $openTitles.next($content);\n          } else {\n            $openTitles = $activeAccordion.find(activeSelector).not($parentTitles);\n            $nestedTitles = $activeAccordion.find(activeContent).find(activeSelector).not($parentTitles);\n            $openTitles = $openTitles.not($nestedTitles);\n            $openContents = $openTitles.next($content);\n          }\n\n          if ($openTitles.length > 0) {\n            module.debug('Exclusive enabled, closing other content', $openTitles);\n            $openTitles.removeClass(className.active);\n            $openContents.removeClass(className.animating).stop(true, true);\n\n            if (settings.animateChildren) {\n              if ($.fn.transition !== undefined && $module.transition('is supported')) {\n                $openContents.children().transition({\n                  animation: 'fade out',\n                  useFailSafe: true,\n                  debug: settings.debug,\n                  verbose: settings.verbose,\n                  duration: settings.duration\n                });\n              } else {\n                $openContents.children().stop(true, true).animate({\n                  opacity: 0\n                }, settings.duration, module.resetOpacity);\n              }\n            }\n\n            $openContents.slideUp(settings.duration, settings.easing, function () {\n              $(this).removeClass(className.active);\n              module.reset.display.call(this);\n            });\n          }\n        },\n        reset: {\n          display: function () {\n            module.verbose('Removing inline display from element', this);\n            $(this).css('display', '');\n\n            if ($(this).attr('style') === '') {\n              $(this).attr('style', '').removeAttr('style');\n            }\n          },\n          opacity: function () {\n            module.verbose('Removing inline opacity from element', this);\n            $(this).css('opacity', '');\n\n            if ($(this).attr('style') === '') {\n              $(this).attr('style', '').removeAttr('style');\n            }\n          }\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          module.debug('Changing internal', name, value);\n\n          if (value !== undefined) {\n            if ($.isPlainObject(name)) {\n              $.extend(true, module, name);\n            } else {\n              module[name] = value;\n            }\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.accordion.settings = {\n    name: 'Accordion',\n    namespace: 'accordion',\n    silent: false,\n    debug: false,\n    verbose: false,\n    performance: true,\n    on: 'click',\n    // event on title that opens accordion\n    observeChanges: true,\n    // whether accordion should automatically refresh on DOM insertion\n    exclusive: true,\n    // whether a single accordion content panel should be open at once\n    collapsible: true,\n    // whether accordion content can be closed\n    closeNested: false,\n    // whether nested content should be closed when a panel is closed\n    animateChildren: true,\n    // whether children opacity should be animated\n    duration: 350,\n    // duration of animation\n    easing: 'easeOutQuad',\n    // easing equation for animation\n    onOpening: function () {},\n    // callback before open animation\n    onClosing: function () {},\n    // callback before closing animation\n    onChanging: function () {},\n    // callback before closing or opening animation\n    onOpen: function () {},\n    // callback after open animation\n    onClose: function () {},\n    // callback after closing animation\n    onChange: function () {},\n    // callback after closing or opening animation\n    error: {\n      method: 'The method you called is not defined'\n    },\n    className: {\n      active: 'active',\n      animating: 'animating'\n    },\n    selector: {\n      accordion: '.accordion',\n      title: '.title',\n      trigger: '.title',\n      content: '.content'\n    }\n  }; // Adds easing\n\n  $.extend($.easing, {\n    easeOutQuad: function (x, t, b, c, d) {\n      return -c * (t /= d) * (t - 2) + b;\n    }\n  });\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"checkbox.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/modules/checkbox.js                                                                        //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * # Semantic UI - Checkbox\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.checkbox = function (parameters) {\n    var $allModules = $(this),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue;\n    $allModules.each(function () {\n      var settings = $.extend(true, {}, $.fn.checkbox.settings, parameters),\n          className = settings.className,\n          namespace = settings.namespace,\n          selector = settings.selector,\n          error = settings.error,\n          eventNamespace = '.' + namespace,\n          moduleNamespace = 'module-' + namespace,\n          $module = $(this),\n          $label = $(this).children(selector.label),\n          $input = $(this).children(selector.input),\n          input = $input[0],\n          initialLoad = false,\n          shortcutPressed = false,\n          instance = $module.data(moduleNamespace),\n          observer,\n          element = this,\n          module;\n      module = {\n        initialize: function () {\n          module.verbose('Initializing checkbox', settings);\n          module.create.label();\n          module.bind.events();\n          module.set.tabbable();\n          module.hide.input();\n          module.observeChanges();\n          module.instantiate();\n          module.setup();\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module.data(moduleNamespace, module);\n        },\n        destroy: function () {\n          module.verbose('Destroying module');\n          module.unbind.events();\n          module.show.input();\n          $module.removeData(moduleNamespace);\n        },\n        fix: {\n          reference: function () {\n            if ($module.is(selector.input)) {\n              module.debug('Behavior called on <input> adjusting invoked element');\n              $module = $module.closest(selector.checkbox);\n              module.refresh();\n            }\n          }\n        },\n        setup: function () {\n          module.set.initialLoad();\n\n          if (module.is.indeterminate()) {\n            module.debug('Initial value is indeterminate');\n            module.indeterminate();\n          } else if (module.is.checked()) {\n            module.debug('Initial value is checked');\n            module.check();\n          } else {\n            module.debug('Initial value is unchecked');\n            module.uncheck();\n          }\n\n          module.remove.initialLoad();\n        },\n        refresh: function () {\n          $label = $module.children(selector.label);\n          $input = $module.children(selector.input);\n          input = $input[0];\n        },\n        hide: {\n          input: function () {\n            module.verbose('Modifying <input> z-index to be unselectable');\n            $input.addClass(className.hidden);\n          }\n        },\n        show: {\n          input: function () {\n            module.verbose('Modifying <input> z-index to be selectable');\n            $input.removeClass(className.hidden);\n          }\n        },\n        observeChanges: function () {\n          if ('MutationObserver' in window) {\n            observer = new MutationObserver(function (mutations) {\n              module.debug('DOM tree modified, updating selector cache');\n              module.refresh();\n            });\n            observer.observe(element, {\n              childList: true,\n              subtree: true\n            });\n            module.debug('Setting up mutation observer', observer);\n          }\n        },\n        attachEvents: function (selector, event) {\n          var $element = $(selector);\n          event = $.isFunction(module[event]) ? module[event] : module.toggle;\n\n          if ($element.length > 0) {\n            module.debug('Attaching checkbox events to element', selector, event);\n            $element.on('click' + eventNamespace, event);\n          } else {\n            module.error(error.notFound);\n          }\n        },\n        event: {\n          click: function (event) {\n            var $target = $(event.target);\n\n            if ($target.is(selector.input)) {\n              module.verbose('Using default check action on initialized checkbox');\n              return;\n            }\n\n            if ($target.is(selector.link)) {\n              module.debug('Clicking link inside checkbox, skipping toggle');\n              return;\n            }\n\n            module.toggle();\n            $input.focus();\n            event.preventDefault();\n          },\n          keydown: function (event) {\n            var key = event.which,\n                keyCode = {\n              enter: 13,\n              space: 32,\n              escape: 27\n            };\n\n            if (key == keyCode.escape) {\n              module.verbose('Escape key pressed blurring field');\n              $input.blur();\n              shortcutPressed = true;\n            } else if (!event.ctrlKey && (key == keyCode.space || key == keyCode.enter)) {\n              module.verbose('Enter/space key pressed, toggling checkbox');\n              module.toggle();\n              shortcutPressed = true;\n            } else {\n              shortcutPressed = false;\n            }\n          },\n          keyup: function (event) {\n            if (shortcutPressed) {\n              event.preventDefault();\n            }\n          }\n        },\n        check: function () {\n          if (!module.should.allowCheck()) {\n            return;\n          }\n\n          module.debug('Checking checkbox', $input);\n          module.set.checked();\n\n          if (!module.should.ignoreCallbacks()) {\n            settings.onChecked.call(input);\n            settings.onChange.call(input);\n          }\n        },\n        uncheck: function () {\n          if (!module.should.allowUncheck()) {\n            return;\n          }\n\n          module.debug('Unchecking checkbox');\n          module.set.unchecked();\n\n          if (!module.should.ignoreCallbacks()) {\n            settings.onUnchecked.call(input);\n            settings.onChange.call(input);\n          }\n        },\n        indeterminate: function () {\n          if (module.should.allowIndeterminate()) {\n            module.debug('Checkbox is already indeterminate');\n            return;\n          }\n\n          module.debug('Making checkbox indeterminate');\n          module.set.indeterminate();\n\n          if (!module.should.ignoreCallbacks()) {\n            settings.onIndeterminate.call(input);\n            settings.onChange.call(input);\n          }\n        },\n        determinate: function () {\n          if (module.should.allowDeterminate()) {\n            module.debug('Checkbox is already determinate');\n            return;\n          }\n\n          module.debug('Making checkbox determinate');\n          module.set.determinate();\n\n          if (!module.should.ignoreCallbacks()) {\n            settings.onDeterminate.call(input);\n            settings.onChange.call(input);\n          }\n        },\n        enable: function () {\n          if (module.is.enabled()) {\n            module.debug('Checkbox is already enabled');\n            return;\n          }\n\n          module.debug('Enabling checkbox');\n          module.set.enabled();\n          settings.onEnable.call(input); // preserve legacy callbacks\n\n          settings.onEnabled.call(input);\n        },\n        disable: function () {\n          if (module.is.disabled()) {\n            module.debug('Checkbox is already disabled');\n            return;\n          }\n\n          module.debug('Disabling checkbox');\n          module.set.disabled();\n          settings.onDisable.call(input); // preserve legacy callbacks\n\n          settings.onDisabled.call(input);\n        },\n        get: {\n          radios: function () {\n            var name = module.get.name();\n            return $('input[name=\"' + name + '\"]').closest(selector.checkbox);\n          },\n          otherRadios: function () {\n            return module.get.radios().not($module);\n          },\n          name: function () {\n            return $input.attr('name');\n          }\n        },\n        is: {\n          initialLoad: function () {\n            return initialLoad;\n          },\n          radio: function () {\n            return $input.hasClass(className.radio) || $input.attr('type') == 'radio';\n          },\n          indeterminate: function () {\n            return $input.prop('indeterminate') !== undefined && $input.prop('indeterminate');\n          },\n          checked: function () {\n            return $input.prop('checked') !== undefined && $input.prop('checked');\n          },\n          disabled: function () {\n            return $input.prop('disabled') !== undefined && $input.prop('disabled');\n          },\n          enabled: function () {\n            return !module.is.disabled();\n          },\n          determinate: function () {\n            return !module.is.indeterminate();\n          },\n          unchecked: function () {\n            return !module.is.checked();\n          }\n        },\n        should: {\n          allowCheck: function () {\n            if (module.is.determinate() && module.is.checked() && !module.should.forceCallbacks()) {\n              module.debug('Should not allow check, checkbox is already checked');\n              return false;\n            }\n\n            if (settings.beforeChecked.apply(input) === false) {\n              module.debug('Should not allow check, beforeChecked cancelled');\n              return false;\n            }\n\n            return true;\n          },\n          allowUncheck: function () {\n            if (module.is.determinate() && module.is.unchecked() && !module.should.forceCallbacks()) {\n              module.debug('Should not allow uncheck, checkbox is already unchecked');\n              return false;\n            }\n\n            if (settings.beforeUnchecked.apply(input) === false) {\n              module.debug('Should not allow uncheck, beforeUnchecked cancelled');\n              return false;\n            }\n\n            return true;\n          },\n          allowIndeterminate: function () {\n            if (module.is.indeterminate() && !module.should.forceCallbacks()) {\n              module.debug('Should not allow indeterminate, checkbox is already indeterminate');\n              return false;\n            }\n\n            if (settings.beforeIndeterminate.apply(input) === false) {\n              module.debug('Should not allow indeterminate, beforeIndeterminate cancelled');\n              return false;\n            }\n\n            return true;\n          },\n          allowDeterminate: function () {\n            if (module.is.determinate() && !module.should.forceCallbacks()) {\n              module.debug('Should not allow determinate, checkbox is already determinate');\n              return false;\n            }\n\n            if (settings.beforeDeterminate.apply(input) === false) {\n              module.debug('Should not allow determinate, beforeDeterminate cancelled');\n              return false;\n            }\n\n            return true;\n          },\n          forceCallbacks: function () {\n            return module.is.initialLoad() && settings.fireOnInit;\n          },\n          ignoreCallbacks: function () {\n            return initialLoad && !settings.fireOnInit;\n          }\n        },\n        can: {\n          change: function () {\n            return !($module.hasClass(className.disabled) || $module.hasClass(className.readOnly) || $input.prop('disabled') || $input.prop('readonly'));\n          },\n          uncheck: function () {\n            return typeof settings.uncheckable === 'boolean' ? settings.uncheckable : !module.is.radio();\n          }\n        },\n        set: {\n          initialLoad: function () {\n            initialLoad = true;\n          },\n          checked: function () {\n            module.verbose('Setting class to checked');\n            $module.removeClass(className.indeterminate).addClass(className.checked);\n\n            if (module.is.radio()) {\n              module.uncheckOthers();\n            }\n\n            if (!module.is.indeterminate() && module.is.checked()) {\n              module.debug('Input is already checked, skipping input property change');\n              return;\n            }\n\n            module.verbose('Setting state to checked', input);\n            $input.prop('indeterminate', false).prop('checked', true);\n            module.trigger.change();\n          },\n          unchecked: function () {\n            module.verbose('Removing checked class');\n            $module.removeClass(className.indeterminate).removeClass(className.checked);\n\n            if (!module.is.indeterminate() && module.is.unchecked()) {\n              module.debug('Input is already unchecked');\n              return;\n            }\n\n            module.debug('Setting state to unchecked');\n            $input.prop('indeterminate', false).prop('checked', false);\n            module.trigger.change();\n          },\n          indeterminate: function () {\n            module.verbose('Setting class to indeterminate');\n            $module.addClass(className.indeterminate);\n\n            if (module.is.indeterminate()) {\n              module.debug('Input is already indeterminate, skipping input property change');\n              return;\n            }\n\n            module.debug('Setting state to indeterminate');\n            $input.prop('indeterminate', true);\n            module.trigger.change();\n          },\n          determinate: function () {\n            module.verbose('Removing indeterminate class');\n            $module.removeClass(className.indeterminate);\n\n            if (module.is.determinate()) {\n              module.debug('Input is already determinate, skipping input property change');\n              return;\n            }\n\n            module.debug('Setting state to determinate');\n            $input.prop('indeterminate', false);\n          },\n          disabled: function () {\n            module.verbose('Setting class to disabled');\n            $module.addClass(className.disabled);\n\n            if (module.is.disabled()) {\n              module.debug('Input is already disabled, skipping input property change');\n              return;\n            }\n\n            module.debug('Setting state to disabled');\n            $input.prop('disabled', 'disabled');\n            module.trigger.change();\n          },\n          enabled: function () {\n            module.verbose('Removing disabled class');\n            $module.removeClass(className.disabled);\n\n            if (module.is.enabled()) {\n              module.debug('Input is already enabled, skipping input property change');\n              return;\n            }\n\n            module.debug('Setting state to enabled');\n            $input.prop('disabled', false);\n            module.trigger.change();\n          },\n          tabbable: function () {\n            module.verbose('Adding tabindex to checkbox');\n\n            if ($input.attr('tabindex') === undefined) {\n              $input.attr('tabindex', 0);\n            }\n          }\n        },\n        remove: {\n          initialLoad: function () {\n            initialLoad = false;\n          }\n        },\n        trigger: {\n          change: function () {\n            var events = document.createEvent('HTMLEvents'),\n                inputElement = $input[0];\n\n            if (inputElement) {\n              module.verbose('Triggering native change event');\n              events.initEvent('change', true, false);\n              inputElement.dispatchEvent(events);\n            }\n          }\n        },\n        create: {\n          label: function () {\n            if ($input.prevAll(selector.label).length > 0) {\n              $input.prev(selector.label).detach().insertAfter($input);\n              module.debug('Moving existing label', $label);\n            } else if (!module.has.label()) {\n              $label = $('<label>').insertAfter($input);\n              module.debug('Creating label', $label);\n            }\n          }\n        },\n        has: {\n          label: function () {\n            return $label.length > 0;\n          }\n        },\n        bind: {\n          events: function () {\n            module.verbose('Attaching checkbox events');\n            $module.on('click' + eventNamespace, module.event.click).on('keydown' + eventNamespace, selector.input, module.event.keydown).on('keyup' + eventNamespace, selector.input, module.event.keyup);\n          }\n        },\n        unbind: {\n          events: function () {\n            module.debug('Removing events');\n            $module.off(eventNamespace);\n          }\n        },\n        uncheckOthers: function () {\n          var $radios = module.get.otherRadios();\n          module.debug('Unchecking other radios', $radios);\n          $radios.removeClass(className.checked);\n        },\n        toggle: function () {\n          if (!module.can.change()) {\n            if (!module.is.radio()) {\n              module.debug('Checkbox is read-only or disabled, ignoring toggle');\n            }\n\n            return;\n          }\n\n          if (module.is.indeterminate() || module.is.unchecked()) {\n            module.debug('Currently unchecked');\n            module.check();\n          } else if (module.is.checked() && module.can.uncheck()) {\n            module.debug('Currently checked');\n            module.uncheck();\n          }\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.checkbox.settings = {\n    name: 'Checkbox',\n    namespace: 'checkbox',\n    silent: false,\n    debug: false,\n    verbose: true,\n    performance: true,\n    // delegated event context\n    uncheckable: 'auto',\n    fireOnInit: false,\n    onChange: function () {},\n    beforeChecked: function () {},\n    beforeUnchecked: function () {},\n    beforeDeterminate: function () {},\n    beforeIndeterminate: function () {},\n    onChecked: function () {},\n    onUnchecked: function () {},\n    onDeterminate: function () {},\n    onIndeterminate: function () {},\n    onEnable: function () {},\n    onDisable: function () {},\n    // preserve misspelled callbacks (will be removed in 3.0)\n    onEnabled: function () {},\n    onDisabled: function () {},\n    className: {\n      checked: 'checked',\n      indeterminate: 'indeterminate',\n      disabled: 'disabled',\n      hidden: 'hidden',\n      radio: 'radio',\n      readOnly: 'read-only'\n    },\n    error: {\n      method: 'The method you called is not defined'\n    },\n    selector: {\n      checkbox: '.ui.checkbox',\n      label: 'label, .box',\n      input: 'input[type=\"checkbox\"], input[type=\"radio\"]',\n      link: 'a[href]'\n    }\n  };\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"dimmer.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/modules/dimmer.js                                                                          //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * # Semantic UI - Dimmer\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.dimmer = function (parameters) {\n    var $allModules = $(this),\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue;\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.dimmer.settings, parameters) : $.extend({}, $.fn.dimmer.settings),\n          selector = settings.selector,\n          namespace = settings.namespace,\n          className = settings.className,\n          error = settings.error,\n          eventNamespace = '.' + namespace,\n          moduleNamespace = 'module-' + namespace,\n          moduleSelector = $allModules.selector || '',\n          clickEvent = 'ontouchstart' in document.documentElement ? 'touchstart' : 'click',\n          $module = $(this),\n          $dimmer,\n          $dimmable,\n          element = this,\n          instance = $module.data(moduleNamespace),\n          module;\n      module = {\n        preinitialize: function () {\n          if (module.is.dimmer()) {\n            $dimmable = $module.parent();\n            $dimmer = $module;\n          } else {\n            $dimmable = $module;\n\n            if (module.has.dimmer()) {\n              if (settings.dimmerName) {\n                $dimmer = $dimmable.find(selector.dimmer).filter('.' + settings.dimmerName);\n              } else {\n                $dimmer = $dimmable.find(selector.dimmer);\n              }\n            } else {\n              $dimmer = module.create();\n            }\n\n            module.set.variation();\n          }\n        },\n        initialize: function () {\n          module.debug('Initializing dimmer', settings);\n          module.bind.events();\n          module.set.dimmable();\n          module.instantiate();\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module.data(moduleNamespace, instance);\n        },\n        destroy: function () {\n          module.verbose('Destroying previous module', $dimmer);\n          module.unbind.events();\n          module.remove.variation();\n          $dimmable.off(eventNamespace);\n        },\n        bind: {\n          events: function () {\n            if (module.is.page()) {\n              // touch events default to passive, due to changes in chrome to optimize mobile perf\n              $dimmable.get(0).addEventListener('touchmove', module.event.preventScroll, {\n                passive: false\n              });\n            }\n\n            if (settings.on == 'hover') {\n              $dimmable.on('mouseenter' + eventNamespace, module.show).on('mouseleave' + eventNamespace, module.hide);\n            } else if (settings.on == 'click') {\n              $dimmable.on(clickEvent + eventNamespace, module.toggle);\n            }\n\n            if (module.is.page()) {\n              module.debug('Setting as a page dimmer', $dimmable);\n              module.set.pageDimmer();\n            }\n\n            if (module.is.closable()) {\n              module.verbose('Adding dimmer close event', $dimmer);\n              $dimmable.on(clickEvent + eventNamespace, selector.dimmer, module.event.click);\n            }\n          }\n        },\n        unbind: {\n          events: function () {\n            if (module.is.page()) {\n              $dimmable.get(0).removeEventListener('touchmove', module.event.preventScroll, {\n                passive: false\n              });\n            }\n\n            $module.removeData(moduleNamespace);\n            $dimmable.off(eventNamespace);\n          }\n        },\n        event: {\n          click: function (event) {\n            module.verbose('Determining if event occured on dimmer', event);\n\n            if ($dimmer.find(event.target).length === 0 || $(event.target).is(selector.content)) {\n              module.hide();\n              event.stopImmediatePropagation();\n            }\n          },\n          preventScroll: function (event) {\n            event.preventDefault();\n          }\n        },\n        addContent: function (element) {\n          var $content = $(element);\n          module.debug('Add content to dimmer', $content);\n\n          if ($content.parent()[0] !== $dimmer[0]) {\n            $content.detach().appendTo($dimmer);\n          }\n        },\n        create: function () {\n          var $element = $(settings.template.dimmer());\n\n          if (settings.dimmerName) {\n            module.debug('Creating named dimmer', settings.dimmerName);\n            $element.addClass(settings.dimmerName);\n          }\n\n          $element.appendTo($dimmable);\n          return $element;\n        },\n        show: function (callback) {\n          callback = $.isFunction(callback) ? callback : function () {};\n          module.debug('Showing dimmer', $dimmer, settings);\n\n          if ((!module.is.dimmed() || module.is.animating()) && module.is.enabled()) {\n            module.animate.show(callback);\n            settings.onShow.call(element);\n            settings.onChange.call(element);\n          } else {\n            module.debug('Dimmer is already shown or disabled');\n          }\n        },\n        hide: function (callback) {\n          callback = $.isFunction(callback) ? callback : function () {};\n\n          if (module.is.dimmed() || module.is.animating()) {\n            module.debug('Hiding dimmer', $dimmer);\n            module.animate.hide(callback);\n            settings.onHide.call(element);\n            settings.onChange.call(element);\n          } else {\n            module.debug('Dimmer is not visible');\n          }\n        },\n        toggle: function () {\n          module.verbose('Toggling dimmer visibility', $dimmer);\n\n          if (!module.is.dimmed()) {\n            module.show();\n          } else {\n            module.hide();\n          }\n        },\n        animate: {\n          show: function (callback) {\n            callback = $.isFunction(callback) ? callback : function () {};\n\n            if (settings.useCSS && $.fn.transition !== undefined && $dimmer.transition('is supported')) {\n              if (settings.opacity !== 'auto') {\n                module.set.opacity();\n              }\n\n              $dimmer.transition({\n                displayType: 'flex',\n                animation: settings.transition + ' in',\n                queue: false,\n                duration: module.get.duration(),\n                useFailSafe: true,\n                onStart: function () {\n                  module.set.dimmed();\n                },\n                onComplete: function () {\n                  module.set.active();\n                  callback();\n                }\n              });\n            } else {\n              module.verbose('Showing dimmer animation with javascript');\n              module.set.dimmed();\n\n              if (settings.opacity == 'auto') {\n                settings.opacity = 0.8;\n              }\n\n              $dimmer.stop().css({\n                opacity: 0,\n                width: '100%',\n                height: '100%'\n              }).fadeTo(module.get.duration(), settings.opacity, function () {\n                $dimmer.removeAttr('style');\n                module.set.active();\n                callback();\n              });\n            }\n          },\n          hide: function (callback) {\n            callback = $.isFunction(callback) ? callback : function () {};\n\n            if (settings.useCSS && $.fn.transition !== undefined && $dimmer.transition('is supported')) {\n              module.verbose('Hiding dimmer with css');\n              $dimmer.transition({\n                displayType: 'flex',\n                animation: settings.transition + ' out',\n                queue: false,\n                duration: module.get.duration(),\n                useFailSafe: true,\n                onStart: function () {\n                  module.remove.dimmed();\n                },\n                onComplete: function () {\n                  module.remove.active();\n                  callback();\n                }\n              });\n            } else {\n              module.verbose('Hiding dimmer with javascript');\n              module.remove.dimmed();\n              $dimmer.stop().fadeOut(module.get.duration(), function () {\n                module.remove.active();\n                $dimmer.removeAttr('style');\n                callback();\n              });\n            }\n          }\n        },\n        get: {\n          dimmer: function () {\n            return $dimmer;\n          },\n          duration: function () {\n            if (typeof settings.duration == 'object') {\n              if (module.is.active()) {\n                return settings.duration.hide;\n              } else {\n                return settings.duration.show;\n              }\n            }\n\n            return settings.duration;\n          }\n        },\n        has: {\n          dimmer: function () {\n            if (settings.dimmerName) {\n              return $module.find(selector.dimmer).filter('.' + settings.dimmerName).length > 0;\n            } else {\n              return $module.find(selector.dimmer).length > 0;\n            }\n          }\n        },\n        is: {\n          active: function () {\n            return $dimmer.hasClass(className.active);\n          },\n          animating: function () {\n            return $dimmer.is(':animated') || $dimmer.hasClass(className.animating);\n          },\n          closable: function () {\n            if (settings.closable == 'auto') {\n              if (settings.on == 'hover') {\n                return false;\n              }\n\n              return true;\n            }\n\n            return settings.closable;\n          },\n          dimmer: function () {\n            return $module.hasClass(className.dimmer);\n          },\n          dimmable: function () {\n            return $module.hasClass(className.dimmable);\n          },\n          dimmed: function () {\n            return $dimmable.hasClass(className.dimmed);\n          },\n          disabled: function () {\n            return $dimmable.hasClass(className.disabled);\n          },\n          enabled: function () {\n            return !module.is.disabled();\n          },\n          page: function () {\n            return $dimmable.is('body');\n          },\n          pageDimmer: function () {\n            return $dimmer.hasClass(className.pageDimmer);\n          }\n        },\n        can: {\n          show: function () {\n            return !$dimmer.hasClass(className.disabled);\n          }\n        },\n        set: {\n          opacity: function (opacity) {\n            var color = $dimmer.css('background-color'),\n                colorArray = color.split(','),\n                isRGB = colorArray && colorArray.length == 3,\n                isRGBA = colorArray && colorArray.length == 4;\n            opacity = settings.opacity === 0 ? 0 : settings.opacity || opacity;\n\n            if (isRGB || isRGBA) {\n              colorArray[3] = opacity + ')';\n              color = colorArray.join(',');\n            } else {\n              color = 'rgba(0, 0, 0, ' + opacity + ')';\n            }\n\n            module.debug('Setting opacity to', opacity);\n            $dimmer.css('background-color', color);\n          },\n          active: function () {\n            $dimmer.addClass(className.active);\n          },\n          dimmable: function () {\n            $dimmable.addClass(className.dimmable);\n          },\n          dimmed: function () {\n            $dimmable.addClass(className.dimmed);\n          },\n          pageDimmer: function () {\n            $dimmer.addClass(className.pageDimmer);\n          },\n          disabled: function () {\n            $dimmer.addClass(className.disabled);\n          },\n          variation: function (variation) {\n            variation = variation || settings.variation;\n\n            if (variation) {\n              $dimmer.addClass(variation);\n            }\n          }\n        },\n        remove: {\n          active: function () {\n            $dimmer.removeClass(className.active);\n          },\n          dimmed: function () {\n            $dimmable.removeClass(className.dimmed);\n          },\n          disabled: function () {\n            $dimmer.removeClass(className.disabled);\n          },\n          variation: function (variation) {\n            variation = variation || settings.variation;\n\n            if (variation) {\n              $dimmer.removeClass(variation);\n            }\n          }\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n      module.preinitialize();\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.dimmer.settings = {\n    name: 'Dimmer',\n    namespace: 'dimmer',\n    silent: false,\n    debug: false,\n    verbose: false,\n    performance: true,\n    // name to distinguish between multiple dimmers in context\n    dimmerName: false,\n    // whether to add a variation type\n    variation: false,\n    // whether to bind close events\n    closable: 'auto',\n    // whether to use css animations\n    useCSS: true,\n    // css animation to use\n    transition: 'fade',\n    // event to bind to\n    on: false,\n    // overriding opacity value\n    opacity: 'auto',\n    // transition durations\n    duration: {\n      show: 500,\n      hide: 500\n    },\n    onChange: function () {},\n    onShow: function () {},\n    onHide: function () {},\n    error: {\n      method: 'The method you called is not defined.'\n    },\n    className: {\n      active: 'active',\n      animating: 'animating',\n      dimmable: 'dimmable',\n      dimmed: 'dimmed',\n      dimmer: 'dimmer',\n      disabled: 'disabled',\n      hide: 'hide',\n      pageDimmer: 'page',\n      show: 'show'\n    },\n    selector: {\n      dimmer: '> .ui.dimmer',\n      content: '.ui.dimmer > .content, .ui.dimmer > .content > .center'\n    },\n    template: {\n      dimmer: function () {\n        return $('<div />').attr('class', 'ui dimmer');\n      }\n    }\n  };\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"dropdown.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/modules/dropdown.js                                                                        //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * # Semantic UI - Dropdown\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.dropdown = function (parameters) {\n    var $allModules = $(this),\n        $document = $(document),\n        moduleSelector = $allModules.selector || '',\n        hasTouch = 'ontouchstart' in document.documentElement,\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue;\n    $allModules.each(function (elementIndex) {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.dropdown.settings, parameters) : $.extend({}, $.fn.dropdown.settings),\n          className = settings.className,\n          message = settings.message,\n          fields = settings.fields,\n          keys = settings.keys,\n          metadata = settings.metadata,\n          namespace = settings.namespace,\n          regExp = settings.regExp,\n          selector = settings.selector,\n          error = settings.error,\n          templates = settings.templates,\n          eventNamespace = '.' + namespace,\n          moduleNamespace = 'module-' + namespace,\n          $module = $(this),\n          $context = $(settings.context),\n          $text = $module.find(selector.text),\n          $search = $module.find(selector.search),\n          $sizer = $module.find(selector.sizer),\n          $input = $module.find(selector.input),\n          $icon = $module.find(selector.icon),\n          $combo = $module.prev().find(selector.text).length > 0 ? $module.prev().find(selector.text) : $module.prev(),\n          $menu = $module.children(selector.menu),\n          $item = $menu.find(selector.item),\n          activated = false,\n          itemActivated = false,\n          internalChange = false,\n          element = this,\n          instance = $module.data(moduleNamespace),\n          initialLoad,\n          pageLostFocus,\n          willRefocus,\n          elementNamespace,\n          id,\n          selectObserver,\n          menuObserver,\n          module;\n      module = {\n        initialize: function () {\n          module.debug('Initializing dropdown', settings);\n\n          if (module.is.alreadySetup()) {\n            module.setup.reference();\n          } else {\n            module.setup.layout();\n\n            if (settings.values) {\n              module.change.values(settings.values);\n            }\n\n            module.refreshData();\n            module.save.defaults();\n            module.restore.selected();\n            module.create.id();\n            module.bind.events();\n            module.observeChanges();\n            module.instantiate();\n          }\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of dropdown', module);\n          instance = module;\n          $module.data(moduleNamespace, module);\n        },\n        destroy: function () {\n          module.verbose('Destroying previous dropdown', $module);\n          module.remove.tabbable();\n          $module.off(eventNamespace).removeData(moduleNamespace);\n          $menu.off(eventNamespace);\n          $document.off(elementNamespace);\n          module.disconnect.menuObserver();\n          module.disconnect.selectObserver();\n        },\n        observeChanges: function () {\n          if ('MutationObserver' in window) {\n            selectObserver = new MutationObserver(module.event.select.mutation);\n            menuObserver = new MutationObserver(module.event.menu.mutation);\n            module.debug('Setting up mutation observer', selectObserver, menuObserver);\n            module.observe.select();\n            module.observe.menu();\n          }\n        },\n        disconnect: {\n          menuObserver: function () {\n            if (menuObserver) {\n              menuObserver.disconnect();\n            }\n          },\n          selectObserver: function () {\n            if (selectObserver) {\n              selectObserver.disconnect();\n            }\n          }\n        },\n        observe: {\n          select: function () {\n            if (module.has.input()) {\n              selectObserver.observe($module[0], {\n                childList: true,\n                subtree: true\n              });\n            }\n          },\n          menu: function () {\n            if (module.has.menu()) {\n              menuObserver.observe($menu[0], {\n                childList: true,\n                subtree: true\n              });\n            }\n          }\n        },\n        create: {\n          id: function () {\n            id = (Math.random().toString(16) + '000000000').substr(2, 8);\n            elementNamespace = '.' + id;\n            module.verbose('Creating unique id for element', id);\n          },\n          userChoice: function (values) {\n            var $userChoices, $userChoice, isUserValue, html;\n            values = values || module.get.userValues();\n\n            if (!values) {\n              return false;\n            }\n\n            values = $.isArray(values) ? values : [values];\n            $.each(values, function (index, value) {\n              if (module.get.item(value) === false) {\n                html = settings.templates.addition(module.add.variables(message.addResult, value));\n                $userChoice = $('<div />').html(html).attr('data-' + metadata.value, value).attr('data-' + metadata.text, value).addClass(className.addition).addClass(className.item);\n\n                if (settings.hideAdditions) {\n                  $userChoice.addClass(className.hidden);\n                }\n\n                $userChoices = $userChoices === undefined ? $userChoice : $userChoices.add($userChoice);\n                module.verbose('Creating user choices for value', value, $userChoice);\n              }\n            });\n            return $userChoices;\n          },\n          userLabels: function (value) {\n            var userValues = module.get.userValues();\n\n            if (userValues) {\n              module.debug('Adding user labels', userValues);\n              $.each(userValues, function (index, value) {\n                module.verbose('Adding custom user value');\n                module.add.label(value, value);\n              });\n            }\n          },\n          menu: function () {\n            $menu = $('<div />').addClass(className.menu).appendTo($module);\n          },\n          sizer: function () {\n            $sizer = $('<span />').addClass(className.sizer).insertAfter($search);\n          }\n        },\n        search: function (query) {\n          query = query !== undefined ? query : module.get.query();\n          module.verbose('Searching for query', query);\n\n          if (module.has.minCharacters(query)) {\n            module.filter(query);\n          } else {\n            module.hide();\n          }\n        },\n        select: {\n          firstUnfiltered: function () {\n            module.verbose('Selecting first non-filtered element');\n            module.remove.selectedItem();\n            $item.not(selector.unselectable).not(selector.addition + selector.hidden).eq(0).addClass(className.selected);\n          },\n          nextAvailable: function ($selected) {\n            $selected = $selected.eq(0);\n            var $nextAvailable = $selected.nextAll(selector.item).not(selector.unselectable).eq(0),\n                $prevAvailable = $selected.prevAll(selector.item).not(selector.unselectable).eq(0),\n                hasNext = $nextAvailable.length > 0;\n\n            if (hasNext) {\n              module.verbose('Moving selection to', $nextAvailable);\n              $nextAvailable.addClass(className.selected);\n            } else {\n              module.verbose('Moving selection to', $prevAvailable);\n              $prevAvailable.addClass(className.selected);\n            }\n          }\n        },\n        setup: {\n          api: function () {\n            var apiSettings = {\n              debug: settings.debug,\n              urlData: {\n                value: module.get.value(),\n                query: module.get.query()\n              },\n              on: false\n            };\n            module.verbose('First request, initializing API');\n            $module.api(apiSettings);\n          },\n          layout: function () {\n            if ($module.is('select')) {\n              module.setup.select();\n              module.setup.returnedObject();\n            }\n\n            if (!module.has.menu()) {\n              module.create.menu();\n            }\n\n            if (module.is.search() && !module.has.search()) {\n              module.verbose('Adding search input');\n              $search = $('<input />').addClass(className.search).prop('autocomplete', 'off').insertBefore($text);\n            }\n\n            if (module.is.multiple() && module.is.searchSelection() && !module.has.sizer()) {\n              module.create.sizer();\n            }\n\n            if (settings.allowTab) {\n              module.set.tabbable();\n            }\n          },\n          select: function () {\n            var selectValues = module.get.selectValues();\n            module.debug('Dropdown initialized on a select', selectValues);\n\n            if ($module.is('select')) {\n              $input = $module;\n            } // see if select is placed correctly already\n\n\n            if ($input.parent(selector.dropdown).length > 0) {\n              module.debug('UI dropdown already exists. Creating dropdown menu only');\n              $module = $input.closest(selector.dropdown);\n\n              if (!module.has.menu()) {\n                module.create.menu();\n              }\n\n              $menu = $module.children(selector.menu);\n              module.setup.menu(selectValues);\n            } else {\n              module.debug('Creating entire dropdown from select');\n              $module = $('<div />').attr('class', $input.attr('class')).addClass(className.selection).addClass(className.dropdown).html(templates.dropdown(selectValues)).insertBefore($input);\n\n              if ($input.hasClass(className.multiple) && $input.prop('multiple') === false) {\n                module.error(error.missingMultiple);\n                $input.prop('multiple', true);\n              }\n\n              if ($input.is('[multiple]')) {\n                module.set.multiple();\n              }\n\n              if ($input.prop('disabled')) {\n                module.debug('Disabling dropdown');\n                $module.addClass(className.disabled);\n              }\n\n              $input.removeAttr('class').detach().prependTo($module);\n            }\n\n            module.refresh();\n          },\n          menu: function (values) {\n            $menu.html(templates.menu(values, fields));\n            $item = $menu.find(selector.item);\n          },\n          reference: function () {\n            module.debug('Dropdown behavior was called on select, replacing with closest dropdown'); // replace module reference\n\n            $module = $module.parent(selector.dropdown);\n            instance = $module.data(moduleNamespace);\n            element = $module.get(0);\n            module.refresh();\n            module.setup.returnedObject();\n          },\n          returnedObject: function () {\n            var $firstModules = $allModules.slice(0, elementIndex),\n                $lastModules = $allModules.slice(elementIndex + 1); // adjust all modules to use correct reference\n\n            $allModules = $firstModules.add($module).add($lastModules);\n          }\n        },\n        refresh: function () {\n          module.refreshSelectors();\n          module.refreshData();\n        },\n        refreshItems: function () {\n          $item = $menu.find(selector.item);\n        },\n        refreshSelectors: function () {\n          module.verbose('Refreshing selector cache');\n          $text = $module.find(selector.text);\n          $search = $module.find(selector.search);\n          $input = $module.find(selector.input);\n          $icon = $module.find(selector.icon);\n          $combo = $module.prev().find(selector.text).length > 0 ? $module.prev().find(selector.text) : $module.prev();\n          $menu = $module.children(selector.menu);\n          $item = $menu.find(selector.item);\n        },\n        refreshData: function () {\n          module.verbose('Refreshing cached metadata');\n          $item.removeData(metadata.text).removeData(metadata.value);\n        },\n        clearData: function () {\n          module.verbose('Clearing metadata');\n          $item.removeData(metadata.text).removeData(metadata.value);\n          $module.removeData(metadata.defaultText).removeData(metadata.defaultValue).removeData(metadata.placeholderText);\n        },\n        toggle: function () {\n          module.verbose('Toggling menu visibility');\n\n          if (!module.is.active()) {\n            module.show();\n          } else {\n            module.hide();\n          }\n        },\n        show: function (callback) {\n          callback = $.isFunction(callback) ? callback : function () {};\n\n          if (!module.can.show() && module.is.remote()) {\n            module.debug('No API results retrieved, searching before show');\n            module.queryRemote(module.get.query(), module.show);\n          }\n\n          if (module.can.show() && !module.is.active()) {\n            module.debug('Showing dropdown');\n\n            if (module.has.message() && !(module.has.maxSelections() || module.has.allResultsFiltered())) {\n              module.remove.message();\n            }\n\n            if (module.is.allFiltered()) {\n              return true;\n            }\n\n            if (settings.onShow.call(element) !== false) {\n              module.animate.show(function () {\n                if (module.can.click()) {\n                  module.bind.intent();\n                }\n\n                if (module.has.menuSearch()) {\n                  module.focusSearch();\n                }\n\n                module.set.visible();\n                callback.call(element);\n              });\n            }\n          }\n        },\n        hide: function (callback) {\n          callback = $.isFunction(callback) ? callback : function () {};\n\n          if (module.is.active() && !module.is.animatingOutward()) {\n            module.debug('Hiding dropdown');\n\n            if (settings.onHide.call(element) !== false) {\n              module.animate.hide(function () {\n                module.remove.visible();\n                callback.call(element);\n              });\n            }\n          }\n        },\n        hideOthers: function () {\n          module.verbose('Finding other dropdowns to hide');\n          $allModules.not($module).has(selector.menu + '.' + className.visible).dropdown('hide');\n        },\n        hideMenu: function () {\n          module.verbose('Hiding menu  instantaneously');\n          module.remove.active();\n          module.remove.visible();\n          $menu.transition('hide');\n        },\n        hideSubMenus: function () {\n          var $subMenus = $menu.children(selector.item).find(selector.menu);\n          module.verbose('Hiding sub menus', $subMenus);\n          $subMenus.transition('hide');\n        },\n        bind: {\n          events: function () {\n            if (hasTouch) {\n              module.bind.touchEvents();\n            }\n\n            module.bind.keyboardEvents();\n            module.bind.inputEvents();\n            module.bind.mouseEvents();\n          },\n          touchEvents: function () {\n            module.debug('Touch device detected binding additional touch events');\n\n            if (module.is.searchSelection()) {// do nothing special yet\n            } else if (module.is.single()) {\n              $module.on('touchstart' + eventNamespace, module.event.test.toggle);\n            }\n\n            $menu.on('touchstart' + eventNamespace, selector.item, module.event.item.mouseenter);\n          },\n          keyboardEvents: function () {\n            module.verbose('Binding keyboard events');\n            $module.on('keydown' + eventNamespace, module.event.keydown);\n\n            if (module.has.search()) {\n              $module.on(module.get.inputEvent() + eventNamespace, selector.search, module.event.input);\n            }\n\n            if (module.is.multiple()) {\n              $document.on('keydown' + elementNamespace, module.event.document.keydown);\n            }\n          },\n          inputEvents: function () {\n            module.verbose('Binding input change events');\n            $module.on('change' + eventNamespace, selector.input, module.event.change);\n          },\n          mouseEvents: function () {\n            module.verbose('Binding mouse events');\n\n            if (module.is.multiple()) {\n              $module.on('click' + eventNamespace, selector.label, module.event.label.click).on('click' + eventNamespace, selector.remove, module.event.remove.click);\n            }\n\n            if (module.is.searchSelection()) {\n              $module.on('mousedown' + eventNamespace, module.event.mousedown).on('mouseup' + eventNamespace, module.event.mouseup).on('mousedown' + eventNamespace, selector.menu, module.event.menu.mousedown).on('mouseup' + eventNamespace, selector.menu, module.event.menu.mouseup).on('click' + eventNamespace, selector.icon, module.event.icon.click).on('focus' + eventNamespace, selector.search, module.event.search.focus).on('click' + eventNamespace, selector.search, module.event.search.focus).on('blur' + eventNamespace, selector.search, module.event.search.blur).on('click' + eventNamespace, selector.text, module.event.text.focus);\n\n              if (module.is.multiple()) {\n                $module.on('click' + eventNamespace, module.event.click);\n              }\n            } else {\n              if (settings.on == 'click') {\n                $module.on('click' + eventNamespace, selector.icon, module.event.icon.click).on('click' + eventNamespace, module.event.test.toggle);\n              } else if (settings.on == 'hover') {\n                $module.on('mouseenter' + eventNamespace, module.delay.show).on('mouseleave' + eventNamespace, module.delay.hide);\n              } else {\n                $module.on(settings.on + eventNamespace, module.toggle);\n              }\n\n              $module.on('mousedown' + eventNamespace, module.event.mousedown).on('mouseup' + eventNamespace, module.event.mouseup).on('focus' + eventNamespace, module.event.focus);\n\n              if (module.has.menuSearch()) {\n                $module.on('blur' + eventNamespace, selector.search, module.event.search.blur);\n              } else {\n                $module.on('blur' + eventNamespace, module.event.blur);\n              }\n            }\n\n            $menu.on('mouseenter' + eventNamespace, selector.item, module.event.item.mouseenter).on('mouseleave' + eventNamespace, selector.item, module.event.item.mouseleave).on('click' + eventNamespace, selector.item, module.event.item.click);\n          },\n          intent: function () {\n            module.verbose('Binding hide intent event to document');\n\n            if (hasTouch) {\n              $document.on('touchstart' + elementNamespace, module.event.test.touch).on('touchmove' + elementNamespace, module.event.test.touch);\n            }\n\n            $document.on('click' + elementNamespace, module.event.test.hide);\n          }\n        },\n        unbind: {\n          intent: function () {\n            module.verbose('Removing hide intent event from document');\n\n            if (hasTouch) {\n              $document.off('touchstart' + elementNamespace).off('touchmove' + elementNamespace);\n            }\n\n            $document.off('click' + elementNamespace);\n          }\n        },\n        filter: function (query) {\n          var searchTerm = query !== undefined ? query : module.get.query(),\n              afterFiltered = function () {\n            if (module.is.multiple()) {\n              module.filterActive();\n            }\n\n            if (query || !query && module.get.activeItem().length == 0) {\n              module.select.firstUnfiltered();\n            }\n\n            if (module.has.allResultsFiltered()) {\n              if (settings.onNoResults.call(element, searchTerm)) {\n                if (settings.allowAdditions) {\n                  if (settings.hideAdditions) {\n                    module.verbose('User addition with no menu, setting empty style');\n                    module.set.empty();\n                    module.hideMenu();\n                  }\n                } else {\n                  module.verbose('All items filtered, showing message', searchTerm);\n                  module.add.message(message.noResults);\n                }\n              } else {\n                module.verbose('All items filtered, hiding dropdown', searchTerm);\n                module.hideMenu();\n              }\n            } else {\n              module.remove.empty();\n              module.remove.message();\n            }\n\n            if (settings.allowAdditions) {\n              module.add.userSuggestion(query);\n            }\n\n            if (module.is.searchSelection() && module.can.show() && module.is.focusedOnSearch()) {\n              module.show();\n            }\n          };\n\n          if (settings.useLabels && module.has.maxSelections()) {\n            return;\n          }\n\n          if (settings.apiSettings) {\n            if (module.can.useAPI()) {\n              module.queryRemote(searchTerm, function () {\n                if (settings.filterRemoteData) {\n                  module.filterItems(searchTerm);\n                }\n\n                afterFiltered();\n              });\n            } else {\n              module.error(error.noAPI);\n            }\n          } else {\n            module.filterItems(searchTerm);\n            afterFiltered();\n          }\n        },\n        queryRemote: function (query, callback) {\n          var apiSettings = {\n            errorDuration: false,\n            cache: 'local',\n            throttle: settings.throttle,\n            urlData: {\n              query: query\n            },\n            onError: function () {\n              module.add.message(message.serverError);\n              callback();\n            },\n            onFailure: function () {\n              module.add.message(message.serverError);\n              callback();\n            },\n            onSuccess: function (response) {\n              var values = response[fields.remoteValues],\n                  hasRemoteValues = $.isArray(values) && values.length > 0;\n\n              if (hasRemoteValues) {\n                module.remove.message();\n                module.setup.menu({\n                  values: response[fields.remoteValues]\n                });\n              } else {\n                module.add.message(message.noResults);\n              }\n\n              callback();\n            }\n          };\n\n          if (!$module.api('get request')) {\n            module.setup.api();\n          }\n\n          apiSettings = $.extend(true, {}, apiSettings, settings.apiSettings);\n          $module.api('setting', apiSettings).api('query');\n        },\n        filterItems: function (query) {\n          var searchTerm = query !== undefined ? query : module.get.query(),\n              results = null,\n              escapedTerm = module.escape.string(searchTerm),\n              beginsWithRegExp = new RegExp('^' + escapedTerm, 'igm'); // avoid loop if we're matching nothing\n\n          if (module.has.query()) {\n            results = [];\n            module.verbose('Searching for matching values', searchTerm);\n            $item.each(function () {\n              var $choice = $(this),\n                  text,\n                  value;\n\n              if (settings.match == 'both' || settings.match == 'text') {\n                text = String(module.get.choiceText($choice, false));\n\n                if (text.search(beginsWithRegExp) !== -1) {\n                  results.push(this);\n                  return true;\n                } else if (settings.fullTextSearch === 'exact' && module.exactSearch(searchTerm, text)) {\n                  results.push(this);\n                  return true;\n                } else if (settings.fullTextSearch === true && module.fuzzySearch(searchTerm, text)) {\n                  results.push(this);\n                  return true;\n                }\n              }\n\n              if (settings.match == 'both' || settings.match == 'value') {\n                value = String(module.get.choiceValue($choice, text));\n\n                if (value.search(beginsWithRegExp) !== -1) {\n                  results.push(this);\n                  return true;\n                } else if (settings.fullTextSearch === 'exact' && module.exactSearch(searchTerm, value)) {\n                  results.push(this);\n                  return true;\n                } else if (settings.fullTextSearch === true && module.fuzzySearch(searchTerm, value)) {\n                  results.push(this);\n                  return true;\n                }\n              }\n            });\n          }\n\n          module.debug('Showing only matched items', searchTerm);\n          module.remove.filteredItem();\n\n          if (results) {\n            $item.not(results).addClass(className.filtered);\n          }\n        },\n        fuzzySearch: function (query, term) {\n          var termLength = term.length,\n              queryLength = query.length;\n          query = query.toLowerCase();\n          term = term.toLowerCase();\n\n          if (queryLength > termLength) {\n            return false;\n          }\n\n          if (queryLength === termLength) {\n            return query === term;\n          }\n\n          search: for (var characterIndex = 0, nextCharacterIndex = 0; characterIndex < queryLength; characterIndex++) {\n            var queryCharacter = query.charCodeAt(characterIndex);\n\n            while (nextCharacterIndex < termLength) {\n              if (term.charCodeAt(nextCharacterIndex++) === queryCharacter) {\n                continue search;\n              }\n            }\n\n            return false;\n          }\n\n          return true;\n        },\n        exactSearch: function (query, term) {\n          query = query.toLowerCase();\n          term = term.toLowerCase();\n\n          if (term.indexOf(query) > -1) {\n            return true;\n          }\n\n          return false;\n        },\n        filterActive: function () {\n          if (settings.useLabels) {\n            $item.filter('.' + className.active).addClass(className.filtered);\n          }\n        },\n        focusSearch: function (skipHandler) {\n          if (module.has.search() && !module.is.focusedOnSearch()) {\n            if (skipHandler) {\n              $module.off('focus' + eventNamespace, selector.search);\n              $search.focus();\n              $module.on('focus' + eventNamespace, selector.search, module.event.search.focus);\n            } else {\n              $search.focus();\n            }\n          }\n        },\n        forceSelection: function () {\n          var $currentlySelected = $item.not(className.filtered).filter('.' + className.selected).eq(0),\n              $activeItem = $item.not(className.filtered).filter('.' + className.active).eq(0),\n              $selectedItem = $currentlySelected.length > 0 ? $currentlySelected : $activeItem,\n              hasSelected = $selectedItem.length > 0;\n\n          if (hasSelected && !module.is.multiple()) {\n            module.debug('Forcing partial selection to selected item', $selectedItem);\n            module.event.item.click.call($selectedItem, {}, true);\n            return;\n          } else {\n            if (settings.allowAdditions) {\n              module.set.selected(module.get.query());\n              module.remove.searchTerm();\n            } else {\n              module.remove.searchTerm();\n            }\n          }\n        },\n        change: {\n          values: function (values) {\n            if (!settings.allowAdditions) {\n              module.clear();\n            }\n\n            module.debug('Creating dropdown with specified values', values);\n            module.setup.menu({\n              values: values\n            });\n            $.each(values, function (index, item) {\n              if (item.selected == true) {\n                module.debug('Setting initial selection to', item.value);\n                module.set.selected(item.value);\n                return true;\n              }\n            });\n          }\n        },\n        event: {\n          change: function () {\n            if (!internalChange) {\n              module.debug('Input changed, updating selection');\n              module.set.selected();\n            }\n          },\n          focus: function () {\n            if (settings.showOnFocus && !activated && module.is.hidden() && !pageLostFocus) {\n              module.show();\n            }\n          },\n          blur: function (event) {\n            pageLostFocus = document.activeElement === this;\n\n            if (!activated && !pageLostFocus) {\n              module.remove.activeLabel();\n              module.hide();\n            }\n          },\n          mousedown: function () {\n            if (module.is.searchSelection()) {\n              // prevent menu hiding on immediate re-focus\n              willRefocus = true;\n            } else {\n              // prevents focus callback from occurring on mousedown\n              activated = true;\n            }\n          },\n          mouseup: function () {\n            if (module.is.searchSelection()) {\n              // prevent menu hiding on immediate re-focus\n              willRefocus = false;\n            } else {\n              activated = false;\n            }\n          },\n          click: function (event) {\n            var $target = $(event.target); // focus search\n\n            if ($target.is($module)) {\n              if (!module.is.focusedOnSearch()) {\n                module.focusSearch();\n              } else {\n                module.show();\n              }\n            }\n          },\n          search: {\n            focus: function () {\n              activated = true;\n\n              if (module.is.multiple()) {\n                module.remove.activeLabel();\n              }\n\n              if (settings.showOnFocus) {\n                module.search();\n              }\n            },\n            blur: function (event) {\n              pageLostFocus = document.activeElement === this;\n\n              if (module.is.searchSelection() && !willRefocus) {\n                if (!itemActivated && !pageLostFocus) {\n                  if (settings.forceSelection) {\n                    module.forceSelection();\n                  }\n\n                  module.hide();\n                }\n              }\n\n              willRefocus = false;\n            }\n          },\n          icon: {\n            click: function (event) {\n              module.toggle();\n            }\n          },\n          text: {\n            focus: function (event) {\n              activated = true;\n              module.focusSearch();\n            }\n          },\n          input: function (event) {\n            if (module.is.multiple() || module.is.searchSelection()) {\n              module.set.filtered();\n            }\n\n            clearTimeout(module.timer);\n            module.timer = setTimeout(module.search, settings.delay.search);\n          },\n          label: {\n            click: function (event) {\n              var $label = $(this),\n                  $labels = $module.find(selector.label),\n                  $activeLabels = $labels.filter('.' + className.active),\n                  $nextActive = $label.nextAll('.' + className.active),\n                  $prevActive = $label.prevAll('.' + className.active),\n                  $range = $nextActive.length > 0 ? $label.nextUntil($nextActive).add($activeLabels).add($label) : $label.prevUntil($prevActive).add($activeLabels).add($label);\n\n              if (event.shiftKey) {\n                $activeLabels.removeClass(className.active);\n                $range.addClass(className.active);\n              } else if (event.ctrlKey) {\n                $label.toggleClass(className.active);\n              } else {\n                $activeLabels.removeClass(className.active);\n                $label.addClass(className.active);\n              }\n\n              settings.onLabelSelect.apply(this, $labels.filter('.' + className.active));\n            }\n          },\n          remove: {\n            click: function () {\n              var $label = $(this).parent();\n\n              if ($label.hasClass(className.active)) {\n                // remove all selected labels\n                module.remove.activeLabels();\n              } else {\n                // remove this label only\n                module.remove.activeLabels($label);\n              }\n            }\n          },\n          test: {\n            toggle: function (event) {\n              var toggleBehavior = module.is.multiple() ? module.show : module.toggle;\n\n              if (module.is.bubbledLabelClick(event) || module.is.bubbledIconClick(event)) {\n                return;\n              }\n\n              if (module.determine.eventOnElement(event, toggleBehavior)) {\n                event.preventDefault();\n              }\n            },\n            touch: function (event) {\n              module.determine.eventOnElement(event, function () {\n                if (event.type == 'touchstart') {\n                  module.timer = setTimeout(function () {\n                    module.hide();\n                  }, settings.delay.touch);\n                } else if (event.type == 'touchmove') {\n                  clearTimeout(module.timer);\n                }\n              });\n              event.stopPropagation();\n            },\n            hide: function (event) {\n              module.determine.eventInModule(event, module.hide);\n            }\n          },\n          select: {\n            mutation: function (mutations) {\n              module.debug('<select> modified, recreating menu');\n              var isSelectMutation = false;\n              $.each(mutations, function (index, mutation) {\n                if ($(mutation.target).is('select') || $(mutation.addedNodes).is('select')) {\n                  isSelectMutation = true;\n                  return true;\n                }\n              });\n\n              if (isSelectMutation) {\n                module.disconnect.selectObserver();\n                module.refresh();\n                module.setup.select();\n                module.set.selected();\n                module.observe.select();\n              }\n            }\n          },\n          menu: {\n            mutation: function (mutations) {\n              var mutation = mutations[0],\n                  $addedNode = mutation.addedNodes ? $(mutation.addedNodes[0]) : $(false),\n                  $removedNode = mutation.removedNodes ? $(mutation.removedNodes[0]) : $(false),\n                  $changedNodes = $addedNode.add($removedNode),\n                  isUserAddition = $changedNodes.is(selector.addition) || $changedNodes.closest(selector.addition).length > 0,\n                  isMessage = $changedNodes.is(selector.message) || $changedNodes.closest(selector.message).length > 0;\n\n              if (isUserAddition || isMessage) {\n                module.debug('Updating item selector cache');\n                module.refreshItems();\n              } else {\n                module.debug('Menu modified, updating selector cache');\n                module.refresh();\n              }\n            },\n            mousedown: function () {\n              itemActivated = true;\n            },\n            mouseup: function () {\n              itemActivated = false;\n            }\n          },\n          item: {\n            mouseenter: function (event) {\n              var $target = $(event.target),\n                  $item = $(this),\n                  $subMenu = $item.children(selector.menu),\n                  $otherMenus = $item.siblings(selector.item).children(selector.menu),\n                  hasSubMenu = $subMenu.length > 0,\n                  isBubbledEvent = $subMenu.find($target).length > 0;\n\n              if (!isBubbledEvent && hasSubMenu) {\n                clearTimeout(module.itemTimer);\n                module.itemTimer = setTimeout(function () {\n                  module.verbose('Showing sub-menu', $subMenu);\n                  $.each($otherMenus, function () {\n                    module.animate.hide(false, $(this));\n                  });\n                  module.animate.show(false, $subMenu);\n                }, settings.delay.show);\n                event.preventDefault();\n              }\n            },\n            mouseleave: function (event) {\n              var $subMenu = $(this).children(selector.menu);\n\n              if ($subMenu.length > 0) {\n                clearTimeout(module.itemTimer);\n                module.itemTimer = setTimeout(function () {\n                  module.verbose('Hiding sub-menu', $subMenu);\n                  module.animate.hide(false, $subMenu);\n                }, settings.delay.hide);\n              }\n            },\n            click: function (event, skipRefocus) {\n              var $choice = $(this),\n                  $target = event ? $(event.target) : $(''),\n                  $subMenu = $choice.find(selector.menu),\n                  text = module.get.choiceText($choice),\n                  value = module.get.choiceValue($choice, text),\n                  hasSubMenu = $subMenu.length > 0,\n                  isBubbledEvent = $subMenu.find($target).length > 0; // prevents IE11 bug where menu receives focus even though `tabindex=-1`\n\n              if (module.has.menuSearch()) {\n                $(document.activeElement).blur();\n              }\n\n              if (!isBubbledEvent && (!hasSubMenu || settings.allowCategorySelection)) {\n                if (module.is.searchSelection()) {\n                  if (settings.allowAdditions) {\n                    module.remove.userAddition();\n                  }\n\n                  module.remove.searchTerm();\n\n                  if (!module.is.focusedOnSearch() && !(skipRefocus == true)) {\n                    module.focusSearch(true);\n                  }\n                }\n\n                if (!settings.useLabels) {\n                  module.remove.filteredItem();\n                  module.set.scrollPosition($choice);\n                }\n\n                module.determine.selectAction.call(this, text, value);\n              }\n            }\n          },\n          document: {\n            // label selection should occur even when element has no focus\n            keydown: function (event) {\n              var pressedKey = event.which,\n                  isShortcutKey = module.is.inObject(pressedKey, keys);\n\n              if (isShortcutKey) {\n                var $label = $module.find(selector.label),\n                    $activeLabel = $label.filter('.' + className.active),\n                    activeValue = $activeLabel.data(metadata.value),\n                    labelIndex = $label.index($activeLabel),\n                    labelCount = $label.length,\n                    hasActiveLabel = $activeLabel.length > 0,\n                    hasMultipleActive = $activeLabel.length > 1,\n                    isFirstLabel = labelIndex === 0,\n                    isLastLabel = labelIndex + 1 == labelCount,\n                    isSearch = module.is.searchSelection(),\n                    isFocusedOnSearch = module.is.focusedOnSearch(),\n                    isFocused = module.is.focused(),\n                    caretAtStart = isFocusedOnSearch && module.get.caretPosition() === 0,\n                    $nextLabel;\n\n                if (isSearch && !hasActiveLabel && !isFocusedOnSearch) {\n                  return;\n                }\n\n                if (pressedKey == keys.leftArrow) {\n                  // activate previous label\n                  if ((isFocused || caretAtStart) && !hasActiveLabel) {\n                    module.verbose('Selecting previous label');\n                    $label.last().addClass(className.active);\n                  } else if (hasActiveLabel) {\n                    if (!event.shiftKey) {\n                      module.verbose('Selecting previous label');\n                      $label.removeClass(className.active);\n                    } else {\n                      module.verbose('Adding previous label to selection');\n                    }\n\n                    if (isFirstLabel && !hasMultipleActive) {\n                      $activeLabel.addClass(className.active);\n                    } else {\n                      $activeLabel.prev(selector.siblingLabel).addClass(className.active).end();\n                    }\n\n                    event.preventDefault();\n                  }\n                } else if (pressedKey == keys.rightArrow) {\n                  // activate first label\n                  if (isFocused && !hasActiveLabel) {\n                    $label.first().addClass(className.active);\n                  } // activate next label\n\n\n                  if (hasActiveLabel) {\n                    if (!event.shiftKey) {\n                      module.verbose('Selecting next label');\n                      $label.removeClass(className.active);\n                    } else {\n                      module.verbose('Adding next label to selection');\n                    }\n\n                    if (isLastLabel) {\n                      if (isSearch) {\n                        if (!isFocusedOnSearch) {\n                          module.focusSearch();\n                        } else {\n                          $label.removeClass(className.active);\n                        }\n                      } else if (hasMultipleActive) {\n                        $activeLabel.next(selector.siblingLabel).addClass(className.active);\n                      } else {\n                        $activeLabel.addClass(className.active);\n                      }\n                    } else {\n                      $activeLabel.next(selector.siblingLabel).addClass(className.active);\n                    }\n\n                    event.preventDefault();\n                  }\n                } else if (pressedKey == keys.deleteKey || pressedKey == keys.backspace) {\n                  if (hasActiveLabel) {\n                    module.verbose('Removing active labels');\n\n                    if (isLastLabel) {\n                      if (isSearch && !isFocusedOnSearch) {\n                        module.focusSearch();\n                      }\n                    }\n\n                    $activeLabel.last().next(selector.siblingLabel).addClass(className.active);\n                    module.remove.activeLabels($activeLabel);\n                    event.preventDefault();\n                  } else if (caretAtStart && !hasActiveLabel && pressedKey == keys.backspace) {\n                    module.verbose('Removing last label on input backspace');\n                    $activeLabel = $label.last().addClass(className.active);\n                    module.remove.activeLabels($activeLabel);\n                  }\n                } else {\n                  $activeLabel.removeClass(className.active);\n                }\n              }\n            }\n          },\n          keydown: function (event) {\n            var pressedKey = event.which,\n                isShortcutKey = module.is.inObject(pressedKey, keys);\n\n            if (isShortcutKey) {\n              var $currentlySelected = $item.not(selector.unselectable).filter('.' + className.selected).eq(0),\n                  $activeItem = $menu.children('.' + className.active).eq(0),\n                  $selectedItem = $currentlySelected.length > 0 ? $currentlySelected : $activeItem,\n                  $visibleItems = $selectedItem.length > 0 ? $selectedItem.siblings(':not(.' + className.filtered + ')').addBack() : $menu.children(':not(.' + className.filtered + ')'),\n                  $subMenu = $selectedItem.children(selector.menu),\n                  $parentMenu = $selectedItem.closest(selector.menu),\n                  inVisibleMenu = $parentMenu.hasClass(className.visible) || $parentMenu.hasClass(className.animating) || $parentMenu.parent(selector.menu).length > 0,\n                  hasSubMenu = $subMenu.length > 0,\n                  hasSelectedItem = $selectedItem.length > 0,\n                  selectedIsSelectable = $selectedItem.not(selector.unselectable).length > 0,\n                  delimiterPressed = pressedKey == keys.delimiter && settings.allowAdditions && module.is.multiple(),\n                  isAdditionWithoutMenu = settings.allowAdditions && settings.hideAdditions && (pressedKey == keys.enter || delimiterPressed) && selectedIsSelectable,\n                  $nextItem,\n                  isSubMenuItem,\n                  newIndex; // allow selection with menu closed\n\n              if (isAdditionWithoutMenu) {\n                module.verbose('Selecting item from keyboard shortcut', $selectedItem);\n                module.event.item.click.call($selectedItem, event);\n\n                if (module.is.searchSelection()) {\n                  module.remove.searchTerm();\n                }\n              } // visible menu keyboard shortcuts\n\n\n              if (module.is.visible()) {\n                // enter (select or open sub-menu)\n                if (pressedKey == keys.enter || delimiterPressed) {\n                  if (pressedKey == keys.enter && hasSelectedItem && hasSubMenu && !settings.allowCategorySelection) {\n                    module.verbose('Pressed enter on unselectable category, opening sub menu');\n                    pressedKey = keys.rightArrow;\n                  } else if (selectedIsSelectable) {\n                    module.verbose('Selecting item from keyboard shortcut', $selectedItem);\n                    module.event.item.click.call($selectedItem, event);\n\n                    if (module.is.searchSelection()) {\n                      module.remove.searchTerm();\n                    }\n                  }\n\n                  event.preventDefault();\n                } // sub-menu actions\n\n\n                if (hasSelectedItem) {\n                  if (pressedKey == keys.leftArrow) {\n                    isSubMenuItem = $parentMenu[0] !== $menu[0];\n\n                    if (isSubMenuItem) {\n                      module.verbose('Left key pressed, closing sub-menu');\n                      module.animate.hide(false, $parentMenu);\n                      $selectedItem.removeClass(className.selected);\n                      $parentMenu.closest(selector.item).addClass(className.selected);\n                      event.preventDefault();\n                    }\n                  } // right arrow (show sub-menu)\n\n\n                  if (pressedKey == keys.rightArrow) {\n                    if (hasSubMenu) {\n                      module.verbose('Right key pressed, opening sub-menu');\n                      module.animate.show(false, $subMenu);\n                      $selectedItem.removeClass(className.selected);\n                      $subMenu.find(selector.item).eq(0).addClass(className.selected);\n                      event.preventDefault();\n                    }\n                  }\n                } // up arrow (traverse menu up)\n\n\n                if (pressedKey == keys.upArrow) {\n                  $nextItem = hasSelectedItem && inVisibleMenu ? $selectedItem.prevAll(selector.item + ':not(' + selector.unselectable + ')').eq(0) : $item.eq(0);\n\n                  if ($visibleItems.index($nextItem) < 0) {\n                    module.verbose('Up key pressed but reached top of current menu');\n                    event.preventDefault();\n                    return;\n                  } else {\n                    module.verbose('Up key pressed, changing active item');\n                    $selectedItem.removeClass(className.selected);\n                    $nextItem.addClass(className.selected);\n                    module.set.scrollPosition($nextItem);\n\n                    if (settings.selectOnKeydown && module.is.single()) {\n                      module.set.selectedItem($nextItem);\n                    }\n                  }\n\n                  event.preventDefault();\n                } // down arrow (traverse menu down)\n\n\n                if (pressedKey == keys.downArrow) {\n                  $nextItem = hasSelectedItem && inVisibleMenu ? $nextItem = $selectedItem.nextAll(selector.item + ':not(' + selector.unselectable + ')').eq(0) : $item.eq(0);\n\n                  if ($nextItem.length === 0) {\n                    module.verbose('Down key pressed but reached bottom of current menu');\n                    event.preventDefault();\n                    return;\n                  } else {\n                    module.verbose('Down key pressed, changing active item');\n                    $item.removeClass(className.selected);\n                    $nextItem.addClass(className.selected);\n                    module.set.scrollPosition($nextItem);\n\n                    if (settings.selectOnKeydown && module.is.single()) {\n                      module.set.selectedItem($nextItem);\n                    }\n                  }\n\n                  event.preventDefault();\n                } // page down (show next page)\n\n\n                if (pressedKey == keys.pageUp) {\n                  module.scrollPage('up');\n                  event.preventDefault();\n                }\n\n                if (pressedKey == keys.pageDown) {\n                  module.scrollPage('down');\n                  event.preventDefault();\n                } // escape (close menu)\n\n\n                if (pressedKey == keys.escape) {\n                  module.verbose('Escape key pressed, closing dropdown');\n                  module.hide();\n                }\n              } else {\n                // delimiter key\n                if (delimiterPressed) {\n                  event.preventDefault();\n                } // down arrow (open menu)\n\n\n                if (pressedKey == keys.downArrow && !module.is.visible()) {\n                  module.verbose('Down key pressed, showing dropdown');\n                  module.show();\n                  event.preventDefault();\n                }\n              }\n            } else {\n              if (!module.has.search()) {\n                module.set.selectedLetter(String.fromCharCode(pressedKey));\n              }\n            }\n          }\n        },\n        trigger: {\n          change: function () {\n            var events = document.createEvent('HTMLEvents'),\n                inputElement = $input[0];\n\n            if (inputElement) {\n              module.verbose('Triggering native change event');\n              events.initEvent('change', true, false);\n              inputElement.dispatchEvent(events);\n            }\n          }\n        },\n        determine: {\n          selectAction: function (text, value) {\n            module.verbose('Determining action', settings.action);\n\n            if ($.isFunction(module.action[settings.action])) {\n              module.verbose('Triggering preset action', settings.action, text, value);\n              module.action[settings.action].call(element, text, value, this);\n            } else if ($.isFunction(settings.action)) {\n              module.verbose('Triggering user action', settings.action, text, value);\n              settings.action.call(element, text, value, this);\n            } else {\n              module.error(error.action, settings.action);\n            }\n          },\n          eventInModule: function (event, callback) {\n            var $target = $(event.target),\n                inDocument = $target.closest(document.documentElement).length > 0,\n                inModule = $target.closest($module).length > 0;\n            callback = $.isFunction(callback) ? callback : function () {};\n\n            if (inDocument && !inModule) {\n              module.verbose('Triggering event', callback);\n              callback();\n              return true;\n            } else {\n              module.verbose('Event occurred in dropdown, canceling callback');\n              return false;\n            }\n          },\n          eventOnElement: function (event, callback) {\n            var $target = $(event.target),\n                $label = $target.closest(selector.siblingLabel),\n                inVisibleDOM = document.body.contains(event.target),\n                notOnLabel = $module.find($label).length === 0,\n                notInMenu = $target.closest($menu).length === 0;\n            callback = $.isFunction(callback) ? callback : function () {};\n\n            if (inVisibleDOM && notOnLabel && notInMenu) {\n              module.verbose('Triggering event', callback);\n              callback();\n              return true;\n            } else {\n              module.verbose('Event occurred in dropdown menu, canceling callback');\n              return false;\n            }\n          }\n        },\n        action: {\n          nothing: function () {},\n          activate: function (text, value, element) {\n            value = value !== undefined ? value : text;\n\n            if (module.can.activate($(element))) {\n              module.set.selected(value, $(element));\n\n              if (module.is.multiple() && !module.is.allFiltered()) {\n                return;\n              } else {\n                module.hideAndClear();\n              }\n            }\n          },\n          select: function (text, value, element) {\n            value = value !== undefined ? value : text;\n\n            if (module.can.activate($(element))) {\n              module.set.value(value, text, $(element));\n\n              if (module.is.multiple() && !module.is.allFiltered()) {\n                return;\n              } else {\n                module.hideAndClear();\n              }\n            }\n          },\n          combo: function (text, value, element) {\n            value = value !== undefined ? value : text;\n            module.set.selected(value, $(element));\n            module.hideAndClear();\n          },\n          hide: function (text, value, element) {\n            module.set.value(value, text);\n            module.hideAndClear();\n          }\n        },\n        get: {\n          id: function () {\n            return id;\n          },\n          defaultText: function () {\n            return $module.data(metadata.defaultText);\n          },\n          defaultValue: function () {\n            return $module.data(metadata.defaultValue);\n          },\n          placeholderText: function () {\n            if (settings.placeholder != 'auto' && typeof settings.placeholder == 'string') {\n              return settings.placeholder;\n            }\n\n            return $module.data(metadata.placeholderText) || '';\n          },\n          text: function () {\n            return $text.text();\n          },\n          query: function () {\n            return $.trim($search.val());\n          },\n          searchWidth: function (value) {\n            value = value !== undefined ? value : $search.val();\n            $sizer.text(value); // prevent rounding issues\n\n            return Math.ceil($sizer.width() + 1);\n          },\n          selectionCount: function () {\n            var values = module.get.values(),\n                count;\n            count = module.is.multiple() ? $.isArray(values) ? values.length : 0 : module.get.value() !== '' ? 1 : 0;\n            return count;\n          },\n          transition: function ($subMenu) {\n            return settings.transition == 'auto' ? module.is.upward($subMenu) ? 'slide up' : 'slide down' : settings.transition;\n          },\n          userValues: function () {\n            var values = module.get.values();\n\n            if (!values) {\n              return false;\n            }\n\n            values = $.isArray(values) ? values : [values];\n            return $.grep(values, function (value) {\n              return module.get.item(value) === false;\n            });\n          },\n          uniqueArray: function (array) {\n            return $.grep(array, function (value, index) {\n              return $.inArray(value, array) === index;\n            });\n          },\n          caretPosition: function () {\n            var input = $search.get(0),\n                range,\n                rangeLength;\n\n            if ('selectionStart' in input) {\n              return input.selectionStart;\n            } else if (document.selection) {\n              input.focus();\n              range = document.selection.createRange();\n              rangeLength = range.text.length;\n              range.moveStart('character', -input.value.length);\n              return range.text.length - rangeLength;\n            }\n          },\n          value: function () {\n            var value = $input.length > 0 ? $input.val() : $module.data(metadata.value),\n                isEmptyMultiselect = $.isArray(value) && value.length === 1 && value[0] === ''; // prevents placeholder element from being selected when multiple\n\n            return value === undefined || isEmptyMultiselect ? '' : value;\n          },\n          values: function () {\n            var value = module.get.value();\n\n            if (value === '') {\n              return '';\n            }\n\n            return !module.has.selectInput() && module.is.multiple() ? typeof value == 'string' ? // delimited string\n            value.split(settings.delimiter) : '' : value;\n          },\n          remoteValues: function () {\n            var values = module.get.values(),\n                remoteValues = false;\n\n            if (values) {\n              if (typeof values == 'string') {\n                values = [values];\n              }\n\n              $.each(values, function (index, value) {\n                var name = module.read.remoteData(value);\n                module.verbose('Restoring value from session data', name, value);\n\n                if (name) {\n                  if (!remoteValues) {\n                    remoteValues = {};\n                  }\n\n                  remoteValues[value] = name;\n                }\n              });\n            }\n\n            return remoteValues;\n          },\n          choiceText: function ($choice, preserveHTML) {\n            preserveHTML = preserveHTML !== undefined ? preserveHTML : settings.preserveHTML;\n\n            if ($choice) {\n              if ($choice.find(selector.menu).length > 0) {\n                module.verbose('Retrieving text of element with sub-menu');\n                $choice = $choice.clone();\n                $choice.find(selector.menu).remove();\n                $choice.find(selector.menuIcon).remove();\n              }\n\n              return $choice.data(metadata.text) !== undefined ? $choice.data(metadata.text) : preserveHTML ? $.trim($choice.html()) : $.trim($choice.text());\n            }\n          },\n          choiceValue: function ($choice, choiceText) {\n            choiceText = choiceText || module.get.choiceText($choice);\n\n            if (!$choice) {\n              return false;\n            }\n\n            return $choice.data(metadata.value) !== undefined ? String($choice.data(metadata.value)) : typeof choiceText === 'string' ? $.trim(choiceText.toLowerCase()) : String(choiceText);\n          },\n          inputEvent: function () {\n            var input = $search[0];\n\n            if (input) {\n              return input.oninput !== undefined ? 'input' : input.onpropertychange !== undefined ? 'propertychange' : 'keyup';\n            }\n\n            return false;\n          },\n          selectValues: function () {\n            var select = {};\n            select.values = [];\n            $module.find('option').each(function () {\n              var $option = $(this),\n                  name = $option.html(),\n                  disabled = $option.attr('disabled'),\n                  value = $option.attr('value') !== undefined ? $option.attr('value') : name;\n\n              if (settings.placeholder === 'auto' && value === '') {\n                select.placeholder = name;\n              } else {\n                select.values.push({\n                  name: name,\n                  value: value,\n                  disabled: disabled\n                });\n              }\n            });\n\n            if (settings.placeholder && settings.placeholder !== 'auto') {\n              module.debug('Setting placeholder value to', settings.placeholder);\n              select.placeholder = settings.placeholder;\n            }\n\n            if (settings.sortSelect) {\n              select.values.sort(function (a, b) {\n                return a.name > b.name ? 1 : -1;\n              });\n              module.debug('Retrieved and sorted values from select', select);\n            } else {\n              module.debug('Retrieved values from select', select);\n            }\n\n            return select;\n          },\n          activeItem: function () {\n            return $item.filter('.' + className.active);\n          },\n          selectedItem: function () {\n            var $selectedItem = $item.not(selector.unselectable).filter('.' + className.selected);\n            return $selectedItem.length > 0 ? $selectedItem : $item.eq(0);\n          },\n          itemWithAdditions: function (value) {\n            var $items = module.get.item(value),\n                $userItems = module.create.userChoice(value),\n                hasUserItems = $userItems && $userItems.length > 0;\n\n            if (hasUserItems) {\n              $items = $items.length > 0 ? $items.add($userItems) : $userItems;\n            }\n\n            return $items;\n          },\n          item: function (value, strict) {\n            var $selectedItem = false,\n                shouldSearch,\n                isMultiple;\n            value = value !== undefined ? value : module.get.values() !== undefined ? module.get.values() : module.get.text();\n            shouldSearch = isMultiple ? value.length > 0 : value !== undefined && value !== null;\n            isMultiple = module.is.multiple() && $.isArray(value);\n            strict = value === '' || value === 0 ? true : strict || false;\n\n            if (shouldSearch) {\n              $item.each(function () {\n                var $choice = $(this),\n                    optionText = module.get.choiceText($choice),\n                    optionValue = module.get.choiceValue($choice, optionText); // safe early exit\n\n                if (optionValue === null || optionValue === undefined) {\n                  return;\n                }\n\n                if (isMultiple) {\n                  if ($.inArray(String(optionValue), value) !== -1 || $.inArray(optionText, value) !== -1) {\n                    $selectedItem = $selectedItem ? $selectedItem.add($choice) : $choice;\n                  }\n                } else if (strict) {\n                  module.verbose('Ambiguous dropdown value using strict type check', $choice, value);\n\n                  if (optionValue === value || optionText === value) {\n                    $selectedItem = $choice;\n                    return true;\n                  }\n                } else {\n                  if (String(optionValue) == String(value) || optionText == value) {\n                    module.verbose('Found select item by value', optionValue, value);\n                    $selectedItem = $choice;\n                    return true;\n                  }\n                }\n              });\n            }\n\n            return $selectedItem;\n          }\n        },\n        check: {\n          maxSelections: function (selectionCount) {\n            if (settings.maxSelections) {\n              selectionCount = selectionCount !== undefined ? selectionCount : module.get.selectionCount();\n\n              if (selectionCount >= settings.maxSelections) {\n                module.debug('Maximum selection count reached');\n\n                if (settings.useLabels) {\n                  $item.addClass(className.filtered);\n                  module.add.message(message.maxSelections);\n                }\n\n                return true;\n              } else {\n                module.verbose('No longer at maximum selection count');\n                module.remove.message();\n                module.remove.filteredItem();\n\n                if (module.is.searchSelection()) {\n                  module.filterItems();\n                }\n\n                return false;\n              }\n            }\n\n            return true;\n          }\n        },\n        restore: {\n          defaults: function () {\n            module.clear();\n            module.restore.defaultText();\n            module.restore.defaultValue();\n          },\n          defaultText: function () {\n            var defaultText = module.get.defaultText(),\n                placeholderText = module.get.placeholderText;\n\n            if (defaultText === placeholderText) {\n              module.debug('Restoring default placeholder text', defaultText);\n              module.set.placeholderText(defaultText);\n            } else {\n              module.debug('Restoring default text', defaultText);\n              module.set.text(defaultText);\n            }\n          },\n          placeholderText: function () {\n            module.set.placeholderText();\n          },\n          defaultValue: function () {\n            var defaultValue = module.get.defaultValue();\n\n            if (defaultValue !== undefined) {\n              module.debug('Restoring default value', defaultValue);\n\n              if (defaultValue !== '') {\n                module.set.value(defaultValue);\n                module.set.selected();\n              } else {\n                module.remove.activeItem();\n                module.remove.selectedItem();\n              }\n            }\n          },\n          labels: function () {\n            if (settings.allowAdditions) {\n              if (!settings.useLabels) {\n                module.error(error.labels);\n                settings.useLabels = true;\n              }\n\n              module.debug('Restoring selected values');\n              module.create.userLabels();\n            }\n\n            module.check.maxSelections();\n          },\n          selected: function () {\n            module.restore.values();\n\n            if (module.is.multiple()) {\n              module.debug('Restoring previously selected values and labels');\n              module.restore.labels();\n            } else {\n              module.debug('Restoring previously selected values');\n            }\n          },\n          values: function () {\n            // prevents callbacks from occurring on initial load\n            module.set.initialLoad();\n\n            if (settings.apiSettings && settings.saveRemoteData && module.get.remoteValues()) {\n              module.restore.remoteValues();\n            } else {\n              module.set.selected();\n            }\n\n            module.remove.initialLoad();\n          },\n          remoteValues: function () {\n            var values = module.get.remoteValues();\n            module.debug('Recreating selected from session data', values);\n\n            if (values) {\n              if (module.is.single()) {\n                $.each(values, function (value, name) {\n                  module.set.text(name);\n                });\n              } else {\n                $.each(values, function (value, name) {\n                  module.add.label(value, name);\n                });\n              }\n            }\n          }\n        },\n        read: {\n          remoteData: function (value) {\n            var name;\n\n            if (window.Storage === undefined) {\n              module.error(error.noStorage);\n              return;\n            }\n\n            name = sessionStorage.getItem(value);\n            return name !== undefined ? name : false;\n          }\n        },\n        save: {\n          defaults: function () {\n            module.save.defaultText();\n            module.save.placeholderText();\n            module.save.defaultValue();\n          },\n          defaultValue: function () {\n            var value = module.get.value();\n            module.verbose('Saving default value as', value);\n            $module.data(metadata.defaultValue, value);\n          },\n          defaultText: function () {\n            var text = module.get.text();\n            module.verbose('Saving default text as', text);\n            $module.data(metadata.defaultText, text);\n          },\n          placeholderText: function () {\n            var text;\n\n            if (settings.placeholder !== false && $text.hasClass(className.placeholder)) {\n              text = module.get.text();\n              module.verbose('Saving placeholder text as', text);\n              $module.data(metadata.placeholderText, text);\n            }\n          },\n          remoteData: function (name, value) {\n            if (window.Storage === undefined) {\n              module.error(error.noStorage);\n              return;\n            }\n\n            module.verbose('Saving remote data to session storage', value, name);\n            sessionStorage.setItem(value, name);\n          }\n        },\n        clear: function () {\n          if (module.is.multiple() && settings.useLabels) {\n            module.remove.labels();\n          } else {\n            module.remove.activeItem();\n            module.remove.selectedItem();\n          }\n\n          module.set.placeholderText();\n          module.clearValue();\n        },\n        clearValue: function () {\n          module.set.value('');\n        },\n        scrollPage: function (direction, $selectedItem) {\n          var $currentItem = $selectedItem || module.get.selectedItem(),\n              $menu = $currentItem.closest(selector.menu),\n              menuHeight = $menu.outerHeight(),\n              currentScroll = $menu.scrollTop(),\n              itemHeight = $item.eq(0).outerHeight(),\n              itemsPerPage = Math.floor(menuHeight / itemHeight),\n              maxScroll = $menu.prop('scrollHeight'),\n              newScroll = direction == 'up' ? currentScroll - itemHeight * itemsPerPage : currentScroll + itemHeight * itemsPerPage,\n              $selectableItem = $item.not(selector.unselectable),\n              isWithinRange,\n              $nextSelectedItem,\n              elementIndex;\n          elementIndex = direction == 'up' ? $selectableItem.index($currentItem) - itemsPerPage : $selectableItem.index($currentItem) + itemsPerPage;\n          isWithinRange = direction == 'up' ? elementIndex >= 0 : elementIndex < $selectableItem.length;\n          $nextSelectedItem = isWithinRange ? $selectableItem.eq(elementIndex) : direction == 'up' ? $selectableItem.first() : $selectableItem.last();\n\n          if ($nextSelectedItem.length > 0) {\n            module.debug('Scrolling page', direction, $nextSelectedItem);\n            $currentItem.removeClass(className.selected);\n            $nextSelectedItem.addClass(className.selected);\n\n            if (settings.selectOnKeydown && module.is.single()) {\n              module.set.selectedItem($nextSelectedItem);\n            }\n\n            $menu.scrollTop(newScroll);\n          }\n        },\n        set: {\n          filtered: function () {\n            var isMultiple = module.is.multiple(),\n                isSearch = module.is.searchSelection(),\n                isSearchMultiple = isMultiple && isSearch,\n                searchValue = isSearch ? module.get.query() : '',\n                hasSearchValue = typeof searchValue === 'string' && searchValue.length > 0,\n                searchWidth = module.get.searchWidth(),\n                valueIsSet = searchValue !== '';\n\n            if (isMultiple && hasSearchValue) {\n              module.verbose('Adjusting input width', searchWidth, settings.glyphWidth);\n              $search.css('width', searchWidth);\n            }\n\n            if (hasSearchValue || isSearchMultiple && valueIsSet) {\n              module.verbose('Hiding placeholder text');\n              $text.addClass(className.filtered);\n            } else if (!isMultiple || isSearchMultiple && !valueIsSet) {\n              module.verbose('Showing placeholder text');\n              $text.removeClass(className.filtered);\n            }\n          },\n          empty: function () {\n            $module.addClass(className.empty);\n          },\n          loading: function () {\n            $module.addClass(className.loading);\n          },\n          placeholderText: function (text) {\n            text = text || module.get.placeholderText();\n            module.debug('Setting placeholder text', text);\n            module.set.text(text);\n            $text.addClass(className.placeholder);\n          },\n          tabbable: function () {\n            if (module.is.searchSelection()) {\n              module.debug('Added tabindex to searchable dropdown');\n              $search.val('').attr('tabindex', 0);\n              $menu.attr('tabindex', -1);\n            } else {\n              module.debug('Added tabindex to dropdown');\n\n              if ($module.attr('tabindex') === undefined) {\n                $module.attr('tabindex', 0);\n                $menu.attr('tabindex', -1);\n              }\n            }\n          },\n          initialLoad: function () {\n            module.verbose('Setting initial load');\n            initialLoad = true;\n          },\n          activeItem: function ($item) {\n            if (settings.allowAdditions && $item.filter(selector.addition).length > 0) {\n              $item.addClass(className.filtered);\n            } else {\n              $item.addClass(className.active);\n            }\n          },\n          partialSearch: function (text) {\n            var length = module.get.query().length;\n            $search.val(text.substr(0, length));\n          },\n          scrollPosition: function ($item, forceScroll) {\n            var edgeTolerance = 5,\n                $menu,\n                hasActive,\n                offset,\n                itemHeight,\n                itemOffset,\n                menuOffset,\n                menuScroll,\n                menuHeight,\n                abovePage,\n                belowPage;\n            $item = $item || module.get.selectedItem();\n            $menu = $item.closest(selector.menu);\n            hasActive = $item && $item.length > 0;\n            forceScroll = forceScroll !== undefined ? forceScroll : false;\n\n            if ($item && $menu.length > 0 && hasActive) {\n              itemOffset = $item.position().top;\n              $menu.addClass(className.loading);\n              menuScroll = $menu.scrollTop();\n              menuOffset = $menu.offset().top;\n              itemOffset = $item.offset().top;\n              offset = menuScroll - menuOffset + itemOffset;\n\n              if (!forceScroll) {\n                menuHeight = $menu.height();\n                belowPage = menuScroll + menuHeight < offset + edgeTolerance;\n                abovePage = offset - edgeTolerance < menuScroll;\n              }\n\n              module.debug('Scrolling to active item', offset);\n\n              if (forceScroll || abovePage || belowPage) {\n                $menu.scrollTop(offset);\n              }\n\n              $menu.removeClass(className.loading);\n            }\n          },\n          text: function (text) {\n            if (settings.action !== 'select') {\n              if (settings.action == 'combo') {\n                module.debug('Changing combo button text', text, $combo);\n\n                if (settings.preserveHTML) {\n                  $combo.html(text);\n                } else {\n                  $combo.text(text);\n                }\n              } else {\n                if (text !== module.get.placeholderText()) {\n                  $text.removeClass(className.placeholder);\n                }\n\n                module.debug('Changing text', text, $text);\n                $text.removeClass(className.filtered);\n\n                if (settings.preserveHTML) {\n                  $text.html(text);\n                } else {\n                  $text.text(text);\n                }\n              }\n            }\n          },\n          selectedItem: function ($item) {\n            var value = module.get.choiceValue($item),\n                searchText = module.get.choiceText($item, false),\n                text = module.get.choiceText($item, true);\n            module.debug('Setting user selection to item', $item);\n            module.remove.activeItem();\n            module.set.partialSearch(searchText);\n            module.set.activeItem($item);\n            module.set.selected(value, $item);\n            module.set.text(text);\n          },\n          selectedLetter: function (letter) {\n            var $selectedItem = $item.filter('.' + className.selected),\n                alreadySelectedLetter = $selectedItem.length > 0 && module.has.firstLetter($selectedItem, letter),\n                $nextValue = false,\n                $nextItem; // check next of same letter\n\n            if (alreadySelectedLetter) {\n              $nextItem = $selectedItem.nextAll($item).eq(0);\n\n              if (module.has.firstLetter($nextItem, letter)) {\n                $nextValue = $nextItem;\n              }\n            } // check all values\n\n\n            if (!$nextValue) {\n              $item.each(function () {\n                if (module.has.firstLetter($(this), letter)) {\n                  $nextValue = $(this);\n                  return false;\n                }\n              });\n            } // set next value\n\n\n            if ($nextValue) {\n              module.verbose('Scrolling to next value with letter', letter);\n              module.set.scrollPosition($nextValue);\n              $selectedItem.removeClass(className.selected);\n              $nextValue.addClass(className.selected);\n\n              if (settings.selectOnKeydown && module.is.single()) {\n                module.set.selectedItem($nextValue);\n              }\n            }\n          },\n          direction: function ($menu) {\n            if (settings.direction == 'auto') {\n              // reset position\n              module.remove.upward();\n\n              if (module.can.openDownward($menu)) {\n                module.remove.upward($menu);\n              } else {\n                module.set.upward($menu);\n              }\n\n              if (!module.is.leftward($menu) && !module.can.openRightward($menu)) {\n                module.set.leftward($menu);\n              }\n            } else if (settings.direction == 'upward') {\n              module.set.upward($menu);\n            }\n          },\n          upward: function ($currentMenu) {\n            var $element = $currentMenu || $module;\n            $element.addClass(className.upward);\n          },\n          leftward: function ($currentMenu) {\n            var $element = $currentMenu || $menu;\n            $element.addClass(className.leftward);\n          },\n          value: function (value, text, $selected) {\n            var escapedValue = module.escape.value(value),\n                hasInput = $input.length > 0,\n                currentValue = module.get.values(),\n                stringValue = value !== undefined ? String(value) : value,\n                newValue;\n\n            if (hasInput) {\n              if (!settings.allowReselection && stringValue == currentValue) {\n                module.verbose('Skipping value update already same value', value, currentValue);\n\n                if (!module.is.initialLoad()) {\n                  return;\n                }\n              }\n\n              if (module.is.single() && module.has.selectInput() && module.can.extendSelect()) {\n                module.debug('Adding user option', value);\n                module.add.optionValue(value);\n              }\n\n              module.debug('Updating input value', escapedValue, currentValue);\n              internalChange = true;\n              $input.val(escapedValue);\n\n              if (settings.fireOnInit === false && module.is.initialLoad()) {\n                module.debug('Input native change event ignored on initial load');\n              } else {\n                module.trigger.change();\n              }\n\n              internalChange = false;\n            } else {\n              module.verbose('Storing value in metadata', escapedValue, $input);\n\n              if (escapedValue !== currentValue) {\n                $module.data(metadata.value, stringValue);\n              }\n            }\n\n            if (settings.fireOnInit === false && module.is.initialLoad()) {\n              module.verbose('No callback on initial load', settings.onChange);\n            } else {\n              settings.onChange.call(element, value, text, $selected);\n            }\n          },\n          active: function () {\n            $module.addClass(className.active);\n          },\n          multiple: function () {\n            $module.addClass(className.multiple);\n          },\n          visible: function () {\n            $module.addClass(className.visible);\n          },\n          exactly: function (value, $selectedItem) {\n            module.debug('Setting selected to exact values');\n            module.clear();\n            module.set.selected(value, $selectedItem);\n          },\n          selected: function (value, $selectedItem) {\n            var isMultiple = module.is.multiple(),\n                $userSelectedItem;\n            $selectedItem = settings.allowAdditions ? $selectedItem || module.get.itemWithAdditions(value) : $selectedItem || module.get.item(value);\n\n            if (!$selectedItem) {\n              return;\n            }\n\n            module.debug('Setting selected menu item to', $selectedItem);\n\n            if (module.is.multiple()) {\n              module.remove.searchWidth();\n            }\n\n            if (module.is.single()) {\n              module.remove.activeItem();\n              module.remove.selectedItem();\n            } else if (settings.useLabels) {\n              module.remove.selectedItem();\n            } // select each item\n\n\n            $selectedItem.each(function () {\n              var $selected = $(this),\n                  selectedText = module.get.choiceText($selected),\n                  selectedValue = module.get.choiceValue($selected, selectedText),\n                  isFiltered = $selected.hasClass(className.filtered),\n                  isActive = $selected.hasClass(className.active),\n                  isUserValue = $selected.hasClass(className.addition),\n                  shouldAnimate = isMultiple && $selectedItem.length == 1;\n\n              if (isMultiple) {\n                if (!isActive || isUserValue) {\n                  if (settings.apiSettings && settings.saveRemoteData) {\n                    module.save.remoteData(selectedText, selectedValue);\n                  }\n\n                  if (settings.useLabels) {\n                    module.add.label(selectedValue, selectedText, shouldAnimate);\n                    module.add.value(selectedValue, selectedText, $selected);\n                    module.set.activeItem($selected);\n                    module.filterActive();\n                    module.select.nextAvailable($selectedItem);\n                  } else {\n                    module.add.value(selectedValue, selectedText, $selected);\n                    module.set.text(module.add.variables(message.count));\n                    module.set.activeItem($selected);\n                  }\n                } else if (!isFiltered) {\n                  module.debug('Selected active value, removing label');\n                  module.remove.selected(selectedValue);\n                }\n              } else {\n                if (settings.apiSettings && settings.saveRemoteData) {\n                  module.save.remoteData(selectedText, selectedValue);\n                }\n\n                module.set.text(selectedText);\n                module.set.value(selectedValue, selectedText, $selected);\n                $selected.addClass(className.active).addClass(className.selected);\n              }\n            });\n          }\n        },\n        add: {\n          label: function (value, text, shouldAnimate) {\n            var $next = module.is.searchSelection() ? $search : $text,\n                escapedValue = module.escape.value(value),\n                $label;\n\n            if (settings.ignoreCase) {\n              escapedValue = escapedValue.toLowerCase();\n            }\n\n            $label = $('<a />').addClass(className.label).attr('data-' + metadata.value, escapedValue).html(templates.label(escapedValue, text));\n            $label = settings.onLabelCreate.call($label, escapedValue, text);\n\n            if (module.has.label(value)) {\n              module.debug('User selection already exists, skipping', escapedValue);\n              return;\n            }\n\n            if (settings.label.variation) {\n              $label.addClass(settings.label.variation);\n            }\n\n            if (shouldAnimate === true) {\n              module.debug('Animating in label', $label);\n              $label.addClass(className.hidden).insertBefore($next).transition(settings.label.transition, settings.label.duration);\n            } else {\n              module.debug('Adding selection label', $label);\n              $label.insertBefore($next);\n            }\n          },\n          message: function (message) {\n            var $message = $menu.children(selector.message),\n                html = settings.templates.message(module.add.variables(message));\n\n            if ($message.length > 0) {\n              $message.html(html);\n            } else {\n              $message = $('<div/>').html(html).addClass(className.message).appendTo($menu);\n            }\n          },\n          optionValue: function (value) {\n            var escapedValue = module.escape.value(value),\n                $option = $input.find('option[value=\"' + module.escape.string(escapedValue) + '\"]'),\n                hasOption = $option.length > 0;\n\n            if (hasOption) {\n              return;\n            } // temporarily disconnect observer\n\n\n            module.disconnect.selectObserver();\n\n            if (module.is.single()) {\n              module.verbose('Removing previous user addition');\n              $input.find('option.' + className.addition).remove();\n            }\n\n            $('<option/>').prop('value', escapedValue).addClass(className.addition).html(value).appendTo($input);\n            module.verbose('Adding user addition as an <option>', value);\n            module.observe.select();\n          },\n          userSuggestion: function (value) {\n            var $addition = $menu.children(selector.addition),\n                $existingItem = module.get.item(value),\n                alreadyHasValue = $existingItem && $existingItem.not(selector.addition).length,\n                hasUserSuggestion = $addition.length > 0,\n                html;\n\n            if (settings.useLabels && module.has.maxSelections()) {\n              return;\n            }\n\n            if (value === '' || alreadyHasValue) {\n              $addition.remove();\n              return;\n            }\n\n            if (hasUserSuggestion) {\n              $addition.data(metadata.value, value).data(metadata.text, value).attr('data-' + metadata.value, value).attr('data-' + metadata.text, value).removeClass(className.filtered);\n\n              if (!settings.hideAdditions) {\n                html = settings.templates.addition(module.add.variables(message.addResult, value));\n                $addition.html(html);\n              }\n\n              module.verbose('Replacing user suggestion with new value', $addition);\n            } else {\n              $addition = module.create.userChoice(value);\n              $addition.prependTo($menu);\n              module.verbose('Adding item choice to menu corresponding with user choice addition', $addition);\n            }\n\n            if (!settings.hideAdditions || module.is.allFiltered()) {\n              $addition.addClass(className.selected).siblings().removeClass(className.selected);\n            }\n\n            module.refreshItems();\n          },\n          variables: function (message, term) {\n            var hasCount = message.search('{count}') !== -1,\n                hasMaxCount = message.search('{maxCount}') !== -1,\n                hasTerm = message.search('{term}') !== -1,\n                values,\n                count,\n                query;\n            module.verbose('Adding templated variables to message', message);\n\n            if (hasCount) {\n              count = module.get.selectionCount();\n              message = message.replace('{count}', count);\n            }\n\n            if (hasMaxCount) {\n              count = module.get.selectionCount();\n              message = message.replace('{maxCount}', settings.maxSelections);\n            }\n\n            if (hasTerm) {\n              query = term || module.get.query();\n              message = message.replace('{term}', query);\n            }\n\n            return message;\n          },\n          value: function (addedValue, addedText, $selectedItem) {\n            var currentValue = module.get.values(),\n                newValue;\n\n            if (module.has.value(addedValue)) {\n              module.debug('Value already selected');\n              return;\n            }\n\n            if (addedValue === '') {\n              module.debug('Cannot select blank values from multiselect');\n              return;\n            } // extend current array\n\n\n            if ($.isArray(currentValue)) {\n              newValue = currentValue.concat([addedValue]);\n              newValue = module.get.uniqueArray(newValue);\n            } else {\n              newValue = [addedValue];\n            } // add values\n\n\n            if (module.has.selectInput()) {\n              if (module.can.extendSelect()) {\n                module.debug('Adding value to select', addedValue, newValue, $input);\n                module.add.optionValue(addedValue);\n              }\n            } else {\n              newValue = newValue.join(settings.delimiter);\n              module.debug('Setting hidden input to delimited value', newValue, $input);\n            }\n\n            if (settings.fireOnInit === false && module.is.initialLoad()) {\n              module.verbose('Skipping onadd callback on initial load', settings.onAdd);\n            } else {\n              settings.onAdd.call(element, addedValue, addedText, $selectedItem);\n            }\n\n            module.set.value(newValue, addedValue, addedText, $selectedItem);\n            module.check.maxSelections();\n          }\n        },\n        remove: {\n          active: function () {\n            $module.removeClass(className.active);\n          },\n          activeLabel: function () {\n            $module.find(selector.label).removeClass(className.active);\n          },\n          empty: function () {\n            $module.removeClass(className.empty);\n          },\n          loading: function () {\n            $module.removeClass(className.loading);\n          },\n          initialLoad: function () {\n            initialLoad = false;\n          },\n          upward: function ($currentMenu) {\n            var $element = $currentMenu || $module;\n            $element.removeClass(className.upward);\n          },\n          leftward: function ($currentMenu) {\n            var $element = $currentMenu || $menu;\n            $element.removeClass(className.leftward);\n          },\n          visible: function () {\n            $module.removeClass(className.visible);\n          },\n          activeItem: function () {\n            $item.removeClass(className.active);\n          },\n          filteredItem: function () {\n            if (settings.useLabels && module.has.maxSelections()) {\n              return;\n            }\n\n            if (settings.useLabels && module.is.multiple()) {\n              $item.not('.' + className.active).removeClass(className.filtered);\n            } else {\n              $item.removeClass(className.filtered);\n            }\n\n            module.remove.empty();\n          },\n          optionValue: function (value) {\n            var escapedValue = module.escape.value(value),\n                $option = $input.find('option[value=\"' + module.escape.string(escapedValue) + '\"]'),\n                hasOption = $option.length > 0;\n\n            if (!hasOption || !$option.hasClass(className.addition)) {\n              return;\n            } // temporarily disconnect observer\n\n\n            if (selectObserver) {\n              selectObserver.disconnect();\n              module.verbose('Temporarily disconnecting mutation observer');\n            }\n\n            $option.remove();\n            module.verbose('Removing user addition as an <option>', escapedValue);\n\n            if (selectObserver) {\n              selectObserver.observe($input[0], {\n                childList: true,\n                subtree: true\n              });\n            }\n          },\n          message: function () {\n            $menu.children(selector.message).remove();\n          },\n          searchWidth: function () {\n            $search.css('width', '');\n          },\n          searchTerm: function () {\n            module.verbose('Cleared search term');\n            $search.val('');\n            module.set.filtered();\n          },\n          userAddition: function () {\n            $item.filter(selector.addition).remove();\n          },\n          selected: function (value, $selectedItem) {\n            $selectedItem = settings.allowAdditions ? $selectedItem || module.get.itemWithAdditions(value) : $selectedItem || module.get.item(value);\n\n            if (!$selectedItem) {\n              return false;\n            }\n\n            $selectedItem.each(function () {\n              var $selected = $(this),\n                  selectedText = module.get.choiceText($selected),\n                  selectedValue = module.get.choiceValue($selected, selectedText);\n\n              if (module.is.multiple()) {\n                if (settings.useLabels) {\n                  module.remove.value(selectedValue, selectedText, $selected);\n                  module.remove.label(selectedValue);\n                } else {\n                  module.remove.value(selectedValue, selectedText, $selected);\n\n                  if (module.get.selectionCount() === 0) {\n                    module.set.placeholderText();\n                  } else {\n                    module.set.text(module.add.variables(message.count));\n                  }\n                }\n              } else {\n                module.remove.value(selectedValue, selectedText, $selected);\n              }\n\n              $selected.removeClass(className.filtered).removeClass(className.active);\n\n              if (settings.useLabels) {\n                $selected.removeClass(className.selected);\n              }\n            });\n          },\n          selectedItem: function () {\n            $item.removeClass(className.selected);\n          },\n          value: function (removedValue, removedText, $removedItem) {\n            var values = module.get.values(),\n                newValue;\n\n            if (module.has.selectInput()) {\n              module.verbose('Input is <select> removing selected option', removedValue);\n              newValue = module.remove.arrayValue(removedValue, values);\n              module.remove.optionValue(removedValue);\n            } else {\n              module.verbose('Removing from delimited values', removedValue);\n              newValue = module.remove.arrayValue(removedValue, values);\n              newValue = newValue.join(settings.delimiter);\n            }\n\n            if (settings.fireOnInit === false && module.is.initialLoad()) {\n              module.verbose('No callback on initial load', settings.onRemove);\n            } else {\n              settings.onRemove.call(element, removedValue, removedText, $removedItem);\n            }\n\n            module.set.value(newValue, removedText, $removedItem);\n            module.check.maxSelections();\n          },\n          arrayValue: function (removedValue, values) {\n            if (!$.isArray(values)) {\n              values = [values];\n            }\n\n            values = $.grep(values, function (value) {\n              return removedValue != value;\n            });\n            module.verbose('Removed value from delimited string', removedValue, values);\n            return values;\n          },\n          label: function (value, shouldAnimate) {\n            var $labels = $module.find(selector.label),\n                $removedLabel = $labels.filter('[data-' + metadata.value + '=\"' + module.escape.string(value) + '\"]');\n            module.verbose('Removing label', $removedLabel);\n            $removedLabel.remove();\n          },\n          activeLabels: function ($activeLabels) {\n            $activeLabels = $activeLabels || $module.find(selector.label).filter('.' + className.active);\n            module.verbose('Removing active label selections', $activeLabels);\n            module.remove.labels($activeLabels);\n          },\n          labels: function ($labels) {\n            $labels = $labels || $module.find(selector.label);\n            module.verbose('Removing labels', $labels);\n            $labels.each(function () {\n              var $label = $(this),\n                  value = $label.data(metadata.value),\n                  stringValue = value !== undefined ? String(value) : value,\n                  isUserValue = module.is.userValue(stringValue);\n\n              if (settings.onLabelRemove.call($label, value) === false) {\n                module.debug('Label remove callback cancelled removal');\n                return;\n              }\n\n              module.remove.message();\n\n              if (isUserValue) {\n                module.remove.value(stringValue);\n                module.remove.label(stringValue);\n              } else {\n                // selected will also remove label\n                module.remove.selected(stringValue);\n              }\n            });\n          },\n          tabbable: function () {\n            if (module.is.searchSelection()) {\n              module.debug('Searchable dropdown initialized');\n              $search.removeAttr('tabindex');\n              $menu.removeAttr('tabindex');\n            } else {\n              module.debug('Simple selection dropdown initialized');\n              $module.removeAttr('tabindex');\n              $menu.removeAttr('tabindex');\n            }\n          }\n        },\n        has: {\n          menuSearch: function () {\n            return module.has.search() && $search.closest($menu).length > 0;\n          },\n          search: function () {\n            return $search.length > 0;\n          },\n          sizer: function () {\n            return $sizer.length > 0;\n          },\n          selectInput: function () {\n            return $input.is('select');\n          },\n          minCharacters: function (searchTerm) {\n            if (settings.minCharacters) {\n              searchTerm = searchTerm !== undefined ? String(searchTerm) : String(module.get.query());\n              return searchTerm.length >= settings.minCharacters;\n            }\n\n            return true;\n          },\n          firstLetter: function ($item, letter) {\n            var text, firstLetter;\n\n            if (!$item || $item.length === 0 || typeof letter !== 'string') {\n              return false;\n            }\n\n            text = module.get.choiceText($item, false);\n            letter = letter.toLowerCase();\n            firstLetter = String(text).charAt(0).toLowerCase();\n            return letter == firstLetter;\n          },\n          input: function () {\n            return $input.length > 0;\n          },\n          items: function () {\n            return $item.length > 0;\n          },\n          menu: function () {\n            return $menu.length > 0;\n          },\n          message: function () {\n            return $menu.children(selector.message).length !== 0;\n          },\n          label: function (value) {\n            var escapedValue = module.escape.value(value),\n                $labels = $module.find(selector.label);\n\n            if (settings.ignoreCase) {\n              escapedValue = escapedValue.toLowerCase();\n            }\n\n            return $labels.filter('[data-' + metadata.value + '=\"' + module.escape.string(escapedValue) + '\"]').length > 0;\n          },\n          maxSelections: function () {\n            return settings.maxSelections && module.get.selectionCount() >= settings.maxSelections;\n          },\n          allResultsFiltered: function () {\n            var $normalResults = $item.not(selector.addition);\n            return $normalResults.filter(selector.unselectable).length === $normalResults.length;\n          },\n          userSuggestion: function () {\n            return $menu.children(selector.addition).length > 0;\n          },\n          query: function () {\n            return module.get.query() !== '';\n          },\n          value: function (value) {\n            return settings.ignoreCase ? module.has.valueIgnoringCase(value) : module.has.valueMatchingCase(value);\n          },\n          valueMatchingCase: function (value) {\n            var values = module.get.values(),\n                hasValue = $.isArray(values) ? values && $.inArray(value, values) !== -1 : values == value;\n            return hasValue ? true : false;\n          },\n          valueIgnoringCase: function (value) {\n            var values = module.get.values(),\n                hasValue = false;\n\n            if (!$.isArray(values)) {\n              values = [values];\n            }\n\n            $.each(values, function (index, existingValue) {\n              if (String(value).toLowerCase() == String(existingValue).toLowerCase()) {\n                hasValue = true;\n                return false;\n              }\n            });\n            return hasValue;\n          }\n        },\n        is: {\n          active: function () {\n            return $module.hasClass(className.active);\n          },\n          animatingInward: function () {\n            return $menu.transition('is inward');\n          },\n          animatingOutward: function () {\n            return $menu.transition('is outward');\n          },\n          bubbledLabelClick: function (event) {\n            return $(event.target).is('select, input') && $module.closest('label').length > 0;\n          },\n          bubbledIconClick: function (event) {\n            return $(event.target).closest($icon).length > 0;\n          },\n          alreadySetup: function () {\n            return $module.is('select') && $module.parent(selector.dropdown).data(moduleNamespace) !== undefined && $module.prev().length === 0;\n          },\n          animating: function ($subMenu) {\n            return $subMenu ? $subMenu.transition && $subMenu.transition('is animating') : $menu.transition && $menu.transition('is animating');\n          },\n          leftward: function ($subMenu) {\n            var $selectedMenu = $subMenu || $menu;\n            return $selectedMenu.hasClass(className.leftward);\n          },\n          disabled: function () {\n            return $module.hasClass(className.disabled);\n          },\n          focused: function () {\n            return document.activeElement === $module[0];\n          },\n          focusedOnSearch: function () {\n            return document.activeElement === $search[0];\n          },\n          allFiltered: function () {\n            return (module.is.multiple() || module.has.search()) && !(settings.hideAdditions == false && module.has.userSuggestion()) && !module.has.message() && module.has.allResultsFiltered();\n          },\n          hidden: function ($subMenu) {\n            return !module.is.visible($subMenu);\n          },\n          initialLoad: function () {\n            return initialLoad;\n          },\n          inObject: function (needle, object) {\n            var found = false;\n            $.each(object, function (index, property) {\n              if (property == needle) {\n                found = true;\n                return true;\n              }\n            });\n            return found;\n          },\n          multiple: function () {\n            return $module.hasClass(className.multiple);\n          },\n          remote: function () {\n            return settings.apiSettings && module.can.useAPI();\n          },\n          single: function () {\n            return !module.is.multiple();\n          },\n          selectMutation: function (mutations) {\n            var selectChanged = false;\n            $.each(mutations, function (index, mutation) {\n              if (mutation.target && $(mutation.target).is('select')) {\n                selectChanged = true;\n                return true;\n              }\n            });\n            return selectChanged;\n          },\n          search: function () {\n            return $module.hasClass(className.search);\n          },\n          searchSelection: function () {\n            return module.has.search() && $search.parent(selector.dropdown).length === 1;\n          },\n          selection: function () {\n            return $module.hasClass(className.selection);\n          },\n          userValue: function (value) {\n            return $.inArray(value, module.get.userValues()) !== -1;\n          },\n          upward: function ($menu) {\n            var $element = $menu || $module;\n            return $element.hasClass(className.upward);\n          },\n          visible: function ($subMenu) {\n            return $subMenu ? $subMenu.hasClass(className.visible) : $menu.hasClass(className.visible);\n          },\n          verticallyScrollableContext: function () {\n            var overflowY = $context.get(0) !== window ? $context.css('overflow-y') : false;\n            return overflowY == 'auto' || overflowY == 'scroll';\n          },\n          horizontallyScrollableContext: function () {\n            var overflowX = $context.get(0) !== window ? $context.css('overflow-X') : false;\n            return overflowX == 'auto' || overflowX == 'scroll';\n          }\n        },\n        can: {\n          activate: function ($item) {\n            if (settings.useLabels) {\n              return true;\n            }\n\n            if (!module.has.maxSelections()) {\n              return true;\n            }\n\n            if (module.has.maxSelections() && $item.hasClass(className.active)) {\n              return true;\n            }\n\n            return false;\n          },\n          openDownward: function ($subMenu) {\n            var $currentMenu = $subMenu || $menu,\n                canOpenDownward = true,\n                onScreen = {},\n                calculations;\n            $currentMenu.addClass(className.loading);\n            calculations = {\n              context: {\n                offset: $context.get(0) === window ? {\n                  top: 0,\n                  left: 0\n                } : $context.offset(),\n                scrollTop: $context.scrollTop(),\n                height: $context.outerHeight()\n              },\n              menu: {\n                offset: $currentMenu.offset(),\n                height: $currentMenu.outerHeight()\n              }\n            };\n\n            if (module.is.verticallyScrollableContext()) {\n              calculations.menu.offset.top += calculations.context.scrollTop;\n            }\n\n            onScreen = {\n              above: calculations.context.scrollTop <= calculations.menu.offset.top - calculations.context.offset.top - calculations.menu.height,\n              below: calculations.context.scrollTop + calculations.context.height >= calculations.menu.offset.top - calculations.context.offset.top + calculations.menu.height\n            };\n\n            if (onScreen.below) {\n              module.verbose('Dropdown can fit in context downward', onScreen);\n              canOpenDownward = true;\n            } else if (!onScreen.below && !onScreen.above) {\n              module.verbose('Dropdown cannot fit in either direction, favoring downward', onScreen);\n              canOpenDownward = true;\n            } else {\n              module.verbose('Dropdown cannot fit below, opening upward', onScreen);\n              canOpenDownward = false;\n            }\n\n            $currentMenu.removeClass(className.loading);\n            return canOpenDownward;\n          },\n          openRightward: function ($subMenu) {\n            var $currentMenu = $subMenu || $menu,\n                canOpenRightward = true,\n                isOffscreenRight = false,\n                calculations;\n            $currentMenu.addClass(className.loading);\n            calculations = {\n              context: {\n                offset: $context.get(0) === window ? {\n                  top: 0,\n                  left: 0\n                } : $context.offset(),\n                scrollLeft: $context.scrollLeft(),\n                width: $context.outerWidth()\n              },\n              menu: {\n                offset: $currentMenu.offset(),\n                width: $currentMenu.outerWidth()\n              }\n            };\n\n            if (module.is.horizontallyScrollableContext()) {\n              calculations.menu.offset.left += calculations.context.scrollLeft;\n            }\n\n            isOffscreenRight = calculations.menu.offset.left - calculations.context.offset.left + calculations.menu.width >= calculations.context.scrollLeft + calculations.context.width;\n\n            if (isOffscreenRight) {\n              module.verbose('Dropdown cannot fit in context rightward', isOffscreenRight);\n              canOpenRightward = false;\n            }\n\n            $currentMenu.removeClass(className.loading);\n            return canOpenRightward;\n          },\n          click: function () {\n            return hasTouch || settings.on == 'click';\n          },\n          extendSelect: function () {\n            return settings.allowAdditions || settings.apiSettings;\n          },\n          show: function () {\n            return !module.is.disabled() && (module.has.items() || module.has.message());\n          },\n          useAPI: function () {\n            return $.fn.api !== undefined;\n          }\n        },\n        animate: {\n          show: function (callback, $subMenu) {\n            var $currentMenu = $subMenu || $menu,\n                start = $subMenu ? function () {} : function () {\n              module.hideSubMenus();\n              module.hideOthers();\n              module.set.active();\n            },\n                transition;\n            callback = $.isFunction(callback) ? callback : function () {};\n            module.verbose('Doing menu show animation', $currentMenu);\n            module.set.direction($subMenu);\n            transition = module.get.transition($subMenu);\n\n            if (module.is.selection()) {\n              module.set.scrollPosition(module.get.selectedItem(), true);\n            }\n\n            if (module.is.hidden($currentMenu) || module.is.animating($currentMenu)) {\n              if (transition == 'none') {\n                start();\n                $currentMenu.transition('show');\n                callback.call(element);\n              } else if ($.fn.transition !== undefined && $module.transition('is supported')) {\n                $currentMenu.transition({\n                  animation: transition + ' in',\n                  debug: settings.debug,\n                  verbose: settings.verbose,\n                  duration: settings.duration,\n                  queue: true,\n                  onStart: start,\n                  onComplete: function () {\n                    callback.call(element);\n                  }\n                });\n              } else {\n                module.error(error.noTransition, transition);\n              }\n            }\n          },\n          hide: function (callback, $subMenu) {\n            var $currentMenu = $subMenu || $menu,\n                duration = $subMenu ? settings.duration * 0.9 : settings.duration,\n                start = $subMenu ? function () {} : function () {\n              if (module.can.click()) {\n                module.unbind.intent();\n              }\n\n              module.remove.active();\n            },\n                transition = module.get.transition($subMenu);\n            callback = $.isFunction(callback) ? callback : function () {};\n\n            if (module.is.visible($currentMenu) || module.is.animating($currentMenu)) {\n              module.verbose('Doing menu hide animation', $currentMenu);\n\n              if (transition == 'none') {\n                start();\n                $currentMenu.transition('hide');\n                callback.call(element);\n              } else if ($.fn.transition !== undefined && $module.transition('is supported')) {\n                $currentMenu.transition({\n                  animation: transition + ' out',\n                  duration: settings.duration,\n                  debug: settings.debug,\n                  verbose: settings.verbose,\n                  queue: false,\n                  onStart: start,\n                  onComplete: function () {\n                    callback.call(element);\n                  }\n                });\n              } else {\n                module.error(error.transition);\n              }\n            }\n          }\n        },\n        hideAndClear: function () {\n          module.remove.searchTerm();\n\n          if (module.has.maxSelections()) {\n            return;\n          }\n\n          if (module.has.search()) {\n            module.hide(function () {\n              module.remove.filteredItem();\n            });\n          } else {\n            module.hide();\n          }\n        },\n        delay: {\n          show: function () {\n            module.verbose('Delaying show event to ensure user intent');\n            clearTimeout(module.timer);\n            module.timer = setTimeout(module.show, settings.delay.show);\n          },\n          hide: function () {\n            module.verbose('Delaying hide event to ensure user intent');\n            clearTimeout(module.timer);\n            module.timer = setTimeout(module.hide, settings.delay.hide);\n          }\n        },\n        escape: {\n          value: function (value) {\n            var multipleValues = $.isArray(value),\n                stringValue = typeof value === 'string',\n                isUnparsable = !stringValue && !multipleValues,\n                hasQuotes = stringValue && value.search(regExp.quote) !== -1,\n                values = [];\n\n            if (isUnparsable || !hasQuotes) {\n              return value;\n            }\n\n            module.debug('Encoding quote values for use in select', value);\n\n            if (multipleValues) {\n              $.each(value, function (index, value) {\n                values.push(value.replace(regExp.quote, '&quot;'));\n              });\n              return values;\n            }\n\n            return value.replace(regExp.quote, '&quot;');\n          },\n          string: function (text) {\n            text = String(text);\n            return text.replace(regExp.escape, '\\\\$&');\n          }\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : $allModules;\n  };\n\n  $.fn.dropdown.settings = {\n    silent: false,\n    debug: false,\n    verbose: false,\n    performance: true,\n    on: 'click',\n    // what event should show menu action on item selection\n    action: 'activate',\n    // action on item selection (nothing, activate, select, combo, hide, function(){})\n    values: false,\n    // specify values to use for dropdown\n    apiSettings: false,\n    selectOnKeydown: true,\n    // Whether selection should occur automatically when keyboard shortcuts used\n    minCharacters: 0,\n    // Minimum characters required to trigger API call\n    filterRemoteData: false,\n    // Whether API results should be filtered after being returned for query term\n    saveRemoteData: true,\n    // Whether remote name/value pairs should be stored in sessionStorage to allow remote data to be restored on page refresh\n    throttle: 200,\n    // How long to wait after last user input to search remotely\n    context: window,\n    // Context to use when determining if on screen\n    direction: 'auto',\n    // Whether dropdown should always open in one direction\n    keepOnScreen: true,\n    // Whether dropdown should check whether it is on screen before showing\n    match: 'both',\n    // what to match against with search selection (both, text, or label)\n    fullTextSearch: false,\n    // search anywhere in value (set to 'exact' to require exact matches)\n    placeholder: 'auto',\n    // whether to convert blank <select> values to placeholder text\n    preserveHTML: true,\n    // preserve html when selecting value\n    sortSelect: false,\n    // sort selection on init\n    forceSelection: true,\n    // force a choice on blur with search selection\n    allowAdditions: false,\n    // whether multiple select should allow user added values\n    ignoreCase: false,\n    // whether to consider values not matching in case to be the same\n    hideAdditions: true,\n    // whether or not to hide special message prompting a user they can enter a value\n    maxSelections: false,\n    // When set to a number limits the number of selections to this count\n    useLabels: true,\n    // whether multiple select should filter currently active selections from choices\n    delimiter: ',',\n    // when multiselect uses normal <input> the values will be delimited with this character\n    showOnFocus: true,\n    // show menu on focus\n    allowReselection: false,\n    // whether current value should trigger callbacks when reselected\n    allowTab: true,\n    // add tabindex to element\n    allowCategorySelection: false,\n    // allow elements with sub-menus to be selected\n    fireOnInit: false,\n    // Whether callbacks should fire when initializing dropdown values\n    transition: 'auto',\n    // auto transition will slide down or up based on direction\n    duration: 200,\n    // duration of transition\n    glyphWidth: 1.037,\n    // widest glyph width in em (W is 1.037 em) used to calculate multiselect input width\n    // label settings on multi-select\n    label: {\n      transition: 'scale',\n      duration: 200,\n      variation: false\n    },\n    // delay before event\n    delay: {\n      hide: 300,\n      show: 200,\n      search: 20,\n      touch: 50\n    },\n\n    /* Callbacks */\n    onChange: function (value, text, $selected) {},\n    onAdd: function (value, text, $selected) {},\n    onRemove: function (value, text, $selected) {},\n    onLabelSelect: function ($selectedLabels) {},\n    onLabelCreate: function (value, text) {\n      return $(this);\n    },\n    onLabelRemove: function (value) {\n      return true;\n    },\n    onNoResults: function (searchTerm) {\n      return true;\n    },\n    onShow: function () {},\n    onHide: function () {},\n\n    /* Component */\n    name: 'Dropdown',\n    namespace: 'dropdown',\n    message: {\n      addResult: 'Add <b>{term}</b>',\n      count: '{count} selected',\n      maxSelections: 'Max {maxCount} selections',\n      noResults: 'No results found.',\n      serverError: 'There was an error contacting the server'\n    },\n    error: {\n      action: 'You called a dropdown action that was not defined',\n      alreadySetup: 'Once a select has been initialized behaviors must be called on the created ui dropdown',\n      labels: 'Allowing user additions currently requires the use of labels.',\n      missingMultiple: '<select> requires multiple property to be set to correctly preserve multiple values',\n      method: 'The method you called is not defined.',\n      noAPI: 'The API module is required to load resources remotely',\n      noStorage: 'Saving remote data requires session storage',\n      noTransition: 'This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>'\n    },\n    regExp: {\n      escape: /[-[\\]{}()*+?.,\\\\^$|#\\s]/g,\n      quote: /\"/g\n    },\n    metadata: {\n      defaultText: 'defaultText',\n      defaultValue: 'defaultValue',\n      placeholderText: 'placeholder',\n      text: 'text',\n      value: 'value'\n    },\n    // property names for remote query\n    fields: {\n      remoteValues: 'results',\n      // grouping for api results\n      values: 'values',\n      // grouping for all dropdown values\n      disabled: 'disabled',\n      // whether value should be disabled\n      name: 'name',\n      // displayed dropdown text\n      value: 'value',\n      // actual dropdown value\n      text: 'text' // displayed text when selected\n\n    },\n    keys: {\n      backspace: 8,\n      delimiter: 188,\n      // comma\n      deleteKey: 46,\n      enter: 13,\n      escape: 27,\n      pageUp: 33,\n      pageDown: 34,\n      leftArrow: 37,\n      upArrow: 38,\n      rightArrow: 39,\n      downArrow: 40\n    },\n    selector: {\n      addition: '.addition',\n      dropdown: '.ui.dropdown',\n      hidden: '.hidden',\n      icon: '> .dropdown.icon',\n      input: '> input[type=\"hidden\"], > select',\n      item: '.item',\n      label: '> .label',\n      remove: '> .label > .delete.icon',\n      siblingLabel: '.label',\n      menu: '.menu',\n      message: '.message',\n      menuIcon: '.dropdown.icon',\n      search: 'input.search, .menu > .search > input, .menu input.search',\n      sizer: '> input.sizer',\n      text: '> .text:not(.icon)',\n      unselectable: '.disabled, .filtered'\n    },\n    className: {\n      active: 'active',\n      addition: 'addition',\n      animating: 'animating',\n      disabled: 'disabled',\n      empty: 'empty',\n      dropdown: 'ui dropdown',\n      filtered: 'filtered',\n      hidden: 'hidden transition',\n      item: 'item',\n      label: 'ui label',\n      loading: 'loading',\n      menu: 'menu',\n      message: 'message',\n      multiple: 'multiple',\n      placeholder: 'default',\n      sizer: 'sizer',\n      search: 'search',\n      selected: 'selected',\n      selection: 'selection',\n      upward: 'upward',\n      leftward: 'left',\n      visible: 'visible'\n    }\n  };\n  /* Templates */\n\n  $.fn.dropdown.settings.templates = {\n    // generates dropdown from select values\n    dropdown: function (select) {\n      var placeholder = select.placeholder || false,\n          values = select.values || {},\n          html = '';\n      html += '<i class=\"dropdown icon\"></i>';\n\n      if (select.placeholder) {\n        html += '<div class=\"default text\">' + placeholder + '</div>';\n      } else {\n        html += '<div class=\"text\"></div>';\n      }\n\n      html += '<div class=\"menu\">';\n      $.each(select.values, function (index, option) {\n        html += option.disabled ? '<div class=\"disabled item\" data-value=\"' + option.value + '\">' + option.name + '</div>' : '<div class=\"item\" data-value=\"' + option.value + '\">' + option.name + '</div>';\n      });\n      html += '</div>';\n      return html;\n    },\n    // generates just menu from select\n    menu: function (response, fields) {\n      var values = response[fields.values] || {},\n          html = '';\n      $.each(values, function (index, option) {\n        var maybeText = option[fields.text] ? 'data-text=\"' + option[fields.text] + '\"' : '',\n            maybeDisabled = option[fields.disabled] ? 'disabled ' : '';\n        html += '<div class=\"' + maybeDisabled + 'item\" data-value=\"' + option[fields.value] + '\"' + maybeText + '>';\n        html += option[fields.name];\n        html += '</div>';\n      });\n      return html;\n    },\n    // generates label for multiselect\n    label: function (value, text) {\n      return text + '<i class=\"delete icon\"></i>';\n    },\n    // generates messages like \"No results\"\n    message: function (message) {\n      return message;\n    },\n    // generates user addition to selection menu\n    addition: function (choice) {\n      return choice;\n    }\n  };\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"embed.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/modules/embed.js                                                                           //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * # Semantic UI - Embed\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.embed = function (parameters) {\n    var $allModules = $(this),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue;\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.embed.settings, parameters) : $.extend({}, $.fn.embed.settings),\n          selector = settings.selector,\n          className = settings.className,\n          sources = settings.sources,\n          error = settings.error,\n          metadata = settings.metadata,\n          namespace = settings.namespace,\n          templates = settings.templates,\n          eventNamespace = '.' + namespace,\n          moduleNamespace = 'module-' + namespace,\n          $window = $(window),\n          $module = $(this),\n          $placeholder = $module.find(selector.placeholder),\n          $icon = $module.find(selector.icon),\n          $embed = $module.find(selector.embed),\n          element = this,\n          instance = $module.data(moduleNamespace),\n          module;\n      module = {\n        initialize: function () {\n          module.debug('Initializing embed');\n          module.determine.autoplay();\n          module.create();\n          module.bind.events();\n          module.instantiate();\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module.data(moduleNamespace, module);\n        },\n        destroy: function () {\n          module.verbose('Destroying previous instance of embed');\n          module.reset();\n          $module.removeData(moduleNamespace).off(eventNamespace);\n        },\n        refresh: function () {\n          module.verbose('Refreshing selector cache');\n          $placeholder = $module.find(selector.placeholder);\n          $icon = $module.find(selector.icon);\n          $embed = $module.find(selector.embed);\n        },\n        bind: {\n          events: function () {\n            if (module.has.placeholder()) {\n              module.debug('Adding placeholder events');\n              $module.on('click' + eventNamespace, selector.placeholder, module.createAndShow).on('click' + eventNamespace, selector.icon, module.createAndShow);\n            }\n          }\n        },\n        create: function () {\n          var placeholder = module.get.placeholder();\n\n          if (placeholder) {\n            module.createPlaceholder();\n          } else {\n            module.createAndShow();\n          }\n        },\n        createPlaceholder: function (placeholder) {\n          var icon = module.get.icon(),\n              url = module.get.url(),\n              embed = module.generate.embed(url);\n          placeholder = placeholder || module.get.placeholder();\n          $module.html(templates.placeholder(placeholder, icon));\n          module.debug('Creating placeholder for embed', placeholder, icon);\n        },\n        createEmbed: function (url) {\n          module.refresh();\n          url = url || module.get.url();\n          $embed = $('<div/>').addClass(className.embed).html(module.generate.embed(url)).appendTo($module);\n          settings.onCreate.call(element, url);\n          module.debug('Creating embed object', $embed);\n        },\n        changeEmbed: function (url) {\n          $embed.html(module.generate.embed(url));\n        },\n        createAndShow: function () {\n          module.createEmbed();\n          module.show();\n        },\n        // sets new embed\n        change: function (source, id, url) {\n          module.debug('Changing video to ', source, id, url);\n          $module.data(metadata.source, source).data(metadata.id, id);\n\n          if (url) {\n            $module.data(metadata.url, url);\n          } else {\n            $module.removeData(metadata.url);\n          }\n\n          if (module.has.embed()) {\n            module.changeEmbed();\n          } else {\n            module.create();\n          }\n        },\n        // clears embed\n        reset: function () {\n          module.debug('Clearing embed and showing placeholder');\n          module.remove.active();\n          module.remove.embed();\n          module.showPlaceholder();\n          settings.onReset.call(element);\n        },\n        // shows current embed\n        show: function () {\n          module.debug('Showing embed');\n          module.set.active();\n          settings.onDisplay.call(element);\n        },\n        hide: function () {\n          module.debug('Hiding embed');\n          module.showPlaceholder();\n        },\n        showPlaceholder: function () {\n          module.debug('Showing placeholder image');\n          module.remove.active();\n          settings.onPlaceholderDisplay.call(element);\n        },\n        get: {\n          id: function () {\n            return settings.id || $module.data(metadata.id);\n          },\n          placeholder: function () {\n            return settings.placeholder || $module.data(metadata.placeholder);\n          },\n          icon: function () {\n            return settings.icon ? settings.icon : $module.data(metadata.icon) !== undefined ? $module.data(metadata.icon) : module.determine.icon();\n          },\n          source: function (url) {\n            return settings.source ? settings.source : $module.data(metadata.source) !== undefined ? $module.data(metadata.source) : module.determine.source();\n          },\n          type: function () {\n            var source = module.get.source();\n            return sources[source] !== undefined ? sources[source].type : false;\n          },\n          url: function () {\n            return settings.url ? settings.url : $module.data(metadata.url) !== undefined ? $module.data(metadata.url) : module.determine.url();\n          }\n        },\n        determine: {\n          autoplay: function () {\n            if (module.should.autoplay()) {\n              settings.autoplay = true;\n            }\n          },\n          source: function (url) {\n            var matchedSource = false;\n            url = url || module.get.url();\n\n            if (url) {\n              $.each(sources, function (name, source) {\n                if (url.search(source.domain) !== -1) {\n                  matchedSource = name;\n                  return false;\n                }\n              });\n            }\n\n            return matchedSource;\n          },\n          icon: function () {\n            var source = module.get.source();\n            return sources[source] !== undefined ? sources[source].icon : false;\n          },\n          url: function () {\n            var id = settings.id || $module.data(metadata.id),\n                source = settings.source || $module.data(metadata.source),\n                url;\n            url = sources[source] !== undefined ? sources[source].url.replace('{id}', id) : false;\n\n            if (url) {\n              $module.data(metadata.url, url);\n            }\n\n            return url;\n          }\n        },\n        set: {\n          active: function () {\n            $module.addClass(className.active);\n          }\n        },\n        remove: {\n          active: function () {\n            $module.removeClass(className.active);\n          },\n          embed: function () {\n            $embed.empty();\n          }\n        },\n        encode: {\n          parameters: function (parameters) {\n            var urlString = [],\n                index;\n\n            for (index in parameters) {\n              urlString.push(encodeURIComponent(index) + '=' + encodeURIComponent(parameters[index]));\n            }\n\n            return urlString.join('&amp;');\n          }\n        },\n        generate: {\n          embed: function (url) {\n            module.debug('Generating embed html');\n            var source = module.get.source(),\n                html,\n                parameters;\n            url = module.get.url(url);\n\n            if (url) {\n              parameters = module.generate.parameters(source);\n              html = templates.iframe(url, parameters);\n            } else {\n              module.error(error.noURL, $module);\n            }\n\n            return html;\n          },\n          parameters: function (source, extraParameters) {\n            var parameters = sources[source] && sources[source].parameters !== undefined ? sources[source].parameters(settings) : {};\n            extraParameters = extraParameters || settings.parameters;\n\n            if (extraParameters) {\n              parameters = $.extend({}, parameters, extraParameters);\n            }\n\n            parameters = settings.onEmbed(parameters);\n            return module.encode.parameters(parameters);\n          }\n        },\n        has: {\n          embed: function () {\n            return $embed.length > 0;\n          },\n          placeholder: function () {\n            return settings.placeholder || $module.data(metadata.placeholder);\n          }\n        },\n        should: {\n          autoplay: function () {\n            return settings.autoplay === 'auto' ? settings.placeholder || $module.data(metadata.placeholder) !== undefined : settings.autoplay;\n          }\n        },\n        is: {\n          video: function () {\n            return module.get.type() == 'video';\n          }\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.embed.settings = {\n    name: 'Embed',\n    namespace: 'embed',\n    silent: false,\n    debug: false,\n    verbose: false,\n    performance: true,\n    icon: false,\n    source: false,\n    url: false,\n    id: false,\n    // standard video settings\n    autoplay: 'auto',\n    color: '#444444',\n    hd: true,\n    brandedUI: false,\n    // additional parameters to include with the embed\n    parameters: false,\n    onDisplay: function () {},\n    onPlaceholderDisplay: function () {},\n    onReset: function () {},\n    onCreate: function (url) {},\n    onEmbed: function (parameters) {\n      return parameters;\n    },\n    metadata: {\n      id: 'id',\n      icon: 'icon',\n      placeholder: 'placeholder',\n      source: 'source',\n      url: 'url'\n    },\n    error: {\n      noURL: 'No URL specified',\n      method: 'The method you called is not defined'\n    },\n    className: {\n      active: 'active',\n      embed: 'embed'\n    },\n    selector: {\n      embed: '.embed',\n      placeholder: '.placeholder',\n      icon: '.icon'\n    },\n    sources: {\n      youtube: {\n        name: 'youtube',\n        type: 'video',\n        icon: 'video play',\n        domain: 'youtube.com',\n        url: '//www.youtube.com/embed/{id}',\n        parameters: function (settings) {\n          return {\n            autohide: !settings.brandedUI,\n            autoplay: settings.autoplay,\n            color: settings.color || undefined,\n            hq: settings.hd,\n            jsapi: settings.api,\n            modestbranding: !settings.brandedUI\n          };\n        }\n      },\n      vimeo: {\n        name: 'vimeo',\n        type: 'video',\n        icon: 'video play',\n        domain: 'vimeo.com',\n        url: '//player.vimeo.com/video/{id}',\n        parameters: function (settings) {\n          return {\n            api: settings.api,\n            autoplay: settings.autoplay,\n            byline: settings.brandedUI,\n            color: settings.color || undefined,\n            portrait: settings.brandedUI,\n            title: settings.brandedUI\n          };\n        }\n      }\n    },\n    templates: {\n      iframe: function (url, parameters) {\n        var src = url;\n\n        if (parameters) {\n          src += '?' + parameters;\n        }\n\n        return '' + '<iframe src=\"' + src + '\"' + ' width=\"100%\" height=\"100%\"' + ' frameborder=\"0\" scrolling=\"no\" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>';\n      },\n      placeholder: function (image, icon) {\n        var html = '';\n\n        if (icon) {\n          html += '<i class=\"' + icon + ' icon\"></i>';\n        }\n\n        if (image) {\n          html += '<img class=\"placeholder\" src=\"' + image + '\">';\n        }\n\n        return html;\n      }\n    },\n    // NOT YET IMPLEMENTED\n    api: false,\n    onPause: function () {},\n    onPlay: function () {},\n    onStop: function () {}\n  };\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"modal.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/modules/modal.js                                                                           //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * # Semantic UI - Modal\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.modal = function (parameters) {\n    var $allModules = $(this),\n        $window = $(window),\n        $document = $(document),\n        $body = $('body'),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {\n      setTimeout(callback, 0);\n    },\n        returnedValue;\n\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.modal.settings, parameters) : $.extend({}, $.fn.modal.settings),\n          selector = settings.selector,\n          className = settings.className,\n          namespace = settings.namespace,\n          error = settings.error,\n          eventNamespace = '.' + namespace,\n          moduleNamespace = 'module-' + namespace,\n          $module = $(this),\n          $context = $(settings.context),\n          $close = $module.find(selector.close),\n          $allModals,\n          $otherModals,\n          $focusedElement,\n          $dimmable,\n          $dimmer,\n          element = this,\n          instance = $module.data(moduleNamespace),\n          ignoreRepeatedEvents = false,\n          elementEventNamespace,\n          id,\n          observer,\n          module;\n      module = {\n        initialize: function () {\n          module.verbose('Initializing dimmer', $context);\n          module.create.id();\n          module.create.dimmer();\n          module.refreshModals();\n          module.bind.events();\n\n          if (settings.observeChanges) {\n            module.observeChanges();\n          }\n\n          module.instantiate();\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of modal');\n          instance = module;\n          $module.data(moduleNamespace, instance);\n        },\n        create: {\n          dimmer: function () {\n            var defaultSettings = {\n              debug: settings.debug,\n              variation: settings.centered ? false : 'top aligned',\n              dimmerName: 'modals'\n            },\n                dimmerSettings = $.extend(true, defaultSettings, settings.dimmerSettings);\n\n            if ($.fn.dimmer === undefined) {\n              module.error(error.dimmer);\n              return;\n            }\n\n            module.debug('Creating dimmer');\n            $dimmable = $context.dimmer(dimmerSettings);\n\n            if (settings.detachable) {\n              module.verbose('Modal is detachable, moving content into dimmer');\n              $dimmable.dimmer('add content', $module);\n            } else {\n              module.set.undetached();\n            }\n\n            $dimmer = $dimmable.dimmer('get dimmer');\n          },\n          id: function () {\n            id = (Math.random().toString(16) + '000000000').substr(2, 8);\n            elementEventNamespace = '.' + id;\n            module.verbose('Creating unique id for element', id);\n          }\n        },\n        destroy: function () {\n          module.verbose('Destroying previous modal');\n          $module.removeData(moduleNamespace).off(eventNamespace);\n          $window.off(elementEventNamespace);\n          $dimmer.off(elementEventNamespace);\n          $close.off(eventNamespace);\n          $context.dimmer('destroy');\n        },\n        observeChanges: function () {\n          if ('MutationObserver' in window) {\n            observer = new MutationObserver(function (mutations) {\n              module.debug('DOM tree modified, refreshing');\n              module.refresh();\n            });\n            observer.observe(element, {\n              childList: true,\n              subtree: true\n            });\n            module.debug('Setting up mutation observer', observer);\n          }\n        },\n        refresh: function () {\n          module.remove.scrolling();\n          module.cacheSizes();\n          module.set.screenHeight();\n          module.set.type();\n        },\n        refreshModals: function () {\n          $otherModals = $module.siblings(selector.modal);\n          $allModals = $otherModals.add($module);\n        },\n        attachEvents: function (selector, event) {\n          var $toggle = $(selector);\n          event = $.isFunction(module[event]) ? module[event] : module.toggle;\n\n          if ($toggle.length > 0) {\n            module.debug('Attaching modal events to element', selector, event);\n            $toggle.off(eventNamespace).on('click' + eventNamespace, event);\n          } else {\n            module.error(error.notFound, selector);\n          }\n        },\n        bind: {\n          events: function () {\n            module.verbose('Attaching events');\n            $module.on('click' + eventNamespace, selector.close, module.event.close).on('click' + eventNamespace, selector.approve, module.event.approve).on('click' + eventNamespace, selector.deny, module.event.deny);\n            $window.on('resize' + elementEventNamespace, module.event.resize);\n          }\n        },\n        get: {\n          id: function () {\n            return (Math.random().toString(16) + '000000000').substr(2, 8);\n          }\n        },\n        event: {\n          approve: function () {\n            if (ignoreRepeatedEvents || settings.onApprove.call(element, $(this)) === false) {\n              module.verbose('Approve callback returned false cancelling hide');\n              return;\n            }\n\n            ignoreRepeatedEvents = true;\n            module.hide(function () {\n              ignoreRepeatedEvents = false;\n            });\n          },\n          deny: function () {\n            if (ignoreRepeatedEvents || settings.onDeny.call(element, $(this)) === false) {\n              module.verbose('Deny callback returned false cancelling hide');\n              return;\n            }\n\n            ignoreRepeatedEvents = true;\n            module.hide(function () {\n              ignoreRepeatedEvents = false;\n            });\n          },\n          close: function () {\n            module.hide();\n          },\n          click: function (event) {\n            if (!settings.closable) {\n              module.verbose('Dimmer clicked but closable setting is disabled');\n              return;\n            }\n\n            var $target = $(event.target),\n                isInModal = $target.closest(selector.modal).length > 0,\n                isInDOM = $.contains(document.documentElement, event.target);\n\n            if (!isInModal && isInDOM && module.is.active()) {\n              module.debug('Dimmer clicked, hiding all modals');\n              module.remove.clickaway();\n\n              if (settings.allowMultiple) {\n                module.hide();\n              } else {\n                module.hideAll();\n              }\n            }\n          },\n          debounce: function (method, delay) {\n            clearTimeout(module.timer);\n            module.timer = setTimeout(method, delay);\n          },\n          keyboard: function (event) {\n            var keyCode = event.which,\n                escapeKey = 27;\n\n            if (keyCode == escapeKey) {\n              if (settings.closable) {\n                module.debug('Escape key pressed hiding modal');\n                module.hide();\n              } else {\n                module.debug('Escape key pressed, but closable is set to false');\n              }\n\n              event.preventDefault();\n            }\n          },\n          resize: function () {\n            if ($dimmable.dimmer('is active') && (module.is.animating() || module.is.active())) {\n              requestAnimationFrame(module.refresh);\n            }\n          }\n        },\n        toggle: function () {\n          if (module.is.active() || module.is.animating()) {\n            module.hide();\n          } else {\n            module.show();\n          }\n        },\n        show: function (callback) {\n          callback = $.isFunction(callback) ? callback : function () {};\n          module.refreshModals();\n          module.set.dimmerSettings();\n          module.showModal(callback);\n        },\n        hide: function (callback) {\n          callback = $.isFunction(callback) ? callback : function () {};\n          module.refreshModals();\n          module.hideModal(callback);\n        },\n        showModal: function (callback) {\n          callback = $.isFunction(callback) ? callback : function () {};\n\n          if (module.is.animating() || !module.is.active()) {\n            module.showDimmer();\n            module.cacheSizes();\n            module.set.screenHeight();\n            module.set.type();\n            module.set.clickaway();\n\n            if (!settings.allowMultiple && module.others.active()) {\n              module.hideOthers(module.showModal);\n            } else {\n              if (settings.allowMultiple && settings.detachable) {\n                $module.detach().appendTo($dimmer);\n              }\n\n              settings.onShow.call(element);\n\n              if (settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n                module.debug('Showing modal with css animations');\n                $module.transition({\n                  debug: settings.debug,\n                  animation: settings.transition + ' in',\n                  queue: settings.queue,\n                  duration: settings.duration,\n                  useFailSafe: true,\n                  onComplete: function () {\n                    settings.onVisible.apply(element);\n\n                    if (settings.keyboardShortcuts) {\n                      module.add.keyboardShortcuts();\n                    }\n\n                    module.save.focus();\n                    module.set.active();\n\n                    if (settings.autofocus) {\n                      module.set.autofocus();\n                    }\n\n                    callback();\n                  }\n                });\n              } else {\n                module.error(error.noTransition);\n              }\n            }\n          } else {\n            module.debug('Modal is already visible');\n          }\n        },\n        hideModal: function (callback, keepDimmed) {\n          callback = $.isFunction(callback) ? callback : function () {};\n          module.debug('Hiding modal');\n\n          if (settings.onHide.call(element, $(this)) === false) {\n            module.verbose('Hide callback returned false cancelling hide');\n            return;\n          }\n\n          if (module.is.animating() || module.is.active()) {\n            if (settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n              module.remove.active();\n              $module.transition({\n                debug: settings.debug,\n                animation: settings.transition + ' out',\n                queue: settings.queue,\n                duration: settings.duration,\n                useFailSafe: true,\n                onStart: function () {\n                  if (!module.others.active() && !keepDimmed) {\n                    module.hideDimmer();\n                  }\n\n                  if (settings.keyboardShortcuts) {\n                    module.remove.keyboardShortcuts();\n                  }\n                },\n                onComplete: function () {\n                  settings.onHidden.call(element);\n                  module.restore.focus();\n                  callback();\n                }\n              });\n            } else {\n              module.error(error.noTransition);\n            }\n          }\n        },\n        showDimmer: function () {\n          if ($dimmable.dimmer('is animating') || !$dimmable.dimmer('is active')) {\n            module.debug('Showing dimmer');\n            $dimmable.dimmer('show');\n          } else {\n            module.debug('Dimmer already visible');\n          }\n        },\n        hideDimmer: function () {\n          if ($dimmable.dimmer('is animating') || $dimmable.dimmer('is active')) {\n            $dimmable.dimmer('hide', function () {\n              module.remove.clickaway();\n              module.remove.screenHeight();\n            });\n          } else {\n            module.debug('Dimmer is not visible cannot hide');\n            return;\n          }\n        },\n        hideAll: function (callback) {\n          var $visibleModals = $allModals.filter('.' + className.active + ', .' + className.animating);\n          callback = $.isFunction(callback) ? callback : function () {};\n\n          if ($visibleModals.length > 0) {\n            module.debug('Hiding all visible modals');\n            module.hideDimmer();\n            $visibleModals.modal('hide modal', callback);\n          }\n        },\n        hideOthers: function (callback) {\n          var $visibleModals = $otherModals.filter('.' + className.active + ', .' + className.animating);\n          callback = $.isFunction(callback) ? callback : function () {};\n\n          if ($visibleModals.length > 0) {\n            module.debug('Hiding other modals', $otherModals);\n            $visibleModals.modal('hide modal', callback, true);\n          }\n        },\n        others: {\n          active: function () {\n            return $otherModals.filter('.' + className.active).length > 0;\n          },\n          animating: function () {\n            return $otherModals.filter('.' + className.animating).length > 0;\n          }\n        },\n        add: {\n          keyboardShortcuts: function () {\n            module.verbose('Adding keyboard shortcuts');\n            $document.on('keyup' + eventNamespace, module.event.keyboard);\n          }\n        },\n        save: {\n          focus: function () {\n            var $activeElement = $(document.activeElement),\n                inCurrentModal = $activeElement.closest($module).length > 0;\n\n            if (!inCurrentModal) {\n              $focusedElement = $(document.activeElement).blur();\n            }\n          }\n        },\n        restore: {\n          focus: function () {\n            if ($focusedElement && $focusedElement.length > 0) {\n              $focusedElement.focus();\n            }\n          }\n        },\n        remove: {\n          active: function () {\n            $module.removeClass(className.active);\n          },\n          clickaway: function () {\n            $dimmer.off('click' + elementEventNamespace);\n          },\n          bodyStyle: function () {\n            if ($body.attr('style') === '') {\n              module.verbose('Removing style attribute');\n              $body.removeAttr('style');\n            }\n          },\n          screenHeight: function () {\n            module.debug('Removing page height');\n            $body.css('height', '');\n          },\n          keyboardShortcuts: function () {\n            module.verbose('Removing keyboard shortcuts');\n            $document.off('keyup' + eventNamespace);\n          },\n          scrolling: function () {\n            $dimmable.removeClass(className.scrolling);\n            $module.removeClass(className.scrolling);\n          }\n        },\n        cacheSizes: function () {\n          $module.addClass(className.loading);\n          var scrollHeight = $module.prop('scrollHeight'),\n              modalHeight = $module.outerHeight();\n\n          if (module.cache === undefined || modalHeight !== 0) {\n            module.cache = {\n              pageHeight: $(document).outerHeight(),\n              height: modalHeight + settings.offset,\n              scrollHeight: scrollHeight + settings.offset,\n              contextHeight: settings.context == 'body' ? $(window).height() : $dimmable.height()\n            };\n            module.cache.topOffset = -(module.cache.height / 2);\n          }\n\n          $module.removeClass(className.loading);\n          module.debug('Caching modal and container sizes', module.cache);\n        },\n        can: {\n          fit: function () {\n            var contextHeight = module.cache.contextHeight,\n                verticalCenter = module.cache.contextHeight / 2,\n                topOffset = module.cache.topOffset,\n                scrollHeight = module.cache.scrollHeight,\n                height = module.cache.height,\n                paddingHeight = settings.padding,\n                startPosition = verticalCenter + topOffset;\n            return scrollHeight > height ? startPosition + scrollHeight + paddingHeight < contextHeight : height + paddingHeight * 2 < contextHeight;\n          }\n        },\n        is: {\n          active: function () {\n            return $module.hasClass(className.active);\n          },\n          animating: function () {\n            return $module.transition('is supported') ? $module.transition('is animating') : $module.is(':visible');\n          },\n          scrolling: function () {\n            return $dimmable.hasClass(className.scrolling);\n          },\n          modernBrowser: function () {\n            // appName for IE11 reports 'Netscape' can no longer use\n            return !(window.ActiveXObject || \"ActiveXObject\" in window);\n          }\n        },\n        set: {\n          autofocus: function () {\n            var $inputs = $module.find('[tabindex], :input').filter(':visible'),\n                $autofocus = $inputs.filter('[autofocus]'),\n                $input = $autofocus.length > 0 ? $autofocus.first() : $inputs.first();\n\n            if ($input.length > 0) {\n              $input.focus();\n            }\n          },\n          clickaway: function () {\n            $dimmer.on('click' + elementEventNamespace, module.event.click);\n          },\n          dimmerSettings: function () {\n            if ($.fn.dimmer === undefined) {\n              module.error(error.dimmer);\n              return;\n            }\n\n            var defaultSettings = {\n              debug: settings.debug,\n              dimmerName: 'modals',\n              closable: 'auto',\n              variation: settings.centered ? false : 'top aligned',\n              duration: {\n                show: settings.duration,\n                hide: settings.duration\n              }\n            },\n                dimmerSettings = $.extend(true, defaultSettings, settings.dimmerSettings);\n\n            if (settings.inverted) {\n              dimmerSettings.variation = dimmerSettings.variation !== undefined ? dimmerSettings.variation + ' inverted' : 'inverted';\n              $dimmer.addClass(className.inverted);\n            } else {\n              $dimmer.removeClass(className.inverted);\n            }\n\n            if (settings.blurring) {\n              $dimmable.addClass(className.blurring);\n            } else {\n              $dimmable.removeClass(className.blurring);\n            }\n\n            $context.dimmer('setting', dimmerSettings);\n          },\n          screenHeight: function () {\n            if (module.can.fit()) {\n              $body.css('height', '');\n            } else {\n              module.debug('Modal is taller than page content, resizing page height');\n              $body.css('height', module.cache.height + settings.padding * 2);\n            }\n          },\n          active: function () {\n            $module.addClass(className.active);\n          },\n          scrolling: function () {\n            $dimmable.addClass(className.scrolling);\n            $module.addClass(className.scrolling);\n          },\n          type: function () {\n            if (module.can.fit()) {\n              module.verbose('Modal fits on screen');\n\n              if (!module.others.active() && !module.others.animating()) {\n                module.remove.scrolling();\n              }\n            } else {\n              module.verbose('Modal cannot fit on screen setting to scrolling');\n              module.set.scrolling();\n            }\n          },\n          undetached: function () {\n            $dimmable.addClass(className.undetached);\n          }\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.modal.settings = {\n    name: 'Modal',\n    namespace: 'modal',\n    silent: false,\n    debug: false,\n    verbose: false,\n    performance: true,\n    observeChanges: false,\n    allowMultiple: false,\n    detachable: true,\n    closable: true,\n    autofocus: true,\n    inverted: false,\n    blurring: false,\n    centered: true,\n    dimmerSettings: {\n      closable: false,\n      useCSS: true\n    },\n    // whether to use keyboard shortcuts\n    keyboardShortcuts: true,\n    context: 'body',\n    queue: false,\n    duration: 500,\n    offset: 0,\n    transition: 'scale',\n    // padding with edge of page\n    padding: 50,\n    // called before show animation\n    onShow: function () {},\n    // called after show animation\n    onVisible: function () {},\n    // called before hide animation\n    onHide: function () {\n      return true;\n    },\n    // called after hide animation\n    onHidden: function () {},\n    // called after approve selector match\n    onApprove: function () {\n      return true;\n    },\n    // called after deny selector match\n    onDeny: function () {\n      return true;\n    },\n    selector: {\n      close: '> .close',\n      approve: '.actions .positive, .actions .approve, .actions .ok',\n      deny: '.actions .negative, .actions .deny, .actions .cancel',\n      modal: '.ui.modal'\n    },\n    error: {\n      dimmer: 'UI Dimmer, a required component is not included in this page',\n      method: 'The method you called is not defined.',\n      notFound: 'The element you specified could not be found'\n    },\n    className: {\n      active: 'active',\n      animating: 'animating',\n      blurring: 'blurring',\n      inverted: 'inverted',\n      loading: 'loading',\n      scrolling: 'scrolling',\n      undetached: 'undetached'\n    }\n  };\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"nag.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/modules/nag.js                                                                             //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * # Semantic UI - Nag\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.nag = function (parameters) {\n    var $allModules = $(this),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue;\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.nag.settings, parameters) : $.extend({}, $.fn.nag.settings),\n          className = settings.className,\n          selector = settings.selector,\n          error = settings.error,\n          namespace = settings.namespace,\n          eventNamespace = '.' + namespace,\n          moduleNamespace = namespace + '-module',\n          $module = $(this),\n          $close = $module.find(selector.close),\n          $context = settings.context ? $(settings.context) : $('body'),\n          element = this,\n          instance = $module.data(moduleNamespace),\n          moduleOffset,\n          moduleHeight,\n          contextWidth,\n          contextHeight,\n          contextOffset,\n          yOffset,\n          yPosition,\n          timer,\n          module,\n          requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {\n        setTimeout(callback, 0);\n      };\n\n      module = {\n        initialize: function () {\n          module.verbose('Initializing element');\n          $module.on('click' + eventNamespace, selector.close, module.dismiss).data(moduleNamespace, module);\n\n          if (settings.detachable && $module.parent()[0] !== $context[0]) {\n            $module.detach().prependTo($context);\n          }\n\n          if (settings.displayTime > 0) {\n            setTimeout(module.hide, settings.displayTime);\n          }\n\n          module.show();\n        },\n        destroy: function () {\n          module.verbose('Destroying instance');\n          $module.removeData(moduleNamespace).off(eventNamespace);\n        },\n        show: function () {\n          if (module.should.show() && !$module.is(':visible')) {\n            module.debug('Showing nag', settings.animation.show);\n\n            if (settings.animation.show == 'fade') {\n              $module.fadeIn(settings.duration, settings.easing);\n            } else {\n              $module.slideDown(settings.duration, settings.easing);\n            }\n          }\n        },\n        hide: function () {\n          module.debug('Showing nag', settings.animation.hide);\n\n          if (settings.animation.show == 'fade') {\n            $module.fadeIn(settings.duration, settings.easing);\n          } else {\n            $module.slideUp(settings.duration, settings.easing);\n          }\n        },\n        onHide: function () {\n          module.debug('Removing nag', settings.animation.hide);\n          $module.remove();\n\n          if (settings.onHide) {\n            settings.onHide();\n          }\n        },\n        dismiss: function (event) {\n          if (settings.storageMethod) {\n            module.storage.set(settings.key, settings.value);\n          }\n\n          module.hide();\n          event.stopImmediatePropagation();\n          event.preventDefault();\n        },\n        should: {\n          show: function () {\n            if (settings.persist) {\n              module.debug('Persistent nag is set, can show nag');\n              return true;\n            }\n\n            if (module.storage.get(settings.key) != settings.value.toString()) {\n              module.debug('Stored value is not set, can show nag', module.storage.get(settings.key));\n              return true;\n            }\n\n            module.debug('Stored value is set, cannot show nag', module.storage.get(settings.key));\n            return false;\n          }\n        },\n        get: {\n          storageOptions: function () {\n            var options = {};\n\n            if (settings.expires) {\n              options.expires = settings.expires;\n            }\n\n            if (settings.domain) {\n              options.domain = settings.domain;\n            }\n\n            if (settings.path) {\n              options.path = settings.path;\n            }\n\n            return options;\n          }\n        },\n        clear: function () {\n          module.storage.remove(settings.key);\n        },\n        storage: {\n          set: function (key, value) {\n            var options = module.get.storageOptions();\n\n            if (settings.storageMethod == 'localstorage' && window.localStorage !== undefined) {\n              window.localStorage.setItem(key, value);\n              module.debug('Value stored using local storage', key, value);\n            } else if (settings.storageMethod == 'sessionstorage' && window.sessionStorage !== undefined) {\n              window.sessionStorage.setItem(key, value);\n              module.debug('Value stored using session storage', key, value);\n            } else if ($.cookie !== undefined) {\n              $.cookie(key, value, options);\n              module.debug('Value stored using cookie', key, value, options);\n            } else {\n              module.error(error.noCookieStorage);\n              return;\n            }\n          },\n          get: function (key, value) {\n            var storedValue;\n\n            if (settings.storageMethod == 'localstorage' && window.localStorage !== undefined) {\n              storedValue = window.localStorage.getItem(key);\n            } else if (settings.storageMethod == 'sessionstorage' && window.sessionStorage !== undefined) {\n              storedValue = window.sessionStorage.getItem(key);\n            } // get by cookie\n            else if ($.cookie !== undefined) {\n                storedValue = $.cookie(key);\n              } else {\n                module.error(error.noCookieStorage);\n              }\n\n            if (storedValue == 'undefined' || storedValue == 'null' || storedValue === undefined || storedValue === null) {\n              storedValue = undefined;\n            }\n\n            return storedValue;\n          },\n          remove: function (key) {\n            var options = module.get.storageOptions();\n\n            if (settings.storageMethod == 'localstorage' && window.localStorage !== undefined) {\n              window.localStorage.removeItem(key);\n            } else if (settings.storageMethod == 'sessionstorage' && window.sessionStorage !== undefined) {\n              window.sessionStorage.removeItem(key);\n            } // store by cookie\n            else if ($.cookie !== undefined) {\n                $.removeCookie(key, options);\n              } else {\n                module.error(error.noStorage);\n              }\n          }\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.nag.settings = {\n    name: 'Nag',\n    silent: false,\n    debug: false,\n    verbose: false,\n    performance: true,\n    namespace: 'Nag',\n    // allows cookie to be overridden\n    persist: false,\n    // set to zero to require manually dismissal, otherwise hides on its own\n    displayTime: 0,\n    animation: {\n      show: 'slide',\n      hide: 'slide'\n    },\n    context: false,\n    detachable: false,\n    expires: 30,\n    domain: false,\n    path: '/',\n    // type of storage to use\n    storageMethod: 'cookie',\n    // value to store in dismissed localstorage/cookie\n    key: 'nag',\n    value: 'dismiss',\n    error: {\n      noCookieStorage: '$.cookie is not included. A storage solution is required.',\n      noStorage: 'Neither $.cookie or store is defined. A storage solution is required for storing state',\n      method: 'The method you called is not defined.'\n    },\n    className: {\n      bottom: 'bottom',\n      fixed: 'fixed'\n    },\n    selector: {\n      close: '.close.icon'\n    },\n    speed: 500,\n    easing: 'easeOutQuad',\n    onHide: function () {}\n  }; // Adds easing\n\n  $.extend($.easing, {\n    easeOutQuad: function (x, t, b, c, d) {\n      return -c * (t /= d) * (t - 2) + b;\n    }\n  });\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"popup.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/modules/popup.js                                                                           //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * # Semantic UI - Popup\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.popup = function (parameters) {\n    var $allModules = $(this),\n        $document = $(document),\n        $window = $(window),\n        $body = $('body'),\n        moduleSelector = $allModules.selector || '',\n        hasTouch = true,\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue;\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.popup.settings, parameters) : $.extend({}, $.fn.popup.settings),\n          selector = settings.selector,\n          className = settings.className,\n          error = settings.error,\n          metadata = settings.metadata,\n          namespace = settings.namespace,\n          eventNamespace = '.' + settings.namespace,\n          moduleNamespace = 'module-' + namespace,\n          $module = $(this),\n          $context = $(settings.context),\n          $scrollContext = $(settings.scrollContext),\n          $boundary = $(settings.boundary),\n          $target = settings.target ? $(settings.target) : $module,\n          $popup,\n          $offsetParent,\n          searchDepth = 0,\n          triedPositions = false,\n          openedWithTouch = false,\n          element = this,\n          instance = $module.data(moduleNamespace),\n          documentObserver,\n          elementNamespace,\n          id,\n          module;\n      module = {\n        // binds events\n        initialize: function () {\n          module.debug('Initializing', $module);\n          module.createID();\n          module.bind.events();\n\n          if (!module.exists() && settings.preserve) {\n            module.create();\n          }\n\n          if (settings.observeChanges) {\n            module.observeChanges();\n          }\n\n          module.instantiate();\n        },\n        instantiate: function () {\n          module.verbose('Storing instance', module);\n          instance = module;\n          $module.data(moduleNamespace, instance);\n        },\n        observeChanges: function () {\n          if ('MutationObserver' in window) {\n            documentObserver = new MutationObserver(module.event.documentChanged);\n            documentObserver.observe(document, {\n              childList: true,\n              subtree: true\n            });\n            module.debug('Setting up mutation observer', documentObserver);\n          }\n        },\n        refresh: function () {\n          if (settings.popup) {\n            $popup = $(settings.popup).eq(0);\n          } else {\n            if (settings.inline) {\n              $popup = $target.nextAll(selector.popup).eq(0);\n              settings.popup = $popup;\n            }\n          }\n\n          if (settings.popup) {\n            $popup.addClass(className.loading);\n            $offsetParent = module.get.offsetParent();\n            $popup.removeClass(className.loading);\n\n            if (settings.movePopup && module.has.popup() && module.get.offsetParent($popup)[0] !== $offsetParent[0]) {\n              module.debug('Moving popup to the same offset parent as target');\n              $popup.detach().appendTo($offsetParent);\n            }\n          } else {\n            $offsetParent = settings.inline ? module.get.offsetParent($target) : module.has.popup() ? module.get.offsetParent($popup) : $body;\n          }\n\n          if ($offsetParent.is('html') && $offsetParent[0] !== $body[0]) {\n            module.debug('Setting page as offset parent');\n            $offsetParent = $body;\n          }\n\n          if (module.get.variation()) {\n            module.set.variation();\n          }\n        },\n        reposition: function () {\n          module.refresh();\n          module.set.position();\n        },\n        destroy: function () {\n          module.debug('Destroying previous module');\n\n          if (documentObserver) {\n            documentObserver.disconnect();\n          } // remove element only if was created dynamically\n\n\n          if ($popup && !settings.preserve) {\n            module.removePopup();\n          } // clear all timeouts\n\n\n          clearTimeout(module.hideTimer);\n          clearTimeout(module.showTimer); // remove events\n\n          module.unbind.close();\n          module.unbind.events();\n          $module.removeData(moduleNamespace);\n        },\n        event: {\n          start: function (event) {\n            var delay = $.isPlainObject(settings.delay) ? settings.delay.show : settings.delay;\n            clearTimeout(module.hideTimer);\n\n            if (!openedWithTouch) {\n              module.showTimer = setTimeout(module.show, delay);\n            }\n          },\n          end: function () {\n            var delay = $.isPlainObject(settings.delay) ? settings.delay.hide : settings.delay;\n            clearTimeout(module.showTimer);\n            module.hideTimer = setTimeout(module.hide, delay);\n          },\n          touchstart: function (event) {\n            openedWithTouch = true;\n            module.show();\n          },\n          resize: function () {\n            if (module.is.visible()) {\n              module.set.position();\n            }\n          },\n          documentChanged: function (mutations) {\n            [].forEach.call(mutations, function (mutation) {\n              if (mutation.removedNodes) {\n                [].forEach.call(mutation.removedNodes, function (node) {\n                  if (node == element || $(node).find(element).length > 0) {\n                    module.debug('Element removed from DOM, tearing down events');\n                    module.destroy();\n                  }\n                });\n              }\n            });\n          },\n          hideGracefully: function (event) {\n            var $target = $(event.target),\n                isInDOM = $.contains(document.documentElement, event.target),\n                inPopup = $target.closest(selector.popup).length > 0; // don't close on clicks inside popup\n\n            if (event && !inPopup && isInDOM) {\n              module.debug('Click occurred outside popup hiding popup');\n              module.hide();\n            } else {\n              module.debug('Click was inside popup, keeping popup open');\n            }\n          }\n        },\n        // generates popup html from metadata\n        create: function () {\n          var html = module.get.html(),\n              title = module.get.title(),\n              content = module.get.content();\n\n          if (html || content || title) {\n            module.debug('Creating pop-up html');\n\n            if (!html) {\n              html = settings.templates.popup({\n                title: title,\n                content: content\n              });\n            }\n\n            $popup = $('<div/>').addClass(className.popup).data(metadata.activator, $module).html(html);\n\n            if (settings.inline) {\n              module.verbose('Inserting popup element inline', $popup);\n              $popup.insertAfter($module);\n            } else {\n              module.verbose('Appending popup element to body', $popup);\n              $popup.appendTo($context);\n            }\n\n            module.refresh();\n            module.set.variation();\n\n            if (settings.hoverable) {\n              module.bind.popup();\n            }\n\n            settings.onCreate.call($popup, element);\n          } else if ($target.next(selector.popup).length !== 0) {\n            module.verbose('Pre-existing popup found');\n            settings.inline = true;\n            settings.popup = $target.next(selector.popup).data(metadata.activator, $module);\n            module.refresh();\n\n            if (settings.hoverable) {\n              module.bind.popup();\n            }\n          } else if (settings.popup) {\n            $(settings.popup).data(metadata.activator, $module);\n            module.verbose('Used popup specified in settings');\n            module.refresh();\n\n            if (settings.hoverable) {\n              module.bind.popup();\n            }\n          } else {\n            module.debug('No content specified skipping display', element);\n          }\n        },\n        createID: function () {\n          id = (Math.random().toString(16) + '000000000').substr(2, 8);\n          elementNamespace = '.' + id;\n          module.verbose('Creating unique id for element', id);\n        },\n        // determines popup state\n        toggle: function () {\n          module.debug('Toggling pop-up');\n\n          if (module.is.hidden()) {\n            module.debug('Popup is hidden, showing pop-up');\n            module.unbind.close();\n            module.show();\n          } else {\n            module.debug('Popup is visible, hiding pop-up');\n            module.hide();\n          }\n        },\n        show: function (callback) {\n          callback = callback || function () {};\n\n          module.debug('Showing pop-up', settings.transition);\n\n          if (module.is.hidden() && !(module.is.active() && module.is.dropdown())) {\n            if (!module.exists()) {\n              module.create();\n            }\n\n            if (settings.onShow.call($popup, element) === false) {\n              module.debug('onShow callback returned false, cancelling popup animation');\n              return;\n            } else if (!settings.preserve && !settings.popup) {\n              module.refresh();\n            }\n\n            if ($popup && module.set.position()) {\n              module.save.conditions();\n\n              if (settings.exclusive) {\n                module.hideAll();\n              }\n\n              module.animate.show(callback);\n            }\n          }\n        },\n        hide: function (callback) {\n          callback = callback || function () {};\n\n          if (module.is.visible() || module.is.animating()) {\n            if (settings.onHide.call($popup, element) === false) {\n              module.debug('onHide callback returned false, cancelling popup animation');\n              return;\n            }\n\n            module.remove.visible();\n            module.unbind.close();\n            module.restore.conditions();\n            module.animate.hide(callback);\n          }\n        },\n        hideAll: function () {\n          $(selector.popup).filter('.' + className.popupVisible).each(function () {\n            $(this).data(metadata.activator).popup('hide');\n          });\n        },\n        exists: function () {\n          if (!$popup) {\n            return false;\n          }\n\n          if (settings.inline || settings.popup) {\n            return module.has.popup();\n          } else {\n            return $popup.closest($context).length >= 1 ? true : false;\n          }\n        },\n        removePopup: function () {\n          if (module.has.popup() && !settings.popup) {\n            module.debug('Removing popup', $popup);\n            $popup.remove();\n            $popup = undefined;\n            settings.onRemove.call($popup, element);\n          }\n        },\n        save: {\n          conditions: function () {\n            module.cache = {\n              title: $module.attr('title')\n            };\n\n            if (module.cache.title) {\n              $module.removeAttr('title');\n            }\n\n            module.verbose('Saving original attributes', module.cache.title);\n          }\n        },\n        restore: {\n          conditions: function () {\n            if (module.cache && module.cache.title) {\n              $module.attr('title', module.cache.title);\n              module.verbose('Restoring original attributes', module.cache.title);\n            }\n\n            return true;\n          }\n        },\n        supports: {\n          svg: function () {\n            return typeof SVGGraphicsElement === 'undefined';\n          }\n        },\n        animate: {\n          show: function (callback) {\n            callback = $.isFunction(callback) ? callback : function () {};\n\n            if (settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n              module.set.visible();\n              $popup.transition({\n                animation: settings.transition + ' in',\n                queue: false,\n                debug: settings.debug,\n                verbose: settings.verbose,\n                duration: settings.duration,\n                onComplete: function () {\n                  module.bind.close();\n                  callback.call($popup, element);\n                  settings.onVisible.call($popup, element);\n                }\n              });\n            } else {\n              module.error(error.noTransition);\n            }\n          },\n          hide: function (callback) {\n            callback = $.isFunction(callback) ? callback : function () {};\n            module.debug('Hiding pop-up');\n\n            if (settings.onHide.call($popup, element) === false) {\n              module.debug('onHide callback returned false, cancelling popup animation');\n              return;\n            }\n\n            if (settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n              $popup.transition({\n                animation: settings.transition + ' out',\n                queue: false,\n                duration: settings.duration,\n                debug: settings.debug,\n                verbose: settings.verbose,\n                onComplete: function () {\n                  module.reset();\n                  callback.call($popup, element);\n                  settings.onHidden.call($popup, element);\n                }\n              });\n            } else {\n              module.error(error.noTransition);\n            }\n          }\n        },\n        change: {\n          content: function (html) {\n            $popup.html(html);\n          }\n        },\n        get: {\n          html: function () {\n            $module.removeData(metadata.html);\n            return $module.data(metadata.html) || settings.html;\n          },\n          title: function () {\n            $module.removeData(metadata.title);\n            return $module.data(metadata.title) || settings.title;\n          },\n          content: function () {\n            $module.removeData(metadata.content);\n            return $module.data(metadata.content) || settings.content || $module.attr('title');\n          },\n          variation: function () {\n            $module.removeData(metadata.variation);\n            return $module.data(metadata.variation) || settings.variation;\n          },\n          popup: function () {\n            return $popup;\n          },\n          popupOffset: function () {\n            return $popup.offset();\n          },\n          calculations: function () {\n            var $popupOffsetParent = module.get.offsetParent($popup),\n                targetElement = $target[0],\n                isWindow = $boundary[0] == window,\n                targetPosition = settings.inline || settings.popup && settings.movePopup ? $target.position() : $target.offset(),\n                screenPosition = isWindow ? {\n              top: 0,\n              left: 0\n            } : $boundary.offset(),\n                calculations = {},\n                scroll = isWindow ? {\n              top: $window.scrollTop(),\n              left: $window.scrollLeft()\n            } : {\n              top: 0,\n              left: 0\n            },\n                screen;\n            calculations = {\n              // element which is launching popup\n              target: {\n                element: $target[0],\n                width: $target.outerWidth(),\n                height: $target.outerHeight(),\n                top: targetPosition.top,\n                left: targetPosition.left,\n                margin: {}\n              },\n              // popup itself\n              popup: {\n                width: $popup.outerWidth(),\n                height: $popup.outerHeight()\n              },\n              // offset container (or 3d context)\n              parent: {\n                width: $offsetParent.outerWidth(),\n                height: $offsetParent.outerHeight()\n              },\n              // screen boundaries\n              screen: {\n                top: screenPosition.top,\n                left: screenPosition.left,\n                scroll: {\n                  top: scroll.top,\n                  left: scroll.left\n                },\n                width: $boundary.width(),\n                height: $boundary.height()\n              }\n            }; // if popup offset context is not same as target, then adjust calculations\n\n            if ($popupOffsetParent.get(0) !== $offsetParent.get(0)) {\n              var popupOffset = $popupOffsetParent.offset();\n              calculations.target.top -= popupOffset.top;\n              calculations.target.left -= popupOffset.left;\n              calculations.parent.width = $popupOffsetParent.outerWidth();\n              calculations.parent.height = $popupOffsetParent.outerHeight();\n            } // add in container calcs if fluid\n\n\n            if (settings.setFluidWidth && module.is.fluid()) {\n              calculations.container = {\n                width: $popup.parent().outerWidth()\n              };\n              calculations.popup.width = calculations.container.width;\n            } // add in margins if inline\n\n\n            calculations.target.margin.top = settings.inline ? parseInt(window.getComputedStyle(targetElement).getPropertyValue('margin-top'), 10) : 0;\n            calculations.target.margin.left = settings.inline ? module.is.rtl() ? parseInt(window.getComputedStyle(targetElement).getPropertyValue('margin-right'), 10) : parseInt(window.getComputedStyle(targetElement).getPropertyValue('margin-left'), 10) : 0; // calculate screen boundaries\n\n            screen = calculations.screen;\n            calculations.boundary = {\n              top: screen.top + screen.scroll.top,\n              bottom: screen.top + screen.scroll.top + screen.height,\n              left: screen.left + screen.scroll.left,\n              right: screen.left + screen.scroll.left + screen.width\n            };\n            return calculations;\n          },\n          id: function () {\n            return id;\n          },\n          startEvent: function () {\n            if (settings.on == 'hover') {\n              return 'mouseenter';\n            } else if (settings.on == 'focus') {\n              return 'focus';\n            }\n\n            return false;\n          },\n          scrollEvent: function () {\n            return 'scroll';\n          },\n          endEvent: function () {\n            if (settings.on == 'hover') {\n              return 'mouseleave';\n            } else if (settings.on == 'focus') {\n              return 'blur';\n            }\n\n            return false;\n          },\n          distanceFromBoundary: function (offset, calculations) {\n            var distanceFromBoundary = {},\n                popup,\n                boundary;\n            calculations = calculations || module.get.calculations(); // shorthand\n\n            popup = calculations.popup;\n            boundary = calculations.boundary;\n\n            if (offset) {\n              distanceFromBoundary = {\n                top: offset.top - boundary.top,\n                left: offset.left - boundary.left,\n                right: boundary.right - (offset.left + popup.width),\n                bottom: boundary.bottom - (offset.top + popup.height)\n              };\n              module.verbose('Distance from boundaries determined', offset, distanceFromBoundary);\n            }\n\n            return distanceFromBoundary;\n          },\n          offsetParent: function ($element) {\n            var element = $element !== undefined ? $element[0] : $target[0],\n                parentNode = element.parentNode,\n                $node = $(parentNode);\n\n            if (parentNode) {\n              var is2D = $node.css('transform') === 'none',\n                  isStatic = $node.css('position') === 'static',\n                  isBody = $node.is('body');\n\n              while (parentNode && !isBody && isStatic && is2D) {\n                parentNode = parentNode.parentNode;\n                $node = $(parentNode);\n                is2D = $node.css('transform') === 'none';\n                isStatic = $node.css('position') === 'static';\n                isBody = $node.is('body');\n              }\n            }\n\n            return $node && $node.length > 0 ? $node : $();\n          },\n          positions: function () {\n            return {\n              'top left': false,\n              'top center': false,\n              'top right': false,\n              'bottom left': false,\n              'bottom center': false,\n              'bottom right': false,\n              'left center': false,\n              'right center': false\n            };\n          },\n          nextPosition: function (position) {\n            var positions = position.split(' '),\n                verticalPosition = positions[0],\n                horizontalPosition = positions[1],\n                opposite = {\n              top: 'bottom',\n              bottom: 'top',\n              left: 'right',\n              right: 'left'\n            },\n                adjacent = {\n              left: 'center',\n              center: 'right',\n              right: 'left'\n            },\n                backup = {\n              'top left': 'top center',\n              'top center': 'top right',\n              'top right': 'right center',\n              'right center': 'bottom right',\n              'bottom right': 'bottom center',\n              'bottom center': 'bottom left',\n              'bottom left': 'left center',\n              'left center': 'top left'\n            },\n                adjacentsAvailable = verticalPosition == 'top' || verticalPosition == 'bottom',\n                oppositeTried = false,\n                adjacentTried = false,\n                nextPosition = false;\n\n            if (!triedPositions) {\n              module.verbose('All available positions available');\n              triedPositions = module.get.positions();\n            }\n\n            module.debug('Recording last position tried', position);\n            triedPositions[position] = true;\n\n            if (settings.prefer === 'opposite') {\n              nextPosition = [opposite[verticalPosition], horizontalPosition];\n              nextPosition = nextPosition.join(' ');\n              oppositeTried = triedPositions[nextPosition] === true;\n              module.debug('Trying opposite strategy', nextPosition);\n            }\n\n            if (settings.prefer === 'adjacent' && adjacentsAvailable) {\n              nextPosition = [verticalPosition, adjacent[horizontalPosition]];\n              nextPosition = nextPosition.join(' ');\n              adjacentTried = triedPositions[nextPosition] === true;\n              module.debug('Trying adjacent strategy', nextPosition);\n            }\n\n            if (adjacentTried || oppositeTried) {\n              module.debug('Using backup position', nextPosition);\n              nextPosition = backup[position];\n            }\n\n            return nextPosition;\n          }\n        },\n        set: {\n          position: function (position, calculations) {\n            // exit conditions\n            if ($target.length === 0 || $popup.length === 0) {\n              module.error(error.notFound);\n              return;\n            }\n\n            var offset, distanceAway, target, popup, parent, positioning, popupOffset, distanceFromBoundary;\n            calculations = calculations || module.get.calculations();\n            position = position || $module.data(metadata.position) || settings.position;\n            offset = $module.data(metadata.offset) || settings.offset;\n            distanceAway = settings.distanceAway; // shorthand\n\n            target = calculations.target;\n            popup = calculations.popup;\n            parent = calculations.parent;\n\n            if (module.should.centerArrow(calculations)) {\n              module.verbose('Adjusting offset to center arrow on small target element');\n\n              if (position == 'top left' || position == 'bottom left') {\n                offset += target.width / 2;\n                offset -= settings.arrowPixelsFromEdge;\n              }\n\n              if (position == 'top right' || position == 'bottom right') {\n                offset -= target.width / 2;\n                offset += settings.arrowPixelsFromEdge;\n              }\n            }\n\n            if (target.width === 0 && target.height === 0 && !module.is.svg(target.element)) {\n              module.debug('Popup target is hidden, no action taken');\n              return false;\n            }\n\n            if (settings.inline) {\n              module.debug('Adding margin to calculation', target.margin);\n\n              if (position == 'left center' || position == 'right center') {\n                offset += target.margin.top;\n                distanceAway += -target.margin.left;\n              } else if (position == 'top left' || position == 'top center' || position == 'top right') {\n                offset += target.margin.left;\n                distanceAway -= target.margin.top;\n              } else {\n                offset += target.margin.left;\n                distanceAway += target.margin.top;\n              }\n            }\n\n            module.debug('Determining popup position from calculations', position, calculations);\n\n            if (module.is.rtl()) {\n              position = position.replace(/left|right/g, function (match) {\n                return match == 'left' ? 'right' : 'left';\n              });\n              module.debug('RTL: Popup position updated', position);\n            } // if last attempt use specified last resort position\n\n\n            if (searchDepth == settings.maxSearchDepth && typeof settings.lastResort === 'string') {\n              position = settings.lastResort;\n            }\n\n            switch (position) {\n              case 'top left':\n                positioning = {\n                  top: 'auto',\n                  bottom: parent.height - target.top + distanceAway,\n                  left: target.left + offset,\n                  right: 'auto'\n                };\n                break;\n\n              case 'top center':\n                positioning = {\n                  bottom: parent.height - target.top + distanceAway,\n                  left: target.left + target.width / 2 - popup.width / 2 + offset,\n                  top: 'auto',\n                  right: 'auto'\n                };\n                break;\n\n              case 'top right':\n                positioning = {\n                  bottom: parent.height - target.top + distanceAway,\n                  right: parent.width - target.left - target.width - offset,\n                  top: 'auto',\n                  left: 'auto'\n                };\n                break;\n\n              case 'left center':\n                positioning = {\n                  top: target.top + target.height / 2 - popup.height / 2 + offset,\n                  right: parent.width - target.left + distanceAway,\n                  left: 'auto',\n                  bottom: 'auto'\n                };\n                break;\n\n              case 'right center':\n                positioning = {\n                  top: target.top + target.height / 2 - popup.height / 2 + offset,\n                  left: target.left + target.width + distanceAway,\n                  bottom: 'auto',\n                  right: 'auto'\n                };\n                break;\n\n              case 'bottom left':\n                positioning = {\n                  top: target.top + target.height + distanceAway,\n                  left: target.left + offset,\n                  bottom: 'auto',\n                  right: 'auto'\n                };\n                break;\n\n              case 'bottom center':\n                positioning = {\n                  top: target.top + target.height + distanceAway,\n                  left: target.left + target.width / 2 - popup.width / 2 + offset,\n                  bottom: 'auto',\n                  right: 'auto'\n                };\n                break;\n\n              case 'bottom right':\n                positioning = {\n                  top: target.top + target.height + distanceAway,\n                  right: parent.width - target.left - target.width - offset,\n                  left: 'auto',\n                  bottom: 'auto'\n                };\n                break;\n            }\n\n            if (positioning === undefined) {\n              module.error(error.invalidPosition, position);\n            }\n\n            module.debug('Calculated popup positioning values', positioning); // tentatively place on stage\n\n            $popup.css(positioning).removeClass(className.position).addClass(position).addClass(className.loading);\n            popupOffset = module.get.popupOffset(); // see if any boundaries are surpassed with this tentative position\n\n            distanceFromBoundary = module.get.distanceFromBoundary(popupOffset, calculations);\n\n            if (module.is.offstage(distanceFromBoundary, position)) {\n              module.debug('Position is outside viewport', position);\n\n              if (searchDepth < settings.maxSearchDepth) {\n                searchDepth++;\n                position = module.get.nextPosition(position);\n                module.debug('Trying new position', position);\n                return $popup ? module.set.position(position, calculations) : false;\n              } else {\n                if (settings.lastResort) {\n                  module.debug('No position found, showing with last position');\n                } else {\n                  module.debug('Popup could not find a position to display', $popup);\n                  module.error(error.cannotPlace, element);\n                  module.remove.attempts();\n                  module.remove.loading();\n                  module.reset();\n                  settings.onUnplaceable.call($popup, element);\n                  return false;\n                }\n              }\n            }\n\n            module.debug('Position is on stage', position);\n            module.remove.attempts();\n            module.remove.loading();\n\n            if (settings.setFluidWidth && module.is.fluid()) {\n              module.set.fluidWidth(calculations);\n            }\n\n            return true;\n          },\n          fluidWidth: function (calculations) {\n            calculations = calculations || module.get.calculations();\n            module.debug('Automatically setting element width to parent width', calculations.parent.width);\n            $popup.css('width', calculations.container.width);\n          },\n          variation: function (variation) {\n            variation = variation || module.get.variation();\n\n            if (variation && module.has.popup()) {\n              module.verbose('Adding variation to popup', variation);\n              $popup.addClass(variation);\n            }\n          },\n          visible: function () {\n            $module.addClass(className.visible);\n          }\n        },\n        remove: {\n          loading: function () {\n            $popup.removeClass(className.loading);\n          },\n          variation: function (variation) {\n            variation = variation || module.get.variation();\n\n            if (variation) {\n              module.verbose('Removing variation', variation);\n              $popup.removeClass(variation);\n            }\n          },\n          visible: function () {\n            $module.removeClass(className.visible);\n          },\n          attempts: function () {\n            module.verbose('Resetting all searched positions');\n            searchDepth = 0;\n            triedPositions = false;\n          }\n        },\n        bind: {\n          events: function () {\n            module.debug('Binding popup events to module');\n\n            if (settings.on == 'click') {\n              $module.on('click' + eventNamespace, module.toggle);\n            }\n\n            if (settings.on == 'hover' && hasTouch) {\n              $module.on('touchstart' + eventNamespace, module.event.touchstart);\n            }\n\n            if (module.get.startEvent()) {\n              $module.on(module.get.startEvent() + eventNamespace, module.event.start).on(module.get.endEvent() + eventNamespace, module.event.end);\n            }\n\n            if (settings.target) {\n              module.debug('Target set to element', $target);\n            }\n\n            $window.on('resize' + elementNamespace, module.event.resize);\n          },\n          popup: function () {\n            module.verbose('Allowing hover events on popup to prevent closing');\n\n            if ($popup && module.has.popup()) {\n              $popup.on('mouseenter' + eventNamespace, module.event.start).on('mouseleave' + eventNamespace, module.event.end);\n            }\n          },\n          close: function () {\n            if (settings.hideOnScroll === true || settings.hideOnScroll == 'auto' && settings.on != 'click') {\n              module.bind.closeOnScroll();\n            }\n\n            if (settings.on == 'hover' && openedWithTouch) {\n              module.bind.touchClose();\n            }\n\n            if (settings.on == 'click' && settings.closable) {\n              module.bind.clickaway();\n            }\n          },\n          closeOnScroll: function () {\n            module.verbose('Binding scroll close event to document');\n            $scrollContext.one(module.get.scrollEvent() + elementNamespace, module.event.hideGracefully);\n          },\n          touchClose: function () {\n            module.verbose('Binding popup touchclose event to document');\n            $document.on('touchstart' + elementNamespace, function (event) {\n              module.verbose('Touched away from popup');\n              module.event.hideGracefully.call(element, event);\n            });\n          },\n          clickaway: function () {\n            module.verbose('Binding popup close event to document');\n            $document.on('click' + elementNamespace, function (event) {\n              module.verbose('Clicked away from popup');\n              module.event.hideGracefully.call(element, event);\n            });\n          }\n        },\n        unbind: {\n          events: function () {\n            $window.off(elementNamespace);\n            $module.off(eventNamespace);\n          },\n          close: function () {\n            $document.off(elementNamespace);\n            $scrollContext.off(elementNamespace);\n          }\n        },\n        has: {\n          popup: function () {\n            return $popup && $popup.length > 0;\n          }\n        },\n        should: {\n          centerArrow: function (calculations) {\n            return !module.is.basic() && calculations.target.width <= settings.arrowPixelsFromEdge * 2;\n          }\n        },\n        is: {\n          offstage: function (distanceFromBoundary, position) {\n            var offstage = []; // return boundaries that have been surpassed\n\n            $.each(distanceFromBoundary, function (direction, distance) {\n              if (distance < -settings.jitter) {\n                module.debug('Position exceeds allowable distance from edge', direction, distance, position);\n                offstage.push(direction);\n              }\n            });\n\n            if (offstage.length > 0) {\n              return true;\n            } else {\n              return false;\n            }\n          },\n          svg: function (element) {\n            return module.supports.svg() && element instanceof SVGGraphicsElement;\n          },\n          basic: function () {\n            return $module.hasClass(className.basic);\n          },\n          active: function () {\n            return $module.hasClass(className.active);\n          },\n          animating: function () {\n            return $popup !== undefined && $popup.hasClass(className.animating);\n          },\n          fluid: function () {\n            return $popup !== undefined && $popup.hasClass(className.fluid);\n          },\n          visible: function () {\n            return $popup !== undefined && $popup.hasClass(className.popupVisible);\n          },\n          dropdown: function () {\n            return $module.hasClass(className.dropdown);\n          },\n          hidden: function () {\n            return !module.is.visible();\n          },\n          rtl: function () {\n            return $module.css('direction') == 'rtl';\n          }\n        },\n        reset: function () {\n          module.remove.visible();\n\n          if (settings.preserve) {\n            if ($.fn.transition !== undefined) {\n              $popup.transition('remove transition');\n            }\n          } else {\n            module.removePopup();\n          }\n        },\n        setting: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            settings[name] = value;\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.popup.settings = {\n    name: 'Popup',\n    // module settings\n    silent: false,\n    debug: false,\n    verbose: false,\n    performance: true,\n    namespace: 'popup',\n    // whether it should use dom mutation observers\n    observeChanges: true,\n    // callback only when element added to dom\n    onCreate: function () {},\n    // callback before element removed from dom\n    onRemove: function () {},\n    // callback before show animation\n    onShow: function () {},\n    // callback after show animation\n    onVisible: function () {},\n    // callback before hide animation\n    onHide: function () {},\n    // callback when popup cannot be positioned in visible screen\n    onUnplaceable: function () {},\n    // callback after hide animation\n    onHidden: function () {},\n    // when to show popup\n    on: 'hover',\n    // element to use to determine if popup is out of boundary\n    boundary: window,\n    // whether to add touchstart events when using hover\n    addTouchEvents: true,\n    // default position relative to element\n    position: 'top left',\n    // name of variation to use\n    variation: '',\n    // whether popup should be moved to context\n    movePopup: true,\n    // element which popup should be relative to\n    target: false,\n    // jq selector or element that should be used as popup\n    popup: false,\n    // popup should remain inline next to activator\n    inline: false,\n    // popup should be removed from page on hide\n    preserve: false,\n    // popup should not close when being hovered on\n    hoverable: false,\n    // explicitly set content\n    content: false,\n    // explicitly set html\n    html: false,\n    // explicitly set title\n    title: false,\n    // whether automatically close on clickaway when on click\n    closable: true,\n    // automatically hide on scroll\n    hideOnScroll: 'auto',\n    // hide other popups on show\n    exclusive: false,\n    // context to attach popups\n    context: 'body',\n    // context for binding scroll events\n    scrollContext: window,\n    // position to prefer when calculating new position\n    prefer: 'opposite',\n    // specify position to appear even if it doesn't fit\n    lastResort: false,\n    // number of pixels from edge of popup to pointing arrow center (used from centering)\n    arrowPixelsFromEdge: 20,\n    // delay used to prevent accidental refiring of animations due to user error\n    delay: {\n      show: 50,\n      hide: 70\n    },\n    // whether fluid variation should assign width explicitly\n    setFluidWidth: true,\n    // transition settings\n    duration: 200,\n    transition: 'scale',\n    // distance away from activating element in px\n    distanceAway: 0,\n    // number of pixels an element is allowed to be \"offstage\" for a position to be chosen (allows for rounding)\n    jitter: 2,\n    // offset on aligning axis from calculated position\n    offset: 0,\n    // maximum times to look for a position before failing (9 positions total)\n    maxSearchDepth: 15,\n    error: {\n      invalidPosition: 'The position you specified is not a valid position',\n      cannotPlace: 'Popup does not fit within the boundaries of the viewport',\n      method: 'The method you called is not defined.',\n      noTransition: 'This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>',\n      notFound: 'The target or popup you specified does not exist on the page'\n    },\n    metadata: {\n      activator: 'activator',\n      content: 'content',\n      html: 'html',\n      offset: 'offset',\n      position: 'position',\n      title: 'title',\n      variation: 'variation'\n    },\n    className: {\n      active: 'active',\n      basic: 'basic',\n      animating: 'animating',\n      dropdown: 'dropdown',\n      fluid: 'fluid',\n      loading: 'loading',\n      popup: 'ui popup',\n      position: 'top left center bottom right',\n      visible: 'visible',\n      popupVisible: 'visible'\n    },\n    selector: {\n      popup: '.ui.popup'\n    },\n    templates: {\n      escape: function (string) {\n        var badChars = /[&<>\"'`]/g,\n            shouldEscape = /[&<>\"'`]/,\n            escape = {\n          \"&\": \"&amp;\",\n          \"<\": \"&lt;\",\n          \">\": \"&gt;\",\n          '\"': \"&quot;\",\n          \"'\": \"&#x27;\",\n          \"`\": \"&#x60;\"\n        },\n            escapedChar = function (chr) {\n          return escape[chr];\n        };\n\n        if (shouldEscape.test(string)) {\n          return string.replace(badChars, escapedChar);\n        }\n\n        return string;\n      },\n      popup: function (text) {\n        var html = '',\n            escape = $.fn.popup.settings.templates.escape;\n\n        if (typeof text !== undefined) {\n          if (typeof text.title !== undefined && text.title) {\n            text.title = escape(text.title);\n            html += '<div class=\"header\">' + text.title + '</div>';\n          }\n\n          if (typeof text.content !== undefined && text.content) {\n            text.content = escape(text.content);\n            html += '<div class=\"content\">' + text.content + '</div>';\n          }\n        }\n\n        return html;\n      }\n    }\n  };\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"progress.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/modules/progress.js                                                                        //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * # Semantic UI - Progress\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n  var global = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.progress = function (parameters) {\n    var $allModules = $(this),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue;\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.progress.settings, parameters) : $.extend({}, $.fn.progress.settings),\n          className = settings.className,\n          metadata = settings.metadata,\n          namespace = settings.namespace,\n          selector = settings.selector,\n          error = settings.error,\n          eventNamespace = '.' + namespace,\n          moduleNamespace = 'module-' + namespace,\n          $module = $(this),\n          $bar = $(this).find(selector.bar),\n          $progress = $(this).find(selector.progress),\n          $label = $(this).find(selector.label),\n          element = this,\n          instance = $module.data(moduleNamespace),\n          animating = false,\n          transitionEnd,\n          module;\n      module = {\n        initialize: function () {\n          module.debug('Initializing progress bar', settings);\n          module.set.duration();\n          module.set.transitionEvent();\n          module.read.metadata();\n          module.read.settings();\n          module.instantiate();\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of progress', module);\n          instance = module;\n          $module.data(moduleNamespace, module);\n        },\n        destroy: function () {\n          module.verbose('Destroying previous progress for', $module);\n          clearInterval(instance.interval);\n          module.remove.state();\n          $module.removeData(moduleNamespace);\n          instance = undefined;\n        },\n        reset: function () {\n          module.remove.nextValue();\n          module.update.progress(0);\n        },\n        complete: function () {\n          if (module.percent === undefined || module.percent < 100) {\n            module.remove.progressPoll();\n            module.set.percent(100);\n          }\n        },\n        read: {\n          metadata: function () {\n            var data = {\n              percent: $module.data(metadata.percent),\n              total: $module.data(metadata.total),\n              value: $module.data(metadata.value)\n            };\n\n            if (data.percent) {\n              module.debug('Current percent value set from metadata', data.percent);\n              module.set.percent(data.percent);\n            }\n\n            if (data.total) {\n              module.debug('Total value set from metadata', data.total);\n              module.set.total(data.total);\n            }\n\n            if (data.value) {\n              module.debug('Current value set from metadata', data.value);\n              module.set.value(data.value);\n              module.set.progress(data.value);\n            }\n          },\n          settings: function () {\n            if (settings.total !== false) {\n              module.debug('Current total set in settings', settings.total);\n              module.set.total(settings.total);\n            }\n\n            if (settings.value !== false) {\n              module.debug('Current value set in settings', settings.value);\n              module.set.value(settings.value);\n              module.set.progress(module.value);\n            }\n\n            if (settings.percent !== false) {\n              module.debug('Current percent set in settings', settings.percent);\n              module.set.percent(settings.percent);\n            }\n          }\n        },\n        bind: {\n          transitionEnd: function (callback) {\n            var transitionEnd = module.get.transitionEnd();\n            $bar.one(transitionEnd + eventNamespace, function (event) {\n              clearTimeout(module.failSafeTimer);\n              callback.call(this, event);\n            });\n            module.failSafeTimer = setTimeout(function () {\n              $bar.triggerHandler(transitionEnd);\n            }, settings.duration + settings.failSafeDelay);\n            module.verbose('Adding fail safe timer', module.timer);\n          }\n        },\n        increment: function (incrementValue) {\n          var maxValue, startValue, newValue;\n\n          if (module.has.total()) {\n            startValue = module.get.value();\n            incrementValue = incrementValue || 1;\n            newValue = startValue + incrementValue;\n          } else {\n            startValue = module.get.percent();\n            incrementValue = incrementValue || module.get.randomValue();\n            newValue = startValue + incrementValue;\n            maxValue = 100;\n            module.debug('Incrementing percentage by', startValue, newValue);\n          }\n\n          newValue = module.get.normalizedValue(newValue);\n          module.set.progress(newValue);\n        },\n        decrement: function (decrementValue) {\n          var total = module.get.total(),\n              startValue,\n              newValue;\n\n          if (total) {\n            startValue = module.get.value();\n            decrementValue = decrementValue || 1;\n            newValue = startValue - decrementValue;\n            module.debug('Decrementing value by', decrementValue, startValue);\n          } else {\n            startValue = module.get.percent();\n            decrementValue = decrementValue || module.get.randomValue();\n            newValue = startValue - decrementValue;\n            module.debug('Decrementing percentage by', decrementValue, startValue);\n          }\n\n          newValue = module.get.normalizedValue(newValue);\n          module.set.progress(newValue);\n        },\n        has: {\n          progressPoll: function () {\n            return module.progressPoll;\n          },\n          total: function () {\n            return module.get.total() !== false;\n          }\n        },\n        get: {\n          text: function (templateText) {\n            var value = module.value || 0,\n                total = module.total || 0,\n                percent = animating ? module.get.displayPercent() : module.percent || 0,\n                left = module.total > 0 ? total - value : 100 - percent;\n            templateText = templateText || '';\n            templateText = templateText.replace('{value}', value).replace('{total}', total).replace('{left}', left).replace('{percent}', percent);\n            module.verbose('Adding variables to progress bar text', templateText);\n            return templateText;\n          },\n          normalizedValue: function (value) {\n            if (value < 0) {\n              module.debug('Value cannot decrement below 0');\n              return 0;\n            }\n\n            if (module.has.total()) {\n              if (value > module.total) {\n                module.debug('Value cannot increment above total', module.total);\n                return module.total;\n              }\n            } else if (value > 100) {\n              module.debug('Value cannot increment above 100 percent');\n              return 100;\n            }\n\n            return value;\n          },\n          updateInterval: function () {\n            if (settings.updateInterval == 'auto') {\n              return settings.duration;\n            }\n\n            return settings.updateInterval;\n          },\n          randomValue: function () {\n            module.debug('Generating random increment percentage');\n            return Math.floor(Math.random() * settings.random.max + settings.random.min);\n          },\n          numericValue: function (value) {\n            return typeof value === 'string' ? value.replace(/[^\\d.]/g, '') !== '' ? +value.replace(/[^\\d.]/g, '') : false : value;\n          },\n          transitionEnd: function () {\n            var element = document.createElement('element'),\n                transitions = {\n              'transition': 'transitionend',\n              'OTransition': 'oTransitionEnd',\n              'MozTransition': 'transitionend',\n              'WebkitTransition': 'webkitTransitionEnd'\n            },\n                transition;\n\n            for (transition in transitions) {\n              if (element.style[transition] !== undefined) {\n                return transitions[transition];\n              }\n            }\n          },\n          // gets current displayed percentage (if animating values this is the intermediary value)\n          displayPercent: function () {\n            var barWidth = $bar.width(),\n                totalWidth = $module.width(),\n                minDisplay = parseInt($bar.css('min-width'), 10),\n                displayPercent = barWidth > minDisplay ? barWidth / totalWidth * 100 : module.percent;\n            return settings.precision > 0 ? Math.round(displayPercent * (10 * settings.precision)) / (10 * settings.precision) : Math.round(displayPercent);\n          },\n          percent: function () {\n            return module.percent || 0;\n          },\n          value: function () {\n            return module.nextValue || module.value || 0;\n          },\n          total: function () {\n            return module.total || false;\n          }\n        },\n        create: {\n          progressPoll: function () {\n            module.progressPoll = setTimeout(function () {\n              module.update.toNextValue();\n              module.remove.progressPoll();\n            }, module.get.updateInterval());\n          }\n        },\n        is: {\n          complete: function () {\n            return module.is.success() || module.is.warning() || module.is.error();\n          },\n          success: function () {\n            return $module.hasClass(className.success);\n          },\n          warning: function () {\n            return $module.hasClass(className.warning);\n          },\n          error: function () {\n            return $module.hasClass(className.error);\n          },\n          active: function () {\n            return $module.hasClass(className.active);\n          },\n          visible: function () {\n            return $module.is(':visible');\n          }\n        },\n        remove: {\n          progressPoll: function () {\n            module.verbose('Removing progress poll timer');\n\n            if (module.progressPoll) {\n              clearTimeout(module.progressPoll);\n              delete module.progressPoll;\n            }\n          },\n          nextValue: function () {\n            module.verbose('Removing progress value stored for next update');\n            delete module.nextValue;\n          },\n          state: function () {\n            module.verbose('Removing stored state');\n            delete module.total;\n            delete module.percent;\n            delete module.value;\n          },\n          active: function () {\n            module.verbose('Removing active state');\n            $module.removeClass(className.active);\n          },\n          success: function () {\n            module.verbose('Removing success state');\n            $module.removeClass(className.success);\n          },\n          warning: function () {\n            module.verbose('Removing warning state');\n            $module.removeClass(className.warning);\n          },\n          error: function () {\n            module.verbose('Removing error state');\n            $module.removeClass(className.error);\n          }\n        },\n        set: {\n          barWidth: function (value) {\n            if (value > 100) {\n              module.error(error.tooHigh, value);\n            } else if (value < 0) {\n              module.error(error.tooLow, value);\n            } else {\n              $bar.css('width', value + '%');\n              $module.attr('data-percent', parseInt(value, 10));\n            }\n          },\n          duration: function (duration) {\n            duration = duration || settings.duration;\n            duration = typeof duration == 'number' ? duration + 'ms' : duration;\n            module.verbose('Setting progress bar transition duration', duration);\n            $bar.css({\n              'transition-duration': duration\n            });\n          },\n          percent: function (percent) {\n            percent = typeof percent == 'string' ? +percent.replace('%', '') : percent; // round display percentage\n\n            percent = settings.precision > 0 ? Math.round(percent * (10 * settings.precision)) / (10 * settings.precision) : Math.round(percent);\n            module.percent = percent;\n\n            if (!module.has.total()) {\n              module.value = settings.precision > 0 ? Math.round(percent / 100 * module.total * (10 * settings.precision)) / (10 * settings.precision) : Math.round(percent / 100 * module.total * 10) / 10;\n\n              if (settings.limitValues) {\n                module.value = module.value > 100 ? 100 : module.value < 0 ? 0 : module.value;\n              }\n            }\n\n            module.set.barWidth(percent);\n            module.set.labelInterval();\n            module.set.labels();\n            settings.onChange.call(element, percent, module.value, module.total);\n          },\n          labelInterval: function () {\n            var animationCallback = function () {\n              module.verbose('Bar finished animating, removing continuous label updates');\n              clearInterval(module.interval);\n              animating = false;\n              module.set.labels();\n            };\n\n            clearInterval(module.interval);\n            module.bind.transitionEnd(animationCallback);\n            animating = true;\n            module.interval = setInterval(function () {\n              var isInDOM = $.contains(document.documentElement, element);\n\n              if (!isInDOM) {\n                clearInterval(module.interval);\n                animating = false;\n              }\n\n              module.set.labels();\n            }, settings.framerate);\n          },\n          labels: function () {\n            module.verbose('Setting both bar progress and outer label text');\n            module.set.barLabel();\n            module.set.state();\n          },\n          label: function (text) {\n            text = text || '';\n\n            if (text) {\n              text = module.get.text(text);\n              module.verbose('Setting label to text', text);\n              $label.text(text);\n            }\n          },\n          state: function (percent) {\n            percent = percent !== undefined ? percent : module.percent;\n\n            if (percent === 100) {\n              if (settings.autoSuccess && !(module.is.warning() || module.is.error() || module.is.success())) {\n                module.set.success();\n                module.debug('Automatically triggering success at 100%');\n              } else {\n                module.verbose('Reached 100% removing active state');\n                module.remove.active();\n                module.remove.progressPoll();\n              }\n            } else if (percent > 0) {\n              module.verbose('Adjusting active progress bar label', percent);\n              module.set.active();\n            } else {\n              module.remove.active();\n              module.set.label(settings.text.active);\n            }\n          },\n          barLabel: function (text) {\n            if (text !== undefined) {\n              $progress.text(module.get.text(text));\n            } else if (settings.label == 'ratio' && module.total) {\n              module.verbose('Adding ratio to bar label');\n              $progress.text(module.get.text(settings.text.ratio));\n            } else if (settings.label == 'percent') {\n              module.verbose('Adding percentage to bar label');\n              $progress.text(module.get.text(settings.text.percent));\n            }\n          },\n          active: function (text) {\n            text = text || settings.text.active;\n            module.debug('Setting active state');\n\n            if (settings.showActivity && !module.is.active()) {\n              $module.addClass(className.active);\n            }\n\n            module.remove.warning();\n            module.remove.error();\n            module.remove.success();\n            text = settings.onLabelUpdate('active', text, module.value, module.total);\n\n            if (text) {\n              module.set.label(text);\n            }\n\n            module.bind.transitionEnd(function () {\n              settings.onActive.call(element, module.value, module.total);\n            });\n          },\n          success: function (text) {\n            text = text || settings.text.success || settings.text.active;\n            module.debug('Setting success state');\n            $module.addClass(className.success);\n            module.remove.active();\n            module.remove.warning();\n            module.remove.error();\n            module.complete();\n\n            if (settings.text.success) {\n              text = settings.onLabelUpdate('success', text, module.value, module.total);\n              module.set.label(text);\n            } else {\n              text = settings.onLabelUpdate('active', text, module.value, module.total);\n              module.set.label(text);\n            }\n\n            module.bind.transitionEnd(function () {\n              settings.onSuccess.call(element, module.total);\n            });\n          },\n          warning: function (text) {\n            text = text || settings.text.warning;\n            module.debug('Setting warning state');\n            $module.addClass(className.warning);\n            module.remove.active();\n            module.remove.success();\n            module.remove.error();\n            module.complete();\n            text = settings.onLabelUpdate('warning', text, module.value, module.total);\n\n            if (text) {\n              module.set.label(text);\n            }\n\n            module.bind.transitionEnd(function () {\n              settings.onWarning.call(element, module.value, module.total);\n            });\n          },\n          error: function (text) {\n            text = text || settings.text.error;\n            module.debug('Setting error state');\n            $module.addClass(className.error);\n            module.remove.active();\n            module.remove.success();\n            module.remove.warning();\n            module.complete();\n            text = settings.onLabelUpdate('error', text, module.value, module.total);\n\n            if (text) {\n              module.set.label(text);\n            }\n\n            module.bind.transitionEnd(function () {\n              settings.onError.call(element, module.value, module.total);\n            });\n          },\n          transitionEvent: function () {\n            transitionEnd = module.get.transitionEnd();\n          },\n          total: function (totalValue) {\n            module.total = totalValue;\n          },\n          value: function (value) {\n            module.value = value;\n          },\n          progress: function (value) {\n            if (!module.has.progressPoll()) {\n              module.debug('First update in progress update interval, immediately updating', value);\n              module.update.progress(value);\n              module.create.progressPoll();\n            } else {\n              module.debug('Updated within interval, setting next update to use new value', value);\n              module.set.nextValue(value);\n            }\n          },\n          nextValue: function (value) {\n            module.nextValue = value;\n          }\n        },\n        update: {\n          toNextValue: function () {\n            var nextValue = module.nextValue;\n\n            if (nextValue) {\n              module.debug('Update interval complete using last updated value', nextValue);\n              module.update.progress(nextValue);\n              module.remove.nextValue();\n            }\n          },\n          progress: function (value) {\n            var percentComplete;\n            value = module.get.numericValue(value);\n\n            if (value === false) {\n              module.error(error.nonNumeric, value);\n            }\n\n            value = module.get.normalizedValue(value);\n\n            if (module.has.total()) {\n              module.set.value(value);\n              percentComplete = value / module.total * 100;\n              module.debug('Calculating percent complete from total', percentComplete);\n              module.set.percent(percentComplete);\n            } else {\n              percentComplete = value;\n              module.debug('Setting value to exact percentage value', percentComplete);\n              module.set.percent(percentComplete);\n            }\n          }\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.progress.settings = {\n    name: 'Progress',\n    namespace: 'progress',\n    silent: false,\n    debug: false,\n    verbose: false,\n    performance: true,\n    random: {\n      min: 2,\n      max: 5\n    },\n    duration: 300,\n    updateInterval: 'auto',\n    autoSuccess: true,\n    showActivity: true,\n    limitValues: true,\n    label: 'percent',\n    precision: 0,\n    framerate: 1000 / 30,\n    /// 30 fps\n    percent: false,\n    total: false,\n    value: false,\n    // delay in ms for fail safe animation callback\n    failSafeDelay: 100,\n    onLabelUpdate: function (state, text, value, total) {\n      return text;\n    },\n    onChange: function (percent, value, total) {},\n    onSuccess: function (total) {},\n    onActive: function (value, total) {},\n    onError: function (value, total) {},\n    onWarning: function (value, total) {},\n    error: {\n      method: 'The method you called is not defined.',\n      nonNumeric: 'Progress value is non numeric',\n      tooHigh: 'Value specified is above 100%',\n      tooLow: 'Value specified is below 0%'\n    },\n    regExp: {\n      variable: /\\{\\$*[A-z0-9]+\\}/g\n    },\n    metadata: {\n      percent: 'percent',\n      total: 'total',\n      value: 'value'\n    },\n    selector: {\n      bar: '> .bar',\n      label: '> .label',\n      progress: '.bar > .progress'\n    },\n    text: {\n      active: false,\n      error: false,\n      success: false,\n      warning: false,\n      percent: '{percent}%',\n      ratio: '{value} of {total}'\n    },\n    className: {\n      active: 'active',\n      error: 'error',\n      success: 'success',\n      warning: 'warning'\n    }\n  };\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"rating.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/modules/rating.js                                                                          //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * # Semantic UI - Rating\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.rating = function (parameters) {\n    var $allModules = $(this),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue;\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.rating.settings, parameters) : $.extend({}, $.fn.rating.settings),\n          namespace = settings.namespace,\n          className = settings.className,\n          metadata = settings.metadata,\n          selector = settings.selector,\n          error = settings.error,\n          eventNamespace = '.' + namespace,\n          moduleNamespace = 'module-' + namespace,\n          element = this,\n          instance = $(this).data(moduleNamespace),\n          $module = $(this),\n          $icon = $module.find(selector.icon),\n          initialLoad,\n          module;\n      module = {\n        initialize: function () {\n          module.verbose('Initializing rating module', settings);\n\n          if ($icon.length === 0) {\n            module.setup.layout();\n          }\n\n          if (settings.interactive) {\n            module.enable();\n          } else {\n            module.disable();\n          }\n\n          module.set.initialLoad();\n          module.set.rating(module.get.initialRating());\n          module.remove.initialLoad();\n          module.instantiate();\n        },\n        instantiate: function () {\n          module.verbose('Instantiating module', settings);\n          instance = module;\n          $module.data(moduleNamespace, module);\n        },\n        destroy: function () {\n          module.verbose('Destroying previous instance', instance);\n          module.remove.events();\n          $module.removeData(moduleNamespace);\n        },\n        refresh: function () {\n          $icon = $module.find(selector.icon);\n        },\n        setup: {\n          layout: function () {\n            var maxRating = module.get.maxRating(),\n                html = $.fn.rating.settings.templates.icon(maxRating);\n            module.debug('Generating icon html dynamically');\n            $module.html(html);\n            module.refresh();\n          }\n        },\n        event: {\n          mouseenter: function () {\n            var $activeIcon = $(this);\n            $activeIcon.nextAll().removeClass(className.selected);\n            $module.addClass(className.selected);\n            $activeIcon.addClass(className.selected).prevAll().addClass(className.selected);\n          },\n          mouseleave: function () {\n            $module.removeClass(className.selected);\n            $icon.removeClass(className.selected);\n          },\n          click: function () {\n            var $activeIcon = $(this),\n                currentRating = module.get.rating(),\n                rating = $icon.index($activeIcon) + 1,\n                canClear = settings.clearable == 'auto' ? $icon.length === 1 : settings.clearable;\n\n            if (canClear && currentRating == rating) {\n              module.clearRating();\n            } else {\n              module.set.rating(rating);\n            }\n          }\n        },\n        clearRating: function () {\n          module.debug('Clearing current rating');\n          module.set.rating(0);\n        },\n        bind: {\n          events: function () {\n            module.verbose('Binding events');\n            $module.on('mouseenter' + eventNamespace, selector.icon, module.event.mouseenter).on('mouseleave' + eventNamespace, selector.icon, module.event.mouseleave).on('click' + eventNamespace, selector.icon, module.event.click);\n          }\n        },\n        remove: {\n          events: function () {\n            module.verbose('Removing events');\n            $module.off(eventNamespace);\n          },\n          initialLoad: function () {\n            initialLoad = false;\n          }\n        },\n        enable: function () {\n          module.debug('Setting rating to interactive mode');\n          module.bind.events();\n          $module.removeClass(className.disabled);\n        },\n        disable: function () {\n          module.debug('Setting rating to read-only mode');\n          module.remove.events();\n          $module.addClass(className.disabled);\n        },\n        is: {\n          initialLoad: function () {\n            return initialLoad;\n          }\n        },\n        get: {\n          initialRating: function () {\n            if ($module.data(metadata.rating) !== undefined) {\n              $module.removeData(metadata.rating);\n              return $module.data(metadata.rating);\n            }\n\n            return settings.initialRating;\n          },\n          maxRating: function () {\n            if ($module.data(metadata.maxRating) !== undefined) {\n              $module.removeData(metadata.maxRating);\n              return $module.data(metadata.maxRating);\n            }\n\n            return settings.maxRating;\n          },\n          rating: function () {\n            var currentRating = $icon.filter('.' + className.active).length;\n            module.verbose('Current rating retrieved', currentRating);\n            return currentRating;\n          }\n        },\n        set: {\n          rating: function (rating) {\n            var ratingIndex = rating - 1 >= 0 ? rating - 1 : 0,\n                $activeIcon = $icon.eq(ratingIndex);\n            $module.removeClass(className.selected);\n            $icon.removeClass(className.selected).removeClass(className.active);\n\n            if (rating > 0) {\n              module.verbose('Setting current rating to', rating);\n              $activeIcon.prevAll().addBack().addClass(className.active);\n            }\n\n            if (!module.is.initialLoad()) {\n              settings.onRate.call(element, rating);\n            }\n          },\n          initialLoad: function () {\n            initialLoad = true;\n          }\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.rating.settings = {\n    name: 'Rating',\n    namespace: 'rating',\n    slent: false,\n    debug: false,\n    verbose: false,\n    performance: true,\n    initialRating: 0,\n    interactive: true,\n    maxRating: 4,\n    clearable: 'auto',\n    fireOnInit: false,\n    onRate: function (rating) {},\n    error: {\n      method: 'The method you called is not defined',\n      noMaximum: 'No maximum rating specified. Cannot generate HTML automatically'\n    },\n    metadata: {\n      rating: 'rating',\n      maxRating: 'maxRating'\n    },\n    className: {\n      active: 'active',\n      disabled: 'disabled',\n      selected: 'selected',\n      loading: 'loading'\n    },\n    selector: {\n      icon: '.icon'\n    },\n    templates: {\n      icon: function (maxRating) {\n        var icon = 1,\n            html = '';\n\n        while (icon <= maxRating) {\n          html += '<i class=\"icon\"></i>';\n          icon++;\n        }\n\n        return html;\n      }\n    }\n  };\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"search.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/modules/search.js                                                                          //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * # Semantic UI - Search\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.search = function (parameters) {\n    var $allModules = $(this),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue;\n    $(this).each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.search.settings, parameters) : $.extend({}, $.fn.search.settings),\n          className = settings.className,\n          metadata = settings.metadata,\n          regExp = settings.regExp,\n          fields = settings.fields,\n          selector = settings.selector,\n          error = settings.error,\n          namespace = settings.namespace,\n          eventNamespace = '.' + namespace,\n          moduleNamespace = namespace + '-module',\n          $module = $(this),\n          $prompt = $module.find(selector.prompt),\n          $searchButton = $module.find(selector.searchButton),\n          $results = $module.find(selector.results),\n          $result = $module.find(selector.result),\n          $category = $module.find(selector.category),\n          element = this,\n          instance = $module.data(moduleNamespace),\n          disabledBubbled = false,\n          resultsDismissed = false,\n          module;\n      module = {\n        initialize: function () {\n          module.verbose('Initializing module');\n          module.get.settings();\n          module.determine.searchFields();\n          module.bind.events();\n          module.set.type();\n          module.create.results();\n          module.instantiate();\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module.data(moduleNamespace, module);\n        },\n        destroy: function () {\n          module.verbose('Destroying instance');\n          $module.off(eventNamespace).removeData(moduleNamespace);\n        },\n        refresh: function () {\n          module.debug('Refreshing selector cache');\n          $prompt = $module.find(selector.prompt);\n          $searchButton = $module.find(selector.searchButton);\n          $category = $module.find(selector.category);\n          $results = $module.find(selector.results);\n          $result = $module.find(selector.result);\n        },\n        refreshResults: function () {\n          $results = $module.find(selector.results);\n          $result = $module.find(selector.result);\n        },\n        bind: {\n          events: function () {\n            module.verbose('Binding events to search');\n\n            if (settings.automatic) {\n              $module.on(module.get.inputEvent() + eventNamespace, selector.prompt, module.event.input);\n              $prompt.attr('autocomplete', 'off');\n            }\n\n            $module // prompt\n            .on('focus' + eventNamespace, selector.prompt, module.event.focus).on('blur' + eventNamespace, selector.prompt, module.event.blur).on('keydown' + eventNamespace, selector.prompt, module.handleKeyboard) // search button\n            .on('click' + eventNamespace, selector.searchButton, module.query) // results\n            .on('mousedown' + eventNamespace, selector.results, module.event.result.mousedown).on('mouseup' + eventNamespace, selector.results, module.event.result.mouseup).on('click' + eventNamespace, selector.result, module.event.result.click);\n          }\n        },\n        determine: {\n          searchFields: function () {\n            // this makes sure $.extend does not add specified search fields to default fields\n            // this is the only setting which should not extend defaults\n            if (parameters && parameters.searchFields !== undefined) {\n              settings.searchFields = parameters.searchFields;\n            }\n          }\n        },\n        event: {\n          input: function () {\n            if (settings.searchDelay) {\n              clearTimeout(module.timer);\n              module.timer = setTimeout(function () {\n                if (module.is.focused()) {\n                  module.query();\n                }\n              }, settings.searchDelay);\n            } else {\n              module.query();\n            }\n          },\n          focus: function () {\n            module.set.focus();\n\n            if (settings.searchOnFocus && module.has.minimumCharacters()) {\n              module.query(function () {\n                if (module.can.show()) {\n                  module.showResults();\n                }\n              });\n            }\n          },\n          blur: function (event) {\n            var pageLostFocus = document.activeElement === this,\n                callback = function () {\n              module.cancel.query();\n              module.remove.focus();\n              module.timer = setTimeout(module.hideResults, settings.hideDelay);\n            };\n\n            if (pageLostFocus) {\n              return;\n            }\n\n            resultsDismissed = false;\n\n            if (module.resultsClicked) {\n              module.debug('Determining if user action caused search to close');\n              $module.one('click.close' + eventNamespace, selector.results, function (event) {\n                if (module.is.inMessage(event) || disabledBubbled) {\n                  $prompt.focus();\n                  return;\n                }\n\n                disabledBubbled = false;\n\n                if (!module.is.animating() && !module.is.hidden()) {\n                  callback();\n                }\n              });\n            } else {\n              module.debug('Input blurred without user action, closing results');\n              callback();\n            }\n          },\n          result: {\n            mousedown: function () {\n              module.resultsClicked = true;\n            },\n            mouseup: function () {\n              module.resultsClicked = false;\n            },\n            click: function (event) {\n              module.debug('Search result selected');\n              var $result = $(this),\n                  $title = $result.find(selector.title).eq(0),\n                  $link = $result.is('a[href]') ? $result : $result.find('a[href]').eq(0),\n                  href = $link.attr('href') || false,\n                  target = $link.attr('target') || false,\n                  title = $title.html(),\n                  // title is used for result lookup\n              value = $title.length > 0 ? $title.text() : false,\n                  results = module.get.results(),\n                  result = $result.data(metadata.result) || module.get.result(value, results),\n                  returnedValue;\n\n              if ($.isFunction(settings.onSelect)) {\n                if (settings.onSelect.call(element, result, results) === false) {\n                  module.debug('Custom onSelect callback cancelled default select action');\n                  disabledBubbled = true;\n                  return;\n                }\n              }\n\n              module.hideResults();\n\n              if (value) {\n                module.set.value(value);\n              }\n\n              if (href) {\n                module.verbose('Opening search link found in result', $link);\n\n                if (target == '_blank' || event.ctrlKey) {\n                  window.open(href);\n                } else {\n                  window.location.href = href;\n                }\n              }\n            }\n          }\n        },\n        handleKeyboard: function (event) {\n          var // force selector refresh\n          $result = $module.find(selector.result),\n              $category = $module.find(selector.category),\n              $activeResult = $result.filter('.' + className.active),\n              currentIndex = $result.index($activeResult),\n              resultSize = $result.length,\n              hasActiveResult = $activeResult.length > 0,\n              keyCode = event.which,\n              keys = {\n            backspace: 8,\n            enter: 13,\n            escape: 27,\n            upArrow: 38,\n            downArrow: 40\n          },\n              newIndex; // search shortcuts\n\n          if (keyCode == keys.escape) {\n            module.verbose('Escape key pressed, blurring search field');\n            module.hideResults();\n            resultsDismissed = true;\n          }\n\n          if (module.is.visible()) {\n            if (keyCode == keys.enter) {\n              module.verbose('Enter key pressed, selecting active result');\n\n              if ($result.filter('.' + className.active).length > 0) {\n                module.event.result.click.call($result.filter('.' + className.active), event);\n                event.preventDefault();\n                return false;\n              }\n            } else if (keyCode == keys.upArrow && hasActiveResult) {\n              module.verbose('Up key pressed, changing active result');\n              newIndex = currentIndex - 1 < 0 ? currentIndex : currentIndex - 1;\n              $category.removeClass(className.active);\n              $result.removeClass(className.active).eq(newIndex).addClass(className.active).closest($category).addClass(className.active);\n              event.preventDefault();\n            } else if (keyCode == keys.downArrow) {\n              module.verbose('Down key pressed, changing active result');\n              newIndex = currentIndex + 1 >= resultSize ? currentIndex : currentIndex + 1;\n              $category.removeClass(className.active);\n              $result.removeClass(className.active).eq(newIndex).addClass(className.active).closest($category).addClass(className.active);\n              event.preventDefault();\n            }\n          } else {\n            // query shortcuts\n            if (keyCode == keys.enter) {\n              module.verbose('Enter key pressed, executing query');\n              module.query();\n              module.set.buttonPressed();\n              $prompt.one('keyup', module.remove.buttonFocus);\n            }\n          }\n        },\n        setup: {\n          api: function (searchTerm, callback) {\n            var apiSettings = {\n              debug: settings.debug,\n              on: false,\n              cache: settings.cache,\n              action: 'search',\n              urlData: {\n                query: searchTerm\n              },\n              onSuccess: function (response) {\n                module.parse.response.call(element, response, searchTerm);\n                callback();\n              },\n              onFailure: function () {\n                module.displayMessage(error.serverError);\n                callback();\n              },\n              onAbort: function (response) {},\n              onError: module.error\n            },\n                searchHTML;\n            $.extend(true, apiSettings, settings.apiSettings);\n            module.verbose('Setting up API request', apiSettings);\n            $module.api(apiSettings);\n          }\n        },\n        can: {\n          useAPI: function () {\n            return $.fn.api !== undefined;\n          },\n          show: function () {\n            return module.is.focused() && !module.is.visible() && !module.is.empty();\n          },\n          transition: function () {\n            return settings.transition && $.fn.transition !== undefined && $module.transition('is supported');\n          }\n        },\n        is: {\n          animating: function () {\n            return $results.hasClass(className.animating);\n          },\n          hidden: function () {\n            return $results.hasClass(className.hidden);\n          },\n          inMessage: function (event) {\n            if (!event.target) {\n              return;\n            }\n\n            var $target = $(event.target),\n                isInDOM = $.contains(document.documentElement, event.target);\n            return isInDOM && $target.closest(selector.message).length > 0;\n          },\n          empty: function () {\n            return $results.html() === '';\n          },\n          visible: function () {\n            return $results.filter(':visible').length > 0;\n          },\n          focused: function () {\n            return $prompt.filter(':focus').length > 0;\n          }\n        },\n        get: {\n          settings: function () {\n            if ($.isPlainObject(parameters) && parameters.searchFullText) {\n              settings.fullTextSearch = parameters.searchFullText;\n              module.error(settings.error.oldSearchSyntax, element);\n            }\n          },\n          inputEvent: function () {\n            var prompt = $prompt[0],\n                inputEvent = prompt !== undefined && prompt.oninput !== undefined ? 'input' : prompt !== undefined && prompt.onpropertychange !== undefined ? 'propertychange' : 'keyup';\n            return inputEvent;\n          },\n          value: function () {\n            return $prompt.val();\n          },\n          results: function () {\n            var results = $module.data(metadata.results);\n            return results;\n          },\n          result: function (value, results) {\n            var lookupFields = ['title', 'id'],\n                result = false;\n            value = value !== undefined ? value : module.get.value();\n            results = results !== undefined ? results : module.get.results();\n\n            if (settings.type === 'category') {\n              module.debug('Finding result that matches', value);\n              $.each(results, function (index, category) {\n                if ($.isArray(category.results)) {\n                  result = module.search.object(value, category.results, lookupFields)[0]; // don't continue searching if a result is found\n\n                  if (result) {\n                    return false;\n                  }\n                }\n              });\n            } else {\n              module.debug('Finding result in results object', value);\n              result = module.search.object(value, results, lookupFields)[0];\n            }\n\n            return result || false;\n          }\n        },\n        select: {\n          firstResult: function () {\n            module.verbose('Selecting first result');\n            $result.first().addClass(className.active);\n          }\n        },\n        set: {\n          focus: function () {\n            $module.addClass(className.focus);\n          },\n          loading: function () {\n            $module.addClass(className.loading);\n          },\n          value: function (value) {\n            module.verbose('Setting search input value', value);\n            $prompt.val(value);\n          },\n          type: function (type) {\n            type = type || settings.type;\n\n            if (settings.type == 'category') {\n              $module.addClass(settings.type);\n            }\n          },\n          buttonPressed: function () {\n            $searchButton.addClass(className.pressed);\n          }\n        },\n        remove: {\n          loading: function () {\n            $module.removeClass(className.loading);\n          },\n          focus: function () {\n            $module.removeClass(className.focus);\n          },\n          buttonPressed: function () {\n            $searchButton.removeClass(className.pressed);\n          }\n        },\n        query: function (callback) {\n          callback = $.isFunction(callback) ? callback : function () {};\n          var searchTerm = module.get.value(),\n              cache = module.read.cache(searchTerm);\n\n          callback = callback || function () {};\n\n          if (module.has.minimumCharacters()) {\n            if (cache) {\n              module.debug('Reading result from cache', searchTerm);\n              module.save.results(cache.results);\n              module.addResults(cache.html);\n              module.inject.id(cache.results);\n              callback();\n            } else {\n              module.debug('Querying for', searchTerm);\n\n              if ($.isPlainObject(settings.source) || $.isArray(settings.source)) {\n                module.search.local(searchTerm);\n                callback();\n              } else if (module.can.useAPI()) {\n                module.search.remote(searchTerm, callback);\n              } else {\n                module.error(error.source);\n                callback();\n              }\n            }\n\n            settings.onSearchQuery.call(element, searchTerm);\n          } else {\n            module.hideResults();\n          }\n        },\n        search: {\n          local: function (searchTerm) {\n            var results = module.search.object(searchTerm, settings.content),\n                searchHTML;\n            module.set.loading();\n            module.save.results(results);\n            module.debug('Returned full local search results', results);\n\n            if (settings.maxResults > 0) {\n              module.debug('Using specified max results', results);\n              results = results.slice(0, settings.maxResults);\n            }\n\n            if (settings.type == 'category') {\n              results = module.create.categoryResults(results);\n            }\n\n            searchHTML = module.generateResults({\n              results: results\n            });\n            module.remove.loading();\n            module.addResults(searchHTML);\n            module.inject.id(results);\n            module.write.cache(searchTerm, {\n              html: searchHTML,\n              results: results\n            });\n          },\n          remote: function (searchTerm, callback) {\n            callback = $.isFunction(callback) ? callback : function () {};\n\n            if ($module.api('is loading')) {\n              $module.api('abort');\n            }\n\n            module.setup.api(searchTerm, callback);\n            $module.api('query');\n          },\n          object: function (searchTerm, source, searchFields) {\n            var results = [],\n                exactResults = [],\n                fuzzyResults = [],\n                searchExp = searchTerm.toString().replace(regExp.escape, '\\\\$&'),\n                matchRegExp = new RegExp(regExp.beginsWith + searchExp, 'i'),\n                // avoid duplicates when pushing results\n            addResult = function (array, result) {\n              var notResult = $.inArray(result, results) == -1,\n                  notFuzzyResult = $.inArray(result, fuzzyResults) == -1,\n                  notExactResults = $.inArray(result, exactResults) == -1;\n\n              if (notResult && notFuzzyResult && notExactResults) {\n                array.push(result);\n              }\n            };\n\n            source = source || settings.source;\n            searchFields = searchFields !== undefined ? searchFields : settings.searchFields; // search fields should be array to loop correctly\n\n            if (!$.isArray(searchFields)) {\n              searchFields = [searchFields];\n            } // exit conditions if no source\n\n\n            if (source === undefined || source === false) {\n              module.error(error.source);\n              return [];\n            } // iterate through search fields looking for matches\n\n\n            $.each(searchFields, function (index, field) {\n              $.each(source, function (label, content) {\n                var fieldExists = typeof content[field] == 'string';\n\n                if (fieldExists) {\n                  if (content[field].search(matchRegExp) !== -1) {\n                    // content starts with value (first in results)\n                    addResult(results, content);\n                  } else if (settings.fullTextSearch === 'exact' && module.exactSearch(searchTerm, content[field])) {\n                    // content fuzzy matches (last in results)\n                    addResult(exactResults, content);\n                  } else if (settings.fullTextSearch == true && module.fuzzySearch(searchTerm, content[field])) {\n                    // content fuzzy matches (last in results)\n                    addResult(fuzzyResults, content);\n                  }\n                }\n              });\n            });\n            $.merge(exactResults, fuzzyResults);\n            $.merge(results, exactResults);\n            return results;\n          }\n        },\n        exactSearch: function (query, term) {\n          query = query.toLowerCase();\n          term = term.toLowerCase();\n\n          if (term.indexOf(query) > -1) {\n            return true;\n          }\n\n          return false;\n        },\n        fuzzySearch: function (query, term) {\n          var termLength = term.length,\n              queryLength = query.length;\n\n          if (typeof query !== 'string') {\n            return false;\n          }\n\n          query = query.toLowerCase();\n          term = term.toLowerCase();\n\n          if (queryLength > termLength) {\n            return false;\n          }\n\n          if (queryLength === termLength) {\n            return query === term;\n          }\n\n          search: for (var characterIndex = 0, nextCharacterIndex = 0; characterIndex < queryLength; characterIndex++) {\n            var queryCharacter = query.charCodeAt(characterIndex);\n\n            while (nextCharacterIndex < termLength) {\n              if (term.charCodeAt(nextCharacterIndex++) === queryCharacter) {\n                continue search;\n              }\n            }\n\n            return false;\n          }\n\n          return true;\n        },\n        parse: {\n          response: function (response, searchTerm) {\n            var searchHTML = module.generateResults(response);\n            module.verbose('Parsing server response', response);\n\n            if (response !== undefined) {\n              if (searchTerm !== undefined && response[fields.results] !== undefined) {\n                module.addResults(searchHTML);\n                module.inject.id(response[fields.results]);\n                module.write.cache(searchTerm, {\n                  html: searchHTML,\n                  results: response[fields.results]\n                });\n                module.save.results(response[fields.results]);\n              }\n            }\n          }\n        },\n        cancel: {\n          query: function () {\n            if (module.can.useAPI()) {\n              $module.api('abort');\n            }\n          }\n        },\n        has: {\n          minimumCharacters: function () {\n            var searchTerm = module.get.value(),\n                numCharacters = searchTerm.length;\n            return numCharacters >= settings.minCharacters;\n          },\n          results: function () {\n            if ($results.length === 0) {\n              return false;\n            }\n\n            var html = $results.html();\n            return html != '';\n          }\n        },\n        clear: {\n          cache: function (value) {\n            var cache = $module.data(metadata.cache);\n\n            if (!value) {\n              module.debug('Clearing cache', value);\n              $module.removeData(metadata.cache);\n            } else if (value && cache && cache[value]) {\n              module.debug('Removing value from cache', value);\n              delete cache[value];\n              $module.data(metadata.cache, cache);\n            }\n          }\n        },\n        read: {\n          cache: function (name) {\n            var cache = $module.data(metadata.cache);\n\n            if (settings.cache) {\n              module.verbose('Checking cache for generated html for query', name);\n              return typeof cache == 'object' && cache[name] !== undefined ? cache[name] : false;\n            }\n\n            return false;\n          }\n        },\n        create: {\n          categoryResults: function (results) {\n            var categoryResults = {};\n            $.each(results, function (index, result) {\n              if (!result.category) {\n                return;\n              }\n\n              if (categoryResults[result.category] === undefined) {\n                module.verbose('Creating new category of results', result.category);\n                categoryResults[result.category] = {\n                  name: result.category,\n                  results: [result]\n                };\n              } else {\n                categoryResults[result.category].results.push(result);\n              }\n            });\n            return categoryResults;\n          },\n          id: function (resultIndex, categoryIndex) {\n            var resultID = resultIndex + 1,\n                // not zero indexed\n            categoryID = categoryIndex + 1,\n                firstCharCode,\n                letterID,\n                id;\n\n            if (categoryIndex !== undefined) {\n              // start char code for \"A\"\n              letterID = String.fromCharCode(97 + categoryIndex);\n              id = letterID + resultID;\n              module.verbose('Creating category result id', id);\n            } else {\n              id = resultID;\n              module.verbose('Creating result id', id);\n            }\n\n            return id;\n          },\n          results: function () {\n            if ($results.length === 0) {\n              $results = $('<div />').addClass(className.results).appendTo($module);\n            }\n          }\n        },\n        inject: {\n          result: function (result, resultIndex, categoryIndex) {\n            module.verbose('Injecting result into results');\n            var $selectedResult = categoryIndex !== undefined ? $results.children().eq(categoryIndex).children(selector.results).first().children(selector.result).eq(resultIndex) : $results.children(selector.result).eq(resultIndex);\n            module.verbose('Injecting results metadata', $selectedResult);\n            $selectedResult.data(metadata.result, result);\n          },\n          id: function (results) {\n            module.debug('Injecting unique ids into results');\n            var // since results may be object, we must use counters\n            categoryIndex = 0,\n                resultIndex = 0;\n\n            if (settings.type === 'category') {\n              // iterate through each category result\n              $.each(results, function (index, category) {\n                resultIndex = 0;\n                $.each(category.results, function (index, value) {\n                  var result = category.results[index];\n\n                  if (result.id === undefined) {\n                    result.id = module.create.id(resultIndex, categoryIndex);\n                  }\n\n                  module.inject.result(result, resultIndex, categoryIndex);\n                  resultIndex++;\n                });\n                categoryIndex++;\n              });\n            } else {\n              // top level\n              $.each(results, function (index, value) {\n                var result = results[index];\n\n                if (result.id === undefined) {\n                  result.id = module.create.id(resultIndex);\n                }\n\n                module.inject.result(result, resultIndex);\n                resultIndex++;\n              });\n            }\n\n            return results;\n          }\n        },\n        save: {\n          results: function (results) {\n            module.verbose('Saving current search results to metadata', results);\n            $module.data(metadata.results, results);\n          }\n        },\n        write: {\n          cache: function (name, value) {\n            var cache = $module.data(metadata.cache) !== undefined ? $module.data(metadata.cache) : {};\n\n            if (settings.cache) {\n              module.verbose('Writing generated html to cache', name, value);\n              cache[name] = value;\n              $module.data(metadata.cache, cache);\n            }\n          }\n        },\n        addResults: function (html) {\n          if ($.isFunction(settings.onResultsAdd)) {\n            if (settings.onResultsAdd.call($results, html) === false) {\n              module.debug('onResultsAdd callback cancelled default action');\n              return false;\n            }\n          }\n\n          if (html) {\n            $results.html(html);\n            module.refreshResults();\n\n            if (settings.selectFirstResult) {\n              module.select.firstResult();\n            }\n\n            module.showResults();\n          } else {\n            module.hideResults(function () {\n              $results.empty();\n            });\n          }\n        },\n        showResults: function (callback) {\n          callback = $.isFunction(callback) ? callback : function () {};\n\n          if (resultsDismissed) {\n            return;\n          }\n\n          if (!module.is.visible() && module.has.results()) {\n            if (module.can.transition()) {\n              module.debug('Showing results with css animations');\n              $results.transition({\n                animation: settings.transition + ' in',\n                debug: settings.debug,\n                verbose: settings.verbose,\n                duration: settings.duration,\n                onComplete: function () {\n                  callback();\n                },\n                queue: true\n              });\n            } else {\n              module.debug('Showing results with javascript');\n              $results.stop().fadeIn(settings.duration, settings.easing);\n            }\n\n            settings.onResultsOpen.call($results);\n          }\n        },\n        hideResults: function (callback) {\n          callback = $.isFunction(callback) ? callback : function () {};\n\n          if (module.is.visible()) {\n            if (module.can.transition()) {\n              module.debug('Hiding results with css animations');\n              $results.transition({\n                animation: settings.transition + ' out',\n                debug: settings.debug,\n                verbose: settings.verbose,\n                duration: settings.duration,\n                onComplete: function () {\n                  callback();\n                },\n                queue: true\n              });\n            } else {\n              module.debug('Hiding results with javascript');\n              $results.stop().fadeOut(settings.duration, settings.easing);\n            }\n\n            settings.onResultsClose.call($results);\n          }\n        },\n        generateResults: function (response) {\n          module.debug('Generating html from response', response);\n          var template = settings.templates[settings.type],\n              isProperObject = $.isPlainObject(response[fields.results]) && !$.isEmptyObject(response[fields.results]),\n              isProperArray = $.isArray(response[fields.results]) && response[fields.results].length > 0,\n              html = '';\n\n          if (isProperObject || isProperArray) {\n            if (settings.maxResults > 0) {\n              if (isProperObject) {\n                if (settings.type == 'standard') {\n                  module.error(error.maxResults);\n                }\n              } else {\n                response[fields.results] = response[fields.results].slice(0, settings.maxResults);\n              }\n            }\n\n            if ($.isFunction(template)) {\n              html = template(response, fields);\n            } else {\n              module.error(error.noTemplate, false);\n            }\n          } else if (settings.showNoResults) {\n            html = module.displayMessage(error.noResults, 'empty');\n          }\n\n          settings.onResults.call(element, response);\n          return html;\n        },\n        displayMessage: function (text, type) {\n          type = type || 'standard';\n          module.debug('Displaying message', text, type);\n          module.addResults(settings.templates.message(text, type));\n          return settings.templates.message(text, type);\n        },\n        setting: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            settings[name] = value;\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.search.settings = {\n    name: 'Search',\n    namespace: 'search',\n    silent: false,\n    debug: false,\n    verbose: false,\n    performance: true,\n    // template to use (specified in settings.templates)\n    type: 'standard',\n    // minimum characters required to search\n    minCharacters: 1,\n    // whether to select first result after searching automatically\n    selectFirstResult: false,\n    // API config\n    apiSettings: false,\n    // object to search\n    source: false,\n    // Whether search should query current term on focus\n    searchOnFocus: true,\n    // fields to search\n    searchFields: ['title', 'description'],\n    // field to display in standard results template\n    displayField: '',\n    // search anywhere in value (set to 'exact' to require exact matches\n    fullTextSearch: 'exact',\n    // whether to add events to prompt automatically\n    automatic: true,\n    // delay before hiding menu after blur\n    hideDelay: 0,\n    // delay before searching\n    searchDelay: 200,\n    // maximum results returned from search\n    maxResults: 7,\n    // whether to store lookups in local cache\n    cache: true,\n    // whether no results errors should be shown\n    showNoResults: true,\n    // transition settings\n    transition: 'scale',\n    duration: 200,\n    easing: 'easeOutExpo',\n    // callbacks\n    onSelect: false,\n    onResultsAdd: false,\n    onSearchQuery: function (query) {},\n    onResults: function (response) {},\n    onResultsOpen: function () {},\n    onResultsClose: function () {},\n    className: {\n      animating: 'animating',\n      active: 'active',\n      empty: 'empty',\n      focus: 'focus',\n      hidden: 'hidden',\n      loading: 'loading',\n      results: 'results',\n      pressed: 'down'\n    },\n    error: {\n      source: 'Cannot search. No source used, and Semantic API module was not included',\n      noResults: 'Your search returned no results',\n      logging: 'Error in debug logging, exiting.',\n      noEndpoint: 'No search endpoint was specified',\n      noTemplate: 'A valid template name was not specified.',\n      oldSearchSyntax: 'searchFullText setting has been renamed fullTextSearch for consistency, please adjust your settings.',\n      serverError: 'There was an issue querying the server.',\n      maxResults: 'Results must be an array to use maxResults setting',\n      method: 'The method you called is not defined.'\n    },\n    metadata: {\n      cache: 'cache',\n      results: 'results',\n      result: 'result'\n    },\n    regExp: {\n      escape: /[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g,\n      beginsWith: '(?:\\s|^)'\n    },\n    // maps api response attributes to internal representation\n    fields: {\n      categories: 'results',\n      // array of categories (category view)\n      categoryName: 'name',\n      // name of category (category view)\n      categoryResults: 'results',\n      // array of results (category view)\n      description: 'description',\n      // result description\n      image: 'image',\n      // result image\n      price: 'price',\n      // result price\n      results: 'results',\n      // array of results (standard)\n      title: 'title',\n      // result title\n      url: 'url',\n      // result url\n      action: 'action',\n      // \"view more\" object name\n      actionText: 'text',\n      // \"view more\" text\n      actionURL: 'url' // \"view more\" url\n\n    },\n    selector: {\n      prompt: '.prompt',\n      searchButton: '.search.button',\n      results: '.results',\n      message: '.results > .message',\n      category: '.category',\n      result: '.result',\n      title: '.title, .name'\n    },\n    templates: {\n      escape: function (string) {\n        var badChars = /[&<>\"'`]/g,\n            shouldEscape = /[&<>\"'`]/,\n            escape = {\n          \"&\": \"&amp;\",\n          \"<\": \"&lt;\",\n          \">\": \"&gt;\",\n          '\"': \"&quot;\",\n          \"'\": \"&#x27;\",\n          \"`\": \"&#x60;\"\n        },\n            escapedChar = function (chr) {\n          return escape[chr];\n        };\n\n        if (shouldEscape.test(string)) {\n          return string.replace(badChars, escapedChar);\n        }\n\n        return string;\n      },\n      message: function (message, type) {\n        var html = '';\n\n        if (message !== undefined && type !== undefined) {\n          html += '' + '<div class=\"message ' + type + '\">'; // message type\n\n          if (type == 'empty') {\n            html += '' + '<div class=\"header\">No Results</div class=\"header\">' + '<div class=\"description\">' + message + '</div class=\"description\">';\n          } else {\n            html += ' <div class=\"description\">' + message + '</div>';\n          }\n\n          html += '</div>';\n        }\n\n        return html;\n      },\n      category: function (response, fields) {\n        var html = '',\n            escape = $.fn.search.settings.templates.escape;\n\n        if (response[fields.categoryResults] !== undefined) {\n          // each category\n          $.each(response[fields.categoryResults], function (index, category) {\n            if (category[fields.results] !== undefined && category.results.length > 0) {\n              html += '<div class=\"category\">';\n\n              if (category[fields.categoryName] !== undefined) {\n                html += '<div class=\"name\">' + category[fields.categoryName] + '</div>';\n              } // each item inside category\n\n\n              html += '<div class=\"results\">';\n              $.each(category.results, function (index, result) {\n                if (result[fields.url]) {\n                  html += '<a class=\"result\" href=\"' + result[fields.url] + '\">';\n                } else {\n                  html += '<a class=\"result\">';\n                }\n\n                if (result[fields.image] !== undefined) {\n                  html += '' + '<div class=\"image\">' + ' <img src=\"' + result[fields.image] + '\">' + '</div>';\n                }\n\n                html += '<div class=\"content\">';\n\n                if (result[fields.price] !== undefined) {\n                  html += '<div class=\"price\">' + result[fields.price] + '</div>';\n                }\n\n                if (result[fields.title] !== undefined) {\n                  html += '<div class=\"title\">' + result[fields.title] + '</div>';\n                }\n\n                if (result[fields.description] !== undefined) {\n                  html += '<div class=\"description\">' + result[fields.description] + '</div>';\n                }\n\n                html += '' + '</div>';\n                html += '</a>';\n              });\n              html += '</div>';\n              html += '' + '</div>';\n            }\n          });\n\n          if (response[fields.action]) {\n            html += '' + '<a href=\"' + response[fields.action][fields.actionURL] + '\" class=\"action\">' + response[fields.action][fields.actionText] + '</a>';\n          }\n\n          return html;\n        }\n\n        return false;\n      },\n      standard: function (response, fields) {\n        var html = '';\n\n        if (response[fields.results] !== undefined) {\n          // each result\n          $.each(response[fields.results], function (index, result) {\n            if (result[fields.url]) {\n              html += '<a class=\"result\" href=\"' + result[fields.url] + '\">';\n            } else {\n              html += '<a class=\"result\">';\n            }\n\n            if (result[fields.image] !== undefined) {\n              html += '' + '<div class=\"image\">' + ' <img src=\"' + result[fields.image] + '\">' + '</div>';\n            }\n\n            html += '<div class=\"content\">';\n\n            if (result[fields.price] !== undefined) {\n              html += '<div class=\"price\">' + result[fields.price] + '</div>';\n            }\n\n            if (result[fields.title] !== undefined) {\n              html += '<div class=\"title\">' + result[fields.title] + '</div>';\n            }\n\n            if (result[fields.description] !== undefined) {\n              html += '<div class=\"description\">' + result[fields.description] + '</div>';\n            }\n\n            html += '' + '</div>';\n            html += '</a>';\n          });\n\n          if (response[fields.action]) {\n            html += '' + '<a href=\"' + response[fields.action][fields.actionURL] + '\" class=\"action\">' + response[fields.action][fields.actionText] + '</a>';\n          }\n\n          return html;\n        }\n\n        return false;\n      }\n    }\n  };\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"shape.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/modules/shape.js                                                                           //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * # Semantic UI - Shape\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.shape = function (parameters) {\n    var $allModules = $(this),\n        $body = $('body'),\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {\n      setTimeout(callback, 0);\n    },\n        returnedValue;\n\n    $allModules.each(function () {\n      var moduleSelector = $allModules.selector || '',\n          settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.shape.settings, parameters) : $.extend({}, $.fn.shape.settings),\n          // internal aliases\n      namespace = settings.namespace,\n          selector = settings.selector,\n          error = settings.error,\n          className = settings.className,\n          // define namespaces for modules\n      eventNamespace = '.' + namespace,\n          moduleNamespace = 'module-' + namespace,\n          // selector cache\n      $module = $(this),\n          $sides = $module.find(selector.sides),\n          $side = $module.find(selector.side),\n          // private variables\n      nextIndex = false,\n          $activeSide,\n          $nextSide,\n          // standard module\n      element = this,\n          instance = $module.data(moduleNamespace),\n          module;\n      module = {\n        initialize: function () {\n          module.verbose('Initializing module for', element);\n          module.set.defaultSide();\n          module.instantiate();\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module.data(moduleNamespace, instance);\n        },\n        destroy: function () {\n          module.verbose('Destroying previous module for', element);\n          $module.removeData(moduleNamespace).off(eventNamespace);\n        },\n        refresh: function () {\n          module.verbose('Refreshing selector cache for', element);\n          $module = $(element);\n          $sides = $(this).find(selector.shape);\n          $side = $(this).find(selector.side);\n        },\n        repaint: function () {\n          module.verbose('Forcing repaint event');\n          var shape = $sides[0] || document.createElement('div'),\n              fakeAssignment = shape.offsetWidth;\n        },\n        animate: function (propertyObject, callback) {\n          module.verbose('Animating box with properties', propertyObject);\n\n          callback = callback || function (event) {\n            module.verbose('Executing animation callback');\n\n            if (event !== undefined) {\n              event.stopPropagation();\n            }\n\n            module.reset();\n            module.set.active();\n          };\n\n          settings.beforeChange.call($nextSide[0]);\n\n          if (module.get.transitionEvent()) {\n            module.verbose('Starting CSS animation');\n            $module.addClass(className.animating);\n            $sides.css(propertyObject).one(module.get.transitionEvent(), callback);\n            module.set.duration(settings.duration);\n            requestAnimationFrame(function () {\n              $module.addClass(className.animating);\n              $activeSide.addClass(className.hidden);\n            });\n          } else {\n            callback();\n          }\n        },\n        queue: function (method) {\n          module.debug('Queueing animation of', method);\n          $sides.one(module.get.transitionEvent(), function () {\n            module.debug('Executing queued animation');\n            setTimeout(function () {\n              $module.shape(method);\n            }, 0);\n          });\n        },\n        reset: function () {\n          module.verbose('Animating states reset');\n          $module.removeClass(className.animating).attr('style', '').removeAttr('style'); // removeAttr style does not consistently work in safari\n\n          $sides.attr('style', '').removeAttr('style');\n          $side.attr('style', '').removeAttr('style').removeClass(className.hidden);\n          $nextSide.removeClass(className.animating).attr('style', '').removeAttr('style');\n        },\n        is: {\n          complete: function () {\n            return $side.filter('.' + className.active)[0] == $nextSide[0];\n          },\n          animating: function () {\n            return $module.hasClass(className.animating);\n          }\n        },\n        set: {\n          defaultSide: function () {\n            $activeSide = $module.find('.' + settings.className.active);\n            $nextSide = $activeSide.next(selector.side).length > 0 ? $activeSide.next(selector.side) : $module.find(selector.side).first();\n            nextIndex = false;\n            module.verbose('Active side set to', $activeSide);\n            module.verbose('Next side set to', $nextSide);\n          },\n          duration: function (duration) {\n            duration = duration || settings.duration;\n            duration = typeof duration == 'number' ? duration + 'ms' : duration;\n            module.verbose('Setting animation duration', duration);\n\n            if (settings.duration || settings.duration === 0) {\n              $sides.add($side).css({\n                '-webkit-transition-duration': duration,\n                '-moz-transition-duration': duration,\n                '-ms-transition-duration': duration,\n                '-o-transition-duration': duration,\n                'transition-duration': duration\n              });\n            }\n          },\n          currentStageSize: function () {\n            var $activeSide = $module.find('.' + settings.className.active),\n                width = $activeSide.outerWidth(true),\n                height = $activeSide.outerHeight(true);\n            $module.css({\n              width: width,\n              height: height\n            });\n          },\n          stageSize: function () {\n            var $clone = $module.clone().addClass(className.loading),\n                $activeSide = $clone.find('.' + settings.className.active),\n                $nextSide = nextIndex ? $clone.find(selector.side).eq(nextIndex) : $activeSide.next(selector.side).length > 0 ? $activeSide.next(selector.side) : $clone.find(selector.side).first(),\n                newWidth = settings.width == 'next' ? $nextSide.outerWidth(true) : settings.width == 'initial' ? $module.width() : settings.width,\n                newHeight = settings.height == 'next' ? $nextSide.outerHeight(true) : settings.height == 'initial' ? $module.height() : settings.height;\n            $activeSide.removeClass(className.active);\n            $nextSide.addClass(className.active);\n            $clone.insertAfter($module);\n            $clone.remove();\n\n            if (settings.width != 'auto') {\n              $module.css('width', newWidth + settings.jitter);\n              module.verbose('Specifying width during animation', newWidth);\n            }\n\n            if (settings.height != 'auto') {\n              $module.css('height', newHeight + settings.jitter);\n              module.verbose('Specifying height during animation', newHeight);\n            }\n          },\n          nextSide: function (selector) {\n            nextIndex = selector;\n            $nextSide = $side.filter(selector);\n            nextIndex = $side.index($nextSide);\n\n            if ($nextSide.length === 0) {\n              module.set.defaultSide();\n              module.error(error.side);\n            }\n\n            module.verbose('Next side manually set to', $nextSide);\n          },\n          active: function () {\n            module.verbose('Setting new side to active', $nextSide);\n            $side.removeClass(className.active);\n            $nextSide.addClass(className.active);\n            settings.onChange.call($nextSide[0]);\n            module.set.defaultSide();\n          }\n        },\n        flip: {\n          up: function () {\n            if (module.is.complete() && !module.is.animating() && !settings.allowRepeats) {\n              module.debug('Side already visible', $nextSide);\n              return;\n            }\n\n            if (!module.is.animating()) {\n              module.debug('Flipping up', $nextSide);\n              var transform = module.get.transform.up();\n              module.set.stageSize();\n              module.stage.above();\n              module.animate(transform);\n            } else {\n              module.queue('flip up');\n            }\n          },\n          down: function () {\n            if (module.is.complete() && !module.is.animating() && !settings.allowRepeats) {\n              module.debug('Side already visible', $nextSide);\n              return;\n            }\n\n            if (!module.is.animating()) {\n              module.debug('Flipping down', $nextSide);\n              var transform = module.get.transform.down();\n              module.set.stageSize();\n              module.stage.below();\n              module.animate(transform);\n            } else {\n              module.queue('flip down');\n            }\n          },\n          left: function () {\n            if (module.is.complete() && !module.is.animating() && !settings.allowRepeats) {\n              module.debug('Side already visible', $nextSide);\n              return;\n            }\n\n            if (!module.is.animating()) {\n              module.debug('Flipping left', $nextSide);\n              var transform = module.get.transform.left();\n              module.set.stageSize();\n              module.stage.left();\n              module.animate(transform);\n            } else {\n              module.queue('flip left');\n            }\n          },\n          right: function () {\n            if (module.is.complete() && !module.is.animating() && !settings.allowRepeats) {\n              module.debug('Side already visible', $nextSide);\n              return;\n            }\n\n            if (!module.is.animating()) {\n              module.debug('Flipping right', $nextSide);\n              var transform = module.get.transform.right();\n              module.set.stageSize();\n              module.stage.right();\n              module.animate(transform);\n            } else {\n              module.queue('flip right');\n            }\n          },\n          over: function () {\n            if (module.is.complete() && !module.is.animating() && !settings.allowRepeats) {\n              module.debug('Side already visible', $nextSide);\n              return;\n            }\n\n            if (!module.is.animating()) {\n              module.debug('Flipping over', $nextSide);\n              module.set.stageSize();\n              module.stage.behind();\n              module.animate(module.get.transform.over());\n            } else {\n              module.queue('flip over');\n            }\n          },\n          back: function () {\n            if (module.is.complete() && !module.is.animating() && !settings.allowRepeats) {\n              module.debug('Side already visible', $nextSide);\n              return;\n            }\n\n            if (!module.is.animating()) {\n              module.debug('Flipping back', $nextSide);\n              module.set.stageSize();\n              module.stage.behind();\n              module.animate(module.get.transform.back());\n            } else {\n              module.queue('flip back');\n            }\n          }\n        },\n        get: {\n          transform: {\n            up: function () {\n              var translate = {\n                y: -(($activeSide.outerHeight(true) - $nextSide.outerHeight(true)) / 2),\n                z: -($activeSide.outerHeight(true) / 2)\n              };\n              return {\n                transform: 'translateY(' + translate.y + 'px) translateZ(' + translate.z + 'px) rotateX(-90deg)'\n              };\n            },\n            down: function () {\n              var translate = {\n                y: -(($activeSide.outerHeight(true) - $nextSide.outerHeight(true)) / 2),\n                z: -($activeSide.outerHeight(true) / 2)\n              };\n              return {\n                transform: 'translateY(' + translate.y + 'px) translateZ(' + translate.z + 'px) rotateX(90deg)'\n              };\n            },\n            left: function () {\n              var translate = {\n                x: -(($activeSide.outerWidth(true) - $nextSide.outerWidth(true)) / 2),\n                z: -($activeSide.outerWidth(true) / 2)\n              };\n              return {\n                transform: 'translateX(' + translate.x + 'px) translateZ(' + translate.z + 'px) rotateY(90deg)'\n              };\n            },\n            right: function () {\n              var translate = {\n                x: -(($activeSide.outerWidth(true) - $nextSide.outerWidth(true)) / 2),\n                z: -($activeSide.outerWidth(true) / 2)\n              };\n              return {\n                transform: 'translateX(' + translate.x + 'px) translateZ(' + translate.z + 'px) rotateY(-90deg)'\n              };\n            },\n            over: function () {\n              var translate = {\n                x: -(($activeSide.outerWidth(true) - $nextSide.outerWidth(true)) / 2)\n              };\n              return {\n                transform: 'translateX(' + translate.x + 'px) rotateY(180deg)'\n              };\n            },\n            back: function () {\n              var translate = {\n                x: -(($activeSide.outerWidth(true) - $nextSide.outerWidth(true)) / 2)\n              };\n              return {\n                transform: 'translateX(' + translate.x + 'px) rotateY(-180deg)'\n              };\n            }\n          },\n          transitionEvent: function () {\n            var element = document.createElement('element'),\n                transitions = {\n              'transition': 'transitionend',\n              'OTransition': 'oTransitionEnd',\n              'MozTransition': 'transitionend',\n              'WebkitTransition': 'webkitTransitionEnd'\n            },\n                transition;\n\n            for (transition in transitions) {\n              if (element.style[transition] !== undefined) {\n                return transitions[transition];\n              }\n            }\n          },\n          nextSide: function () {\n            return $activeSide.next(selector.side).length > 0 ? $activeSide.next(selector.side) : $module.find(selector.side).first();\n          }\n        },\n        stage: {\n          above: function () {\n            var box = {\n              origin: ($activeSide.outerHeight(true) - $nextSide.outerHeight(true)) / 2,\n              depth: {\n                active: $nextSide.outerHeight(true) / 2,\n                next: $activeSide.outerHeight(true) / 2\n              }\n            };\n            module.verbose('Setting the initial animation position as above', $nextSide, box);\n            $sides.css({\n              'transform': 'translateZ(-' + box.depth.active + 'px)'\n            });\n            $activeSide.css({\n              'transform': 'rotateY(0deg) translateZ(' + box.depth.active + 'px)'\n            });\n            $nextSide.addClass(className.animating).css({\n              'top': box.origin + 'px',\n              'transform': 'rotateX(90deg) translateZ(' + box.depth.next + 'px)'\n            });\n          },\n          below: function () {\n            var box = {\n              origin: ($activeSide.outerHeight(true) - $nextSide.outerHeight(true)) / 2,\n              depth: {\n                active: $nextSide.outerHeight(true) / 2,\n                next: $activeSide.outerHeight(true) / 2\n              }\n            };\n            module.verbose('Setting the initial animation position as below', $nextSide, box);\n            $sides.css({\n              'transform': 'translateZ(-' + box.depth.active + 'px)'\n            });\n            $activeSide.css({\n              'transform': 'rotateY(0deg) translateZ(' + box.depth.active + 'px)'\n            });\n            $nextSide.addClass(className.animating).css({\n              'top': box.origin + 'px',\n              'transform': 'rotateX(-90deg) translateZ(' + box.depth.next + 'px)'\n            });\n          },\n          left: function () {\n            var height = {\n              active: $activeSide.outerWidth(true),\n              next: $nextSide.outerWidth(true)\n            },\n                box = {\n              origin: (height.active - height.next) / 2,\n              depth: {\n                active: height.next / 2,\n                next: height.active / 2\n              }\n            };\n            module.verbose('Setting the initial animation position as left', $nextSide, box);\n            $sides.css({\n              'transform': 'translateZ(-' + box.depth.active + 'px)'\n            });\n            $activeSide.css({\n              'transform': 'rotateY(0deg) translateZ(' + box.depth.active + 'px)'\n            });\n            $nextSide.addClass(className.animating).css({\n              'left': box.origin + 'px',\n              'transform': 'rotateY(-90deg) translateZ(' + box.depth.next + 'px)'\n            });\n          },\n          right: function () {\n            var height = {\n              active: $activeSide.outerWidth(true),\n              next: $nextSide.outerWidth(true)\n            },\n                box = {\n              origin: (height.active - height.next) / 2,\n              depth: {\n                active: height.next / 2,\n                next: height.active / 2\n              }\n            };\n            module.verbose('Setting the initial animation position as left', $nextSide, box);\n            $sides.css({\n              'transform': 'translateZ(-' + box.depth.active + 'px)'\n            });\n            $activeSide.css({\n              'transform': 'rotateY(0deg) translateZ(' + box.depth.active + 'px)'\n            });\n            $nextSide.addClass(className.animating).css({\n              'left': box.origin + 'px',\n              'transform': 'rotateY(90deg) translateZ(' + box.depth.next + 'px)'\n            });\n          },\n          behind: function () {\n            var height = {\n              active: $activeSide.outerWidth(true),\n              next: $nextSide.outerWidth(true)\n            },\n                box = {\n              origin: (height.active - height.next) / 2,\n              depth: {\n                active: height.next / 2,\n                next: height.active / 2\n              }\n            };\n            module.verbose('Setting the initial animation position as behind', $nextSide, box);\n            $activeSide.css({\n              'transform': 'rotateY(0deg)'\n            });\n            $nextSide.addClass(className.animating).css({\n              'left': box.origin + 'px',\n              'transform': 'rotateY(-180deg)'\n            });\n          }\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.shape.settings = {\n    // module info\n    name: 'Shape',\n    // hide all debug content\n    silent: false,\n    // debug content outputted to console\n    debug: false,\n    // verbose debug output\n    verbose: false,\n    // fudge factor in pixels when swapping from 2d to 3d (can be useful to correct rounding errors)\n    jitter: 0,\n    // performance data output\n    performance: true,\n    // event namespace\n    namespace: 'shape',\n    // width during animation, can be set to 'auto', initial', 'next' or pixel amount\n    width: 'initial',\n    // height during animation, can be set to 'auto', 'initial', 'next' or pixel amount\n    height: 'initial',\n    // callback occurs on side change\n    beforeChange: function () {},\n    onChange: function () {},\n    // allow animation to same side\n    allowRepeats: false,\n    // animation duration\n    duration: false,\n    // possible errors\n    error: {\n      side: 'You tried to switch to a side that does not exist.',\n      method: 'The method you called is not defined'\n    },\n    // classnames used\n    className: {\n      animating: 'animating',\n      hidden: 'hidden',\n      loading: 'loading',\n      active: 'active'\n    },\n    // selectors used\n    selector: {\n      sides: '.sides',\n      side: '.side'\n    }\n  };\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"sidebar.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/modules/sidebar.js                                                                         //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * # Semantic UI - Sidebar\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.sidebar = function (parameters) {\n    var $allModules = $(this),\n        $window = $(window),\n        $document = $(document),\n        $html = $('html'),\n        $head = $('head'),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {\n      setTimeout(callback, 0);\n    },\n        returnedValue;\n\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.sidebar.settings, parameters) : $.extend({}, $.fn.sidebar.settings),\n          selector = settings.selector,\n          className = settings.className,\n          namespace = settings.namespace,\n          regExp = settings.regExp,\n          error = settings.error,\n          eventNamespace = '.' + namespace,\n          moduleNamespace = 'module-' + namespace,\n          $module = $(this),\n          $context = $(settings.context),\n          $sidebars = $module.children(selector.sidebar),\n          $fixed = $context.children(selector.fixed),\n          $pusher = $context.children(selector.pusher),\n          $style,\n          element = this,\n          instance = $module.data(moduleNamespace),\n          elementNamespace,\n          id,\n          currentScroll,\n          transitionEvent,\n          module;\n      module = {\n        initialize: function () {\n          module.debug('Initializing sidebar', parameters);\n          module.create.id();\n          transitionEvent = module.get.transitionEvent(); // avoids locking rendering if initialized in onReady\n\n          if (settings.delaySetup) {\n            requestAnimationFrame(module.setup.layout);\n          } else {\n            module.setup.layout();\n          }\n\n          requestAnimationFrame(function () {\n            module.setup.cache();\n          });\n          module.instantiate();\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module.data(moduleNamespace, module);\n        },\n        create: {\n          id: function () {\n            id = (Math.random().toString(16) + '000000000').substr(2, 8);\n            elementNamespace = '.' + id;\n            module.verbose('Creating unique id for element', id);\n          }\n        },\n        destroy: function () {\n          module.verbose('Destroying previous module for', $module);\n          $module.off(eventNamespace).removeData(moduleNamespace);\n\n          if (module.is.ios()) {\n            module.remove.ios();\n          } // bound by uuid\n\n\n          $context.off(elementNamespace);\n          $window.off(elementNamespace);\n          $document.off(elementNamespace);\n        },\n        event: {\n          clickaway: function (event) {\n            var clickedInPusher = $pusher.find(event.target).length > 0 || $pusher.is(event.target),\n                clickedContext = $context.is(event.target);\n\n            if (clickedInPusher) {\n              module.verbose('User clicked on dimmed page');\n              module.hide();\n            }\n\n            if (clickedContext) {\n              module.verbose('User clicked on dimmable context (scaled out page)');\n              module.hide();\n            }\n          },\n          touch: function (event) {//event.stopPropagation();\n          },\n          containScroll: function (event) {\n            if (element.scrollTop <= 0) {\n              element.scrollTop = 1;\n            }\n\n            if (element.scrollTop + element.offsetHeight >= element.scrollHeight) {\n              element.scrollTop = element.scrollHeight - element.offsetHeight - 1;\n            }\n          },\n          scroll: function (event) {\n            if ($(event.target).closest(selector.sidebar).length === 0) {\n              event.preventDefault();\n            }\n          }\n        },\n        bind: {\n          clickaway: function () {\n            module.verbose('Adding clickaway events to context', $context);\n\n            if (settings.closable) {\n              $context.on('click' + elementNamespace, module.event.clickaway).on('touchend' + elementNamespace, module.event.clickaway);\n            }\n          },\n          scrollLock: function () {\n            if (settings.scrollLock) {\n              module.debug('Disabling page scroll');\n              $window.on('DOMMouseScroll' + elementNamespace, module.event.scroll);\n            }\n\n            module.verbose('Adding events to contain sidebar scroll');\n            $document.on('touchmove' + elementNamespace, module.event.touch);\n            $module.on('scroll' + eventNamespace, module.event.containScroll);\n          }\n        },\n        unbind: {\n          clickaway: function () {\n            module.verbose('Removing clickaway events from context', $context);\n            $context.off(elementNamespace);\n          },\n          scrollLock: function () {\n            module.verbose('Removing scroll lock from page');\n            $document.off(elementNamespace);\n            $window.off(elementNamespace);\n            $module.off('scroll' + eventNamespace);\n          }\n        },\n        add: {\n          inlineCSS: function () {\n            var width = module.cache.width || $module.outerWidth(),\n                height = module.cache.height || $module.outerHeight(),\n                isRTL = module.is.rtl(),\n                direction = module.get.direction(),\n                distance = {\n              left: width,\n              right: -width,\n              top: height,\n              bottom: -height\n            },\n                style;\n\n            if (isRTL) {\n              module.verbose('RTL detected, flipping widths');\n              distance.left = -width;\n              distance.right = width;\n            }\n\n            style = '<style>';\n\n            if (direction === 'left' || direction === 'right') {\n              module.debug('Adding CSS rules for animation distance', width);\n              style += '' + ' .ui.visible.' + direction + '.sidebar ~ .fixed,' + ' .ui.visible.' + direction + '.sidebar ~ .pusher {' + '   -webkit-transform: translate3d(' + distance[direction] + 'px, 0, 0);' + '           transform: translate3d(' + distance[direction] + 'px, 0, 0);' + ' }';\n            } else if (direction === 'top' || direction == 'bottom') {\n              style += '' + ' .ui.visible.' + direction + '.sidebar ~ .fixed,' + ' .ui.visible.' + direction + '.sidebar ~ .pusher {' + '   -webkit-transform: translate3d(0, ' + distance[direction] + 'px, 0);' + '           transform: translate3d(0, ' + distance[direction] + 'px, 0);' + ' }';\n            }\n            /* IE is only browser not to create context with transforms */\n\n            /* https://www.w3.org/Bugs/Public/show_bug.cgi?id=16328 */\n\n\n            if (module.is.ie()) {\n              if (direction === 'left' || direction === 'right') {\n                module.debug('Adding CSS rules for animation distance', width);\n                style += '' + ' body.pushable > .ui.visible.' + direction + '.sidebar ~ .pusher:after {' + '   -webkit-transform: translate3d(' + distance[direction] + 'px, 0, 0);' + '           transform: translate3d(' + distance[direction] + 'px, 0, 0);' + ' }';\n              } else if (direction === 'top' || direction == 'bottom') {\n                style += '' + ' body.pushable > .ui.visible.' + direction + '.sidebar ~ .pusher:after {' + '   -webkit-transform: translate3d(0, ' + distance[direction] + 'px, 0);' + '           transform: translate3d(0, ' + distance[direction] + 'px, 0);' + ' }';\n              }\n              /* opposite sides visible forces content overlay */\n\n\n              style += '' + ' body.pushable > .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .pusher:after,' + ' body.pushable > .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .pusher:after {' + '   -webkit-transform: translate3d(0px, 0, 0);' + '           transform: translate3d(0px, 0, 0);' + ' }';\n            }\n\n            style += '</style>';\n            $style = $(style).appendTo($head);\n            module.debug('Adding sizing css to head', $style);\n          }\n        },\n        refresh: function () {\n          module.verbose('Refreshing selector cache');\n          $context = $(settings.context);\n          $sidebars = $context.children(selector.sidebar);\n          $pusher = $context.children(selector.pusher);\n          $fixed = $context.children(selector.fixed);\n          module.clear.cache();\n        },\n        refreshSidebars: function () {\n          module.verbose('Refreshing other sidebars');\n          $sidebars = $context.children(selector.sidebar);\n        },\n        repaint: function () {\n          module.verbose('Forcing repaint event');\n          element.style.display = 'none';\n          var ignored = element.offsetHeight;\n          element.scrollTop = element.scrollTop;\n          element.style.display = '';\n        },\n        setup: {\n          cache: function () {\n            module.cache = {\n              width: $module.outerWidth(),\n              height: $module.outerHeight(),\n              rtl: $module.css('direction') == 'rtl'\n            };\n          },\n          layout: function () {\n            if ($context.children(selector.pusher).length === 0) {\n              module.debug('Adding wrapper element for sidebar');\n              module.error(error.pusher);\n              $pusher = $('<div class=\"pusher\" />');\n              $context.children().not(selector.omitted).not($sidebars).wrapAll($pusher);\n              module.refresh();\n            }\n\n            if ($module.nextAll(selector.pusher).length === 0 || $module.nextAll(selector.pusher)[0] !== $pusher[0]) {\n              module.debug('Moved sidebar to correct parent element');\n              module.error(error.movedSidebar, element);\n              $module.detach().prependTo($context);\n              module.refresh();\n            }\n\n            module.clear.cache();\n            module.set.pushable();\n            module.set.direction();\n          }\n        },\n        attachEvents: function (selector, event) {\n          var $toggle = $(selector);\n          event = $.isFunction(module[event]) ? module[event] : module.toggle;\n\n          if ($toggle.length > 0) {\n            module.debug('Attaching sidebar events to element', selector, event);\n            $toggle.on('click' + eventNamespace, event);\n          } else {\n            module.error(error.notFound, selector);\n          }\n        },\n        show: function (callback) {\n          callback = $.isFunction(callback) ? callback : function () {};\n\n          if (module.is.hidden()) {\n            module.refreshSidebars();\n\n            if (settings.overlay) {\n              module.error(error.overlay);\n              settings.transition = 'overlay';\n            }\n\n            module.refresh();\n\n            if (module.othersActive()) {\n              module.debug('Other sidebars currently visible');\n\n              if (settings.exclusive) {\n                // if not overlay queue animation after hide\n                if (settings.transition != 'overlay') {\n                  module.hideOthers(module.show);\n                  return;\n                } else {\n                  module.hideOthers();\n                }\n              } else {\n                settings.transition = 'overlay';\n              }\n            }\n\n            module.pushPage(function () {\n              callback.call(element);\n              settings.onShow.call(element);\n            });\n            settings.onChange.call(element);\n            settings.onVisible.call(element);\n          } else {\n            module.debug('Sidebar is already visible');\n          }\n        },\n        hide: function (callback) {\n          callback = $.isFunction(callback) ? callback : function () {};\n\n          if (module.is.visible() || module.is.animating()) {\n            module.debug('Hiding sidebar', callback);\n            module.refreshSidebars();\n            module.pullPage(function () {\n              callback.call(element);\n              settings.onHidden.call(element);\n            });\n            settings.onChange.call(element);\n            settings.onHide.call(element);\n          }\n        },\n        othersAnimating: function () {\n          return $sidebars.not($module).filter('.' + className.animating).length > 0;\n        },\n        othersVisible: function () {\n          return $sidebars.not($module).filter('.' + className.visible).length > 0;\n        },\n        othersActive: function () {\n          return module.othersVisible() || module.othersAnimating();\n        },\n        hideOthers: function (callback) {\n          var $otherSidebars = $sidebars.not($module).filter('.' + className.visible),\n              sidebarCount = $otherSidebars.length,\n              callbackCount = 0;\n\n          callback = callback || function () {};\n\n          $otherSidebars.sidebar('hide', function () {\n            callbackCount++;\n\n            if (callbackCount == sidebarCount) {\n              callback();\n            }\n          });\n        },\n        toggle: function () {\n          module.verbose('Determining toggled direction');\n\n          if (module.is.hidden()) {\n            module.show();\n          } else {\n            module.hide();\n          }\n        },\n        pushPage: function (callback) {\n          var transition = module.get.transition(),\n              $transition = transition === 'overlay' || module.othersActive() ? $module : $pusher,\n              animate,\n              dim,\n              transitionEnd;\n          callback = $.isFunction(callback) ? callback : function () {};\n\n          if (settings.transition == 'scale down') {\n            module.scrollToTop();\n          }\n\n          module.set.transition(transition);\n          module.repaint();\n\n          animate = function () {\n            module.bind.clickaway();\n            module.add.inlineCSS();\n            module.set.animating();\n            module.set.visible();\n          };\n\n          dim = function () {\n            module.set.dimmed();\n          };\n\n          transitionEnd = function (event) {\n            if (event.target == $transition[0]) {\n              $transition.off(transitionEvent + elementNamespace, transitionEnd);\n              module.remove.animating();\n              module.bind.scrollLock();\n              callback.call(element);\n            }\n          };\n\n          $transition.off(transitionEvent + elementNamespace);\n          $transition.on(transitionEvent + elementNamespace, transitionEnd);\n          requestAnimationFrame(animate);\n\n          if (settings.dimPage && !module.othersVisible()) {\n            requestAnimationFrame(dim);\n          }\n        },\n        pullPage: function (callback) {\n          var transition = module.get.transition(),\n              $transition = transition == 'overlay' || module.othersActive() ? $module : $pusher,\n              animate,\n              transitionEnd;\n          callback = $.isFunction(callback) ? callback : function () {};\n          module.verbose('Removing context push state', module.get.direction());\n          module.unbind.clickaway();\n          module.unbind.scrollLock();\n\n          animate = function () {\n            module.set.transition(transition);\n            module.set.animating();\n            module.remove.visible();\n\n            if (settings.dimPage && !module.othersVisible()) {\n              $pusher.removeClass(className.dimmed);\n            }\n          };\n\n          transitionEnd = function (event) {\n            if (event.target == $transition[0]) {\n              $transition.off(transitionEvent + elementNamespace, transitionEnd);\n              module.remove.animating();\n              module.remove.transition();\n              module.remove.inlineCSS();\n\n              if (transition == 'scale down' || settings.returnScroll && module.is.mobile()) {\n                module.scrollBack();\n              }\n\n              callback.call(element);\n            }\n          };\n\n          $transition.off(transitionEvent + elementNamespace);\n          $transition.on(transitionEvent + elementNamespace, transitionEnd);\n          requestAnimationFrame(animate);\n        },\n        scrollToTop: function () {\n          module.verbose('Scrolling to top of page to avoid animation issues');\n          currentScroll = $(window).scrollTop();\n          $module.scrollTop(0);\n          window.scrollTo(0, 0);\n        },\n        scrollBack: function () {\n          module.verbose('Scrolling back to original page position');\n          window.scrollTo(0, currentScroll);\n        },\n        clear: {\n          cache: function () {\n            module.verbose('Clearing cached dimensions');\n            module.cache = {};\n          }\n        },\n        set: {\n          // ios only (scroll on html not document). This prevent auto-resize canvas/scroll in ios\n          // (This is no longer necessary in latest iOS)\n          ios: function () {\n            $html.addClass(className.ios);\n          },\n          // container\n          pushed: function () {\n            $context.addClass(className.pushed);\n          },\n          pushable: function () {\n            $context.addClass(className.pushable);\n          },\n          // pusher\n          dimmed: function () {\n            $pusher.addClass(className.dimmed);\n          },\n          // sidebar\n          active: function () {\n            $module.addClass(className.active);\n          },\n          animating: function () {\n            $module.addClass(className.animating);\n          },\n          transition: function (transition) {\n            transition = transition || module.get.transition();\n            $module.addClass(transition);\n          },\n          direction: function (direction) {\n            direction = direction || module.get.direction();\n            $module.addClass(className[direction]);\n          },\n          visible: function () {\n            $module.addClass(className.visible);\n          },\n          overlay: function () {\n            $module.addClass(className.overlay);\n          }\n        },\n        remove: {\n          inlineCSS: function () {\n            module.debug('Removing inline css styles', $style);\n\n            if ($style && $style.length > 0) {\n              $style.remove();\n            }\n          },\n          // ios scroll on html not document\n          ios: function () {\n            $html.removeClass(className.ios);\n          },\n          // context\n          pushed: function () {\n            $context.removeClass(className.pushed);\n          },\n          pushable: function () {\n            $context.removeClass(className.pushable);\n          },\n          // sidebar\n          active: function () {\n            $module.removeClass(className.active);\n          },\n          animating: function () {\n            $module.removeClass(className.animating);\n          },\n          transition: function (transition) {\n            transition = transition || module.get.transition();\n            $module.removeClass(transition);\n          },\n          direction: function (direction) {\n            direction = direction || module.get.direction();\n            $module.removeClass(className[direction]);\n          },\n          visible: function () {\n            $module.removeClass(className.visible);\n          },\n          overlay: function () {\n            $module.removeClass(className.overlay);\n          }\n        },\n        get: {\n          direction: function () {\n            if ($module.hasClass(className.top)) {\n              return className.top;\n            } else if ($module.hasClass(className.right)) {\n              return className.right;\n            } else if ($module.hasClass(className.bottom)) {\n              return className.bottom;\n            }\n\n            return className.left;\n          },\n          transition: function () {\n            var direction = module.get.direction(),\n                transition;\n            transition = module.is.mobile() ? settings.mobileTransition == 'auto' ? settings.defaultTransition.mobile[direction] : settings.mobileTransition : settings.transition == 'auto' ? settings.defaultTransition.computer[direction] : settings.transition;\n            module.verbose('Determined transition', transition);\n            return transition;\n          },\n          transitionEvent: function () {\n            var element = document.createElement('element'),\n                transitions = {\n              'transition': 'transitionend',\n              'OTransition': 'oTransitionEnd',\n              'MozTransition': 'transitionend',\n              'WebkitTransition': 'webkitTransitionEnd'\n            },\n                transition;\n\n            for (transition in transitions) {\n              if (element.style[transition] !== undefined) {\n                return transitions[transition];\n              }\n            }\n          }\n        },\n        is: {\n          ie: function () {\n            var isIE11 = !window.ActiveXObject && 'ActiveXObject' in window,\n                isIE = 'ActiveXObject' in window;\n            return isIE11 || isIE;\n          },\n          ios: function () {\n            var userAgent = navigator.userAgent,\n                isIOS = userAgent.match(regExp.ios),\n                isMobileChrome = userAgent.match(regExp.mobileChrome);\n\n            if (isIOS && !isMobileChrome) {\n              module.verbose('Browser was found to be iOS', userAgent);\n              return true;\n            } else {\n              return false;\n            }\n          },\n          mobile: function () {\n            var userAgent = navigator.userAgent,\n                isMobile = userAgent.match(regExp.mobile);\n\n            if (isMobile) {\n              module.verbose('Browser was found to be mobile', userAgent);\n              return true;\n            } else {\n              module.verbose('Browser is not mobile, using regular transition', userAgent);\n              return false;\n            }\n          },\n          hidden: function () {\n            return !module.is.visible();\n          },\n          visible: function () {\n            return $module.hasClass(className.visible);\n          },\n          // alias\n          open: function () {\n            return module.is.visible();\n          },\n          closed: function () {\n            return module.is.hidden();\n          },\n          vertical: function () {\n            return $module.hasClass(className.top);\n          },\n          animating: function () {\n            return $context.hasClass(className.animating);\n          },\n          rtl: function () {\n            if (module.cache.rtl === undefined) {\n              module.cache.rtl = $module.css('direction') == 'rtl';\n            }\n\n            return module.cache.rtl;\n          }\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          module.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.sidebar.settings = {\n    name: 'Sidebar',\n    namespace: 'sidebar',\n    silent: false,\n    debug: false,\n    verbose: false,\n    performance: true,\n    transition: 'auto',\n    mobileTransition: 'auto',\n    defaultTransition: {\n      computer: {\n        left: 'uncover',\n        right: 'uncover',\n        top: 'overlay',\n        bottom: 'overlay'\n      },\n      mobile: {\n        left: 'uncover',\n        right: 'uncover',\n        top: 'overlay',\n        bottom: 'overlay'\n      }\n    },\n    context: 'body',\n    exclusive: false,\n    closable: true,\n    dimPage: true,\n    scrollLock: false,\n    returnScroll: false,\n    delaySetup: false,\n    duration: 500,\n    onChange: function () {},\n    onShow: function () {},\n    onHide: function () {},\n    onHidden: function () {},\n    onVisible: function () {},\n    className: {\n      active: 'active',\n      animating: 'animating',\n      dimmed: 'dimmed',\n      ios: 'ios',\n      pushable: 'pushable',\n      pushed: 'pushed',\n      right: 'right',\n      top: 'top',\n      left: 'left',\n      bottom: 'bottom',\n      visible: 'visible'\n    },\n    selector: {\n      fixed: '.fixed',\n      omitted: 'script, link, style, .ui.modal, .ui.dimmer, .ui.nag, .ui.fixed',\n      pusher: '.pusher',\n      sidebar: '.ui.sidebar'\n    },\n    regExp: {\n      ios: /(iPad|iPhone|iPod)/g,\n      mobileChrome: /(CriOS)/g,\n      mobile: /Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/g\n    },\n    error: {\n      method: 'The method you called is not defined.',\n      pusher: 'Had to add pusher element. For optimal performance make sure body content is inside a pusher element',\n      movedSidebar: 'Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag',\n      overlay: 'The overlay setting is no longer supported, use animation: overlay',\n      notFound: 'There were no elements that matched the specified selector'\n    }\n  };\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"sticky.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/modules/sticky.js                                                                          //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * # Semantic UI - Sticky\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.sticky = function (parameters) {\n    var $allModules = $(this),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue;\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.sticky.settings, parameters) : $.extend({}, $.fn.sticky.settings),\n          className = settings.className,\n          namespace = settings.namespace,\n          error = settings.error,\n          eventNamespace = '.' + namespace,\n          moduleNamespace = 'module-' + namespace,\n          $module = $(this),\n          $window = $(window),\n          $scroll = $(settings.scrollContext),\n          $container,\n          $context,\n          selector = $module.selector || '',\n          instance = $module.data(moduleNamespace),\n          requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {\n        setTimeout(callback, 0);\n      },\n          element = this,\n          documentObserver,\n          observer,\n          module;\n\n      module = {\n        initialize: function () {\n          module.determineContainer();\n          module.determineContext();\n          module.verbose('Initializing sticky', settings, $container);\n          module.save.positions();\n          module.checkErrors();\n          module.bind.events();\n\n          if (settings.observeChanges) {\n            module.observeChanges();\n          }\n\n          module.instantiate();\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module.data(moduleNamespace, module);\n        },\n        destroy: function () {\n          module.verbose('Destroying previous instance');\n          module.reset();\n\n          if (documentObserver) {\n            documentObserver.disconnect();\n          }\n\n          if (observer) {\n            observer.disconnect();\n          }\n\n          $window.off('load' + eventNamespace, module.event.load).off('resize' + eventNamespace, module.event.resize);\n          $scroll.off('scrollchange' + eventNamespace, module.event.scrollchange);\n          $module.removeData(moduleNamespace);\n        },\n        observeChanges: function () {\n          if ('MutationObserver' in window) {\n            documentObserver = new MutationObserver(module.event.documentChanged);\n            observer = new MutationObserver(module.event.changed);\n            documentObserver.observe(document, {\n              childList: true,\n              subtree: true\n            });\n            observer.observe(element, {\n              childList: true,\n              subtree: true\n            });\n            observer.observe($context[0], {\n              childList: true,\n              subtree: true\n            });\n            module.debug('Setting up mutation observer', observer);\n          }\n        },\n        determineContainer: function () {\n          if (settings.container) {\n            $container = $(settings.container);\n          } else {\n            $container = $module.offsetParent();\n          }\n        },\n        determineContext: function () {\n          if (settings.context) {\n            $context = $(settings.context);\n          } else {\n            $context = $container;\n          }\n\n          if ($context.length === 0) {\n            module.error(error.invalidContext, settings.context, $module);\n            return;\n          }\n        },\n        checkErrors: function () {\n          if (module.is.hidden()) {\n            module.error(error.visible, $module);\n          }\n\n          if (module.cache.element.height > module.cache.context.height) {\n            module.reset();\n            module.error(error.elementSize, $module);\n            return;\n          }\n        },\n        bind: {\n          events: function () {\n            $window.on('load' + eventNamespace, module.event.load).on('resize' + eventNamespace, module.event.resize); // pub/sub pattern\n\n            $scroll.off('scroll' + eventNamespace).on('scroll' + eventNamespace, module.event.scroll).on('scrollchange' + eventNamespace, module.event.scrollchange);\n          }\n        },\n        event: {\n          changed: function (mutations) {\n            clearTimeout(module.timer);\n            module.timer = setTimeout(function () {\n              module.verbose('DOM tree modified, updating sticky menu', mutations);\n              module.refresh();\n            }, 100);\n          },\n          documentChanged: function (mutations) {\n            [].forEach.call(mutations, function (mutation) {\n              if (mutation.removedNodes) {\n                [].forEach.call(mutation.removedNodes, function (node) {\n                  if (node == element || $(node).find(element).length > 0) {\n                    module.debug('Element removed from DOM, tearing down events');\n                    module.destroy();\n                  }\n                });\n              }\n            });\n          },\n          load: function () {\n            module.verbose('Page contents finished loading');\n            requestAnimationFrame(module.refresh);\n          },\n          resize: function () {\n            module.verbose('Window resized');\n            requestAnimationFrame(module.refresh);\n          },\n          scroll: function () {\n            requestAnimationFrame(function () {\n              $scroll.triggerHandler('scrollchange' + eventNamespace, $scroll.scrollTop());\n            });\n          },\n          scrollchange: function (event, scrollPosition) {\n            module.stick(scrollPosition);\n            settings.onScroll.call(element);\n          }\n        },\n        refresh: function (hardRefresh) {\n          module.reset();\n\n          if (!settings.context) {\n            module.determineContext();\n          }\n\n          if (hardRefresh) {\n            module.determineContainer();\n          }\n\n          module.save.positions();\n          module.stick();\n          settings.onReposition.call(element);\n        },\n        supports: {\n          sticky: function () {\n            var $element = $('<div/>'),\n                element = $element[0];\n            $element.addClass(className.supported);\n            return $element.css('position').match('sticky');\n          }\n        },\n        save: {\n          lastScroll: function (scroll) {\n            module.lastScroll = scroll;\n          },\n          elementScroll: function (scroll) {\n            module.elementScroll = scroll;\n          },\n          positions: function () {\n            var scrollContext = {\n              height: $scroll.height()\n            },\n                element = {\n              margin: {\n                top: parseInt($module.css('margin-top'), 10),\n                bottom: parseInt($module.css('margin-bottom'), 10)\n              },\n              offset: $module.offset(),\n              width: $module.outerWidth(),\n              height: $module.outerHeight()\n            },\n                context = {\n              offset: $context.offset(),\n              height: $context.outerHeight()\n            },\n                container = {\n              height: $container.outerHeight()\n            };\n\n            if (!module.is.standardScroll()) {\n              module.debug('Non-standard scroll. Removing scroll offset from element offset');\n              scrollContext.top = $scroll.scrollTop();\n              scrollContext.left = $scroll.scrollLeft();\n              element.offset.top += scrollContext.top;\n              context.offset.top += scrollContext.top;\n              element.offset.left += scrollContext.left;\n              context.offset.left += scrollContext.left;\n            }\n\n            module.cache = {\n              fits: element.height + settings.offset <= scrollContext.height,\n              sameHeight: element.height == context.height,\n              scrollContext: {\n                height: scrollContext.height\n              },\n              element: {\n                margin: element.margin,\n                top: element.offset.top - element.margin.top,\n                left: element.offset.left,\n                width: element.width,\n                height: element.height,\n                bottom: element.offset.top + element.height\n              },\n              context: {\n                top: context.offset.top,\n                height: context.height,\n                bottom: context.offset.top + context.height\n              }\n            };\n            module.set.containerSize();\n            module.stick();\n            module.debug('Caching element positions', module.cache);\n          }\n        },\n        get: {\n          direction: function (scroll) {\n            var direction = 'down';\n            scroll = scroll || $scroll.scrollTop();\n\n            if (module.lastScroll !== undefined) {\n              if (module.lastScroll < scroll) {\n                direction = 'down';\n              } else if (module.lastScroll > scroll) {\n                direction = 'up';\n              }\n            }\n\n            return direction;\n          },\n          scrollChange: function (scroll) {\n            scroll = scroll || $scroll.scrollTop();\n            return module.lastScroll ? scroll - module.lastScroll : 0;\n          },\n          currentElementScroll: function () {\n            if (module.elementScroll) {\n              return module.elementScroll;\n            }\n\n            return module.is.top() ? Math.abs(parseInt($module.css('top'), 10)) || 0 : Math.abs(parseInt($module.css('bottom'), 10)) || 0;\n          },\n          elementScroll: function (scroll) {\n            scroll = scroll || $scroll.scrollTop();\n            var element = module.cache.element,\n                scrollContext = module.cache.scrollContext,\n                delta = module.get.scrollChange(scroll),\n                maxScroll = element.height - scrollContext.height + settings.offset,\n                elementScroll = module.get.currentElementScroll(),\n                possibleScroll = elementScroll + delta;\n\n            if (module.cache.fits || possibleScroll < 0) {\n              elementScroll = 0;\n            } else if (possibleScroll > maxScroll) {\n              elementScroll = maxScroll;\n            } else {\n              elementScroll = possibleScroll;\n            }\n\n            return elementScroll;\n          }\n        },\n        remove: {\n          lastScroll: function () {\n            delete module.lastScroll;\n          },\n          elementScroll: function (scroll) {\n            delete module.elementScroll;\n          },\n          minimumSize: function () {\n            $container.css('min-height', '');\n          },\n          offset: function () {\n            $module.css('margin-top', '');\n          }\n        },\n        set: {\n          offset: function () {\n            module.verbose('Setting offset on element', settings.offset);\n            $module.css('margin-top', settings.offset);\n          },\n          containerSize: function () {\n            var tagName = $container.get(0).tagName;\n\n            if (tagName === 'HTML' || tagName == 'body') {\n              // this can trigger for too many reasons\n              //module.error(error.container, tagName, $module);\n              module.determineContainer();\n            } else {\n              if (Math.abs($container.outerHeight() - module.cache.context.height) > settings.jitter) {\n                module.debug('Context has padding, specifying exact height for container', module.cache.context.height);\n                $container.css({\n                  height: module.cache.context.height\n                });\n              }\n            }\n          },\n          minimumSize: function () {\n            var element = module.cache.element;\n            $container.css('min-height', element.height);\n          },\n          scroll: function (scroll) {\n            module.debug('Setting scroll on element', scroll);\n\n            if (module.elementScroll == scroll) {\n              return;\n            }\n\n            if (module.is.top()) {\n              $module.css('bottom', '').css('top', -scroll);\n            }\n\n            if (module.is.bottom()) {\n              $module.css('top', '').css('bottom', scroll);\n            }\n          },\n          size: function () {\n            if (module.cache.element.height !== 0 && module.cache.element.width !== 0) {\n              element.style.setProperty('width', module.cache.element.width + 'px', 'important');\n              element.style.setProperty('height', module.cache.element.height + 'px', 'important');\n            }\n          }\n        },\n        is: {\n          standardScroll: function () {\n            return $scroll[0] == window;\n          },\n          top: function () {\n            return $module.hasClass(className.top);\n          },\n          bottom: function () {\n            return $module.hasClass(className.bottom);\n          },\n          initialPosition: function () {\n            return !module.is.fixed() && !module.is.bound();\n          },\n          hidden: function () {\n            return !$module.is(':visible');\n          },\n          bound: function () {\n            return $module.hasClass(className.bound);\n          },\n          fixed: function () {\n            return $module.hasClass(className.fixed);\n          }\n        },\n        stick: function (scroll) {\n          var cachedPosition = scroll || $scroll.scrollTop(),\n              cache = module.cache,\n              fits = cache.fits,\n              sameHeight = cache.sameHeight,\n              element = cache.element,\n              scrollContext = cache.scrollContext,\n              context = cache.context,\n              offset = module.is.bottom() && settings.pushing ? settings.bottomOffset : settings.offset,\n              scroll = {\n            top: cachedPosition + offset,\n            bottom: cachedPosition + offset + scrollContext.height\n          },\n              direction = module.get.direction(scroll.top),\n              elementScroll = fits ? 0 : module.get.elementScroll(scroll.top),\n              // shorthand\n          doesntFit = !fits,\n              elementVisible = element.height !== 0;\n\n          if (elementVisible && !sameHeight) {\n            if (module.is.initialPosition()) {\n              if (scroll.top >= context.bottom) {\n                module.debug('Initial element position is bottom of container');\n                module.bindBottom();\n              } else if (scroll.top > element.top) {\n                if (element.height + scroll.top - elementScroll >= context.bottom) {\n                  module.debug('Initial element position is bottom of container');\n                  module.bindBottom();\n                } else {\n                  module.debug('Initial element position is fixed');\n                  module.fixTop();\n                }\n              }\n            } else if (module.is.fixed()) {\n              // currently fixed top\n              if (module.is.top()) {\n                if (scroll.top <= element.top) {\n                  module.debug('Fixed element reached top of container');\n                  module.setInitialPosition();\n                } else if (element.height + scroll.top - elementScroll >= context.bottom) {\n                  module.debug('Fixed element reached bottom of container');\n                  module.bindBottom();\n                } // scroll element if larger than screen\n                else if (doesntFit) {\n                    module.set.scroll(elementScroll);\n                    module.save.lastScroll(scroll.top);\n                    module.save.elementScroll(elementScroll);\n                  }\n              } // currently fixed bottom\n              else if (module.is.bottom()) {\n                  // top edge\n                  if (scroll.bottom - element.height <= element.top) {\n                    module.debug('Bottom fixed rail has reached top of container');\n                    module.setInitialPosition();\n                  } // bottom edge\n                  else if (scroll.bottom >= context.bottom) {\n                      module.debug('Bottom fixed rail has reached bottom of container');\n                      module.bindBottom();\n                    } // scroll element if larger than screen\n                    else if (doesntFit) {\n                        module.set.scroll(elementScroll);\n                        module.save.lastScroll(scroll.top);\n                        module.save.elementScroll(elementScroll);\n                      }\n                }\n            } else if (module.is.bottom()) {\n              if (scroll.top <= element.top) {\n                module.debug('Jumped from bottom fixed to top fixed, most likely used home/end button');\n                module.setInitialPosition();\n              } else {\n                if (settings.pushing) {\n                  if (module.is.bound() && scroll.bottom <= context.bottom) {\n                    module.debug('Fixing bottom attached element to bottom of browser.');\n                    module.fixBottom();\n                  }\n                } else {\n                  if (module.is.bound() && scroll.top <= context.bottom - element.height) {\n                    module.debug('Fixing bottom attached element to top of browser.');\n                    module.fixTop();\n                  }\n                }\n              }\n            }\n          }\n        },\n        bindTop: function () {\n          module.debug('Binding element to top of parent container');\n          module.remove.offset();\n          $module.css({\n            left: '',\n            top: '',\n            marginBottom: ''\n          }).removeClass(className.fixed).removeClass(className.bottom).addClass(className.bound).addClass(className.top);\n          settings.onTop.call(element);\n          settings.onUnstick.call(element);\n        },\n        bindBottom: function () {\n          module.debug('Binding element to bottom of parent container');\n          module.remove.offset();\n          $module.css({\n            left: '',\n            top: ''\n          }).removeClass(className.fixed).removeClass(className.top).addClass(className.bound).addClass(className.bottom);\n          settings.onBottom.call(element);\n          settings.onUnstick.call(element);\n        },\n        setInitialPosition: function () {\n          module.debug('Returning to initial position');\n          module.unfix();\n          module.unbind();\n        },\n        fixTop: function () {\n          module.debug('Fixing element to top of page');\n\n          if (settings.setSize) {\n            module.set.size();\n          }\n\n          module.set.minimumSize();\n          module.set.offset();\n          $module.css({\n            left: module.cache.element.left,\n            bottom: '',\n            marginBottom: ''\n          }).removeClass(className.bound).removeClass(className.bottom).addClass(className.fixed).addClass(className.top);\n          settings.onStick.call(element);\n        },\n        fixBottom: function () {\n          module.debug('Sticking element to bottom of page');\n\n          if (settings.setSize) {\n            module.set.size();\n          }\n\n          module.set.minimumSize();\n          module.set.offset();\n          $module.css({\n            left: module.cache.element.left,\n            bottom: '',\n            marginBottom: ''\n          }).removeClass(className.bound).removeClass(className.top).addClass(className.fixed).addClass(className.bottom);\n          settings.onStick.call(element);\n        },\n        unbind: function () {\n          if (module.is.bound()) {\n            module.debug('Removing container bound position on element');\n            module.remove.offset();\n            $module.removeClass(className.bound).removeClass(className.top).removeClass(className.bottom);\n          }\n        },\n        unfix: function () {\n          if (module.is.fixed()) {\n            module.debug('Removing fixed position on element');\n            module.remove.minimumSize();\n            module.remove.offset();\n            $module.removeClass(className.fixed).removeClass(className.top).removeClass(className.bottom);\n            settings.onUnstick.call(element);\n          }\n        },\n        reset: function () {\n          module.debug('Resetting elements position');\n          module.unbind();\n          module.unfix();\n          module.resetCSS();\n          module.remove.offset();\n          module.remove.lastScroll();\n        },\n        resetCSS: function () {\n          $module.css({\n            width: '',\n            height: ''\n          });\n          $container.css({\n            height: ''\n          });\n        },\n        setting: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            settings[name] = value;\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 0);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.sticky.settings = {\n    name: 'Sticky',\n    namespace: 'sticky',\n    silent: false,\n    debug: false,\n    verbose: true,\n    performance: true,\n    // whether to stick in the opposite direction on scroll up\n    pushing: false,\n    context: false,\n    container: false,\n    // Context to watch scroll events\n    scrollContext: window,\n    // Offset to adjust scroll\n    offset: 0,\n    // Offset to adjust scroll when attached to bottom of screen\n    bottomOffset: 0,\n    // will only set container height if difference between context and container is larger than this number\n    jitter: 5,\n    // set width of sticky element when it is fixed to page (used to make sure 100% width is maintained if no fixed size set)\n    setSize: true,\n    // Whether to automatically observe changes with Mutation Observers\n    observeChanges: false,\n    // Called when position is recalculated\n    onReposition: function () {},\n    // Called on each scroll\n    onScroll: function () {},\n    // Called when element is stuck to viewport\n    onStick: function () {},\n    // Called when element is unstuck from viewport\n    onUnstick: function () {},\n    // Called when element reaches top of context\n    onTop: function () {},\n    // Called when element reaches bottom of context\n    onBottom: function () {},\n    error: {\n      container: 'Sticky element must be inside a relative container',\n      visible: 'Element is hidden, you must call refresh after element becomes visible. Use silent setting to surpress this warning in production.',\n      method: 'The method you called is not defined.',\n      invalidContext: 'Context specified does not exist',\n      elementSize: 'Sticky element is larger than its container, cannot create sticky.'\n    },\n    className: {\n      bound: 'bound',\n      fixed: 'fixed',\n      supported: 'native',\n      top: 'top',\n      bottom: 'bottom'\n    }\n  };\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"tab.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/modules/tab.js                                                                             //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * # Semantic UI - Tab\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.tab = function (parameters) {\n    var // use window context if none specified\n    $allModules = $.isFunction(this) ? $(window) : $(this),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        initializedHistory = false,\n        returnedValue;\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.tab.settings, parameters) : $.extend({}, $.fn.tab.settings),\n          className = settings.className,\n          metadata = settings.metadata,\n          selector = settings.selector,\n          error = settings.error,\n          eventNamespace = '.' + settings.namespace,\n          moduleNamespace = 'module-' + settings.namespace,\n          $module = $(this),\n          $context,\n          $tabs,\n          cache = {},\n          firstLoad = true,\n          recursionDepth = 0,\n          element = this,\n          instance = $module.data(moduleNamespace),\n          activeTabPath,\n          parameterArray,\n          module,\n          historyEvent;\n      module = {\n        initialize: function () {\n          module.debug('Initializing tab menu item', $module);\n          module.fix.callbacks();\n          module.determineTabs();\n          module.debug('Determining tabs', settings.context, $tabs); // set up automatic routing\n\n          if (settings.auto) {\n            module.set.auto();\n          }\n\n          module.bind.events();\n\n          if (settings.history && !initializedHistory) {\n            module.initializeHistory();\n            initializedHistory = true;\n          }\n\n          module.instantiate();\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module.data(moduleNamespace, module);\n        },\n        destroy: function () {\n          module.debug('Destroying tabs', $module);\n          $module.removeData(moduleNamespace).off(eventNamespace);\n        },\n        bind: {\n          events: function () {\n            // if using $.tab don't add events\n            if (!$.isWindow(element)) {\n              module.debug('Attaching tab activation events to element', $module);\n              $module.on('click' + eventNamespace, module.event.click);\n            }\n          }\n        },\n        determineTabs: function () {\n          var $reference; // determine tab context\n\n          if (settings.context === 'parent') {\n            if ($module.closest(selector.ui).length > 0) {\n              $reference = $module.closest(selector.ui);\n              module.verbose('Using closest UI element as parent', $reference);\n            } else {\n              $reference = $module;\n            }\n\n            $context = $reference.parent();\n            module.verbose('Determined parent element for creating context', $context);\n          } else if (settings.context) {\n            $context = $(settings.context);\n            module.verbose('Using selector for tab context', settings.context, $context);\n          } else {\n            $context = $('body');\n          } // find tabs\n\n\n          if (settings.childrenOnly) {\n            $tabs = $context.children(selector.tabs);\n            module.debug('Searching tab context children for tabs', $context, $tabs);\n          } else {\n            $tabs = $context.find(selector.tabs);\n            module.debug('Searching tab context for tabs', $context, $tabs);\n          }\n        },\n        fix: {\n          callbacks: function () {\n            if ($.isPlainObject(parameters) && (parameters.onTabLoad || parameters.onTabInit)) {\n              if (parameters.onTabLoad) {\n                parameters.onLoad = parameters.onTabLoad;\n                delete parameters.onTabLoad;\n                module.error(error.legacyLoad, parameters.onLoad);\n              }\n\n              if (parameters.onTabInit) {\n                parameters.onFirstLoad = parameters.onTabInit;\n                delete parameters.onTabInit;\n                module.error(error.legacyInit, parameters.onFirstLoad);\n              }\n\n              settings = $.extend(true, {}, $.fn.tab.settings, parameters);\n            }\n          }\n        },\n        initializeHistory: function () {\n          module.debug('Initializing page state');\n\n          if ($.address === undefined) {\n            module.error(error.state);\n            return false;\n          } else {\n            if (settings.historyType == 'state') {\n              module.debug('Using HTML5 to manage state');\n\n              if (settings.path !== false) {\n                $.address.history(true).state(settings.path);\n              } else {\n                module.error(error.path);\n                return false;\n              }\n            }\n\n            $.address.bind('change', module.event.history.change);\n          }\n        },\n        event: {\n          click: function (event) {\n            var tabPath = $(this).data(metadata.tab);\n\n            if (tabPath !== undefined) {\n              if (settings.history) {\n                module.verbose('Updating page state', event);\n                $.address.value(tabPath);\n              } else {\n                module.verbose('Changing tab', event);\n                module.changeTab(tabPath);\n              }\n\n              event.preventDefault();\n            } else {\n              module.debug('No tab specified');\n            }\n          },\n          history: {\n            change: function (event) {\n              var tabPath = event.pathNames.join('/') || module.get.initialPath(),\n                  pageTitle = settings.templates.determineTitle(tabPath) || false;\n              module.performance.display();\n              module.debug('History change event', tabPath, event);\n              historyEvent = event;\n\n              if (tabPath !== undefined) {\n                module.changeTab(tabPath);\n              }\n\n              if (pageTitle) {\n                $.address.title(pageTitle);\n              }\n            }\n          }\n        },\n        refresh: function () {\n          if (activeTabPath) {\n            module.debug('Refreshing tab', activeTabPath);\n            module.changeTab(activeTabPath);\n          }\n        },\n        cache: {\n          read: function (cacheKey) {\n            return cacheKey !== undefined ? cache[cacheKey] : false;\n          },\n          add: function (cacheKey, content) {\n            cacheKey = cacheKey || activeTabPath;\n            module.debug('Adding cached content for', cacheKey);\n            cache[cacheKey] = content;\n          },\n          remove: function (cacheKey) {\n            cacheKey = cacheKey || activeTabPath;\n            module.debug('Removing cached content for', cacheKey);\n            delete cache[cacheKey];\n          }\n        },\n        set: {\n          auto: function () {\n            var url = typeof settings.path == 'string' ? settings.path.replace(/\\/$/, '') + '/{$tab}' : '/{$tab}';\n            module.verbose('Setting up automatic tab retrieval from server', url);\n\n            if ($.isPlainObject(settings.apiSettings)) {\n              settings.apiSettings.url = url;\n            } else {\n              settings.apiSettings = {\n                url: url\n              };\n            }\n          },\n          loading: function (tabPath) {\n            var $tab = module.get.tabElement(tabPath),\n                isLoading = $tab.hasClass(className.loading);\n\n            if (!isLoading) {\n              module.verbose('Setting loading state for', $tab);\n              $tab.addClass(className.loading).siblings($tabs).removeClass(className.active + ' ' + className.loading);\n\n              if ($tab.length > 0) {\n                settings.onRequest.call($tab[0], tabPath);\n              }\n            }\n          },\n          state: function (state) {\n            $.address.value(state);\n          }\n        },\n        changeTab: function (tabPath) {\n          var pushStateAvailable = window.history && window.history.pushState,\n              shouldIgnoreLoad = pushStateAvailable && settings.ignoreFirstLoad && firstLoad,\n              remoteContent = settings.auto || $.isPlainObject(settings.apiSettings),\n              // only add default path if not remote content\n          pathArray = remoteContent && !shouldIgnoreLoad ? module.utilities.pathToArray(tabPath) : module.get.defaultPathArray(tabPath);\n          tabPath = module.utilities.arrayToPath(pathArray);\n          $.each(pathArray, function (index, tab) {\n            var currentPathArray = pathArray.slice(0, index + 1),\n                currentPath = module.utilities.arrayToPath(currentPathArray),\n                isTab = module.is.tab(currentPath),\n                isLastIndex = index + 1 == pathArray.length,\n                $tab = module.get.tabElement(currentPath),\n                $anchor,\n                nextPathArray,\n                nextPath,\n                isLastTab;\n            module.verbose('Looking for tab', tab);\n\n            if (isTab) {\n              module.verbose('Tab was found', tab); // scope up\n\n              activeTabPath = currentPath;\n              parameterArray = module.utilities.filterArray(pathArray, currentPathArray);\n\n              if (isLastIndex) {\n                isLastTab = true;\n              } else {\n                nextPathArray = pathArray.slice(0, index + 2);\n                nextPath = module.utilities.arrayToPath(nextPathArray);\n                isLastTab = !module.is.tab(nextPath);\n\n                if (isLastTab) {\n                  module.verbose('Tab parameters found', nextPathArray);\n                }\n              }\n\n              if (isLastTab && remoteContent) {\n                if (!shouldIgnoreLoad) {\n                  module.activate.navigation(currentPath);\n                  module.fetch.content(currentPath, tabPath);\n                } else {\n                  module.debug('Ignoring remote content on first tab load', currentPath);\n                  firstLoad = false;\n                  module.cache.add(tabPath, $tab.html());\n                  module.activate.all(currentPath);\n                  settings.onFirstLoad.call($tab[0], currentPath, parameterArray, historyEvent);\n                  settings.onLoad.call($tab[0], currentPath, parameterArray, historyEvent);\n                }\n\n                return false;\n              } else {\n                module.debug('Opened local tab', currentPath);\n                module.activate.all(currentPath);\n\n                if (!module.cache.read(currentPath)) {\n                  module.cache.add(currentPath, true);\n                  module.debug('First time tab loaded calling tab init');\n                  settings.onFirstLoad.call($tab[0], currentPath, parameterArray, historyEvent);\n                }\n\n                settings.onLoad.call($tab[0], currentPath, parameterArray, historyEvent);\n              }\n            } else if (tabPath.search('/') == -1 && tabPath !== '') {\n              // look for in page anchor\n              $anchor = $('#' + tabPath + ', a[name=\"' + tabPath + '\"]');\n              currentPath = $anchor.closest('[data-tab]').data(metadata.tab);\n              $tab = module.get.tabElement(currentPath); // if anchor exists use parent tab\n\n              if ($anchor && $anchor.length > 0 && currentPath) {\n                module.debug('Anchor link used, opening parent tab', $tab, $anchor);\n\n                if (!$tab.hasClass(className.active)) {\n                  setTimeout(function () {\n                    module.scrollTo($anchor);\n                  }, 0);\n                }\n\n                module.activate.all(currentPath);\n\n                if (!module.cache.read(currentPath)) {\n                  module.cache.add(currentPath, true);\n                  module.debug('First time tab loaded calling tab init');\n                  settings.onFirstLoad.call($tab[0], currentPath, parameterArray, historyEvent);\n                }\n\n                settings.onLoad.call($tab[0], currentPath, parameterArray, historyEvent);\n                return false;\n              }\n            } else {\n              module.error(error.missingTab, $module, $context, currentPath);\n              return false;\n            }\n          });\n        },\n        scrollTo: function ($element) {\n          var scrollOffset = $element && $element.length > 0 ? $element.offset().top : false;\n\n          if (scrollOffset !== false) {\n            module.debug('Forcing scroll to an in-page link in a hidden tab', scrollOffset, $element);\n            $(document).scrollTop(scrollOffset);\n          }\n        },\n        update: {\n          content: function (tabPath, html, evaluateScripts) {\n            var $tab = module.get.tabElement(tabPath),\n                tab = $tab[0];\n            evaluateScripts = evaluateScripts !== undefined ? evaluateScripts : settings.evaluateScripts;\n\n            if (typeof settings.cacheType == 'string' && settings.cacheType.toLowerCase() == 'dom' && typeof html !== 'string') {\n              $tab.empty().append($(html).clone(true));\n            } else {\n              if (evaluateScripts) {\n                module.debug('Updating HTML and evaluating inline scripts', tabPath, html);\n                $tab.html(html);\n              } else {\n                module.debug('Updating HTML', tabPath, html);\n                tab.innerHTML = html;\n              }\n            }\n          }\n        },\n        fetch: {\n          content: function (tabPath, fullTabPath) {\n            var $tab = module.get.tabElement(tabPath),\n                apiSettings = {\n              dataType: 'html',\n              encodeParameters: false,\n              on: 'now',\n              cache: settings.alwaysRefresh,\n              headers: {\n                'X-Remote': true\n              },\n              onSuccess: function (response) {\n                if (settings.cacheType == 'response') {\n                  module.cache.add(fullTabPath, response);\n                }\n\n                module.update.content(tabPath, response);\n\n                if (tabPath == activeTabPath) {\n                  module.debug('Content loaded', tabPath);\n                  module.activate.tab(tabPath);\n                } else {\n                  module.debug('Content loaded in background', tabPath);\n                }\n\n                settings.onFirstLoad.call($tab[0], tabPath, parameterArray, historyEvent);\n                settings.onLoad.call($tab[0], tabPath, parameterArray, historyEvent);\n\n                if (settings.loadOnce) {\n                  module.cache.add(fullTabPath, true);\n                } else if (typeof settings.cacheType == 'string' && settings.cacheType.toLowerCase() == 'dom' && $tab.children().length > 0) {\n                  setTimeout(function () {\n                    var $clone = $tab.children().clone(true);\n                    $clone = $clone.not('script');\n                    module.cache.add(fullTabPath, $clone);\n                  }, 0);\n                } else {\n                  module.cache.add(fullTabPath, $tab.html());\n                }\n              },\n              urlData: {\n                tab: fullTabPath\n              }\n            },\n                request = $tab.api('get request') || false,\n                existingRequest = request && request.state() === 'pending',\n                requestSettings,\n                cachedContent;\n            fullTabPath = fullTabPath || tabPath;\n            cachedContent = module.cache.read(fullTabPath);\n\n            if (settings.cache && cachedContent) {\n              module.activate.tab(tabPath);\n              module.debug('Adding cached content', fullTabPath);\n\n              if (!settings.loadOnce) {\n                if (settings.evaluateScripts == 'once') {\n                  module.update.content(tabPath, cachedContent, false);\n                } else {\n                  module.update.content(tabPath, cachedContent);\n                }\n              }\n\n              settings.onLoad.call($tab[0], tabPath, parameterArray, historyEvent);\n            } else if (existingRequest) {\n              module.set.loading(tabPath);\n              module.debug('Content is already loading', fullTabPath);\n            } else if ($.api !== undefined) {\n              requestSettings = $.extend(true, {}, settings.apiSettings, apiSettings);\n              module.debug('Retrieving remote content', fullTabPath, requestSettings);\n              module.set.loading(tabPath);\n              $tab.api(requestSettings);\n            } else {\n              module.error(error.api);\n            }\n          }\n        },\n        activate: {\n          all: function (tabPath) {\n            module.activate.tab(tabPath);\n            module.activate.navigation(tabPath);\n          },\n          tab: function (tabPath) {\n            var $tab = module.get.tabElement(tabPath),\n                $deactiveTabs = settings.deactivate == 'siblings' ? $tab.siblings($tabs) : $tabs.not($tab),\n                isActive = $tab.hasClass(className.active);\n            module.verbose('Showing tab content for', $tab);\n\n            if (!isActive) {\n              $tab.addClass(className.active);\n              $deactiveTabs.removeClass(className.active + ' ' + className.loading);\n\n              if ($tab.length > 0) {\n                settings.onVisible.call($tab[0], tabPath);\n              }\n            }\n          },\n          navigation: function (tabPath) {\n            var $navigation = module.get.navElement(tabPath),\n                $deactiveNavigation = settings.deactivate == 'siblings' ? $navigation.siblings($allModules) : $allModules.not($navigation),\n                isActive = $navigation.hasClass(className.active);\n            module.verbose('Activating tab navigation for', $navigation, tabPath);\n\n            if (!isActive) {\n              $navigation.addClass(className.active);\n              $deactiveNavigation.removeClass(className.active + ' ' + className.loading);\n            }\n          }\n        },\n        deactivate: {\n          all: function () {\n            module.deactivate.navigation();\n            module.deactivate.tabs();\n          },\n          navigation: function () {\n            $allModules.removeClass(className.active);\n          },\n          tabs: function () {\n            $tabs.removeClass(className.active + ' ' + className.loading);\n          }\n        },\n        is: {\n          tab: function (tabName) {\n            return tabName !== undefined ? module.get.tabElement(tabName).length > 0 : false;\n          }\n        },\n        get: {\n          initialPath: function () {\n            return $allModules.eq(0).data(metadata.tab) || $tabs.eq(0).data(metadata.tab);\n          },\n          path: function () {\n            return $.address.value();\n          },\n          // adds default tabs to tab path\n          defaultPathArray: function (tabPath) {\n            return module.utilities.pathToArray(module.get.defaultPath(tabPath));\n          },\n          defaultPath: function (tabPath) {\n            var $defaultNav = $allModules.filter('[data-' + metadata.tab + '^=\"' + tabPath + '/\"]').eq(0),\n                defaultTab = $defaultNav.data(metadata.tab) || false;\n\n            if (defaultTab) {\n              module.debug('Found default tab', defaultTab);\n\n              if (recursionDepth < settings.maxDepth) {\n                recursionDepth++;\n                return module.get.defaultPath(defaultTab);\n              }\n\n              module.error(error.recursion);\n            } else {\n              module.debug('No default tabs found for', tabPath, $tabs);\n            }\n\n            recursionDepth = 0;\n            return tabPath;\n          },\n          navElement: function (tabPath) {\n            tabPath = tabPath || activeTabPath;\n            return $allModules.filter('[data-' + metadata.tab + '=\"' + tabPath + '\"]');\n          },\n          tabElement: function (tabPath) {\n            var $fullPathTab, $simplePathTab, tabPathArray, lastTab;\n            tabPath = tabPath || activeTabPath;\n            tabPathArray = module.utilities.pathToArray(tabPath);\n            lastTab = module.utilities.last(tabPathArray);\n            $fullPathTab = $tabs.filter('[data-' + metadata.tab + '=\"' + tabPath + '\"]');\n            $simplePathTab = $tabs.filter('[data-' + metadata.tab + '=\"' + lastTab + '\"]');\n            return $fullPathTab.length > 0 ? $fullPathTab : $simplePathTab;\n          },\n          tab: function () {\n            return activeTabPath;\n          }\n        },\n        utilities: {\n          filterArray: function (keepArray, removeArray) {\n            return $.grep(keepArray, function (keepValue) {\n              return $.inArray(keepValue, removeArray) == -1;\n            });\n          },\n          last: function (array) {\n            return $.isArray(array) ? array[array.length - 1] : false;\n          },\n          pathToArray: function (pathName) {\n            if (pathName === undefined) {\n              pathName = activeTabPath;\n            }\n\n            return typeof pathName == 'string' ? pathName.split('/') : [pathName];\n          },\n          arrayToPath: function (pathArray) {\n            return $.isArray(pathArray) ? pathArray.join('/') : false;\n          }\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  }; // shortcut for tabbed content with no defined navigation\n\n\n  $.tab = function () {\n    $(window).tab.apply(this, arguments);\n  };\n\n  $.fn.tab.settings = {\n    name: 'Tab',\n    namespace: 'tab',\n    silent: false,\n    debug: false,\n    verbose: false,\n    performance: true,\n    auto: false,\n    // uses pjax style endpoints fetching content from same url with remote-content headers\n    history: false,\n    // use browser history\n    historyType: 'hash',\n    // #/ or html5 state\n    path: false,\n    // base path of url\n    context: false,\n    // specify a context that tabs must appear inside\n    childrenOnly: false,\n    // use only tabs that are children of context\n    maxDepth: 25,\n    // max depth a tab can be nested\n    deactivate: 'siblings',\n    // whether tabs should deactivate sibling menu elements or all elements initialized together\n    alwaysRefresh: false,\n    // load tab content new every tab click\n    cache: true,\n    // cache the content requests to pull locally\n    loadOnce: false,\n    // Whether tab data should only be loaded once when using remote content\n    cacheType: 'response',\n    // Whether to cache exact response, or to html cache contents after scripts execute\n    ignoreFirstLoad: false,\n    // don't load remote content on first load\n    apiSettings: false,\n    // settings for api call\n    evaluateScripts: 'once',\n    // whether inline scripts should be parsed (true/false/once). Once will not re-evaluate on cached content\n    onFirstLoad: function (tabPath, parameterArray, historyEvent) {},\n    // called first time loaded\n    onLoad: function (tabPath, parameterArray, historyEvent) {},\n    // called on every load\n    onVisible: function (tabPath, parameterArray, historyEvent) {},\n    // called every time tab visible\n    onRequest: function (tabPath, parameterArray, historyEvent) {},\n    // called ever time a tab beings loading remote content\n    templates: {\n      determineTitle: function (tabArray) {} // returns page title for path\n\n    },\n    error: {\n      api: 'You attempted to load content without API module',\n      method: 'The method you called is not defined',\n      missingTab: 'Activated tab cannot be found. Tabs are case-sensitive.',\n      noContent: 'The tab you specified is missing a content url.',\n      path: 'History enabled, but no path was specified',\n      recursion: 'Max recursive depth reached',\n      legacyInit: 'onTabInit has been renamed to onFirstLoad in 2.0, please adjust your code.',\n      legacyLoad: 'onTabLoad has been renamed to onLoad in 2.0. Please adjust your code',\n      state: 'History requires Asual\\'s Address library <https://github.com/asual/jquery-address>'\n    },\n    metadata: {\n      tab: 'tab',\n      loaded: 'loaded',\n      promise: 'promise'\n    },\n    className: {\n      loading: 'loading',\n      active: 'active'\n    },\n    selector: {\n      tabs: '.ui.tab',\n      ui: '.ui'\n    }\n  };\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"transition.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/modules/transition.js                                                                      //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * # Semantic UI - Transition\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.transition = function () {\n    var $allModules = $(this),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        moduleArguments = arguments,\n        query = moduleArguments[0],\n        queryArguments = [].slice.call(arguments, 1),\n        methodInvoked = typeof query === 'string',\n        requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {\n      setTimeout(callback, 0);\n    },\n        returnedValue;\n\n    $allModules.each(function (index) {\n      var $module = $(this),\n          element = this,\n          // set at run time\n      settings,\n          instance,\n          error,\n          className,\n          metadata,\n          animationEnd,\n          animationName,\n          namespace,\n          moduleNamespace,\n          eventNamespace,\n          module;\n      module = {\n        initialize: function () {\n          // get full settings\n          settings = module.get.settings.apply(element, moduleArguments); // shorthand\n\n          className = settings.className;\n          error = settings.error;\n          metadata = settings.metadata; // define namespace\n\n          eventNamespace = '.' + settings.namespace;\n          moduleNamespace = 'module-' + settings.namespace;\n          instance = $module.data(moduleNamespace) || module; // get vendor specific events\n\n          animationEnd = module.get.animationEndEvent();\n\n          if (methodInvoked) {\n            methodInvoked = module.invoke(query);\n          } // method not invoked, lets run an animation\n\n\n          if (methodInvoked === false) {\n            module.verbose('Converted arguments into settings object', settings);\n\n            if (settings.interval) {\n              module.delay(settings.animate);\n            } else {\n              module.animate();\n            }\n\n            module.instantiate();\n          }\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module.data(moduleNamespace, instance);\n        },\n        destroy: function () {\n          module.verbose('Destroying previous module for', element);\n          $module.removeData(moduleNamespace);\n        },\n        refresh: function () {\n          module.verbose('Refreshing display type on next animation');\n          delete module.displayType;\n        },\n        forceRepaint: function () {\n          module.verbose('Forcing element repaint');\n          var $parentElement = $module.parent(),\n              $nextElement = $module.next();\n\n          if ($nextElement.length === 0) {\n            $module.detach().appendTo($parentElement);\n          } else {\n            $module.detach().insertBefore($nextElement);\n          }\n        },\n        repaint: function () {\n          module.verbose('Repainting element');\n          var fakeAssignment = element.offsetWidth;\n        },\n        delay: function (interval) {\n          var direction = module.get.animationDirection(),\n              shouldReverse,\n              delay;\n\n          if (!direction) {\n            direction = module.can.transition() ? module.get.direction() : 'static';\n          }\n\n          interval = interval !== undefined ? interval : settings.interval;\n          shouldReverse = settings.reverse == 'auto' && direction == className.outward;\n          delay = shouldReverse || settings.reverse == true ? ($allModules.length - index) * settings.interval : index * settings.interval;\n          module.debug('Delaying animation by', delay);\n          setTimeout(module.animate, delay);\n        },\n        animate: function (overrideSettings) {\n          settings = overrideSettings || settings;\n\n          if (!module.is.supported()) {\n            module.error(error.support);\n            return false;\n          }\n\n          module.debug('Preparing animation', settings.animation);\n\n          if (module.is.animating()) {\n            if (settings.queue) {\n              if (!settings.allowRepeats && module.has.direction() && module.is.occurring() && module.queuing !== true) {\n                module.debug('Animation is currently occurring, preventing queueing same animation', settings.animation);\n              } else {\n                module.queue(settings.animation);\n              }\n\n              return false;\n            } else if (!settings.allowRepeats && module.is.occurring()) {\n              module.debug('Animation is already occurring, will not execute repeated animation', settings.animation);\n              return false;\n            } else {\n              module.debug('New animation started, completing previous early', settings.animation);\n              instance.complete();\n            }\n          }\n\n          if (module.can.animate()) {\n            module.set.animating(settings.animation);\n          } else {\n            module.error(error.noAnimation, settings.animation, element);\n          }\n        },\n        reset: function () {\n          module.debug('Resetting animation to beginning conditions');\n          module.remove.animationCallbacks();\n          module.restore.conditions();\n          module.remove.animating();\n        },\n        queue: function (animation) {\n          module.debug('Queueing animation of', animation);\n          module.queuing = true;\n          $module.one(animationEnd + '.queue' + eventNamespace, function () {\n            module.queuing = false;\n            module.repaint();\n            module.animate.apply(this, settings);\n          });\n        },\n        complete: function (event) {\n          module.debug('Animation complete', settings.animation);\n          module.remove.completeCallback();\n          module.remove.failSafe();\n\n          if (!module.is.looping()) {\n            if (module.is.outward()) {\n              module.verbose('Animation is outward, hiding element');\n              module.restore.conditions();\n              module.hide();\n            } else if (module.is.inward()) {\n              module.verbose('Animation is outward, showing element');\n              module.restore.conditions();\n              module.show();\n            } else {\n              module.verbose('Static animation completed');\n              module.restore.conditions();\n              settings.onComplete.call(element);\n            }\n          }\n        },\n        force: {\n          visible: function () {\n            var style = $module.attr('style'),\n                userStyle = module.get.userStyle(),\n                displayType = module.get.displayType(),\n                overrideStyle = userStyle + 'display: ' + displayType + ' !important;',\n                currentDisplay = $module.css('display'),\n                emptyStyle = style === undefined || style === '';\n\n            if (currentDisplay !== displayType) {\n              module.verbose('Overriding default display to show element', displayType);\n              $module.attr('style', overrideStyle);\n            } else if (emptyStyle) {\n              $module.removeAttr('style');\n            }\n          },\n          hidden: function () {\n            var style = $module.attr('style'),\n                currentDisplay = $module.css('display'),\n                emptyStyle = style === undefined || style === '';\n\n            if (currentDisplay !== 'none' && !module.is.hidden()) {\n              module.verbose('Overriding default display to hide element');\n              $module.css('display', 'none');\n            } else if (emptyStyle) {\n              $module.removeAttr('style');\n            }\n          }\n        },\n        has: {\n          direction: function (animation) {\n            var hasDirection = false;\n            animation = animation || settings.animation;\n\n            if (typeof animation === 'string') {\n              animation = animation.split(' ');\n              $.each(animation, function (index, word) {\n                if (word === className.inward || word === className.outward) {\n                  hasDirection = true;\n                }\n              });\n            }\n\n            return hasDirection;\n          },\n          inlineDisplay: function () {\n            var style = $module.attr('style') || '';\n            return $.isArray(style.match(/display.*?;/, ''));\n          }\n        },\n        set: {\n          animating: function (animation) {\n            var animationClass, direction; // remove previous callbacks\n\n            module.remove.completeCallback(); // determine exact animation\n\n            animation = animation || settings.animation;\n            animationClass = module.get.animationClass(animation); // save animation class in cache to restore class names\n\n            module.save.animation(animationClass); // override display if necessary so animation appears visibly\n\n            module.force.visible();\n            module.remove.hidden();\n            module.remove.direction();\n            module.start.animation(animationClass);\n          },\n          duration: function (animationName, duration) {\n            duration = duration || settings.duration;\n            duration = typeof duration == 'number' ? duration + 'ms' : duration;\n\n            if (duration || duration === 0) {\n              module.verbose('Setting animation duration', duration);\n              $module.css({\n                'animation-duration': duration\n              });\n            }\n          },\n          direction: function (direction) {\n            direction = direction || module.get.direction();\n\n            if (direction == className.inward) {\n              module.set.inward();\n            } else {\n              module.set.outward();\n            }\n          },\n          looping: function () {\n            module.debug('Transition set to loop');\n            $module.addClass(className.looping);\n          },\n          hidden: function () {\n            $module.addClass(className.transition).addClass(className.hidden);\n          },\n          inward: function () {\n            module.debug('Setting direction to inward');\n            $module.removeClass(className.outward).addClass(className.inward);\n          },\n          outward: function () {\n            module.debug('Setting direction to outward');\n            $module.removeClass(className.inward).addClass(className.outward);\n          },\n          visible: function () {\n            $module.addClass(className.transition).addClass(className.visible);\n          }\n        },\n        start: {\n          animation: function (animationClass) {\n            animationClass = animationClass || module.get.animationClass();\n            module.debug('Starting tween', animationClass);\n            $module.addClass(animationClass).one(animationEnd + '.complete' + eventNamespace, module.complete);\n\n            if (settings.useFailSafe) {\n              module.add.failSafe();\n            }\n\n            module.set.duration(settings.duration);\n            settings.onStart.call(element);\n          }\n        },\n        save: {\n          animation: function (animation) {\n            if (!module.cache) {\n              module.cache = {};\n            }\n\n            module.cache.animation = animation;\n          },\n          displayType: function (displayType) {\n            if (displayType !== 'none') {\n              $module.data(metadata.displayType, displayType);\n            }\n          },\n          transitionExists: function (animation, exists) {\n            $.fn.transition.exists[animation] = exists;\n            module.verbose('Saving existence of transition', animation, exists);\n          }\n        },\n        restore: {\n          conditions: function () {\n            var animation = module.get.currentAnimation();\n\n            if (animation) {\n              $module.removeClass(animation);\n              module.verbose('Removing animation class', module.cache);\n            }\n\n            module.remove.duration();\n          }\n        },\n        add: {\n          failSafe: function () {\n            var duration = module.get.duration();\n            module.timer = setTimeout(function () {\n              $module.triggerHandler(animationEnd);\n            }, duration + settings.failSafeDelay);\n            module.verbose('Adding fail safe timer', module.timer);\n          }\n        },\n        remove: {\n          animating: function () {\n            $module.removeClass(className.animating);\n          },\n          animationCallbacks: function () {\n            module.remove.queueCallback();\n            module.remove.completeCallback();\n          },\n          queueCallback: function () {\n            $module.off('.queue' + eventNamespace);\n          },\n          completeCallback: function () {\n            $module.off('.complete' + eventNamespace);\n          },\n          display: function () {\n            $module.css('display', '');\n          },\n          direction: function () {\n            $module.removeClass(className.inward).removeClass(className.outward);\n          },\n          duration: function () {\n            $module.css('animation-duration', '');\n          },\n          failSafe: function () {\n            module.verbose('Removing fail safe timer', module.timer);\n\n            if (module.timer) {\n              clearTimeout(module.timer);\n            }\n          },\n          hidden: function () {\n            $module.removeClass(className.hidden);\n          },\n          visible: function () {\n            $module.removeClass(className.visible);\n          },\n          looping: function () {\n            module.debug('Transitions are no longer looping');\n\n            if (module.is.looping()) {\n              module.reset();\n              $module.removeClass(className.looping);\n            }\n          },\n          transition: function () {\n            $module.removeClass(className.visible).removeClass(className.hidden);\n          }\n        },\n        get: {\n          settings: function (animation, duration, onComplete) {\n            // single settings object\n            if (typeof animation == 'object') {\n              return $.extend(true, {}, $.fn.transition.settings, animation);\n            } // all arguments provided\n            else if (typeof onComplete == 'function') {\n                return $.extend({}, $.fn.transition.settings, {\n                  animation: animation,\n                  onComplete: onComplete,\n                  duration: duration\n                });\n              } // only duration provided\n              else if (typeof duration == 'string' || typeof duration == 'number') {\n                  return $.extend({}, $.fn.transition.settings, {\n                    animation: animation,\n                    duration: duration\n                  });\n                } // duration is actually settings object\n                else if (typeof duration == 'object') {\n                    return $.extend({}, $.fn.transition.settings, duration, {\n                      animation: animation\n                    });\n                  } // duration is actually callback\n                  else if (typeof duration == 'function') {\n                      return $.extend({}, $.fn.transition.settings, {\n                        animation: animation,\n                        onComplete: duration\n                      });\n                    } // only animation provided\n                    else {\n                        return $.extend({}, $.fn.transition.settings, {\n                          animation: animation\n                        });\n                      }\n          },\n          animationClass: function (animation) {\n            var animationClass = animation || settings.animation,\n                directionClass = module.can.transition() && !module.has.direction() ? module.get.direction() + ' ' : '';\n            return className.animating + ' ' + className.transition + ' ' + directionClass + animationClass;\n          },\n          currentAnimation: function () {\n            return module.cache && module.cache.animation !== undefined ? module.cache.animation : false;\n          },\n          currentDirection: function () {\n            return module.is.inward() ? className.inward : className.outward;\n          },\n          direction: function () {\n            return module.is.hidden() || !module.is.visible() ? className.inward : className.outward;\n          },\n          animationDirection: function (animation) {\n            var direction;\n            animation = animation || settings.animation;\n\n            if (typeof animation === 'string') {\n              animation = animation.split(' '); // search animation name for out/in class\n\n              $.each(animation, function (index, word) {\n                if (word === className.inward) {\n                  direction = className.inward;\n                } else if (word === className.outward) {\n                  direction = className.outward;\n                }\n              });\n            } // return found direction\n\n\n            if (direction) {\n              return direction;\n            }\n\n            return false;\n          },\n          duration: function (duration) {\n            duration = duration || settings.duration;\n\n            if (duration === false) {\n              duration = $module.css('animation-duration') || 0;\n            }\n\n            return typeof duration === 'string' ? duration.indexOf('ms') > -1 ? parseFloat(duration) : parseFloat(duration) * 1000 : duration;\n          },\n          displayType: function (shouldDetermine) {\n            shouldDetermine = shouldDetermine !== undefined ? shouldDetermine : true;\n\n            if (settings.displayType) {\n              return settings.displayType;\n            }\n\n            if (shouldDetermine && $module.data(metadata.displayType) === undefined) {\n              // create fake element to determine display state\n              module.can.transition(true);\n            }\n\n            return $module.data(metadata.displayType);\n          },\n          userStyle: function (style) {\n            style = style || $module.attr('style') || '';\n            return style.replace(/display.*?;/, '');\n          },\n          transitionExists: function (animation) {\n            return $.fn.transition.exists[animation];\n          },\n          animationStartEvent: function () {\n            var element = document.createElement('div'),\n                animations = {\n              'animation': 'animationstart',\n              'OAnimation': 'oAnimationStart',\n              'MozAnimation': 'mozAnimationStart',\n              'WebkitAnimation': 'webkitAnimationStart'\n            },\n                animation;\n\n            for (animation in animations) {\n              if (element.style[animation] !== undefined) {\n                return animations[animation];\n              }\n            }\n\n            return false;\n          },\n          animationEndEvent: function () {\n            var element = document.createElement('div'),\n                animations = {\n              'animation': 'animationend',\n              'OAnimation': 'oAnimationEnd',\n              'MozAnimation': 'mozAnimationEnd',\n              'WebkitAnimation': 'webkitAnimationEnd'\n            },\n                animation;\n\n            for (animation in animations) {\n              if (element.style[animation] !== undefined) {\n                return animations[animation];\n              }\n            }\n\n            return false;\n          }\n        },\n        can: {\n          transition: function (forced) {\n            var animation = settings.animation,\n                transitionExists = module.get.transitionExists(animation),\n                displayType = module.get.displayType(false),\n                elementClass,\n                tagName,\n                $clone,\n                currentAnimation,\n                inAnimation,\n                directionExists;\n\n            if (transitionExists === undefined || forced) {\n              module.verbose('Determining whether animation exists');\n              elementClass = $module.attr('class');\n              tagName = $module.prop('tagName');\n              $clone = $('<' + tagName + ' />').addClass(elementClass).insertAfter($module);\n              currentAnimation = $clone.addClass(animation).removeClass(className.inward).removeClass(className.outward).addClass(className.animating).addClass(className.transition).css('animationName');\n              inAnimation = $clone.addClass(className.inward).css('animationName');\n\n              if (!displayType) {\n                displayType = $clone.attr('class', elementClass).removeAttr('style').removeClass(className.hidden).removeClass(className.visible).show().css('display');\n                module.verbose('Determining final display state', displayType);\n                module.save.displayType(displayType);\n              }\n\n              $clone.remove();\n\n              if (currentAnimation != inAnimation) {\n                module.debug('Direction exists for animation', animation);\n                directionExists = true;\n              } else if (currentAnimation == 'none' || !currentAnimation) {\n                module.debug('No animation defined in css', animation);\n                return;\n              } else {\n                module.debug('Static animation found', animation, displayType);\n                directionExists = false;\n              }\n\n              module.save.transitionExists(animation, directionExists);\n            }\n\n            return transitionExists !== undefined ? transitionExists : directionExists;\n          },\n          animate: function () {\n            // can transition does not return a value if animation does not exist\n            return module.can.transition() !== undefined;\n          }\n        },\n        is: {\n          animating: function () {\n            return $module.hasClass(className.animating);\n          },\n          inward: function () {\n            return $module.hasClass(className.inward);\n          },\n          outward: function () {\n            return $module.hasClass(className.outward);\n          },\n          looping: function () {\n            return $module.hasClass(className.looping);\n          },\n          occurring: function (animation) {\n            animation = animation || settings.animation;\n            animation = '.' + animation.replace(' ', '.');\n            return $module.filter(animation).length > 0;\n          },\n          visible: function () {\n            return $module.is(':visible');\n          },\n          hidden: function () {\n            return $module.css('visibility') === 'hidden';\n          },\n          supported: function () {\n            return animationEnd !== false;\n          }\n        },\n        hide: function () {\n          module.verbose('Hiding element');\n\n          if (module.is.animating()) {\n            module.reset();\n          }\n\n          element.blur(); // IE will trigger focus change if element is not blurred before hiding\n\n          module.remove.display();\n          module.remove.visible();\n          module.set.hidden();\n          module.force.hidden();\n          settings.onHide.call(element);\n          settings.onComplete.call(element); // module.repaint();\n        },\n        show: function (display) {\n          module.verbose('Showing element', display);\n          module.remove.hidden();\n          module.set.visible();\n          module.force.visible();\n          settings.onShow.call(element);\n          settings.onComplete.call(element); // module.repaint();\n        },\n        toggle: function () {\n          if (module.is.visible()) {\n            module.hide();\n          } else {\n            module.show();\n          }\n        },\n        stop: function () {\n          module.debug('Stopping current animation');\n          $module.triggerHandler(animationEnd);\n        },\n        stopAll: function () {\n          module.debug('Stopping all animation');\n          module.remove.queueCallback();\n          $module.triggerHandler(animationEnd);\n        },\n        clear: {\n          queue: function () {\n            module.debug('Clearing animation queue');\n            module.remove.queueCallback();\n          }\n        },\n        enable: function () {\n          module.verbose('Starting animation');\n          $module.removeClass(className.disabled);\n        },\n        disable: function () {\n          module.debug('Stopping animation');\n          $module.addClass(className.disabled);\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        // modified for transition to return invoke success\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found !== undefined ? found : false;\n        }\n      };\n      module.initialize();\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  }; // Records if CSS transition is available\n\n\n  $.fn.transition.exists = {};\n  $.fn.transition.settings = {\n    // module info\n    name: 'Transition',\n    // hide all output from this component regardless of other settings\n    silent: false,\n    // debug content outputted to console\n    debug: false,\n    // verbose debug output\n    verbose: false,\n    // performance data output\n    performance: true,\n    // event namespace\n    namespace: 'transition',\n    // delay between animations in group\n    interval: 0,\n    // whether group animations should be reversed\n    reverse: 'auto',\n    // animation callback event\n    onStart: function () {},\n    onComplete: function () {},\n    onShow: function () {},\n    onHide: function () {},\n    // whether timeout should be used to ensure callback fires in cases animationend does not\n    useFailSafe: true,\n    // delay in ms for fail safe\n    failSafeDelay: 100,\n    // whether EXACT animation can occur twice in a row\n    allowRepeats: false,\n    // Override final display type on visible\n    displayType: false,\n    // animation duration\n    animation: 'fade',\n    duration: false,\n    // new animations will occur after previous ones\n    queue: true,\n    metadata: {\n      displayType: 'display'\n    },\n    className: {\n      animating: 'animating',\n      disabled: 'disabled',\n      hidden: 'hidden',\n      inward: 'in',\n      loading: 'loading',\n      looping: 'looping',\n      outward: 'out',\n      transition: 'transition',\n      visible: 'visible'\n    },\n    // possible errors\n    error: {\n      noAnimation: 'Element is no longer attached to DOM. Unable to animate.  Use silent setting to surpress this warning in production.',\n      repeated: 'That animation is already occurring, cancelling repeated animation',\n      method: 'The method you called is not defined',\n      support: 'This browser does not support CSS animations'\n    }\n  };\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}}}},\"gulpfile.js\":function(require){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/gulpfile.js                                                                                                //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n            Set-up\n*******************************/\nvar gulp = require('gulp-help')(require('gulp')),\n    // read user config to know what task to load\nconfig = require('./tasks/config/user'),\n    // watch changes\nwatch = require('./tasks/watch'),\n    // build all files\nbuild = require('./tasks/build'),\n    buildJS = require('./tasks/build/javascript'),\n    buildCSS = require('./tasks/build/css'),\n    buildAssets = require('./tasks/build/assets'),\n    // utility\nclean = require('./tasks/clean'),\n    version = require('./tasks/version'),\n    // docs tasks\nserveDocs = require('./tasks/docs/serve'),\n    buildDocs = require('./tasks/docs/build'),\n    // rtl\nbuildRTL = require('./tasks/rtl/build'),\n    watchRTL = require('./tasks/rtl/watch');\n/*******************************\n             Tasks\n*******************************/\n\n\ngulp.task('default', false, ['watch']);\ngulp.task('watch', 'Watch for site/theme changes', watch);\ngulp.task('build', 'Builds all files from source', build);\ngulp.task('build-javascript', 'Builds all javascript from source', buildJS);\ngulp.task('build-css', 'Builds all css from source', buildCSS);\ngulp.task('build-assets', 'Copies all assets from source', buildAssets);\ngulp.task('clean', 'Clean dist folder', clean);\ngulp.task('version', 'Displays current version of Semantic', version);\n/*--------------\n      Docs\n---------------*/\n\n/*\n  Lets you serve files to a local documentation instance\n  https://github.com/Semantic-Org/Semantic-UI-Docs/\n*/\n\ngulp.task('serve-docs', 'Serve file changes to SUI Docs', serveDocs);\ngulp.task('build-docs', 'Build all files and add to SUI Docs', buildDocs);\n/*--------------\n      RTL\n---------------*/\n\nif (config.rtl) {\n  gulp.task('watch-rtl', 'Watch files as RTL', watchRTL);\n  gulp.task('build-rtl', 'Build all files as RTL', buildRTL);\n}\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"server\":{\"bootstrap.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// server/bootstrap.js                                                                                                 //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nlet Moment;\nmodule.watch(require(\"moment\"), {\n  default(v) {\n    Moment = v;\n  }\n\n}, 0);\nlet Meteor;\nmodule.watch(require(\"meteor/meteor\"), {\n  Meteor(v) {\n    Meteor = v;\n  }\n\n}, 1);\nlet Events;\nmodule.watch(require(\"../lib/collections\"), {\n  Events(v) {\n    Events = v;\n  }\n\n}, 2);\nMeteor.startup(function () {\n  function generateCode() {\n    var code = \"\";\n\n    for (var index = 0; index < 5; index++) {\n      var digit = Math.floor(Math.random() * 10);\n      code += digit + \"\";\n    } //Console.log(code);\n\n\n    return code;\n  }\n});\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}}},{\n  \"extensions\": [\n    \".js\",\n    \".json\"\n  ]\n});\nrequire(\"/lib/collections.js\");\nrequire(\"/semantic/tasks/config/admin/templates/component-package.js\");\nrequire(\"/semantic/tasks/config/admin/templates/css-package.js\");\nrequire(\"/semantic/tasks/config/admin/templates/less-package.js\");\nrequire(\"/semantic/src/definitions/behaviors/api.js\");\nrequire(\"/semantic/src/definitions/behaviors/form.js\");\nrequire(\"/semantic/src/definitions/behaviors/visibility.js\");\nrequire(\"/semantic/src/definitions/globals/site.js\");\nrequire(\"/semantic/src/definitions/modules/accordion.js\");\nrequire(\"/semantic/src/definitions/modules/checkbox.js\");\nrequire(\"/semantic/src/definitions/modules/dimmer.js\");\nrequire(\"/semantic/src/definitions/modules/dropdown.js\");\nrequire(\"/semantic/src/definitions/modules/embed.js\");\nrequire(\"/semantic/src/definitions/modules/modal.js\");\nrequire(\"/semantic/src/definitions/modules/nag.js\");\nrequire(\"/semantic/src/definitions/modules/popup.js\");\nrequire(\"/semantic/src/definitions/modules/progress.js\");\nrequire(\"/semantic/src/definitions/modules/rating.js\");\nrequire(\"/semantic/src/definitions/modules/search.js\");\nrequire(\"/semantic/src/definitions/modules/shape.js\");\nrequire(\"/semantic/src/definitions/modules/sidebar.js\");\nrequire(\"/semantic/src/definitions/modules/sticky.js\");\nrequire(\"/semantic/src/definitions/modules/tab.js\");\nrequire(\"/semantic/src/definitions/modules/transition.js\");\nrequire(\"/semantic/tasks/admin/components/create.js\");\nrequire(\"/semantic/tasks/admin/components/init.js\");\nrequire(\"/semantic/tasks/admin/components/update.js\");\nrequire(\"/semantic/tasks/admin/distributions/create.js\");\nrequire(\"/semantic/tasks/admin/distributions/init.js\");\nrequire(\"/semantic/tasks/admin/distributions/update.js\");\nrequire(\"/semantic/tasks/config/admin/github.js\");\nrequire(\"/semantic/tasks/config/admin/oauth.example.js\");\nrequire(\"/semantic/tasks/config/admin/release.js\");\nrequire(\"/semantic/tasks/config/npm/gulpfile.js\");\nrequire(\"/semantic/tasks/config/project/config.js\");\nrequire(\"/semantic/tasks/config/project/install.js\");\nrequire(\"/semantic/tasks/config/project/release.js\");\nrequire(\"/semantic/tasks/admin/publish.js\");\nrequire(\"/semantic/tasks/admin/register.js\");\nrequire(\"/semantic/tasks/admin/release.js\");\nrequire(\"/semantic/tasks/build/assets.js\");\nrequire(\"/semantic/tasks/build/css.js\");\nrequire(\"/semantic/tasks/build/javascript.js\");\nrequire(\"/semantic/tasks/collections/admin.js\");\nrequire(\"/semantic/tasks/collections/build.js\");\nrequire(\"/semantic/tasks/collections/internal.js\");\nrequire(\"/semantic/tasks/collections/rtl.js\");\nrequire(\"/semantic/tasks/config/defaults.js\");\nrequire(\"/semantic/tasks/config/docs.js\");\nrequire(\"/semantic/tasks/config/tasks.js\");\nrequire(\"/semantic/tasks/config/user.js\");\nrequire(\"/semantic/tasks/docs/build.js\");\nrequire(\"/semantic/tasks/docs/metadata.js\");\nrequire(\"/semantic/tasks/docs/serve.js\");\nrequire(\"/semantic/tasks/rtl/build.js\");\nrequire(\"/semantic/tasks/rtl/watch.js\");\nrequire(\"/semantic/tasks/build.js\");\nrequire(\"/semantic/tasks/check-install.js\");\nrequire(\"/semantic/tasks/clean.js\");\nrequire(\"/semantic/tasks/install.js\");\nrequire(\"/semantic/tasks/version.js\");\nrequire(\"/semantic/tasks/watch.js\");\nrequire(\"/semantic/gulpfile.js\");\nrequire(\"/server/bootstrap.js\");","servePath":"/app.js","sourceMap":{"version":3,"sources":["lib/collections.js","semantic/tasks/config/admin/templates/component-package.js","semantic/tasks/config/admin/templates/css-package.js","semantic/tasks/config/admin/templates/less-package.js","semantic/tasks/config/admin/github.js","semantic/tasks/config/admin/oauth.example.js","semantic/tasks/config/admin/release.js","semantic/tasks/config/npm/gulpfile.js","semantic/tasks/config/project/config.js","semantic/tasks/config/project/install.js","semantic/tasks/config/project/release.js","semantic/tasks/config/defaults.js","semantic/tasks/config/docs.js","semantic/tasks/config/tasks.js","semantic/tasks/config/user.js","semantic/tasks/admin/components/create.js","semantic/tasks/admin/components/init.js","semantic/tasks/admin/components/update.js","semantic/tasks/admin/distributions/create.js","semantic/tasks/admin/distributions/init.js","semantic/tasks/admin/distributions/update.js","semantic/tasks/admin/publish.js","semantic/tasks/admin/register.js","semantic/tasks/admin/release.js","semantic/tasks/build/assets.js","semantic/tasks/build/css.js","semantic/tasks/build/javascript.js","semantic/tasks/collections/admin.js","semantic/tasks/collections/build.js","semantic/tasks/collections/internal.js","semantic/tasks/collections/rtl.js","semantic/tasks/docs/build.js","semantic/tasks/docs/metadata.js","semantic/tasks/docs/serve.js","semantic/tasks/rtl/build.js","semantic/tasks/rtl/watch.js","semantic/tasks/build.js","semantic/tasks/check-install.js","semantic/tasks/clean.js","semantic/tasks/install.js","semantic/tasks/version.js","semantic/tasks/watch.js","semantic/src/definitions/behaviors/api.js","semantic/src/definitions/behaviors/form.js","semantic/src/definitions/behaviors/visibility.js","semantic/src/definitions/globals/site.js","semantic/src/definitions/modules/accordion.js","semantic/src/definitions/modules/checkbox.js","semantic/src/definitions/modules/dimmer.js","semantic/src/definitions/modules/dropdown.js","semantic/src/definitions/modules/embed.js","semantic/src/definitions/modules/modal.js","semantic/src/definitions/modules/nag.js","semantic/src/definitions/modules/popup.js","semantic/src/definitions/modules/progress.js","semantic/src/definitions/modules/rating.js","semantic/src/definitions/modules/search.js","semantic/src/definitions/modules/shape.js","semantic/src/definitions/modules/sidebar.js","semantic/src/definitions/modules/sticky.js","semantic/src/definitions/modules/tab.js","semantic/src/definitions/modules/transition.js","semantic/gulpfile.js","server/bootstrap.js"],"names":["module","export","Events","Mongo","watch","require","v","Collection","Package","describe","name","summary","version","git","onUse","api","versionsFrom","addFiles","files","where","use","fs","path","githubAPI","oAuthConfig","join","__dirname","oAuth","existsSync","github","console","error","debug","protocol","timeout","authenticate","type","token","exports","username","email","source","paths","output","templates","bower","composer","package","meteor","css","component","less","readme","notes","org","repo","config","npm","distRepoRoot","componentRepoRoot","packageRoot","outputRoot","homepage","distributions","components","gulp","build","buildJS","buildCSS","buildAssets","clean","serveDocs","buildDocs","buildRTL","watchRTL","task","rtl","extend","defaults","getPath","file","directory","configPath","walk","nextDirectory","resolve","sep","currentPath","normalize","addDerivedValues","sourcePaths","outputPaths","folder","hasOwnProperty","base","assets","uncompressed","relative","themes","replace","compressed","packaged","permission","hasPermissions","globs","Array","filter","index","indexOf","length","release","requireDotFile","when","changeRoot","questions","useRoot","undefined","changePermissions","hasConfig","process","cwd","allowOverwrite","overwrite","notAuto","install","custom","express","customize","primaryColor","secondaryColor","removeTrailingSlash","isSetup","shouldAutoInstall","getPackageManager","pathArray","split","root","isSubModule","moduleFolders","createJSON","answers","json","semanticRoot","dist","site","setupFiles","regExp","siteVariable","definitions","gulpFile","lessImport","tasks","themeConfig","themeImport","defaultTheme","userGulpFile","folders","modules","message","choices","value","default","setup","checked","cleanup","settings","rename","extname","wrench","forceDelete","excludeHiddenUnix","preserveFiles","merge","npmPackage","title","repository","url","banner","pmRoot","theme","admin","ignored","ignoredRTL","eco","examples","metadata","template","log","created","modified","filenames","concatenatedCSS","concatenatedJS","concatenatedMinifiedCSS","concatenatedMinifiedJS","concatenatedRTLCSS","concatenatedMinifiedRTLCSS","comments","variables","in","out","license","large","small","tiny","del","silent","concatCSS","rebaseUrls","header","plumber","errorHandler","variable","element","filename","match","line","exec","emit","prefix","browsers","minJS","minCSS","rtlCSS","rtlMinCSS","minify","processImport","restructuring","keepSpecialComments","roundingPrecision","uglify","mangle","concatMinify","concatUglify","gulpConfig","userConfig","code","runSequence","concatFileNames","flatten","jsonEditor","tap","util","project","callback","stream","outputDirectory","isJavascript","isCSS","capitalizedComponent","charAt","toUpperCase","slice","packageName","repoName","gitURL","repoURL","concatSettings","newline","prepend","append","titleName","spacedVersions","spacedLists","trim","unrelatedNotes","RegExp","whitespace","componentExport","componentReference","settingsExport","settingsReference","trailingComma","jQuery","all","manifest","src","pipe","dest","description","main","dependencies","jquery","contents","on","push","mkdirp","total","timer","stepRepo","gitOptions","pullOptions","args","quiet","resetOptions","localRepoSetup","sync","search","info","force","setupRepo","addRemote","initRepo","init","createRepo","repos","createFromOrg","pullFiles","pull","resetFiles","reset","nextRepo","global","clearTimeout","setTimeout","commitArgs","componentPackage","isNewVersion","commitMessage","commitOptions","releaseOptions","tag_name","owner","fileModeOptions","usernameOptions","emailOptions","versionOptions","canProceed","setConfig","commitFiles","add","commit","pushFiles","getSHA","createRelease","target_commitish","mergeStream","distribution","distLowerCase","toLowerCase","packageFile","gatherFiles","createList","dir","list","readdirSync","omitted","forEach","isOmitted","filePath","stat","statSync","isDirectory","concat","releases","siteTheme","lowerCaseComponent","distributionPackage","execSettings","updateNPM","err","stdout","stderr","chmod","gulpif","hasPermission","autoprefixer","clone","minifyCSS","print","tasksCompleted","maybeCallback","compressedStream","uncompressedStream","start","initComponents","createComponents","updateComponents","initDistributions","createDistributions","updateDistributions","publish","register","dedupe","docsConfig","docsOutput","map","configSetup","parser","writeFile","JSON","stringify","result","YAML","data","startsWith","str","inArray","needle","haystack","i","isNull","isStream","Error","text","String","toString","lines","substring","key","position","lineCount","active","yaml","categories","meta","parse","category","clear","lessPath","isDefinition","isPackagedTheme","isSiteTheme","isConfig","replaceExtension","rtlcss","prompt","currentConfig","manager","rootQuestions","installFolder","updateFolder","updatePaths","definition","copyDirSyncRecursive","prototype","splice","apply","setupAnswers","installPaths","configFolder","themeConfigFolder","customRoot","destination","pathToSite","jsonConfig","exit","$","window","document","Math","self","Function","fn","parameters","$allModules","isFunction","moduleSelector","selector","time","Date","getTime","performance","query","arguments","methodInvoked","queryArguments","call","returnedValue","each","isPlainObject","namespace","className","eventNamespace","moduleNamespace","$module","$form","closest","form","$context","stateContext","ajaxSettings","requestSettings","requestStartTime","context","instance","initialize","bind","events","instantiate","verbose","destroy","removeData","off","triggerEvent","get","event","trigger","decode","response","e","read","cachedResponse","Storage","noStorage","sessionStorage","getItem","write","setItem","is","disabled","loading","interruptRequests","abort","defaultData","urlData","serializeForm","formData","cancelled","beforeSend","templatedURL","mocked","missingURL","method","beforeXHR","success","failure","complete","cache","request","create","resolveWith","throttle","send","throttleFirstRequest","should","removeError","hideError","expectingJSON","dataType","mockResponse","mockResponseAsync","responseAsync","input","state","abortedRequest","xhr","readyState","validResponse","successTest","was","succesful","requiredVariables","optionalVariables","required","optional","templatedString","substr","requiredParameter","encodeParameters","urlEncodedValue","canSerialize","serializeObject","serialize","hasOtherData","missingSerialize","set","mockedXHR","onRequest","preventDefault","always","done","textStatus","elapsedTime","timeLeft","loadingDuration","translatedResponse","onResponse","rejectWith","fail","status","httpMessage","onSuccess","firstParameter","secondParameter","responseFromXHR","remove","onComplete","errorMessage","errorFromRequest","onAbort","statusMessage","onError","errorDuration","onFailure","Deferred","responder","asyncResponder","asyncCallback","responseText","ajax","addClass","removeClass","runSettings","legacyParameters","noReturnedValue","decodedValue","decodeURIComponent","encodedValue","encodeURIComponent","alreadyEncoded","isWindow","val","oninput","onpropertychange","action","missingAction","attr","setting","internal","currentTime","executionTime","previousTime","display","totalTime","group","table","groupCollapsed","groupEnd","invoke","passedArguments","object","maxDepth","found","depth","camelCaseValue","isArray","promise","exitConditions","JSONParse","parseError","formErrors","keyHeldDown","$field","$group","$message","$prompt","$submit","$clear","$reset","validation","bindEvents","removeEvents","refresh","find","field","submit","attachEvents","validate","blur","keyboardShortcuts","keydown","$input","prop","inputEvent","changeEvent","change","$element","parent","$fieldGroup","defaultValue","isCheckbox","uiCheckbox","isDropdown","uiDropdown","isErrored","hasClass","dropdown","determine","isValid","allValid","fieldName","bracketedRule","rule","bracket","shorthandFields","fields","fieldKeys","Object","keys","firstRule","shorthandRules","rules","empty","blank","valid","which","isInput","checkbox","isInDropdown","keyCode","enter","escape","ctrlKey","one","keyup","validationRules","revalidate","delay","ancillaryValue","ruleName","createElement","fieldsFromShorthand","fullFields","ancillary","identifier","unspecifiedRule","requiresValue","requiresName","$label","eq","unspecifiedField","isLegacySettings","ruleKeys","oldSyntax","string","$fields","fieldValidation","results","values","isRadio","radio","isMultiple","isChecked","has","newValidation","errors","children","promptExists","inline","appendTo","html","transition","duration","fadeIn","fadeOut","isEmptyObject","fieldExists","$multipleField","ignoreCallbacks","apiRequest","stopImmediatePropagation","showErrors","$dependsField","depends","fieldValid","fieldErrors","onValid","onInvalid","ruleFunction","noRule","htmlID","decimal","flags","integer","number","isExactly","not","notExactly","contain","containExactly","doesntContain","doesntContainExactly","minLength","exactLength","maxLength","different","creditCard","minCount","exactCount","maxCount","label","pressed","test","regExpParts","range","intRegExp","min","max","parts","notValue","contains","containsExactly","requiredLength","matchingValue","cardNumber","cardTypes","cards","visa","pattern","amex","mastercard","discover","unionPay","jcb","maestro","dinersClub","laser","visaElectron","validCard","requiredTypes","multiple","producedValue","sum","parseInt","visibility","moduleCount","loadedCount","$window","$placeholder","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","contextObserver","observer","trackChanges","image","fixed","observeChanges","save","visible","initialCheck","checkVisibility","disconnect","load","resize","scroll","scrollchange","resetFixed","placeholder","MutationObserver","contextChanged","changed","observe","childList","subtree","refreshOnLoad","mutations","mutation","removedNodes","node","refreshOnResize","triggerHandler","scrollTop","scrollPosition","precache","images","imagesLength","loadedCounter","cacheImage","handleLoad","onload","onerror","enableCallbacks","disableCallbacks","occurred","screen","once","onOnScreen","onAllLoaded","onLoad","onTopPassed","show","onTopPassedReverse","hide","insertAfter","top","offset","left","zIndex","onFixed","onScreen","calculations","elementCalculations","offScreen","width","verticallyScrollableContext","overflowY","horizontallyScrollableContext","overflowX","checkOnRefresh","onRefresh","passed","passingReverse","topVisibleReverse","bottomVisibleReverse","topPassedReverse","bottomPassedReverse","passing","topVisible","bottomVisible","topPassed","bottomPassed","onUpdate","amount","newCallback","amountInPixels","onPassed","pixelsPassed","execute","callbackName","onOffScreen","onPassing","onTopVisible","onBottomVisible","onBottomPassed","onPassingReverse","onTopVisibleReverse","onBottomVisibleReverse","onBottomPassedReverse","screenCalculations","continuous","onUnfixed","direction","lastScroll","elementPosition","screenSize","fits","height","outerWidth","outerHeight","scrollLeft","includeMargin","margin","bottom","percentagePassed","$document","fix","disable","markTimeline","consoleClear","moduleExists","enabled","enabledModules","disabledModules","modifyExisting","$existingModules","newSettings","enable","warn","siteNamespace","namespaceStub","sections","section","utilities","expr","createPseudo","dataName","elem","accordion","$title","$content","content","click","toggle","$activeTitle","$activeContent","next","isAnimating","animating","isActive","isOpen","isOpening","collapsible","close","open","onOpening","onChanging","exclusive","closeOthers","stop","animateChildren","animation","queue","useFailSafe","animate","opacity","resetOpacity","slideDown","easing","onOpen","onChange","isClosing","onClosing","slideUp","onClose","$parentTitles","parents","prev","$activeAccordion","activeSelector","activeContent","$openTitles","$nestedTitles","$openContents","closeNested","removeAttr","easeOutQuad","x","t","b","c","d","initialLoad","shortcutPressed","tabbable","unbind","reference","indeterminate","check","uncheck","hidden","notFound","$target","target","link","focus","space","allowCheck","onChecked","allowUncheck","unchecked","onUnchecked","allowIndeterminate","onIndeterminate","determinate","allowDeterminate","onDeterminate","onEnable","onEnabled","onDisable","onDisabled","radios","otherRadios","forceCallbacks","beforeChecked","beforeUnchecked","beforeIndeterminate","beforeDeterminate","fireOnInit","can","readOnly","uncheckable","uncheckOthers","createEvent","inputElement","initEvent","dispatchEvent","prevAll","detach","$radios","dimmer","clickEvent","documentElement","$dimmer","$dimmable","preinitialize","dimmerName","variation","dimmable","page","addEventListener","preventScroll","passive","pageDimmer","closable","removeEventListener","addContent","dimmed","onShow","onHide","useCSS","displayType","onStart","fadeTo","color","colorArray","isRGB","isRGBA","hasTouch","elementIndex","$text","$search","$sizer","sizer","$icon","icon","$combo","$menu","menu","$item","item","activated","itemActivated","internalChange","pageLostFocus","willRefocus","elementNamespace","id","selectObserver","menuObserver","alreadySetup","layout","refreshData","restore","selected","select","random","userChoice","$userChoices","$userChoice","isUserValue","userValues","addition","addResult","hideAdditions","userLabels","minCharacters","firstUnfiltered","selectedItem","unselectable","nextAvailable","$selected","$nextAvailable","nextAll","$prevAvailable","hasNext","apiSettings","returnedObject","insertBefore","searchSelection","allowTab","selectValues","selection","missingMultiple","prependTo","$firstModules","$lastModules","refreshSelectors","refreshItems","clearData","defaultText","placeholderText","remote","queryRemote","maxSelections","allResultsFiltered","allFiltered","intent","menuSearch","focusSearch","animatingOutward","hideOthers","hideMenu","hideSubMenus","$subMenus","touchEvents","keyboardEvents","inputEvents","mouseEvents","single","mouseenter","mousedown","mouseup","mouseleave","touch","searchTerm","afterFiltered","filterActive","activeItem","onNoResults","allowAdditions","noResults","userSuggestion","focusedOnSearch","useLabels","useAPI","filterRemoteData","filterItems","noAPI","serverError","remoteValues","hasRemoteValues","escapedTerm","beginsWithRegExp","$choice","choiceText","fullTextSearch","exactSearch","fuzzySearch","choiceValue","filteredItem","filtered","term","termLength","queryLength","characterIndex","nextCharacterIndex","queryCharacter","charCodeAt","skipHandler","forceSelection","$currentlySelected","$activeItem","$selectedItem","hasSelected","showOnFocus","activeElement","activeLabel","$labels","$activeLabels","$nextActive","$prevActive","$range","nextUntil","prevUntil","shiftKey","toggleClass","onLabelSelect","activeLabels","toggleBehavior","bubbledLabelClick","bubbledIconClick","eventOnElement","stopPropagation","eventInModule","isSelectMutation","addedNodes","$addedNode","$removedNode","$changedNodes","isUserAddition","isMessage","$subMenu","$otherMenus","siblings","hasSubMenu","isBubbledEvent","itemTimer","skipRefocus","allowCategorySelection","userAddition","selectAction","pressedKey","isShortcutKey","inObject","$activeLabel","activeValue","labelIndex","labelCount","hasActiveLabel","hasMultipleActive","isFirstLabel","isLastLabel","isSearch","isFocusedOnSearch","isFocused","focused","caretAtStart","caretPosition","$nextLabel","leftArrow","last","siblingLabel","end","rightArrow","first","deleteKey","backspace","$visibleItems","addBack","$parentMenu","inVisibleMenu","hasSelectedItem","selectedIsSelectable","delimiterPressed","delimiter","isAdditionWithoutMenu","$nextItem","isSubMenuItem","newIndex","upArrow","selectOnKeydown","downArrow","pageUp","scrollPage","pageDown","selectedLetter","fromCharCode","inDocument","inModule","inVisibleDOM","body","notOnLabel","notInMenu","nothing","activate","hideAndClear","combo","searchWidth","ceil","selectionCount","count","upward","grep","uniqueArray","array","rangeLength","selectionStart","createRange","moveStart","isEmptyMultiselect","selectInput","remoteData","preserveHTML","menuIcon","$option","sortSelect","sort","a","itemWithAdditions","$items","$userItems","hasUserItems","strict","shouldSearch","optionText","optionValue","labels","saveRemoteData","clearValue","$currentItem","menuHeight","currentScroll","itemHeight","itemsPerPage","floor","maxScroll","newScroll","$selectableItem","isWithinRange","$nextSelectedItem","isSearchMultiple","searchValue","hasSearchValue","valueIsSet","glyphWidth","partialSearch","forceScroll","edgeTolerance","hasActive","itemOffset","menuOffset","menuScroll","abovePage","belowPage","searchText","letter","alreadySelectedLetter","firstLetter","$nextValue","openDownward","leftward","openRightward","$currentMenu","escapedValue","hasInput","currentValue","stringValue","newValue","allowReselection","extendSelect","exactly","$userSelectedItem","selectedText","selectedValue","isFiltered","shouldAnimate","$next","ignoreCase","onLabelCreate","hasOption","$addition","$existingItem","alreadyHasValue","hasUserSuggestion","hasCount","hasMaxCount","hasTerm","addedValue","addedText","onAdd","removedValue","removedText","$removedItem","arrayValue","onRemove","$removedLabel","userValue","onLabelRemove","items","$normalResults","valueIgnoringCase","valueMatchingCase","hasValue","existingValue","animatingInward","$selectedMenu","property","selectMutation","selectChanged","canOpenDownward","above","below","canOpenRightward","isOffscreenRight","noTransition","multipleValues","isUnparsable","hasQuotes","quote","keepOnScreen","$selectedLabels","option","maybeText","maybeDisabled","choice","embed","sources","$embed","autoplay","createAndShow","createPlaceholder","generate","createEmbed","onCreate","changeEmbed","showPlaceholder","onReset","onDisplay","onPlaceholderDisplay","matchedSource","domain","encode","urlString","iframe","noURL","extraParameters","onEmbed","video","hd","brandedUI","youtube","autohide","hq","jsapi","modestbranding","vimeo","byline","portrait","onPause","onPlay","onStop","modal","$body","$close","$allModals","$otherModals","$focusedElement","ignoreRepeatedEvents","elementEventNamespace","refreshModals","defaultSettings","centered","dimmerSettings","detachable","undetached","scrolling","cacheSizes","screenHeight","$toggle","approve","deny","onApprove","onDeny","isInModal","isInDOM","clickaway","allowMultiple","hideAll","debounce","keyboard","escapeKey","showModal","hideModal","showDimmer","others","onVisible","autofocus","keepDimmed","hideDimmer","onHidden","$visibleModals","$activeElement","inCurrentModal","bodyStyle","scrollHeight","modalHeight","pageHeight","contextHeight","topOffset","fit","verticalCenter","paddingHeight","padding","startPosition","modernBrowser","ActiveXObject","$inputs","$autofocus","inverted","blurring","nag","moduleOffset","moduleHeight","contextWidth","contextOffset","yOffset","yPosition","dismiss","displayTime","storageMethod","storage","persist","storageOptions","options","expires","localStorage","cookie","noCookieStorage","storedValue","removeItem","removeCookie","speed","popup","$scrollContext","scrollContext","$boundary","boundary","$popup","$offsetParent","searchDepth","triedPositions","openedWithTouch","documentObserver","createID","exists","preserve","documentChanged","offsetParent","movePopup","reposition","removePopup","hideTimer","showTimer","touchstart","hideGracefully","inPopup","activator","hoverable","conditions","popupVisible","supports","svg","SVGGraphicsElement","popupOffset","$popupOffsetParent","targetElement","targetPosition","screenPosition","setFluidWidth","fluid","container","getComputedStyle","getPropertyValue","right","startEvent","scrollEvent","endEvent","distanceFromBoundary","parentNode","$node","is2D","isStatic","isBody","positions","nextPosition","verticalPosition","horizontalPosition","opposite","adjacent","center","backup","adjacentsAvailable","oppositeTried","adjacentTried","prefer","distanceAway","positioning","centerArrow","arrowPixelsFromEdge","maxSearchDepth","lastResort","invalidPosition","offstage","cannotPlace","attempts","onUnplaceable","fluidWidth","hideOnScroll","closeOnScroll","touchClose","basic","distance","jitter","addTouchEvents","badChars","shouldEscape","escapedChar","chr","progress","$bar","bar","$progress","transitionEnd","transitionEvent","clearInterval","interval","nextValue","update","percent","progressPoll","failSafeTimer","failSafeDelay","increment","incrementValue","maxValue","startValue","randomValue","normalizedValue","decrement","decrementValue","templateText","displayPercent","updateInterval","numericValue","transitions","style","barWidth","totalWidth","minDisplay","precision","round","toNextValue","warning","tooHigh","tooLow","limitValues","labelInterval","animationCallback","setInterval","framerate","barLabel","autoSuccess","ratio","showActivity","onLabelUpdate","onActive","onWarning","totalValue","percentComplete","nonNumeric","rating","interactive","initialRating","maxRating","$activeIcon","currentRating","canClear","clearable","clearRating","ratingIndex","onRate","slent","noMaximum","$searchButton","searchButton","$results","$result","$category","disabledBubbled","resultsDismissed","searchFields","refreshResults","automatic","handleKeyboard","searchDelay","searchOnFocus","minimumCharacters","showResults","cancel","hideResults","hideDelay","resultsClicked","inMessage","$link","href","onSelect","location","$activeResult","currentIndex","resultSize","hasActiveResult","buttonPressed","buttonFocus","displayMessage","searchHTML","searchFullText","oldSearchSyntax","lookupFields","firstResult","addResults","inject","local","onSearchQuery","maxResults","categoryResults","generateResults","exactResults","fuzzyResults","searchExp","matchRegExp","beginsWith","notResult","notFuzzyResult","notExactResults","numCharacters","resultIndex","categoryIndex","resultID","categoryID","firstCharCode","letterID","$selectedResult","onResultsAdd","selectFirstResult","onResultsOpen","onResultsClose","isProperObject","isProperArray","noTemplate","showNoResults","onResults","displayField","logging","noEndpoint","categoryName","price","actionText","actionURL","standard","shape","$sides","sides","$side","side","nextIndex","$activeSide","$nextSide","defaultSide","repaint","fakeAssignment","offsetWidth","propertyObject","beforeChange","currentStageSize","stageSize","$clone","newWidth","newHeight","nextSide","flip","up","allowRepeats","transform","stage","down","over","behind","back","translate","y","z","box","origin","sidebar","$html","$head","$sidebars","$fixed","$pusher","pusher","$style","delaySetup","ios","clickedInPusher","clickedContext","containScroll","offsetHeight","scrollLock","inlineCSS","isRTL","ie","refreshSidebars","wrapAll","movedSidebar","pushable","overlay","othersActive","pushPage","pullPage","othersAnimating","othersVisible","$otherSidebars","sidebarCount","callbackCount","$transition","dim","scrollToTop","dimPage","returnScroll","mobile","scrollBack","scrollTo","pushed","mobileTransition","defaultTransition","computer","isIE11","isIE","userAgent","navigator","isIOS","isMobileChrome","mobileChrome","isMobile","closed","vertical","sticky","$scroll","$container","determineContainer","determineContext","checkErrors","invalidContext","elementSize","stick","onScroll","hardRefresh","onReposition","supported","elementScroll","standardScroll","sameHeight","containerSize","scrollChange","currentElementScroll","abs","delta","possibleScroll","minimumSize","tagName","size","setProperty","initialPosition","bound","cachedPosition","pushing","bottomOffset","doesntFit","elementVisible","bindBottom","fixTop","setInitialPosition","fixBottom","bindTop","marginBottom","onTop","onUnstick","onBottom","unfix","setSize","onStick","resetCSS","tab","initializedHistory","$tabs","firstLoad","recursionDepth","activeTabPath","parameterArray","historyEvent","callbacks","determineTabs","auto","history","initializeHistory","$reference","ui","childrenOnly","tabs","onTabLoad","onTabInit","legacyLoad","onFirstLoad","legacyInit","address","historyType","tabPath","changeTab","pathNames","initialPath","pageTitle","determineTitle","cacheKey","$tab","tabElement","isLoading","pushStateAvailable","pushState","shouldIgnoreLoad","ignoreFirstLoad","remoteContent","pathToArray","defaultPathArray","arrayToPath","currentPathArray","isTab","isLastIndex","$anchor","nextPathArray","nextPath","isLastTab","filterArray","navigation","fetch","missingTab","scrollOffset","evaluateScripts","cacheType","innerHTML","fullTabPath","alwaysRefresh","headers","loadOnce","existingRequest","cachedContent","$deactiveTabs","deactivate","$navigation","navElement","$deactiveNavigation","tabName","defaultPath","$defaultNav","defaultTab","recursion","$fullPathTab","$simplePathTab","tabPathArray","lastTab","keepArray","removeArray","keepValue","pathName","tabArray","noContent","loaded","moduleArguments","animationEnd","animationName","animationEndEvent","forceRepaint","$parentElement","$nextElement","animationDirection","shouldReverse","reverse","outward","overrideSettings","support","occurring","queuing","noAnimation","animationCallbacks","completeCallback","failSafe","looping","inward","userStyle","overrideStyle","currentDisplay","emptyStyle","hasDirection","word","inlineDisplay","animationClass","transitionExists","currentAnimation","queueCallback","directionClass","currentDirection","parseFloat","shouldDetermine","animationStartEvent","animations","forced","elementClass","inAnimation","directionExists","stopAll","repeated","Moment","Meteor","startup","generateCode","digit"],"mappings":"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","file":"/app.js","sourcesContent":["import { Mongo } from 'meteor/mongo';\n\nexport const Events = new Mongo.Collection('events');","\nPackage.describe({\n  name    : 'semantic:ui-{component}',\n  summary : 'Semantic UI - {Component}: Single component release',\n  version : '{version}',\n  git     : 'git://github.com/Semantic-Org/UI-{Component}.git',\n});\n\nPackage.onUse(function(api) {\n  api.versionsFrom('1.0');\n  api.addFiles([\n    {files}\n  ], 'client');\n});\n","var\n  where = 'client' // Adds files only to the client\n;\n\nPackage.describe({\n  name    : 'semantic:ui-css',\n  summary : 'Semantic UI - CSS Release of Semantic UI',\n  version : '{version}',\n  git     : 'git://github.com/Semantic-Org/Semantic-UI-CSS.git',\n});\n\nPackage.onUse(function(api) {\n\n  api.versionsFrom('1.0');\n\n  api.use('jquery', 'client');\n\n  api.addFiles([\n    // icons\n    'themes/default/assets/fonts/icons.eot',\n    'themes/default/assets/fonts/icons.svg',\n    'themes/default/assets/fonts/icons.ttf',\n    'themes/default/assets/fonts/icons.woff',\n    'themes/default/assets/fonts/icons.woff2',\n\n    // flags\n    'themes/default/assets/images/flags.png',\n\n    // release\n    'semantic.css',\n    'semantic.js'\n  ], 'client');\n\n});\n","var\n  where = 'client' // Adds files only to the client\n;\n\nPackage.describe({\n  name    : 'semantic:ui',\n  summary : 'Semantic UI - LESS Release of Semantic UI',\n  version : '{version}',\n  git     : 'git://github.com/Semantic-Org/Semantic-UI-LESS.git',\n});\n\nPackage.onUse(function(api) {\n\n  api.versionsFrom('1.0');\n  api.use('less', 'client');\n\n  api.addFiles([\n    {files}\n  ], 'client');\n\n});\n","/*******************************\n          GitHub Login\n*******************************/\n/*\n  Logs into GitHub using OAuth\n*/\n\nvar\n  fs          = require('fs'),\n  path        = require('path'),\n  githubAPI   = require('github'),\n\n  // stores oauth info for GitHub API\n  oAuthConfig = path.join(__dirname, 'oauth.js'),\n  oAuth       = fs.existsSync(oAuthConfig)\n    ? require(oAuthConfig)\n    : false,\n  github\n;\n\nif(!oAuth) {\n  console.error('Must add oauth token for GitHub in tasks/config/admin/oauth.js');\n}\n\ngithub = new githubAPI({\n  version    : '3.0.0',\n  debug      : true,\n  protocol   : 'https',\n  timeout    : 5000\n});\n\ngithub.authenticate({\n  type: 'oauth',\n  token: oAuth.token\n});\n\nmodule.exports = github;\n","/*\n Used to import GitHub Auth Token\n To Automate GitHub Updates\n*/\n\nmodule.exports = {\n  token    : 'AN-OAUTH2-TOKEN',\n  username : 'github-username',\n  name     : 'Your Name',\n  email    : 'user@email.com'\n};","/*******************************\n        Release Settings\n*******************************/\n\n// release settings\nmodule.exports = {\n\n  // path to components for repos\n  source     : './dist/components/',\n\n  // modified asset paths for component repos\n  paths: {\n    source : '../themes/default/assets/',\n    output : 'assets/'\n  },\n\n  templates: {\n    bower    : './tasks/config/admin/templates/bower.json',\n    composer : './tasks/config/admin/templates/composer.json',\n    package  : './tasks/config/admin/templates/package.json',\n    meteor   : {\n      css       : './tasks/config/admin/templates/css-package.js',\n      component : './tasks/config/admin/templates/component-package.js',\n      less      : './tasks/config/admin/templates/less-package.js',\n    },\n    readme : './tasks/config/admin/templates/README.md',\n    notes  : './RELEASE-NOTES.md'\n  },\n\n  org         : 'Semantic-Org',\n  repo        : 'Semantic-UI',\n\n  // files created for package managers\n  files: {\n    composer : 'composer.json',\n    config   : 'semantic.json',\n    npm      : 'package.json',\n    meteor   : 'package.js'\n  },\n\n  // root name for distribution repos\n  distRepoRoot      : 'Semantic-UI-',\n\n  // root name for single component repos\n  componentRepoRoot : 'UI-',\n\n  // root name for package managers\n  packageRoot          : 'semantic-ui-',\n\n  // root path to repos\n  outputRoot  : '../repos/',\n\n  homepage    : 'http://www.semantic-ui.com',\n\n  // distributions that get separate repos\n  distributions: [\n    'LESS',\n    'CSS'\n  ],\n\n  // components that get separate repositories for bower/npm\n  components : [\n    'accordion',\n    'ad',\n    'api',\n    'breadcrumb',\n    'button',\n    'card',\n    'checkbox',\n    'comment',\n    'container',\n    'dimmer',\n    'divider',\n    'dropdown',\n    'embed',\n    'feed',\n    'flag',\n    'form',\n    'grid',\n    'header',\n    'icon',\n    'image',\n    'input',\n    'item',\n    'label',\n    'list',\n    'loader',\n    'menu',\n    'message',\n    'modal',\n    'nag',\n    'popup',\n    'progress',\n    'rail',\n    'rating',\n    'reset',\n    'reveal',\n    'search',\n    'segment',\n    'shape',\n    'sidebar',\n    'site',\n    'statistic',\n    'step',\n    'sticky',\n    'tab',\n    'table',\n    'transition',\n    'visibility'\n  ]\n};\n","/*******************************\n            Set-up\n*******************************/\n\nvar\n  gulp         = require('gulp-help')(require('gulp')),\n\n  // read user config to know what task to load\n  config       = require('./tasks/config/user'),\n\n  // watch changes\n  watch        = require('./tasks/watch'),\n\n  // build all files\n  build        = require('./tasks/build'),\n  buildJS      = require('./tasks/build/javascript'),\n  buildCSS     = require('./tasks/build/css'),\n  buildAssets  = require('./tasks/build/assets'),\n\n  // utility\n  clean        = require('./tasks/clean'),\n  version      = require('./tasks/version'),\n\n  // docs tasks\n  serveDocs    = require('./tasks/docs/serve'),\n  buildDocs    = require('./tasks/docs/build'),\n\n  // rtl\n  buildRTL     = require('./tasks/rtl/build'),\n  watchRTL     = require('./tasks/rtl/watch')\n;\n\n\n/*******************************\n             Tasks\n*******************************/\n\ngulp.task('default', false, [\n  'watch'\n]);\n\ngulp.task('watch', 'Watch for site/theme changes', watch);\n\ngulp.task('build', 'Builds all files from source', build);\ngulp.task('build-javascript', 'Builds all javascript from source', buildJS);\ngulp.task('build-css', 'Builds all css from source', buildCSS);\ngulp.task('build-assets', 'Copies all assets from source', buildAssets);\n\ngulp.task('clean', 'Clean dist folder', clean);\ngulp.task('version', 'Displays current version of Semantic', version);\n\n/*--------------\n      Docs\n---------------*/\n\n/*\n  Lets you serve files to a local documentation instance\n  https://github.com/Semantic-Org/Semantic-UI-Docs/\n*/\n\ngulp.task('serve-docs', 'Serve file changes to SUI Docs', serveDocs);\ngulp.task('build-docs', 'Build all files and add to SUI Docs', buildDocs);\n\n\n/*--------------\n      RTL\n---------------*/\n\nif(config.rtl) {\n  gulp.task('watch-rtl', 'Watch files as RTL', watchRTL);\n  gulp.task('build-rtl', 'Build all files as RTL', buildRTL);\n}\n","/*******************************\n            Set-up\n*******************************/\n\nvar\n  extend   = require('extend'),\n  fs       = require('fs'),\n  path     = require('path'),\n\n  defaults = require('../defaults')\n;\n\n\n/*******************************\n            Exports\n*******************************/\n\nmodule.exports = {\n\n  getPath: function(file, directory) {\n    var\n      configPath,\n      walk = function(directory) {\n        var\n          nextDirectory = path.resolve( path.join(directory, path.sep, '..') ),\n          currentPath   = path.normalize( path.join(directory, file) )\n        ;\n        if( fs.existsSync(currentPath) ) {\n          // found file\n          configPath = path.normalize(directory);\n          return;\n        }\n        else {\n          // reached file system root, let's stop\n          if(nextDirectory == directory) {\n            return;\n          }\n          // otherwise recurse\n          walk(nextDirectory, file);\n        }\n      }\n    ;\n\n    // start walk from outside require-dot-files directory\n    file      = file || defaults.files.config;\n    directory = directory || path.join(__dirname, path.sep, '..');\n    walk(directory);\n    return configPath || '';\n  },\n\n  // adds additional derived values to a config object\n  addDerivedValues: function(config) {\n\n    config = config || extend(false, {}, defaults);\n\n    /*--------------\n       File Paths\n    ---------------*/\n\n    var\n      configPath = this.getPath(),\n      sourcePaths = {},\n      outputPaths = {},\n      folder\n    ;\n\n    // resolve paths (config location + base + path)\n    for(folder in config.paths.source) {\n      if(config.paths.source.hasOwnProperty(folder)) {\n        sourcePaths[folder] = path.resolve(path.join(configPath, config.base, config.paths.source[folder]));\n      }\n    }\n    for(folder in config.paths.output) {\n      if(config.paths.output.hasOwnProperty(folder)) {\n        outputPaths[folder] = path.resolve(path.join(configPath, config.base, config.paths.output[folder]));\n      }\n    }\n\n    // set config paths to full paths\n    config.paths.source = sourcePaths;\n    config.paths.output = outputPaths;\n\n    // resolve \"clean\" command path\n    config.paths.clean = path.resolve( path.join(configPath, config.base, config.paths.clean) );\n\n    /*--------------\n        CSS URLs\n    ---------------*/\n\n    // determine asset paths in css by finding relative path between themes and output\n    // force forward slashes\n\n    config.paths.assets = {\n      source       : '../../themes', // source asset path is always the same\n      uncompressed : './' + path.relative(config.paths.output.uncompressed, config.paths.output.themes).replace(/\\\\/g, '/'),\n      compressed   : './' + path.relative(config.paths.output.compressed, config.paths.output.themes).replace(/\\\\/g, '/'),\n      packaged     : './' + path.relative(config.paths.output.packaged, config.paths.output.themes).replace(/\\\\/g, '/')\n    };\n\n    /*--------------\n       Permission\n    ---------------*/\n\n    if(config.permission) {\n      config.hasPermissions = true;\n    }\n    else {\n      // pass blank object to avoid causing errors\n      config.permission     = {};\n      config.hasPermissions = false;\n    }\n\n    /*--------------\n         Globs\n    ---------------*/\n\n    if(!config.globs) {\n      config.globs = {};\n    }\n\n    // remove duplicates from component array\n    if(config.components instanceof Array) {\n      config.components = config.components.filter(function(component, index) {\n        return config.components.indexOf(component) == index;\n      });\n    }\n\n    // takes component object and creates file glob matching selected components\n    config.globs.components = (typeof config.components == 'object')\n      ? (config.components.length > 1)\n        ? '{' + config.components.join(',') + '}'\n        : config.components[0]\n      : '{' + defaults.components.join(',') + '}'\n    ;\n\n    return config;\n\n  }\n\n};\n\n","/*******************************\n            Set-up\n*******************************/\n\nvar\n  fs             = require('fs'),\n  path           = require('path'),\n  defaults       = require('../defaults'),\n  release        = require('./release'),\n\n  requireDotFile = require('require-dot-file')\n;\n\n/*******************************\n          When to Ask\n*******************************/\n\n/* Preconditions for install questions */\n\nvar when = {\n\n  // path\n  changeRoot: function(questions) {\n    return (questions.useRoot !== undefined && questions.useRoot !== true);\n  },\n\n  // permissions\n  changePermissions: function(questions) {\n    return (questions.changePermissions && questions.changePermissions === true);\n  },\n\n  // install\n  hasConfig: function() {\n    return requireDotFile('semantic.json', process.cwd());\n  },\n\n  allowOverwrite: function(questions) {\n    return (questions.overwrite === undefined || questions.overwrite == 'yes');\n  },\n  notAuto: function(questions) {\n    return (questions.install !== 'auto' && (questions.overwrite === undefined || questions.overwrite == 'yes'));\n  },\n  custom: function(questions) {\n    return (questions.install === 'custom' && (questions.overwrite === undefined || questions.overwrite == 'yes'));\n  },\n  express: function(questions) {\n    return (questions.install === 'express' && (questions.overwrite === undefined || questions.overwrite == 'yes'));\n  },\n\n  // customize\n  customize: function(questions) {\n    return (questions.customize === true);\n  },\n  primaryColor: function(questions) {\n    return (questions.primaryColor);\n  },\n  secondaryColor: function(questions) {\n    return (questions.secondaryColor);\n  }\n};\n\n/*******************************\n        Response Filters\n*******************************/\n\n/* Filters to user input from install questions */\n\nvar filter = {\n  removeTrailingSlash: function(path) {\n    return path.replace(/(\\/$|\\\\$)+/mg, '');\n  }\n};\n\n/*******************************\n          Configuration\n*******************************/\n\nmodule.exports = {\n\n  // check whether install is setup\n  isSetup: function() {\n    return when.hasConfig();\n  },\n\n  // detect whether there is a semantic.json configuration and that the auto-install option is set to true\n  shouldAutoInstall: function() {\n    var\n      config = when.hasConfig()\n    ;\n    return config['autoInstall'];\n  },\n\n  // checks if files are in a PM directory\n  getPackageManager: function(directory) {\n    var\n      // returns last matching result (avoid sub-module detection)\n      walk = function(directory) {\n        var\n          pathArray     = directory.split(path.sep),\n          folder        = pathArray[pathArray.length - 1],\n          nextDirectory = path.join(directory, path.sep, '..')\n        ;\n        if( folder == 'bower_components') {\n          return {\n            name: 'Bower',\n            root: nextDirectory\n          };\n        }\n        else if(folder == 'node_modules') {\n         return {\n            name: 'NPM',\n            root: nextDirectory\n          };\n        }\n        else if(folder == 'composer') {\n         return {\n            name: 'Composer',\n            root: nextDirectory\n          };\n        }\n        if(path.resolve(directory) == path.resolve(nextDirectory)) {\n          return false;\n        }\n        // recurse downward\n        return walk(nextDirectory);\n      }\n    ;\n    // start walk from current directory if none specified\n    directory = directory || (__dirname + path.sep);\n    return walk(directory);\n  },\n\n  // checks if files is PMed submodule\n  isSubModule: function(directory) {\n    var\n      moduleFolders = 0,\n      walk = function(directory) {\n        var\n          pathArray     = directory.split(path.sep),\n          folder        = pathArray[pathArray.length - 2],\n          nextDirectory = path.join(directory, path.sep, '..')\n        ;\n        if( folder == 'bower_components') {\n          moduleFolders++;\n        }\n        else if(folder == 'node_modules') {\n          moduleFolders++;\n        }\n        else if(folder == 'composer') {\n          moduleFolders++;\n        }\n        if(path.resolve(directory) == path.resolve(nextDirectory)) {\n          return (moduleFolders > 1);\n        }\n        // recurse downward\n        return walk(nextDirectory);\n      }\n    ;\n    // start walk from current directory if none specified\n    directory = directory || (__dirname + path.sep);\n    return walk(directory);\n  },\n\n\n  createJSON: function(answers) {\n    var\n      json = {\n        paths: {\n          source: {},\n          output: {}\n        }\n      }\n    ;\n\n    // add components\n    if(answers.components) {\n      json.components = answers.components;\n    }\n\n    // add rtl choice\n    if(answers.rtl) {\n      json.rtl = answers.rtl;\n    }\n\n    // add permissions\n    if(answers.permission) {\n      json.permission = answers.permission;\n    }\n\n    // add path to semantic\n    if(answers.semanticRoot) {\n      json.base = path.normalize(answers.semanticRoot);\n    }\n\n    // record version number to avoid re-installing on same version\n    json.version = release.version;\n\n    // add dist folder paths\n    if(answers.dist) {\n      answers.dist = path.normalize(answers.dist);\n\n      json.paths.output = {\n        packaged     : path.normalize(answers.dist + '/'),\n        uncompressed : path.normalize(answers.dist + '/components/'),\n        compressed   : path.normalize(answers.dist + '/components/'),\n        themes       : path.normalize(answers.dist + '/themes/')\n      };\n    }\n\n    // add site path\n    if(answers.site) {\n      json.paths.source.site = path.normalize(answers.site + '/');\n    }\n    if(answers.packaged) {\n      json.paths.output.packaged = path.normalize(answers.packaged + '/');\n    }\n    if(answers.compressed) {\n      json.paths.output.compressed = path.normalize(answers.compressed + '/');\n    }\n    if(answers.uncompressed) {\n      json.paths.output.uncompressed = path.normalize(answers.uncompressed + '/');\n    }\n    return json;\n  },\n\n  // files cleaned up after install\n  setupFiles: [\n    './src/theme.config.example',\n    './semantic.json.example',\n    './src/_site'\n  ],\n\n  regExp: {\n    // used to match siteFolder variable in theme.less\n    siteVariable: /@siteFolder .*\\'(.*)/mg\n  },\n\n  // source paths (when installing)\n  source: {\n    config       : './semantic.json.example',\n    definitions  : './src/definitions',\n    gulpFile     : './gulpfile.js',\n    lessImport   : './src/semantic.less',\n    site         : './src/_site',\n    tasks        : './tasks',\n    themeConfig  : './src/theme.config.example',\n    themeImport  : './src/theme.less',\n    themes       : './src/themes',\n    defaultTheme : './src/themes/default',\n    userGulpFile : './tasks/config/npm/gulpfile.js'\n  },\n\n  // expected final filenames\n  files: {\n    config      : 'semantic.json',\n    lessImport  : 'src/semantic.less',\n    site        : 'src/site',\n    themeConfig : 'src/theme.config',\n    themeImport : 'src/theme.less'\n  },\n\n  // folder paths to files relative to root\n  folders: {\n    config       : './',\n    definitions  : 'src/definitions/',\n    lessImport   : 'src/',\n    modules      : 'node_modules/',\n    site         : 'src/site/',\n    tasks        : 'tasks/',\n    themeConfig  : 'src/',\n    themeImport  : 'src/',\n    themes       : 'src/themes/',\n\n    defaultTheme : 'default/' // only path that is relative to another directory and not root\n  },\n\n  // questions asked during install\n  questions: {\n\n    root: [\n      {\n        type    : 'list',\n        name    : 'useRoot',\n        message :\n          '{packageMessage} Is this your project folder? {root}',\n        choices: [\n          {\n            name  : 'Yes',\n            value : true\n          },\n          {\n            name  : 'No, let me specify',\n            value : false\n          }\n        ]\n      },\n      {\n        type    : 'input',\n        name    : 'customRoot',\n        message : 'Please enter the absolute path to your project root',\n        default : '/my/project/path',\n        when    : when.changeRoot\n      },\n      {\n        type    : 'input',\n        name    : 'semanticRoot',\n        message : 'Where should we put Semantic UI inside your project?',\n        default : 'semantic/'\n      }\n    ],\n\n    setup: [\n      {\n        type: 'list',\n        name: 'overwrite',\n        message: 'It looks like you have a semantic.json file already.',\n        when: when.hasConfig,\n        choices: [\n          {\n            name: 'Yes, extend my current settings.',\n            value: 'yes'\n          },\n          {\n            name: 'Skip install',\n            value: 'no'\n          }\n        ]\n      },\n      {\n        type: 'list',\n        name: 'install',\n        message: 'Set-up Semantic UI',\n        when: when.allowOverwrite,\n        choices: [\n          {\n            name: 'Automatic (Use default locations and all components)',\n            value: 'auto'\n          },\n          {\n            name: 'Express (Set components and output folder)',\n            value: 'express'\n          },\n          {\n            name: 'Custom (Customize all src/dist values)',\n            value: 'custom'\n          }\n        ]\n      },\n      {\n        type: 'checkbox',\n        name: 'components',\n        message: 'What components should we include in the package?',\n\n        // duplicated manually from tasks/defaults.js with additional property\n        choices: [\n          { name: \"reset\", checked: true },\n          { name: \"site\", checked: true },\n          { name: \"button\", checked: true },\n          { name: \"container\", checked: true },\n          { name: \"divider\", checked: true },\n          { name: \"flag\", checked: true },\n          { name: \"header\", checked: true },\n          { name: \"icon\", checked: true },\n          { name: \"image\", checked: true },\n          { name: \"input\", checked: true },\n          { name: \"label\", checked: true },\n          { name: \"list\", checked: true },\n          { name: \"loader\", checked: true },\n          { name: \"rail\", checked: true },\n          { name: \"reveal\", checked: true },\n          { name: \"segment\", checked: true },\n          { name: \"step\", checked: true },\n          { name: \"breadcrumb\", checked: true },\n          { name: \"form\", checked: true },\n          { name: \"grid\", checked: true },\n          { name: \"menu\", checked: true },\n          { name: \"message\", checked: true },\n          { name: \"table\", checked: true },\n          { name: \"ad\", checked: true },\n          { name: \"card\", checked: true },\n          { name: \"comment\", checked: true },\n          { name: \"feed\", checked: true },\n          { name: \"item\", checked: true },\n          { name: \"statistic\", checked: true },\n          { name: \"accordion\", checked: true },\n          { name: \"checkbox\", checked: true },\n          { name: \"dimmer\", checked: true },\n          { name: \"dropdown\", checked: true },\n          { name: \"embed\", checked: true },\n          { name: \"modal\", checked: true },\n          { name: \"nag\", checked: true },\n          { name: \"popup\", checked: true },\n          { name: \"progress\", checked: true },\n          { name: \"rating\", checked: true },\n          { name: \"search\", checked: true },\n          { name: \"shape\", checked: true },\n          { name: \"sidebar\", checked: true },\n          { name: \"sticky\", checked: true },\n          { name: \"tab\", checked: true },\n          { name: \"transition\", checked: true },\n          { name: \"api\", checked: true },\n          { name: \"form\", checked: true },\n          { name: \"state\", checked: true },\n          { name: \"visibility\", checked: true }\n        ],\n        when: when.notAuto\n      },\n      {\n        type: 'list',\n        name: 'changePermissions',\n        when: when.notAuto,\n        message: 'Should we set permissions on outputted files?',\n        choices: [\n          {\n            name: 'No',\n            value: false\n          },\n          {\n            name: 'Yes',\n            value: true\n          }\n        ]\n      },\n      {\n        type: 'input',\n        name: 'permission',\n        message: 'What octal file permission should outputted files receive?',\n        default: defaults.permission,\n        when: when.changePermissions\n      },\n      {\n        type: 'list',\n        name: 'rtl',\n        message: 'Do you use a RTL (Right-To-Left) language?',\n        when: when.notAuto,\n        choices: [\n          {\n            name: 'No',\n            value: false\n          },\n          {\n            name: 'Yes',\n            value: true\n          },\n          {\n            name: 'Build Both',\n            value: 'both'\n          }\n        ]\n      },\n      {\n        type: 'input',\n        name: 'dist',\n        message: 'Where should we output Semantic UI?',\n        default: defaults.paths.output.packaged,\n        filter: filter.removeTrailingSlash,\n        when: when.express\n      },\n      {\n        type: 'input',\n        name: 'site',\n        message: 'Where should we put your site folder?',\n        default: defaults.paths.source.site,\n        filter: filter.removeTrailingSlash,\n        when: when.custom\n      },\n      {\n        type: 'input',\n        name: 'packaged',\n        message: 'Where should we output a packaged version?',\n        default: defaults.paths.output.packaged,\n        filter: filter.removeTrailingSlash,\n        when: when.custom\n      },\n      {\n        type: 'input',\n        name: 'compressed',\n        message: 'Where should we output compressed components?',\n        default: defaults.paths.output.compressed,\n        filter: filter.removeTrailingSlash,\n        when: when.custom\n      },\n      {\n        type: 'input',\n        name: 'uncompressed',\n        message: 'Where should we output uncompressed components?',\n        default: defaults.paths.output.uncompressed,\n        filter: filter.removeTrailingSlash,\n        when: when.custom\n      }\n    ],\n\n\n    cleanup: [\n      {\n        type: 'list',\n        name: 'cleanup',\n        message: 'Should we remove set-up files?',\n        choices: [\n          {\n            name: 'Yes (re-install will require redownloading semantic).',\n            value: 'yes'\n          },\n          {\n            name: 'No Thanks',\n            value: 'no'\n          }\n        ]\n      },\n      {\n        type: 'list',\n        name: 'build',\n        message: 'Do you want to build Semantic now?',\n        choices: [\n          {\n            name: 'Yes',\n            value: 'yes'\n          },\n          {\n            name: 'No',\n            value: 'no'\n          }\n        ]\n      },\n    ],\n    site: [\n      {\n        type: 'list',\n        name: 'customize',\n        message: 'You have not yet customized your site, can we help you do that?',\n        choices: [\n          {\n            name: 'Yes, ask me a few questions',\n            value: true\n          },\n          {\n            name: 'No I\\'ll do it myself',\n            value: false\n          }\n        ]\n      },\n      {\n        type: 'list',\n        name: 'headerFont',\n        message: 'Select your header font',\n        choices: [\n          {\n            name: 'Helvetica Neue, Arial, sans-serif',\n            value: 'Helvetica Neue, Arial, sans-serif;'\n          },\n          {\n            name: 'Lato (Google Fonts)',\n            value: 'Lato'\n          },\n          {\n            name: 'Open Sans (Google Fonts)',\n            value: 'Open Sans'\n          },\n          {\n            name: 'Source Sans Pro (Google Fonts)',\n            value: 'Source Sans Pro'\n          },\n          {\n            name: 'Droid (Google Fonts)',\n            value: 'Droid'\n          },\n          {\n            name: 'I\\'ll choose on my own',\n            value: false\n          }\n        ],\n        when: when.customize\n      },\n      {\n        type: 'list',\n        name: 'pageFont',\n        message: 'Select your page font',\n        choices: [\n          {\n            name: 'Helvetica Neue, Arial, sans-serif',\n            value: 'Helvetica Neue, Arial, sans-serif;'\n          },\n          {\n            name: 'Lato (Import from Google Fonts)',\n            value: 'Lato'\n          },\n          {\n            name: 'Open Sans (Import from Google Fonts)',\n            value: 'Open Sans'\n          },\n          {\n            name: 'Source Sans Pro (Import from Google Fonts)',\n            value: 'Source Sans Pro'\n          },\n          {\n            name: 'Droid (Google Fonts)',\n            value: 'Droid'\n          },\n          {\n            name: 'I\\'ll choose on my own',\n            value: false\n          }\n        ],\n        when: when.customize\n      },\n      {\n        type: 'list',\n        name: 'fontSize',\n        message: 'Select your base font size',\n        default: '14px',\n        choices: [\n          {\n            name: '12px',\n          },\n          {\n            name: '13px',\n          },\n          {\n            name: '14px (Recommended)',\n            value: '14px'\n          },\n          {\n            name: '15px',\n          },\n          {\n            name: '16px',\n          },\n          {\n            name: 'I\\'ll choose on my own',\n            value: false\n          }\n        ],\n        when: when.customize\n      },\n      {\n        type: 'list',\n        name: 'primaryColor',\n        message: 'Select the closest name for your primary brand color',\n        default: '14px',\n        choices: [\n          {\n            name: 'Blue'\n          },\n          {\n            name: 'Green'\n          },\n          {\n            name: 'Orange'\n          },\n          {\n            name: 'Pink'\n          },\n          {\n            name: 'Purple'\n          },\n          {\n            name: 'Red'\n          },\n          {\n            name: 'Teal'\n          },\n          {\n            name: 'Yellow'\n          },\n          {\n            name: 'Black'\n          },\n          {\n            name: 'I\\'ll choose on my own',\n            value: false\n          }\n        ],\n        when: when.customize\n      },\n      {\n        type: 'input',\n        name: 'PrimaryHex',\n        message: 'Enter a hexcode for your primary brand color',\n        when: when.primaryColor\n      },\n      {\n        type: 'list',\n        name: 'secondaryColor',\n        message: 'Select the closest name for your secondary brand color',\n        default: '14px',\n        choices: [\n          {\n            name: 'Blue'\n          },\n          {\n            name: 'Green'\n          },\n          {\n            name: 'Orange'\n          },\n          {\n            name: 'Pink'\n          },\n          {\n            name: 'Purple'\n          },\n          {\n            name: 'Red'\n          },\n          {\n            name: 'Teal'\n          },\n          {\n            name: 'Yellow'\n          },\n          {\n            name: 'Black'\n          },\n          {\n            name: 'I\\'ll choose on my own',\n            value: false\n          }\n        ],\n        when: when.customize\n      },\n      {\n        type: 'input',\n        name: 'secondaryHex',\n        message: 'Enter a hexcode for your secondary brand color',\n        when: when.secondaryColor\n      }\n    ]\n\n  },\n\n  settings: {\n\n    /* Rename Files */\n    rename: {\n      json : { extname : '.json' }\n    },\n\n    /* Copy Install Folders */\n    wrench: {\n\n      // overwrite existing files update & install (default theme / definition)\n      overwrite: {\n        forceDelete       : true,\n        excludeHiddenUnix : true,\n        preserveFiles     : false\n      },\n\n      // only create files that don't exist (site theme update)\n      merge: {\n        forceDelete       : false,\n        excludeHiddenUnix : true,\n        preserveFiles     : true\n      }\n\n    }\n  }\n};\n","/*******************************\n         Release Config\n*******************************/\n\nvar\n  requireDotFile = require('require-dot-file'),\n  config,\n  npmPackage,\n  version\n;\n\n\n/*******************************\n         Derived Values\n*******************************/\n\ntry {\n  config = requireDotFile('semantic.json');\n}\ncatch(error) {}\n\n\ntry {\n  npmPackage = require('../../../package.json');\n}\ncatch(error) {\n  // generate fake package\n  npmPackage = {\n    name: 'Unknown',\n    version: 'x.x'\n  };\n}\n\n// looks for version in config or package.json (whichever is available)\nversion = (npmPackage && npmPackage.version !== undefined && npmPackage.name == 'semantic-ui')\n  ? npmPackage.version\n  : config.version\n;\n\n\n/*******************************\n             Export\n*******************************/\n\nmodule.exports = {\n\n  title      : 'Semantic UI',\n  repository : 'https://github.com/Semantic-Org/Semantic-UI',\n  url        : 'http://www.semantic-ui.com/',\n\n  banner: ''\n    + ' /*' + '\\n'\n    + ' * # <%= title %> - <%= version %>' + '\\n'\n    + ' * <%= repository %>' + '\\n'\n    + ' * <%= url %>' + '\\n'\n    + ' *' + '\\n'\n    + ' * Copyright 2014 Contributors' + '\\n'\n    + ' * Released under the MIT license' + '\\n'\n    + ' * http://opensource.org/licenses/MIT' + '\\n'\n    + ' *' + '\\n'\n    + ' */' + '\\n',\n\n  version    : version\n\n};\n","/*******************************\n          Default Paths\n*******************************/\n\nmodule.exports = {\n\n  // base path added to all other paths\n  base : '',\n\n  // base path when installed with npm\n  pmRoot: 'semantic/',\n\n  // octal permission for output files, i.e. 644 (false does not adjust)\n  permission : 744,\n\n  // whether to generate rtl files\n  rtl        : false,\n\n  // file paths\n  files: {\n    config   : 'semantic.json',\n    site     : 'src/site',\n    theme    : 'src/theme.config'\n  },\n\n  // folder paths\n  paths: {\n    source: {\n      config      : 'src/theme.config',\n      definitions : 'src/definitions/',\n      site        : 'src/site/',\n      themes      : 'src/themes/'\n    },\n    output: {\n      packaged     : 'dist/',\n      uncompressed : 'dist/components/',\n      compressed   : 'dist/components/',\n      themes       : 'dist/themes/'\n    },\n    clean : 'dist/'\n  },\n\n  // components to include in package\n  components: [\n\n    // global\n    'reset',\n    'site',\n\n    // elements\n    'button',\n    'container',\n    'divider',\n    'flag',\n    'header',\n    'icon',\n    'image',\n    'input',\n    'label',\n    'list',\n    'loader',\n    'rail',\n    'reveal',\n    'segment',\n    'step',\n\n    // collections\n    'breadcrumb',\n    'form',\n    'grid',\n    'menu',\n    'message',\n    'table',\n\n    // views\n    'ad',\n    'card',\n    'comment',\n    'feed',\n    'item',\n    'statistic',\n\n    // modules\n    'accordion',\n    'checkbox',\n    'dimmer',\n    'dropdown',\n    'embed',\n    'modal',\n    'nag',\n    'popup',\n    'progress',\n    'rating',\n    'search',\n    'shape',\n    'sidebar',\n    'sticky',\n    'tab',\n    'transition',\n\n    // behaviors\n    'api',\n    'form',\n    'state',\n    'visibility'\n  ],\n\n  // whether to load admin tasks\n  admin: false,\n\n  // globs used for matching file patterns\n  globs      : {\n    ignored    : '!(*.min|*.map|*.rtl)',\n    ignoredRTL : '!(*.min|*.map)'\n  }\n\n};\n","/*******************************\n             Docs\n*******************************/\n\n/* Paths used for \"serve-docs\" and \"build-docs\" tasks */\nmodule.exports = {\n  base: '',\n  globs: {\n    eco: '**/*.html.eco'\n  },\n  paths: {\n    clean: '../docs/out/dist/',\n    source: {\n      config      : 'src/theme.config',\n      definitions : 'src/definitions/',\n      site        : 'src/site/',\n      themes      : 'src/themes/'\n    },\n    output: {\n      examples     : '../docs/out/examples/',\n      less         : '../docs/out/src/',\n      metadata     : '../docs/out/',\n      packaged     : '../docs/out/dist/',\n      uncompressed : '../docs/out/dist/components/',\n      compressed   : '../docs/out/dist/components/',\n      themes       : '../docs/out/dist/themes/'\n    },\n    template: {\n      eco: '../docs/server/documents/'\n    },\n  }\n};\n","var\n  console = require('better-console'),\n  config  = require('./user'),\n  release = require('./project/release')\n;\n\n\nmodule.exports = {\n\n  banner : release.banner,\n\n  log: {\n    created: function(file) {\n      return 'Created: ' + file;\n    },\n    modified: function(file) {\n      return 'Modified: ' + file;\n    }\n  },\n\n  filenames: {\n    concatenatedCSS            : 'semantic.css',\n    concatenatedJS             : 'semantic.js',\n    concatenatedMinifiedCSS    : 'semantic.min.css',\n    concatenatedMinifiedJS     : 'semantic.min.js',\n    concatenatedRTLCSS         : 'semantic.rtl.css',\n    concatenatedMinifiedRTLCSS : 'semantic.rtl.min.css'\n  },\n\n  regExp: {\n\n    comments: {\n\n      // remove all comments from config files (.variable)\n      variables : {\n        in  : /(\\/\\*[\\s\\S]+?\\*\\/+)[\\s\\S]+?\\/\\* End Config \\*\\//,\n        out : '$1',\n      },\n\n      // add version to first comment\n      license: {\n        in  : /(^\\/\\*[\\s\\S]+)(# Semantic UI )([\\s\\S]+?\\*\\/)/,\n        out : '$1$2' + release.version + ' $3'\n      },\n\n      // adds uniform spacing around comments\n      large: {\n        in  : /(\\/\\*\\*\\*\\*[\\s\\S]+?\\*\\/)/mg,\n        out : '\\n\\n$1\\n'\n      },\n      small: {\n        in  : /(\\/\\*---[\\s\\S]+?\\*\\/)/mg,\n        out : '\\n$1\\n'\n      },\n      tiny: {\n        in  : /(\\/\\* [\\s\\S]+? \\*\\/)/mg,\n        out : '\\n$1'\n      }\n    },\n\n    theme: /.*(\\/|\\\\)themes(\\/|\\\\).*?(?=(\\/|\\\\))/mg\n\n  },\n\n  settings: {\n\n    /* Remove Files in Clean */\n    del: {\n      silent : true\n    },\n\n    concatCSS: {\n      rebaseUrls: false\n    },\n\n    /* Comment Banners */\n    header: {\n      title      : release.title,\n      version    : release.version,\n      repository : release.repository,\n      url        : release.url\n    },\n\n    plumber: {\n      less: {\n        errorHandler: function(error) {\n          var\n            regExp = {\n              variable : /@(\\S.*?)\\s/,\n              theme    : /themes[\\/\\\\]+(.*?)[\\/\\\\].*/,\n              element  : /[\\/\\\\]([^\\/\\\\*]*)\\.overrides/\n            },\n            theme,\n            element\n          ;\n          if(error.filename.match(/theme.less/)) {\n            if(error.line == 5) {\n              element  = regExp.variable.exec(error.message)[1];\n              if(element) {\n                console.error('Missing theme.config value for ', element);\n              }\n              console.error('Most likely new UI was added in an update. You will need to add missing elements from theme.config.example');\n            }\n            if(error.line == 46) {\n              element = regExp.element.exec(error.message)[1];\n              theme   = regExp.theme.exec(error.message)[1];\n              console.error(theme + ' is not an available theme for ' + element);\n            }\n          }\n          else {\n            console.log(error);\n          }\n          this.emit('end');\n        }\n      }\n    },\n\n    /* What Browsers to Prefix */\n    prefix: {\n      browsers: [\n        'last 2 versions',\n        '> 1%',\n        'opera 12.1',\n        'bb 10',\n        'android 4'\n      ]\n    },\n\n    /* File Renames */\n    rename: {\n      minJS     : { extname : '.min.js' },\n      minCSS    : { extname : '.min.css' },\n      rtlCSS    : { extname : '.rtl.css' },\n      rtlMinCSS : { extname : '.rtl.min.css' }\n    },\n\n    /* Minified CSS Concat */\n    minify: {\n      processImport       : false,\n      restructuring       : false,\n      keepSpecialComments : 1,\n      roundingPrecision   : -1,\n    },\n\n    /* Minified JS Settings */\n    uglify: {\n      mangle   : true,\n      output: {\n        comments: 'some'\n      }\n    },\n\n    /* Minified Concat CSS Settings */\n    concatMinify: {\n      processImport       : false,\n      restructuring       : false,\n      keepSpecialComments : false,\n      roundingPrecision   : -1,\n    },\n\n    /* Minified Concat JS */\n    concatUglify: {\n      mangle   : true,\n      output: {\n        comments: 'some'\n      }\n    }\n\n  }\n};\n","/*******************************\n             Set-up\n*******************************/\n\nvar\n  // npm dependencies\n  extend          = require('extend'),\n  fs              = require('fs'),\n  path            = require('path'),\n  requireDotFile  = require('require-dot-file'),\n\n  // semantic.json defaults\n  defaults        = require('./defaults'),\n  config          = require('./project/config'),\n\n  // Final config object\n  gulpConfig = {},\n\n  // semantic.json settings\n  userConfig\n\n;\n\n\n/*******************************\n          User Config\n*******************************/\n\ntry {\n  // looks for config file across all parent directories\n  userConfig = requireDotFile('semantic.json');\n}\ncatch(error) {\n  if(error.code === 'MODULE_NOT_FOUND') {\n    console.error('No semantic.json config found');\n  }\n}\n\n// extend user config with defaults\ngulpConfig = (!userConfig)\n  ? extend(true, {}, defaults)\n  : extend(false, {}, defaults, userConfig)\n;\n\n/*******************************\n       Add Derived Values\n*******************************/\n\n// adds calculated values\nconfig.addDerivedValues(gulpConfig);\n\n\n/*******************************\n             Export\n*******************************/\n\nmodule.exports = gulpConfig;\n\n","/*******************************\n     Create Component Repos\n*******************************/\n\n/*\n This will create individual component repositories for each SUI component\n\n  * copy component files from release\n  * create commonjs files as index.js for NPM release\n  * create release notes that filter only items related to component\n  * custom package.json file from template\n  * create bower.json from template\n  * create README from template\n  * create meteor.js file\n*/\n\nvar\n  gulp            = require('gulp'),\n\n  // node dependencies\n  console         = require('better-console'),\n  del             = require('del'),\n  fs              = require('fs'),\n  path            = require('path'),\n  runSequence     = require('run-sequence'),\n\n  // admin dependencies\n  concatFileNames = require('gulp-concat-filenames'),\n  debug           = require('gulp-debug'),\n  flatten         = require('gulp-flatten'),\n  git             = require('gulp-git'),\n  jsonEditor      = require('gulp-json-editor'),\n  plumber         = require('gulp-plumber'),\n  rename          = require('gulp-rename'),\n  replace         = require('gulp-replace'),\n  tap             = require('gulp-tap'),\n  util            = require('gulp-util'),\n\n  // config\n  config          = require('../../config/user'),\n  release         = require('../../config/admin/release'),\n  project         = require('../../config/project/release'),\n\n  // shorthand\n  version         = project.version,\n  output          = config.paths.output\n\n;\n\n\nmodule.exports = function(callback) {\n  var\n    stream,\n    index,\n    tasks = []\n  ;\n\n  for(index in release.components) {\n\n    var\n      component = release.components[index]\n    ;\n\n    // streams... designed to save time and make coding fun...\n    (function(component) {\n\n      var\n        outputDirectory      = path.join(release.outputRoot, component),\n        isJavascript         = fs.existsSync(output.compressed + component + '.js'),\n        isCSS                = fs.existsSync(output.compressed + component + '.css'),\n        capitalizedComponent = component.charAt(0).toUpperCase() + component.slice(1),\n        packageName          = release.packageRoot + component,\n        repoName             = release.componentRepoRoot + capitalizedComponent,\n        gitURL               = 'https://github.com/' + release.org + '/' + repoName + '.git',\n        repoURL              = 'https://github.com/' + release.org + '/' + repoName + '/',\n        concatSettings = {\n          newline : '',\n          root    : outputDirectory,\n          prepend : \"    '\",\n          append  : \"',\"\n        },\n        regExp               = {\n          match            : {\n            // templated values\n            name      : '{component}',\n            titleName : '{Component}',\n            version   : '{version}',\n            files     : '{files}',\n            // release notes\n            spacedVersions    : /(###.*\\n)\\n+(?=###)/gm,\n            spacedLists       : /(^- .*\\n)\\n+(?=^-)/gm,\n            trim              : /^\\s+|\\s+$/g,\n            unrelatedNotes    : new RegExp('^((?!(^.*(' + component + ').*$|###.*)).)*$', 'gmi'),\n            whitespace        : /\\n\\s*\\n\\s*\\n/gm,\n            // npm\n            componentExport   : /(.*)\\$\\.fn\\.\\w+\\s*=\\s*function\\(([^\\)]*)\\)\\s*{/g,\n            componentReference: '$.fn.' + component,\n            settingsExport    : /\\$\\.fn\\.\\w+\\.settings\\s*=/g,\n            settingsReference : /\\$\\.fn\\.\\w+\\.settings/g,\n            trailingComma     : /,(?=[^,]*$)/,\n            jQuery            : /jQuery/g,\n          },\n          replace : {\n            // readme\n            name              : component,\n            titleName         : capitalizedComponent,\n            // release notes\n            spacedVersions    : '',\n            spacedLists       : '$1',\n            trim              : '',\n            unrelatedNotes    : '',\n            whitespace        : '\\n\\n',\n            // npm\n            componentExport   :  'var _module = module;\\n$1module.exports = function($2) {',\n            componentReference:  '_module.exports',\n            settingsExport    :  'module.exports.settings =',\n            settingsReference :  '_module.exports.settings',\n            jQuery            :  'require(\"jquery\")'\n          }\n        },\n        task = {\n          all      : component + ' creating',\n          repo     : component + ' create repo',\n          bower    : component + ' create bower.json',\n          readme   : component + ' create README',\n          npm      : component + ' create NPM Module',\n          notes    : component + ' create release notes',\n          composer : component + ' create composer.json',\n          package  : component + ' create package.json',\n          meteor   : component + ' create meteor package.js',\n        },\n        // paths to includable assets\n        manifest = {\n          assets    : outputDirectory + '/assets/**/' + component + '?(s).*',\n          component : outputDirectory + '/' + component + '+(.js|.css)'\n        }\n      ;\n\n      // copy dist files into output folder adjusting asset paths\n      gulp.task(task.repo, false, function() {\n        return gulp.src(release.source + component + '.*')\n          .pipe(plumber())\n          .pipe(flatten())\n          .pipe(replace(release.paths.source, release.paths.output))\n          .pipe(gulp.dest(outputDirectory))\n        ;\n      });\n\n      // create npm module\n      gulp.task(task.npm, false, function() {\n        return gulp.src(release.source + component + '!(*.min|*.map).js')\n          .pipe(plumber())\n          .pipe(flatten())\n          .pipe(replace(regExp.match.componentExport, regExp.replace.componentExport))\n          .pipe(replace(regExp.match.componentReference, regExp.replace.componentReference))\n          .pipe(replace(regExp.match.settingsExport, regExp.replace.settingsExport))\n          .pipe(replace(regExp.match.settingsReference, regExp.replace.settingsReference))\n          .pipe(replace(regExp.match.jQuery, regExp.replace.jQuery))\n          .pipe(rename('index.js'))\n          .pipe(gulp.dest(outputDirectory))\n        ;\n      });\n\n      // create readme\n      gulp.task(task.readme, false, function() {\n        return gulp.src(release.templates.readme)\n          .pipe(plumber())\n          .pipe(flatten())\n          .pipe(replace(regExp.match.name, regExp.replace.name))\n          .pipe(replace(regExp.match.titleName, regExp.replace.titleName))\n          .pipe(gulp.dest(outputDirectory))\n        ;\n      });\n\n      // extend bower.json\n      gulp.task(task.bower, false, function() {\n        return gulp.src(release.templates.bower)\n          .pipe(plumber())\n          .pipe(flatten())\n          .pipe(jsonEditor(function(bower) {\n            bower.name = packageName;\n            bower.description = capitalizedComponent + ' - Semantic UI';\n            if(isJavascript) {\n              if(isCSS) {\n                bower.main = [\n                  component + '.js',\n                  component + '.css'\n                ];\n              }\n              else {\n                bower.main = [\n                  component + '.js'\n                ];\n              }\n              bower.dependencies = {\n                jquery: '>=1.8'\n              };\n            }\n            else {\n              bower.main = [\n                component + '.css'\n              ];\n            }\n            return bower;\n          }))\n          .pipe(gulp.dest(outputDirectory))\n        ;\n      });\n\n      // extend package.json\n      gulp.task(task.package, false, function() {\n        return gulp.src(release.templates.package)\n          .pipe(plumber())\n          .pipe(flatten())\n          .pipe(jsonEditor(function(npm) {\n            if(isJavascript) {\n              npm.dependencies = {\n                jquery: 'x.x.x'\n              };\n              npm.main = 'index.js';\n            }\n            npm.name = packageName;\n            if(version) {\n              npm.version = version;\n            }\n            npm.title       = 'Semantic UI - ' + capitalizedComponent;\n            npm.description = 'Single component release of ' + component;\n            npm.repository  = {\n              type : 'git',\n              url  : gitURL\n            };\n            return npm;\n          }))\n          .pipe(gulp.dest(outputDirectory))\n        ;\n      });\n\n      // extend composer.json\n      gulp.task(task.composer, false, function() {\n        return gulp.src(release.templates.composer)\n          .pipe(plumber())\n          .pipe(flatten())\n          .pipe(jsonEditor(function(composer) {\n            if(isJavascript) {\n              composer.dependencies = {\n                jquery: 'x.x.x'\n              };\n              composer.main = component + '.js';\n            }\n            composer.name = 'semantic/' + component;\n            if(version) {\n              composer.version = version;\n            }\n            composer.description = 'Single component release of ' + component;\n            return composer;\n          }))\n          .pipe(gulp.dest(outputDirectory))\n        ;\n      });\n\n      // create release notes\n      gulp.task(task.notes, false, function() {\n        return gulp.src(release.templates.notes)\n          .pipe(plumber())\n          .pipe(flatten())\n          // Remove release notes for lines not mentioning component\n          .pipe(replace(regExp.match.unrelatedNotes, regExp.replace.unrelatedNotes))\n          .pipe(replace(regExp.match.whitespace, regExp.replace.whitespace))\n          .pipe(replace(regExp.match.spacedVersions, regExp.replace.spacedVersions))\n          .pipe(replace(regExp.match.spacedLists, regExp.replace.spacedLists))\n          .pipe(replace(regExp.match.trim, regExp.replace.trim))\n          .pipe(gulp.dest(outputDirectory))\n        ;\n      });\n\n      // Creates meteor package.js\n      gulp.task(task.meteor, function() {\n        var\n          filenames = ''\n        ;\n        return gulp.src(manifest.component)\n          .pipe(concatFileNames('empty.txt', concatSettings))\n          .pipe(tap(function(file) {\n            filenames += file.contents;\n          }))\n          .on('end', function() {\n            gulp.src(manifest.assets)\n              .pipe(concatFileNames('empty.txt', concatSettings))\n              .pipe(tap(function(file) {\n                filenames += file.contents;\n              }))\n              .on('end', function() {\n                // remove trailing slash\n                filenames = filenames.replace(regExp.match.trailingComma, '').trim();\n                gulp.src(release.templates.meteor.component)\n                  .pipe(plumber())\n                  .pipe(flatten())\n                  .pipe(replace(regExp.match.name, regExp.replace.name))\n                  .pipe(replace(regExp.match.titleName, regExp.replace.titleName))\n                  .pipe(replace(regExp.match.version, version))\n                  .pipe(replace(regExp.match.files, filenames))\n                  .pipe(rename(release.files.meteor))\n                  .pipe(gulp.dest(outputDirectory))\n                ;\n              })\n            ;\n          })\n        ;\n      });\n\n\n      // synchronous tasks in orchestrator? I think not\n      gulp.task(task.all, false, function(callback) {\n        runSequence([\n          task.repo,\n          task.npm,\n          task.bower,\n          task.readme,\n          task.package,\n          task.composer,\n          task.notes,\n          task.meteor\n        ], callback);\n      });\n\n      tasks.push(task.all);\n\n    })(component);\n  }\n\n  runSequence(tasks, callback);\n};\n","/*******************************\n          Init Repos\n*******************************/\n\n/*\n\n This task pulls the latest version of each component from GitHub\n\n  * Creates new repo if doesnt exist (locally & GitHub)\n  * Adds remote it doesnt exists\n  * Pulls latest changes from repo\n\n*/\n\nvar\n  gulp      = require('gulp'),\n\n  // node dependencies\n  console   = require('better-console'),\n  del       = require('del'),\n  fs        = require('fs'),\n  path      = require('path'),\n  git       = require('gulp-git'),\n  githubAPI = require('github'),\n  mkdirp    = require('mkdirp'),\n\n  // admin files\n  github    = require('../../config/admin/github.js'),\n  release   = require('../../config/admin/release'),\n  project   = require('../../config/project/release'),\n\n\n  // oAuth configuration for GitHub\n  oAuth     = fs.existsSync(__dirname + '/../../config/admin/oauth.js')\n    ? require('../../config/admin/oauth')\n    : false,\n\n  // shorthand\n  version         = project.version\n;\n\nmodule.exports = function(callback) {\n\n  var\n    index = -1,\n    total = release.components.length,\n    timer,\n    stream,\n    stepRepo\n  ;\n\n  if(!oAuth) {\n    console.error('Must add oauth token for GitHub in tasks/config/admin/oauth.js');\n    return;\n  }\n\n  // Do Git commands synchronously per component, to avoid issues\n  stepRepo = function() {\n\n    index = index + 1;\n\n    if(index >= total) {\n      callback();\n      return;\n    }\n\n    var\n      component            = release.components[index],\n      outputDirectory      = path.resolve(release.outputRoot + component),\n      capitalizedComponent = component.charAt(0).toUpperCase() + component.slice(1),\n      repoName             = release.componentRepoRoot + capitalizedComponent,\n\n      gitOptions           = { cwd: outputDirectory },\n      pullOptions          = { args: '-q', cwd: outputDirectory, quiet: true },\n      resetOptions         = { args: '-q --hard', cwd: outputDirectory, quiet: true },\n\n      gitURL               = 'git@github.com:' + release.org + '/' + repoName + '.git',\n      repoURL              = 'https://github.com/' + release.org + '/' + repoName + '/',\n      localRepoSetup       = fs.existsSync(path.join(outputDirectory, '.git'))\n    ;\n\n    console.log('Processing repository: ' + outputDirectory);\n\n    // create folder if doesn't exist\n    if( !fs.existsSync(outputDirectory) ) {\n      mkdirp.sync(outputDirectory);\n    }\n\n    // clean folder\n    if(release.outputRoot.search('../repos') == 0) {\n      console.info('Cleaning dir', outputDirectory);\n      del.sync([outputDirectory + '**/*'], {silent: true, force: true});\n    }\n\n    // set-up local repo\n    function setupRepo() {\n      if(localRepoSetup) {\n        addRemote();\n      }\n      else {\n        initRepo();\n      }\n    }\n\n    function initRepo() {\n      console.info('Initializing repository for ' + component);\n      git.init(gitOptions, function(error) {\n        if(error) {\n          console.error('Error initializing repo', error);\n        }\n        addRemote();\n      });\n    }\n\n    function createRepo() {\n      console.info('Creating GitHub repo ' + repoURL);\n      github.repos.createFromOrg({\n        org      : release.org,\n        name     : repoName,\n        homepage : release.homepage\n      }, function() {\n        setupRepo();\n      });\n    }\n\n    function addRemote() {\n      console.info('Adding remote origin as ' + gitURL);\n      git.addRemote('origin', gitURL, gitOptions, function(){\n        pullFiles();\n      });\n    }\n\n    function pullFiles() {\n      console.info('Pulling ' + component + ' files');\n      git.pull('origin', 'master', pullOptions, function(error) {\n        resetFiles();\n      });\n    }\n\n    function resetFiles() {\n      console.info('Resetting files to head');\n      git.reset('HEAD', resetOptions, function(error) {\n        nextRepo();\n      });\n    }\n\n    function nextRepo() {\n      //console.log('Sleeping for 1 second...');\n      // avoid rate throttling\n      global.clearTimeout(timer);\n      timer = global.setTimeout(function() {\n        stepRepo()\n      }, 0);\n    }\n\n\n    if(localRepoSetup) {\n      pullFiles();\n    }\n    else {\n      setupRepo();\n      // createRepo() only use to create remote repo (easier to do manually)\n    }\n\n  };\n\n  stepRepo();\n\n\n};\n","/*******************************\n          Update Repos\n*******************************/\n\n/*\n\n This task update all SUI individual component repos with new versions of components\n\n  * Commits changes from create repo\n  * Pushes changes to GitHub\n  * Tag new releases if version changed in main repo\n\n*/\n\nvar\n  gulp           = require('gulp'),\n\n  // node dependencies\n  console        = require('better-console'),\n  fs             = require('fs'),\n  path           = require('path'),\n  git            = require('gulp-git'),\n  githubAPI      = require('github'),\n  requireDotFile = require('require-dot-file'),\n\n  // admin files\n  github         = require('../../config/admin/github.js'),\n  release        = require('../../config/admin/release'),\n  project        = require('../../config/project/release'),\n\n\n  // oAuth configuration for GitHub\n  oAuth          = fs.existsSync(__dirname + '/../../config/admin/oauth.js')\n    ? require('../../config/admin/oauth')\n    : false,\n\n  // shorthand\n  version = project.version\n;\n\nmodule.exports = function(callback) {\n\n  var\n    index = -1,\n    total = release.components.length,\n    timer,\n    stream,\n    stepRepo\n  ;\n\n  if(!oAuth) {\n    console.error('Must add oauth token for GitHub in tasks/config/admin/oauth.js');\n    return;\n  }\n\n  // Do Git commands synchronously per component, to avoid issues\n  stepRepo = function() {\n\n    index = index + 1;\n    if(index >= total) {\n      callback();\n      return;\n    }\n\n    var\n      component            = release.components[index],\n      outputDirectory      = path.resolve(path.join(release.outputRoot, component)),\n      capitalizedComponent = component.charAt(0).toUpperCase() + component.slice(1),\n      repoName             = release.componentRepoRoot + capitalizedComponent,\n\n      gitURL               = 'https://github.com/' + release.org + '/' + repoName + '.git',\n      repoURL              = 'https://github.com/' + release.org + '/' + repoName + '/',\n\n      commitArgs = (oAuth.name !== undefined && oAuth.email !== undefined)\n        ? '--author \"' + oAuth.name + ' <' + oAuth.email + '>\"'\n        : '',\n\n      componentPackage = fs.existsSync(outputDirectory + 'package.json' )\n        ? require(outputDirectory + 'package.json')\n        : false,\n\n      isNewVersion  = (version && componentPackage.version != version),\n\n      commitMessage = (isNewVersion)\n        ? 'Updated component to version ' + version\n        : 'Updated files from main repo',\n\n      gitOptions      = { cwd: outputDirectory },\n      commitOptions   = { args: commitArgs, cwd: outputDirectory },\n      releaseOptions  = { tag_name: version, owner: release.org, repo: repoName },\n\n      fileModeOptions = { args : 'config core.fileMode false', cwd: outputDirectory },\n      usernameOptions = { args : 'config user.name \"' + oAuth.name + '\"', cwd: outputDirectory },\n      emailOptions    = { args : 'config user.email \"' + oAuth.email + '\"', cwd: outputDirectory },\n      versionOptions =  { args : 'rev-parse --verify HEAD', cwd: outputDirectory },\n\n      localRepoSetup  = fs.existsSync(path.join(outputDirectory, '.git')),\n      canProceed      = true\n    ;\n\n\n    console.info('Processing repository:' + outputDirectory);\n\n    function setConfig() {\n      git.exec(fileModeOptions, function() {\n        git.exec(usernameOptions, function () {\n          git.exec(emailOptions, function () {\n            commitFiles();\n          });\n        });\n      });\n    }\n\n\n    // standard path\n    function commitFiles() {\n      // commit files\n      console.info('Committing ' + component + ' files', commitArgs);\n      gulp.src('./', gitOptions)\n        .pipe(git.add(gitOptions))\n        .pipe(git.commit(commitMessage, commitOptions))\n        .on('error', function(error) {\n          // canProceed = false; bug in git commit <https://github.com/stevelacy/gulp-git/issues/49>\n        })\n        .on('finish', function(callback) {\n          if(canProceed) {\n            pushFiles();\n          }\n          else {\n            console.info('Nothing new to commit');\n            nextRepo();\n          }\n        })\n      ;\n    }\n\n    // push changes to remote\n    function pushFiles() {\n      console.info('Pushing files for ' + component);\n      git.push('origin', 'master', { args: '', cwd: outputDirectory }, function(error) {\n        console.info('Push completed successfully');\n        getSHA();\n      });\n    }\n\n    // gets SHA of last commit\n    function getSHA() {\n      git.exec(versionOptions, function(error, version) {\n        version = version.trim();\n        createRelease(version);\n      });\n    }\n\n    // create release on GitHub.com\n    function createRelease(version) {\n      if(version) {\n        releaseOptions.target_commitish = version;\n      }\n      github.repos.createRelease(releaseOptions, function() {\n        nextRepo();\n      });\n    }\n\n    // Steps to next repository\n    function nextRepo() {\n      console.log('Sleeping for 1 second...');\n      // avoid rate throttling\n      global.clearTimeout(timer);\n      timer = global.setTimeout(stepRepo, 100);\n    }\n\n\n    if(localRepoSetup) {\n      setConfig();\n    }\n    else {\n      console.error('Repository must be setup before running update components');\n    }\n\n  };\n\n  stepRepo();\n\n};\n","/*******************************\n     Create Distributions\n*******************************/\n\n/*\n This will create individual distribution repositories for each SUI distribution\n\n  * copy distribution files to release\n  * update package.json file\n*/\n\nvar\n  gulp            = require('gulp'),\n\n  // node dependencies\n  console         = require('better-console'),\n  del             = require('del'),\n  fs              = require('fs'),\n  path            = require('path'),\n  runSequence     = require('run-sequence'),\n  mergeStream     = require('merge-stream'),\n\n  // admin dependencies\n  concatFileNames = require('gulp-concat-filenames'),\n  debug           = require('gulp-debug'),\n  flatten         = require('gulp-flatten'),\n  git             = require('gulp-git'),\n  jsonEditor      = require('gulp-json-editor'),\n  plumber         = require('gulp-plumber'),\n  rename          = require('gulp-rename'),\n  replace         = require('gulp-replace'),\n  tap             = require('gulp-tap'),\n\n  // config\n  config          = require('../../config/user'),\n  release         = require('../../config/admin/release'),\n  project         = require('../../config/project/release'),\n\n  // shorthand\n  version         = project.version,\n  output          = config.paths.output\n\n;\n\n\nmodule.exports = function(callback) {\n  var\n    stream,\n    index,\n    tasks = []\n  ;\n\n  for(index in release.distributions) {\n\n    var\n      distribution = release.distributions[index]\n    ;\n\n    // streams... designed to save time and make coding fun...\n    (function(distribution) {\n\n      var\n        distLowerCase   = distribution.toLowerCase(),\n        outputDirectory = path.join(release.outputRoot, distLowerCase),\n        packageFile     = path.join(outputDirectory, release.files.npm),\n        repoName        = release.distRepoRoot + distribution,\n        regExp          = {\n          match : {\n            files   : '{files}',\n            version : '{version}'\n          }\n        },\n        task = {\n          all     : distribution + ' copying files',\n          repo    : distribution + ' create repo',\n          meteor  : distribution + ' create meteor package.js',\n          package : distribution + ' create package.json'\n        },\n        gatherFiles,\n        createList\n      ;\n\n      // get files for meteor\n      gatherFiles = function(dir) {\n        var\n          dir   = dir || path.resolve('.'),\n          list  = fs.readdirSync(dir),\n          omitted = [\n            '.git',\n            'node_modules',\n            'package.js',\n            'LICENSE',\n            'README.md',\n            'package.json',\n            'bower.json',\n            '.gitignore'\n          ],\n          files = []\n        ;\n        list.forEach(function(file) {\n          var\n            isOmitted = (omitted.indexOf(file) > -1),\n            filePath  = path.join(dir, file),\n            stat      = fs.statSync(filePath)\n          ;\n          if(!isOmitted) {\n            if(stat && stat.isDirectory()) {\n              files = files.concat(gatherFiles(filePath));\n            }\n            else {\n              files.push(filePath.replace(outputDirectory + path.sep, ''));\n            }\n          }\n        });\n        return files;\n      };\n\n      // spaces out list correctly\n      createList = function(files) {\n        var filenames = '';\n        for(var file in files) {\n          if(file == (files.length - 1) ) {\n            filenames += \"'\" + files[file] + \"'\";\n          }\n          else {\n            filenames += \"'\" + files[file] + \"',\\n    \";\n          }\n        }\n        return filenames;\n      };\n\n\n      gulp.task(task.meteor, function() {\n        var\n          files     = gatherFiles(outputDirectory),\n          filenames = createList(files)\n        ;\n        gulp.src(release.templates.meteor[distLowerCase])\n          .pipe(plumber())\n          .pipe(flatten())\n          .pipe(replace(regExp.match.version, version))\n          .pipe(replace(regExp.match.files, filenames))\n          .pipe(rename(release.files.meteor))\n          .pipe(gulp.dest(outputDirectory))\n        ;\n      });\n\n      if(distribution == 'CSS') {\n        gulp.task(task.repo, function() {\n          var\n            themes,\n            components,\n            releases\n          ;\n          themes = gulp.src('dist/themes/default/**/*', { base: 'dist/' })\n            .pipe(gulp.dest(outputDirectory))\n          ;\n          components = gulp.src('dist/components/*', { base: 'dist/' })\n            .pipe(gulp.dest(outputDirectory))\n          ;\n          releases = gulp.src('dist/*', { base: 'dist/' })\n            .pipe(gulp.dest(outputDirectory))\n          ;\n          return mergeStream(themes, components, releases);\n        });\n      }\n      else if(distribution == 'LESS') {\n        gulp.task(task.repo, function() {\n          var\n            definitions,\n            themeImport,\n            themeConfig,\n            siteTheme,\n            themes\n          ;\n          definitions = gulp.src('src/definitions/**/*', { base: 'src/' })\n            .pipe(gulp.dest(outputDirectory))\n          ;\n          themeImport = gulp.src('src/semantic.less', { base: 'src/' })\n            .pipe(gulp.dest(outputDirectory))\n          ;\n          themeImport = gulp.src('src/theme.less', { base: 'src/' })\n            .pipe(gulp.dest(outputDirectory))\n          ;\n          themeConfig = gulp.src('src/theme.config.example', { base: 'src/' })\n            .pipe(gulp.dest(outputDirectory))\n          ;\n          siteTheme = gulp.src('src/_site/**/*', { base: 'src/' })\n            .pipe(gulp.dest(outputDirectory))\n          ;\n          themes = gulp.src('src/themes/**/*', { base: 'src/' })\n            .pipe(gulp.dest(outputDirectory))\n          ;\n          return mergeStream(definitions, themeImport, themeConfig, siteTheme, themes);\n        });\n      }\n\n      // extend package.json\n      gulp.task(task.package, function() {\n        return gulp.src(packageFile)\n          .pipe(plumber())\n          .pipe(jsonEditor(function(package) {\n            if(version) {\n              package.version = version;\n            }\n            return package;\n          }))\n          .pipe(gulp.dest(outputDirectory))\n        ;\n      });\n\n      tasks.push(task.meteor);\n      tasks.push(task.repo);\n      tasks.push(task.package);\n\n    })(distribution);\n  }\n  runSequence(tasks, callback);\n};","/*******************************\n        Init Dist Repos\n*******************************/\n\n/*\n\n This task pulls the latest version of distribution from GitHub\n\n  * Creates new repo if doesnt exist (locally & GitHub)\n  * Adds remote it doesnt exists\n  * Pulls latest changes from repo\n\n*/\n\nvar\n  gulp      = require('gulp'),\n\n  // node dependencies\n  console   = require('better-console'),\n  del       = require('del'),\n  fs        = require('fs'),\n  path      = require('path'),\n  git       = require('gulp-git'),\n  githubAPI = require('github'),\n  mkdirp    = require('mkdirp'),\n\n  // admin files\n  github    = require('../../config/admin/github.js'),\n  release   = require('../../config/admin/release'),\n  project   = require('../../config/project/release'),\n\n\n  // oAuth configuration for GitHub\n  oAuth     = fs.existsSync(__dirname + '/../../config/admin/oauth.js')\n    ? require('../../config/admin/oauth')\n    : false,\n\n  // shorthand\n  version = project.version\n;\n\nmodule.exports = function(callback) {\n\n  var\n    index = -1,\n    total = release.distributions.length,\n    timer,\n    stream,\n    stepRepo\n  ;\n\n  if(!oAuth) {\n    console.error('Must add oauth token for GitHub in tasks/config/admin/oauth.js');\n    return;\n  }\n\n  // Do Git commands synchronously per component, to avoid issues\n  stepRepo = function() {\n\n    index = index + 1;\n\n    if(index >= total) {\n      callback();\n      return;\n    }\n\n    var\n      component          = release.distributions[index],\n      lowerCaseComponent = component.toLowerCase(),\n      outputDirectory    = path.resolve(release.outputRoot + lowerCaseComponent),\n      repoName           = release.distRepoRoot + component,\n\n      gitOptions         = { cwd: outputDirectory },\n      pullOptions        = { args: '-q', cwd: outputDirectory, quiet: true },\n      resetOptions       = { args: '-q --hard', cwd: outputDirectory, quiet: true },\n      gitURL             = 'git@github.com:' + release.org + '/' + repoName + '.git',\n      repoURL            = 'https://github.com/' + release.org + '/' + repoName + '/',\n      localRepoSetup     = fs.existsSync(path.join(outputDirectory, '.git'))\n    ;\n\n    console.log('Processing repository: ' + outputDirectory);\n\n    // create folder if doesn't exist\n    if( !fs.existsSync(outputDirectory) ) {\n      mkdirp.sync(outputDirectory);\n    }\n\n    // clean folder\n    if(release.outputRoot.search('../repos') == 0) {\n      console.info('Cleaning dir', outputDirectory);\n      del.sync([outputDirectory + '**/*'], {silent: true, force: true});\n    }\n\n    // set-up local repo\n    function setupRepo() {\n      if(localRepoSetup) {\n        addRemote();\n      }\n      else {\n        initRepo();\n      }\n    }\n\n    function initRepo() {\n      console.info('Initializing repository for ' + component);\n      git.init(gitOptions, function(error) {\n        if(error) {\n          console.error('Error initializing repo', error);\n        }\n        addRemote();\n      });\n    }\n\n    function createRepo() {\n      console.info('Creating GitHub repo ' + repoURL);\n      github.repos.createFromOrg({\n        org      : release.org,\n        name     : repoName,\n        homepage : release.homepage\n      }, function() {\n        setupRepo();\n      });\n    }\n\n    function addRemote() {\n      console.info('Adding remote origin as ' + gitURL);\n      git.addRemote('origin', gitURL, gitOptions, function(){\n        pullFiles();\n      });\n    }\n\n    function pullFiles() {\n      console.info('Pulling ' + component + ' files');\n      git.pull('origin', 'master', pullOptions, function(error) {\n        resetFiles();\n      });\n    }\n\n    function resetFiles() {\n      console.info('Resetting files to head');\n      git.reset('HEAD', resetOptions, function(error) {\n        nextRepo();\n      });\n    }\n\n    function nextRepo() {\n      //console.log('Sleeping for 1 second...');\n      // avoid rate throttling\n      global.clearTimeout(timer);\n      timer = global.setTimeout(function() {\n        stepRepo()\n      }, 0);\n    }\n\n\n    if(localRepoSetup) {\n      pullFiles();\n    }\n    else {\n      setupRepo();\n      // createRepo() only use to create remote repo (easier to do manually)\n    }\n\n  };\n\n  stepRepo();\n\n\n};\n","/*******************************\n          Update Repos\n*******************************/\n\n/*\n\n This task update all SUI individual distribution repos with new versions of distributions\n\n  * Commits changes from create repo\n  * Pushes changes to GitHub\n  * Tag new releases if version changed in main repo\n\n*/\n\nvar\n  gulp           = require('gulp'),\n\n  // node dependencies\n  console        = require('better-console'),\n  fs             = require('fs'),\n  path           = require('path'),\n  git            = require('gulp-git'),\n  githubAPI      = require('github'),\n  requireDotFile = require('require-dot-file'),\n\n  // admin files\n  github         = require('../../config/admin/github.js'),\n  release        = require('../../config/admin/release'),\n  project        = require('../../config/project/release'),\n\n\n  // oAuth configuration for GitHub\n  oAuth          = fs.existsSync(__dirname + '/../../config/admin/oauth.js')\n    ? require('../../config/admin/oauth')\n    : false,\n\n  // shorthand\n  version = project.version\n;\n\nmodule.exports = function(callback) {\n\n  var\n    index = -1,\n    total = release.distributions.length,\n    timer,\n    stream,\n    stepRepo\n  ;\n\n  if(!oAuth) {\n    console.error('Must add oauth token for GitHub in tasks/config/admin/oauth.js');\n    return;\n  }\n\n  // Do Git commands synchronously per distribution, to avoid issues\n  stepRepo = function() {\n\n    index = index + 1;\n    if(index >= total) {\n      callback();\n      return;\n    }\n\n    var\n      distribution         = release.distributions[index],\n      outputDirectory      = path.resolve(path.join(release.outputRoot, distribution.toLowerCase() )),\n      repoName             = release.distRepoRoot + distribution,\n\n      commitArgs = (oAuth.name !== undefined && oAuth.email !== undefined)\n        ? '--author \"' + oAuth.name + ' <' + oAuth.email + '>\"'\n        : '',\n\n      distributionPackage = fs.existsSync(outputDirectory + 'package.json' )\n        ? require(outputDirectory + 'package.json')\n        : false,\n\n      isNewVersion  = (version && distributionPackage.version != version),\n\n      commitMessage = (isNewVersion)\n        ? 'Updated distribution to version ' + version\n        : 'Updated files from main repo',\n\n      gitOptions      = { cwd: outputDirectory },\n      commitOptions   = { args: commitArgs, cwd: outputDirectory },\n      releaseOptions  = { tag_name: version, owner: release.org, repo: repoName },\n\n      fileModeOptions = { args : 'config core.fileMode false', cwd: outputDirectory },\n      usernameOptions = { args : 'config user.name \"' + oAuth.name + '\"', cwd: outputDirectory },\n      emailOptions    = { args : 'config user.email \"' + oAuth.email + '\"', cwd: outputDirectory },\n      versionOptions =  { args : 'rev-parse --verify HEAD', cwd: outputDirectory },\n\n      localRepoSetup  = fs.existsSync(path.join(outputDirectory, '.git')),\n      canProceed      = true\n    ;\n\n\n    console.info('Processing repository:' + outputDirectory);\n\n    function setConfig() {\n      git.exec(fileModeOptions, function() {\n        git.exec(usernameOptions, function () {\n          git.exec(emailOptions, function () {\n            commitFiles();\n          });\n        });\n      });\n    }\n\n    // standard path\n    function commitFiles() {\n      // commit files\n      console.info('Committing ' + distribution + ' files', commitArgs);\n      gulp.src('./', gitOptions)\n        .pipe(git.add(gitOptions))\n        .pipe(git.commit(commitMessage, commitOptions))\n        .on('error', function(error) {\n          // canProceed = false; bug in git commit <https://github.com/stevelacy/gulp-git/issues/49>\n        })\n        .on('finish', function(callback) {\n          if(canProceed) {\n            pushFiles();\n          }\n          else {\n            console.info('Nothing new to commit');\n            nextRepo();\n          }\n        })\n      ;\n    }\n\n    // push changes to remote\n    function pushFiles() {\n      console.info('Pushing files for ' + distribution);\n      git.push('origin', 'master', { args: '', cwd: outputDirectory }, function(error) {\n        console.info('Push completed successfully');\n        getSHA();\n      });\n    }\n\n    // gets SHA of last commit\n    function getSHA() {\n      git.exec(versionOptions, function(error, version) {\n        version = version.trim();\n        createRelease(version);\n      });\n    }\n\n    // create release on GitHub.com\n    function createRelease(version) {\n      if(version) {\n        releaseOptions.target_commitish = version;\n      }\n      github.repos.createRelease(releaseOptions, function() {\n        nextRepo();\n      });\n    }\n\n    // Steps to next repository\n    function nextRepo() {\n      console.log('Sleeping for 1 second...');\n      // avoid rate throttling\n      global.clearTimeout(timer);\n      timer = global.setTimeout(stepRepo, 100);\n    }\n\n\n    if(localRepoSetup) {\n      setConfig();\n    }\n    else {\n      console.error('Repository must be setup before running update distributions');\n    }\n\n  };\n\n  stepRepo();\n\n};\n","/*******************************\n          Release All\n*******************************/\n\n/*\n This task update all SUI individual component repos with new versions of components\n\n  * Commits changes from create components to GitHub and Tags\n\n*/\n\nvar\n  runSequence = require('run-sequence')\n;\n\n/* Release All */\nmodule.exports = function(callback) {\n\n  runSequence(\n    'update distributions', // commit less/css versions to github\n    'update components', // commit components to github\n    callback\n  );\n\n};","/*******************************\n          Register PM\n*******************************/\n\n/*\n  Task to register component repos with Package Managers\n  * Registers component with bower\n  * Registers component with NPM\n*/\n\nvar\n  // node dependencies\n  process = require('child_process'),\n\n  // config\n  release = require('../config/admin/release'),\n\n  // register components and distributions\n  repos   = release.distributions.concat(release.components),\n  total   = repos.length,\n  index   = -1,\n\n  stream,\n  stepRepo\n;\n\nmodule.exports = function(callback) {\n\n  console.log('Registering repos with package managers');\n\n  // Do Git commands synchronously per component, to avoid issues\n  stepRepo = function() {\n    index = index + 1;\n    if(index >= total) {\n      callback();\n      return;\n    }\n    var\n      repo            = repos[index].toLowerCase(),\n      outputDirectory = release.outputRoot + repo + '/',\n      exec            = process.exec,\n      execSettings    = {cwd: outputDirectory},\n      updateNPM       = 'npm publish;meteor publish;'\n    ;\n\n    /* Register with NPM */\n    exec(updateNPM, execSettings, function(err, stdout, stderr) {\n      console.log(err, stdout, stderr);\n      stepRepo();\n    });\n\n  };\n  stepRepo();\n};\n\n","/*******************************\n          Release\n*******************************/\n\n/*\n This task update all SUI individual component repos with new versions of components\n\n  * Initializes repositories with current versions\n  * Creates local files at ../distributions/ with each repo for release\n\n*/\n\nvar\n  runSequence = require('run-sequence')\n;\n\n/* Release All */\nmodule.exports = function(callback) {\n\n  runSequence(\n    //'build', // build Semantic\n    'init distributions', // sync with current github version\n    'create distributions', // update each repo with changes from master repo\n    'init components', // sync with current github version\n    'create components', // update each repo\n    callback\n  );\n\n};","/*******************************\n          Build Task\n*******************************/\n\nvar\n  gulp         = require('gulp'),\n\n  // gulp dependencies\n  chmod        = require('gulp-chmod'),\n  gulpif       = require('gulp-if'),\n\n  // config\n  config       = require('../config/user'),\n  tasks        = require('../config/tasks'),\n\n  // shorthand\n  globs        = config.globs,\n  assets       = config.paths.assets,\n  output       = config.paths.output,\n  source       = config.paths.source,\n\n  log          = tasks.log\n;\n\nmodule.exports = function(callback) {\n\n  console.info('Building assets');\n\n  // copy assets\n  return gulp.src(source.themes + '/**/assets/**/*.*')\n    .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n    .pipe(gulp.dest(output.themes))\n  ;\n\n};","/*******************************\n          Build Task\n*******************************/\n\nvar\n  gulp         = require('gulp'),\n\n  // node dependencies\n  console      = require('better-console'),\n  fs           = require('fs'),\n\n  // gulp dependencies\n  autoprefixer = require('gulp-autoprefixer'),\n  chmod        = require('gulp-chmod'),\n  clone        = require('gulp-clone'),\n  flatten      = require('gulp-flatten'),\n  gulpif       = require('gulp-if'),\n  less         = require('gulp-less'),\n  minifyCSS    = require('gulp-clean-css'),\n  plumber      = require('gulp-plumber'),\n  print        = require('gulp-print'),\n  rename       = require('gulp-rename'),\n  replace      = require('gulp-replace'),\n  runSequence  = require('run-sequence'),\n\n  // config\n  config       = require('../config/user'),\n  tasks        = require('../config/tasks'),\n  install      = require('../config/project/install'),\n\n  // shorthand\n  globs        = config.globs,\n  assets       = config.paths.assets,\n  output       = config.paths.output,\n  source       = config.paths.source,\n\n  banner       = tasks.banner,\n  comments     = tasks.regExp.comments,\n  log          = tasks.log,\n  settings     = tasks.settings\n;\n\n// add internal tasks (concat release)\nrequire('../collections/internal')(gulp);\n\nmodule.exports = function(callback) {\n\n  var\n    tasksCompleted = 0,\n    maybeCallback  = function() {\n      tasksCompleted++;\n      if(tasksCompleted === 2) {\n        callback();\n      }\n    },\n\n    stream,\n    compressedStream,\n    uncompressedStream\n  ;\n\n  console.info('Building CSS');\n\n  if( !install.isSetup() ) {\n    console.error('Cannot build files. Run \"gulp install\" to set-up Semantic');\n    return;\n  }\n\n  // unified css stream\n  stream = gulp.src(source.definitions + '/**/' + globs.components + '.less')\n    .pipe(plumber(settings.plumber.less))\n    .pipe(less(settings.less))\n    .pipe(autoprefixer(settings.prefix))\n    .pipe(replace(comments.variables.in, comments.variables.out))\n    .pipe(replace(comments.license.in, comments.license.out))\n    .pipe(replace(comments.large.in, comments.large.out))\n    .pipe(replace(comments.small.in, comments.small.out))\n    .pipe(replace(comments.tiny.in, comments.tiny.out))\n    .pipe(flatten())\n  ;\n\n  // two concurrent streams from same source to concat release\n  uncompressedStream = stream.pipe(clone());\n  compressedStream   = stream.pipe(clone());\n\n  // uncompressed component css\n  uncompressedStream\n    .pipe(plumber())\n    .pipe(replace(assets.source, assets.uncompressed))\n    .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n    .pipe(gulp.dest(output.uncompressed))\n    .pipe(print(log.created))\n    .on('end', function() {\n      runSequence('package uncompressed css', maybeCallback);\n    })\n  ;\n\n  // compressed component css\n  compressedStream = stream\n    .pipe(plumber())\n    .pipe(clone())\n    .pipe(replace(assets.source, assets.compressed))\n    .pipe(minifyCSS(settings.minify))\n    .pipe(rename(settings.rename.minCSS))\n    .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n    .pipe(gulp.dest(output.compressed))\n    .pipe(print(log.created))\n    .on('end', function() {\n      runSequence('package compressed css', maybeCallback);\n    })\n  ;\n\n};\n","/*******************************\n          Build Task\n*******************************/\n\nvar\n  gulp         = require('gulp'),\n\n  // node dependencies\n  console      = require('better-console'),\n  fs           = require('fs'),\n\n  // gulp dependencies\n  chmod        = require('gulp-chmod'),\n  flatten      = require('gulp-flatten'),\n  gulpif       = require('gulp-if'),\n  plumber      = require('gulp-plumber'),\n  print        = require('gulp-print'),\n  rename       = require('gulp-rename'),\n  replace      = require('gulp-replace'),\n  uglify       = require('gulp-uglify'),\n\n  // config\n  config       = require('../config/user'),\n  tasks        = require('../config/tasks'),\n  install      = require('../config/project/install'),\n\n  // shorthand\n  globs        = config.globs,\n  assets       = config.paths.assets,\n  output       = config.paths.output,\n  source       = config.paths.source,\n\n  banner       = tasks.banner,\n  comments     = tasks.regExp.comments,\n  log          = tasks.log,\n  settings     = tasks.settings\n;\n\n// add internal tasks (concat release)\nrequire('../collections/internal')(gulp);\n\nmodule.exports = function(callback) {\n\n  var\n    stream,\n    compressedStream,\n    uncompressedStream\n  ;\n\n  console.info('Building Javascript');\n\n  if( !install.isSetup() ) {\n    console.error('Cannot build files. Run \"gulp install\" to set-up Semantic');\n    return;\n  }\n\n  // copy source javascript\n  gulp.src(source.definitions + '/**/' + globs.components + '.js')\n    .pipe(plumber())\n    .pipe(flatten())\n    .pipe(replace(comments.license.in, comments.license.out))\n    .pipe(gulp.dest(output.uncompressed))\n    .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n    .pipe(print(log.created))\n    .pipe(uglify(settings.uglify))\n    .pipe(rename(settings.rename.minJS))\n    .pipe(gulp.dest(output.compressed))\n    .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n    .pipe(print(log.created))\n    .on('end', function() {\n      gulp.start('package compressed js');\n      gulp.start('package uncompressed js');\n      callback();\n    })\n  ;\n\n};","/*******************************\n     Admin Task Collection\n*******************************/\n\n/*\n  This are tasks to be run by project maintainers\n  - Creating Component Repos\n  - Syncing with GitHub via APIs\n  - Modifying package files\n*/\n\n/*******************************\n             Tasks\n*******************************/\n\n\nmodule.exports = function(gulp) {\n  var\n    // less/css distributions\n    initComponents      = require('../admin/components/init'),\n    createComponents    = require('../admin/components/create'),\n    updateComponents    = require('../admin/components/update'),\n\n    // single component releases\n    initDistributions   = require('../admin/distributions/init'),\n    createDistributions = require('../admin/distributions/create'),\n    updateDistributions = require('../admin/distributions/update'),\n\n    release             = require('../admin/release'),\n    publish             = require('../admin/publish'),\n    register            = require('../admin/register')\n  ;\n\n  /* Release */\n  gulp.task('init distributions', 'Grabs each component from GitHub', initDistributions);\n  gulp.task('create distributions', 'Updates files in each repo', createDistributions);\n  gulp.task('init components', 'Grabs each component from GitHub', initComponents);\n  gulp.task('create components', 'Updates files in each repo', createComponents);\n\n  /* Publish */\n  gulp.task('update distributions', 'Commits component updates from create to GitHub', updateDistributions);\n  gulp.task('update components', 'Commits component updates from create to GitHub', updateComponents);\n\n  /* Tasks */\n  gulp.task('release', 'Stages changes in GitHub repos for all distributions', release);\n  gulp.task('publish', 'Publishes all releases (components, package)', publish);\n  gulp.task('register', 'Registers all packages with NPM', register);\n\n};","/*******************************\n        Define Sub-Tasks\n*******************************/\n\nmodule.exports = function(gulp) {\n\n  var\n    // build sub-tasks\n    buildJS      = require('./../build/javascript'),\n    buildCSS     = require('./../build/css'),\n    buildAssets  = require('./../build/assets')\n  ;\n\n  // in case these tasks are undefined during import, less make sure these are available in scope\n  gulp.task('build-javascript', 'Builds all javascript from source', buildJS);\n  gulp.task('build-css', 'Builds all css from source', buildCSS);\n  gulp.task('build-assets', 'Copies all assets from source', buildAssets);\n\n};\n","/*******************************\n    Internal Task Collection\n*******************************/\n\n/* These tasks create packaged files from **dist** components\n   Not intended to be called directly by a user because\n   these do not build fresh from **src**\n*/\n\nmodule.exports = function(gulp) {\n\n  var\n    // node dependencies\n    fs         = require('fs'),\n    chmod      = require('gulp-chmod'),\n    concat     = require('gulp-concat'),\n    concatCSS  = require('gulp-concat-css'),\n    clone      = require('gulp-clone'),\n    dedupe     = require('gulp-dedupe'),\n    gulpif     = require('gulp-if'),\n    header     = require('gulp-header'),\n    less       = require('gulp-less'),\n    minifyCSS  = require('gulp-clean-css'),\n    plumber    = require('gulp-plumber'),\n    print      = require('gulp-print'),\n    rename     = require('gulp-rename'),\n    replace    = require('gulp-replace'),\n    uglify     = require('gulp-uglify'),\n\n    // user config\n    config     = require('./../config/user'),\n    docsConfig = require('./../config/docs'),\n\n    // install config\n    tasks      = require('./../config/tasks'),\n    release    = require('./../config/project/release'),\n\n    // shorthand\n    globs      = config.globs,\n    assets     = config.paths.assets,\n    output     = config.paths.output,\n\n    banner     = tasks.banner,\n    filenames  = tasks.filenames,\n    log        = tasks.log,\n    settings   = tasks.settings\n  ;\n\n  /*--------------\n      Packaged\n  ---------------*/\n\n  gulp.task('package uncompressed css', function() {\n    return gulp.src(output.uncompressed + '/**/' + globs.components + globs.ignored + '.css')\n      .pipe(plumber())\n      .pipe(dedupe())\n      .pipe(replace(assets.uncompressed, assets.packaged))\n      .pipe(concatCSS(filenames.concatenatedCSS, settings.concatCSS))\n        .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n        .pipe(header(banner, settings.header))\n        .pipe(gulp.dest(output.packaged))\n        .pipe(print(log.created))\n    ;\n  });\n\n  gulp.task('package compressed css', function() {\n    return gulp.src(output.uncompressed + '/**/' + globs.components + globs.ignored + '.css')\n      .pipe(plumber())\n      .pipe(dedupe())\n      .pipe(replace(assets.uncompressed, assets.packaged))\n      .pipe(concatCSS(filenames.concatenatedMinifiedCSS, settings.concatCSS))\n        .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n        .pipe(minifyCSS(settings.concatMinify))\n        .pipe(header(banner, settings.header))\n        .pipe(gulp.dest(output.packaged))\n        .pipe(print(log.created))\n    ;\n  });\n\n  gulp.task('package uncompressed js', function() {\n    return gulp.src(output.uncompressed + '/**/' + globs.components + globs.ignored + '.js')\n      .pipe(plumber())\n      .pipe(dedupe())\n      .pipe(replace(assets.uncompressed, assets.packaged))\n      .pipe(concat(filenames.concatenatedJS))\n        .pipe(header(banner, settings.header))\n        .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n        .pipe(gulp.dest(output.packaged))\n        .pipe(print(log.created))\n    ;\n  });\n\n  gulp.task('package compressed js', function() {\n    return gulp.src(output.uncompressed + '/**/' + globs.components + globs.ignored + '.js')\n      .pipe(plumber())\n      .pipe(dedupe())\n      .pipe(replace(assets.uncompressed, assets.packaged))\n      .pipe(concat(filenames.concatenatedMinifiedJS))\n        .pipe(uglify(settings.concatUglify))\n        .pipe(header(banner, settings.header))\n        .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n        .pipe(gulp.dest(output.packaged))\n        .pipe(print(log.created))\n    ;\n  });\n\n  /*--------------\n        RTL\n  ---------------*/\n\n  if(config.rtl) {\n\n    gulp.task('package uncompressed rtl css', function () {\n      return gulp.src(output.uncompressed + '/**/' + globs.components + globs.ignoredRTL + '.rtl.css')\n        .pipe(dedupe())\n        .pipe(replace(assets.uncompressed, assets.packaged))\n        .pipe(concatCSS(filenames.concatenatedRTLCSS, settings.concatCSS))\n          .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n          .pipe(header(banner, settings.header))\n          .pipe(gulp.dest(output.packaged))\n          .pipe(print(log.created))\n      ;\n    });\n\n    gulp.task('package compressed rtl css', function () {\n      return gulp.src(output.uncompressed + '/**/' + globs.components + globs.ignoredRTL + '.rtl.css')\n        .pipe(dedupe())\n        .pipe(replace(assets.uncompressed, assets.packaged))\n        .pipe(concatCSS(filenames.concatenatedMinifiedRTLCSS, settings.concatCSS))\n          .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n          .pipe(minifyCSS(settings.concatMinify))\n          .pipe(header(banner, settings.header))\n          .pipe(gulp.dest(output.packaged))\n          .pipe(print(log.created))\n      ;\n    });\n\n    gulp.task('package uncompressed docs css', function() {\n      return gulp.src(output.uncompressed + '/**/' + globs.components + globs.ignored + '.css')\n        .pipe(dedupe())\n        .pipe(plumber())\n        .pipe(replace(assets.uncompressed, assets.packaged))\n        .pipe(concatCSS(filenames.concatenatedCSS, settings.concatCSS))\n          .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n          .pipe(gulp.dest(output.packaged))\n          .pipe(print(log.created))\n      ;\n    });\n\n    gulp.task('package compressed docs css', function() {\n      return gulp.src(output.uncompressed + '/**/' + globs.components + globs.ignored + '.css')\n        .pipe(dedupe())\n        .pipe(plumber())\n        .pipe(replace(assets.uncompressed, assets.packaged))\n        .pipe(concatCSS(filenames.concatenatedMinifiedCSS, settings.concatCSS))\n          .pipe(minifyCSS(settings.concatMinify))\n          .pipe(header(banner, settings.header))\n          .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n          .pipe(gulp.dest(output.packaged))\n          .pipe(print(log.created))\n      ;\n    });\n\n  }\n\n  /*--------------\n        Docs\n  ---------------*/\n\n  var\n    docsOutput = docsConfig.paths.output\n  ;\n\n  gulp.task('package uncompressed docs css', function() {\n    return gulp.src(docsOutput.uncompressed + '/**/' + globs.components + globs.ignored + '.css')\n      .pipe(dedupe())\n      .pipe(plumber())\n      .pipe(replace(assets.uncompressed, assets.packaged))\n      .pipe(concatCSS(filenames.concatenatedCSS, settings.concatCSS))\n        .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n        .pipe(gulp.dest(docsOutput.packaged))\n        .pipe(print(log.created))\n    ;\n  });\n\n  gulp.task('package compressed docs css', function() {\n    return gulp.src(docsOutput.uncompressed + '/**/' + globs.components + globs.ignored + '.css')\n      .pipe(dedupe())\n      .pipe(plumber())\n      .pipe(replace(assets.uncompressed, assets.packaged))\n      .pipe(concatCSS(filenames.concatenatedMinifiedCSS, settings.concatCSS))\n        .pipe(minifyCSS(settings.concatMinify))\n        .pipe(header(banner, settings.header))\n        .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n        .pipe(gulp.dest(docsOutput.packaged))\n        .pipe(print(log.created))\n    ;\n  });\n\n  gulp.task('package uncompressed docs js', function() {\n    return gulp.src(docsOutput.uncompressed + '/**/' + globs.components + globs.ignored + '.js')\n      .pipe(dedupe())\n      .pipe(plumber())\n      .pipe(replace(assets.uncompressed, assets.packaged))\n      .pipe(concat(filenames.concatenatedJS))\n        .pipe(header(banner, settings.header))\n        .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n        .pipe(gulp.dest(docsOutput.packaged))\n        .pipe(print(log.created))\n    ;\n  });\n\n  gulp.task('package compressed docs js', function() {\n    return gulp.src(docsOutput.uncompressed + '/**/' + globs.components + globs.ignored + '.js')\n      .pipe(dedupe())\n      .pipe(plumber())\n      .pipe(replace(assets.uncompressed, assets.packaged))\n      .pipe(concat(filenames.concatenatedMinifiedJS))\n        .pipe(uglify(settings.concatUglify))\n        .pipe(header(banner, settings.header))\n        .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n        .pipe(gulp.dest(docsOutput.packaged))\n        .pipe(print(log.created))\n    ;\n  });\n\n};\n","/*******************************\n        Define Sub-Tasks\n*******************************/\n\nmodule.exports = function(gulp) {\n\n  var\n    // rtl\n    buildRTL     = require('./../rtl/build'),\n    watchRTL     = require('./../rtl/watch')\n  ;\n\n  gulp.task('watch-rtl', 'Build all files as RTL', watchRTL);\n  gulp.task('build-rtl', 'Watch files as RTL ', buildRTL);\n\n};\n","/*******************************\n           Build Docs\n*******************************/\n\nvar\n  gulp         = require('gulp'),\n\n  // node dependencies\n  console      = require('better-console'),\n  fs           = require('fs'),\n  map          = require('map-stream'),\n\n  // gulp dependencies\n  autoprefixer = require('gulp-autoprefixer'),\n  chmod        = require('gulp-chmod'),\n  clone        = require('gulp-clone'),\n  flatten      = require('gulp-flatten'),\n  gulpif       = require('gulp-if'),\n  header       = require('gulp-header'),\n  less         = require('gulp-less'),\n  minifyCSS    = require('gulp-clean-css'),\n  plumber      = require('gulp-plumber'),\n  print        = require('gulp-print'),\n  rename       = require('gulp-rename'),\n  replace      = require('gulp-replace'),\n  uglify       = require('gulp-uglify'),\n\n  // user config\n  config       = require('../config/docs'),\n\n  // install config\n  tasks        = require('../config/tasks'),\n  configSetup  = require('../config/project/config'),\n  install      = require('../config/project/install'),\n\n  // metadata parsing\n  metadata     = require('./metadata'),\n\n  // shorthand\n  globs,\n  assets,\n  output,\n  source,\n\n  banner       = tasks.banner,\n  comments     = tasks.regExp.comments,\n  log          = tasks.log,\n  settings     = tasks.settings\n;\n\n// add internal tasks (concat release)\nrequire('../collections/internal')(gulp);\n\nmodule.exports = function(callback) {\n\n  var\n    stream,\n    compressedStream,\n    uncompressedStream\n  ;\n\n  // use a different config\n  config = configSetup.addDerivedValues(config);\n\n  // shorthand\n  globs  = config.globs;\n  assets = config.paths.assets;\n  output = config.paths.output;\n  source = config.paths.source;\n\n  /*--------------\n   Parse metadata\n   ---------------*/\n\n  // parse all *.html.eco in docs repo, data will end up in\n  // metadata.result object.  Note this assumes that the docs\n  // repository is present and in proper directory location as\n  // specified by docs.json.\n  console.info('Building Metadata');\n  gulp.src(config.paths.template.eco + globs.eco)\n    .pipe(map(metadata.parser))\n    .on('end', function() {\n      fs.writeFile(output.metadata + '/metadata.json', JSON.stringify(metadata.result, null, 2));\n    })\n  ;\n\n  /*--------------\n    Copy Examples\n  ---------------*/\n\n  console.info('Copying examples');\n  // copy src/ to server\n  gulp.src('examples/**/*.*')\n    .pipe(gulp.dest(output.examples))\n    .pipe(print(log.created))\n  ;\n\n  /*--------------\n     Copy Source\n  ---------------*/\n\n  console.info('Copying LESS source');\n  // copy src/ to server\n  gulp.src('src/**/*.*')\n    .pipe(gulp.dest(output.less))\n    .pipe(print(log.created))\n  ;\n\n  /*--------------\n        Build\n  ---------------*/\n\n  console.info('Building Semantic for docs');\n\n  if( !install.isSetup() ) {\n    console.error('Cannot build files. Run \"gulp install\" to set-up Semantic');\n    return;\n  }\n\n  // unified css stream\n  stream = gulp.src(source.definitions + '/**/' + globs.components + '.less')\n    .pipe(plumber())\n    .pipe(less(settings.less))\n    .pipe(autoprefixer(settings.prefix))\n    .pipe(flatten())\n  ;\n\n  // two concurrent streams from same source to concat release\n  uncompressedStream = stream.pipe(clone());\n  compressedStream   = stream.pipe(clone());\n\n  uncompressedStream\n    .pipe(plumber())\n    .pipe(replace(comments.variables.in, comments.variables.out))\n    .pipe(replace(comments.large.in, comments.large.out))\n    .pipe(replace(comments.small.in, comments.small.out))\n    .pipe(replace(comments.tiny.in, comments.tiny.out))\n    .pipe(replace(assets.source, assets.uncompressed))\n    .pipe(header(banner, settings.header))\n    .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n    .pipe(gulp.dest(output.uncompressed))\n    .pipe(print(log.created))\n    .on('end', function() {\n      gulp.start('package uncompressed docs css');\n    })\n  ;\n\n  compressedStream = stream\n    .pipe(plumber())\n    .pipe(clone())\n    .pipe(replace(assets.source, assets.compressed))\n    .pipe(minifyCSS(settings.minify))\n    .pipe(rename(settings.rename.minCSS))\n    .pipe(header(banner, settings.header))\n    .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n    .pipe(gulp.dest(output.compressed))\n    .pipe(print(log.created))\n    .on('end', function() {\n      callback();\n      gulp.start('package compressed docs css');\n    })\n  ;\n\n  // copy assets\n  gulp.src(source.themes + '/**/assets/**/*.*')\n    .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n    .pipe(gulp.dest(output.themes))\n  ;\n\n  // copy source javascript\n  gulp.src(source.definitions + '/**/' + globs.components + '.js')\n    .pipe(plumber())\n    .pipe(flatten())\n    .pipe(gulp.dest(output.uncompressed))\n    .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n    .pipe(print(log.created))\n    .pipe(uglify(settings.uglify))\n    .pipe(rename(settings.rename.minJS))\n    .pipe(header(banner, settings.header))\n    .pipe(gulp.dest(output.compressed))\n    .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n    .pipe(print(log.created))\n    .on('end', function() {\n      gulp.start('package compressed docs js');\n      gulp.start('package uncompressed docs js');\n    })\n  ;\n\n};\n","\n/*******************************\n           Summarize Docs\n*******************************/\n\nvar\n  // node dependencies\n  console      = require('better-console'),\n  fs           = require('fs'),\n  YAML         = require('yamljs')\n;\n\nvar data = {};\n\n/**\n * Test for prefix in string.\n * @param {string} str\n * @param {string} prefix\n * @return {boolean}\n */\nfunction startsWith(str, prefix) {\n  return str.indexOf(prefix) === 0;\n};\n\nfunction inArray(needle, haystack) {\n  var length = haystack.length;\n  for(var i = 0; i < length; i++) {\n      if(haystack[i] == needle) return true;\n  }\n  return false;\n}\n\n/**\n * Parses a file for metadata and stores result in data object.\n * @param {File} file - object provided by map-stream.\n * @param {function(?,File)} - callback provided by map-stream to\n * reply when done.\n */\nfunction parser(file, callback) {\n  // file exit conditions\n  if(file.isNull()) {\n    return callback(null, file); // pass along\n  }\n\n  if(file.isStream()) {\n    return callback(new Error('Streaming not supported'));\n  }\n\n  try {\n\n    var\n      /** @type {string} */\n      text     = String(file.contents.toString('utf8')),\n      lines    = text.split('\\n'),\n      filename = file.path.substring(0, file.path.length - 4),\n      key      = 'server/documents',\n      position = filename.indexOf(key)\n    ;\n\n    // exit conditions\n    if(!lines) {\n      return;\n    }\n    if(position < 0) {\n      return callback(null, file);\n    }\n\n    filename = filename.substring(position + key.length + 1, filename.length);\n\n    var\n      lineCount = lines.length,\n      active    = false,\n      yaml      = [],\n      categories = [\n        'UI Element',\n        'UI Global',\n        'UI Collection',\n        'UI View',\n        'UI Module',\n        'UI Behavior'\n      ],\n      index,\n      meta,\n      line\n    ;\n\n    for(index = 0; index < lineCount; index++) {\n\n      line = lines[index];\n\n      // Wait for metadata block to begin\n      if(!active) {\n        if(startsWith(line, '---')) {\n          active = true;\n        }\n        continue;\n      }\n      // End of metadata block, stop parsing.\n      if(startsWith(line, '---')) {\n        break;\n      }\n      yaml.push(line);\n    }\n\n\n    // Parse yaml.\n    meta = YAML.parse(yaml.join('\\n'));\n    if(meta && meta.type && meta.title && inArray(meta.type, categories) ) {\n      meta.category = meta.type;\n      meta.filename = filename;\n      meta.url      = '/' + filename;\n      meta.title    = meta.title;\n      // Primary key will by filepath\n      data[meta.element] = meta;\n    }\n    else {\n      // skip\n      // console.log(meta);\n    }\n\n\n  }\n\n  catch(error) {\n    console.log(error, filename);\n  }\n\n  callback(null, file);\n\n}\n\n/**\n * Export function expected by map-stream.\n */\nmodule.exports = {\n  result : data,\n  parser : parser\n};\n","/*******************************\n           Serve Docs\n*******************************/\nvar\n  gulp         = require('gulp'),\n\n  // node dependencies\n  console      = require('better-console'),\n  fs           = require('fs'),\n\n  // gulp dependencies\n  autoprefixer = require('gulp-autoprefixer'),\n  chmod        = require('gulp-chmod'),\n  clone        = require('gulp-clone'),\n  gulpif       = require('gulp-if'),\n  header       = require('gulp-header'),\n  less         = require('gulp-less'),\n  minifyCSS    = require('gulp-clean-css'),\n  plumber      = require('gulp-plumber'),\n  print        = require('gulp-print'),\n  rename       = require('gulp-rename'),\n  replace      = require('gulp-replace'),\n  uglify       = require('gulp-uglify'),\n  util         = require('gulp-util'),\n  watch        = require('gulp-watch'),\n\n  // user config\n  config       = require('../config/docs'),\n\n  // task config\n  tasks        = require('../config/tasks'),\n  configSetup  = require('../config/project/config'),\n  install      = require('../config/project/install'),\n\n  // shorthand\n  banner       = tasks.banner,\n  comments     = tasks.regExp.comments,\n  log          = tasks.log,\n  settings     = tasks.settings,\n\n  globs,\n  assets,\n  output,\n  source\n;\n\nrequire('../collections/internal')(gulp);\n\nmodule.exports = function () {\n\n  // use a different config\n  config = configSetup.addDerivedValues(config);\n\n  // shorthand\n  globs  = config.globs;\n  assets = config.paths.assets;\n  output = config.paths.output;\n  source = config.paths.source;\n\n\n  /*--------------\n     Copy Source\n  ---------------*/\n\n  gulp\n    .watch([\n      'src/**/*.*'\n    ], function(file) {\n      console.clear();\n      return gulp.src(file.path, {\n          base: 'src/'\n        })\n        .pipe(gulp.dest(output.less))\n        .pipe(print(log.created))\n      ;\n    })\n  ;\n\n  /*--------------\n    Copy Examples\n  ---------------*/\n\n  gulp\n    .watch([\n      'examples/**/*.*'\n    ], function(file) {\n      console.clear();\n      return gulp.src(file.path, {\n          base: 'examples/'\n        })\n        .pipe(gulp.dest(output.examples))\n        .pipe(print(log.created))\n      ;\n    })\n  ;\n\n  /*--------------\n      Watch CSS\n  ---------------*/\n\n  gulp\n    .watch([\n      source.config,\n      source.definitions   + '/**/*.less',\n      source.site          + '/**/*.{overrides,variables}',\n      source.themes        + '/**/*.{overrides,variables}'\n    ], function(file) {\n\n      var\n        lessPath,\n\n        stream,\n        compressedStream,\n        uncompressedStream,\n\n        isDefinition,\n        isPackagedTheme,\n        isSiteTheme,\n        isConfig\n      ;\n\n      // log modified file\n      gulp.src(file.path)\n        .pipe(print(log.modified))\n      ;\n\n      /*--------------\n         Find Source\n      ---------------*/\n\n      // recompile on *.override , *.variable change\n      isConfig        = (file.path.indexOf('theme.config') !== -1 || file.path.indexOf('site.variables') !== -1);\n      isPackagedTheme = (file.path.indexOf(source.themes) !== -1);\n      isSiteTheme     = (file.path.indexOf(source.site) !== -1);\n      isDefinition    = (file.path.indexOf(source.definitions) !== -1);\n\n      if(isConfig) {\n        // console.info('Rebuilding all files');\n        // cant rebuild paths are wrong\n        // gulp.start('build-docs');\n        return;\n      }\n      else if(isPackagedTheme) {\n        console.log('Change detected in packaged theme');\n        lessPath = util.replaceExtension(file.path, '.less');\n        lessPath = lessPath.replace(tasks.regExp.theme, source.definitions);\n      }\n      else if(isSiteTheme) {\n        console.log('Change detected in site theme');\n        lessPath = util.replaceExtension(file.path, '.less');\n        lessPath = lessPath.replace(source.site, source.definitions);\n      }\n      else {\n        console.log('Change detected in definition');\n        lessPath = file.path;\n      }\n\n      /*--------------\n        Create CSS\n      ---------------*/\n\n      if( fs.existsSync(lessPath) ) {\n\n        // unified css stream\n        stream = gulp.src(lessPath)\n          .pipe(plumber())\n          .pipe(less(settings.less))\n          .pipe(replace(comments.variables.in, comments.variables.out))\n          .pipe(replace(comments.large.in, comments.large.out))\n          .pipe(replace(comments.small.in, comments.small.out))\n          .pipe(replace(comments.tiny.in, comments.tiny.out))\n          .pipe(autoprefixer(settings.prefix))\n          .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n        ;\n\n        // use 2 concurrent streams from same pipe\n        uncompressedStream = stream.pipe(clone());\n        compressedStream   = stream.pipe(clone());\n\n        uncompressedStream\n          .pipe(plumber())\n          .pipe(replace(assets.source, assets.uncompressed))\n          .pipe(header(banner, settings.header))\n          .pipe(gulp.dest(output.uncompressed))\n          .pipe(print(log.created))\n          .on('end', function() {\n            gulp.start('package uncompressed docs css');\n          })\n        ;\n\n        compressedStream = stream\n          .pipe(plumber())\n          .pipe(replace(assets.source, assets.compressed))\n          .pipe(minifyCSS(settings.minify))\n          .pipe(rename(settings.rename.minCSS))\n          .pipe(header(banner, settings.header))\n          .pipe(gulp.dest(output.compressed))\n          .pipe(print(log.created))\n          .on('end', function() {\n            gulp.start('package compressed docs css');\n          })\n        ;\n\n      }\n      else {\n        console.log('Cannot find UI definition at path', lessPath);\n      }\n    })\n  ;\n\n  /*--------------\n      Watch JS\n  ---------------*/\n\n  gulp\n    .watch([\n      source.definitions   + '/**/*.js'\n    ], function(file) {\n      gulp.src(file.path)\n        .pipe(plumber())\n        .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n        .pipe(gulp.dest(output.uncompressed))\n        .pipe(print(log.created))\n        .pipe(uglify(settings.uglify))\n        .pipe(rename(settings.rename.minJS))\n        .pipe(gulp.dest(output.compressed))\n        .pipe(print(log.created))\n        .on('end', function() {\n          gulp.start('package compressed docs js');\n          gulp.start('package uncompressed docs js');\n        })\n      ;\n    })\n  ;\n\n  /*--------------\n    Watch Assets\n  ---------------*/\n\n  // only copy assets that match component names (or their plural)\n  gulp\n    .watch([\n      source.themes   + '/**/assets/**/' + globs.components + '?(s).*'\n    ], function(file) {\n      // copy assets\n      gulp.src(file.path, { base: source.themes })\n        .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n        .pipe(gulp.dest(output.themes))\n        .pipe(print(log.created))\n      ;\n    })\n  ;\n\n\n};\n","/*******************************\n          Build Task\n*******************************/\n\nvar\n  gulp         = require('gulp'),\n\n  // node dependencies\n  fs           = require('fs'),\n\n  // gulp dependencies\n  autoprefixer = require('gulp-autoprefixer'),\n  chmod        = require('gulp-chmod'),\n  clone        = require('gulp-clone'),\n  flatten      = require('gulp-flatten'),\n  gulpif       = require('gulp-if'),\n  less         = require('gulp-less'),\n  minifyCSS    = require('gulp-clean-css'),\n  plumber      = require('gulp-plumber'),\n  print        = require('gulp-print'),\n  rename       = require('gulp-rename'),\n  replace      = require('gulp-replace'),\n  rtlcss       = require('gulp-rtlcss'),\n  uglify       = require('gulp-uglify'),\n\n  // user config\n  config       = require('../config/user'),\n\n  // install config\n  tasks        = require('../config/tasks'),\n  install      = require('../config/project/install'),\n\n  // shorthand\n  globs        = config.globs,\n  assets       = config.paths.assets,\n  output       = config.paths.output,\n  source       = config.paths.source,\n\n  banner       = tasks.banner,\n  comments     = tasks.regExp.comments,\n  log          = tasks.log,\n  settings     = tasks.settings\n;\n\n// add internal tasks (concat release)\nrequire('../collections/internal')(gulp);\n\nmodule.exports = function(callback) {\n\n  var\n    stream,\n    compressedStream,\n    uncompressedStream\n  ;\n\n  console.info('Building Semantic');\n\n  if( !install.isSetup() ) {\n    console.error('Cannot build files. Run \"gulp install\" to set-up Semantic');\n    return;\n  }\n\n  // unified css stream\n  stream = gulp.src(source.definitions + '/**/' + globs.components + '.less')\n    .pipe(plumber())\n    .pipe(less(settings.less))\n    .pipe(autoprefixer(settings.prefix))\n    .pipe(rtlcss())\n    .pipe(replace(comments.variables.in, comments.variables.out))\n    .pipe(replace(comments.license.in, comments.license.out))\n    .pipe(replace(comments.large.in, comments.large.out))\n    .pipe(replace(comments.small.in, comments.small.out))\n    .pipe(replace(comments.tiny.in, comments.tiny.out))\n    .pipe(flatten())\n  ;\n\n  // two concurrent streams from same source to concat release\n  uncompressedStream = stream.pipe(clone());\n  compressedStream   = stream.pipe(clone());\n\n  uncompressedStream\n    .pipe(plumber())\n    .pipe(replace(assets.source, assets.uncompressed))\n    .pipe(rename(settings.rename.rtlCSS))\n    .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n    .pipe(gulp.dest(output.uncompressed))\n    .pipe(print(log.created))\n    .on('end', function() {\n      gulp.start('package uncompressed rtl css');\n    })\n  ;\n\n  compressedStream = stream\n    .pipe(plumber())\n    .pipe(clone())\n    .pipe(replace(assets.source, assets.compressed))\n    .pipe(minifyCSS(settings.minify))\n    .pipe(rename(settings.rename.rtlMinCSS))\n    .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n    .pipe(gulp.dest(output.compressed))\n    .pipe(print(log.created))\n    .on('end', function() {\n      callback();\n      gulp.start('package compressed rtl css');\n    })\n  ;\n\n  // copy assets\n  gulp.src(source.themes + '/**/assets/**/' + globs.components + '?(s).*')\n    .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n    .pipe(gulp.dest(output.themes))\n  ;\n\n  // copy source javascript\n  gulp.src(source.definitions + '/**/' + globs.components + '.js')\n    .pipe(plumber())\n    .pipe(flatten())\n    .pipe(replace(comments.license.in, comments.license.out))\n    .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n    .pipe(gulp.dest(output.uncompressed))\n    .pipe(print(log.created))\n    .pipe(uglify(settings.uglify))\n    .pipe(rename(settings.rename.minJS))\n    .pipe(gulp.dest(output.compressed))\n    .pipe(print(log.created))\n    .on('end', function() {\n      gulp.start('package compressed js');\n      gulp.start('package uncompressed js');\n    })\n  ;\n\n};\n","/*******************************\n           Watch Task\n*******************************/\n\nvar\n  gulp         = require('gulp'),\n\n  // node deps\n  console      = require('better-console'),\n  fs           = require('fs'),\n\n  // gulp deps\n  autoprefixer = require('gulp-autoprefixer'),\n  chmod        = require('gulp-chmod'),\n  clone        = require('gulp-clone'),\n  gulpif       = require('gulp-if'),\n  less         = require('gulp-less'),\n  minifyCSS    = require('gulp-clean-css'),\n  plumber      = require('gulp-plumber'),\n  print        = require('gulp-print'),\n  rename       = require('gulp-rename'),\n  replace      = require('gulp-replace'),\n  rtlcss       = require('gulp-rtlcss'),\n  uglify       = require('gulp-uglify'),\n  util         = require('gulp-util'),\n  watch        = require('gulp-watch'),\n\n  // user config\n  config       = require('../config/user'),\n\n  // task config\n  tasks        = require('../config/tasks'),\n  install      = require('../config/project/install'),\n\n  // shorthand\n  globs        = config.globs,\n  assets       = config.paths.assets,\n  output       = config.paths.output,\n  source       = config.paths.source,\n\n  banner       = tasks.banner,\n  comments     = tasks.regExp.comments,\n  log          = tasks.log,\n  settings     = tasks.settings\n\n;\n\n// add internal tasks (concat release)\nrequire('../collections/internal')(gulp);\n\nmodule.exports = function(callback) {\n\n  if( !install.isSetup() ) {\n    console.error('Cannot watch files. Run \"gulp install\" to set-up Semantic');\n    return;\n  }\n\n  console.clear();\n  console.log('Watching source files for changes');\n\n  /*--------------\n      Watch CSS\n  ---------------*/\n\n  gulp\n    .watch([\n      source.config,\n      source.definitions   + '/**/*.less',\n      source.site          + '/**/*.{overrides,variables}',\n      source.themes        + '/**/*.{overrides,variables}'\n    ], function(file) {\n\n      var\n        lessPath,\n\n        stream,\n        compressedStream,\n        uncompressedStream,\n\n        isDefinition,\n        isPackagedTheme,\n        isSiteTheme,\n        isConfig\n      ;\n\n      // log modified file\n      gulp.src(file.path)\n        .pipe(print(log.modified))\n      ;\n\n      /*--------------\n         Find Source\n      ---------------*/\n\n      // recompile on *.override , *.variable change\n      isConfig        = (file.path.indexOf('.config') !== -1);\n      isPackagedTheme = (file.path.indexOf(source.themes) !== -1);\n      isSiteTheme     = (file.path.indexOf(source.site) !== -1);\n      isDefinition    = (file.path.indexOf(source.definitions) !== -1);\n\n\n      if(isConfig) {\n        console.log('Change detected in theme config');\n        // cant tell which theme was changed in theme.config, rebuild all\n        gulp.start('build');\n      }\n      else if(isPackagedTheme) {\n        console.log('Change detected in packaged theme');\n        lessPath = lessPath.replace(tasks.regExp.theme, source.definitions);\n        lessPath = util.replaceExtension(file.path, '.less');\n      }\n      else if(isSiteTheme) {\n        console.log('Change detected in site theme');\n        lessPath = lessPath.replace(source.site, source.definitions);\n        lessPath = util.replaceExtension(file.path, '.less');\n      }\n      else if(isDefinition) {\n        console.log('Change detected in definition');\n        lessPath = util.replaceExtension(file.path, '.less');\n      }\n\n      /*--------------\n         Create CSS\n      ---------------*/\n\n      if( fs.existsSync(lessPath) ) {\n\n        // unified css stream\n        stream = gulp.src(lessPath)\n          .pipe(plumber())\n          .pipe(less(settings.less))\n          .pipe(replace(comments.variables.in, comments.variables.out))\n          .pipe(replace(comments.license.in, comments.license.out))\n          .pipe(replace(comments.large.in, comments.large.out))\n          .pipe(replace(comments.small.in, comments.small.out))\n          .pipe(replace(comments.tiny.in, comments.tiny.out))\n          .pipe(autoprefixer(settings.prefix))\n          .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n          .pipe(rtlcss())\n        ;\n\n        // use 2 concurrent streams from same pipe\n        uncompressedStream = stream.pipe(clone());\n        compressedStream   = stream.pipe(clone());\n\n        uncompressedStream\n          .pipe(plumber())\n          .pipe(replace(assets.source, assets.uncompressed))\n          .pipe(rename(settings.rename.rtlCSS))\n          .pipe(gulp.dest(output.uncompressed))\n          .pipe(print(log.created))\n          .on('end', function() {\n            gulp.start('package uncompressed rtl css');\n          })\n        ;\n\n        compressedStream = stream\n          .pipe(plumber())\n          .pipe(replace(assets.source, assets.compressed))\n          .pipe(minifyCSS(settings.minify))\n          .pipe(rename(settings.rename.minCSS))\n          .pipe(rename(settings.rename.rtlMinCSS))\n          .pipe(gulp.dest(output.compressed))\n          .pipe(print(log.created))\n          .on('end', function() {\n            gulp.start('package compressed rtl css');\n          })\n        ;\n\n      }\n      else {\n        console.log('Cannot find UI definition at path', lessPath);\n      }\n    })\n  ;\n\n  /*--------------\n      Watch JS\n  ---------------*/\n\n  gulp\n    .watch([\n      source.definitions   + '/**/*.js'\n    ], function(file) {\n      gulp.src(file.path)\n        .pipe(plumber())\n        .pipe(replace(comments.license.in, comments.license.out))\n        .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n        .pipe(gulp.dest(output.uncompressed))\n        .pipe(print(log.created))\n        .pipe(uglify(settings.uglify))\n        .pipe(rename(settings.rename.minJS))\n        .pipe(gulp.dest(output.compressed))\n        .pipe(print(log.created))\n        .on('end', function() {\n          gulp.start('package compressed js');\n          gulp.start('package uncompressed js');\n        })\n      ;\n    })\n  ;\n\n  /*--------------\n    Watch Assets\n  ---------------*/\n\n  // only copy assets that match component names (or their plural)\n  gulp\n    .watch([\n      source.themes   + '/**/assets/**/' + globs.components + '?(s).*'\n    ], function(file) {\n      // copy assets\n      gulp.src(file.path, { base: source.themes })\n        .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n        .pipe(gulp.dest(output.themes))\n        .pipe(print(log.created))\n      ;\n    })\n  ;\n\n};\n","/*******************************\n          Build Task\n*******************************/\n\nvar\n  // dependencies\n  gulp         = require('gulp-help')(require('gulp')),\n  runSequence  = require('run-sequence'),\n\n  // config\n  config       = require('./config/user'),\n  install      = require('./config/project/install'),\n\n  // task sequence\n  tasks        = []\n;\n\n\n// sub-tasks\nif(config.rtl) {\n  require('./collections/rtl')(gulp);\n}\nrequire('./collections/build')(gulp);\n\n\nmodule.exports = function(callback) {\n\n  console.info('Building Semantic');\n\n  if( !install.isSetup() ) {\n    console.error('Cannot find semantic.json. Run \"gulp install\" to set-up Semantic');\n    return 1;\n  }\n\n  // check for right-to-left (RTL) language\n  if(config.rtl === true || config.rtl === 'Yes') {\n    gulp.start('build-rtl');\n    return;\n  }\n\n  if(config.rtl == 'both') {\n    tasks.push('build-rtl');\n  }\n\n  tasks.push('build-javascript');\n  tasks.push('build-css');\n  tasks.push('build-assets');\n\n  runSequence(tasks, callback);\n};\n","/*******************************\n         Check Install\n*******************************/\n\nvar\n  // node dependencies\n  gulp         = require('gulp'),\n  fs           = require('fs'),\n  console      = require('better-console'),\n  install      = require('./config/project/install')\n;\n\n// export task\nmodule.exports = function() {\n\n  setTimeout(function() {\n    if( !install.isSetup() ) {\n      console.log('Starting install...');\n      gulp.start('install');\n      return;\n    }\n    else {\n      gulp.start('watch');\n    }\n  }, 50); // Delay to allow console.clear to remove messages from check event\n\n\n};","/*******************************\n          Clean Task\n*******************************/\n\nvar\n  del    = require('del'),\n  config = require('./config/user'),\n  tasks  = require('./config/tasks')\n;\n\n// cleans distribution files\nmodule.exports = function(callback) {\n  return del([config.paths.clean], tasks.settings.del, callback);\n};","/*******************************\n         Install Task\n*******************************/\n\n/*\n   Install tasks\n\n   For more notes\n\n   * Runs automatically after npm update (hooks)\n   * (NPM) Install - Will ask for where to put semantic (outside pm folder)\n   * (NPM) Upgrade - Will look for semantic install, copy over files and update if new version\n   * Standard installer runs asking for paths to site files etc\n\n*/\n\nvar\n  gulp           = require('gulp'),\n\n  // node dependencies\n  console        = require('better-console'),\n  extend         = require('extend'),\n  fs             = require('fs'),\n  mkdirp         = require('mkdirp'),\n  path           = require('path'),\n  runSequence    = require('run-sequence'),\n\n  // gulp dependencies\n  chmod          = require('gulp-chmod'),\n  del            = require('del'),\n  jsonEditor     = require('gulp-json-editor'),\n  plumber        = require('gulp-plumber'),\n  prompt         = require('prompt-sui'),\n  rename         = require('gulp-rename'),\n  replace        = require('gulp-replace'),\n  requireDotFile = require('require-dot-file'),\n  wrench         = require('wrench-sui'),\n\n  // install config\n  install        = require('./config/project/install'),\n\n  // user config\n  config         = require('./config/user'),\n\n  // release config (name/title/etc)\n  release        = require('./config/project/release'),\n\n  // shorthand\n  questions      = install.questions,\n  files          = install.files,\n  folders        = install.folders,\n  regExp         = install.regExp,\n  settings       = install.settings,\n  source         = install.source\n;\n\n// Export install task\nmodule.exports = function (callback) {\n\nvar\n  currentConfig = requireDotFile('semantic.json'),\n  manager       = install.getPackageManager(),\n  rootQuestions = questions.root,\n  installFolder = false,\n  answers\n;\n\nconsole.clear();\n\n/* Test NPM install\nmanager = {\n  name : 'NPM',\n  root : path.normalize(__dirname + '/../')\n};\n*/\n\n\n/* Don't do end user config if SUI is a sub-module */\nif( install.isSubModule() ) {\n  console.info('SUI is a sub-module, skipping end-user install');\n  return;\n}\n\n/*-----------------\n    Update SUI\n-----------------*/\n\n// run update scripts if semantic.json exists\nif(currentConfig && manager.name === 'NPM') {\n\n  var\n    updateFolder = path.join(manager.root, currentConfig.base),\n    updatePaths  = {\n      config       : path.join(manager.root, files.config),\n      tasks        : path.join(updateFolder, folders.tasks),\n      themeImport  : path.join(updateFolder, folders.themeImport),\n      definition   : path.join(currentConfig.paths.source.definitions),\n      site         : path.join(currentConfig.paths.source.site),\n      theme        : path.join(currentConfig.paths.source.themes),\n      defaultTheme : path.join(currentConfig.paths.source.themes, folders.defaultTheme)\n    }\n  ;\n\n  // duck-type if there is a project installed\n  if( fs.existsSync(updatePaths.definition) ) {\n\n    // perform update if new version\n    if(currentConfig.version !== release.version) {\n      console.log('Updating Semantic UI from ' + currentConfig.version + ' to ' + release.version);\n\n      console.info('Updating ui definitions...');\n      wrench.copyDirSyncRecursive(source.definitions, updatePaths.definition, settings.wrench.overwrite);\n\n      console.info('Updating default theme...');\n      wrench.copyDirSyncRecursive(source.themes, updatePaths.theme, settings.wrench.merge);\n      wrench.copyDirSyncRecursive(source.defaultTheme, updatePaths.defaultTheme, settings.wrench.overwrite);\n\n      console.info('Updating tasks...');\n      wrench.copyDirSyncRecursive(source.tasks, updatePaths.tasks, settings.wrench.overwrite);\n\n      console.info('Updating gulpfile.js');\n      gulp.src(source.userGulpFile)\n        .pipe(plumber())\n        .pipe(gulp.dest(updateFolder))\n      ;\n\n      // copy theme import\n      console.info('Updating theme import file');\n      gulp.src(source.themeImport)\n        .pipe(plumber())\n        .pipe(gulp.dest(updatePaths.themeImport))\n      ;\n\n      console.info('Adding new site theme files...');\n      wrench.copyDirSyncRecursive(source.site, updatePaths.site, settings.wrench.merge);\n\n      console.info('Updating version...');\n\n      // update version number in semantic.json\n      gulp.src(updatePaths.config)\n        .pipe(plumber())\n        .pipe(rename(settings.rename.json)) // preserve file extension\n        .pipe(jsonEditor({\n          version: release.version\n        }))\n        .pipe(gulp.dest(manager.root))\n      ;\n\n      console.info('Update complete! Run \"\\x1b[92mgulp build\\x1b[0m\" to rebuild dist/ files.');\n\n      return;\n    }\n    else {\n      console.log('Current version of Semantic UI already installed');\n      return;\n    }\n\n  }\n  else {\n    console.error('Cannot locate files to update at path: ', updatePaths.definition);\n    console.log('Running installer');\n  }\n\n}\n\n/*--------------\n Determine Root\n---------------*/\n\n// PM that supports Build Tools (NPM Only Now)\nif(manager.name == 'NPM') {\n  rootQuestions[0].message = rootQuestions[0].message\n    .replace('{packageMessage}', 'We detected you are using ' + manager.name + ' Nice!')\n    .replace('{root}', manager.root)\n  ;\n  // set default path to detected PM root\n  rootQuestions[0].default = manager.root;\n  rootQuestions[1].default = manager.root;\n\n  // insert PM questions after \"Install Type\" question\n  Array.prototype.splice.apply(questions.setup, [2, 0].concat(rootQuestions));\n\n  // omit cleanup questions for managed install\n  questions.cleanup = [];\n}\n\n\n/*--------------\n   Create SUI\n---------------*/\n\ngulp.task('run setup', function() {\n\n  // If auto-install is switched on, we skip the configuration section and simply reuse the configuration from semantic.json\n  if(install.shouldAutoInstall()) {\n    answers = {\n      overwrite    : 'yes',\n      install      : 'auto',\n      useRoot      : true,\n      semanticRoot : currentConfig.base\n    };\n  }\n  else {\n    return gulp\n      .src('gulpfile.js')\n      .pipe(prompt.prompt(questions.setup, function(setupAnswers) {\n        // hoist\n        answers = setupAnswers;\n      }))\n    ;\n  }\n});\n\ngulp.task('create install files', function(callback) {\n\n  /*--------------\n   Exit Conditions\n  ---------------*/\n\n  // if config exists and user specifies not to proceed\n  if(answers.overwrite !== undefined && answers.overwrite == 'no') {\n    return;\n  }\n  console.clear();\n  if(install.shouldAutoInstall()) {\n    console.log('Auto-Installing (Without User Interaction)');\n  }\n  else {\n    console.log('Installing');\n  }\n  console.log('------------------------------');\n\n\n  /*--------------\n        Paths\n  ---------------*/\n\n  var\n    installPaths = {\n      config            : files.config,\n      configFolder      : folders.config,\n      site              : answers.site || folders.site,\n      themeConfig       : files.themeConfig,\n      themeConfigFolder : folders.themeConfig\n    }\n  ;\n\n  /*--------------\n    NPM Install\n  ---------------*/\n\n  // Check if PM install\n  if(manager && (answers.useRoot || answers.customRoot)) {\n\n    // Set root to custom root path if set\n    if(answers.customRoot) {\n      if(answers.customRoot === '') {\n        console.log('Unable to proceed, invalid project root');\n        return;\n      }\n      manager.root = answers.customRoot;\n    }\n\n    // special install paths only for PM install\n    installPaths = extend(false, {}, installPaths, {\n      definition   : folders.definitions,\n      lessImport   : folders.lessImport,\n      tasks        : folders.tasks,\n      theme        : folders.themes,\n      defaultTheme : path.join(folders.themes, folders.defaultTheme),\n      themeImport  : folders.themeImport\n    });\n\n    // add project root to semantic root\n    installFolder = path.join(manager.root, answers.semanticRoot);\n\n    // add install folder to all output paths\n    for(var destination in installPaths) {\n      if( installPaths.hasOwnProperty(destination) ) {\n        // config goes in project root, rest in install folder\n        installPaths[destination] = (destination == 'config' || destination == 'configFolder')\n          ? path.normalize( path.join(manager.root, installPaths[destination]) )\n          : path.normalize( path.join(installFolder, installPaths[destination]) )\n        ;\n      }\n    }\n\n    // create project folders\n    try {\n      mkdirp.sync(installFolder);\n      mkdirp.sync(installPaths.definition);\n      mkdirp.sync(installPaths.theme);\n      mkdirp.sync(installPaths.tasks);\n    }\n    catch(error) {\n      console.error('NPM does not have permissions to create folders at your specified path. Adjust your folders permissions and run \"npm install\" again');\n    }\n\n    console.log('Installing to \\x1b[92m' + answers.semanticRoot + '\\x1b[0m');\n\n    console.info('Copying UI definitions');\n    wrench.copyDirSyncRecursive(source.definitions, installPaths.definition, settings.wrench.overwrite);\n\n    console.info('Copying UI themes');\n    wrench.copyDirSyncRecursive(source.themes, installPaths.theme, settings.wrench.merge);\n    wrench.copyDirSyncRecursive(source.defaultTheme, installPaths.defaultTheme, settings.wrench.overwrite);\n\n    console.info('Copying gulp tasks');\n    wrench.copyDirSyncRecursive(source.tasks, installPaths.tasks, settings.wrench.overwrite);\n\n    // copy theme import\n    console.info('Adding theme files');\n    gulp.src(source.themeImport)\n      .pipe(plumber())\n      .pipe(gulp.dest(installPaths.themeImport))\n    ;\n    gulp.src(source.lessImport)\n      .pipe(plumber())\n      .pipe(gulp.dest(installPaths.lessImport))\n    ;\n\n    // create gulp file\n    console.info('Creating gulpfile.js');\n    gulp.src(source.userGulpFile)\n      .pipe(plumber())\n      .pipe(gulp.dest(installFolder))\n    ;\n\n  }\n\n\n  /*--------------\n     Site Theme\n  ---------------*/\n\n  // Copy _site templates folder to destination\n  if( fs.existsSync(installPaths.site) ) {\n    console.info('Site folder exists, merging files (no overwrite)', installPaths.site);\n  }\n  else {\n    console.info('Creating site theme folder', installPaths.site);\n  }\n  wrench.copyDirSyncRecursive(source.site, installPaths.site, settings.wrench.merge);\n\n  /*--------------\n    Theme Config\n  ---------------*/\n\n  gulp.task('create theme.config', function() {\n    var\n      // determine path to site theme folder from theme config\n      // force CSS path variable to use forward slashes for paths\n      pathToSite   = path.relative(path.resolve(installPaths.themeConfigFolder), path.resolve(installPaths.site)).replace(/\\\\/g,'/'),\n      siteVariable = \"@siteFolder   : '\" + pathToSite + \"/';\"\n    ;\n\n    // rewrite site variable in theme.less\n    console.info('Adjusting @siteFolder to: ', pathToSite + '/');\n\n    if(fs.existsSync(installPaths.themeConfig)) {\n      console.info('Modifying src/theme.config (LESS config)', installPaths.themeConfig);\n      return gulp.src(installPaths.themeConfig)\n        .pipe(plumber())\n        .pipe(replace(regExp.siteVariable, siteVariable))\n        .pipe(gulp.dest(installPaths.themeConfigFolder))\n      ;\n    }\n    else {\n      console.info('Creating src/theme.config (LESS config)', installPaths.themeConfig);\n      return gulp.src(source.themeConfig)\n        .pipe(plumber())\n        .pipe(rename({ extname : '' }))\n        .pipe(replace(regExp.siteVariable, siteVariable))\n        .pipe(gulp.dest(installPaths.themeConfigFolder))\n      ;\n    }\n  });\n\n  /*--------------\n    Semantic.json\n  ---------------*/\n\n  gulp.task('create semantic.json', function() {\n\n    var\n      jsonConfig = install.createJSON(answers)\n    ;\n\n    // adjust variables in theme.less\n    if( fs.existsSync(installPaths.config) ) {\n      console.info('Extending config file (semantic.json)', installPaths.config);\n      return gulp.src(installPaths.config)\n        .pipe(plumber())\n        .pipe(rename(settings.rename.json)) // preserve file extension\n        .pipe(jsonEditor(jsonConfig))\n        .pipe(gulp.dest(installPaths.configFolder))\n      ;\n    }\n    else {\n      console.info('Creating config file (semantic.json)', installPaths.config);\n      return gulp.src(source.config)\n        .pipe(plumber())\n        .pipe(rename({ extname : '' })) // remove .template from ext\n        .pipe(jsonEditor(jsonConfig))\n        .pipe(gulp.dest(installPaths.configFolder))\n      ;\n    }\n\n  });\n\n  runSequence(\n    'create theme.config',\n    'create semantic.json',\n    callback\n  );\n\n});\n\ngulp.task('clean up install', function() {\n\n  // Completion Message\n  if(installFolder && !install.shouldAutoInstall()) {\n    console.log('\\n Setup Complete! \\n Installing Peer Dependencies. \\x1b[0;31mPlease refrain from ctrl + c\\x1b[0m... \\n After completion navigate to \\x1b[92m' + answers.semanticRoot + '\\x1b[0m and run \"\\x1b[92mgulp build\\x1b[0m\" to build');\n    process.exit(0);\n  }\n  else {\n    console.log('');\n    console.log('');\n  }\n\n  // If auto-install is switched on, we skip the configuration section and simply build the dependencies\n  if(install.shouldAutoInstall()) {\n    return gulp.start('build');\n  }\n  else {\n    return gulp\n      .src('gulpfile.js')\n      .pipe(prompt.prompt(questions.cleanup, function(answers) {\n        if(answers.cleanup == 'yes') {\n          del(install.setupFiles);\n        }\n        if(answers.build == 'yes') {\n          gulp.start('build');\n        }\n      }))\n    ;\n  }\n\n\n});\n\nrunSequence(\n  'run setup',\n  'create install files',\n  'clean up install',\n  callback\n);\n\n};\n","/*******************************\n          Version Task\n*******************************/\n\nvar\n  release = require('./config/project/release')\n;\n\nmodule.exports = function(callback) {\n  console.log(release.title + ' ' + release.version);\n};","/*******************************\n           Watch Task\n*******************************/\n\nvar\n  gulp         = require('gulp-help')(require('gulp')),\n\n  // node dependencies\n  console      = require('better-console'),\n  fs           = require('fs'),\n\n  // gulp dependencies\n  autoprefixer = require('gulp-autoprefixer'),\n  chmod        = require('gulp-chmod'),\n  clone        = require('gulp-clone'),\n  gulpif       = require('gulp-if'),\n  less         = require('gulp-less'),\n  minifyCSS    = require('gulp-clean-css'),\n  plumber      = require('gulp-plumber'),\n  print        = require('gulp-print'),\n  rename       = require('gulp-rename'),\n  replace      = require('gulp-replace'),\n  uglify       = require('gulp-uglify'),\n  util         = require('gulp-util'),\n  watch        = require('gulp-watch'),\n\n  // user config\n  config       = require('./config/user'),\n\n  // task config\n  tasks        = require('./config/tasks'),\n  install      = require('./config/project/install'),\n\n  // shorthand\n  globs        = config.globs,\n  assets       = config.paths.assets,\n  output       = config.paths.output,\n  source       = config.paths.source,\n\n  banner       = tasks.banner,\n  comments     = tasks.regExp.comments,\n  log          = tasks.log,\n  settings     = tasks.settings\n\n;\n\n// add tasks referenced using gulp.run (sub-tasks)\nif(config.rtl) {\n  require('./collections/rtl')(gulp);\n}\nrequire('./collections/internal')(gulp);\n\n\n// export task\nmodule.exports = function(callback) {\n\n  if( !install.isSetup() ) {\n    console.error('Cannot watch files. Run \"gulp install\" to set-up Semantic');\n    return;\n  }\n\n  // check for right-to-left (RTL) language\n  if(config.rtl == 'both') {\n    gulp.start('watch-rtl');\n  }\n  if(config.rtl === true || config.rtl === 'Yes') {\n    gulp.start('watch-rtl');\n    return;\n  }\n\n  //console.clear();\n  console.log('Watching source files for changes');\n\n  /*--------------\n      Watch CSS\n  ---------------*/\n\n  gulp\n    .watch([\n      source.config,\n      source.definitions   + '/**/*.less',\n      source.site          + '/**/*.{overrides,variables}',\n      source.themes        + '/**/*.{overrides,variables}'\n    ], function(file) {\n\n      var\n        lessPath,\n\n        stream,\n        compressedStream,\n        uncompressedStream,\n\n        isDefinition,\n        isPackagedTheme,\n        isSiteTheme,\n        isConfig\n      ;\n\n      // log modified file\n      gulp.src(file.path)\n        .pipe(print(log.modified))\n      ;\n\n      /*--------------\n         Find Source\n      ---------------*/\n\n      // recompile on *.override , *.variable change\n      isConfig        = (file.path.indexOf('theme.config') !== -1 || file.path.indexOf('site.variables') !== -1);\n      isPackagedTheme = (file.path.indexOf(source.themes) !== -1);\n      isSiteTheme     = (file.path.indexOf(source.site) !== -1);\n      isDefinition    = (file.path.indexOf(source.definitions) !== -1);\n\n      if(isConfig) {\n        console.info('Rebuilding all UI');\n        // impossible to tell which file was updated in theme.config, rebuild all\n        gulp.start('build-css');\n        return;\n      }\n      else if(isPackagedTheme) {\n        console.log('Change detected in packaged theme');\n        lessPath = util.replaceExtension(file.path, '.less');\n        lessPath = lessPath.replace(tasks.regExp.theme, source.definitions);\n      }\n      else if(isSiteTheme) {\n        console.log('Change detected in site theme');\n        lessPath = util.replaceExtension(file.path, '.less');\n        lessPath = lessPath.replace(source.site, source.definitions);\n      }\n      else {\n        console.log('Change detected in definition');\n        lessPath = file.path;\n      }\n\n      /*--------------\n         Create CSS\n      ---------------*/\n\n      if( fs.existsSync(lessPath) ) {\n\n        // unified css stream\n        stream = gulp.src(lessPath)\n          .pipe(plumber(settings.plumber.less))\n          .pipe(less(settings.less))\n          .pipe(print(log.created))\n          .pipe(replace(comments.variables.in, comments.variables.out))\n          .pipe(replace(comments.license.in, comments.license.out))\n          .pipe(replace(comments.large.in, comments.large.out))\n          .pipe(replace(comments.small.in, comments.small.out))\n          .pipe(replace(comments.tiny.in, comments.tiny.out))\n          .pipe(autoprefixer(settings.prefix))\n          .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n        ;\n\n        // use 2 concurrent streams from same pipe\n        uncompressedStream = stream.pipe(clone());\n        compressedStream   = stream.pipe(clone());\n\n        uncompressedStream\n          .pipe(plumber())\n          .pipe(replace(assets.source, assets.uncompressed))\n          .pipe(gulp.dest(output.uncompressed))\n          .pipe(print(log.created))\n          .on('end', function() {\n            gulp.start('package uncompressed css');\n          })\n        ;\n\n        compressedStream = stream\n          .pipe(plumber())\n          .pipe(replace(assets.source, assets.compressed))\n          .pipe(minifyCSS(settings.minify))\n          .pipe(rename(settings.rename.minCSS))\n          .pipe(gulp.dest(output.compressed))\n          .pipe(print(log.created))\n          .on('end', function() {\n            gulp.start('package compressed css');\n          })\n        ;\n      }\n      else {\n        console.log('Cannot find UI definition at path', lessPath);\n      }\n    })\n  ;\n\n  /*--------------\n      Watch JS\n  ---------------*/\n\n  gulp\n    .watch([\n      source.definitions   + '/**/*.js'\n    ], function(file) {\n      gulp.src(file.path)\n        .pipe(plumber())\n        .pipe(replace(comments.license.in, comments.license.out))\n        .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n        .pipe(gulp.dest(output.uncompressed))\n        .pipe(print(log.created))\n        .pipe(uglify(settings.uglify))\n        .pipe(rename(settings.rename.minJS))\n        .pipe(gulp.dest(output.compressed))\n        .pipe(print(log.created))\n        .on('end', function() {\n          gulp.start('package compressed js');\n          gulp.start('package uncompressed js');\n        })\n      ;\n    })\n  ;\n\n  /*--------------\n    Watch Assets\n  ---------------*/\n\n  // only copy assets that match component names (or their plural)\n  gulp\n    .watch([\n      source.themes   + '/**/assets/**/*.*'\n    ], function(file) {\n      // copy assets\n      gulp.src(file.path, { base: source.themes })\n        .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n        .pipe(gulp.dest(output.themes))\n        .pipe(print(log.created))\n      ;\n    })\n  ;\n\n};\n","/*!\n * # Semantic UI - API\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nvar\n  window = (typeof window != 'undefined' && window.Math == Math)\n    ? window\n    : (typeof self != 'undefined' && self.Math == Math)\n      ? self\n      : Function('return this')()\n;\n\n$.api = $.fn.api = function(parameters) {\n\n  var\n    // use window context if none specified\n    $allModules     = $.isFunction(this)\n        ? $(window)\n        : $(this),\n    moduleSelector = $allModules.selector || '',\n    time           = new Date().getTime(),\n    performance    = [],\n\n    query          = arguments[0],\n    methodInvoked  = (typeof query == 'string'),\n    queryArguments = [].slice.call(arguments, 1),\n\n    returnedValue\n  ;\n\n  $allModules\n    .each(function() {\n      var\n        settings          = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.api.settings, parameters)\n          : $.extend({}, $.fn.api.settings),\n\n        // internal aliases\n        namespace       = settings.namespace,\n        metadata        = settings.metadata,\n        selector        = settings.selector,\n        error           = settings.error,\n        className       = settings.className,\n\n        // define namespaces for modules\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n\n        // element that creates request\n        $module         = $(this),\n        $form           = $module.closest(selector.form),\n\n        // context used for state\n        $context        = (settings.stateContext)\n          ? $(settings.stateContext)\n          : $module,\n\n        // request details\n        ajaxSettings,\n        requestSettings,\n        url,\n        data,\n        requestStartTime,\n\n        // standard module\n        element         = this,\n        context         = $context[0],\n        instance        = $module.data(moduleNamespace),\n        module\n      ;\n\n      module = {\n\n        initialize: function() {\n          if(!methodInvoked) {\n            module.bind.events();\n          }\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, instance)\n          ;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous module for', element);\n          $module\n            .removeData(moduleNamespace)\n            .off(eventNamespace)\n          ;\n        },\n\n        bind: {\n          events: function() {\n            var\n              triggerEvent = module.get.event()\n            ;\n            if( triggerEvent ) {\n              module.verbose('Attaching API events to element', triggerEvent);\n              $module\n                .on(triggerEvent + eventNamespace, module.event.trigger)\n              ;\n            }\n            else if(settings.on == 'now') {\n              module.debug('Querying API endpoint immediately');\n              module.query();\n            }\n          }\n        },\n\n        decode: {\n          json: function(response) {\n            if(response !== undefined && typeof response == 'string') {\n              try {\n               response = JSON.parse(response);\n              }\n              catch(e) {\n                // isnt json string\n              }\n            }\n            return response;\n          }\n        },\n\n        read: {\n          cachedResponse: function(url) {\n            var\n              response\n            ;\n            if(window.Storage === undefined) {\n              module.error(error.noStorage);\n              return;\n            }\n            response = sessionStorage.getItem(url);\n            module.debug('Using cached response', url, response);\n            response = module.decode.json(response);\n            return response;\n          }\n        },\n        write: {\n          cachedResponse: function(url, response) {\n            if(response && response === '') {\n              module.debug('Response empty, not caching', response);\n              return;\n            }\n            if(window.Storage === undefined) {\n              module.error(error.noStorage);\n              return;\n            }\n            if( $.isPlainObject(response) ) {\n              response = JSON.stringify(response);\n            }\n            sessionStorage.setItem(url, response);\n            module.verbose('Storing cached response for url', url, response);\n          }\n        },\n\n        query: function() {\n\n          if(module.is.disabled()) {\n            module.debug('Element is disabled API request aborted');\n            return;\n          }\n\n          if(module.is.loading()) {\n            if(settings.interruptRequests) {\n              module.debug('Interrupting previous request');\n              module.abort();\n            }\n            else {\n              module.debug('Cancelling request, previous request is still pending');\n              return;\n            }\n          }\n\n          // pass element metadata to url (value, text)\n          if(settings.defaultData) {\n            $.extend(true, settings.urlData, module.get.defaultData());\n          }\n\n          // Add form content\n          if(settings.serializeForm) {\n            settings.data = module.add.formData(settings.data);\n          }\n\n          // call beforesend and get any settings changes\n          requestSettings = module.get.settings();\n\n          // check if before send cancelled request\n          if(requestSettings === false) {\n            module.cancelled = true;\n            module.error(error.beforeSend);\n            return;\n          }\n          else {\n            module.cancelled = false;\n          }\n\n          // get url\n          url = module.get.templatedURL();\n\n          if(!url && !module.is.mocked()) {\n            module.error(error.missingURL);\n            return;\n          }\n\n          // replace variables\n          url = module.add.urlData( url );\n          // missing url parameters\n          if( !url && !module.is.mocked()) {\n            return;\n          }\n\n          requestSettings.url = settings.base + url;\n\n          // look for jQuery ajax parameters in settings\n          ajaxSettings = $.extend(true, {}, settings, {\n            type       : settings.method || settings.type,\n            data       : data,\n            url        : settings.base + url,\n            beforeSend : settings.beforeXHR,\n            success    : function() {},\n            failure    : function() {},\n            complete   : function() {}\n          });\n\n          module.debug('Querying URL', ajaxSettings.url);\n          module.verbose('Using AJAX settings', ajaxSettings);\n          if(settings.cache === 'local' && module.read.cachedResponse(url)) {\n            module.debug('Response returned from local cache');\n            module.request = module.create.request();\n            module.request.resolveWith(context, [ module.read.cachedResponse(url) ]);\n            return;\n          }\n\n          if( !settings.throttle ) {\n            module.debug('Sending request', data, ajaxSettings.method);\n            module.send.request();\n          }\n          else {\n            if(!settings.throttleFirstRequest && !module.timer) {\n              module.debug('Sending request', data, ajaxSettings.method);\n              module.send.request();\n              module.timer = setTimeout(function(){}, settings.throttle);\n            }\n            else {\n              module.debug('Throttling request', settings.throttle);\n              clearTimeout(module.timer);\n              module.timer = setTimeout(function() {\n                if(module.timer) {\n                  delete module.timer;\n                }\n                module.debug('Sending throttled request', data, ajaxSettings.method);\n                module.send.request();\n              }, settings.throttle);\n            }\n          }\n\n        },\n\n        should: {\n          removeError: function() {\n            return ( settings.hideError === true || (settings.hideError === 'auto' && !module.is.form()) );\n          }\n        },\n\n        is: {\n          disabled: function() {\n            return ($module.filter(selector.disabled).length > 0);\n          },\n          expectingJSON: function() {\n            return settings.dataType === 'json' || settings.dataType === 'jsonp';\n          },\n          form: function() {\n            return $module.is('form') || $context.is('form');\n          },\n          mocked: function() {\n            return (settings.mockResponse || settings.mockResponseAsync || settings.response || settings.responseAsync);\n          },\n          input: function() {\n            return $module.is('input');\n          },\n          loading: function() {\n            return (module.request)\n              ? (module.request.state() == 'pending')\n              : false\n            ;\n          },\n          abortedRequest: function(xhr) {\n            if(xhr && xhr.readyState !== undefined && xhr.readyState === 0) {\n              module.verbose('XHR request determined to be aborted');\n              return true;\n            }\n            else {\n              module.verbose('XHR request was not aborted');\n              return false;\n            }\n          },\n          validResponse: function(response) {\n            if( (!module.is.expectingJSON()) || !$.isFunction(settings.successTest) ) {\n              module.verbose('Response is not JSON, skipping validation', settings.successTest, response);\n              return true;\n            }\n            module.debug('Checking JSON returned success', settings.successTest, response);\n            if( settings.successTest(response) ) {\n              module.debug('Response passed success test', response);\n              return true;\n            }\n            else {\n              module.debug('Response failed success test', response);\n              return false;\n            }\n          }\n        },\n\n        was: {\n          cancelled: function() {\n            return (module.cancelled || false);\n          },\n          succesful: function() {\n            return (module.request && module.request.state() == 'resolved');\n          },\n          failure: function() {\n            return (module.request && module.request.state() == 'rejected');\n          },\n          complete: function() {\n            return (module.request && (module.request.state() == 'resolved' || module.request.state() == 'rejected') );\n          }\n        },\n\n        add: {\n          urlData: function(url, urlData) {\n            var\n              requiredVariables,\n              optionalVariables\n            ;\n            if(url) {\n              requiredVariables = url.match(settings.regExp.required);\n              optionalVariables = url.match(settings.regExp.optional);\n              urlData           = urlData || settings.urlData;\n              if(requiredVariables) {\n                module.debug('Looking for required URL variables', requiredVariables);\n                $.each(requiredVariables, function(index, templatedString) {\n                  var\n                    // allow legacy {$var} style\n                    variable = (templatedString.indexOf('$') !== -1)\n                      ? templatedString.substr(2, templatedString.length - 3)\n                      : templatedString.substr(1, templatedString.length - 2),\n                    value   = ($.isPlainObject(urlData) && urlData[variable] !== undefined)\n                      ? urlData[variable]\n                      : ($module.data(variable) !== undefined)\n                        ? $module.data(variable)\n                        : ($context.data(variable) !== undefined)\n                          ? $context.data(variable)\n                          : urlData[variable]\n                  ;\n                  // remove value\n                  if(value === undefined) {\n                    module.error(error.requiredParameter, variable, url);\n                    url = false;\n                    return false;\n                  }\n                  else {\n                    module.verbose('Found required variable', variable, value);\n                    value = (settings.encodeParameters)\n                      ? module.get.urlEncodedValue(value)\n                      : value\n                    ;\n                    url = url.replace(templatedString, value);\n                  }\n                });\n              }\n              if(optionalVariables) {\n                module.debug('Looking for optional URL variables', requiredVariables);\n                $.each(optionalVariables, function(index, templatedString) {\n                  var\n                    // allow legacy {/$var} style\n                    variable = (templatedString.indexOf('$') !== -1)\n                      ? templatedString.substr(3, templatedString.length - 4)\n                      : templatedString.substr(2, templatedString.length - 3),\n                    value   = ($.isPlainObject(urlData) && urlData[variable] !== undefined)\n                      ? urlData[variable]\n                      : ($module.data(variable) !== undefined)\n                        ? $module.data(variable)\n                        : ($context.data(variable) !== undefined)\n                          ? $context.data(variable)\n                          : urlData[variable]\n                  ;\n                  // optional replacement\n                  if(value !== undefined) {\n                    module.verbose('Optional variable Found', variable, value);\n                    url = url.replace(templatedString, value);\n                  }\n                  else {\n                    module.verbose('Optional variable not found', variable);\n                    // remove preceding slash if set\n                    if(url.indexOf('/' + templatedString) !== -1) {\n                      url = url.replace('/' + templatedString, '');\n                    }\n                    else {\n                      url = url.replace(templatedString, '');\n                    }\n                  }\n                });\n              }\n            }\n            return url;\n          },\n          formData: function(data) {\n            var\n              canSerialize = ($.fn.serializeObject !== undefined),\n              formData     = (canSerialize)\n                ? $form.serializeObject()\n                : $form.serialize(),\n              hasOtherData\n            ;\n            data         = data || settings.data;\n            hasOtherData = $.isPlainObject(data);\n\n            if(hasOtherData) {\n              if(canSerialize) {\n                module.debug('Extending existing data with form data', data, formData);\n                data = $.extend(true, {}, data, formData);\n              }\n              else {\n                module.error(error.missingSerialize);\n                module.debug('Cant extend data. Replacing data with form data', data, formData);\n                data = formData;\n              }\n            }\n            else {\n              module.debug('Adding form data', formData);\n              data = formData;\n            }\n            return data;\n          }\n        },\n\n        send: {\n          request: function() {\n            module.set.loading();\n            module.request = module.create.request();\n            if( module.is.mocked() ) {\n              module.mockedXHR = module.create.mockedXHR();\n            }\n            else {\n              module.xhr = module.create.xhr();\n            }\n            settings.onRequest.call(context, module.request, module.xhr);\n          }\n        },\n\n        event: {\n          trigger: function(event) {\n            module.query();\n            if(event.type == 'submit' || event.type == 'click') {\n              event.preventDefault();\n            }\n          },\n          xhr: {\n            always: function() {\n              // nothing special\n            },\n            done: function(response, textStatus, xhr) {\n              var\n                context            = this,\n                elapsedTime        = (new Date().getTime() - requestStartTime),\n                timeLeft           = (settings.loadingDuration - elapsedTime),\n                translatedResponse = ( $.isFunction(settings.onResponse) )\n                  ? module.is.expectingJSON()\n                    ? settings.onResponse.call(context, $.extend(true, {}, response))\n                    : settings.onResponse.call(context, response)\n                  : false\n              ;\n              timeLeft = (timeLeft > 0)\n                ? timeLeft\n                : 0\n              ;\n              if(translatedResponse) {\n                module.debug('Modified API response in onResponse callback', settings.onResponse, translatedResponse, response);\n                response = translatedResponse;\n              }\n              if(timeLeft > 0) {\n                module.debug('Response completed early delaying state change by', timeLeft);\n              }\n              setTimeout(function() {\n                if( module.is.validResponse(response) ) {\n                  module.request.resolveWith(context, [response, xhr]);\n                }\n                else {\n                  module.request.rejectWith(context, [xhr, 'invalid']);\n                }\n              }, timeLeft);\n            },\n            fail: function(xhr, status, httpMessage) {\n              var\n                context     = this,\n                elapsedTime = (new Date().getTime() - requestStartTime),\n                timeLeft    = (settings.loadingDuration - elapsedTime)\n              ;\n              timeLeft = (timeLeft > 0)\n                ? timeLeft\n                : 0\n              ;\n              if(timeLeft > 0) {\n                module.debug('Response completed early delaying state change by', timeLeft);\n              }\n              setTimeout(function() {\n                if( module.is.abortedRequest(xhr) ) {\n                  module.request.rejectWith(context, [xhr, 'aborted', httpMessage]);\n                }\n                else {\n                  module.request.rejectWith(context, [xhr, 'error', status, httpMessage]);\n                }\n              }, timeLeft);\n            }\n          },\n          request: {\n            done: function(response, xhr) {\n              module.debug('Successful API Response', response);\n              if(settings.cache === 'local' && url) {\n                module.write.cachedResponse(url, response);\n                module.debug('Saving server response locally', module.cache);\n              }\n              settings.onSuccess.call(context, response, $module, xhr);\n            },\n            complete: function(firstParameter, secondParameter) {\n              var\n                xhr,\n                response\n              ;\n              // have to guess callback parameters based on request success\n              if( module.was.succesful() ) {\n                response = firstParameter;\n                xhr      = secondParameter;\n              }\n              else {\n                xhr      = firstParameter;\n                response = module.get.responseFromXHR(xhr);\n              }\n              module.remove.loading();\n              settings.onComplete.call(context, response, $module, xhr);\n            },\n            fail: function(xhr, status, httpMessage) {\n              var\n                // pull response from xhr if available\n                response     = module.get.responseFromXHR(xhr),\n                errorMessage = module.get.errorFromRequest(response, status, httpMessage)\n              ;\n              if(status == 'aborted') {\n                module.debug('XHR Aborted (Most likely caused by page navigation or CORS Policy)', status, httpMessage);\n                settings.onAbort.call(context, status, $module, xhr);\n                return true;\n              }\n              else if(status == 'invalid') {\n                module.debug('JSON did not pass success test. A server-side error has most likely occurred', response);\n              }\n              else if(status == 'error') {\n                if(xhr !== undefined) {\n                  module.debug('XHR produced a server error', status, httpMessage);\n                  // make sure we have an error to display to console\n                  if( xhr.status != 200 && httpMessage !== undefined && httpMessage !== '') {\n                    module.error(error.statusMessage + httpMessage, ajaxSettings.url);\n                  }\n                  settings.onError.call(context, errorMessage, $module, xhr);\n                }\n              }\n\n              if(settings.errorDuration && status !== 'aborted') {\n                module.debug('Adding error state');\n                module.set.error();\n                if( module.should.removeError() ) {\n                  setTimeout(module.remove.error, settings.errorDuration);\n                }\n              }\n              module.debug('API Request failed', errorMessage, xhr);\n              settings.onFailure.call(context, response, $module, xhr);\n            }\n          }\n        },\n\n        create: {\n\n          request: function() {\n            // api request promise\n            return $.Deferred()\n              .always(module.event.request.complete)\n              .done(module.event.request.done)\n              .fail(module.event.request.fail)\n            ;\n          },\n\n          mockedXHR: function () {\n            var\n              // xhr does not simulate these properties of xhr but must return them\n              textStatus     = false,\n              status         = false,\n              httpMessage    = false,\n              responder      = settings.mockResponse      || settings.response,\n              asyncResponder = settings.mockResponseAsync || settings.responseAsync,\n              asyncCallback,\n              response,\n              mockedXHR\n            ;\n\n            mockedXHR = $.Deferred()\n              .always(module.event.xhr.complete)\n              .done(module.event.xhr.done)\n              .fail(module.event.xhr.fail)\n            ;\n\n            if(responder) {\n              if( $.isFunction(responder) ) {\n                module.debug('Using specified synchronous callback', responder);\n                response = responder.call(context, requestSettings);\n              }\n              else {\n                module.debug('Using settings specified response', responder);\n                response = responder;\n              }\n              // simulating response\n              mockedXHR.resolveWith(context, [ response, textStatus, { responseText: response }]);\n            }\n            else if( $.isFunction(asyncResponder) ) {\n              asyncCallback = function(response) {\n                module.debug('Async callback returned response', response);\n\n                if(response) {\n                  mockedXHR.resolveWith(context, [ response, textStatus, { responseText: response }]);\n                }\n                else {\n                  mockedXHR.rejectWith(context, [{ responseText: response }, status, httpMessage]);\n                }\n              };\n              module.debug('Using specified async response callback', asyncResponder);\n              asyncResponder.call(context, requestSettings, asyncCallback);\n            }\n            return mockedXHR;\n          },\n\n          xhr: function() {\n            var\n              xhr\n            ;\n            // ajax request promise\n            xhr = $.ajax(ajaxSettings)\n              .always(module.event.xhr.always)\n              .done(module.event.xhr.done)\n              .fail(module.event.xhr.fail)\n            ;\n            module.verbose('Created server request', xhr, ajaxSettings);\n            return xhr;\n          }\n        },\n\n        set: {\n          error: function() {\n            module.verbose('Adding error state to element', $context);\n            $context.addClass(className.error);\n          },\n          loading: function() {\n            module.verbose('Adding loading state to element', $context);\n            $context.addClass(className.loading);\n            requestStartTime = new Date().getTime();\n          }\n        },\n\n        remove: {\n          error: function() {\n            module.verbose('Removing error state from element', $context);\n            $context.removeClass(className.error);\n          },\n          loading: function() {\n            module.verbose('Removing loading state from element', $context);\n            $context.removeClass(className.loading);\n          }\n        },\n\n        get: {\n          responseFromXHR: function(xhr) {\n            return $.isPlainObject(xhr)\n              ? (module.is.expectingJSON())\n                ? module.decode.json(xhr.responseText)\n                : xhr.responseText\n              : false\n            ;\n          },\n          errorFromRequest: function(response, status, httpMessage) {\n            return ($.isPlainObject(response) && response.error !== undefined)\n              ? response.error // use json error message\n              : (settings.error[status] !== undefined) // use server error message\n                ? settings.error[status]\n                : httpMessage\n            ;\n          },\n          request: function() {\n            return module.request || false;\n          },\n          xhr: function() {\n            return module.xhr || false;\n          },\n          settings: function() {\n            var\n              runSettings\n            ;\n            runSettings = settings.beforeSend.call(context, settings);\n            if(runSettings) {\n              if(runSettings.success !== undefined) {\n                module.debug('Legacy success callback detected', runSettings);\n                module.error(error.legacyParameters, runSettings.success);\n                runSettings.onSuccess = runSettings.success;\n              }\n              if(runSettings.failure !== undefined) {\n                module.debug('Legacy failure callback detected', runSettings);\n                module.error(error.legacyParameters, runSettings.failure);\n                runSettings.onFailure = runSettings.failure;\n              }\n              if(runSettings.complete !== undefined) {\n                module.debug('Legacy complete callback detected', runSettings);\n                module.error(error.legacyParameters, runSettings.complete);\n                runSettings.onComplete = runSettings.complete;\n              }\n            }\n            if(runSettings === undefined) {\n              module.error(error.noReturnedValue);\n            }\n            if(runSettings === false) {\n              return runSettings;\n            }\n            return (runSettings !== undefined)\n              ? $.extend(true, {}, runSettings)\n              : $.extend(true, {}, settings)\n            ;\n          },\n          urlEncodedValue: function(value) {\n            var\n              decodedValue   = window.decodeURIComponent(value),\n              encodedValue   = window.encodeURIComponent(value),\n              alreadyEncoded = (decodedValue !== value)\n            ;\n            if(alreadyEncoded) {\n              module.debug('URL value is already encoded, avoiding double encoding', value);\n              return value;\n            }\n            module.verbose('Encoding value using encodeURIComponent', value, encodedValue);\n            return encodedValue;\n          },\n          defaultData: function() {\n            var\n              data = {}\n            ;\n            if( !$.isWindow(element) ) {\n              if( module.is.input() ) {\n                data.value = $module.val();\n              }\n              else if( module.is.form() ) {\n\n              }\n              else {\n                data.text = $module.text();\n              }\n            }\n            return data;\n          },\n          event: function() {\n            if( $.isWindow(element) || settings.on == 'now' ) {\n              module.debug('API called without element, no events attached');\n              return false;\n            }\n            else if(settings.on == 'auto') {\n              if( $module.is('input') ) {\n                return (element.oninput !== undefined)\n                  ? 'input'\n                  : (element.onpropertychange !== undefined)\n                    ? 'propertychange'\n                    : 'keyup'\n                ;\n              }\n              else if( $module.is('form') ) {\n                return 'submit';\n              }\n              else {\n                return 'click';\n              }\n            }\n            else {\n              return settings.on;\n            }\n          },\n          templatedURL: function(action) {\n            action = action || $module.data(metadata.action) || settings.action || false;\n            url    = $module.data(metadata.url) || settings.url || false;\n            if(url) {\n              module.debug('Using specified url', url);\n              return url;\n            }\n            if(action) {\n              module.debug('Looking up url for action', action, settings.api);\n              if(settings.api[action] === undefined && !module.is.mocked()) {\n                module.error(error.missingAction, settings.action, settings.api);\n                return;\n              }\n              url = settings.api[action];\n            }\n            else if( module.is.form() ) {\n              url = $module.attr('action') || $context.attr('action') || false;\n              module.debug('No url or action specified, defaulting to form action', url);\n            }\n            return url;\n          }\n        },\n\n        abort: function() {\n          var\n            xhr = module.get.xhr()\n          ;\n          if( xhr && xhr.state() !== 'resolved') {\n            module.debug('Cancelling API request');\n            xhr.abort();\n          }\n        },\n\n        // reset state\n        reset: function() {\n          module.remove.error();\n          module.remove.loading();\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                //'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.api.settings = {\n\n  name              : 'API',\n  namespace         : 'api',\n\n  debug             : false,\n  verbose           : false,\n  performance       : true,\n\n  // object containing all templates endpoints\n  api               : {},\n\n  // whether to cache responses\n  cache             : true,\n\n  // whether new requests should abort previous requests\n  interruptRequests : true,\n\n  // event binding\n  on                : 'auto',\n\n  // context for applying state classes\n  stateContext      : false,\n\n  // duration for loading state\n  loadingDuration   : 0,\n\n  // whether to hide errors after a period of time\n  hideError         : 'auto',\n\n  // duration for error state\n  errorDuration     : 2000,\n\n  // whether parameters should be encoded with encodeURIComponent\n  encodeParameters  : true,\n\n  // API action to use\n  action            : false,\n\n  // templated URL to use\n  url               : false,\n\n  // base URL to apply to all endpoints\n  base              : '',\n\n  // data that will\n  urlData           : {},\n\n  // whether to add default data to url data\n  defaultData          : true,\n\n  // whether to serialize closest form\n  serializeForm        : false,\n\n  // how long to wait before request should occur\n  throttle             : 0,\n\n  // whether to throttle first request or only repeated\n  throttleFirstRequest : true,\n\n  // standard ajax settings\n  method            : 'get',\n  data              : {},\n  dataType          : 'json',\n\n  // mock response\n  mockResponse      : false,\n  mockResponseAsync : false,\n\n  // aliases for mock\n  response          : false,\n  responseAsync     : false,\n\n  // callbacks before request\n  beforeSend  : function(settings) { return settings; },\n  beforeXHR   : function(xhr) {},\n  onRequest   : function(promise, xhr) {},\n\n  // after request\n  onResponse  : false, // function(response) { },\n\n  // response was successful, if JSON passed validation\n  onSuccess   : function(response, $module) {},\n\n  // request finished without aborting\n  onComplete  : function(response, $module) {},\n\n  // failed JSON success test\n  onFailure   : function(response, $module) {},\n\n  // server error\n  onError     : function(errorMessage, $module) {},\n\n  // request aborted\n  onAbort     : function(errorMessage, $module) {},\n\n  successTest : false,\n\n  // errors\n  error : {\n    beforeSend        : 'The before send function has aborted the request',\n    error             : 'There was an error with your request',\n    exitConditions    : 'API Request Aborted. Exit conditions met',\n    JSONParse         : 'JSON could not be parsed during error handling',\n    legacyParameters  : 'You are using legacy API success callback names',\n    method            : 'The method you called is not defined',\n    missingAction     : 'API action used but no url was defined',\n    missingSerialize  : 'jquery-serialize-object is required to add form data to an existing data object',\n    missingURL        : 'No URL specified for api event',\n    noReturnedValue   : 'The beforeSend callback must return a settings object, beforeSend ignored.',\n    noStorage         : 'Caching responses locally requires session storage',\n    parseError        : 'There was an error parsing your request',\n    requiredParameter : 'Missing a required URL parameter: ',\n    statusMessage     : 'Server gave an error: ',\n    timeout           : 'Your request timed out'\n  },\n\n  regExp  : {\n    required : /\\{\\$*[A-z0-9]+\\}/g,\n    optional : /\\{\\/\\$*[A-z0-9]+\\}/g,\n  },\n\n  className: {\n    loading : 'loading',\n    error   : 'error'\n  },\n\n  selector: {\n    disabled : '.disabled',\n    form      : 'form'\n  },\n\n  metadata: {\n    action  : 'action',\n    url     : 'url'\n  }\n};\n\n\n\n})( jQuery, window, document );\n","/*!\n * # Semantic UI - Form Validation\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.form = function(parameters) {\n  var\n    $allModules      = $(this),\n    moduleSelector   = $allModules.selector || '',\n\n    time             = new Date().getTime(),\n    performance      = [],\n\n    query            = arguments[0],\n    legacyParameters = arguments[1],\n    methodInvoked    = (typeof query == 'string'),\n    queryArguments   = [].slice.call(arguments, 1),\n    returnedValue\n  ;\n  $allModules\n    .each(function() {\n      var\n        $module     = $(this),\n        element     = this,\n\n        formErrors  = [],\n        keyHeldDown = false,\n\n        // set at run-time\n        $field,\n        $group,\n        $message,\n        $prompt,\n        $submit,\n        $clear,\n        $reset,\n\n        settings,\n        validation,\n\n        metadata,\n        selector,\n        className,\n        regExp,\n        error,\n\n        namespace,\n        moduleNamespace,\n        eventNamespace,\n\n        instance,\n        module\n      ;\n\n      module      = {\n\n        initialize: function() {\n\n          // settings grabbed at run time\n          module.get.settings();\n          if(methodInvoked) {\n            if(instance === undefined) {\n              module.instantiate();\n            }\n            module.invoke(query);\n          }\n          else {\n            if(instance !== undefined) {\n              instance.invoke('destroy');\n            }\n            module.verbose('Initializing form validation', $module, settings);\n            module.bindEvents();\n            module.set.defaults();\n            module.instantiate();\n          }\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous module', instance);\n          module.removeEvents();\n          $module\n            .removeData(moduleNamespace)\n          ;\n        },\n\n        refresh: function() {\n          module.verbose('Refreshing selector cache');\n          $field      = $module.find(selector.field);\n          $group      = $module.find(selector.group);\n          $message    = $module.find(selector.message);\n          $prompt     = $module.find(selector.prompt);\n\n          $submit     = $module.find(selector.submit);\n          $clear      = $module.find(selector.clear);\n          $reset      = $module.find(selector.reset);\n        },\n\n        submit: function() {\n          module.verbose('Submitting form', $module);\n          $module\n            .submit()\n          ;\n        },\n\n        attachEvents: function(selector, action) {\n          action = action || 'submit';\n          $(selector)\n            .on('click' + eventNamespace, function(event) {\n              module[action]();\n              event.preventDefault();\n            })\n          ;\n        },\n\n        bindEvents: function() {\n          module.verbose('Attaching form events');\n          $module\n            .on('submit' + eventNamespace, module.validate.form)\n            .on('blur'   + eventNamespace, selector.field, module.event.field.blur)\n            .on('click'  + eventNamespace, selector.submit, module.submit)\n            .on('click'  + eventNamespace, selector.reset, module.reset)\n            .on('click'  + eventNamespace, selector.clear, module.clear)\n          ;\n          if(settings.keyboardShortcuts) {\n            $module\n              .on('keydown' + eventNamespace, selector.field, module.event.field.keydown)\n            ;\n          }\n          $field\n            .each(function() {\n              var\n                $input     = $(this),\n                type       = $input.prop('type'),\n                inputEvent = module.get.changeEvent(type, $input)\n              ;\n              $(this)\n                .on(inputEvent + eventNamespace, module.event.field.change)\n              ;\n            })\n          ;\n        },\n\n        clear: function() {\n          $field\n            .each(function () {\n              var\n                $field       = $(this),\n                $element     = $field.parent(),\n                $fieldGroup  = $field.closest($group),\n                $prompt      = $fieldGroup.find(selector.prompt),\n                defaultValue = $field.data(metadata.defaultValue) || '',\n                isCheckbox   = $element.is(selector.uiCheckbox),\n                isDropdown   = $element.is(selector.uiDropdown),\n                isErrored    = $fieldGroup.hasClass(className.error)\n              ;\n              if(isErrored) {\n                module.verbose('Resetting error on field', $fieldGroup);\n                $fieldGroup.removeClass(className.error);\n                $prompt.remove();\n              }\n              if(isDropdown) {\n                module.verbose('Resetting dropdown value', $element, defaultValue);\n                $element.dropdown('clear');\n              }\n              else if(isCheckbox) {\n                $field.prop('checked', false);\n              }\n              else {\n                module.verbose('Resetting field value', $field, defaultValue);\n                $field.val('');\n              }\n            })\n          ;\n        },\n\n        reset: function() {\n          $field\n            .each(function () {\n              var\n                $field       = $(this),\n                $element     = $field.parent(),\n                $fieldGroup  = $field.closest($group),\n                $prompt      = $fieldGroup.find(selector.prompt),\n                defaultValue = $field.data(metadata.defaultValue),\n                isCheckbox   = $element.is(selector.uiCheckbox),\n                isDropdown   = $element.is(selector.uiDropdown),\n                isErrored    = $fieldGroup.hasClass(className.error)\n              ;\n              if(defaultValue === undefined) {\n                return;\n              }\n              if(isErrored) {\n                module.verbose('Resetting error on field', $fieldGroup);\n                $fieldGroup.removeClass(className.error);\n                $prompt.remove();\n              }\n              if(isDropdown) {\n                module.verbose('Resetting dropdown value', $element, defaultValue);\n                $element.dropdown('restore defaults');\n              }\n              else if(isCheckbox) {\n                module.verbose('Resetting checkbox value', $element, defaultValue);\n                $field.prop('checked', defaultValue);\n              }\n              else {\n                module.verbose('Resetting field value', $field, defaultValue);\n                $field.val(defaultValue);\n              }\n            })\n          ;\n        },\n\n        determine: {\n          isValid: function() {\n            var\n              allValid = true\n            ;\n            $.each(validation, function(fieldName, field) {\n              if( !( module.validate.field(field, fieldName, true) ) ) {\n                allValid = false;\n              }\n            });\n            return allValid;\n          }\n        },\n\n        is: {\n          bracketedRule: function(rule) {\n            return (rule.type && rule.type.match(settings.regExp.bracket));\n          },\n          shorthandFields: function(fields) {\n            var\n              fieldKeys = Object.keys(fields),\n              firstRule = fields[fieldKeys[0]]\n            ;\n            return module.is.shorthandRules(firstRule);\n          },\n          // duck type rule test\n          shorthandRules: function(rules) {\n            return (typeof rules == 'string' || $.isArray(rules));\n          },\n          empty: function($field) {\n            if(!$field || $field.length === 0) {\n              return true;\n            }\n            else if($field.is('input[type=\"checkbox\"]')) {\n              return !$field.is(':checked');\n            }\n            else {\n              return module.is.blank($field);\n            }\n          },\n          blank: function($field) {\n            return $.trim($field.val()) === '';\n          },\n          valid: function(field) {\n            var\n              allValid = true\n            ;\n            if(field) {\n              module.verbose('Checking if field is valid', field);\n              return module.validate.field(validation[field], field, false);\n            }\n            else {\n              module.verbose('Checking if form is valid');\n              $.each(validation, function(fieldName, field) {\n                if( !module.is.valid(fieldName) ) {\n                  allValid = false;\n                }\n              });\n              return allValid;\n            }\n          }\n        },\n\n        removeEvents: function() {\n          $module\n            .off(eventNamespace)\n          ;\n          $field\n            .off(eventNamespace)\n          ;\n          $submit\n            .off(eventNamespace)\n          ;\n          $field\n            .off(eventNamespace)\n          ;\n        },\n\n        event: {\n          field: {\n            keydown: function(event) {\n              var\n                $field       = $(this),\n                key          = event.which,\n                isInput      = $field.is(selector.input),\n                isCheckbox   = $field.is(selector.checkbox),\n                isInDropdown = ($field.closest(selector.uiDropdown).length > 0),\n                keyCode      = {\n                  enter  : 13,\n                  escape : 27\n                }\n              ;\n              if( key == keyCode.escape) {\n                module.verbose('Escape key pressed blurring field');\n                $field\n                  .blur()\n                ;\n              }\n              if(!event.ctrlKey && key == keyCode.enter && isInput && !isInDropdown && !isCheckbox) {\n                if(!keyHeldDown) {\n                  $field\n                    .one('keyup' + eventNamespace, module.event.field.keyup)\n                  ;\n                  module.submit();\n                  module.debug('Enter pressed on input submitting form');\n                }\n                keyHeldDown = true;\n              }\n            },\n            keyup: function() {\n              keyHeldDown = false;\n            },\n            blur: function(event) {\n              var\n                $field          = $(this),\n                $fieldGroup     = $field.closest($group),\n                validationRules = module.get.validation($field)\n              ;\n              if( $fieldGroup.hasClass(className.error) ) {\n                module.debug('Revalidating field', $field, validationRules);\n                if(validationRules) {\n                  module.validate.field( validationRules );\n                }\n              }\n              else if(settings.on == 'blur') {\n                if(validationRules) {\n                  module.validate.field( validationRules );\n                }\n              }\n            },\n            change: function(event) {\n              var\n                $field      = $(this),\n                $fieldGroup = $field.closest($group),\n                validationRules = module.get.validation($field)\n              ;\n              if(validationRules && (settings.on == 'change' || ( $fieldGroup.hasClass(className.error) && settings.revalidate) )) {\n                clearTimeout(module.timer);\n                module.timer = setTimeout(function() {\n                  module.debug('Revalidating field', $field,  module.get.validation($field));\n                  module.validate.field( validationRules );\n                }, settings.delay);\n              }\n            }\n          }\n\n        },\n\n        get: {\n          ancillaryValue: function(rule) {\n            if(!rule.type || (!rule.value && !module.is.bracketedRule(rule))) {\n              return false;\n            }\n            return (rule.value !== undefined)\n              ? rule.value\n              : rule.type.match(settings.regExp.bracket)[1] + ''\n            ;\n          },\n          ruleName: function(rule) {\n            if( module.is.bracketedRule(rule) ) {\n              return rule.type.replace(rule.type.match(settings.regExp.bracket)[0], '');\n            }\n            return rule.type;\n          },\n          changeEvent: function(type, $input) {\n            if(type == 'checkbox' || type == 'radio' || type == 'hidden' || $input.is('select')) {\n              return 'change';\n            }\n            else {\n              return module.get.inputEvent();\n            }\n          },\n          inputEvent: function() {\n            return (document.createElement('input').oninput !== undefined)\n              ? 'input'\n              : (document.createElement('input').onpropertychange !== undefined)\n                ? 'propertychange'\n                : 'keyup'\n            ;\n          },\n          fieldsFromShorthand: function(fields) {\n            var\n              fullFields = {}\n            ;\n            $.each(fields, function(name, rules) {\n              if(typeof rules == 'string') {\n                rules = [rules];\n              }\n              fullFields[name] = {\n                rules: []\n              };\n              $.each(rules, function(index, rule) {\n                fullFields[name].rules.push({ type: rule });\n              });\n            });\n            return fullFields;\n          },\n          prompt: function(rule, field) {\n            var\n              ruleName      = module.get.ruleName(rule),\n              ancillary     = module.get.ancillaryValue(rule),\n              $field        = module.get.field(field.identifier),\n              value         = $field.val(),\n              prompt        = $.isFunction(rule.prompt)\n                ? rule.prompt(value)\n                : rule.prompt || settings.prompt[ruleName] || settings.text.unspecifiedRule,\n              requiresValue = (prompt.search('{value}') !== -1),\n              requiresName  = (prompt.search('{name}') !== -1),\n              $label,\n              name\n            ;\n            if(requiresValue) {\n              prompt = prompt.replace('{value}', $field.val());\n            }\n            if(requiresName) {\n              $label = $field.closest(selector.group).find('label').eq(0);\n              name = ($label.length == 1)\n                ? $label.text()\n                : $field.prop('placeholder') || settings.text.unspecifiedField\n              ;\n              prompt = prompt.replace('{name}', name);\n            }\n            prompt = prompt.replace('{identifier}', field.identifier);\n            prompt = prompt.replace('{ruleValue}', ancillary);\n            if(!rule.prompt) {\n              module.verbose('Using default validation prompt for type', prompt, ruleName);\n            }\n            return prompt;\n          },\n          settings: function() {\n            if($.isPlainObject(parameters)) {\n              var\n                keys     = Object.keys(parameters),\n                isLegacySettings = (keys.length > 0)\n                  ? (parameters[keys[0]].identifier !== undefined && parameters[keys[0]].rules !== undefined)\n                  : false,\n                ruleKeys\n              ;\n              if(isLegacySettings) {\n                // 1.x (ducktyped)\n                settings   = $.extend(true, {}, $.fn.form.settings, legacyParameters);\n                validation = $.extend({}, $.fn.form.settings.defaults, parameters);\n                module.error(settings.error.oldSyntax, element);\n                module.verbose('Extending settings from legacy parameters', validation, settings);\n              }\n              else {\n                // 2.x\n                if(parameters.fields && module.is.shorthandFields(parameters.fields)) {\n                  parameters.fields = module.get.fieldsFromShorthand(parameters.fields);\n                }\n                settings   = $.extend(true, {}, $.fn.form.settings, parameters);\n                validation = $.extend({}, $.fn.form.settings.defaults, settings.fields);\n                module.verbose('Extending settings', validation, settings);\n              }\n            }\n            else {\n              settings   = $.fn.form.settings;\n              validation = $.fn.form.settings.defaults;\n              module.verbose('Using default form validation', validation, settings);\n            }\n\n            // shorthand\n            namespace       = settings.namespace;\n            metadata        = settings.metadata;\n            selector        = settings.selector;\n            className       = settings.className;\n            regExp          = settings.regExp;\n            error           = settings.error;\n            moduleNamespace = 'module-' + namespace;\n            eventNamespace  = '.' + namespace;\n\n            // grab instance\n            instance = $module.data(moduleNamespace);\n\n            // refresh selector cache\n            module.refresh();\n          },\n          field: function(identifier) {\n            module.verbose('Finding field with identifier', identifier);\n            identifier = module.escape.string(identifier);\n            if($field.filter('#' + identifier).length > 0 ) {\n              return $field.filter('#' + identifier);\n            }\n            else if( $field.filter('[name=\"' + identifier +'\"]').length > 0 ) {\n              return $field.filter('[name=\"' + identifier +'\"]');\n            }\n            else if( $field.filter('[name=\"' + identifier +'[]\"]').length > 0 ) {\n              return $field.filter('[name=\"' + identifier +'[]\"]');\n            }\n            else if( $field.filter('[data-' + metadata.validate + '=\"'+ identifier +'\"]').length > 0 ) {\n              return $field.filter('[data-' + metadata.validate + '=\"'+ identifier +'\"]');\n            }\n            return $('<input/>');\n          },\n          fields: function(fields) {\n            var\n              $fields = $()\n            ;\n            $.each(fields, function(index, name) {\n              $fields = $fields.add( module.get.field(name) );\n            });\n            return $fields;\n          },\n          validation: function($field) {\n            var\n              fieldValidation,\n              identifier\n            ;\n            if(!validation) {\n              return false;\n            }\n            $.each(validation, function(fieldName, field) {\n              identifier = field.identifier || fieldName;\n              if( module.get.field(identifier)[0] == $field[0] ) {\n                field.identifier = identifier;\n                fieldValidation = field;\n              }\n            });\n            return fieldValidation || false;\n          },\n          value: function (field) {\n            var\n              fields = [],\n              results\n            ;\n            fields.push(field);\n            results = module.get.values.call(element, fields);\n            return results[field];\n          },\n          values: function (fields) {\n            var\n              $fields = $.isArray(fields)\n                ? module.get.fields(fields)\n                : $field,\n              values = {}\n            ;\n            $fields.each(function(index, field) {\n              var\n                $field     = $(field),\n                type       = $field.prop('type'),\n                name       = $field.prop('name'),\n                value      = $field.val(),\n                isCheckbox = $field.is(selector.checkbox),\n                isRadio    = $field.is(selector.radio),\n                isMultiple = (name.indexOf('[]') !== -1),\n                isChecked  = (isCheckbox)\n                  ? $field.is(':checked')\n                  : false\n              ;\n              if(name) {\n                if(isMultiple) {\n                  name = name.replace('[]', '');\n                  if(!values[name]) {\n                    values[name] = [];\n                  }\n                  if(isCheckbox) {\n                    if(isChecked) {\n                      values[name].push(value || true);\n                    }\n                    else {\n                      values[name].push(false);\n                    }\n                  }\n                  else {\n                    values[name].push(value);\n                  }\n                }\n                else {\n                  if(isRadio) {\n                    if(values[name] === undefined || values[name] == false) {\n                      values[name] = (isChecked)\n                        ? value || true\n                        : false\n                      ;\n                    }\n                  }\n                  else if(isCheckbox) {\n                    if(isChecked) {\n                      values[name] = value || true;\n                    }\n                    else {\n                      values[name] = false;\n                    }\n                  }\n                  else {\n                    values[name] = value;\n                  }\n                }\n              }\n            });\n            return values;\n          }\n        },\n\n        has: {\n\n          field: function(identifier) {\n            module.verbose('Checking for existence of a field with identifier', identifier);\n            identifier = module.escape.string(identifier);\n            if(typeof identifier !== 'string') {\n              module.error(error.identifier, identifier);\n            }\n            if($field.filter('#' + identifier).length > 0 ) {\n              return true;\n            }\n            else if( $field.filter('[name=\"' + identifier +'\"]').length > 0 ) {\n              return true;\n            }\n            else if( $field.filter('[data-' + metadata.validate + '=\"'+ identifier +'\"]').length > 0 ) {\n              return true;\n            }\n            return false;\n          }\n\n        },\n\n        escape: {\n          string: function(text) {\n            text =  String(text);\n            return text.replace(regExp.escape, '\\\\$&');\n          }\n        },\n\n        add: {\n          // alias\n          rule: function(name, rules) {\n            module.add.field(name, rules);\n          },\n          field: function(name, rules) {\n            var\n              newValidation = {}\n            ;\n            if(module.is.shorthandRules(rules)) {\n              rules = $.isArray(rules)\n                ? rules\n                : [rules]\n              ;\n              newValidation[name] = {\n                rules: []\n              };\n              $.each(rules, function(index, rule) {\n                newValidation[name].rules.push({ type: rule });\n              });\n            }\n            else {\n              newValidation[name] = rules;\n            }\n            validation = $.extend({}, validation, newValidation);\n            module.debug('Adding rules', newValidation, validation);\n          },\n          fields: function(fields) {\n            var\n              newValidation\n            ;\n            if(fields && module.is.shorthandFields(fields)) {\n              newValidation = module.get.fieldsFromShorthand(fields);\n            }\n            else {\n              newValidation = fields;\n            }\n            validation = $.extend({}, validation, newValidation);\n          },\n          prompt: function(identifier, errors) {\n            var\n              $field       = module.get.field(identifier),\n              $fieldGroup  = $field.closest($group),\n              $prompt      = $fieldGroup.children(selector.prompt),\n              promptExists = ($prompt.length !== 0)\n            ;\n            errors = (typeof errors == 'string')\n              ? [errors]\n              : errors\n            ;\n            module.verbose('Adding field error state', identifier);\n            $fieldGroup\n              .addClass(className.error)\n            ;\n            if(settings.inline) {\n              if(!promptExists) {\n                $prompt = settings.templates.prompt(errors);\n                $prompt\n                  .appendTo($fieldGroup)\n                ;\n              }\n              $prompt\n                .html(errors[0])\n              ;\n              if(!promptExists) {\n                if(settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n                  module.verbose('Displaying error with css transition', settings.transition);\n                  $prompt.transition(settings.transition + ' in', settings.duration);\n                }\n                else {\n                  module.verbose('Displaying error with fallback javascript animation');\n                  $prompt\n                    .fadeIn(settings.duration)\n                  ;\n                }\n              }\n              else {\n                module.verbose('Inline errors are disabled, no inline error added', identifier);\n              }\n            }\n          },\n          errors: function(errors) {\n            module.debug('Adding form error messages', errors);\n            module.set.error();\n            $message\n              .html( settings.templates.error(errors) )\n            ;\n          }\n        },\n\n        remove: {\n          rule: function(field, rule) {\n            var\n              rules = $.isArray(rule)\n                ? rule\n                : [rule]\n            ;\n            if(rule == undefined) {\n              module.debug('Removed all rules');\n              validation[field].rules = [];\n              return;\n            }\n            if(validation[field] == undefined || !$.isArray(validation[field].rules)) {\n              return;\n            }\n            $.each(validation[field].rules, function(index, rule) {\n              if(rules.indexOf(rule.type) !== -1) {\n                module.debug('Removed rule', rule.type);\n                validation[field].rules.splice(index, 1);\n              }\n            });\n          },\n          field: function(field) {\n            var\n              fields = $.isArray(field)\n                ? field\n                : [field]\n            ;\n            $.each(fields, function(index, field) {\n              module.remove.rule(field);\n            });\n          },\n          // alias\n          rules: function(field, rules) {\n            if($.isArray(field)) {\n              $.each(fields, function(index, field) {\n                module.remove.rule(field, rules);\n              });\n            }\n            else {\n              module.remove.rule(field, rules);\n            }\n          },\n          fields: function(fields) {\n            module.remove.field(fields);\n          },\n          prompt: function(identifier) {\n            var\n              $field      = module.get.field(identifier),\n              $fieldGroup = $field.closest($group),\n              $prompt     = $fieldGroup.children(selector.prompt)\n            ;\n            $fieldGroup\n              .removeClass(className.error)\n            ;\n            if(settings.inline && $prompt.is(':visible')) {\n              module.verbose('Removing prompt for field', identifier);\n              if(settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n                $prompt.transition(settings.transition + ' out', settings.duration, function() {\n                  $prompt.remove();\n                });\n              }\n              else {\n                $prompt\n                  .fadeOut(settings.duration, function(){\n                    $prompt.remove();\n                  })\n                ;\n              }\n            }\n          }\n        },\n\n        set: {\n          success: function() {\n            $module\n              .removeClass(className.error)\n              .addClass(className.success)\n            ;\n          },\n          defaults: function () {\n            $field\n              .each(function () {\n                var\n                  $field     = $(this),\n                  isCheckbox = ($field.filter(selector.checkbox).length > 0),\n                  value      = (isCheckbox)\n                    ? $field.is(':checked')\n                    : $field.val()\n                ;\n                $field.data(metadata.defaultValue, value);\n              })\n            ;\n          },\n          error: function() {\n            $module\n              .removeClass(className.success)\n              .addClass(className.error)\n            ;\n          },\n          value: function (field, value) {\n            var\n              fields = {}\n            ;\n            fields[field] = value;\n            return module.set.values.call(element, fields);\n          },\n          values: function (fields) {\n            if($.isEmptyObject(fields)) {\n              return;\n            }\n            $.each(fields, function(key, value) {\n              var\n                $field      = module.get.field(key),\n                $element    = $field.parent(),\n                isMultiple  = $.isArray(value),\n                isCheckbox  = $element.is(selector.uiCheckbox),\n                isDropdown  = $element.is(selector.uiDropdown),\n                isRadio     = ($field.is(selector.radio) && isCheckbox),\n                fieldExists = ($field.length > 0),\n                $multipleField\n              ;\n              if(fieldExists) {\n                if(isMultiple && isCheckbox) {\n                  module.verbose('Selecting multiple', value, $field);\n                  $element.checkbox('uncheck');\n                  $.each(value, function(index, value) {\n                    $multipleField = $field.filter('[value=\"' + value + '\"]');\n                    $element       = $multipleField.parent();\n                    if($multipleField.length > 0) {\n                      $element.checkbox('check');\n                    }\n                  });\n                }\n                else if(isRadio) {\n                  module.verbose('Selecting radio value', value, $field);\n                  $field.filter('[value=\"' + value + '\"]')\n                    .parent(selector.uiCheckbox)\n                      .checkbox('check')\n                  ;\n                }\n                else if(isCheckbox) {\n                  module.verbose('Setting checkbox value', value, $element);\n                  if(value === true) {\n                    $element.checkbox('check');\n                  }\n                  else {\n                    $element.checkbox('uncheck');\n                  }\n                }\n                else if(isDropdown) {\n                  module.verbose('Setting dropdown value', value, $element);\n                  $element.dropdown('set selected', value);\n                }\n                else {\n                  module.verbose('Setting field value', value, $field);\n                  $field.val(value);\n                }\n              }\n            });\n          }\n        },\n\n        validate: {\n\n          form: function(event, ignoreCallbacks) {\n            var\n              values = module.get.values(),\n              apiRequest\n            ;\n\n            // input keydown event will fire submit repeatedly by browser default\n            if(keyHeldDown) {\n              return false;\n            }\n\n            // reset errors\n            formErrors = [];\n            if( module.determine.isValid() ) {\n              module.debug('Form has no validation errors, submitting');\n              module.set.success();\n              if(ignoreCallbacks !== true) {\n                return settings.onSuccess.call(element, event, values);\n              }\n            }\n            else {\n              module.debug('Form has errors');\n              module.set.error();\n              if(!settings.inline) {\n                module.add.errors(formErrors);\n              }\n              // prevent ajax submit\n              if($module.data('moduleApi') !== undefined) {\n                event.stopImmediatePropagation();\n              }\n              if(ignoreCallbacks !== true) {\n                return settings.onFailure.call(element, formErrors, values);\n              }\n            }\n          },\n\n          // takes a validation object and returns whether field passes validation\n          field: function(field, fieldName, showErrors) {\n            showErrors = (showErrors !== undefined)\n              ? showErrors\n              : true\n            ;\n            if(typeof field == 'string') {\n              module.verbose('Validating field', field);\n              fieldName = field;\n              field     = validation[field];\n            }\n            var\n              identifier    = field.identifier || fieldName,\n              $field        = module.get.field(identifier),\n              $dependsField = (field.depends)\n                ? module.get.field(field.depends)\n                : false,\n              fieldValid  = true,\n              fieldErrors = []\n            ;\n            if(!field.identifier) {\n              module.debug('Using field name as identifier', identifier);\n              field.identifier = identifier;\n            }\n            if($field.prop('disabled')) {\n              module.debug('Field is disabled. Skipping', identifier);\n              fieldValid = true;\n            }\n            else if(field.optional && module.is.blank($field)){\n              module.debug('Field is optional and blank. Skipping', identifier);\n              fieldValid = true;\n            }\n            else if(field.depends && module.is.empty($dependsField)) {\n              module.debug('Field depends on another value that is not present or empty. Skipping', $dependsField);\n              fieldValid = true;\n            }\n            else if(field.rules !== undefined) {\n              $.each(field.rules, function(index, rule) {\n                if( module.has.field(identifier) && !( module.validate.rule(field, rule) ) ) {\n                  module.debug('Field is invalid', identifier, rule.type);\n                  fieldErrors.push(module.get.prompt(rule, field));\n                  fieldValid = false;\n                }\n              });\n            }\n            if(fieldValid) {\n              if(showErrors) {\n                module.remove.prompt(identifier, fieldErrors);\n                settings.onValid.call($field);\n              }\n            }\n            else {\n              if(showErrors) {\n                formErrors = formErrors.concat(fieldErrors);\n                module.add.prompt(identifier, fieldErrors);\n                settings.onInvalid.call($field, fieldErrors);\n              }\n              return false;\n            }\n            return true;\n          },\n\n          // takes validation rule and returns whether field passes rule\n          rule: function(field, rule) {\n            var\n              $field       = module.get.field(field.identifier),\n              type         = rule.type,\n              value        = $field.val(),\n              isValid      = true,\n              ancillary    = module.get.ancillaryValue(rule),\n              ruleName     = module.get.ruleName(rule),\n              ruleFunction = settings.rules[ruleName]\n            ;\n            if( !$.isFunction(ruleFunction) ) {\n              module.error(error.noRule, ruleName);\n              return;\n            }\n            // cast to string avoiding encoding special values\n            value = (value === undefined || value === '' || value === null)\n              ? ''\n              : $.trim(value + '')\n            ;\n            return ruleFunction.call($field, value, ancillary);\n          }\n        },\n\n        setting: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            settings[name] = value;\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                return false;\n              }\n            });\n          }\n          if( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n      module.initialize();\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.form.settings = {\n\n  name              : 'Form',\n  namespace         : 'form',\n\n  debug             : false,\n  verbose           : false,\n  performance       : true,\n\n  fields            : false,\n\n  keyboardShortcuts : true,\n  on                : 'submit',\n  inline            : false,\n\n  delay             : 200,\n  revalidate        : true,\n\n  transition        : 'scale',\n  duration          : 200,\n\n  onValid           : function() {},\n  onInvalid         : function() {},\n  onSuccess         : function() { return true; },\n  onFailure         : function() { return false; },\n\n  metadata : {\n    defaultValue : 'default',\n    validate     : 'validate'\n  },\n\n  regExp: {\n    htmlID  : /^[a-zA-Z][\\w:.-]*$/g,\n    bracket : /\\[(.*)\\]/i,\n    decimal : /^\\d+\\.?\\d*$/,\n    email   : /^[a-z0-9!#$%&'*+\\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,\n    escape  : /[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g,\n    flags   : /^\\/(.*)\\/(.*)?/,\n    integer : /^\\-?\\d+$/,\n    number  : /^\\-?\\d*(\\.\\d+)?$/,\n    url     : /(https?:\\/\\/(?:www\\.|(?!www))[^\\s\\.]+\\.[^\\s]{2,}|www\\.[^\\s]+\\.[^\\s]{2,})/i\n  },\n\n  text: {\n    unspecifiedRule  : 'Please enter a valid value',\n    unspecifiedField : 'This field'\n  },\n\n  prompt: {\n    empty                : '{name} must have a value',\n    checked              : '{name} must be checked',\n    email                : '{name} must be a valid e-mail',\n    url                  : '{name} must be a valid url',\n    regExp               : '{name} is not formatted correctly',\n    integer              : '{name} must be an integer',\n    decimal              : '{name} must be a decimal number',\n    number               : '{name} must be set to a number',\n    is                   : '{name} must be \"{ruleValue}\"',\n    isExactly            : '{name} must be exactly \"{ruleValue}\"',\n    not                  : '{name} cannot be set to \"{ruleValue}\"',\n    notExactly           : '{name} cannot be set to exactly \"{ruleValue}\"',\n    contain              : '{name} must contain \"{ruleValue}\"',\n    containExactly       : '{name} must contain exactly \"{ruleValue}\"',\n    doesntContain        : '{name} cannot contain  \"{ruleValue}\"',\n    doesntContainExactly : '{name} cannot contain exactly \"{ruleValue}\"',\n    minLength            : '{name} must be at least {ruleValue} characters',\n    length               : '{name} must be at least {ruleValue} characters',\n    exactLength          : '{name} must be exactly {ruleValue} characters',\n    maxLength            : '{name} cannot be longer than {ruleValue} characters',\n    match                : '{name} must match {ruleValue} field',\n    different            : '{name} must have a different value than {ruleValue} field',\n    creditCard           : '{name} must be a valid credit card number',\n    minCount             : '{name} must have at least {ruleValue} choices',\n    exactCount           : '{name} must have exactly {ruleValue} choices',\n    maxCount             : '{name} must have {ruleValue} or less choices'\n  },\n\n  selector : {\n    checkbox   : 'input[type=\"checkbox\"], input[type=\"radio\"]',\n    clear      : '.clear',\n    field      : 'input, textarea, select',\n    group      : '.field',\n    input      : 'input',\n    message    : '.error.message',\n    prompt     : '.prompt.label',\n    radio      : 'input[type=\"radio\"]',\n    reset      : '.reset:not([type=\"reset\"])',\n    submit     : '.submit:not([type=\"submit\"])',\n    uiCheckbox : '.ui.checkbox',\n    uiDropdown : '.ui.dropdown'\n  },\n\n  className : {\n    error   : 'error',\n    label   : 'ui prompt label',\n    pressed : 'down',\n    success : 'success'\n  },\n\n  error: {\n    identifier : 'You must specify a string identifier for each field',\n    method     : 'The method you called is not defined.',\n    noRule     : 'There is no rule matching the one you specified',\n    oldSyntax  : 'Starting in 2.0 forms now only take a single settings object. Validation settings converted to new syntax automatically.'\n  },\n\n  templates: {\n\n    // template that produces error message\n    error: function(errors) {\n      var\n        html = '<ul class=\"list\">'\n      ;\n      $.each(errors, function(index, value) {\n        html += '<li>' + value + '</li>';\n      });\n      html += '</ul>';\n      return $(html);\n    },\n\n    // template that produces label\n    prompt: function(errors) {\n      return $('<div/>')\n        .addClass('ui basic red pointing prompt label')\n        .html(errors[0])\n      ;\n    }\n  },\n\n  rules: {\n\n    // is not empty or blank string\n    empty: function(value) {\n      return !(value === undefined || '' === value || $.isArray(value) && value.length === 0);\n    },\n\n    // checkbox checked\n    checked: function() {\n      return ($(this).filter(':checked').length > 0);\n    },\n\n    // is most likely an email\n    email: function(value){\n      return $.fn.form.settings.regExp.email.test(value);\n    },\n\n    // value is most likely url\n    url: function(value) {\n      return $.fn.form.settings.regExp.url.test(value);\n    },\n\n    // matches specified regExp\n    regExp: function(value, regExp) {\n      if(regExp instanceof RegExp) {\n        return value.match(regExp);\n      }\n      var\n        regExpParts = regExp.match($.fn.form.settings.regExp.flags),\n        flags\n      ;\n      // regular expression specified as /baz/gi (flags)\n      if(regExpParts) {\n        regExp = (regExpParts.length >= 2)\n          ? regExpParts[1]\n          : regExp\n        ;\n        flags = (regExpParts.length >= 3)\n          ? regExpParts[2]\n          : ''\n        ;\n      }\n      return value.match( new RegExp(regExp, flags) );\n    },\n\n    // is valid integer or matches range\n    integer: function(value, range) {\n      var\n        intRegExp = $.fn.form.settings.regExp.integer,\n        min,\n        max,\n        parts\n      ;\n      if( !range || ['', '..'].indexOf(range) !== -1) {\n        // do nothing\n      }\n      else if(range.indexOf('..') == -1) {\n        if(intRegExp.test(range)) {\n          min = max = range - 0;\n        }\n      }\n      else {\n        parts = range.split('..', 2);\n        if(intRegExp.test(parts[0])) {\n          min = parts[0] - 0;\n        }\n        if(intRegExp.test(parts[1])) {\n          max = parts[1] - 0;\n        }\n      }\n      return (\n        intRegExp.test(value) &&\n        (min === undefined || value >= min) &&\n        (max === undefined || value <= max)\n      );\n    },\n\n    // is valid number (with decimal)\n    decimal: function(value) {\n      return $.fn.form.settings.regExp.decimal.test(value);\n    },\n\n    // is valid number\n    number: function(value) {\n      return $.fn.form.settings.regExp.number.test(value);\n    },\n\n    // is value (case insensitive)\n    is: function(value, text) {\n      text = (typeof text == 'string')\n        ? text.toLowerCase()\n        : text\n      ;\n      value = (typeof value == 'string')\n        ? value.toLowerCase()\n        : value\n      ;\n      return (value == text);\n    },\n\n    // is value\n    isExactly: function(value, text) {\n      return (value == text);\n    },\n\n    // value is not another value (case insensitive)\n    not: function(value, notValue) {\n      value = (typeof value == 'string')\n        ? value.toLowerCase()\n        : value\n      ;\n      notValue = (typeof notValue == 'string')\n        ? notValue.toLowerCase()\n        : notValue\n      ;\n      return (value != notValue);\n    },\n\n    // value is not another value (case sensitive)\n    notExactly: function(value, notValue) {\n      return (value != notValue);\n    },\n\n    // value contains text (insensitive)\n    contains: function(value, text) {\n      // escape regex characters\n      text = text.replace($.fn.form.settings.regExp.escape, \"\\\\$&\");\n      return (value.search( new RegExp(text, 'i') ) !== -1);\n    },\n\n    // value contains text (case sensitive)\n    containsExactly: function(value, text) {\n      // escape regex characters\n      text = text.replace($.fn.form.settings.regExp.escape, \"\\\\$&\");\n      return (value.search( new RegExp(text) ) !== -1);\n    },\n\n    // value contains text (insensitive)\n    doesntContain: function(value, text) {\n      // escape regex characters\n      text = text.replace($.fn.form.settings.regExp.escape, \"\\\\$&\");\n      return (value.search( new RegExp(text, 'i') ) === -1);\n    },\n\n    // value contains text (case sensitive)\n    doesntContainExactly: function(value, text) {\n      // escape regex characters\n      text = text.replace($.fn.form.settings.regExp.escape, \"\\\\$&\");\n      return (value.search( new RegExp(text) ) === -1);\n    },\n\n    // is at least string length\n    minLength: function(value, requiredLength) {\n      return (value !== undefined)\n        ? (value.length >= requiredLength)\n        : false\n      ;\n    },\n\n    // see rls notes for 2.0.6 (this is a duplicate of minLength)\n    length: function(value, requiredLength) {\n      return (value !== undefined)\n        ? (value.length >= requiredLength)\n        : false\n      ;\n    },\n\n    // is exactly length\n    exactLength: function(value, requiredLength) {\n      return (value !== undefined)\n        ? (value.length == requiredLength)\n        : false\n      ;\n    },\n\n    // is less than length\n    maxLength: function(value, maxLength) {\n      return (value !== undefined)\n        ? (value.length <= maxLength)\n        : false\n      ;\n    },\n\n    // matches another field\n    match: function(value, identifier) {\n      var\n        $form = $(this),\n        matchingValue\n      ;\n      if( $('[data-validate=\"'+ identifier +'\"]').length > 0 ) {\n        matchingValue = $('[data-validate=\"'+ identifier +'\"]').val();\n      }\n      else if($('#' + identifier).length > 0) {\n        matchingValue = $('#' + identifier).val();\n      }\n      else if($('[name=\"' + identifier +'\"]').length > 0) {\n        matchingValue = $('[name=\"' + identifier + '\"]').val();\n      }\n      else if( $('[name=\"' + identifier +'[]\"]').length > 0 ) {\n        matchingValue = $('[name=\"' + identifier +'[]\"]');\n      }\n      return (matchingValue !== undefined)\n        ? ( value.toString() == matchingValue.toString() )\n        : false\n      ;\n    },\n\n    // different than another field\n    different: function(value, identifier) {\n      // use either id or name of field\n      var\n        $form = $(this),\n        matchingValue\n      ;\n      if( $('[data-validate=\"'+ identifier +'\"]').length > 0 ) {\n        matchingValue = $('[data-validate=\"'+ identifier +'\"]').val();\n      }\n      else if($('#' + identifier).length > 0) {\n        matchingValue = $('#' + identifier).val();\n      }\n      else if($('[name=\"' + identifier +'\"]').length > 0) {\n        matchingValue = $('[name=\"' + identifier + '\"]').val();\n      }\n      else if( $('[name=\"' + identifier +'[]\"]').length > 0 ) {\n        matchingValue = $('[name=\"' + identifier +'[]\"]');\n      }\n      return (matchingValue !== undefined)\n        ? ( value.toString() !== matchingValue.toString() )\n        : false\n      ;\n    },\n\n    creditCard: function(cardNumber, cardTypes) {\n      var\n        cards = {\n          visa: {\n            pattern : /^4/,\n            length  : [16]\n          },\n          amex: {\n            pattern : /^3[47]/,\n            length  : [15]\n          },\n          mastercard: {\n            pattern : /^5[1-5]/,\n            length  : [16]\n          },\n          discover: {\n            pattern : /^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,\n            length  : [16]\n          },\n          unionPay: {\n            pattern : /^(62|88)/,\n            length  : [16, 17, 18, 19]\n          },\n          jcb: {\n            pattern : /^35(2[89]|[3-8][0-9])/,\n            length  : [16]\n          },\n          maestro: {\n            pattern : /^(5018|5020|5038|6304|6759|676[1-3])/,\n            length  : [12, 13, 14, 15, 16, 17, 18, 19]\n          },\n          dinersClub: {\n            pattern : /^(30[0-5]|^36)/,\n            length  : [14]\n          },\n          laser: {\n            pattern : /^(6304|670[69]|6771)/,\n            length  : [16, 17, 18, 19]\n          },\n          visaElectron: {\n            pattern : /^(4026|417500|4508|4844|491(3|7))/,\n            length  : [16]\n          }\n        },\n        valid         = {},\n        validCard     = false,\n        requiredTypes = (typeof cardTypes == 'string')\n          ? cardTypes.split(',')\n          : false,\n        unionPay,\n        validation\n      ;\n\n      if(typeof cardNumber !== 'string' || cardNumber.length === 0) {\n        return;\n      }\n\n      // allow dashes in card\n      cardNumber = cardNumber.replace(/[\\-]/g, '');\n\n      // verify card types\n      if(requiredTypes) {\n        $.each(requiredTypes, function(index, type){\n          // verify each card type\n          validation = cards[type];\n          if(validation) {\n            valid = {\n              length  : ($.inArray(cardNumber.length, validation.length) !== -1),\n              pattern : (cardNumber.search(validation.pattern) !== -1)\n            };\n            if(valid.length && valid.pattern) {\n              validCard = true;\n            }\n          }\n        });\n\n        if(!validCard) {\n          return false;\n        }\n      }\n\n      // skip luhn for UnionPay\n      unionPay = {\n        number  : ($.inArray(cardNumber.length, cards.unionPay.length) !== -1),\n        pattern : (cardNumber.search(cards.unionPay.pattern) !== -1)\n      };\n      if(unionPay.number && unionPay.pattern) {\n        return true;\n      }\n\n      // verify luhn, adapted from  <https://gist.github.com/2134376>\n      var\n        length        = cardNumber.length,\n        multiple      = 0,\n        producedValue = [\n          [0, 1, 2, 3, 4, 5, 6, 7, 8, 9],\n          [0, 2, 4, 6, 8, 1, 3, 5, 7, 9]\n        ],\n        sum           = 0\n      ;\n      while (length--) {\n        sum += producedValue[multiple][parseInt(cardNumber.charAt(length), 10)];\n        multiple ^= 1;\n      }\n      return (sum % 10 === 0 && sum > 0);\n    },\n\n    minCount: function(value, minCount) {\n      if(minCount == 0) {\n        return true;\n      }\n      if(minCount == 1) {\n        return (value !== '');\n      }\n      return (value.split(',').length >= minCount);\n    },\n\n    exactCount: function(value, exactCount) {\n      if(exactCount == 0) {\n        return (value === '');\n      }\n      if(exactCount == 1) {\n        return (value !== '' && value.search(',') === -1);\n      }\n      return (value.split(',').length == exactCount);\n    },\n\n    maxCount: function(value, maxCount) {\n      if(maxCount == 0) {\n        return false;\n      }\n      if(maxCount == 1) {\n        return (value.search(',') === -1);\n      }\n      return (value.split(',').length <= maxCount);\n    }\n  }\n\n};\n\n})( jQuery, window, document );\n","/*!\n * # Semantic UI - Visibility\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.visibility = function(parameters) {\n  var\n    $allModules    = $(this),\n    moduleSelector = $allModules.selector || '',\n\n    time           = new Date().getTime(),\n    performance    = [],\n\n    query          = arguments[0],\n    methodInvoked  = (typeof query == 'string'),\n    queryArguments = [].slice.call(arguments, 1),\n    returnedValue,\n\n    moduleCount    = $allModules.length,\n    loadedCount    = 0\n  ;\n\n  $allModules\n    .each(function() {\n      var\n        settings        = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.visibility.settings, parameters)\n          : $.extend({}, $.fn.visibility.settings),\n\n        className       = settings.className,\n        namespace       = settings.namespace,\n        error           = settings.error,\n        metadata        = settings.metadata,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n\n        $window         = $(window),\n\n        $module         = $(this),\n        $context        = $(settings.context),\n\n        $placeholder,\n\n        selector        = $module.selector || '',\n        instance        = $module.data(moduleNamespace),\n\n        requestAnimationFrame = window.requestAnimationFrame\n          || window.mozRequestAnimationFrame\n          || window.webkitRequestAnimationFrame\n          || window.msRequestAnimationFrame\n          || function(callback) { setTimeout(callback, 0); },\n\n        element         = this,\n        disabled        = false,\n\n        contextObserver,\n        observer,\n        module\n      ;\n\n      module = {\n\n        initialize: function() {\n          module.debug('Initializing', settings);\n\n          module.setup.cache();\n\n          if( module.should.trackChanges() ) {\n\n            if(settings.type == 'image') {\n              module.setup.image();\n            }\n            if(settings.type == 'fixed') {\n              module.setup.fixed();\n            }\n\n            if(settings.observeChanges) {\n              module.observeChanges();\n            }\n            module.bind.events();\n          }\n\n          module.save.position();\n          if( !module.is.visible() ) {\n            module.error(error.visible, $module);\n          }\n\n          if(settings.initialCheck) {\n            module.checkVisibility();\n          }\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.debug('Storing instance', module);\n          $module\n            .data(moduleNamespace, module)\n          ;\n          instance = module;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous module');\n          if(observer) {\n            observer.disconnect();\n          }\n          if(contextObserver) {\n            contextObserver.disconnect();\n          }\n          $window\n            .off('load'   + eventNamespace, module.event.load)\n            .off('resize' + eventNamespace, module.event.resize)\n          ;\n          $context\n            .off('scroll'       + eventNamespace, module.event.scroll)\n            .off('scrollchange' + eventNamespace, module.event.scrollchange)\n          ;\n          if(settings.type == 'fixed') {\n            module.resetFixed();\n            module.remove.placeholder();\n          }\n          $module\n            .off(eventNamespace)\n            .removeData(moduleNamespace)\n          ;\n        },\n\n        observeChanges: function() {\n          if('MutationObserver' in window) {\n            contextObserver = new MutationObserver(module.event.contextChanged);\n            observer        = new MutationObserver(module.event.changed);\n            contextObserver.observe(document, {\n              childList : true,\n              subtree   : true\n            });\n            observer.observe(element, {\n              childList : true,\n              subtree   : true\n            });\n            module.debug('Setting up mutation observer', observer);\n          }\n        },\n\n        bind: {\n          events: function() {\n            module.verbose('Binding visibility events to scroll and resize');\n            if(settings.refreshOnLoad) {\n              $window\n                .on('load'   + eventNamespace, module.event.load)\n              ;\n            }\n            $window\n              .on('resize' + eventNamespace, module.event.resize)\n            ;\n            // pub/sub pattern\n            $context\n              .off('scroll'      + eventNamespace)\n              .on('scroll'       + eventNamespace, module.event.scroll)\n              .on('scrollchange' + eventNamespace, module.event.scrollchange)\n            ;\n          }\n        },\n\n        event: {\n          changed: function(mutations) {\n            module.verbose('DOM tree modified, updating visibility calculations');\n            module.timer = setTimeout(function() {\n              module.verbose('DOM tree modified, updating sticky menu');\n              module.refresh();\n            }, 100);\n          },\n          contextChanged: function(mutations) {\n            [].forEach.call(mutations, function(mutation) {\n              if(mutation.removedNodes) {\n                [].forEach.call(mutation.removedNodes, function(node) {\n                  if(node == element || $(node).find(element).length > 0) {\n                    module.debug('Element removed from DOM, tearing down events');\n                    module.destroy();\n                  }\n                });\n              }\n            });\n          },\n          resize: function() {\n            module.debug('Window resized');\n            if(settings.refreshOnResize) {\n              requestAnimationFrame(module.refresh);\n            }\n          },\n          load: function() {\n            module.debug('Page finished loading');\n            requestAnimationFrame(module.refresh);\n          },\n          // publishes scrollchange event on one scroll\n          scroll: function() {\n            if(settings.throttle) {\n              clearTimeout(module.timer);\n              module.timer = setTimeout(function() {\n                $context.triggerHandler('scrollchange' + eventNamespace, [ $context.scrollTop() ]);\n              }, settings.throttle);\n            }\n            else {\n              requestAnimationFrame(function() {\n                $context.triggerHandler('scrollchange' + eventNamespace, [ $context.scrollTop() ]);\n              });\n            }\n          },\n          // subscribes to scrollchange\n          scrollchange: function(event, scrollPosition) {\n            module.checkVisibility(scrollPosition);\n          },\n        },\n\n        precache: function(images, callback) {\n          if (!(images instanceof Array)) {\n            images = [images];\n          }\n          var\n            imagesLength  = images.length,\n            loadedCounter = 0,\n            cache         = [],\n            cacheImage    = document.createElement('img'),\n            handleLoad    = function() {\n              loadedCounter++;\n              if (loadedCounter >= images.length) {\n                if ($.isFunction(callback)) {\n                  callback();\n                }\n              }\n            }\n          ;\n          while (imagesLength--) {\n            cacheImage         = document.createElement('img');\n            cacheImage.onload  = handleLoad;\n            cacheImage.onerror = handleLoad;\n            cacheImage.src     = images[imagesLength];\n            cache.push(cacheImage);\n          }\n        },\n\n        enableCallbacks: function() {\n          module.debug('Allowing callbacks to occur');\n          disabled = false;\n        },\n\n        disableCallbacks: function() {\n          module.debug('Disabling all callbacks temporarily');\n          disabled = true;\n        },\n\n        should: {\n          trackChanges: function() {\n            if(methodInvoked) {\n              module.debug('One time query, no need to bind events');\n              return false;\n            }\n            module.debug('Callbacks being attached');\n            return true;\n          }\n        },\n\n        setup: {\n          cache: function() {\n            module.cache = {\n              occurred : {},\n              screen   : {},\n              element  : {},\n            };\n          },\n          image: function() {\n            var\n              src = $module.data(metadata.src)\n            ;\n            if(src) {\n              module.verbose('Lazy loading image', src);\n              settings.once           = true;\n              settings.observeChanges = false;\n\n              // show when top visible\n              settings.onOnScreen = function() {\n                module.debug('Image on screen', element);\n                module.precache(src, function() {\n                  module.set.image(src, function() {\n                    loadedCount++;\n                    if(loadedCount == moduleCount) {\n                      settings.onAllLoaded.call(this);\n                    }\n                    settings.onLoad.call(this);\n                  });\n                });\n              };\n            }\n          },\n          fixed: function() {\n            module.debug('Setting up fixed');\n            settings.once           = false;\n            settings.observeChanges = false;\n            settings.initialCheck   = true;\n            settings.refreshOnLoad  = true;\n            if(!parameters.transition) {\n              settings.transition = false;\n            }\n            module.create.placeholder();\n            module.debug('Added placeholder', $placeholder);\n            settings.onTopPassed = function() {\n              module.debug('Element passed, adding fixed position', $module);\n              module.show.placeholder();\n              module.set.fixed();\n              if(settings.transition) {\n                if($.fn.transition !== undefined) {\n                  $module.transition(settings.transition, settings.duration);\n                }\n              }\n            };\n            settings.onTopPassedReverse = function() {\n              module.debug('Element returned to position, removing fixed', $module);\n              module.hide.placeholder();\n              module.remove.fixed();\n            };\n          }\n        },\n\n        create: {\n          placeholder: function() {\n            module.verbose('Creating fixed position placeholder');\n            $placeholder = $module\n              .clone(false)\n              .css('display', 'none')\n              .addClass(className.placeholder)\n              .insertAfter($module)\n            ;\n          }\n        },\n\n        show: {\n          placeholder: function() {\n            module.verbose('Showing placeholder');\n            $placeholder\n              .css('display', 'block')\n              .css('visibility', 'hidden')\n            ;\n          }\n        },\n        hide: {\n          placeholder: function() {\n            module.verbose('Hiding placeholder');\n            $placeholder\n              .css('display', 'none')\n              .css('visibility', '')\n            ;\n          }\n        },\n\n        set: {\n          fixed: function() {\n            module.verbose('Setting element to fixed position');\n            $module\n              .addClass(className.fixed)\n              .css({\n                position : 'fixed',\n                top      : settings.offset + 'px',\n                left     : 'auto',\n                zIndex   : settings.zIndex\n              })\n            ;\n            settings.onFixed.call(element);\n          },\n          image: function(src, callback) {\n            $module\n              .attr('src', src)\n            ;\n            if(settings.transition) {\n              if( $.fn.transition !== undefined) {\n                if($module.hasClass(className.visible)) {\n                  module.debug('Transition already occurred on this image, skipping animation');\n                  return;\n                }\n                $module.transition(settings.transition, settings.duration, callback);\n              }\n              else {\n                $module.fadeIn(settings.duration, callback);\n              }\n            }\n            else {\n              $module.show();\n            }\n          }\n        },\n\n        is: {\n          onScreen: function() {\n            var\n              calculations   = module.get.elementCalculations()\n            ;\n            return calculations.onScreen;\n          },\n          offScreen: function() {\n            var\n              calculations   = module.get.elementCalculations()\n            ;\n            return calculations.offScreen;\n          },\n          visible: function() {\n            if(module.cache && module.cache.element) {\n              return !(module.cache.element.width === 0 && module.cache.element.offset.top === 0);\n            }\n            return false;\n          },\n          verticallyScrollableContext: function() {\n            var\n              overflowY = ($context.get(0) !== window)\n                ? $context.css('overflow-y')\n                : false\n            ;\n            return (overflowY == 'auto' || overflowY == 'scroll');\n          },\n          horizontallyScrollableContext: function() {\n            var\n              overflowX = ($context.get(0) !== window)\n                ? $context.css('overflow-x')\n                : false\n            ;\n            return (overflowX == 'auto' || overflowX == 'scroll');\n          }\n        },\n\n        refresh: function() {\n          module.debug('Refreshing constants (width/height)');\n          if(settings.type == 'fixed') {\n            module.resetFixed();\n          }\n          module.reset();\n          module.save.position();\n          if(settings.checkOnRefresh) {\n            module.checkVisibility();\n          }\n          settings.onRefresh.call(element);\n        },\n\n        resetFixed: function () {\n          module.remove.fixed();\n          module.remove.occurred();\n        },\n\n        reset: function() {\n          module.verbose('Resetting all cached values');\n          if( $.isPlainObject(module.cache) ) {\n            module.cache.screen = {};\n            module.cache.element = {};\n          }\n        },\n\n        checkVisibility: function(scroll) {\n          module.verbose('Checking visibility of element', module.cache.element);\n\n          if( !disabled && module.is.visible() ) {\n\n            // save scroll position\n            module.save.scroll(scroll);\n\n            // update calculations derived from scroll\n            module.save.calculations();\n\n            // percentage\n            module.passed();\n\n            // reverse (must be first)\n            module.passingReverse();\n            module.topVisibleReverse();\n            module.bottomVisibleReverse();\n            module.topPassedReverse();\n            module.bottomPassedReverse();\n\n            // one time\n            module.onScreen();\n            module.offScreen();\n            module.passing();\n            module.topVisible();\n            module.bottomVisible();\n            module.topPassed();\n            module.bottomPassed();\n\n            // on update callback\n            if(settings.onUpdate) {\n              settings.onUpdate.call(element, module.get.elementCalculations());\n            }\n          }\n        },\n\n        passed: function(amount, newCallback) {\n          var\n            calculations   = module.get.elementCalculations(),\n            amountInPixels\n          ;\n          // assign callback\n          if(amount && newCallback) {\n            settings.onPassed[amount] = newCallback;\n          }\n          else if(amount !== undefined) {\n            return (module.get.pixelsPassed(amount) > calculations.pixelsPassed);\n          }\n          else if(calculations.passing) {\n            $.each(settings.onPassed, function(amount, callback) {\n              if(calculations.bottomVisible || calculations.pixelsPassed > module.get.pixelsPassed(amount)) {\n                module.execute(callback, amount);\n              }\n              else if(!settings.once) {\n                module.remove.occurred(callback);\n              }\n            });\n          }\n        },\n\n        onScreen: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onOnScreen,\n            callbackName = 'onScreen'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for onScreen', newCallback);\n            settings.onOnScreen = newCallback;\n          }\n          if(calculations.onScreen) {\n            module.execute(callback, callbackName);\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback !== undefined) {\n            return calculations.onOnScreen;\n          }\n        },\n\n        offScreen: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onOffScreen,\n            callbackName = 'offScreen'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for offScreen', newCallback);\n            settings.onOffScreen = newCallback;\n          }\n          if(calculations.offScreen) {\n            module.execute(callback, callbackName);\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback !== undefined) {\n            return calculations.onOffScreen;\n          }\n        },\n\n        passing: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onPassing,\n            callbackName = 'passing'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for passing', newCallback);\n            settings.onPassing = newCallback;\n          }\n          if(calculations.passing) {\n            module.execute(callback, callbackName);\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback !== undefined) {\n            return calculations.passing;\n          }\n        },\n\n\n        topVisible: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onTopVisible,\n            callbackName = 'topVisible'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for top visible', newCallback);\n            settings.onTopVisible = newCallback;\n          }\n          if(calculations.topVisible) {\n            module.execute(callback, callbackName);\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback === undefined) {\n            return calculations.topVisible;\n          }\n        },\n\n        bottomVisible: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onBottomVisible,\n            callbackName = 'bottomVisible'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for bottom visible', newCallback);\n            settings.onBottomVisible = newCallback;\n          }\n          if(calculations.bottomVisible) {\n            module.execute(callback, callbackName);\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback === undefined) {\n            return calculations.bottomVisible;\n          }\n        },\n\n        topPassed: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onTopPassed,\n            callbackName = 'topPassed'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for top passed', newCallback);\n            settings.onTopPassed = newCallback;\n          }\n          if(calculations.topPassed) {\n            module.execute(callback, callbackName);\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback === undefined) {\n            return calculations.topPassed;\n          }\n        },\n\n        bottomPassed: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onBottomPassed,\n            callbackName = 'bottomPassed'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for bottom passed', newCallback);\n            settings.onBottomPassed = newCallback;\n          }\n          if(calculations.bottomPassed) {\n            module.execute(callback, callbackName);\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback === undefined) {\n            return calculations.bottomPassed;\n          }\n        },\n\n        passingReverse: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onPassingReverse,\n            callbackName = 'passingReverse'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for passing reverse', newCallback);\n            settings.onPassingReverse = newCallback;\n          }\n          if(!calculations.passing) {\n            if(module.get.occurred('passing')) {\n              module.execute(callback, callbackName);\n            }\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback !== undefined) {\n            return !calculations.passing;\n          }\n        },\n\n\n        topVisibleReverse: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onTopVisibleReverse,\n            callbackName = 'topVisibleReverse'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for top visible reverse', newCallback);\n            settings.onTopVisibleReverse = newCallback;\n          }\n          if(!calculations.topVisible) {\n            if(module.get.occurred('topVisible')) {\n              module.execute(callback, callbackName);\n            }\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback === undefined) {\n            return !calculations.topVisible;\n          }\n        },\n\n        bottomVisibleReverse: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onBottomVisibleReverse,\n            callbackName = 'bottomVisibleReverse'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for bottom visible reverse', newCallback);\n            settings.onBottomVisibleReverse = newCallback;\n          }\n          if(!calculations.bottomVisible) {\n            if(module.get.occurred('bottomVisible')) {\n              module.execute(callback, callbackName);\n            }\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback === undefined) {\n            return !calculations.bottomVisible;\n          }\n        },\n\n        topPassedReverse: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onTopPassedReverse,\n            callbackName = 'topPassedReverse'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for top passed reverse', newCallback);\n            settings.onTopPassedReverse = newCallback;\n          }\n          if(!calculations.topPassed) {\n            if(module.get.occurred('topPassed')) {\n              module.execute(callback, callbackName);\n            }\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback === undefined) {\n            return !calculations.onTopPassed;\n          }\n        },\n\n        bottomPassedReverse: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onBottomPassedReverse,\n            callbackName = 'bottomPassedReverse'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for bottom passed reverse', newCallback);\n            settings.onBottomPassedReverse = newCallback;\n          }\n          if(!calculations.bottomPassed) {\n            if(module.get.occurred('bottomPassed')) {\n              module.execute(callback, callbackName);\n            }\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback === undefined) {\n            return !calculations.bottomPassed;\n          }\n        },\n\n        execute: function(callback, callbackName) {\n          var\n            calculations = module.get.elementCalculations(),\n            screen       = module.get.screenCalculations()\n          ;\n          callback = callback || false;\n          if(callback) {\n            if(settings.continuous) {\n              module.debug('Callback being called continuously', callbackName, calculations);\n              callback.call(element, calculations, screen);\n            }\n            else if(!module.get.occurred(callbackName)) {\n              module.debug('Conditions met', callbackName, calculations);\n              callback.call(element, calculations, screen);\n            }\n          }\n          module.save.occurred(callbackName);\n        },\n\n        remove: {\n          fixed: function() {\n            module.debug('Removing fixed position');\n            $module\n              .removeClass(className.fixed)\n              .css({\n                position : '',\n                top      : '',\n                left     : '',\n                zIndex   : ''\n              })\n            ;\n            settings.onUnfixed.call(element);\n          },\n          placeholder: function() {\n            module.debug('Removing placeholder content');\n            if($placeholder) {\n              $placeholder.remove();\n            }\n          },\n          occurred: function(callback) {\n            if(callback) {\n              var\n                occurred = module.cache.occurred\n              ;\n              if(occurred[callback] !== undefined && occurred[callback] === true) {\n                module.debug('Callback can now be called again', callback);\n                module.cache.occurred[callback] = false;\n              }\n            }\n            else {\n              module.cache.occurred = {};\n            }\n          }\n        },\n\n        save: {\n          calculations: function() {\n            module.verbose('Saving all calculations necessary to determine positioning');\n            module.save.direction();\n            module.save.screenCalculations();\n            module.save.elementCalculations();\n          },\n          occurred: function(callback) {\n            if(callback) {\n              if(module.cache.occurred[callback] === undefined || (module.cache.occurred[callback] !== true)) {\n                module.verbose('Saving callback occurred', callback);\n                module.cache.occurred[callback] = true;\n              }\n            }\n          },\n          scroll: function(scrollPosition) {\n            scrollPosition      = scrollPosition + settings.offset || $context.scrollTop() + settings.offset;\n            module.cache.scroll = scrollPosition;\n          },\n          direction: function() {\n            var\n              scroll     = module.get.scroll(),\n              lastScroll = module.get.lastScroll(),\n              direction\n            ;\n            if(scroll > lastScroll && lastScroll) {\n              direction = 'down';\n            }\n            else if(scroll < lastScroll && lastScroll) {\n              direction = 'up';\n            }\n            else {\n              direction = 'static';\n            }\n            module.cache.direction = direction;\n            return module.cache.direction;\n          },\n          elementPosition: function() {\n            var\n              element = module.cache.element,\n              screen  = module.get.screenSize()\n            ;\n            module.verbose('Saving element position');\n            // (quicker than $.extend)\n            element.fits          = (element.height < screen.height);\n            element.offset        = $module.offset();\n            element.width         = $module.outerWidth();\n            element.height        = $module.outerHeight();\n            // compensate for scroll in context\n            if(module.is.verticallyScrollableContext()) {\n              element.offset.top += $context.scrollTop() - $context.offset().top;\n            }\n            if(module.is.horizontallyScrollableContext()) {\n              element.offset.left += $context.scrollLeft - $context.offset().left;\n            }\n            // store\n            module.cache.element = element;\n            return element;\n          },\n          elementCalculations: function() {\n            var\n              screen     = module.get.screenCalculations(),\n              element    = module.get.elementPosition()\n            ;\n            // offset\n            if(settings.includeMargin) {\n              element.margin        = {};\n              element.margin.top    = parseInt($module.css('margin-top'), 10);\n              element.margin.bottom = parseInt($module.css('margin-bottom'), 10);\n              element.top    = element.offset.top - element.margin.top;\n              element.bottom = element.offset.top + element.height + element.margin.bottom;\n            }\n            else {\n              element.top    = element.offset.top;\n              element.bottom = element.offset.top + element.height;\n            }\n\n            // visibility\n            element.topPassed        = (screen.top >= element.top);\n            element.bottomPassed     = (screen.top >= element.bottom);\n            element.topVisible       = (screen.bottom >= element.top) && !element.topPassed;\n            element.bottomVisible    = (screen.bottom >= element.bottom) && !element.bottomPassed;\n            element.pixelsPassed     = 0;\n            element.percentagePassed = 0;\n\n            // meta calculations\n            element.onScreen  = ((element.topVisible || element.passing) && !element.bottomPassed);\n            element.passing   = (element.topPassed && !element.bottomPassed);\n            element.offScreen = (!element.onScreen);\n\n            // passing calculations\n            if(element.passing) {\n              element.pixelsPassed     = (screen.top - element.top);\n              element.percentagePassed = (screen.top - element.top) / element.height;\n            }\n            module.cache.element = element;\n            module.verbose('Updated element calculations', element);\n            return element;\n          },\n          screenCalculations: function() {\n            var\n              scroll = module.get.scroll()\n            ;\n            module.save.direction();\n            module.cache.screen.top    = scroll;\n            module.cache.screen.bottom = scroll + module.cache.screen.height;\n            return module.cache.screen;\n          },\n          screenSize: function() {\n            module.verbose('Saving window position');\n            module.cache.screen = {\n              height: $context.height()\n            };\n          },\n          position: function() {\n            module.save.screenSize();\n            module.save.elementPosition();\n          }\n        },\n\n        get: {\n          pixelsPassed: function(amount) {\n            var\n              element = module.get.elementCalculations()\n            ;\n            if(amount.search('%') > -1) {\n              return ( element.height * (parseInt(amount, 10) / 100) );\n            }\n            return parseInt(amount, 10);\n          },\n          occurred: function(callback) {\n            return (module.cache.occurred !== undefined)\n              ? module.cache.occurred[callback] || false\n              : false\n            ;\n          },\n          direction: function() {\n            if(module.cache.direction === undefined) {\n              module.save.direction();\n            }\n            return module.cache.direction;\n          },\n          elementPosition: function() {\n            if(module.cache.element === undefined) {\n              module.save.elementPosition();\n            }\n            return module.cache.element;\n          },\n          elementCalculations: function() {\n            if(module.cache.element === undefined) {\n              module.save.elementCalculations();\n            }\n            return module.cache.element;\n          },\n          screenCalculations: function() {\n            if(module.cache.screen === undefined) {\n              module.save.screenCalculations();\n            }\n            return module.cache.screen;\n          },\n          screenSize: function() {\n            if(module.cache.screen === undefined) {\n              module.save.screenSize();\n            }\n            return module.cache.screen;\n          },\n          scroll: function() {\n            if(module.cache.scroll === undefined) {\n              module.save.scroll();\n            }\n            return module.cache.scroll;\n          },\n          lastScroll: function() {\n            if(module.cache.screen === undefined) {\n              module.debug('First scroll event, no last scroll could be found');\n              return false;\n            }\n            return module.cache.screen.top;\n          }\n        },\n\n        setting: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            settings[name] = value;\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        instance.save.scroll();\n        instance.save.calculations();\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.visibility.settings = {\n\n  name                   : 'Visibility',\n  namespace              : 'visibility',\n\n  debug                  : false,\n  verbose                : false,\n  performance            : true,\n\n  // whether to use mutation observers to follow changes\n  observeChanges         : true,\n\n  // check position immediately on init\n  initialCheck           : true,\n\n  // whether to refresh calculations after all page images load\n  refreshOnLoad          : true,\n\n  // whether to refresh calculations after page resize event\n  refreshOnResize        : true,\n\n  // should call callbacks on refresh event (resize, etc)\n  checkOnRefresh         : true,\n\n  // callback should only occur one time\n  once                   : true,\n\n  // callback should fire continuously whe evaluates to true\n  continuous             : false,\n\n  // offset to use with scroll top\n  offset                 : 0,\n\n  // whether to include margin in elements position\n  includeMargin          : false,\n\n  // scroll context for visibility checks\n  context                : window,\n\n  // visibility check delay in ms (defaults to animationFrame)\n  throttle               : false,\n\n  // special visibility type (image, fixed)\n  type                   : false,\n\n  // z-index to use with visibility 'fixed'\n  zIndex                 : '10',\n\n  // image only animation settings\n  transition             : 'fade in',\n  duration               : 1000,\n\n  // array of callbacks for percentage\n  onPassed               : {},\n\n  // standard callbacks\n  onOnScreen             : false,\n  onOffScreen            : false,\n  onPassing              : false,\n  onTopVisible           : false,\n  onBottomVisible        : false,\n  onTopPassed            : false,\n  onBottomPassed         : false,\n\n  // reverse callbacks\n  onPassingReverse       : false,\n  onTopVisibleReverse    : false,\n  onBottomVisibleReverse : false,\n  onTopPassedReverse     : false,\n  onBottomPassedReverse  : false,\n\n  // special callbacks for image\n  onLoad                 : function() {},\n  onAllLoaded            : function() {},\n\n  // special callbacks for fixed position\n  onFixed                : function() {},\n  onUnfixed              : function() {},\n\n  // utility callbacks\n  onUpdate               : false, // disabled by default for performance\n  onRefresh              : function(){},\n\n  metadata : {\n    src: 'src'\n  },\n\n  className: {\n    fixed       : 'fixed',\n    placeholder : 'placeholder',\n    visible     : 'visible'\n  },\n\n  error : {\n    method  : 'The method you called is not defined.',\n    visible : 'Element is hidden, you must call refresh after element becomes visible'\n  }\n\n};\n\n})( jQuery, window, document );\n","/*!\n * # Semantic UI - Site\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n$.site = $.fn.site = function(parameters) {\n  var\n    time           = new Date().getTime(),\n    performance    = [],\n\n    query          = arguments[0],\n    methodInvoked  = (typeof query == 'string'),\n    queryArguments = [].slice.call(arguments, 1),\n\n    settings        = ( $.isPlainObject(parameters) )\n      ? $.extend(true, {}, $.site.settings, parameters)\n      : $.extend({}, $.site.settings),\n\n    namespace       = settings.namespace,\n    error           = settings.error,\n\n    eventNamespace  = '.' + namespace,\n    moduleNamespace = 'module-' + namespace,\n\n    $document       = $(document),\n    $module         = $document,\n    element         = this,\n    instance        = $module.data(moduleNamespace),\n\n    module,\n    returnedValue\n  ;\n  module = {\n\n    initialize: function() {\n      module.instantiate();\n    },\n\n    instantiate: function() {\n      module.verbose('Storing instance of site', module);\n      instance = module;\n      $module\n        .data(moduleNamespace, module)\n      ;\n    },\n\n    normalize: function() {\n      module.fix.console();\n      module.fix.requestAnimationFrame();\n    },\n\n    fix: {\n      console: function() {\n        module.debug('Normalizing window.console');\n        if (console === undefined || console.log === undefined) {\n          module.verbose('Console not available, normalizing events');\n          module.disable.console();\n        }\n        if (typeof console.group == 'undefined' || typeof console.groupEnd == 'undefined' || typeof console.groupCollapsed == 'undefined') {\n          module.verbose('Console group not available, normalizing events');\n          window.console.group = function() {};\n          window.console.groupEnd = function() {};\n          window.console.groupCollapsed = function() {};\n        }\n        if (typeof console.markTimeline == 'undefined') {\n          module.verbose('Mark timeline not available, normalizing events');\n          window.console.markTimeline = function() {};\n        }\n      },\n      consoleClear: function() {\n        module.debug('Disabling programmatic console clearing');\n        window.console.clear = function() {};\n      },\n      requestAnimationFrame: function() {\n        module.debug('Normalizing requestAnimationFrame');\n        if(window.requestAnimationFrame === undefined) {\n          module.debug('RequestAnimationFrame not available, normalizing event');\n          window.requestAnimationFrame = window.requestAnimationFrame\n            || window.mozRequestAnimationFrame\n            || window.webkitRequestAnimationFrame\n            || window.msRequestAnimationFrame\n            || function(callback) { setTimeout(callback, 0); }\n          ;\n        }\n      }\n    },\n\n    moduleExists: function(name) {\n      return ($.fn[name] !== undefined && $.fn[name].settings !== undefined);\n    },\n\n    enabled: {\n      modules: function(modules) {\n        var\n          enabledModules = []\n        ;\n        modules = modules || settings.modules;\n        $.each(modules, function(index, name) {\n          if(module.moduleExists(name)) {\n            enabledModules.push(name);\n          }\n        });\n        return enabledModules;\n      }\n    },\n\n    disabled: {\n      modules: function(modules) {\n        var\n          disabledModules = []\n        ;\n        modules = modules || settings.modules;\n        $.each(modules, function(index, name) {\n          if(!module.moduleExists(name)) {\n            disabledModules.push(name);\n          }\n        });\n        return disabledModules;\n      }\n    },\n\n    change: {\n      setting: function(setting, value, modules, modifyExisting) {\n        modules = (typeof modules === 'string')\n          ? (modules === 'all')\n            ? settings.modules\n            : [modules]\n          : modules || settings.modules\n        ;\n        modifyExisting = (modifyExisting !== undefined)\n          ? modifyExisting\n          : true\n        ;\n        $.each(modules, function(index, name) {\n          var\n            namespace = (module.moduleExists(name))\n              ? $.fn[name].settings.namespace || false\n              : true,\n            $existingModules\n          ;\n          if(module.moduleExists(name)) {\n            module.verbose('Changing default setting', setting, value, name);\n            $.fn[name].settings[setting] = value;\n            if(modifyExisting && namespace) {\n              $existingModules = $(':data(module-' + namespace + ')');\n              if($existingModules.length > 0) {\n                module.verbose('Modifying existing settings', $existingModules);\n                $existingModules[name]('setting', setting, value);\n              }\n            }\n          }\n        });\n      },\n      settings: function(newSettings, modules, modifyExisting) {\n        modules = (typeof modules === 'string')\n          ? [modules]\n          : modules || settings.modules\n        ;\n        modifyExisting = (modifyExisting !== undefined)\n          ? modifyExisting\n          : true\n        ;\n        $.each(modules, function(index, name) {\n          var\n            $existingModules\n          ;\n          if(module.moduleExists(name)) {\n            module.verbose('Changing default setting', newSettings, name);\n            $.extend(true, $.fn[name].settings, newSettings);\n            if(modifyExisting && namespace) {\n              $existingModules = $(':data(module-' + namespace + ')');\n              if($existingModules.length > 0) {\n                module.verbose('Modifying existing settings', $existingModules);\n                $existingModules[name]('setting', newSettings);\n              }\n            }\n          }\n        });\n      }\n    },\n\n    enable: {\n      console: function() {\n        module.console(true);\n      },\n      debug: function(modules, modifyExisting) {\n        modules = modules || settings.modules;\n        module.debug('Enabling debug for modules', modules);\n        module.change.setting('debug', true, modules, modifyExisting);\n      },\n      verbose: function(modules, modifyExisting) {\n        modules = modules || settings.modules;\n        module.debug('Enabling verbose debug for modules', modules);\n        module.change.setting('verbose', true, modules, modifyExisting);\n      }\n    },\n    disable: {\n      console: function() {\n        module.console(false);\n      },\n      debug: function(modules, modifyExisting) {\n        modules = modules || settings.modules;\n        module.debug('Disabling debug for modules', modules);\n        module.change.setting('debug', false, modules, modifyExisting);\n      },\n      verbose: function(modules, modifyExisting) {\n        modules = modules || settings.modules;\n        module.debug('Disabling verbose debug for modules', modules);\n        module.change.setting('verbose', false, modules, modifyExisting);\n      }\n    },\n\n    console: function(enable) {\n      if(enable) {\n        if(instance.cache.console === undefined) {\n          module.error(error.console);\n          return;\n        }\n        module.debug('Restoring console function');\n        window.console = instance.cache.console;\n      }\n      else {\n        module.debug('Disabling console function');\n        instance.cache.console = window.console;\n        window.console = {\n          clear          : function(){},\n          error          : function(){},\n          group          : function(){},\n          groupCollapsed : function(){},\n          groupEnd       : function(){},\n          info           : function(){},\n          log            : function(){},\n          markTimeline   : function(){},\n          warn           : function(){}\n        };\n      }\n    },\n\n    destroy: function() {\n      module.verbose('Destroying previous site for', $module);\n      $module\n        .removeData(moduleNamespace)\n      ;\n    },\n\n    cache: {},\n\n    setting: function(name, value) {\n      if( $.isPlainObject(name) ) {\n        $.extend(true, settings, name);\n      }\n      else if(value !== undefined) {\n        settings[name] = value;\n      }\n      else {\n        return settings[name];\n      }\n    },\n    internal: function(name, value) {\n      if( $.isPlainObject(name) ) {\n        $.extend(true, module, name);\n      }\n      else if(value !== undefined) {\n        module[name] = value;\n      }\n      else {\n        return module[name];\n      }\n    },\n    debug: function() {\n      if(settings.debug) {\n        if(settings.performance) {\n          module.performance.log(arguments);\n        }\n        else {\n          module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n          module.debug.apply(console, arguments);\n        }\n      }\n    },\n    verbose: function() {\n      if(settings.verbose && settings.debug) {\n        if(settings.performance) {\n          module.performance.log(arguments);\n        }\n        else {\n          module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n          module.verbose.apply(console, arguments);\n        }\n      }\n    },\n    error: function() {\n      module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n      module.error.apply(console, arguments);\n    },\n    performance: {\n      log: function(message) {\n        var\n          currentTime,\n          executionTime,\n          previousTime\n        ;\n        if(settings.performance) {\n          currentTime   = new Date().getTime();\n          previousTime  = time || currentTime;\n          executionTime = currentTime - previousTime;\n          time          = currentTime;\n          performance.push({\n            'Element'        : element,\n            'Name'           : message[0],\n            'Arguments'      : [].slice.call(message, 1) || '',\n            'Execution Time' : executionTime\n          });\n        }\n        clearTimeout(module.performance.timer);\n        module.performance.timer = setTimeout(module.performance.display, 500);\n      },\n      display: function() {\n        var\n          title = settings.name + ':',\n          totalTime = 0\n        ;\n        time = false;\n        clearTimeout(module.performance.timer);\n        $.each(performance, function(index, data) {\n          totalTime += data['Execution Time'];\n        });\n        title += ' ' + totalTime + 'ms';\n        if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n          console.groupCollapsed(title);\n          if(console.table) {\n            console.table(performance);\n          }\n          else {\n            $.each(performance, function(index, data) {\n              console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n            });\n          }\n          console.groupEnd();\n        }\n        performance = [];\n      }\n    },\n    invoke: function(query, passedArguments, context) {\n      var\n        object = instance,\n        maxDepth,\n        found,\n        response\n      ;\n      passedArguments = passedArguments || queryArguments;\n      context         = element         || context;\n      if(typeof query == 'string' && object !== undefined) {\n        query    = query.split(/[\\. ]/);\n        maxDepth = query.length - 1;\n        $.each(query, function(depth, value) {\n          var camelCaseValue = (depth != maxDepth)\n            ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n            : query\n          ;\n          if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n            object = object[camelCaseValue];\n          }\n          else if( object[camelCaseValue] !== undefined ) {\n            found = object[camelCaseValue];\n            return false;\n          }\n          else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n            object = object[value];\n          }\n          else if( object[value] !== undefined ) {\n            found = object[value];\n            return false;\n          }\n          else {\n            module.error(error.method, query);\n            return false;\n          }\n        });\n      }\n      if ( $.isFunction( found ) ) {\n        response = found.apply(context, passedArguments);\n      }\n      else if(found !== undefined) {\n        response = found;\n      }\n      if($.isArray(returnedValue)) {\n        returnedValue.push(response);\n      }\n      else if(returnedValue !== undefined) {\n        returnedValue = [returnedValue, response];\n      }\n      else if(response !== undefined) {\n        returnedValue = response;\n      }\n      return found;\n    }\n  };\n\n  if(methodInvoked) {\n    if(instance === undefined) {\n      module.initialize();\n    }\n    module.invoke(query);\n  }\n  else {\n    if(instance !== undefined) {\n      module.destroy();\n    }\n    module.initialize();\n  }\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.site.settings = {\n\n  name        : 'Site',\n  namespace   : 'site',\n\n  error : {\n    console : 'Console cannot be restored, most likely it was overwritten outside of module',\n    method : 'The method you called is not defined.'\n  },\n\n  debug       : false,\n  verbose     : false,\n  performance : true,\n\n  modules: [\n    'accordion',\n    'api',\n    'checkbox',\n    'dimmer',\n    'dropdown',\n    'embed',\n    'form',\n    'modal',\n    'nag',\n    'popup',\n    'rating',\n    'shape',\n    'sidebar',\n    'state',\n    'sticky',\n    'tab',\n    'transition',\n    'visit',\n    'visibility'\n  ],\n\n  siteNamespace   : 'site',\n  namespaceStub   : {\n    cache     : {},\n    config    : {},\n    sections  : {},\n    section   : {},\n    utilities : {}\n  }\n\n};\n\n// allows for selection of elements with data attributes\n$.extend($.expr[ \":\" ], {\n  data: ($.expr.createPseudo)\n    ? $.expr.createPseudo(function(dataName) {\n        return function(elem) {\n          return !!$.data(elem, dataName);\n        };\n      })\n    : function(elem, i, match) {\n      // support: jQuery < 1.8\n      return !!$.data(elem, match[ 3 ]);\n    }\n});\n\n\n})( jQuery, window, document );\n","/*!\n * # Semantic UI - Accordion\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.accordion = function(parameters) {\n  var\n    $allModules     = $(this),\n\n    time            = new Date().getTime(),\n    performance     = [],\n\n    query           = arguments[0],\n    methodInvoked   = (typeof query == 'string'),\n    queryArguments  = [].slice.call(arguments, 1),\n\n    requestAnimationFrame = window.requestAnimationFrame\n      || window.mozRequestAnimationFrame\n      || window.webkitRequestAnimationFrame\n      || window.msRequestAnimationFrame\n      || function(callback) { setTimeout(callback, 0); },\n\n    returnedValue\n  ;\n  $allModules\n    .each(function() {\n      var\n        settings        = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.accordion.settings, parameters)\n          : $.extend({}, $.fn.accordion.settings),\n\n        className       = settings.className,\n        namespace       = settings.namespace,\n        selector        = settings.selector,\n        error           = settings.error,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n        moduleSelector  = $allModules.selector || '',\n\n        $module  = $(this),\n        $title   = $module.find(selector.title),\n        $content = $module.find(selector.content),\n\n        element  = this,\n        instance = $module.data(moduleNamespace),\n        observer,\n        module\n      ;\n\n      module = {\n\n        initialize: function() {\n          module.debug('Initializing', $module);\n          module.bind.events();\n          if(settings.observeChanges) {\n            module.observeChanges();\n          }\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n\n        destroy: function() {\n          module.debug('Destroying previous instance', $module);\n          $module\n            .off(eventNamespace)\n            .removeData(moduleNamespace)\n          ;\n        },\n\n        refresh: function() {\n          $title   = $module.find(selector.title);\n          $content = $module.find(selector.content);\n        },\n\n        observeChanges: function() {\n          if('MutationObserver' in window) {\n            observer = new MutationObserver(function(mutations) {\n              module.debug('DOM tree modified, updating selector cache');\n              module.refresh();\n            });\n            observer.observe(element, {\n              childList : true,\n              subtree   : true\n            });\n            module.debug('Setting up mutation observer', observer);\n          }\n        },\n\n        bind: {\n          events: function() {\n            module.debug('Binding delegated events');\n            $module\n              .on(settings.on + eventNamespace, selector.trigger, module.event.click)\n            ;\n          }\n        },\n\n        event: {\n          click: function() {\n            module.toggle.call(this);\n          }\n        },\n\n        toggle: function(query) {\n          var\n            $activeTitle = (query !== undefined)\n              ? (typeof query === 'number')\n                ? $title.eq(query)\n                : $(query).closest(selector.title)\n              : $(this).closest(selector.title),\n            $activeContent = $activeTitle.next($content),\n            isAnimating = $activeContent.hasClass(className.animating),\n            isActive    = $activeContent.hasClass(className.active),\n            isOpen      = (isActive && !isAnimating),\n            isOpening   = (!isActive && isAnimating)\n          ;\n          module.debug('Toggling visibility of content', $activeTitle);\n          if(isOpen || isOpening) {\n            if(settings.collapsible) {\n              module.close.call($activeTitle);\n            }\n            else {\n              module.debug('Cannot close accordion content collapsing is disabled');\n            }\n          }\n          else {\n            module.open.call($activeTitle);\n          }\n        },\n\n        open: function(query) {\n          var\n            $activeTitle = (query !== undefined)\n              ? (typeof query === 'number')\n                ? $title.eq(query)\n                : $(query).closest(selector.title)\n              : $(this).closest(selector.title),\n            $activeContent = $activeTitle.next($content),\n            isAnimating = $activeContent.hasClass(className.animating),\n            isActive    = $activeContent.hasClass(className.active),\n            isOpen      = (isActive || isAnimating)\n          ;\n          if(isOpen) {\n            module.debug('Accordion already open, skipping', $activeContent);\n            return;\n          }\n          module.debug('Opening accordion content', $activeTitle);\n          settings.onOpening.call($activeContent);\n          settings.onChanging.call($activeContent);\n          if(settings.exclusive) {\n            module.closeOthers.call($activeTitle);\n          }\n          $activeTitle\n            .addClass(className.active)\n          ;\n          $activeContent\n            .stop(true, true)\n            .addClass(className.animating)\n          ;\n          if(settings.animateChildren) {\n            if($.fn.transition !== undefined && $module.transition('is supported')) {\n              $activeContent\n                .children()\n                  .transition({\n                    animation   : 'fade in',\n                    queue       : false,\n                    useFailSafe : true,\n                    debug       : settings.debug,\n                    verbose     : settings.verbose,\n                    duration    : settings.duration\n                  })\n              ;\n            }\n            else {\n              $activeContent\n                .children()\n                  .stop(true, true)\n                  .animate({\n                    opacity: 1\n                  }, settings.duration, module.resetOpacity)\n              ;\n            }\n          }\n          $activeContent\n            .slideDown(settings.duration, settings.easing, function() {\n              $activeContent\n                .removeClass(className.animating)\n                .addClass(className.active)\n              ;\n              module.reset.display.call(this);\n              settings.onOpen.call(this);\n              settings.onChange.call(this);\n            })\n          ;\n        },\n\n        close: function(query) {\n          var\n            $activeTitle = (query !== undefined)\n              ? (typeof query === 'number')\n                ? $title.eq(query)\n                : $(query).closest(selector.title)\n              : $(this).closest(selector.title),\n            $activeContent = $activeTitle.next($content),\n            isAnimating    = $activeContent.hasClass(className.animating),\n            isActive       = $activeContent.hasClass(className.active),\n            isOpening      = (!isActive && isAnimating),\n            isClosing      = (isActive && isAnimating)\n          ;\n          if((isActive || isOpening) && !isClosing) {\n            module.debug('Closing accordion content', $activeContent);\n            settings.onClosing.call($activeContent);\n            settings.onChanging.call($activeContent);\n            $activeTitle\n              .removeClass(className.active)\n            ;\n            $activeContent\n              .stop(true, true)\n              .addClass(className.animating)\n            ;\n            if(settings.animateChildren) {\n              if($.fn.transition !== undefined && $module.transition('is supported')) {\n                $activeContent\n                  .children()\n                    .transition({\n                      animation   : 'fade out',\n                      queue       : false,\n                      useFailSafe : true,\n                      debug       : settings.debug,\n                      verbose     : settings.verbose,\n                      duration    : settings.duration\n                    })\n                ;\n              }\n              else {\n                $activeContent\n                  .children()\n                    .stop(true, true)\n                    .animate({\n                      opacity: 0\n                    }, settings.duration, module.resetOpacity)\n                ;\n              }\n            }\n            $activeContent\n              .slideUp(settings.duration, settings.easing, function() {\n                $activeContent\n                  .removeClass(className.animating)\n                  .removeClass(className.active)\n                ;\n                module.reset.display.call(this);\n                settings.onClose.call(this);\n                settings.onChange.call(this);\n              })\n            ;\n          }\n        },\n\n        closeOthers: function(index) {\n          var\n            $activeTitle = (index !== undefined)\n              ? $title.eq(index)\n              : $(this).closest(selector.title),\n            $parentTitles    = $activeTitle.parents(selector.content).prev(selector.title),\n            $activeAccordion = $activeTitle.closest(selector.accordion),\n            activeSelector   = selector.title + '.' + className.active + ':visible',\n            activeContent    = selector.content + '.' + className.active + ':visible',\n            $openTitles,\n            $nestedTitles,\n            $openContents\n          ;\n          if(settings.closeNested) {\n            $openTitles   = $activeAccordion.find(activeSelector).not($parentTitles);\n            $openContents = $openTitles.next($content);\n          }\n          else {\n            $openTitles   = $activeAccordion.find(activeSelector).not($parentTitles);\n            $nestedTitles = $activeAccordion.find(activeContent).find(activeSelector).not($parentTitles);\n            $openTitles   = $openTitles.not($nestedTitles);\n            $openContents = $openTitles.next($content);\n          }\n          if( ($openTitles.length > 0) ) {\n            module.debug('Exclusive enabled, closing other content', $openTitles);\n            $openTitles\n              .removeClass(className.active)\n            ;\n            $openContents\n              .removeClass(className.animating)\n              .stop(true, true)\n            ;\n            if(settings.animateChildren) {\n              if($.fn.transition !== undefined && $module.transition('is supported')) {\n                $openContents\n                  .children()\n                    .transition({\n                      animation   : 'fade out',\n                      useFailSafe : true,\n                      debug       : settings.debug,\n                      verbose     : settings.verbose,\n                      duration    : settings.duration\n                    })\n                ;\n              }\n              else {\n                $openContents\n                  .children()\n                    .stop(true, true)\n                    .animate({\n                      opacity: 0\n                    }, settings.duration, module.resetOpacity)\n                ;\n              }\n            }\n            $openContents\n              .slideUp(settings.duration , settings.easing, function() {\n                $(this).removeClass(className.active);\n                module.reset.display.call(this);\n              })\n            ;\n          }\n        },\n\n        reset: {\n\n          display: function() {\n            module.verbose('Removing inline display from element', this);\n            $(this).css('display', '');\n            if( $(this).attr('style') === '') {\n              $(this)\n                .attr('style', '')\n                .removeAttr('style')\n              ;\n            }\n          },\n\n          opacity: function() {\n            module.verbose('Removing inline opacity from element', this);\n            $(this).css('opacity', '');\n            if( $(this).attr('style') === '') {\n              $(this)\n                .attr('style', '')\n                .removeAttr('style')\n              ;\n            }\n          },\n\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          module.debug('Changing internal', name, value);\n          if(value !== undefined) {\n            if( $.isPlainObject(name) ) {\n              $.extend(true, module, name);\n            }\n            else {\n              module[name] = value;\n            }\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.accordion.settings = {\n\n  name            : 'Accordion',\n  namespace       : 'accordion',\n\n  silent          : false,\n  debug           : false,\n  verbose         : false,\n  performance     : true,\n\n  on              : 'click', // event on title that opens accordion\n\n  observeChanges  : true,  // whether accordion should automatically refresh on DOM insertion\n\n  exclusive       : true,  // whether a single accordion content panel should be open at once\n  collapsible     : true,  // whether accordion content can be closed\n  closeNested     : false, // whether nested content should be closed when a panel is closed\n  animateChildren : true,  // whether children opacity should be animated\n\n  duration        : 350, // duration of animation\n  easing          : 'easeOutQuad', // easing equation for animation\n\n  onOpening       : function(){}, // callback before open animation\n  onClosing       : function(){}, // callback before closing animation\n  onChanging      : function(){}, // callback before closing or opening animation\n\n  onOpen          : function(){}, // callback after open animation\n  onClose         : function(){}, // callback after closing animation\n  onChange        : function(){}, // callback after closing or opening animation\n\n  error: {\n    method : 'The method you called is not defined'\n  },\n\n  className   : {\n    active    : 'active',\n    animating : 'animating'\n  },\n\n  selector    : {\n    accordion : '.accordion',\n    title     : '.title',\n    trigger   : '.title',\n    content   : '.content'\n  }\n\n};\n\n// Adds easing\n$.extend( $.easing, {\n  easeOutQuad: function (x, t, b, c, d) {\n    return -c *(t/=d)*(t-2) + b;\n  }\n});\n\n})( jQuery, window, document );\n\n","/*!\n * # Semantic UI - Checkbox\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.checkbox = function(parameters) {\n  var\n    $allModules    = $(this),\n    moduleSelector = $allModules.selector || '',\n\n    time           = new Date().getTime(),\n    performance    = [],\n\n    query          = arguments[0],\n    methodInvoked  = (typeof query == 'string'),\n    queryArguments = [].slice.call(arguments, 1),\n    returnedValue\n  ;\n\n  $allModules\n    .each(function() {\n      var\n        settings        = $.extend(true, {}, $.fn.checkbox.settings, parameters),\n\n        className       = settings.className,\n        namespace       = settings.namespace,\n        selector        = settings.selector,\n        error           = settings.error,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n\n        $module         = $(this),\n        $label          = $(this).children(selector.label),\n        $input          = $(this).children(selector.input),\n        input           = $input[0],\n\n        initialLoad     = false,\n        shortcutPressed = false,\n        instance        = $module.data(moduleNamespace),\n\n        observer,\n        element         = this,\n        module\n      ;\n\n      module      = {\n\n        initialize: function() {\n          module.verbose('Initializing checkbox', settings);\n\n          module.create.label();\n          module.bind.events();\n\n          module.set.tabbable();\n          module.hide.input();\n\n          module.observeChanges();\n          module.instantiate();\n          module.setup();\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying module');\n          module.unbind.events();\n          module.show.input();\n          $module.removeData(moduleNamespace);\n        },\n\n        fix: {\n          reference: function() {\n            if( $module.is(selector.input) ) {\n              module.debug('Behavior called on <input> adjusting invoked element');\n              $module = $module.closest(selector.checkbox);\n              module.refresh();\n            }\n          }\n        },\n\n        setup: function() {\n          module.set.initialLoad();\n          if( module.is.indeterminate() ) {\n            module.debug('Initial value is indeterminate');\n            module.indeterminate();\n          }\n          else if( module.is.checked() ) {\n            module.debug('Initial value is checked');\n            module.check();\n          }\n          else {\n            module.debug('Initial value is unchecked');\n            module.uncheck();\n          }\n          module.remove.initialLoad();\n        },\n\n        refresh: function() {\n          $label = $module.children(selector.label);\n          $input = $module.children(selector.input);\n          input  = $input[0];\n        },\n\n        hide: {\n          input: function() {\n            module.verbose('Modifying <input> z-index to be unselectable');\n            $input.addClass(className.hidden);\n          }\n        },\n        show: {\n          input: function() {\n            module.verbose('Modifying <input> z-index to be selectable');\n            $input.removeClass(className.hidden);\n          }\n        },\n\n        observeChanges: function() {\n          if('MutationObserver' in window) {\n            observer = new MutationObserver(function(mutations) {\n              module.debug('DOM tree modified, updating selector cache');\n              module.refresh();\n            });\n            observer.observe(element, {\n              childList : true,\n              subtree   : true\n            });\n            module.debug('Setting up mutation observer', observer);\n          }\n        },\n\n        attachEvents: function(selector, event) {\n          var\n            $element = $(selector)\n          ;\n          event = $.isFunction(module[event])\n            ? module[event]\n            : module.toggle\n          ;\n          if($element.length > 0) {\n            module.debug('Attaching checkbox events to element', selector, event);\n            $element\n              .on('click' + eventNamespace, event)\n            ;\n          }\n          else {\n            module.error(error.notFound);\n          }\n        },\n\n        event: {\n          click: function(event) {\n            var\n              $target = $(event.target)\n            ;\n            if( $target.is(selector.input) ) {\n              module.verbose('Using default check action on initialized checkbox');\n              return;\n            }\n            if( $target.is(selector.link) ) {\n              module.debug('Clicking link inside checkbox, skipping toggle');\n              return;\n            }\n            module.toggle();\n            $input.focus();\n            event.preventDefault();\n          },\n          keydown: function(event) {\n            var\n              key     = event.which,\n              keyCode = {\n                enter  : 13,\n                space  : 32,\n                escape : 27\n              }\n            ;\n            if(key == keyCode.escape) {\n              module.verbose('Escape key pressed blurring field');\n              $input.blur();\n              shortcutPressed = true;\n            }\n            else if(!event.ctrlKey && ( key == keyCode.space || key == keyCode.enter) ) {\n              module.verbose('Enter/space key pressed, toggling checkbox');\n              module.toggle();\n              shortcutPressed = true;\n            }\n            else {\n              shortcutPressed = false;\n            }\n          },\n          keyup: function(event) {\n            if(shortcutPressed) {\n              event.preventDefault();\n            }\n          }\n        },\n\n        check: function() {\n          if( !module.should.allowCheck() ) {\n            return;\n          }\n          module.debug('Checking checkbox', $input);\n          module.set.checked();\n          if( !module.should.ignoreCallbacks() ) {\n            settings.onChecked.call(input);\n            settings.onChange.call(input);\n          }\n        },\n\n        uncheck: function() {\n          if( !module.should.allowUncheck() ) {\n            return;\n          }\n          module.debug('Unchecking checkbox');\n          module.set.unchecked();\n          if( !module.should.ignoreCallbacks() ) {\n            settings.onUnchecked.call(input);\n            settings.onChange.call(input);\n          }\n        },\n\n        indeterminate: function() {\n          if( module.should.allowIndeterminate() ) {\n            module.debug('Checkbox is already indeterminate');\n            return;\n          }\n          module.debug('Making checkbox indeterminate');\n          module.set.indeterminate();\n          if( !module.should.ignoreCallbacks() ) {\n            settings.onIndeterminate.call(input);\n            settings.onChange.call(input);\n          }\n        },\n\n        determinate: function() {\n          if( module.should.allowDeterminate() ) {\n            module.debug('Checkbox is already determinate');\n            return;\n          }\n          module.debug('Making checkbox determinate');\n          module.set.determinate();\n          if( !module.should.ignoreCallbacks() ) {\n            settings.onDeterminate.call(input);\n            settings.onChange.call(input);\n          }\n        },\n\n        enable: function() {\n          if( module.is.enabled() ) {\n            module.debug('Checkbox is already enabled');\n            return;\n          }\n          module.debug('Enabling checkbox');\n          module.set.enabled();\n          settings.onEnable.call(input);\n          // preserve legacy callbacks\n          settings.onEnabled.call(input);\n        },\n\n        disable: function() {\n          if( module.is.disabled() ) {\n            module.debug('Checkbox is already disabled');\n            return;\n          }\n          module.debug('Disabling checkbox');\n          module.set.disabled();\n          settings.onDisable.call(input);\n          // preserve legacy callbacks\n          settings.onDisabled.call(input);\n        },\n\n        get: {\n          radios: function() {\n            var\n              name = module.get.name()\n            ;\n            return $('input[name=\"' + name + '\"]').closest(selector.checkbox);\n          },\n          otherRadios: function() {\n            return module.get.radios().not($module);\n          },\n          name: function() {\n            return $input.attr('name');\n          }\n        },\n\n        is: {\n          initialLoad: function() {\n            return initialLoad;\n          },\n          radio: function() {\n            return ($input.hasClass(className.radio) || $input.attr('type') == 'radio');\n          },\n          indeterminate: function() {\n            return $input.prop('indeterminate') !== undefined && $input.prop('indeterminate');\n          },\n          checked: function() {\n            return $input.prop('checked') !== undefined && $input.prop('checked');\n          },\n          disabled: function() {\n            return $input.prop('disabled') !== undefined && $input.prop('disabled');\n          },\n          enabled: function() {\n            return !module.is.disabled();\n          },\n          determinate: function() {\n            return !module.is.indeterminate();\n          },\n          unchecked: function() {\n            return !module.is.checked();\n          }\n        },\n\n        should: {\n          allowCheck: function() {\n            if(module.is.determinate() && module.is.checked() && !module.should.forceCallbacks() ) {\n              module.debug('Should not allow check, checkbox is already checked');\n              return false;\n            }\n            if(settings.beforeChecked.apply(input) === false) {\n              module.debug('Should not allow check, beforeChecked cancelled');\n              return false;\n            }\n            return true;\n          },\n          allowUncheck: function() {\n            if(module.is.determinate() && module.is.unchecked() && !module.should.forceCallbacks() ) {\n              module.debug('Should not allow uncheck, checkbox is already unchecked');\n              return false;\n            }\n            if(settings.beforeUnchecked.apply(input) === false) {\n              module.debug('Should not allow uncheck, beforeUnchecked cancelled');\n              return false;\n            }\n            return true;\n          },\n          allowIndeterminate: function() {\n            if(module.is.indeterminate() && !module.should.forceCallbacks() ) {\n              module.debug('Should not allow indeterminate, checkbox is already indeterminate');\n              return false;\n            }\n            if(settings.beforeIndeterminate.apply(input) === false) {\n              module.debug('Should not allow indeterminate, beforeIndeterminate cancelled');\n              return false;\n            }\n            return true;\n          },\n          allowDeterminate: function() {\n            if(module.is.determinate() && !module.should.forceCallbacks() ) {\n              module.debug('Should not allow determinate, checkbox is already determinate');\n              return false;\n            }\n            if(settings.beforeDeterminate.apply(input) === false) {\n              module.debug('Should not allow determinate, beforeDeterminate cancelled');\n              return false;\n            }\n            return true;\n          },\n          forceCallbacks: function() {\n            return (module.is.initialLoad() && settings.fireOnInit);\n          },\n          ignoreCallbacks: function() {\n            return (initialLoad && !settings.fireOnInit);\n          }\n        },\n\n        can: {\n          change: function() {\n            return !( $module.hasClass(className.disabled) || $module.hasClass(className.readOnly) || $input.prop('disabled') || $input.prop('readonly') );\n          },\n          uncheck: function() {\n            return (typeof settings.uncheckable === 'boolean')\n              ? settings.uncheckable\n              : !module.is.radio()\n            ;\n          }\n        },\n\n        set: {\n          initialLoad: function() {\n            initialLoad = true;\n          },\n          checked: function() {\n            module.verbose('Setting class to checked');\n            $module\n              .removeClass(className.indeterminate)\n              .addClass(className.checked)\n            ;\n            if( module.is.radio() ) {\n              module.uncheckOthers();\n            }\n            if(!module.is.indeterminate() && module.is.checked()) {\n              module.debug('Input is already checked, skipping input property change');\n              return;\n            }\n            module.verbose('Setting state to checked', input);\n            $input\n              .prop('indeterminate', false)\n              .prop('checked', true)\n            ;\n            module.trigger.change();\n          },\n          unchecked: function() {\n            module.verbose('Removing checked class');\n            $module\n              .removeClass(className.indeterminate)\n              .removeClass(className.checked)\n            ;\n            if(!module.is.indeterminate() &&  module.is.unchecked() ) {\n              module.debug('Input is already unchecked');\n              return;\n            }\n            module.debug('Setting state to unchecked');\n            $input\n              .prop('indeterminate', false)\n              .prop('checked', false)\n            ;\n            module.trigger.change();\n          },\n          indeterminate: function() {\n            module.verbose('Setting class to indeterminate');\n            $module\n              .addClass(className.indeterminate)\n            ;\n            if( module.is.indeterminate() ) {\n              module.debug('Input is already indeterminate, skipping input property change');\n              return;\n            }\n            module.debug('Setting state to indeterminate');\n            $input\n              .prop('indeterminate', true)\n            ;\n            module.trigger.change();\n          },\n          determinate: function() {\n            module.verbose('Removing indeterminate class');\n            $module\n              .removeClass(className.indeterminate)\n            ;\n            if( module.is.determinate() ) {\n              module.debug('Input is already determinate, skipping input property change');\n              return;\n            }\n            module.debug('Setting state to determinate');\n            $input\n              .prop('indeterminate', false)\n            ;\n          },\n          disabled: function() {\n            module.verbose('Setting class to disabled');\n            $module\n              .addClass(className.disabled)\n            ;\n            if( module.is.disabled() ) {\n              module.debug('Input is already disabled, skipping input property change');\n              return;\n            }\n            module.debug('Setting state to disabled');\n            $input\n              .prop('disabled', 'disabled')\n            ;\n            module.trigger.change();\n          },\n          enabled: function() {\n            module.verbose('Removing disabled class');\n            $module.removeClass(className.disabled);\n            if( module.is.enabled() ) {\n              module.debug('Input is already enabled, skipping input property change');\n              return;\n            }\n            module.debug('Setting state to enabled');\n            $input\n              .prop('disabled', false)\n            ;\n            module.trigger.change();\n          },\n          tabbable: function() {\n            module.verbose('Adding tabindex to checkbox');\n            if( $input.attr('tabindex') === undefined) {\n              $input.attr('tabindex', 0);\n            }\n          }\n        },\n\n        remove: {\n          initialLoad: function() {\n            initialLoad = false;\n          }\n        },\n\n        trigger: {\n          change: function() {\n            var\n              events       = document.createEvent('HTMLEvents'),\n              inputElement = $input[0]\n            ;\n            if(inputElement) {\n              module.verbose('Triggering native change event');\n              events.initEvent('change', true, false);\n              inputElement.dispatchEvent(events);\n            }\n          }\n        },\n\n\n        create: {\n          label: function() {\n            if($input.prevAll(selector.label).length > 0) {\n              $input.prev(selector.label).detach().insertAfter($input);\n              module.debug('Moving existing label', $label);\n            }\n            else if( !module.has.label() ) {\n              $label = $('<label>').insertAfter($input);\n              module.debug('Creating label', $label);\n            }\n          }\n        },\n\n        has: {\n          label: function() {\n            return ($label.length > 0);\n          }\n        },\n\n        bind: {\n          events: function() {\n            module.verbose('Attaching checkbox events');\n            $module\n              .on('click'   + eventNamespace, module.event.click)\n              .on('keydown' + eventNamespace, selector.input, module.event.keydown)\n              .on('keyup'   + eventNamespace, selector.input, module.event.keyup)\n            ;\n          }\n        },\n\n        unbind: {\n          events: function() {\n            module.debug('Removing events');\n            $module\n              .off(eventNamespace)\n            ;\n          }\n        },\n\n        uncheckOthers: function() {\n          var\n            $radios = module.get.otherRadios()\n          ;\n          module.debug('Unchecking other radios', $radios);\n          $radios.removeClass(className.checked);\n        },\n\n        toggle: function() {\n          if( !module.can.change() ) {\n            if(!module.is.radio()) {\n              module.debug('Checkbox is read-only or disabled, ignoring toggle');\n            }\n            return;\n          }\n          if( module.is.indeterminate() || module.is.unchecked() ) {\n            module.debug('Currently unchecked');\n            module.check();\n          }\n          else if( module.is.checked() && module.can.uncheck() ) {\n            module.debug('Currently checked');\n            module.uncheck();\n          }\n        },\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.checkbox.settings = {\n\n  name                : 'Checkbox',\n  namespace           : 'checkbox',\n\n  silent              : false,\n  debug               : false,\n  verbose             : true,\n  performance         : true,\n\n  // delegated event context\n  uncheckable         : 'auto',\n  fireOnInit          : false,\n\n  onChange            : function(){},\n\n  beforeChecked       : function(){},\n  beforeUnchecked     : function(){},\n  beforeDeterminate   : function(){},\n  beforeIndeterminate : function(){},\n\n  onChecked           : function(){},\n  onUnchecked         : function(){},\n\n  onDeterminate       : function() {},\n  onIndeterminate     : function() {},\n\n  onEnable            : function(){},\n  onDisable           : function(){},\n\n  // preserve misspelled callbacks (will be removed in 3.0)\n  onEnabled           : function(){},\n  onDisabled          : function(){},\n\n  className       : {\n    checked       : 'checked',\n    indeterminate : 'indeterminate',\n    disabled      : 'disabled',\n    hidden        : 'hidden',\n    radio         : 'radio',\n    readOnly      : 'read-only'\n  },\n\n  error     : {\n    method       : 'The method you called is not defined'\n  },\n\n  selector : {\n    checkbox : '.ui.checkbox',\n    label    : 'label, .box',\n    input    : 'input[type=\"checkbox\"], input[type=\"radio\"]',\n    link     : 'a[href]'\n  }\n\n};\n\n})( jQuery, window, document );\n","/*!\n * # Semantic UI - Dimmer\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.dimmer = function(parameters) {\n  var\n    $allModules     = $(this),\n\n    time            = new Date().getTime(),\n    performance     = [],\n\n    query           = arguments[0],\n    methodInvoked   = (typeof query == 'string'),\n    queryArguments  = [].slice.call(arguments, 1),\n\n    returnedValue\n  ;\n\n  $allModules\n    .each(function() {\n      var\n        settings        = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.dimmer.settings, parameters)\n          : $.extend({}, $.fn.dimmer.settings),\n\n        selector        = settings.selector,\n        namespace       = settings.namespace,\n        className       = settings.className,\n        error           = settings.error,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n        moduleSelector  = $allModules.selector || '',\n\n        clickEvent      = ('ontouchstart' in document.documentElement)\n          ? 'touchstart'\n          : 'click',\n\n        $module = $(this),\n        $dimmer,\n        $dimmable,\n\n        element   = this,\n        instance  = $module.data(moduleNamespace),\n        module\n      ;\n\n      module = {\n\n        preinitialize: function() {\n          if( module.is.dimmer() ) {\n\n            $dimmable = $module.parent();\n            $dimmer   = $module;\n          }\n          else {\n            $dimmable = $module;\n            if( module.has.dimmer() ) {\n              if(settings.dimmerName) {\n                $dimmer = $dimmable.find(selector.dimmer).filter('.' + settings.dimmerName);\n              }\n              else {\n                $dimmer = $dimmable.find(selector.dimmer);\n              }\n            }\n            else {\n              $dimmer = module.create();\n            }\n            module.set.variation();\n          }\n        },\n\n        initialize: function() {\n          module.debug('Initializing dimmer', settings);\n\n          module.bind.events();\n          module.set.dimmable();\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, instance)\n          ;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous module', $dimmer);\n          module.unbind.events();\n          module.remove.variation();\n          $dimmable\n            .off(eventNamespace)\n          ;\n        },\n\n        bind: {\n          events: function() {\n            if(module.is.page()) {\n              // touch events default to passive, due to changes in chrome to optimize mobile perf\n              $dimmable.get(0).addEventListener('touchmove', module.event.preventScroll, { passive: false });\n            }\n            if(settings.on == 'hover') {\n              $dimmable\n                .on('mouseenter' + eventNamespace, module.show)\n                .on('mouseleave' + eventNamespace, module.hide)\n              ;\n            }\n            else if(settings.on == 'click') {\n              $dimmable\n                .on(clickEvent + eventNamespace, module.toggle)\n              ;\n            }\n            if( module.is.page() ) {\n              module.debug('Setting as a page dimmer', $dimmable);\n              module.set.pageDimmer();\n            }\n\n            if( module.is.closable() ) {\n              module.verbose('Adding dimmer close event', $dimmer);\n              $dimmable\n                .on(clickEvent + eventNamespace, selector.dimmer, module.event.click)\n              ;\n            }\n          }\n        },\n\n        unbind: {\n          events: function() {\n            if(module.is.page()) {\n              $dimmable.get(0).removeEventListener('touchmove', module.event.preventScroll, { passive: false });\n            }\n            $module\n              .removeData(moduleNamespace)\n            ;\n            $dimmable\n              .off(eventNamespace)\n            ;\n          }\n        },\n\n        event: {\n          click: function(event) {\n            module.verbose('Determining if event occured on dimmer', event);\n            if( $dimmer.find(event.target).length === 0 || $(event.target).is(selector.content) ) {\n              module.hide();\n              event.stopImmediatePropagation();\n            }\n          },\n          preventScroll: function(event) {\n            event.preventDefault();\n          }\n        },\n\n        addContent: function(element) {\n          var\n            $content = $(element)\n          ;\n          module.debug('Add content to dimmer', $content);\n          if($content.parent()[0] !== $dimmer[0]) {\n            $content.detach().appendTo($dimmer);\n          }\n        },\n\n        create: function() {\n          var\n            $element = $( settings.template.dimmer() )\n          ;\n          if(settings.dimmerName) {\n            module.debug('Creating named dimmer', settings.dimmerName);\n            $element.addClass(settings.dimmerName);\n          }\n          $element\n            .appendTo($dimmable)\n          ;\n          return $element;\n        },\n\n        show: function(callback) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          module.debug('Showing dimmer', $dimmer, settings);\n          if( (!module.is.dimmed() || module.is.animating()) && module.is.enabled() ) {\n            module.animate.show(callback);\n            settings.onShow.call(element);\n            settings.onChange.call(element);\n          }\n          else {\n            module.debug('Dimmer is already shown or disabled');\n          }\n        },\n\n        hide: function(callback) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          if( module.is.dimmed() || module.is.animating() ) {\n            module.debug('Hiding dimmer', $dimmer);\n            module.animate.hide(callback);\n            settings.onHide.call(element);\n            settings.onChange.call(element);\n          }\n          else {\n            module.debug('Dimmer is not visible');\n          }\n        },\n\n        toggle: function() {\n          module.verbose('Toggling dimmer visibility', $dimmer);\n          if( !module.is.dimmed() ) {\n            module.show();\n          }\n          else {\n            module.hide();\n          }\n        },\n\n        animate: {\n          show: function(callback) {\n            callback = $.isFunction(callback)\n              ? callback\n              : function(){}\n            ;\n            if(settings.useCSS && $.fn.transition !== undefined && $dimmer.transition('is supported')) {\n              if(settings.opacity !== 'auto') {\n                module.set.opacity();\n              }\n              $dimmer\n                .transition({\n                  displayType : 'flex',\n                  animation   : settings.transition + ' in',\n                  queue       : false,\n                  duration    : module.get.duration(),\n                  useFailSafe : true,\n                  onStart     : function() {\n                    module.set.dimmed();\n                  },\n                  onComplete  : function() {\n                    module.set.active();\n                    callback();\n                  }\n                })\n              ;\n            }\n            else {\n              module.verbose('Showing dimmer animation with javascript');\n              module.set.dimmed();\n              if(settings.opacity == 'auto') {\n                settings.opacity = 0.8;\n              }\n              $dimmer\n                .stop()\n                .css({\n                  opacity : 0,\n                  width   : '100%',\n                  height  : '100%'\n                })\n                .fadeTo(module.get.duration(), settings.opacity, function() {\n                  $dimmer.removeAttr('style');\n                  module.set.active();\n                  callback();\n                })\n              ;\n            }\n          },\n          hide: function(callback) {\n            callback = $.isFunction(callback)\n              ? callback\n              : function(){}\n            ;\n            if(settings.useCSS && $.fn.transition !== undefined && $dimmer.transition('is supported')) {\n              module.verbose('Hiding dimmer with css');\n              $dimmer\n                .transition({\n                  displayType : 'flex',\n                  animation   : settings.transition + ' out',\n                  queue       : false,\n                  duration    : module.get.duration(),\n                  useFailSafe : true,\n                  onStart     : function() {\n                    module.remove.dimmed();\n                  },\n                  onComplete  : function() {\n                    module.remove.active();\n                    callback();\n                  }\n                })\n              ;\n            }\n            else {\n              module.verbose('Hiding dimmer with javascript');\n              module.remove.dimmed();\n              $dimmer\n                .stop()\n                .fadeOut(module.get.duration(), function() {\n                  module.remove.active();\n                  $dimmer.removeAttr('style');\n                  callback();\n                })\n              ;\n            }\n          }\n        },\n\n        get: {\n          dimmer: function() {\n            return $dimmer;\n          },\n          duration: function() {\n            if(typeof settings.duration == 'object') {\n              if( module.is.active() ) {\n                return settings.duration.hide;\n              }\n              else {\n                return settings.duration.show;\n              }\n            }\n            return settings.duration;\n          }\n        },\n\n        has: {\n          dimmer: function() {\n            if(settings.dimmerName) {\n              return ($module.find(selector.dimmer).filter('.' + settings.dimmerName).length > 0);\n            }\n            else {\n              return ( $module.find(selector.dimmer).length > 0 );\n            }\n          }\n        },\n\n        is: {\n          active: function() {\n            return $dimmer.hasClass(className.active);\n          },\n          animating: function() {\n            return ( $dimmer.is(':animated') || $dimmer.hasClass(className.animating) );\n          },\n          closable: function() {\n            if(settings.closable == 'auto') {\n              if(settings.on == 'hover') {\n                return false;\n              }\n              return true;\n            }\n            return settings.closable;\n          },\n          dimmer: function() {\n            return $module.hasClass(className.dimmer);\n          },\n          dimmable: function() {\n            return $module.hasClass(className.dimmable);\n          },\n          dimmed: function() {\n            return $dimmable.hasClass(className.dimmed);\n          },\n          disabled: function() {\n            return $dimmable.hasClass(className.disabled);\n          },\n          enabled: function() {\n            return !module.is.disabled();\n          },\n          page: function () {\n            return $dimmable.is('body');\n          },\n          pageDimmer: function() {\n            return $dimmer.hasClass(className.pageDimmer);\n          }\n        },\n\n        can: {\n          show: function() {\n            return !$dimmer.hasClass(className.disabled);\n          }\n        },\n\n        set: {\n          opacity: function(opacity) {\n            var\n              color      = $dimmer.css('background-color'),\n              colorArray = color.split(','),\n              isRGB      = (colorArray && colorArray.length == 3),\n              isRGBA     = (colorArray && colorArray.length == 4)\n            ;\n            opacity    = settings.opacity === 0 ? 0 : settings.opacity || opacity;\n            if(isRGB || isRGBA) {\n              colorArray[3] = opacity + ')';\n              color         = colorArray.join(',');\n            }\n            else {\n              color = 'rgba(0, 0, 0, ' + opacity + ')';\n            }\n            module.debug('Setting opacity to', opacity);\n            $dimmer.css('background-color', color);\n          },\n          active: function() {\n            $dimmer.addClass(className.active);\n          },\n          dimmable: function() {\n            $dimmable.addClass(className.dimmable);\n          },\n          dimmed: function() {\n            $dimmable.addClass(className.dimmed);\n          },\n          pageDimmer: function() {\n            $dimmer.addClass(className.pageDimmer);\n          },\n          disabled: function() {\n            $dimmer.addClass(className.disabled);\n          },\n          variation: function(variation) {\n            variation = variation || settings.variation;\n            if(variation) {\n              $dimmer.addClass(variation);\n            }\n          }\n        },\n\n        remove: {\n          active: function() {\n            $dimmer\n              .removeClass(className.active)\n            ;\n          },\n          dimmed: function() {\n            $dimmable.removeClass(className.dimmed);\n          },\n          disabled: function() {\n            $dimmer.removeClass(className.disabled);\n          },\n          variation: function(variation) {\n            variation = variation || settings.variation;\n            if(variation) {\n              $dimmer.removeClass(variation);\n            }\n          }\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      module.preinitialize();\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.dimmer.settings = {\n\n  name        : 'Dimmer',\n  namespace   : 'dimmer',\n\n  silent      : false,\n  debug       : false,\n  verbose     : false,\n  performance : true,\n\n  // name to distinguish between multiple dimmers in context\n  dimmerName  : false,\n\n  // whether to add a variation type\n  variation   : false,\n\n  // whether to bind close events\n  closable    : 'auto',\n\n  // whether to use css animations\n  useCSS      : true,\n\n  // css animation to use\n  transition  : 'fade',\n\n  // event to bind to\n  on          : false,\n\n  // overriding opacity value\n  opacity     : 'auto',\n\n  // transition durations\n  duration    : {\n    show : 500,\n    hide : 500\n  },\n\n  onChange    : function(){},\n  onShow      : function(){},\n  onHide      : function(){},\n\n  error   : {\n    method   : 'The method you called is not defined.'\n  },\n\n  className : {\n    active     : 'active',\n    animating  : 'animating',\n    dimmable   : 'dimmable',\n    dimmed     : 'dimmed',\n    dimmer     : 'dimmer',\n    disabled   : 'disabled',\n    hide       : 'hide',\n    pageDimmer : 'page',\n    show       : 'show'\n  },\n\n  selector: {\n    dimmer   : '> .ui.dimmer',\n    content  : '.ui.dimmer > .content, .ui.dimmer > .content > .center'\n  },\n\n  template: {\n    dimmer: function() {\n     return $('<div />').attr('class', 'ui dimmer');\n    }\n  }\n\n};\n\n})( jQuery, window, document );\n","/*!\n * # Semantic UI - Dropdown\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.dropdown = function(parameters) {\n  var\n    $allModules    = $(this),\n    $document      = $(document),\n\n    moduleSelector = $allModules.selector || '',\n\n    hasTouch       = ('ontouchstart' in document.documentElement),\n    time           = new Date().getTime(),\n    performance    = [],\n\n    query          = arguments[0],\n    methodInvoked  = (typeof query == 'string'),\n    queryArguments = [].slice.call(arguments, 1),\n    returnedValue\n  ;\n\n  $allModules\n    .each(function(elementIndex) {\n      var\n        settings          = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.dropdown.settings, parameters)\n          : $.extend({}, $.fn.dropdown.settings),\n\n        className       = settings.className,\n        message         = settings.message,\n        fields          = settings.fields,\n        keys            = settings.keys,\n        metadata        = settings.metadata,\n        namespace       = settings.namespace,\n        regExp          = settings.regExp,\n        selector        = settings.selector,\n        error           = settings.error,\n        templates       = settings.templates,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n\n        $module         = $(this),\n        $context        = $(settings.context),\n        $text           = $module.find(selector.text),\n        $search         = $module.find(selector.search),\n        $sizer          = $module.find(selector.sizer),\n        $input          = $module.find(selector.input),\n        $icon           = $module.find(selector.icon),\n\n        $combo = ($module.prev().find(selector.text).length > 0)\n          ? $module.prev().find(selector.text)\n          : $module.prev(),\n\n        $menu           = $module.children(selector.menu),\n        $item           = $menu.find(selector.item),\n\n        activated       = false,\n        itemActivated   = false,\n        internalChange  = false,\n        element         = this,\n        instance        = $module.data(moduleNamespace),\n\n        initialLoad,\n        pageLostFocus,\n        willRefocus,\n        elementNamespace,\n        id,\n        selectObserver,\n        menuObserver,\n        module\n      ;\n\n      module = {\n\n        initialize: function() {\n          module.debug('Initializing dropdown', settings);\n\n          if( module.is.alreadySetup() ) {\n            module.setup.reference();\n          }\n          else {\n\n            module.setup.layout();\n\n            if(settings.values) {\n              module.change.values(settings.values);\n            }\n\n            module.refreshData();\n\n            module.save.defaults();\n            module.restore.selected();\n\n            module.create.id();\n            module.bind.events();\n\n            module.observeChanges();\n            module.instantiate();\n          }\n\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of dropdown', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous dropdown', $module);\n          module.remove.tabbable();\n          $module\n            .off(eventNamespace)\n            .removeData(moduleNamespace)\n          ;\n          $menu\n            .off(eventNamespace)\n          ;\n          $document\n            .off(elementNamespace)\n          ;\n          module.disconnect.menuObserver();\n          module.disconnect.selectObserver();\n        },\n\n        observeChanges: function() {\n          if('MutationObserver' in window) {\n            selectObserver = new MutationObserver(module.event.select.mutation);\n            menuObserver   = new MutationObserver(module.event.menu.mutation);\n            module.debug('Setting up mutation observer', selectObserver, menuObserver);\n            module.observe.select();\n            module.observe.menu();\n          }\n        },\n\n        disconnect: {\n          menuObserver: function() {\n            if(menuObserver) {\n              menuObserver.disconnect();\n            }\n          },\n          selectObserver: function() {\n            if(selectObserver) {\n              selectObserver.disconnect();\n            }\n          }\n        },\n        observe: {\n          select: function() {\n            if(module.has.input()) {\n              selectObserver.observe($module[0], {\n                childList : true,\n                subtree   : true\n              });\n            }\n          },\n          menu: function() {\n            if(module.has.menu()) {\n              menuObserver.observe($menu[0], {\n                childList : true,\n                subtree   : true\n              });\n            }\n          }\n        },\n\n        create: {\n          id: function() {\n            id = (Math.random().toString(16) + '000000000').substr(2, 8);\n            elementNamespace = '.' + id;\n            module.verbose('Creating unique id for element', id);\n          },\n          userChoice: function(values) {\n            var\n              $userChoices,\n              $userChoice,\n              isUserValue,\n              html\n            ;\n            values = values || module.get.userValues();\n            if(!values) {\n              return false;\n            }\n            values = $.isArray(values)\n              ? values\n              : [values]\n            ;\n            $.each(values, function(index, value) {\n              if(module.get.item(value) === false) {\n                html         = settings.templates.addition( module.add.variables(message.addResult, value) );\n                $userChoice  = $('<div />')\n                  .html(html)\n                  .attr('data-' + metadata.value, value)\n                  .attr('data-' + metadata.text, value)\n                  .addClass(className.addition)\n                  .addClass(className.item)\n                ;\n                if(settings.hideAdditions) {\n                  $userChoice.addClass(className.hidden);\n                }\n                $userChoices = ($userChoices === undefined)\n                  ? $userChoice\n                  : $userChoices.add($userChoice)\n                ;\n                module.verbose('Creating user choices for value', value, $userChoice);\n              }\n            });\n            return $userChoices;\n          },\n          userLabels: function(value) {\n            var\n              userValues = module.get.userValues()\n            ;\n            if(userValues) {\n              module.debug('Adding user labels', userValues);\n              $.each(userValues, function(index, value) {\n                module.verbose('Adding custom user value');\n                module.add.label(value, value);\n              });\n            }\n          },\n          menu: function() {\n            $menu = $('<div />')\n              .addClass(className.menu)\n              .appendTo($module)\n            ;\n          },\n          sizer: function() {\n            $sizer = $('<span />')\n              .addClass(className.sizer)\n              .insertAfter($search)\n            ;\n          }\n        },\n\n        search: function(query) {\n          query = (query !== undefined)\n            ? query\n            : module.get.query()\n          ;\n          module.verbose('Searching for query', query);\n          if(module.has.minCharacters(query)) {\n            module.filter(query);\n          }\n          else {\n            module.hide();\n          }\n        },\n\n        select: {\n          firstUnfiltered: function() {\n            module.verbose('Selecting first non-filtered element');\n            module.remove.selectedItem();\n            $item\n              .not(selector.unselectable)\n              .not(selector.addition + selector.hidden)\n                .eq(0)\n                .addClass(className.selected)\n            ;\n          },\n          nextAvailable: function($selected) {\n            $selected = $selected.eq(0);\n            var\n              $nextAvailable = $selected.nextAll(selector.item).not(selector.unselectable).eq(0),\n              $prevAvailable = $selected.prevAll(selector.item).not(selector.unselectable).eq(0),\n              hasNext        = ($nextAvailable.length > 0)\n            ;\n            if(hasNext) {\n              module.verbose('Moving selection to', $nextAvailable);\n              $nextAvailable.addClass(className.selected);\n            }\n            else {\n              module.verbose('Moving selection to', $prevAvailable);\n              $prevAvailable.addClass(className.selected);\n            }\n          }\n        },\n\n        setup: {\n          api: function() {\n            var\n              apiSettings = {\n                debug   : settings.debug,\n                urlData : {\n                  value : module.get.value(),\n                  query : module.get.query()\n                },\n                on    : false\n              }\n            ;\n            module.verbose('First request, initializing API');\n            $module\n              .api(apiSettings)\n            ;\n          },\n          layout: function() {\n            if( $module.is('select') ) {\n              module.setup.select();\n              module.setup.returnedObject();\n            }\n            if( !module.has.menu() ) {\n              module.create.menu();\n            }\n            if( module.is.search() && !module.has.search() ) {\n              module.verbose('Adding search input');\n              $search = $('<input />')\n                .addClass(className.search)\n                .prop('autocomplete', 'off')\n                .insertBefore($text)\n              ;\n            }\n            if( module.is.multiple() && module.is.searchSelection() && !module.has.sizer()) {\n              module.create.sizer();\n            }\n            if(settings.allowTab) {\n              module.set.tabbable();\n            }\n          },\n          select: function() {\n            var\n              selectValues  = module.get.selectValues()\n            ;\n            module.debug('Dropdown initialized on a select', selectValues);\n            if( $module.is('select') ) {\n              $input = $module;\n            }\n            // see if select is placed correctly already\n            if($input.parent(selector.dropdown).length > 0) {\n              module.debug('UI dropdown already exists. Creating dropdown menu only');\n              $module = $input.closest(selector.dropdown);\n              if( !module.has.menu() ) {\n                module.create.menu();\n              }\n              $menu = $module.children(selector.menu);\n              module.setup.menu(selectValues);\n            }\n            else {\n              module.debug('Creating entire dropdown from select');\n              $module = $('<div />')\n                .attr('class', $input.attr('class') )\n                .addClass(className.selection)\n                .addClass(className.dropdown)\n                .html( templates.dropdown(selectValues) )\n                .insertBefore($input)\n              ;\n              if($input.hasClass(className.multiple) && $input.prop('multiple') === false) {\n                module.error(error.missingMultiple);\n                $input.prop('multiple', true);\n              }\n              if($input.is('[multiple]')) {\n                module.set.multiple();\n              }\n              if ($input.prop('disabled')) {\n                module.debug('Disabling dropdown');\n                $module.addClass(className.disabled);\n              }\n              $input\n                .removeAttr('class')\n                .detach()\n                .prependTo($module)\n              ;\n            }\n            module.refresh();\n          },\n          menu: function(values) {\n            $menu.html( templates.menu(values, fields));\n            $item = $menu.find(selector.item);\n          },\n          reference: function() {\n            module.debug('Dropdown behavior was called on select, replacing with closest dropdown');\n            // replace module reference\n            $module  = $module.parent(selector.dropdown);\n            instance = $module.data(moduleNamespace);\n            element  = $module.get(0);\n            module.refresh();\n            module.setup.returnedObject();\n          },\n          returnedObject: function() {\n            var\n              $firstModules = $allModules.slice(0, elementIndex),\n              $lastModules  = $allModules.slice(elementIndex + 1)\n            ;\n            // adjust all modules to use correct reference\n            $allModules = $firstModules.add($module).add($lastModules);\n          }\n        },\n\n        refresh: function() {\n          module.refreshSelectors();\n          module.refreshData();\n        },\n\n        refreshItems: function() {\n          $item = $menu.find(selector.item);\n        },\n\n        refreshSelectors: function() {\n          module.verbose('Refreshing selector cache');\n          $text   = $module.find(selector.text);\n          $search = $module.find(selector.search);\n          $input  = $module.find(selector.input);\n          $icon   = $module.find(selector.icon);\n          $combo  = ($module.prev().find(selector.text).length > 0)\n            ? $module.prev().find(selector.text)\n            : $module.prev()\n          ;\n          $menu    = $module.children(selector.menu);\n          $item    = $menu.find(selector.item);\n        },\n\n        refreshData: function() {\n          module.verbose('Refreshing cached metadata');\n          $item\n            .removeData(metadata.text)\n            .removeData(metadata.value)\n          ;\n        },\n\n        clearData: function() {\n          module.verbose('Clearing metadata');\n          $item\n            .removeData(metadata.text)\n            .removeData(metadata.value)\n          ;\n          $module\n            .removeData(metadata.defaultText)\n            .removeData(metadata.defaultValue)\n            .removeData(metadata.placeholderText)\n          ;\n        },\n\n        toggle: function() {\n          module.verbose('Toggling menu visibility');\n          if( !module.is.active() ) {\n            module.show();\n          }\n          else {\n            module.hide();\n          }\n        },\n\n        show: function(callback) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          if(!module.can.show() && module.is.remote()) {\n            module.debug('No API results retrieved, searching before show');\n            module.queryRemote(module.get.query(), module.show);\n          }\n          if( module.can.show() && !module.is.active() ) {\n            module.debug('Showing dropdown');\n            if(module.has.message() && !(module.has.maxSelections() || module.has.allResultsFiltered()) ) {\n              module.remove.message();\n            }\n            if(module.is.allFiltered()) {\n              return true;\n            }\n            if(settings.onShow.call(element) !== false) {\n              module.animate.show(function() {\n                if( module.can.click() ) {\n                  module.bind.intent();\n                }\n                if(module.has.menuSearch()) {\n                  module.focusSearch();\n                }\n                module.set.visible();\n                callback.call(element);\n              });\n            }\n          }\n        },\n\n        hide: function(callback) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          if( module.is.active() && !module.is.animatingOutward() ) {\n            module.debug('Hiding dropdown');\n            if(settings.onHide.call(element) !== false) {\n              module.animate.hide(function() {\n                module.remove.visible();\n                callback.call(element);\n              });\n            }\n          }\n        },\n\n        hideOthers: function() {\n          module.verbose('Finding other dropdowns to hide');\n          $allModules\n            .not($module)\n              .has(selector.menu + '.' + className.visible)\n                .dropdown('hide')\n          ;\n        },\n\n        hideMenu: function() {\n          module.verbose('Hiding menu  instantaneously');\n          module.remove.active();\n          module.remove.visible();\n          $menu.transition('hide');\n        },\n\n        hideSubMenus: function() {\n          var\n            $subMenus = $menu.children(selector.item).find(selector.menu)\n          ;\n          module.verbose('Hiding sub menus', $subMenus);\n          $subMenus.transition('hide');\n        },\n\n        bind: {\n          events: function() {\n            if(hasTouch) {\n              module.bind.touchEvents();\n            }\n            module.bind.keyboardEvents();\n            module.bind.inputEvents();\n            module.bind.mouseEvents();\n          },\n          touchEvents: function() {\n            module.debug('Touch device detected binding additional touch events');\n            if( module.is.searchSelection() ) {\n              // do nothing special yet\n            }\n            else if( module.is.single() ) {\n              $module\n                .on('touchstart' + eventNamespace, module.event.test.toggle)\n              ;\n            }\n            $menu\n              .on('touchstart' + eventNamespace, selector.item, module.event.item.mouseenter)\n            ;\n          },\n          keyboardEvents: function() {\n            module.verbose('Binding keyboard events');\n            $module\n              .on('keydown' + eventNamespace, module.event.keydown)\n            ;\n            if( module.has.search() ) {\n              $module\n                .on(module.get.inputEvent() + eventNamespace, selector.search, module.event.input)\n              ;\n            }\n            if( module.is.multiple() ) {\n              $document\n                .on('keydown' + elementNamespace, module.event.document.keydown)\n              ;\n            }\n          },\n          inputEvents: function() {\n            module.verbose('Binding input change events');\n            $module\n              .on('change' + eventNamespace, selector.input, module.event.change)\n            ;\n          },\n          mouseEvents: function() {\n            module.verbose('Binding mouse events');\n            if(module.is.multiple()) {\n              $module\n                .on('click'   + eventNamespace, selector.label,  module.event.label.click)\n                .on('click'   + eventNamespace, selector.remove, module.event.remove.click)\n              ;\n            }\n            if( module.is.searchSelection() ) {\n              $module\n                .on('mousedown' + eventNamespace, module.event.mousedown)\n                .on('mouseup'   + eventNamespace, module.event.mouseup)\n                .on('mousedown' + eventNamespace, selector.menu,   module.event.menu.mousedown)\n                .on('mouseup'   + eventNamespace, selector.menu,   module.event.menu.mouseup)\n                .on('click'     + eventNamespace, selector.icon,   module.event.icon.click)\n                .on('focus'     + eventNamespace, selector.search, module.event.search.focus)\n                .on('click'     + eventNamespace, selector.search, module.event.search.focus)\n                .on('blur'      + eventNamespace, selector.search, module.event.search.blur)\n                .on('click'     + eventNamespace, selector.text,   module.event.text.focus)\n              ;\n              if(module.is.multiple()) {\n                $module\n                  .on('click' + eventNamespace, module.event.click)\n                ;\n              }\n            }\n            else {\n              if(settings.on == 'click') {\n                $module\n                  .on('click' + eventNamespace, selector.icon, module.event.icon.click)\n                  .on('click' + eventNamespace, module.event.test.toggle)\n                ;\n              }\n              else if(settings.on == 'hover') {\n                $module\n                  .on('mouseenter' + eventNamespace, module.delay.show)\n                  .on('mouseleave' + eventNamespace, module.delay.hide)\n                ;\n              }\n              else {\n                $module\n                  .on(settings.on + eventNamespace, module.toggle)\n                ;\n              }\n              $module\n                .on('mousedown' + eventNamespace, module.event.mousedown)\n                .on('mouseup'   + eventNamespace, module.event.mouseup)\n                .on('focus'     + eventNamespace, module.event.focus)\n              ;\n              if(module.has.menuSearch() ) {\n                $module\n                  .on('blur' + eventNamespace, selector.search, module.event.search.blur)\n                ;\n              }\n              else {\n                $module\n                  .on('blur' + eventNamespace, module.event.blur)\n                ;\n              }\n            }\n            $menu\n              .on('mouseenter' + eventNamespace, selector.item, module.event.item.mouseenter)\n              .on('mouseleave' + eventNamespace, selector.item, module.event.item.mouseleave)\n              .on('click'      + eventNamespace, selector.item, module.event.item.click)\n            ;\n          },\n          intent: function() {\n            module.verbose('Binding hide intent event to document');\n            if(hasTouch) {\n              $document\n                .on('touchstart' + elementNamespace, module.event.test.touch)\n                .on('touchmove'  + elementNamespace, module.event.test.touch)\n              ;\n            }\n            $document\n              .on('click' + elementNamespace, module.event.test.hide)\n            ;\n          }\n        },\n\n        unbind: {\n          intent: function() {\n            module.verbose('Removing hide intent event from document');\n            if(hasTouch) {\n              $document\n                .off('touchstart' + elementNamespace)\n                .off('touchmove' + elementNamespace)\n              ;\n            }\n            $document\n              .off('click' + elementNamespace)\n            ;\n          }\n        },\n\n        filter: function(query) {\n          var\n            searchTerm = (query !== undefined)\n              ? query\n              : module.get.query(),\n            afterFiltered = function() {\n              if(module.is.multiple()) {\n                module.filterActive();\n              }\n              if(query || (!query && module.get.activeItem().length == 0)) {\n                module.select.firstUnfiltered();\n              }\n              if( module.has.allResultsFiltered() ) {\n                if( settings.onNoResults.call(element, searchTerm) ) {\n                  if(settings.allowAdditions) {\n                    if(settings.hideAdditions) {\n                      module.verbose('User addition with no menu, setting empty style');\n                      module.set.empty();\n                      module.hideMenu();\n                    }\n                  }\n                  else {\n                    module.verbose('All items filtered, showing message', searchTerm);\n                    module.add.message(message.noResults);\n                  }\n                }\n                else {\n                  module.verbose('All items filtered, hiding dropdown', searchTerm);\n                  module.hideMenu();\n                }\n              }\n              else {\n                module.remove.empty();\n                module.remove.message();\n              }\n              if(settings.allowAdditions) {\n                module.add.userSuggestion(query);\n              }\n              if(module.is.searchSelection() && module.can.show() && module.is.focusedOnSearch() ) {\n                module.show();\n              }\n            }\n          ;\n          if(settings.useLabels && module.has.maxSelections()) {\n            return;\n          }\n          if(settings.apiSettings) {\n            if( module.can.useAPI() ) {\n              module.queryRemote(searchTerm, function() {\n                if(settings.filterRemoteData) {\n                  module.filterItems(searchTerm);\n                }\n                afterFiltered();\n              });\n            }\n            else {\n              module.error(error.noAPI);\n            }\n          }\n          else {\n            module.filterItems(searchTerm);\n            afterFiltered();\n          }\n        },\n\n        queryRemote: function(query, callback) {\n          var\n            apiSettings = {\n              errorDuration : false,\n              cache         : 'local',\n              throttle      : settings.throttle,\n              urlData       : {\n                query: query\n              },\n              onError: function() {\n                module.add.message(message.serverError);\n                callback();\n              },\n              onFailure: function() {\n                module.add.message(message.serverError);\n                callback();\n              },\n              onSuccess : function(response) {\n                var\n                  values          = response[fields.remoteValues],\n                  hasRemoteValues = ($.isArray(values) && values.length > 0)\n                ;\n                if(hasRemoteValues) {\n                  module.remove.message();\n                  module.setup.menu({\n                    values: response[fields.remoteValues]\n                  });\n                }\n                else {\n                  module.add.message(message.noResults);\n                }\n                callback();\n              }\n            }\n          ;\n          if( !$module.api('get request') ) {\n            module.setup.api();\n          }\n          apiSettings = $.extend(true, {}, apiSettings, settings.apiSettings);\n          $module\n            .api('setting', apiSettings)\n            .api('query')\n          ;\n        },\n\n        filterItems: function(query) {\n          var\n            searchTerm = (query !== undefined)\n              ? query\n              : module.get.query(),\n            results          =  null,\n            escapedTerm      = module.escape.string(searchTerm),\n            beginsWithRegExp = new RegExp('^' + escapedTerm, 'igm')\n          ;\n          // avoid loop if we're matching nothing\n          if( module.has.query() ) {\n            results = [];\n\n            module.verbose('Searching for matching values', searchTerm);\n            $item\n              .each(function(){\n                var\n                  $choice = $(this),\n                  text,\n                  value\n                ;\n                if(settings.match == 'both' || settings.match == 'text') {\n                  text = String(module.get.choiceText($choice, false));\n                  if(text.search(beginsWithRegExp) !== -1) {\n                    results.push(this);\n                    return true;\n                  }\n                  else if (settings.fullTextSearch === 'exact' && module.exactSearch(searchTerm, text)) {\n                    results.push(this);\n                    return true;\n                  }\n                  else if (settings.fullTextSearch === true && module.fuzzySearch(searchTerm, text)) {\n                    results.push(this);\n                    return true;\n                  }\n                }\n                if(settings.match == 'both' || settings.match == 'value') {\n                  value = String(module.get.choiceValue($choice, text));\n                  if(value.search(beginsWithRegExp) !== -1) {\n                    results.push(this);\n                    return true;\n                  }\n                  else if (settings.fullTextSearch === 'exact' && module.exactSearch(searchTerm, value)) {\n                    results.push(this);\n                    return true;\n                  }\n                  else if (settings.fullTextSearch === true && module.fuzzySearch(searchTerm, value)) {\n                    results.push(this);\n                    return true;\n                  }\n                }\n              })\n            ;\n          }\n          module.debug('Showing only matched items', searchTerm);\n          module.remove.filteredItem();\n          if(results) {\n            $item\n              .not(results)\n              .addClass(className.filtered)\n            ;\n          }\n        },\n\n        fuzzySearch: function(query, term) {\n          var\n            termLength  = term.length,\n            queryLength = query.length\n          ;\n          query = query.toLowerCase();\n          term  = term.toLowerCase();\n          if(queryLength > termLength) {\n            return false;\n          }\n          if(queryLength === termLength) {\n            return (query === term);\n          }\n          search: for (var characterIndex = 0, nextCharacterIndex = 0; characterIndex < queryLength; characterIndex++) {\n            var\n              queryCharacter = query.charCodeAt(characterIndex)\n            ;\n            while(nextCharacterIndex < termLength) {\n              if(term.charCodeAt(nextCharacterIndex++) === queryCharacter) {\n                continue search;\n              }\n            }\n            return false;\n          }\n          return true;\n        },\n        exactSearch: function (query, term) {\n          query = query.toLowerCase();\n          term  = term.toLowerCase();\n          if(term.indexOf(query) > -1) {\n             return true;\n          }\n          return false;\n        },\n        filterActive: function() {\n          if(settings.useLabels) {\n            $item.filter('.' + className.active)\n              .addClass(className.filtered)\n            ;\n          }\n        },\n\n        focusSearch: function(skipHandler) {\n          if( module.has.search() && !module.is.focusedOnSearch() ) {\n            if(skipHandler) {\n              $module.off('focus' + eventNamespace, selector.search);\n              $search.focus();\n              $module.on('focus'  + eventNamespace, selector.search, module.event.search.focus);\n            }\n            else {\n              $search.focus();\n            }\n          }\n        },\n\n        forceSelection: function() {\n          var\n            $currentlySelected = $item.not(className.filtered).filter('.' + className.selected).eq(0),\n            $activeItem        = $item.not(className.filtered).filter('.' + className.active).eq(0),\n            $selectedItem      = ($currentlySelected.length > 0)\n              ? $currentlySelected\n              : $activeItem,\n            hasSelected = ($selectedItem.length > 0)\n          ;\n          if(hasSelected && !module.is.multiple()) {\n            module.debug('Forcing partial selection to selected item', $selectedItem);\n            module.event.item.click.call($selectedItem, {}, true);\n            return;\n          }\n          else {\n            if(settings.allowAdditions) {\n              module.set.selected(module.get.query());\n              module.remove.searchTerm();\n            }\n            else {\n              module.remove.searchTerm();\n            }\n          }\n        },\n\n        change: {\n          values: function(values) {\n            if(!settings.allowAdditions) {\n              module.clear();\n            }\n            module.debug('Creating dropdown with specified values', values);\n            module.setup.menu({values: values});\n            $.each(values, function(index, item) {\n              if(item.selected == true) {\n                module.debug('Setting initial selection to', item.value);\n                module.set.selected(item.value);\n                return true;\n              }\n            });\n          }\n        },\n\n        event: {\n          change: function() {\n            if(!internalChange) {\n              module.debug('Input changed, updating selection');\n              module.set.selected();\n            }\n          },\n          focus: function() {\n            if(settings.showOnFocus && !activated && module.is.hidden() && !pageLostFocus) {\n              module.show();\n            }\n          },\n          blur: function(event) {\n            pageLostFocus = (document.activeElement === this);\n            if(!activated && !pageLostFocus) {\n              module.remove.activeLabel();\n              module.hide();\n            }\n          },\n          mousedown: function() {\n            if(module.is.searchSelection()) {\n              // prevent menu hiding on immediate re-focus\n              willRefocus = true;\n            }\n            else {\n              // prevents focus callback from occurring on mousedown\n              activated = true;\n            }\n          },\n          mouseup: function() {\n            if(module.is.searchSelection()) {\n              // prevent menu hiding on immediate re-focus\n              willRefocus = false;\n            }\n            else {\n              activated = false;\n            }\n          },\n          click: function(event) {\n            var\n              $target = $(event.target)\n            ;\n            // focus search\n            if($target.is($module)) {\n              if(!module.is.focusedOnSearch()) {\n                module.focusSearch();\n              }\n              else {\n                module.show();\n              }\n            }\n          },\n          search: {\n            focus: function() {\n              activated = true;\n              if(module.is.multiple()) {\n                module.remove.activeLabel();\n              }\n              if(settings.showOnFocus) {\n                module.search();\n              }\n            },\n            blur: function(event) {\n              pageLostFocus = (document.activeElement === this);\n              if(module.is.searchSelection() && !willRefocus) {\n                if(!itemActivated && !pageLostFocus) {\n                  if(settings.forceSelection) {\n                    module.forceSelection();\n                  }\n                  module.hide();\n                }\n              }\n              willRefocus = false;\n            }\n          },\n          icon: {\n            click: function(event) {\n              module.toggle();\n            }\n          },\n          text: {\n            focus: function(event) {\n              activated = true;\n              module.focusSearch();\n            }\n          },\n          input: function(event) {\n            if(module.is.multiple() || module.is.searchSelection()) {\n              module.set.filtered();\n            }\n            clearTimeout(module.timer);\n            module.timer = setTimeout(module.search, settings.delay.search);\n          },\n          label: {\n            click: function(event) {\n              var\n                $label        = $(this),\n                $labels       = $module.find(selector.label),\n                $activeLabels = $labels.filter('.' + className.active),\n                $nextActive   = $label.nextAll('.' + className.active),\n                $prevActive   = $label.prevAll('.' + className.active),\n                $range = ($nextActive.length > 0)\n                  ? $label.nextUntil($nextActive).add($activeLabels).add($label)\n                  : $label.prevUntil($prevActive).add($activeLabels).add($label)\n              ;\n              if(event.shiftKey) {\n                $activeLabels.removeClass(className.active);\n                $range.addClass(className.active);\n              }\n              else if(event.ctrlKey) {\n                $label.toggleClass(className.active);\n              }\n              else {\n                $activeLabels.removeClass(className.active);\n                $label.addClass(className.active);\n              }\n              settings.onLabelSelect.apply(this, $labels.filter('.' + className.active));\n            }\n          },\n          remove: {\n            click: function() {\n              var\n                $label = $(this).parent()\n              ;\n              if( $label.hasClass(className.active) ) {\n                // remove all selected labels\n                module.remove.activeLabels();\n              }\n              else {\n                // remove this label only\n                module.remove.activeLabels( $label );\n              }\n            }\n          },\n          test: {\n            toggle: function(event) {\n              var\n                toggleBehavior = (module.is.multiple())\n                  ? module.show\n                  : module.toggle\n              ;\n              if(module.is.bubbledLabelClick(event) || module.is.bubbledIconClick(event)) {\n                return;\n              }\n              if( module.determine.eventOnElement(event, toggleBehavior) ) {\n                event.preventDefault();\n              }\n            },\n            touch: function(event) {\n              module.determine.eventOnElement(event, function() {\n                if(event.type == 'touchstart') {\n                  module.timer = setTimeout(function() {\n                    module.hide();\n                  }, settings.delay.touch);\n                }\n                else if(event.type == 'touchmove') {\n                  clearTimeout(module.timer);\n                }\n              });\n              event.stopPropagation();\n            },\n            hide: function(event) {\n              module.determine.eventInModule(event, module.hide);\n            }\n          },\n          select: {\n            mutation: function(mutations) {\n              module.debug('<select> modified, recreating menu');\n              var\n                isSelectMutation = false\n              ;\n              $.each(mutations, function(index, mutation) {\n                if($(mutation.target).is('select') || $(mutation.addedNodes).is('select')) {\n                  isSelectMutation = true;\n                  return true;\n                }\n              });\n              if(isSelectMutation) {\n                module.disconnect.selectObserver();\n                module.refresh();\n                module.setup.select();\n                module.set.selected();\n                module.observe.select();\n              }\n            }\n          },\n          menu: {\n            mutation: function(mutations) {\n              var\n                mutation   = mutations[0],\n                $addedNode = mutation.addedNodes\n                  ? $(mutation.addedNodes[0])\n                  : $(false),\n                $removedNode = mutation.removedNodes\n                  ? $(mutation.removedNodes[0])\n                  : $(false),\n                $changedNodes  = $addedNode.add($removedNode),\n                isUserAddition = $changedNodes.is(selector.addition) || $changedNodes.closest(selector.addition).length > 0,\n                isMessage      = $changedNodes.is(selector.message)  || $changedNodes.closest(selector.message).length > 0\n              ;\n              if(isUserAddition || isMessage) {\n                module.debug('Updating item selector cache');\n                module.refreshItems();\n              }\n              else {\n                module.debug('Menu modified, updating selector cache');\n                module.refresh();\n              }\n            },\n            mousedown: function() {\n              itemActivated = true;\n            },\n            mouseup: function() {\n              itemActivated = false;\n            }\n          },\n          item: {\n            mouseenter: function(event) {\n              var\n                $target        = $(event.target),\n                $item          = $(this),\n                $subMenu       = $item.children(selector.menu),\n                $otherMenus    = $item.siblings(selector.item).children(selector.menu),\n                hasSubMenu     = ($subMenu.length > 0),\n                isBubbledEvent = ($subMenu.find($target).length > 0)\n              ;\n              if( !isBubbledEvent && hasSubMenu ) {\n                clearTimeout(module.itemTimer);\n                module.itemTimer = setTimeout(function() {\n                  module.verbose('Showing sub-menu', $subMenu);\n                  $.each($otherMenus, function() {\n                    module.animate.hide(false, $(this));\n                  });\n                  module.animate.show(false, $subMenu);\n                }, settings.delay.show);\n                event.preventDefault();\n              }\n            },\n            mouseleave: function(event) {\n              var\n                $subMenu = $(this).children(selector.menu)\n              ;\n              if($subMenu.length > 0) {\n                clearTimeout(module.itemTimer);\n                module.itemTimer = setTimeout(function() {\n                  module.verbose('Hiding sub-menu', $subMenu);\n                  module.animate.hide(false, $subMenu);\n                }, settings.delay.hide);\n              }\n            },\n            click: function (event, skipRefocus) {\n              var\n                $choice        = $(this),\n                $target        = (event)\n                  ? $(event.target)\n                  : $(''),\n                $subMenu       = $choice.find(selector.menu),\n                text           = module.get.choiceText($choice),\n                value          = module.get.choiceValue($choice, text),\n                hasSubMenu     = ($subMenu.length > 0),\n                isBubbledEvent = ($subMenu.find($target).length > 0)\n              ;\n              // prevents IE11 bug where menu receives focus even though `tabindex=-1`\n              if(module.has.menuSearch()) {\n                $(document.activeElement).blur();\n              }\n              if(!isBubbledEvent && (!hasSubMenu || settings.allowCategorySelection)) {\n                if(module.is.searchSelection()) {\n                  if(settings.allowAdditions) {\n                    module.remove.userAddition();\n                  }\n                  module.remove.searchTerm();\n                  if(!module.is.focusedOnSearch() && !(skipRefocus == true)) {\n                    module.focusSearch(true);\n                  }\n                }\n                if(!settings.useLabels) {\n                  module.remove.filteredItem();\n                  module.set.scrollPosition($choice);\n                }\n                module.determine.selectAction.call(this, text, value);\n              }\n            }\n          },\n\n          document: {\n            // label selection should occur even when element has no focus\n            keydown: function(event) {\n              var\n                pressedKey    = event.which,\n                isShortcutKey = module.is.inObject(pressedKey, keys)\n              ;\n              if(isShortcutKey) {\n                var\n                  $label            = $module.find(selector.label),\n                  $activeLabel      = $label.filter('.' + className.active),\n                  activeValue       = $activeLabel.data(metadata.value),\n                  labelIndex        = $label.index($activeLabel),\n                  labelCount        = $label.length,\n                  hasActiveLabel    = ($activeLabel.length > 0),\n                  hasMultipleActive = ($activeLabel.length > 1),\n                  isFirstLabel      = (labelIndex === 0),\n                  isLastLabel       = (labelIndex + 1 == labelCount),\n                  isSearch          = module.is.searchSelection(),\n                  isFocusedOnSearch = module.is.focusedOnSearch(),\n                  isFocused         = module.is.focused(),\n                  caretAtStart      = (isFocusedOnSearch && module.get.caretPosition() === 0),\n                  $nextLabel\n                ;\n                if(isSearch && !hasActiveLabel && !isFocusedOnSearch) {\n                  return;\n                }\n\n                if(pressedKey == keys.leftArrow) {\n                  // activate previous label\n                  if((isFocused || caretAtStart) && !hasActiveLabel) {\n                    module.verbose('Selecting previous label');\n                    $label.last().addClass(className.active);\n                  }\n                  else if(hasActiveLabel) {\n                    if(!event.shiftKey) {\n                      module.verbose('Selecting previous label');\n                      $label.removeClass(className.active);\n                    }\n                    else {\n                      module.verbose('Adding previous label to selection');\n                    }\n                    if(isFirstLabel && !hasMultipleActive) {\n                      $activeLabel.addClass(className.active);\n                    }\n                    else {\n                      $activeLabel.prev(selector.siblingLabel)\n                        .addClass(className.active)\n                        .end()\n                      ;\n                    }\n                    event.preventDefault();\n                  }\n                }\n                else if(pressedKey == keys.rightArrow) {\n                  // activate first label\n                  if(isFocused && !hasActiveLabel) {\n                    $label.first().addClass(className.active);\n                  }\n                  // activate next label\n                  if(hasActiveLabel) {\n                    if(!event.shiftKey) {\n                      module.verbose('Selecting next label');\n                      $label.removeClass(className.active);\n                    }\n                    else {\n                      module.verbose('Adding next label to selection');\n                    }\n                    if(isLastLabel) {\n                      if(isSearch) {\n                        if(!isFocusedOnSearch) {\n                          module.focusSearch();\n                        }\n                        else {\n                          $label.removeClass(className.active);\n                        }\n                      }\n                      else if(hasMultipleActive) {\n                        $activeLabel.next(selector.siblingLabel).addClass(className.active);\n                      }\n                      else {\n                        $activeLabel.addClass(className.active);\n                      }\n                    }\n                    else {\n                      $activeLabel.next(selector.siblingLabel).addClass(className.active);\n                    }\n                    event.preventDefault();\n                  }\n                }\n                else if(pressedKey == keys.deleteKey || pressedKey == keys.backspace) {\n                  if(hasActiveLabel) {\n                    module.verbose('Removing active labels');\n                    if(isLastLabel) {\n                      if(isSearch && !isFocusedOnSearch) {\n                        module.focusSearch();\n                      }\n                    }\n                    $activeLabel.last().next(selector.siblingLabel).addClass(className.active);\n                    module.remove.activeLabels($activeLabel);\n                    event.preventDefault();\n                  }\n                  else if(caretAtStart && !hasActiveLabel && pressedKey == keys.backspace) {\n                    module.verbose('Removing last label on input backspace');\n                    $activeLabel = $label.last().addClass(className.active);\n                    module.remove.activeLabels($activeLabel);\n                  }\n                }\n                else {\n                  $activeLabel.removeClass(className.active);\n                }\n              }\n            }\n          },\n\n          keydown: function(event) {\n            var\n              pressedKey    = event.which,\n              isShortcutKey = module.is.inObject(pressedKey, keys)\n            ;\n            if(isShortcutKey) {\n              var\n                $currentlySelected = $item.not(selector.unselectable).filter('.' + className.selected).eq(0),\n                $activeItem        = $menu.children('.' + className.active).eq(0),\n                $selectedItem      = ($currentlySelected.length > 0)\n                  ? $currentlySelected\n                  : $activeItem,\n                $visibleItems = ($selectedItem.length > 0)\n                  ? $selectedItem.siblings(':not(.' + className.filtered +')').addBack()\n                  : $menu.children(':not(.' + className.filtered +')'),\n                $subMenu              = $selectedItem.children(selector.menu),\n                $parentMenu           = $selectedItem.closest(selector.menu),\n                inVisibleMenu         = ($parentMenu.hasClass(className.visible) || $parentMenu.hasClass(className.animating) || $parentMenu.parent(selector.menu).length > 0),\n                hasSubMenu            = ($subMenu.length> 0),\n                hasSelectedItem       = ($selectedItem.length > 0),\n                selectedIsSelectable  = ($selectedItem.not(selector.unselectable).length > 0),\n                delimiterPressed      = (pressedKey == keys.delimiter && settings.allowAdditions && module.is.multiple()),\n                isAdditionWithoutMenu = (settings.allowAdditions && settings.hideAdditions && (pressedKey == keys.enter || delimiterPressed) && selectedIsSelectable),\n                $nextItem,\n                isSubMenuItem,\n                newIndex\n              ;\n              // allow selection with menu closed\n              if(isAdditionWithoutMenu) {\n                module.verbose('Selecting item from keyboard shortcut', $selectedItem);\n                module.event.item.click.call($selectedItem, event);\n                if(module.is.searchSelection()) {\n                  module.remove.searchTerm();\n                }\n              }\n\n              // visible menu keyboard shortcuts\n              if( module.is.visible() ) {\n\n                // enter (select or open sub-menu)\n                if(pressedKey == keys.enter || delimiterPressed) {\n                  if(pressedKey == keys.enter && hasSelectedItem && hasSubMenu && !settings.allowCategorySelection) {\n                    module.verbose('Pressed enter on unselectable category, opening sub menu');\n                    pressedKey = keys.rightArrow;\n                  }\n                  else if(selectedIsSelectable) {\n                    module.verbose('Selecting item from keyboard shortcut', $selectedItem);\n                    module.event.item.click.call($selectedItem, event);\n                    if(module.is.searchSelection()) {\n                      module.remove.searchTerm();\n                    }\n                  }\n                  event.preventDefault();\n                }\n\n                // sub-menu actions\n                if(hasSelectedItem) {\n\n                  if(pressedKey == keys.leftArrow) {\n\n                    isSubMenuItem = ($parentMenu[0] !== $menu[0]);\n\n                    if(isSubMenuItem) {\n                      module.verbose('Left key pressed, closing sub-menu');\n                      module.animate.hide(false, $parentMenu);\n                      $selectedItem\n                        .removeClass(className.selected)\n                      ;\n                      $parentMenu\n                        .closest(selector.item)\n                          .addClass(className.selected)\n                      ;\n                      event.preventDefault();\n                    }\n                  }\n\n                  // right arrow (show sub-menu)\n                  if(pressedKey == keys.rightArrow) {\n                    if(hasSubMenu) {\n                      module.verbose('Right key pressed, opening sub-menu');\n                      module.animate.show(false, $subMenu);\n                      $selectedItem\n                        .removeClass(className.selected)\n                      ;\n                      $subMenu\n                        .find(selector.item).eq(0)\n                          .addClass(className.selected)\n                      ;\n                      event.preventDefault();\n                    }\n                  }\n                }\n\n                // up arrow (traverse menu up)\n                if(pressedKey == keys.upArrow) {\n                  $nextItem = (hasSelectedItem && inVisibleMenu)\n                    ? $selectedItem.prevAll(selector.item + ':not(' + selector.unselectable + ')').eq(0)\n                    : $item.eq(0)\n                  ;\n                  if($visibleItems.index( $nextItem ) < 0) {\n                    module.verbose('Up key pressed but reached top of current menu');\n                    event.preventDefault();\n                    return;\n                  }\n                  else {\n                    module.verbose('Up key pressed, changing active item');\n                    $selectedItem\n                      .removeClass(className.selected)\n                    ;\n                    $nextItem\n                      .addClass(className.selected)\n                    ;\n                    module.set.scrollPosition($nextItem);\n                    if(settings.selectOnKeydown && module.is.single()) {\n                      module.set.selectedItem($nextItem);\n                    }\n                  }\n                  event.preventDefault();\n                }\n\n                // down arrow (traverse menu down)\n                if(pressedKey == keys.downArrow) {\n                  $nextItem = (hasSelectedItem && inVisibleMenu)\n                    ? $nextItem = $selectedItem.nextAll(selector.item + ':not(' + selector.unselectable + ')').eq(0)\n                    : $item.eq(0)\n                  ;\n                  if($nextItem.length === 0) {\n                    module.verbose('Down key pressed but reached bottom of current menu');\n                    event.preventDefault();\n                    return;\n                  }\n                  else {\n                    module.verbose('Down key pressed, changing active item');\n                    $item\n                      .removeClass(className.selected)\n                    ;\n                    $nextItem\n                      .addClass(className.selected)\n                    ;\n                    module.set.scrollPosition($nextItem);\n                    if(settings.selectOnKeydown && module.is.single()) {\n                      module.set.selectedItem($nextItem);\n                    }\n                  }\n                  event.preventDefault();\n                }\n\n                // page down (show next page)\n                if(pressedKey == keys.pageUp) {\n                  module.scrollPage('up');\n                  event.preventDefault();\n                }\n                if(pressedKey == keys.pageDown) {\n                  module.scrollPage('down');\n                  event.preventDefault();\n                }\n\n                // escape (close menu)\n                if(pressedKey == keys.escape) {\n                  module.verbose('Escape key pressed, closing dropdown');\n                  module.hide();\n                }\n\n              }\n              else {\n                // delimiter key\n                if(delimiterPressed) {\n                  event.preventDefault();\n                }\n                // down arrow (open menu)\n                if(pressedKey == keys.downArrow && !module.is.visible()) {\n                  module.verbose('Down key pressed, showing dropdown');\n                  module.show();\n                  event.preventDefault();\n                }\n              }\n            }\n            else {\n              if( !module.has.search() ) {\n                module.set.selectedLetter( String.fromCharCode(pressedKey) );\n              }\n            }\n          }\n        },\n\n        trigger: {\n          change: function() {\n            var\n              events       = document.createEvent('HTMLEvents'),\n              inputElement = $input[0]\n            ;\n            if(inputElement) {\n              module.verbose('Triggering native change event');\n              events.initEvent('change', true, false);\n              inputElement.dispatchEvent(events);\n            }\n          }\n        },\n\n        determine: {\n          selectAction: function(text, value) {\n            module.verbose('Determining action', settings.action);\n            if( $.isFunction( module.action[settings.action] ) ) {\n              module.verbose('Triggering preset action', settings.action, text, value);\n              module.action[ settings.action ].call(element, text, value, this);\n            }\n            else if( $.isFunction(settings.action) ) {\n              module.verbose('Triggering user action', settings.action, text, value);\n              settings.action.call(element, text, value, this);\n            }\n            else {\n              module.error(error.action, settings.action);\n            }\n          },\n          eventInModule: function(event, callback) {\n            var\n              $target    = $(event.target),\n              inDocument = ($target.closest(document.documentElement).length > 0),\n              inModule   = ($target.closest($module).length > 0)\n            ;\n            callback = $.isFunction(callback)\n              ? callback\n              : function(){}\n            ;\n            if(inDocument && !inModule) {\n              module.verbose('Triggering event', callback);\n              callback();\n              return true;\n            }\n            else {\n              module.verbose('Event occurred in dropdown, canceling callback');\n              return false;\n            }\n          },\n          eventOnElement: function(event, callback) {\n            var\n              $target      = $(event.target),\n              $label       = $target.closest(selector.siblingLabel),\n              inVisibleDOM = document.body.contains(event.target),\n              notOnLabel   = ($module.find($label).length === 0),\n              notInMenu    = ($target.closest($menu).length === 0)\n            ;\n            callback = $.isFunction(callback)\n              ? callback\n              : function(){}\n            ;\n            if(inVisibleDOM && notOnLabel && notInMenu) {\n              module.verbose('Triggering event', callback);\n              callback();\n              return true;\n            }\n            else {\n              module.verbose('Event occurred in dropdown menu, canceling callback');\n              return false;\n            }\n          }\n        },\n\n        action: {\n\n          nothing: function() {},\n\n          activate: function(text, value, element) {\n            value = (value !== undefined)\n              ? value\n              : text\n            ;\n            if( module.can.activate( $(element) ) ) {\n              module.set.selected(value, $(element));\n              if(module.is.multiple() && !module.is.allFiltered()) {\n                return;\n              }\n              else {\n                module.hideAndClear();\n              }\n            }\n          },\n\n          select: function(text, value, element) {\n            value = (value !== undefined)\n              ? value\n              : text\n            ;\n            if( module.can.activate( $(element) ) ) {\n              module.set.value(value, text, $(element));\n              if(module.is.multiple() && !module.is.allFiltered()) {\n                return;\n              }\n              else {\n                module.hideAndClear();\n              }\n            }\n          },\n\n          combo: function(text, value, element) {\n            value = (value !== undefined)\n              ? value\n              : text\n            ;\n            module.set.selected(value, $(element));\n            module.hideAndClear();\n          },\n\n          hide: function(text, value, element) {\n            module.set.value(value, text);\n            module.hideAndClear();\n          }\n\n        },\n\n        get: {\n          id: function() {\n            return id;\n          },\n          defaultText: function() {\n            return $module.data(metadata.defaultText);\n          },\n          defaultValue: function() {\n            return $module.data(metadata.defaultValue);\n          },\n          placeholderText: function() {\n            if(settings.placeholder != 'auto' && typeof settings.placeholder == 'string') {\n              return settings.placeholder;\n            }\n            return $module.data(metadata.placeholderText) || '';\n          },\n          text: function() {\n            return $text.text();\n          },\n          query: function() {\n            return $.trim($search.val());\n          },\n          searchWidth: function(value) {\n            value = (value !== undefined)\n              ? value\n              : $search.val()\n            ;\n            $sizer.text(value);\n            // prevent rounding issues\n            return Math.ceil( $sizer.width() + 1);\n          },\n          selectionCount: function() {\n            var\n              values = module.get.values(),\n              count\n            ;\n            count = ( module.is.multiple() )\n              ? $.isArray(values)\n                ? values.length\n                : 0\n              : (module.get.value() !== '')\n                ? 1\n                : 0\n            ;\n            return count;\n          },\n          transition: function($subMenu) {\n            return (settings.transition == 'auto')\n              ? module.is.upward($subMenu)\n                ? 'slide up'\n                : 'slide down'\n              : settings.transition\n            ;\n          },\n          userValues: function() {\n            var\n              values = module.get.values()\n            ;\n            if(!values) {\n              return false;\n            }\n            values = $.isArray(values)\n              ? values\n              : [values]\n            ;\n            return $.grep(values, function(value) {\n              return (module.get.item(value) === false);\n            });\n          },\n          uniqueArray: function(array) {\n            return $.grep(array, function (value, index) {\n                return $.inArray(value, array) === index;\n            });\n          },\n          caretPosition: function() {\n            var\n              input = $search.get(0),\n              range,\n              rangeLength\n            ;\n            if('selectionStart' in input) {\n              return input.selectionStart;\n            }\n            else if (document.selection) {\n              input.focus();\n              range       = document.selection.createRange();\n              rangeLength = range.text.length;\n              range.moveStart('character', -input.value.length);\n              return range.text.length - rangeLength;\n            }\n          },\n          value: function() {\n            var\n              value = ($input.length > 0)\n                ? $input.val()\n                : $module.data(metadata.value),\n              isEmptyMultiselect = ($.isArray(value) && value.length === 1 && value[0] === '')\n            ;\n            // prevents placeholder element from being selected when multiple\n            return (value === undefined || isEmptyMultiselect)\n              ? ''\n              : value\n            ;\n          },\n          values: function() {\n            var\n              value = module.get.value()\n            ;\n            if(value === '') {\n              return '';\n            }\n            return ( !module.has.selectInput() && module.is.multiple() )\n              ? (typeof value == 'string') // delimited string\n                ? value.split(settings.delimiter)\n                : ''\n              : value\n            ;\n          },\n          remoteValues: function() {\n            var\n              values = module.get.values(),\n              remoteValues = false\n            ;\n            if(values) {\n              if(typeof values == 'string') {\n                values = [values];\n              }\n              $.each(values, function(index, value) {\n                var\n                  name = module.read.remoteData(value)\n                ;\n                module.verbose('Restoring value from session data', name, value);\n                if(name) {\n                  if(!remoteValues) {\n                    remoteValues = {};\n                  }\n                  remoteValues[value] = name;\n                }\n              });\n            }\n            return remoteValues;\n          },\n          choiceText: function($choice, preserveHTML) {\n            preserveHTML = (preserveHTML !== undefined)\n              ? preserveHTML\n              : settings.preserveHTML\n            ;\n            if($choice) {\n              if($choice.find(selector.menu).length > 0) {\n                module.verbose('Retrieving text of element with sub-menu');\n                $choice = $choice.clone();\n                $choice.find(selector.menu).remove();\n                $choice.find(selector.menuIcon).remove();\n              }\n              return ($choice.data(metadata.text) !== undefined)\n                ? $choice.data(metadata.text)\n                : (preserveHTML)\n                  ? $.trim($choice.html())\n                  : $.trim($choice.text())\n              ;\n            }\n          },\n          choiceValue: function($choice, choiceText) {\n            choiceText = choiceText || module.get.choiceText($choice);\n            if(!$choice) {\n              return false;\n            }\n            return ($choice.data(metadata.value) !== undefined)\n              ? String( $choice.data(metadata.value) )\n              : (typeof choiceText === 'string')\n                ? $.trim(choiceText.toLowerCase())\n                : String(choiceText)\n            ;\n          },\n          inputEvent: function() {\n            var\n              input = $search[0]\n            ;\n            if(input) {\n              return (input.oninput !== undefined)\n                ? 'input'\n                : (input.onpropertychange !== undefined)\n                  ? 'propertychange'\n                  : 'keyup'\n              ;\n            }\n            return false;\n          },\n          selectValues: function() {\n            var\n              select = {}\n            ;\n            select.values = [];\n            $module\n              .find('option')\n                .each(function() {\n                  var\n                    $option  = $(this),\n                    name     = $option.html(),\n                    disabled = $option.attr('disabled'),\n                    value    = ( $option.attr('value') !== undefined )\n                      ? $option.attr('value')\n                      : name\n                  ;\n                  if(settings.placeholder === 'auto' && value === '') {\n                    select.placeholder = name;\n                  }\n                  else {\n                    select.values.push({\n                      name     : name,\n                      value    : value,\n                      disabled : disabled\n                    });\n                  }\n                })\n            ;\n            if(settings.placeholder && settings.placeholder !== 'auto') {\n              module.debug('Setting placeholder value to', settings.placeholder);\n              select.placeholder = settings.placeholder;\n            }\n            if(settings.sortSelect) {\n              select.values.sort(function(a, b) {\n                return (a.name > b.name)\n                  ? 1\n                  : -1\n                ;\n              });\n              module.debug('Retrieved and sorted values from select', select);\n            }\n            else {\n              module.debug('Retrieved values from select', select);\n            }\n            return select;\n          },\n          activeItem: function() {\n            return $item.filter('.'  + className.active);\n          },\n          selectedItem: function() {\n            var\n              $selectedItem = $item.not(selector.unselectable).filter('.'  + className.selected)\n            ;\n            return ($selectedItem.length > 0)\n              ? $selectedItem\n              : $item.eq(0)\n            ;\n          },\n          itemWithAdditions: function(value) {\n            var\n              $items       = module.get.item(value),\n              $userItems   = module.create.userChoice(value),\n              hasUserItems = ($userItems && $userItems.length > 0)\n            ;\n            if(hasUserItems) {\n              $items = ($items.length > 0)\n                ? $items.add($userItems)\n                : $userItems\n              ;\n            }\n            return $items;\n          },\n          item: function(value, strict) {\n            var\n              $selectedItem = false,\n              shouldSearch,\n              isMultiple\n            ;\n            value = (value !== undefined)\n              ? value\n              : ( module.get.values() !== undefined)\n                ? module.get.values()\n                : module.get.text()\n            ;\n            shouldSearch = (isMultiple)\n              ? (value.length > 0)\n              : (value !== undefined && value !== null)\n            ;\n            isMultiple = (module.is.multiple() && $.isArray(value));\n            strict     = (value === '' || value === 0)\n              ? true\n              : strict || false\n            ;\n            if(shouldSearch) {\n              $item\n                .each(function() {\n                  var\n                    $choice       = $(this),\n                    optionText    = module.get.choiceText($choice),\n                    optionValue   = module.get.choiceValue($choice, optionText)\n                  ;\n                  // safe early exit\n                  if(optionValue === null || optionValue === undefined) {\n                    return;\n                  }\n                  if(isMultiple) {\n                    if($.inArray( String(optionValue), value) !== -1 || $.inArray(optionText, value) !== -1) {\n                      $selectedItem = ($selectedItem)\n                        ? $selectedItem.add($choice)\n                        : $choice\n                      ;\n                    }\n                  }\n                  else if(strict) {\n                    module.verbose('Ambiguous dropdown value using strict type check', $choice, value);\n                    if( optionValue === value || optionText === value) {\n                      $selectedItem = $choice;\n                      return true;\n                    }\n                  }\n                  else {\n                    if( String(optionValue) == String(value) || optionText == value) {\n                      module.verbose('Found select item by value', optionValue, value);\n                      $selectedItem = $choice;\n                      return true;\n                    }\n                  }\n                })\n              ;\n            }\n            return $selectedItem;\n          }\n        },\n\n        check: {\n          maxSelections: function(selectionCount) {\n            if(settings.maxSelections) {\n              selectionCount = (selectionCount !== undefined)\n                ? selectionCount\n                : module.get.selectionCount()\n              ;\n              if(selectionCount >= settings.maxSelections) {\n                module.debug('Maximum selection count reached');\n                if(settings.useLabels) {\n                  $item.addClass(className.filtered);\n                  module.add.message(message.maxSelections);\n                }\n                return true;\n              }\n              else {\n                module.verbose('No longer at maximum selection count');\n                module.remove.message();\n                module.remove.filteredItem();\n                if(module.is.searchSelection()) {\n                  module.filterItems();\n                }\n                return false;\n              }\n            }\n            return true;\n          }\n        },\n\n        restore: {\n          defaults: function() {\n            module.clear();\n            module.restore.defaultText();\n            module.restore.defaultValue();\n          },\n          defaultText: function() {\n            var\n              defaultText     = module.get.defaultText(),\n              placeholderText = module.get.placeholderText\n            ;\n            if(defaultText === placeholderText) {\n              module.debug('Restoring default placeholder text', defaultText);\n              module.set.placeholderText(defaultText);\n            }\n            else {\n              module.debug('Restoring default text', defaultText);\n              module.set.text(defaultText);\n            }\n          },\n          placeholderText: function() {\n            module.set.placeholderText();\n          },\n          defaultValue: function() {\n            var\n              defaultValue = module.get.defaultValue()\n            ;\n            if(defaultValue !== undefined) {\n              module.debug('Restoring default value', defaultValue);\n              if(defaultValue !== '') {\n                module.set.value(defaultValue);\n                module.set.selected();\n              }\n              else {\n                module.remove.activeItem();\n                module.remove.selectedItem();\n              }\n            }\n          },\n          labels: function() {\n            if(settings.allowAdditions) {\n              if(!settings.useLabels) {\n                module.error(error.labels);\n                settings.useLabels = true;\n              }\n              module.debug('Restoring selected values');\n              module.create.userLabels();\n            }\n            module.check.maxSelections();\n          },\n          selected: function() {\n            module.restore.values();\n            if(module.is.multiple()) {\n              module.debug('Restoring previously selected values and labels');\n              module.restore.labels();\n            }\n            else {\n              module.debug('Restoring previously selected values');\n            }\n          },\n          values: function() {\n            // prevents callbacks from occurring on initial load\n            module.set.initialLoad();\n            if(settings.apiSettings && settings.saveRemoteData && module.get.remoteValues()) {\n              module.restore.remoteValues();\n            }\n            else {\n              module.set.selected();\n            }\n            module.remove.initialLoad();\n          },\n          remoteValues: function() {\n            var\n              values = module.get.remoteValues()\n            ;\n            module.debug('Recreating selected from session data', values);\n            if(values) {\n              if( module.is.single() ) {\n                $.each(values, function(value, name) {\n                  module.set.text(name);\n                });\n              }\n              else {\n                $.each(values, function(value, name) {\n                  module.add.label(value, name);\n                });\n              }\n            }\n          }\n        },\n\n        read: {\n          remoteData: function(value) {\n            var\n              name\n            ;\n            if(window.Storage === undefined) {\n              module.error(error.noStorage);\n              return;\n            }\n            name = sessionStorage.getItem(value);\n            return (name !== undefined)\n              ? name\n              : false\n            ;\n          }\n        },\n\n        save: {\n          defaults: function() {\n            module.save.defaultText();\n            module.save.placeholderText();\n            module.save.defaultValue();\n          },\n          defaultValue: function() {\n            var\n              value = module.get.value()\n            ;\n            module.verbose('Saving default value as', value);\n            $module.data(metadata.defaultValue, value);\n          },\n          defaultText: function() {\n            var\n              text = module.get.text()\n            ;\n            module.verbose('Saving default text as', text);\n            $module.data(metadata.defaultText, text);\n          },\n          placeholderText: function() {\n            var\n              text\n            ;\n            if(settings.placeholder !== false && $text.hasClass(className.placeholder)) {\n              text = module.get.text();\n              module.verbose('Saving placeholder text as', text);\n              $module.data(metadata.placeholderText, text);\n            }\n          },\n          remoteData: function(name, value) {\n            if(window.Storage === undefined) {\n              module.error(error.noStorage);\n              return;\n            }\n            module.verbose('Saving remote data to session storage', value, name);\n            sessionStorage.setItem(value, name);\n          }\n        },\n\n        clear: function() {\n          if(module.is.multiple() && settings.useLabels) {\n            module.remove.labels();\n          }\n          else {\n            module.remove.activeItem();\n            module.remove.selectedItem();\n          }\n          module.set.placeholderText();\n          module.clearValue();\n        },\n\n        clearValue: function() {\n          module.set.value('');\n        },\n\n        scrollPage: function(direction, $selectedItem) {\n          var\n            $currentItem  = $selectedItem || module.get.selectedItem(),\n            $menu         = $currentItem.closest(selector.menu),\n            menuHeight    = $menu.outerHeight(),\n            currentScroll = $menu.scrollTop(),\n            itemHeight    = $item.eq(0).outerHeight(),\n            itemsPerPage  = Math.floor(menuHeight / itemHeight),\n            maxScroll     = $menu.prop('scrollHeight'),\n            newScroll     = (direction == 'up')\n              ? currentScroll - (itemHeight * itemsPerPage)\n              : currentScroll + (itemHeight * itemsPerPage),\n            $selectableItem = $item.not(selector.unselectable),\n            isWithinRange,\n            $nextSelectedItem,\n            elementIndex\n          ;\n          elementIndex      = (direction == 'up')\n            ? $selectableItem.index($currentItem) - itemsPerPage\n            : $selectableItem.index($currentItem) + itemsPerPage\n          ;\n          isWithinRange = (direction == 'up')\n            ? (elementIndex >= 0)\n            : (elementIndex < $selectableItem.length)\n          ;\n          $nextSelectedItem = (isWithinRange)\n            ? $selectableItem.eq(elementIndex)\n            : (direction == 'up')\n              ? $selectableItem.first()\n              : $selectableItem.last()\n          ;\n          if($nextSelectedItem.length > 0) {\n            module.debug('Scrolling page', direction, $nextSelectedItem);\n            $currentItem\n              .removeClass(className.selected)\n            ;\n            $nextSelectedItem\n              .addClass(className.selected)\n            ;\n            if(settings.selectOnKeydown && module.is.single()) {\n              module.set.selectedItem($nextSelectedItem);\n            }\n            $menu\n              .scrollTop(newScroll)\n            ;\n          }\n        },\n\n        set: {\n          filtered: function() {\n            var\n              isMultiple       = module.is.multiple(),\n              isSearch         = module.is.searchSelection(),\n              isSearchMultiple = (isMultiple && isSearch),\n              searchValue      = (isSearch)\n                ? module.get.query()\n                : '',\n              hasSearchValue   = (typeof searchValue === 'string' && searchValue.length > 0),\n              searchWidth      = module.get.searchWidth(),\n              valueIsSet       = searchValue !== ''\n            ;\n            if(isMultiple && hasSearchValue) {\n              module.verbose('Adjusting input width', searchWidth, settings.glyphWidth);\n              $search.css('width', searchWidth);\n            }\n            if(hasSearchValue || (isSearchMultiple && valueIsSet)) {\n              module.verbose('Hiding placeholder text');\n              $text.addClass(className.filtered);\n            }\n            else if(!isMultiple || (isSearchMultiple && !valueIsSet)) {\n              module.verbose('Showing placeholder text');\n              $text.removeClass(className.filtered);\n            }\n          },\n          empty: function() {\n            $module.addClass(className.empty);\n          },\n          loading: function() {\n            $module.addClass(className.loading);\n          },\n          placeholderText: function(text) {\n            text = text || module.get.placeholderText();\n            module.debug('Setting placeholder text', text);\n            module.set.text(text);\n            $text.addClass(className.placeholder);\n          },\n          tabbable: function() {\n            if( module.is.searchSelection() ) {\n              module.debug('Added tabindex to searchable dropdown');\n              $search\n                .val('')\n                .attr('tabindex', 0)\n              ;\n              $menu\n                .attr('tabindex', -1)\n              ;\n            }\n            else {\n              module.debug('Added tabindex to dropdown');\n              if( $module.attr('tabindex') === undefined) {\n                $module\n                  .attr('tabindex', 0)\n                ;\n                $menu\n                  .attr('tabindex', -1)\n                ;\n              }\n            }\n          },\n          initialLoad: function() {\n            module.verbose('Setting initial load');\n            initialLoad = true;\n          },\n          activeItem: function($item) {\n            if( settings.allowAdditions && $item.filter(selector.addition).length > 0 ) {\n              $item.addClass(className.filtered);\n            }\n            else {\n              $item.addClass(className.active);\n            }\n          },\n          partialSearch: function(text) {\n            var\n              length = module.get.query().length\n            ;\n            $search.val( text.substr(0, length));\n          },\n          scrollPosition: function($item, forceScroll) {\n            var\n              edgeTolerance = 5,\n              $menu,\n              hasActive,\n              offset,\n              itemHeight,\n              itemOffset,\n              menuOffset,\n              menuScroll,\n              menuHeight,\n              abovePage,\n              belowPage\n            ;\n\n            $item       = $item || module.get.selectedItem();\n            $menu       = $item.closest(selector.menu);\n            hasActive   = ($item && $item.length > 0);\n            forceScroll = (forceScroll !== undefined)\n              ? forceScroll\n              : false\n            ;\n            if($item && $menu.length > 0 && hasActive) {\n              itemOffset = $item.position().top;\n\n              $menu.addClass(className.loading);\n              menuScroll = $menu.scrollTop();\n              menuOffset = $menu.offset().top;\n              itemOffset = $item.offset().top;\n              offset     = menuScroll - menuOffset + itemOffset;\n              if(!forceScroll) {\n                menuHeight = $menu.height();\n                belowPage  = menuScroll + menuHeight < (offset + edgeTolerance);\n                abovePage  = ((offset - edgeTolerance) < menuScroll);\n              }\n              module.debug('Scrolling to active item', offset);\n              if(forceScroll || abovePage || belowPage) {\n                $menu.scrollTop(offset);\n              }\n              $menu.removeClass(className.loading);\n            }\n          },\n          text: function(text) {\n            if(settings.action !== 'select') {\n              if(settings.action == 'combo') {\n                module.debug('Changing combo button text', text, $combo);\n                if(settings.preserveHTML) {\n                  $combo.html(text);\n                }\n                else {\n                  $combo.text(text);\n                }\n              }\n              else {\n                if(text !== module.get.placeholderText()) {\n                  $text.removeClass(className.placeholder);\n                }\n                module.debug('Changing text', text, $text);\n                $text\n                  .removeClass(className.filtered)\n                ;\n                if(settings.preserveHTML) {\n                  $text.html(text);\n                }\n                else {\n                  $text.text(text);\n                }\n              }\n            }\n          },\n          selectedItem: function($item) {\n            var\n              value      = module.get.choiceValue($item),\n              searchText = module.get.choiceText($item, false),\n              text       = module.get.choiceText($item, true)\n            ;\n            module.debug('Setting user selection to item', $item);\n            module.remove.activeItem();\n            module.set.partialSearch(searchText);\n            module.set.activeItem($item);\n            module.set.selected(value, $item);\n            module.set.text(text);\n          },\n          selectedLetter: function(letter) {\n            var\n              $selectedItem         = $item.filter('.' + className.selected),\n              alreadySelectedLetter = $selectedItem.length > 0 && module.has.firstLetter($selectedItem, letter),\n              $nextValue            = false,\n              $nextItem\n            ;\n            // check next of same letter\n            if(alreadySelectedLetter) {\n              $nextItem = $selectedItem.nextAll($item).eq(0);\n              if( module.has.firstLetter($nextItem, letter) ) {\n                $nextValue  = $nextItem;\n              }\n            }\n            // check all values\n            if(!$nextValue) {\n              $item\n                .each(function(){\n                  if(module.has.firstLetter($(this), letter)) {\n                    $nextValue = $(this);\n                    return false;\n                  }\n                })\n              ;\n            }\n            // set next value\n            if($nextValue) {\n              module.verbose('Scrolling to next value with letter', letter);\n              module.set.scrollPosition($nextValue);\n              $selectedItem.removeClass(className.selected);\n              $nextValue.addClass(className.selected);\n              if(settings.selectOnKeydown && module.is.single()) {\n                module.set.selectedItem($nextValue);\n              }\n            }\n          },\n          direction: function($menu) {\n            if(settings.direction == 'auto') {\n              // reset position\n              module.remove.upward();\n\n              if(module.can.openDownward($menu)) {\n                module.remove.upward($menu);\n              }\n              else {\n                module.set.upward($menu);\n              }\n              if(!module.is.leftward($menu) && !module.can.openRightward($menu)) {\n                module.set.leftward($menu);\n              }\n            }\n            else if(settings.direction == 'upward') {\n              module.set.upward($menu);\n            }\n          },\n          upward: function($currentMenu) {\n            var $element = $currentMenu || $module;\n            $element.addClass(className.upward);\n          },\n          leftward: function($currentMenu) {\n            var $element = $currentMenu || $menu;\n            $element.addClass(className.leftward);\n          },\n          value: function(value, text, $selected) {\n            var\n              escapedValue = module.escape.value(value),\n              hasInput     = ($input.length > 0),\n              currentValue = module.get.values(),\n              stringValue  = (value !== undefined)\n                ? String(value)\n                : value,\n              newValue\n            ;\n            if(hasInput) {\n              if(!settings.allowReselection && stringValue == currentValue) {\n                module.verbose('Skipping value update already same value', value, currentValue);\n                if(!module.is.initialLoad()) {\n                  return;\n                }\n              }\n\n              if( module.is.single() && module.has.selectInput() && module.can.extendSelect() ) {\n                module.debug('Adding user option', value);\n                module.add.optionValue(value);\n              }\n              module.debug('Updating input value', escapedValue, currentValue);\n              internalChange = true;\n              $input\n                .val(escapedValue)\n              ;\n              if(settings.fireOnInit === false && module.is.initialLoad()) {\n                module.debug('Input native change event ignored on initial load');\n              }\n              else {\n                module.trigger.change();\n              }\n              internalChange = false;\n            }\n            else {\n              module.verbose('Storing value in metadata', escapedValue, $input);\n              if(escapedValue !== currentValue) {\n                $module.data(metadata.value, stringValue);\n              }\n            }\n            if(settings.fireOnInit === false && module.is.initialLoad()) {\n              module.verbose('No callback on initial load', settings.onChange);\n            }\n            else {\n              settings.onChange.call(element, value, text, $selected);\n            }\n          },\n          active: function() {\n            $module\n              .addClass(className.active)\n            ;\n          },\n          multiple: function() {\n            $module.addClass(className.multiple);\n          },\n          visible: function() {\n            $module.addClass(className.visible);\n          },\n          exactly: function(value, $selectedItem) {\n            module.debug('Setting selected to exact values');\n            module.clear();\n            module.set.selected(value, $selectedItem);\n          },\n          selected: function(value, $selectedItem) {\n            var\n              isMultiple = module.is.multiple(),\n              $userSelectedItem\n            ;\n            $selectedItem = (settings.allowAdditions)\n              ? $selectedItem || module.get.itemWithAdditions(value)\n              : $selectedItem || module.get.item(value)\n            ;\n            if(!$selectedItem) {\n              return;\n            }\n            module.debug('Setting selected menu item to', $selectedItem);\n            if(module.is.multiple()) {\n              module.remove.searchWidth();\n            }\n            if(module.is.single()) {\n              module.remove.activeItem();\n              module.remove.selectedItem();\n            }\n            else if(settings.useLabels) {\n              module.remove.selectedItem();\n            }\n            // select each item\n            $selectedItem\n              .each(function() {\n                var\n                  $selected      = $(this),\n                  selectedText   = module.get.choiceText($selected),\n                  selectedValue  = module.get.choiceValue($selected, selectedText),\n\n                  isFiltered     = $selected.hasClass(className.filtered),\n                  isActive       = $selected.hasClass(className.active),\n                  isUserValue    = $selected.hasClass(className.addition),\n                  shouldAnimate  = (isMultiple && $selectedItem.length == 1)\n                ;\n                if(isMultiple) {\n                  if(!isActive || isUserValue) {\n                    if(settings.apiSettings && settings.saveRemoteData) {\n                      module.save.remoteData(selectedText, selectedValue);\n                    }\n                    if(settings.useLabels) {\n                      module.add.label(selectedValue, selectedText, shouldAnimate);\n                      module.add.value(selectedValue, selectedText, $selected);\n                      module.set.activeItem($selected);\n                      module.filterActive();\n                      module.select.nextAvailable($selectedItem);\n                    }\n                    else {\n                      module.add.value(selectedValue, selectedText, $selected);\n                      module.set.text(module.add.variables(message.count));\n                      module.set.activeItem($selected);\n                    }\n                  }\n                  else if(!isFiltered) {\n                    module.debug('Selected active value, removing label');\n                    module.remove.selected(selectedValue);\n                  }\n                }\n                else {\n                  if(settings.apiSettings && settings.saveRemoteData) {\n                    module.save.remoteData(selectedText, selectedValue);\n                  }\n                  module.set.text(selectedText);\n                  module.set.value(selectedValue, selectedText, $selected);\n                  $selected\n                    .addClass(className.active)\n                    .addClass(className.selected)\n                  ;\n                }\n              })\n            ;\n          }\n        },\n\n        add: {\n          label: function(value, text, shouldAnimate) {\n            var\n              $next  = module.is.searchSelection()\n                ? $search\n                : $text,\n              escapedValue = module.escape.value(value),\n              $label\n            ;\n            if(settings.ignoreCase) {\n              escapedValue = escapedValue.toLowerCase();\n            }\n            $label =  $('<a />')\n              .addClass(className.label)\n              .attr('data-' + metadata.value, escapedValue)\n              .html(templates.label(escapedValue, text))\n            ;\n            $label = settings.onLabelCreate.call($label, escapedValue, text);\n\n            if(module.has.label(value)) {\n              module.debug('User selection already exists, skipping', escapedValue);\n              return;\n            }\n            if(settings.label.variation) {\n              $label.addClass(settings.label.variation);\n            }\n            if(shouldAnimate === true) {\n              module.debug('Animating in label', $label);\n              $label\n                .addClass(className.hidden)\n                .insertBefore($next)\n                .transition(settings.label.transition, settings.label.duration)\n              ;\n            }\n            else {\n              module.debug('Adding selection label', $label);\n              $label\n                .insertBefore($next)\n              ;\n            }\n          },\n          message: function(message) {\n            var\n              $message = $menu.children(selector.message),\n              html     = settings.templates.message(module.add.variables(message))\n            ;\n            if($message.length > 0) {\n              $message\n                .html(html)\n              ;\n            }\n            else {\n              $message = $('<div/>')\n                .html(html)\n                .addClass(className.message)\n                .appendTo($menu)\n              ;\n            }\n          },\n          optionValue: function(value) {\n            var\n              escapedValue = module.escape.value(value),\n              $option      = $input.find('option[value=\"' + module.escape.string(escapedValue) + '\"]'),\n              hasOption    = ($option.length > 0)\n            ;\n            if(hasOption) {\n              return;\n            }\n            // temporarily disconnect observer\n            module.disconnect.selectObserver();\n            if( module.is.single() ) {\n              module.verbose('Removing previous user addition');\n              $input.find('option.' + className.addition).remove();\n            }\n            $('<option/>')\n              .prop('value', escapedValue)\n              .addClass(className.addition)\n              .html(value)\n              .appendTo($input)\n            ;\n            module.verbose('Adding user addition as an <option>', value);\n            module.observe.select();\n          },\n          userSuggestion: function(value) {\n            var\n              $addition         = $menu.children(selector.addition),\n              $existingItem     = module.get.item(value),\n              alreadyHasValue   = $existingItem && $existingItem.not(selector.addition).length,\n              hasUserSuggestion = $addition.length > 0,\n              html\n            ;\n            if(settings.useLabels && module.has.maxSelections()) {\n              return;\n            }\n            if(value === '' || alreadyHasValue) {\n              $addition.remove();\n              return;\n            }\n            if(hasUserSuggestion) {\n              $addition\n                .data(metadata.value, value)\n                .data(metadata.text, value)\n                .attr('data-' + metadata.value, value)\n                .attr('data-' + metadata.text, value)\n                .removeClass(className.filtered)\n              ;\n              if(!settings.hideAdditions) {\n                html = settings.templates.addition( module.add.variables(message.addResult, value) );\n                $addition\n                  .html(html)\n                ;\n              }\n              module.verbose('Replacing user suggestion with new value', $addition);\n            }\n            else {\n              $addition = module.create.userChoice(value);\n              $addition\n                .prependTo($menu)\n              ;\n              module.verbose('Adding item choice to menu corresponding with user choice addition', $addition);\n            }\n            if(!settings.hideAdditions || module.is.allFiltered()) {\n              $addition\n                .addClass(className.selected)\n                .siblings()\n                .removeClass(className.selected)\n              ;\n            }\n            module.refreshItems();\n          },\n          variables: function(message, term) {\n            var\n              hasCount    = (message.search('{count}') !== -1),\n              hasMaxCount = (message.search('{maxCount}') !== -1),\n              hasTerm     = (message.search('{term}') !== -1),\n              values,\n              count,\n              query\n            ;\n            module.verbose('Adding templated variables to message', message);\n            if(hasCount) {\n              count  = module.get.selectionCount();\n              message = message.replace('{count}', count);\n            }\n            if(hasMaxCount) {\n              count  = module.get.selectionCount();\n              message = message.replace('{maxCount}', settings.maxSelections);\n            }\n            if(hasTerm) {\n              query   = term || module.get.query();\n              message = message.replace('{term}', query);\n            }\n            return message;\n          },\n          value: function(addedValue, addedText, $selectedItem) {\n            var\n              currentValue = module.get.values(),\n              newValue\n            ;\n            if(module.has.value(addedValue)) {\n              module.debug('Value already selected');\n              return;\n            }\n            if(addedValue === '') {\n              module.debug('Cannot select blank values from multiselect');\n              return;\n            }\n            // extend current array\n            if($.isArray(currentValue)) {\n              newValue = currentValue.concat([addedValue]);\n              newValue = module.get.uniqueArray(newValue);\n            }\n            else {\n              newValue = [addedValue];\n            }\n            // add values\n            if( module.has.selectInput() ) {\n              if(module.can.extendSelect()) {\n                module.debug('Adding value to select', addedValue, newValue, $input);\n                module.add.optionValue(addedValue);\n              }\n            }\n            else {\n              newValue = newValue.join(settings.delimiter);\n              module.debug('Setting hidden input to delimited value', newValue, $input);\n            }\n\n            if(settings.fireOnInit === false && module.is.initialLoad()) {\n              module.verbose('Skipping onadd callback on initial load', settings.onAdd);\n            }\n            else {\n              settings.onAdd.call(element, addedValue, addedText, $selectedItem);\n            }\n            module.set.value(newValue, addedValue, addedText, $selectedItem);\n            module.check.maxSelections();\n          }\n        },\n\n        remove: {\n          active: function() {\n            $module.removeClass(className.active);\n          },\n          activeLabel: function() {\n            $module.find(selector.label).removeClass(className.active);\n          },\n          empty: function() {\n            $module.removeClass(className.empty);\n          },\n          loading: function() {\n            $module.removeClass(className.loading);\n          },\n          initialLoad: function() {\n            initialLoad = false;\n          },\n          upward: function($currentMenu) {\n            var $element = $currentMenu || $module;\n            $element.removeClass(className.upward);\n          },\n          leftward: function($currentMenu) {\n            var $element = $currentMenu || $menu;\n            $element.removeClass(className.leftward);\n          },\n          visible: function() {\n            $module.removeClass(className.visible);\n          },\n          activeItem: function() {\n            $item.removeClass(className.active);\n          },\n          filteredItem: function() {\n            if(settings.useLabels && module.has.maxSelections() ) {\n              return;\n            }\n            if(settings.useLabels && module.is.multiple()) {\n              $item.not('.' + className.active).removeClass(className.filtered);\n            }\n            else {\n              $item.removeClass(className.filtered);\n            }\n            module.remove.empty();\n          },\n          optionValue: function(value) {\n            var\n              escapedValue = module.escape.value(value),\n              $option      = $input.find('option[value=\"' + module.escape.string(escapedValue) + '\"]'),\n              hasOption    = ($option.length > 0)\n            ;\n            if(!hasOption || !$option.hasClass(className.addition)) {\n              return;\n            }\n            // temporarily disconnect observer\n            if(selectObserver) {\n              selectObserver.disconnect();\n              module.verbose('Temporarily disconnecting mutation observer');\n            }\n            $option.remove();\n            module.verbose('Removing user addition as an <option>', escapedValue);\n            if(selectObserver) {\n              selectObserver.observe($input[0], {\n                childList : true,\n                subtree   : true\n              });\n            }\n          },\n          message: function() {\n            $menu.children(selector.message).remove();\n          },\n          searchWidth: function() {\n            $search.css('width', '');\n          },\n          searchTerm: function() {\n            module.verbose('Cleared search term');\n            $search.val('');\n            module.set.filtered();\n          },\n          userAddition: function() {\n            $item.filter(selector.addition).remove();\n          },\n          selected: function(value, $selectedItem) {\n            $selectedItem = (settings.allowAdditions)\n              ? $selectedItem || module.get.itemWithAdditions(value)\n              : $selectedItem || module.get.item(value)\n            ;\n\n            if(!$selectedItem) {\n              return false;\n            }\n\n            $selectedItem\n              .each(function() {\n                var\n                  $selected     = $(this),\n                  selectedText  = module.get.choiceText($selected),\n                  selectedValue = module.get.choiceValue($selected, selectedText)\n                ;\n                if(module.is.multiple()) {\n                  if(settings.useLabels) {\n                    module.remove.value(selectedValue, selectedText, $selected);\n                    module.remove.label(selectedValue);\n                  }\n                  else {\n                    module.remove.value(selectedValue, selectedText, $selected);\n                    if(module.get.selectionCount() === 0) {\n                      module.set.placeholderText();\n                    }\n                    else {\n                      module.set.text(module.add.variables(message.count));\n                    }\n                  }\n                }\n                else {\n                  module.remove.value(selectedValue, selectedText, $selected);\n                }\n                $selected\n                  .removeClass(className.filtered)\n                  .removeClass(className.active)\n                ;\n                if(settings.useLabels) {\n                  $selected.removeClass(className.selected);\n                }\n              })\n            ;\n          },\n          selectedItem: function() {\n            $item.removeClass(className.selected);\n          },\n          value: function(removedValue, removedText, $removedItem) {\n            var\n              values = module.get.values(),\n              newValue\n            ;\n            if( module.has.selectInput() ) {\n              module.verbose('Input is <select> removing selected option', removedValue);\n              newValue = module.remove.arrayValue(removedValue, values);\n              module.remove.optionValue(removedValue);\n            }\n            else {\n              module.verbose('Removing from delimited values', removedValue);\n              newValue = module.remove.arrayValue(removedValue, values);\n              newValue = newValue.join(settings.delimiter);\n            }\n            if(settings.fireOnInit === false && module.is.initialLoad()) {\n              module.verbose('No callback on initial load', settings.onRemove);\n            }\n            else {\n              settings.onRemove.call(element, removedValue, removedText, $removedItem);\n            }\n            module.set.value(newValue, removedText, $removedItem);\n            module.check.maxSelections();\n          },\n          arrayValue: function(removedValue, values) {\n            if( !$.isArray(values) ) {\n              values = [values];\n            }\n            values = $.grep(values, function(value){\n              return (removedValue != value);\n            });\n            module.verbose('Removed value from delimited string', removedValue, values);\n            return values;\n          },\n          label: function(value, shouldAnimate) {\n            var\n              $labels       = $module.find(selector.label),\n              $removedLabel = $labels.filter('[data-' + metadata.value + '=\"' + module.escape.string(value) +'\"]')\n            ;\n            module.verbose('Removing label', $removedLabel);\n            $removedLabel.remove();\n          },\n          activeLabels: function($activeLabels) {\n            $activeLabels = $activeLabels || $module.find(selector.label).filter('.' + className.active);\n            module.verbose('Removing active label selections', $activeLabels);\n            module.remove.labels($activeLabels);\n          },\n          labels: function($labels) {\n            $labels = $labels || $module.find(selector.label);\n            module.verbose('Removing labels', $labels);\n            $labels\n              .each(function(){\n                var\n                  $label      = $(this),\n                  value       = $label.data(metadata.value),\n                  stringValue = (value !== undefined)\n                    ? String(value)\n                    : value,\n                  isUserValue = module.is.userValue(stringValue)\n                ;\n                if(settings.onLabelRemove.call($label, value) === false) {\n                  module.debug('Label remove callback cancelled removal');\n                  return;\n                }\n                module.remove.message();\n                if(isUserValue) {\n                  module.remove.value(stringValue);\n                  module.remove.label(stringValue);\n                }\n                else {\n                  // selected will also remove label\n                  module.remove.selected(stringValue);\n                }\n              })\n            ;\n          },\n          tabbable: function() {\n            if( module.is.searchSelection() ) {\n              module.debug('Searchable dropdown initialized');\n              $search\n                .removeAttr('tabindex')\n              ;\n              $menu\n                .removeAttr('tabindex')\n              ;\n            }\n            else {\n              module.debug('Simple selection dropdown initialized');\n              $module\n                .removeAttr('tabindex')\n              ;\n              $menu\n                .removeAttr('tabindex')\n              ;\n            }\n          }\n        },\n\n        has: {\n          menuSearch: function() {\n            return (module.has.search() && $search.closest($menu).length > 0);\n          },\n          search: function() {\n            return ($search.length > 0);\n          },\n          sizer: function() {\n            return ($sizer.length > 0);\n          },\n          selectInput: function() {\n            return ( $input.is('select') );\n          },\n          minCharacters: function(searchTerm) {\n            if(settings.minCharacters) {\n              searchTerm = (searchTerm !== undefined)\n                ? String(searchTerm)\n                : String(module.get.query())\n              ;\n              return (searchTerm.length >= settings.minCharacters);\n            }\n            return true;\n          },\n          firstLetter: function($item, letter) {\n            var\n              text,\n              firstLetter\n            ;\n            if(!$item || $item.length === 0 || typeof letter !== 'string') {\n              return false;\n            }\n            text        = module.get.choiceText($item, false);\n            letter      = letter.toLowerCase();\n            firstLetter = String(text).charAt(0).toLowerCase();\n            return (letter == firstLetter);\n          },\n          input: function() {\n            return ($input.length > 0);\n          },\n          items: function() {\n            return ($item.length > 0);\n          },\n          menu: function() {\n            return ($menu.length > 0);\n          },\n          message: function() {\n            return ($menu.children(selector.message).length !== 0);\n          },\n          label: function(value) {\n            var\n              escapedValue = module.escape.value(value),\n              $labels      = $module.find(selector.label)\n            ;\n            if(settings.ignoreCase) {\n              escapedValue = escapedValue.toLowerCase();\n            }\n            return ($labels.filter('[data-' + metadata.value + '=\"' + module.escape.string(escapedValue) +'\"]').length > 0);\n          },\n          maxSelections: function() {\n            return (settings.maxSelections && module.get.selectionCount() >= settings.maxSelections);\n          },\n          allResultsFiltered: function() {\n            var\n              $normalResults = $item.not(selector.addition)\n            ;\n            return ($normalResults.filter(selector.unselectable).length === $normalResults.length);\n          },\n          userSuggestion: function() {\n            return ($menu.children(selector.addition).length > 0);\n          },\n          query: function() {\n            return (module.get.query() !== '');\n          },\n          value: function(value) {\n            return (settings.ignoreCase)\n              ? module.has.valueIgnoringCase(value)\n              : module.has.valueMatchingCase(value)\n            ;\n          },\n          valueMatchingCase: function(value) {\n            var\n              values   = module.get.values(),\n              hasValue = $.isArray(values)\n               ? values && ($.inArray(value, values) !== -1)\n               : (values == value)\n            ;\n            return (hasValue)\n              ? true\n              : false\n            ;\n          },\n          valueIgnoringCase: function(value) {\n            var\n              values   = module.get.values(),\n              hasValue = false\n            ;\n            if(!$.isArray(values)) {\n              values = [values];\n            }\n            $.each(values, function(index, existingValue) {\n              if(String(value).toLowerCase() == String(existingValue).toLowerCase()) {\n                hasValue = true;\n                return false;\n              }\n            });\n            return hasValue;\n          }\n        },\n\n        is: {\n          active: function() {\n            return $module.hasClass(className.active);\n          },\n          animatingInward: function() {\n            return $menu.transition('is inward');\n          },\n          animatingOutward: function() {\n            return $menu.transition('is outward');\n          },\n          bubbledLabelClick: function(event) {\n            return $(event.target).is('select, input') && $module.closest('label').length > 0;\n          },\n          bubbledIconClick: function(event) {\n            return $(event.target).closest($icon).length > 0;\n          },\n          alreadySetup: function() {\n            return ($module.is('select') && $module.parent(selector.dropdown).data(moduleNamespace) !== undefined && $module.prev().length === 0);\n          },\n          animating: function($subMenu) {\n            return ($subMenu)\n              ? $subMenu.transition && $subMenu.transition('is animating')\n              : $menu.transition    && $menu.transition('is animating')\n            ;\n          },\n          leftward: function($subMenu) {\n            var $selectedMenu = $subMenu || $menu;\n            return $selectedMenu.hasClass(className.leftward);\n          },\n          disabled: function() {\n            return $module.hasClass(className.disabled);\n          },\n          focused: function() {\n            return (document.activeElement === $module[0]);\n          },\n          focusedOnSearch: function() {\n            return (document.activeElement === $search[0]);\n          },\n          allFiltered: function() {\n            return( (module.is.multiple() || module.has.search()) && !(settings.hideAdditions == false && module.has.userSuggestion()) && !module.has.message() && module.has.allResultsFiltered() );\n          },\n          hidden: function($subMenu) {\n            return !module.is.visible($subMenu);\n          },\n          initialLoad: function() {\n            return initialLoad;\n          },\n          inObject: function(needle, object) {\n            var\n              found = false\n            ;\n            $.each(object, function(index, property) {\n              if(property == needle) {\n                found = true;\n                return true;\n              }\n            });\n            return found;\n          },\n          multiple: function() {\n            return $module.hasClass(className.multiple);\n          },\n          remote: function() {\n            return settings.apiSettings && module.can.useAPI();\n          },\n          single: function() {\n            return !module.is.multiple();\n          },\n          selectMutation: function(mutations) {\n            var\n              selectChanged = false\n            ;\n            $.each(mutations, function(index, mutation) {\n              if(mutation.target && $(mutation.target).is('select')) {\n                selectChanged = true;\n                return true;\n              }\n            });\n            return selectChanged;\n          },\n          search: function() {\n            return $module.hasClass(className.search);\n          },\n          searchSelection: function() {\n            return ( module.has.search() && $search.parent(selector.dropdown).length === 1 );\n          },\n          selection: function() {\n            return $module.hasClass(className.selection);\n          },\n          userValue: function(value) {\n            return ($.inArray(value, module.get.userValues()) !== -1);\n          },\n          upward: function($menu) {\n            var $element = $menu || $module;\n            return $element.hasClass(className.upward);\n          },\n          visible: function($subMenu) {\n            return ($subMenu)\n              ? $subMenu.hasClass(className.visible)\n              : $menu.hasClass(className.visible)\n            ;\n          },\n          verticallyScrollableContext: function() {\n            var\n              overflowY = ($context.get(0) !== window)\n                ? $context.css('overflow-y')\n                : false\n            ;\n            return (overflowY == 'auto' || overflowY == 'scroll');\n          },\n          horizontallyScrollableContext: function() {\n            var\n              overflowX = ($context.get(0) !== window)\n                ? $context.css('overflow-X')\n                : false\n            ;\n            return (overflowX == 'auto' || overflowX == 'scroll');\n          }\n        },\n\n        can: {\n          activate: function($item) {\n            if(settings.useLabels) {\n              return true;\n            }\n            if(!module.has.maxSelections()) {\n              return true;\n            }\n            if(module.has.maxSelections() && $item.hasClass(className.active)) {\n              return true;\n            }\n            return false;\n          },\n          openDownward: function($subMenu) {\n            var\n              $currentMenu    = $subMenu || $menu,\n              canOpenDownward = true,\n              onScreen        = {},\n              calculations\n            ;\n            $currentMenu\n              .addClass(className.loading)\n            ;\n            calculations = {\n              context: {\n                offset    : ($context.get(0) === window)\n                  ? { top: 0, left: 0}\n                  : $context.offset(),\n                scrollTop : $context.scrollTop(),\n                height    : $context.outerHeight()\n              },\n              menu : {\n                offset: $currentMenu.offset(),\n                height: $currentMenu.outerHeight()\n              }\n            };\n            if(module.is.verticallyScrollableContext()) {\n              calculations.menu.offset.top += calculations.context.scrollTop;\n            }\n            onScreen = {\n              above : (calculations.context.scrollTop) <= calculations.menu.offset.top - calculations.context.offset.top - calculations.menu.height,\n              below : (calculations.context.scrollTop + calculations.context.height) >= calculations.menu.offset.top - calculations.context.offset.top + calculations.menu.height\n            };\n            if(onScreen.below) {\n              module.verbose('Dropdown can fit in context downward', onScreen);\n              canOpenDownward = true;\n            }\n            else if(!onScreen.below && !onScreen.above) {\n              module.verbose('Dropdown cannot fit in either direction, favoring downward', onScreen);\n              canOpenDownward = true;\n            }\n            else {\n              module.verbose('Dropdown cannot fit below, opening upward', onScreen);\n              canOpenDownward = false;\n            }\n            $currentMenu.removeClass(className.loading);\n            return canOpenDownward;\n          },\n          openRightward: function($subMenu) {\n            var\n              $currentMenu     = $subMenu || $menu,\n              canOpenRightward = true,\n              isOffscreenRight = false,\n              calculations\n            ;\n            $currentMenu\n              .addClass(className.loading)\n            ;\n            calculations = {\n              context: {\n                offset     : ($context.get(0) === window)\n                  ? { top: 0, left: 0}\n                  : $context.offset(),\n                scrollLeft : $context.scrollLeft(),\n                width      : $context.outerWidth()\n              },\n              menu: {\n                offset : $currentMenu.offset(),\n                width  : $currentMenu.outerWidth()\n              }\n            };\n            if(module.is.horizontallyScrollableContext()) {\n              calculations.menu.offset.left += calculations.context.scrollLeft;\n            }\n            isOffscreenRight = (calculations.menu.offset.left - calculations.context.offset.left + calculations.menu.width >= calculations.context.scrollLeft + calculations.context.width);\n            if(isOffscreenRight) {\n              module.verbose('Dropdown cannot fit in context rightward', isOffscreenRight);\n              canOpenRightward = false;\n            }\n            $currentMenu.removeClass(className.loading);\n            return canOpenRightward;\n          },\n          click: function() {\n            return (hasTouch || settings.on == 'click');\n          },\n          extendSelect: function() {\n            return settings.allowAdditions || settings.apiSettings;\n          },\n          show: function() {\n            return !module.is.disabled() && (module.has.items() || module.has.message());\n          },\n          useAPI: function() {\n            return $.fn.api !== undefined;\n          }\n        },\n\n        animate: {\n          show: function(callback, $subMenu) {\n            var\n              $currentMenu = $subMenu || $menu,\n              start = ($subMenu)\n                ? function() {}\n                : function() {\n                  module.hideSubMenus();\n                  module.hideOthers();\n                  module.set.active();\n                },\n              transition\n            ;\n            callback = $.isFunction(callback)\n              ? callback\n              : function(){}\n            ;\n            module.verbose('Doing menu show animation', $currentMenu);\n            module.set.direction($subMenu);\n            transition = module.get.transition($subMenu);\n            if( module.is.selection() ) {\n              module.set.scrollPosition(module.get.selectedItem(), true);\n            }\n            if( module.is.hidden($currentMenu) || module.is.animating($currentMenu) ) {\n              if(transition == 'none') {\n                start();\n                $currentMenu.transition('show');\n                callback.call(element);\n              }\n              else if($.fn.transition !== undefined && $module.transition('is supported')) {\n                $currentMenu\n                  .transition({\n                    animation  : transition + ' in',\n                    debug      : settings.debug,\n                    verbose    : settings.verbose,\n                    duration   : settings.duration,\n                    queue      : true,\n                    onStart    : start,\n                    onComplete : function() {\n                      callback.call(element);\n                    }\n                  })\n                ;\n              }\n              else {\n                module.error(error.noTransition, transition);\n              }\n            }\n          },\n          hide: function(callback, $subMenu) {\n            var\n              $currentMenu = $subMenu || $menu,\n              duration = ($subMenu)\n                ? (settings.duration * 0.9)\n                : settings.duration,\n              start = ($subMenu)\n                ? function() {}\n                : function() {\n                  if( module.can.click() ) {\n                    module.unbind.intent();\n                  }\n                  module.remove.active();\n                },\n              transition = module.get.transition($subMenu)\n            ;\n            callback = $.isFunction(callback)\n              ? callback\n              : function(){}\n            ;\n            if( module.is.visible($currentMenu) || module.is.animating($currentMenu) ) {\n              module.verbose('Doing menu hide animation', $currentMenu);\n\n              if(transition == 'none') {\n                start();\n                $currentMenu.transition('hide');\n                callback.call(element);\n              }\n              else if($.fn.transition !== undefined && $module.transition('is supported')) {\n                $currentMenu\n                  .transition({\n                    animation  : transition + ' out',\n                    duration   : settings.duration,\n                    debug      : settings.debug,\n                    verbose    : settings.verbose,\n                    queue      : false,\n                    onStart    : start,\n                    onComplete : function() {\n                      callback.call(element);\n                    }\n                  })\n                ;\n              }\n              else {\n                module.error(error.transition);\n              }\n            }\n          }\n        },\n\n        hideAndClear: function() {\n          module.remove.searchTerm();\n          if( module.has.maxSelections() ) {\n            return;\n          }\n          if(module.has.search()) {\n            module.hide(function() {\n              module.remove.filteredItem();\n            });\n          }\n          else {\n            module.hide();\n          }\n        },\n\n        delay: {\n          show: function() {\n            module.verbose('Delaying show event to ensure user intent');\n            clearTimeout(module.timer);\n            module.timer = setTimeout(module.show, settings.delay.show);\n          },\n          hide: function() {\n            module.verbose('Delaying hide event to ensure user intent');\n            clearTimeout(module.timer);\n            module.timer = setTimeout(module.hide, settings.delay.hide);\n          }\n        },\n\n        escape: {\n          value: function(value) {\n            var\n              multipleValues = $.isArray(value),\n              stringValue    = (typeof value === 'string'),\n              isUnparsable   = (!stringValue && !multipleValues),\n              hasQuotes      = (stringValue && value.search(regExp.quote) !== -1),\n              values         = []\n            ;\n            if(isUnparsable || !hasQuotes) {\n              return value;\n            }\n            module.debug('Encoding quote values for use in select', value);\n            if(multipleValues) {\n              $.each(value, function(index, value){\n                values.push(value.replace(regExp.quote, '&quot;'));\n              });\n              return values;\n            }\n            return value.replace(regExp.quote, '&quot;');\n          },\n          string: function(text) {\n            text =  String(text);\n            return text.replace(regExp.escape, '\\\\$&');\n          }\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : $allModules\n  ;\n};\n\n$.fn.dropdown.settings = {\n\n  silent                 : false,\n  debug                  : false,\n  verbose                : false,\n  performance            : true,\n\n  on                     : 'click',    // what event should show menu action on item selection\n  action                 : 'activate', // action on item selection (nothing, activate, select, combo, hide, function(){})\n\n  values                 : false,      // specify values to use for dropdown\n\n  apiSettings            : false,\n  selectOnKeydown        : true,       // Whether selection should occur automatically when keyboard shortcuts used\n  minCharacters          : 0,          // Minimum characters required to trigger API call\n\n  filterRemoteData       : false,      // Whether API results should be filtered after being returned for query term\n  saveRemoteData         : true,       // Whether remote name/value pairs should be stored in sessionStorage to allow remote data to be restored on page refresh\n\n  throttle               : 200,        // How long to wait after last user input to search remotely\n\n  context                : window,     // Context to use when determining if on screen\n  direction              : 'auto',     // Whether dropdown should always open in one direction\n  keepOnScreen           : true,       // Whether dropdown should check whether it is on screen before showing\n\n  match                  : 'both',     // what to match against with search selection (both, text, or label)\n  fullTextSearch         : false,      // search anywhere in value (set to 'exact' to require exact matches)\n\n  placeholder            : 'auto',     // whether to convert blank <select> values to placeholder text\n  preserveHTML           : true,       // preserve html when selecting value\n  sortSelect             : false,      // sort selection on init\n\n  forceSelection         : true,       // force a choice on blur with search selection\n\n  allowAdditions         : false,      // whether multiple select should allow user added values\n  ignoreCase             : false,       // whether to consider values not matching in case to be the same\n  hideAdditions          : true,       // whether or not to hide special message prompting a user they can enter a value\n\n  maxSelections          : false,      // When set to a number limits the number of selections to this count\n  useLabels              : true,       // whether multiple select should filter currently active selections from choices\n  delimiter              : ',',        // when multiselect uses normal <input> the values will be delimited with this character\n\n  showOnFocus            : true,       // show menu on focus\n  allowReselection       : false,      // whether current value should trigger callbacks when reselected\n  allowTab               : true,       // add tabindex to element\n  allowCategorySelection : false,      // allow elements with sub-menus to be selected\n\n  fireOnInit             : false,      // Whether callbacks should fire when initializing dropdown values\n\n  transition             : 'auto',     // auto transition will slide down or up based on direction\n  duration               : 200,        // duration of transition\n\n  glyphWidth             : 1.037,      // widest glyph width in em (W is 1.037 em) used to calculate multiselect input width\n\n  // label settings on multi-select\n  label: {\n    transition : 'scale',\n    duration   : 200,\n    variation  : false\n  },\n\n  // delay before event\n  delay : {\n    hide   : 300,\n    show   : 200,\n    search : 20,\n    touch  : 50\n  },\n\n  /* Callbacks */\n  onChange      : function(value, text, $selected){},\n  onAdd         : function(value, text, $selected){},\n  onRemove      : function(value, text, $selected){},\n\n  onLabelSelect : function($selectedLabels){},\n  onLabelCreate : function(value, text) { return $(this); },\n  onLabelRemove : function(value) { return true; },\n  onNoResults   : function(searchTerm) { return true; },\n  onShow        : function(){},\n  onHide        : function(){},\n\n  /* Component */\n  name           : 'Dropdown',\n  namespace      : 'dropdown',\n\n  message: {\n    addResult     : 'Add <b>{term}</b>',\n    count         : '{count} selected',\n    maxSelections : 'Max {maxCount} selections',\n    noResults     : 'No results found.',\n    serverError   : 'There was an error contacting the server'\n  },\n\n  error : {\n    action          : 'You called a dropdown action that was not defined',\n    alreadySetup    : 'Once a select has been initialized behaviors must be called on the created ui dropdown',\n    labels          : 'Allowing user additions currently requires the use of labels.',\n    missingMultiple : '<select> requires multiple property to be set to correctly preserve multiple values',\n    method          : 'The method you called is not defined.',\n    noAPI           : 'The API module is required to load resources remotely',\n    noStorage       : 'Saving remote data requires session storage',\n    noTransition    : 'This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>'\n  },\n\n  regExp : {\n    escape   : /[-[\\]{}()*+?.,\\\\^$|#\\s]/g,\n    quote    : /\"/g\n  },\n\n  metadata : {\n    defaultText     : 'defaultText',\n    defaultValue    : 'defaultValue',\n    placeholderText : 'placeholder',\n    text            : 'text',\n    value           : 'value'\n  },\n\n  // property names for remote query\n  fields: {\n    remoteValues : 'results',  // grouping for api results\n    values       : 'values',   // grouping for all dropdown values\n    disabled     : 'disabled', // whether value should be disabled\n    name         : 'name',     // displayed dropdown text\n    value        : 'value',    // actual dropdown value\n    text         : 'text'      // displayed text when selected\n  },\n\n  keys : {\n    backspace  : 8,\n    delimiter  : 188, // comma\n    deleteKey  : 46,\n    enter      : 13,\n    escape     : 27,\n    pageUp     : 33,\n    pageDown   : 34,\n    leftArrow  : 37,\n    upArrow    : 38,\n    rightArrow : 39,\n    downArrow  : 40\n  },\n\n  selector : {\n    addition     : '.addition',\n    dropdown     : '.ui.dropdown',\n    hidden       : '.hidden',\n    icon         : '> .dropdown.icon',\n    input        : '> input[type=\"hidden\"], > select',\n    item         : '.item',\n    label        : '> .label',\n    remove       : '> .label > .delete.icon',\n    siblingLabel : '.label',\n    menu         : '.menu',\n    message      : '.message',\n    menuIcon     : '.dropdown.icon',\n    search       : 'input.search, .menu > .search > input, .menu input.search',\n    sizer        : '> input.sizer',\n    text         : '> .text:not(.icon)',\n    unselectable : '.disabled, .filtered'\n  },\n\n  className : {\n    active      : 'active',\n    addition    : 'addition',\n    animating   : 'animating',\n    disabled    : 'disabled',\n    empty       : 'empty',\n    dropdown    : 'ui dropdown',\n    filtered    : 'filtered',\n    hidden      : 'hidden transition',\n    item        : 'item',\n    label       : 'ui label',\n    loading     : 'loading',\n    menu        : 'menu',\n    message     : 'message',\n    multiple    : 'multiple',\n    placeholder : 'default',\n    sizer       : 'sizer',\n    search      : 'search',\n    selected    : 'selected',\n    selection   : 'selection',\n    upward      : 'upward',\n    leftward    : 'left',\n    visible     : 'visible'\n  }\n\n};\n\n/* Templates */\n$.fn.dropdown.settings.templates = {\n\n  // generates dropdown from select values\n  dropdown: function(select) {\n    var\n      placeholder = select.placeholder || false,\n      values      = select.values || {},\n      html        = ''\n    ;\n    html +=  '<i class=\"dropdown icon\"></i>';\n    if(select.placeholder) {\n      html += '<div class=\"default text\">' + placeholder + '</div>';\n    }\n    else {\n      html += '<div class=\"text\"></div>';\n    }\n    html += '<div class=\"menu\">';\n    $.each(select.values, function(index, option) {\n      html += (option.disabled)\n        ? '<div class=\"disabled item\" data-value=\"' + option.value + '\">' + option.name + '</div>'\n        : '<div class=\"item\" data-value=\"' + option.value + '\">' + option.name + '</div>'\n      ;\n    });\n    html += '</div>';\n    return html;\n  },\n\n  // generates just menu from select\n  menu: function(response, fields) {\n    var\n      values = response[fields.values] || {},\n      html   = ''\n    ;\n    $.each(values, function(index, option) {\n      var\n        maybeText = (option[fields.text])\n          ? 'data-text=\"' + option[fields.text] + '\"'\n          : '',\n        maybeDisabled = (option[fields.disabled])\n          ? 'disabled '\n          : ''\n      ;\n      html += '<div class=\"'+ maybeDisabled +'item\" data-value=\"' + option[fields.value] + '\"' + maybeText + '>';\n      html +=   option[fields.name];\n      html += '</div>';\n    });\n    return html;\n  },\n\n  // generates label for multiselect\n  label: function(value, text) {\n    return text + '<i class=\"delete icon\"></i>';\n  },\n\n\n  // generates messages like \"No results\"\n  message: function(message) {\n    return message;\n  },\n\n  // generates user addition to selection menu\n  addition: function(choice) {\n    return choice;\n  }\n\n};\n\n})( jQuery, window, document );\n","/*!\n * # Semantic UI - Embed\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.embed = function(parameters) {\n\n  var\n    $allModules     = $(this),\n\n    moduleSelector  = $allModules.selector || '',\n\n    time            = new Date().getTime(),\n    performance     = [],\n\n    query           = arguments[0],\n    methodInvoked   = (typeof query == 'string'),\n    queryArguments  = [].slice.call(arguments, 1),\n\n    returnedValue\n  ;\n\n  $allModules\n    .each(function() {\n      var\n        settings        = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.embed.settings, parameters)\n          : $.extend({}, $.fn.embed.settings),\n\n        selector        = settings.selector,\n        className       = settings.className,\n        sources         = settings.sources,\n        error           = settings.error,\n        metadata        = settings.metadata,\n        namespace       = settings.namespace,\n        templates       = settings.templates,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n\n        $window         = $(window),\n        $module         = $(this),\n        $placeholder    = $module.find(selector.placeholder),\n        $icon           = $module.find(selector.icon),\n        $embed          = $module.find(selector.embed),\n\n        element         = this,\n        instance        = $module.data(moduleNamespace),\n        module\n      ;\n\n      module = {\n\n        initialize: function() {\n          module.debug('Initializing embed');\n          module.determine.autoplay();\n          module.create();\n          module.bind.events();\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous instance of embed');\n          module.reset();\n          $module\n            .removeData(moduleNamespace)\n            .off(eventNamespace)\n          ;\n        },\n\n        refresh: function() {\n          module.verbose('Refreshing selector cache');\n          $placeholder = $module.find(selector.placeholder);\n          $icon        = $module.find(selector.icon);\n          $embed       = $module.find(selector.embed);\n        },\n\n        bind: {\n          events: function() {\n            if( module.has.placeholder() ) {\n              module.debug('Adding placeholder events');\n              $module\n                .on('click' + eventNamespace, selector.placeholder, module.createAndShow)\n                .on('click' + eventNamespace, selector.icon, module.createAndShow)\n              ;\n            }\n          }\n        },\n\n        create: function() {\n          var\n            placeholder = module.get.placeholder()\n          ;\n          if(placeholder) {\n            module.createPlaceholder();\n          }\n          else {\n            module.createAndShow();\n          }\n        },\n\n        createPlaceholder: function(placeholder) {\n          var\n            icon  = module.get.icon(),\n            url   = module.get.url(),\n            embed = module.generate.embed(url)\n          ;\n          placeholder = placeholder || module.get.placeholder();\n          $module.html( templates.placeholder(placeholder, icon) );\n          module.debug('Creating placeholder for embed', placeholder, icon);\n        },\n\n        createEmbed: function(url) {\n          module.refresh();\n          url = url || module.get.url();\n          $embed = $('<div/>')\n            .addClass(className.embed)\n            .html( module.generate.embed(url) )\n            .appendTo($module)\n          ;\n          settings.onCreate.call(element, url);\n          module.debug('Creating embed object', $embed);\n        },\n\n        changeEmbed: function(url) {\n          $embed\n            .html( module.generate.embed(url) )\n          ;\n        },\n\n        createAndShow: function() {\n          module.createEmbed();\n          module.show();\n        },\n\n        // sets new embed\n        change: function(source, id, url) {\n          module.debug('Changing video to ', source, id, url);\n          $module\n            .data(metadata.source, source)\n            .data(metadata.id, id)\n          ;\n          if(url) {\n            $module.data(metadata.url, url);\n          }\n          else {\n            $module.removeData(metadata.url);\n          }\n          if(module.has.embed()) {\n            module.changeEmbed();\n          }\n          else {\n            module.create();\n          }\n        },\n\n        // clears embed\n        reset: function() {\n          module.debug('Clearing embed and showing placeholder');\n          module.remove.active();\n          module.remove.embed();\n          module.showPlaceholder();\n          settings.onReset.call(element);\n        },\n\n        // shows current embed\n        show: function() {\n          module.debug('Showing embed');\n          module.set.active();\n          settings.onDisplay.call(element);\n        },\n\n        hide: function() {\n          module.debug('Hiding embed');\n          module.showPlaceholder();\n        },\n\n        showPlaceholder: function() {\n          module.debug('Showing placeholder image');\n          module.remove.active();\n          settings.onPlaceholderDisplay.call(element);\n        },\n\n        get: {\n          id: function() {\n            return settings.id || $module.data(metadata.id);\n          },\n          placeholder: function() {\n            return settings.placeholder || $module.data(metadata.placeholder);\n          },\n          icon: function() {\n            return (settings.icon)\n              ? settings.icon\n              : ($module.data(metadata.icon) !== undefined)\n                ? $module.data(metadata.icon)\n                : module.determine.icon()\n            ;\n          },\n          source: function(url) {\n            return (settings.source)\n              ? settings.source\n              : ($module.data(metadata.source) !== undefined)\n                ? $module.data(metadata.source)\n                : module.determine.source()\n            ;\n          },\n          type: function() {\n            var source = module.get.source();\n            return (sources[source] !== undefined)\n              ? sources[source].type\n              : false\n            ;\n          },\n          url: function() {\n            return (settings.url)\n              ? settings.url\n              : ($module.data(metadata.url) !== undefined)\n                ? $module.data(metadata.url)\n                : module.determine.url()\n            ;\n          }\n        },\n\n        determine: {\n          autoplay: function() {\n            if(module.should.autoplay()) {\n              settings.autoplay = true;\n            }\n          },\n          source: function(url) {\n            var\n              matchedSource = false\n            ;\n            url = url || module.get.url();\n            if(url) {\n              $.each(sources, function(name, source) {\n                if(url.search(source.domain) !== -1) {\n                  matchedSource = name;\n                  return false;\n                }\n              });\n            }\n            return matchedSource;\n          },\n          icon: function() {\n            var\n              source = module.get.source()\n            ;\n            return (sources[source] !== undefined)\n              ? sources[source].icon\n              : false\n            ;\n          },\n          url: function() {\n            var\n              id     = settings.id     || $module.data(metadata.id),\n              source = settings.source || $module.data(metadata.source),\n              url\n            ;\n            url = (sources[source] !== undefined)\n              ? sources[source].url.replace('{id}', id)\n              : false\n            ;\n            if(url) {\n              $module.data(metadata.url, url);\n            }\n            return url;\n          }\n        },\n\n\n        set: {\n          active: function() {\n            $module.addClass(className.active);\n          }\n        },\n\n        remove: {\n          active: function() {\n            $module.removeClass(className.active);\n          },\n          embed: function() {\n            $embed.empty();\n          }\n        },\n\n        encode: {\n          parameters: function(parameters) {\n            var\n              urlString = [],\n              index\n            ;\n            for (index in parameters) {\n              urlString.push( encodeURIComponent(index) + '=' + encodeURIComponent( parameters[index] ) );\n            }\n            return urlString.join('&amp;');\n          }\n        },\n\n        generate: {\n          embed: function(url) {\n            module.debug('Generating embed html');\n            var\n              source = module.get.source(),\n              html,\n              parameters\n            ;\n            url = module.get.url(url);\n            if(url) {\n              parameters = module.generate.parameters(source);\n              html       = templates.iframe(url, parameters);\n            }\n            else {\n              module.error(error.noURL, $module);\n            }\n            return html;\n          },\n          parameters: function(source, extraParameters) {\n            var\n              parameters = (sources[source] && sources[source].parameters !== undefined)\n                ? sources[source].parameters(settings)\n                : {}\n            ;\n            extraParameters = extraParameters || settings.parameters;\n            if(extraParameters) {\n              parameters = $.extend({}, parameters, extraParameters);\n            }\n            parameters = settings.onEmbed(parameters);\n            return module.encode.parameters(parameters);\n          }\n        },\n\n        has: {\n          embed: function() {\n            return ($embed.length > 0);\n          },\n          placeholder: function() {\n            return settings.placeholder || $module.data(metadata.placeholder);\n          }\n        },\n\n        should: {\n          autoplay: function() {\n            return (settings.autoplay === 'auto')\n              ? (settings.placeholder || $module.data(metadata.placeholder) !== undefined)\n              : settings.autoplay\n            ;\n          }\n        },\n\n        is: {\n          video: function() {\n            return module.get.type() == 'video';\n          }\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.embed.settings = {\n\n  name        : 'Embed',\n  namespace   : 'embed',\n\n  silent      : false,\n  debug       : false,\n  verbose     : false,\n  performance : true,\n\n  icon     : false,\n  source   : false,\n  url      : false,\n  id       : false,\n\n  // standard video settings\n  autoplay  : 'auto',\n  color     : '#444444',\n  hd        : true,\n  brandedUI : false,\n\n  // additional parameters to include with the embed\n  parameters: false,\n\n  onDisplay            : function() {},\n  onPlaceholderDisplay : function() {},\n  onReset              : function() {},\n  onCreate             : function(url) {},\n  onEmbed              : function(parameters) {\n    return parameters;\n  },\n\n  metadata    : {\n    id          : 'id',\n    icon        : 'icon',\n    placeholder : 'placeholder',\n    source      : 'source',\n    url         : 'url'\n  },\n\n  error : {\n    noURL  : 'No URL specified',\n    method : 'The method you called is not defined'\n  },\n\n  className : {\n    active : 'active',\n    embed  : 'embed'\n  },\n\n  selector : {\n    embed       : '.embed',\n    placeholder : '.placeholder',\n    icon        : '.icon'\n  },\n\n  sources: {\n    youtube: {\n      name   : 'youtube',\n      type   : 'video',\n      icon   : 'video play',\n      domain : 'youtube.com',\n      url    : '//www.youtube.com/embed/{id}',\n      parameters: function(settings) {\n        return {\n          autohide       : !settings.brandedUI,\n          autoplay       : settings.autoplay,\n          color          : settings.color || undefined,\n          hq             : settings.hd,\n          jsapi          : settings.api,\n          modestbranding : !settings.brandedUI\n        };\n      }\n    },\n    vimeo: {\n      name   : 'vimeo',\n      type   : 'video',\n      icon   : 'video play',\n      domain : 'vimeo.com',\n      url    : '//player.vimeo.com/video/{id}',\n      parameters: function(settings) {\n        return {\n          api      : settings.api,\n          autoplay : settings.autoplay,\n          byline   : settings.brandedUI,\n          color    : settings.color || undefined,\n          portrait : settings.brandedUI,\n          title    : settings.brandedUI\n        };\n      }\n    }\n  },\n\n  templates: {\n    iframe : function(url, parameters) {\n      var src = url;\n      if (parameters) {\n          src += '?' + parameters;\n      }\n      return ''\n        + '<iframe src=\"' + src + '\"'\n        + ' width=\"100%\" height=\"100%\"'\n        + ' frameborder=\"0\" scrolling=\"no\" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'\n      ;\n    },\n    placeholder : function(image, icon) {\n      var\n        html = ''\n      ;\n      if(icon) {\n        html += '<i class=\"' + icon + ' icon\"></i>';\n      }\n      if(image) {\n        html += '<img class=\"placeholder\" src=\"' + image + '\">';\n      }\n      return html;\n    }\n  },\n\n  // NOT YET IMPLEMENTED\n  api     : false,\n  onPause : function() {},\n  onPlay  : function() {},\n  onStop  : function() {}\n\n};\n\n\n\n})( jQuery, window, document );\n","/*!\n * # Semantic UI - Modal\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.modal = function(parameters) {\n  var\n    $allModules    = $(this),\n    $window        = $(window),\n    $document      = $(document),\n    $body          = $('body'),\n\n    moduleSelector = $allModules.selector || '',\n\n    time           = new Date().getTime(),\n    performance    = [],\n\n    query          = arguments[0],\n    methodInvoked  = (typeof query == 'string'),\n    queryArguments = [].slice.call(arguments, 1),\n\n    requestAnimationFrame = window.requestAnimationFrame\n      || window.mozRequestAnimationFrame\n      || window.webkitRequestAnimationFrame\n      || window.msRequestAnimationFrame\n      || function(callback) { setTimeout(callback, 0); },\n\n    returnedValue\n  ;\n\n  $allModules\n    .each(function() {\n      var\n        settings    = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.modal.settings, parameters)\n          : $.extend({}, $.fn.modal.settings),\n\n        selector        = settings.selector,\n        className       = settings.className,\n        namespace       = settings.namespace,\n        error           = settings.error,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n\n        $module         = $(this),\n        $context        = $(settings.context),\n        $close          = $module.find(selector.close),\n\n        $allModals,\n        $otherModals,\n        $focusedElement,\n        $dimmable,\n        $dimmer,\n\n        element         = this,\n        instance        = $module.data(moduleNamespace),\n\n        ignoreRepeatedEvents = false,\n\n        elementEventNamespace,\n        id,\n        observer,\n        module\n      ;\n      module  = {\n\n        initialize: function() {\n          module.verbose('Initializing dimmer', $context);\n\n          module.create.id();\n          module.create.dimmer();\n          module.refreshModals();\n\n          module.bind.events();\n          if(settings.observeChanges) {\n            module.observeChanges();\n          }\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of modal');\n          instance = module;\n          $module\n            .data(moduleNamespace, instance)\n          ;\n        },\n\n        create: {\n          dimmer: function() {\n            var\n              defaultSettings = {\n                debug      : settings.debug,\n                variation  : settings.centered\n                  ? false\n                  : 'top aligned'\n                ,\n                dimmerName : 'modals'\n              },\n              dimmerSettings = $.extend(true, defaultSettings, settings.dimmerSettings)\n            ;\n            if($.fn.dimmer === undefined) {\n              module.error(error.dimmer);\n              return;\n            }\n            module.debug('Creating dimmer');\n            $dimmable = $context.dimmer(dimmerSettings);\n            if(settings.detachable) {\n              module.verbose('Modal is detachable, moving content into dimmer');\n              $dimmable.dimmer('add content', $module);\n            }\n            else {\n              module.set.undetached();\n            }\n            $dimmer = $dimmable.dimmer('get dimmer');\n          },\n          id: function() {\n            id = (Math.random().toString(16) + '000000000').substr(2,8);\n            elementEventNamespace = '.' + id;\n            module.verbose('Creating unique id for element', id);\n          }\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous modal');\n          $module\n            .removeData(moduleNamespace)\n            .off(eventNamespace)\n          ;\n          $window.off(elementEventNamespace);\n          $dimmer.off(elementEventNamespace);\n          $close.off(eventNamespace);\n          $context.dimmer('destroy');\n        },\n\n        observeChanges: function() {\n          if('MutationObserver' in window) {\n            observer = new MutationObserver(function(mutations) {\n              module.debug('DOM tree modified, refreshing');\n              module.refresh();\n            });\n            observer.observe(element, {\n              childList : true,\n              subtree   : true\n            });\n            module.debug('Setting up mutation observer', observer);\n          }\n        },\n\n        refresh: function() {\n          module.remove.scrolling();\n          module.cacheSizes();\n          module.set.screenHeight();\n          module.set.type();\n        },\n\n        refreshModals: function() {\n          $otherModals = $module.siblings(selector.modal);\n          $allModals   = $otherModals.add($module);\n        },\n\n        attachEvents: function(selector, event) {\n          var\n            $toggle = $(selector)\n          ;\n          event = $.isFunction(module[event])\n            ? module[event]\n            : module.toggle\n          ;\n          if($toggle.length > 0) {\n            module.debug('Attaching modal events to element', selector, event);\n            $toggle\n              .off(eventNamespace)\n              .on('click' + eventNamespace, event)\n            ;\n          }\n          else {\n            module.error(error.notFound, selector);\n          }\n        },\n\n        bind: {\n          events: function() {\n            module.verbose('Attaching events');\n            $module\n              .on('click' + eventNamespace, selector.close, module.event.close)\n              .on('click' + eventNamespace, selector.approve, module.event.approve)\n              .on('click' + eventNamespace, selector.deny, module.event.deny)\n            ;\n            $window\n              .on('resize' + elementEventNamespace, module.event.resize)\n            ;\n          }\n        },\n\n        get: {\n          id: function() {\n            return (Math.random().toString(16) + '000000000').substr(2,8);\n          }\n        },\n\n        event: {\n          approve: function() {\n            if(ignoreRepeatedEvents || settings.onApprove.call(element, $(this)) === false) {\n              module.verbose('Approve callback returned false cancelling hide');\n              return;\n            }\n            ignoreRepeatedEvents = true;\n            module.hide(function() {\n              ignoreRepeatedEvents = false;\n            });\n          },\n          deny: function() {\n            if(ignoreRepeatedEvents || settings.onDeny.call(element, $(this)) === false) {\n              module.verbose('Deny callback returned false cancelling hide');\n              return;\n            }\n            ignoreRepeatedEvents = true;\n            module.hide(function() {\n              ignoreRepeatedEvents = false;\n            });\n          },\n          close: function() {\n            module.hide();\n          },\n          click: function(event) {\n            if(!settings.closable) {\n              module.verbose('Dimmer clicked but closable setting is disabled');\n              return;\n            }\n            var\n              $target   = $(event.target),\n              isInModal = ($target.closest(selector.modal).length > 0),\n              isInDOM   = $.contains(document.documentElement, event.target)\n            ;\n            if(!isInModal && isInDOM && module.is.active()) {\n              module.debug('Dimmer clicked, hiding all modals');\n              module.remove.clickaway();\n              if(settings.allowMultiple) {\n                module.hide();\n              }\n              else {\n                module.hideAll();\n              }\n            }\n          },\n          debounce: function(method, delay) {\n            clearTimeout(module.timer);\n            module.timer = setTimeout(method, delay);\n          },\n          keyboard: function(event) {\n            var\n              keyCode   = event.which,\n              escapeKey = 27\n            ;\n            if(keyCode == escapeKey) {\n              if(settings.closable) {\n                module.debug('Escape key pressed hiding modal');\n                module.hide();\n              }\n              else {\n                module.debug('Escape key pressed, but closable is set to false');\n              }\n              event.preventDefault();\n            }\n          },\n          resize: function() {\n            if( $dimmable.dimmer('is active') && ( module.is.animating() || module.is.active() ) ) {\n              requestAnimationFrame(module.refresh);\n            }\n          }\n        },\n\n        toggle: function() {\n          if( module.is.active() || module.is.animating() ) {\n            module.hide();\n          }\n          else {\n            module.show();\n          }\n        },\n\n        show: function(callback) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          module.refreshModals();\n          module.set.dimmerSettings();\n          module.showModal(callback);\n        },\n\n        hide: function(callback) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          module.refreshModals();\n          module.hideModal(callback);\n        },\n\n        showModal: function(callback) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          if( module.is.animating() || !module.is.active() ) {\n\n            module.showDimmer();\n            module.cacheSizes();\n            module.set.screenHeight();\n            module.set.type();\n            module.set.clickaway();\n\n            if( !settings.allowMultiple && module.others.active() ) {\n              module.hideOthers(module.showModal);\n            }\n            else {\n              if(settings.allowMultiple && settings.detachable) {\n                $module.detach().appendTo($dimmer);\n              }\n              settings.onShow.call(element);\n              if(settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n                module.debug('Showing modal with css animations');\n                $module\n                  .transition({\n                    debug       : settings.debug,\n                    animation   : settings.transition + ' in',\n                    queue       : settings.queue,\n                    duration    : settings.duration,\n                    useFailSafe : true,\n                    onComplete : function() {\n                      settings.onVisible.apply(element);\n                      if(settings.keyboardShortcuts) {\n                        module.add.keyboardShortcuts();\n                      }\n                      module.save.focus();\n                      module.set.active();\n                      if(settings.autofocus) {\n                        module.set.autofocus();\n                      }\n                      callback();\n                    }\n                  })\n                ;\n              }\n              else {\n                module.error(error.noTransition);\n              }\n            }\n          }\n          else {\n            module.debug('Modal is already visible');\n          }\n        },\n\n        hideModal: function(callback, keepDimmed) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          module.debug('Hiding modal');\n          if(settings.onHide.call(element, $(this)) === false) {\n            module.verbose('Hide callback returned false cancelling hide');\n            return;\n          }\n\n          if( module.is.animating() || module.is.active() ) {\n            if(settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n              module.remove.active();\n              $module\n                .transition({\n                  debug       : settings.debug,\n                  animation   : settings.transition + ' out',\n                  queue       : settings.queue,\n                  duration    : settings.duration,\n                  useFailSafe : true,\n                  onStart     : function() {\n                    if(!module.others.active() && !keepDimmed) {\n                      module.hideDimmer();\n                    }\n                    if(settings.keyboardShortcuts) {\n                      module.remove.keyboardShortcuts();\n                    }\n                  },\n                  onComplete : function() {\n                    settings.onHidden.call(element);\n                    module.restore.focus();\n                    callback();\n                  }\n                })\n              ;\n            }\n            else {\n              module.error(error.noTransition);\n            }\n          }\n        },\n\n        showDimmer: function() {\n          if($dimmable.dimmer('is animating') || !$dimmable.dimmer('is active') ) {\n            module.debug('Showing dimmer');\n            $dimmable.dimmer('show');\n          }\n          else {\n            module.debug('Dimmer already visible');\n          }\n        },\n\n        hideDimmer: function() {\n          if( $dimmable.dimmer('is animating') || ($dimmable.dimmer('is active')) ) {\n            $dimmable.dimmer('hide', function() {\n              module.remove.clickaway();\n              module.remove.screenHeight();\n            });\n          }\n          else {\n            module.debug('Dimmer is not visible cannot hide');\n            return;\n          }\n        },\n\n        hideAll: function(callback) {\n          var\n            $visibleModals = $allModals.filter('.' + className.active + ', .' + className.animating)\n          ;\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          if( $visibleModals.length > 0 ) {\n            module.debug('Hiding all visible modals');\n            module.hideDimmer();\n            $visibleModals\n              .modal('hide modal', callback)\n            ;\n          }\n        },\n\n        hideOthers: function(callback) {\n          var\n            $visibleModals = $otherModals.filter('.' + className.active + ', .' + className.animating)\n          ;\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          if( $visibleModals.length > 0 ) {\n            module.debug('Hiding other modals', $otherModals);\n            $visibleModals\n              .modal('hide modal', callback, true)\n            ;\n          }\n        },\n\n        others: {\n          active: function() {\n            return ($otherModals.filter('.' + className.active).length > 0);\n          },\n          animating: function() {\n            return ($otherModals.filter('.' + className.animating).length > 0);\n          }\n        },\n\n\n        add: {\n          keyboardShortcuts: function() {\n            module.verbose('Adding keyboard shortcuts');\n            $document\n              .on('keyup' + eventNamespace, module.event.keyboard)\n            ;\n          }\n        },\n\n        save: {\n          focus: function() {\n            var\n              $activeElement = $(document.activeElement),\n              inCurrentModal = $activeElement.closest($module).length > 0\n            ;\n            if(!inCurrentModal) {\n              $focusedElement = $(document.activeElement).blur();\n            }\n          }\n        },\n\n        restore: {\n          focus: function() {\n            if($focusedElement && $focusedElement.length > 0) {\n              $focusedElement.focus();\n            }\n          }\n        },\n\n        remove: {\n          active: function() {\n            $module.removeClass(className.active);\n          },\n          clickaway: function() {\n            $dimmer\n              .off('click' + elementEventNamespace)\n            ;\n          },\n          bodyStyle: function() {\n            if($body.attr('style') === '') {\n              module.verbose('Removing style attribute');\n              $body.removeAttr('style');\n            }\n          },\n          screenHeight: function() {\n            module.debug('Removing page height');\n            $body\n              .css('height', '')\n            ;\n          },\n          keyboardShortcuts: function() {\n            module.verbose('Removing keyboard shortcuts');\n            $document\n              .off('keyup' + eventNamespace)\n            ;\n          },\n          scrolling: function() {\n            $dimmable.removeClass(className.scrolling);\n            $module.removeClass(className.scrolling);\n          }\n        },\n\n        cacheSizes: function() {\n          $module.addClass(className.loading);\n          var\n            scrollHeight = $module.prop('scrollHeight'),\n            modalHeight  = $module.outerHeight()\n          ;\n          if(module.cache === undefined || modalHeight !== 0) {\n            module.cache = {\n              pageHeight    : $(document).outerHeight(),\n              height        : modalHeight + settings.offset,\n              scrollHeight  : scrollHeight + settings.offset,\n              contextHeight : (settings.context == 'body')\n                ? $(window).height()\n                : $dimmable.height(),\n            };\n            module.cache.topOffset = -(module.cache.height / 2);\n          }\n          $module.removeClass(className.loading);\n          module.debug('Caching modal and container sizes', module.cache);\n        },\n\n        can: {\n          fit: function() {\n            var\n              contextHeight  = module.cache.contextHeight,\n              verticalCenter = module.cache.contextHeight / 2,\n              topOffset      = module.cache.topOffset,\n              scrollHeight   = module.cache.scrollHeight,\n              height         = module.cache.height,\n              paddingHeight  = settings.padding,\n              startPosition  = (verticalCenter + topOffset)\n            ;\n            return (scrollHeight > height)\n              ? (startPosition + scrollHeight + paddingHeight < contextHeight)\n              : (height + (paddingHeight * 2) < contextHeight)\n            ;\n          }\n        },\n\n        is: {\n          active: function() {\n            return $module.hasClass(className.active);\n          },\n          animating: function() {\n            return $module.transition('is supported')\n              ? $module.transition('is animating')\n              : $module.is(':visible')\n            ;\n          },\n          scrolling: function() {\n            return $dimmable.hasClass(className.scrolling);\n          },\n          modernBrowser: function() {\n            // appName for IE11 reports 'Netscape' can no longer use\n            return !(window.ActiveXObject || \"ActiveXObject\" in window);\n          }\n        },\n\n        set: {\n          autofocus: function() {\n            var\n              $inputs    = $module.find('[tabindex], :input').filter(':visible'),\n              $autofocus = $inputs.filter('[autofocus]'),\n              $input     = ($autofocus.length > 0)\n                ? $autofocus.first()\n                : $inputs.first()\n            ;\n            if($input.length > 0) {\n              $input.focus();\n            }\n          },\n          clickaway: function() {\n            $dimmer\n              .on('click' + elementEventNamespace, module.event.click)\n            ;\n          },\n          dimmerSettings: function() {\n            if($.fn.dimmer === undefined) {\n              module.error(error.dimmer);\n              return;\n            }\n            var\n              defaultSettings = {\n                debug      : settings.debug,\n                dimmerName : 'modals',\n                closable   : 'auto',\n                variation  : settings.centered\n                  ? false\n                  : 'top aligned'\n                ,\n                duration   : {\n                  show     : settings.duration,\n                  hide     : settings.duration\n                }\n              },\n              dimmerSettings = $.extend(true, defaultSettings, settings.dimmerSettings)\n            ;\n            if(settings.inverted) {\n              dimmerSettings.variation = (dimmerSettings.variation !== undefined)\n                ? dimmerSettings.variation + ' inverted'\n                : 'inverted'\n              ;\n              $dimmer.addClass(className.inverted);\n            }\n            else {\n              $dimmer.removeClass(className.inverted);\n            }\n            if(settings.blurring) {\n              $dimmable.addClass(className.blurring);\n            }\n            else {\n              $dimmable.removeClass(className.blurring);\n            }\n            $context.dimmer('setting', dimmerSettings);\n          },\n          screenHeight: function() {\n            if( module.can.fit() ) {\n              $body.css('height', '');\n            }\n            else {\n              module.debug('Modal is taller than page content, resizing page height');\n              $body\n                .css('height', module.cache.height + (settings.padding * 2) )\n              ;\n            }\n          },\n          active: function() {\n            $module.addClass(className.active);\n          },\n          scrolling: function() {\n            $dimmable.addClass(className.scrolling);\n            $module.addClass(className.scrolling);\n          },\n          type: function() {\n            if(module.can.fit()) {\n              module.verbose('Modal fits on screen');\n              if(!module.others.active() && !module.others.animating()) {\n                module.remove.scrolling();\n              }\n            }\n            else {\n              module.verbose('Modal cannot fit on screen setting to scrolling');\n              module.set.scrolling();\n            }\n          },\n          undetached: function() {\n            $dimmable.addClass(className.undetached);\n          }\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.modal.settings = {\n\n  name           : 'Modal',\n  namespace      : 'modal',\n\n  silent         : false,\n  debug          : false,\n  verbose        : false,\n  performance    : true,\n\n  observeChanges : false,\n\n  allowMultiple  : false,\n  detachable     : true,\n  closable       : true,\n  autofocus      : true,\n\n  inverted       : false,\n  blurring       : false,\n\n  centered       : true,\n\n  dimmerSettings : {\n    closable : false,\n    useCSS   : true\n  },\n\n  // whether to use keyboard shortcuts\n  keyboardShortcuts: true,\n\n  context    : 'body',\n\n  queue      : false,\n  duration   : 500,\n  offset     : 0,\n  transition : 'scale',\n\n  // padding with edge of page\n  padding    : 50,\n\n  // called before show animation\n  onShow     : function(){},\n\n  // called after show animation\n  onVisible  : function(){},\n\n  // called before hide animation\n  onHide     : function(){ return true; },\n\n  // called after hide animation\n  onHidden   : function(){},\n\n  // called after approve selector match\n  onApprove  : function(){ return true; },\n\n  // called after deny selector match\n  onDeny     : function(){ return true; },\n\n  selector    : {\n    close    : '> .close',\n    approve  : '.actions .positive, .actions .approve, .actions .ok',\n    deny     : '.actions .negative, .actions .deny, .actions .cancel',\n    modal    : '.ui.modal'\n  },\n  error : {\n    dimmer    : 'UI Dimmer, a required component is not included in this page',\n    method    : 'The method you called is not defined.',\n    notFound  : 'The element you specified could not be found'\n  },\n  className : {\n    active     : 'active',\n    animating  : 'animating',\n    blurring   : 'blurring',\n    inverted   : 'inverted',\n    loading    : 'loading',\n    scrolling  : 'scrolling',\n    undetached : 'undetached'\n  }\n};\n\n\n})( jQuery, window, document );\n","/*!\n * # Semantic UI - Nag\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.nag = function(parameters) {\n  var\n    $allModules    = $(this),\n    moduleSelector = $allModules.selector || '',\n\n    time           = new Date().getTime(),\n    performance    = [],\n\n    query          = arguments[0],\n    methodInvoked  = (typeof query == 'string'),\n    queryArguments = [].slice.call(arguments, 1),\n    returnedValue\n  ;\n  $allModules\n    .each(function() {\n      var\n        settings          = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.nag.settings, parameters)\n          : $.extend({}, $.fn.nag.settings),\n\n        className       = settings.className,\n        selector        = settings.selector,\n        error           = settings.error,\n        namespace       = settings.namespace,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = namespace + '-module',\n\n        $module         = $(this),\n\n        $close          = $module.find(selector.close),\n        $context        = (settings.context)\n          ? $(settings.context)\n          : $('body'),\n\n        element         = this,\n        instance        = $module.data(moduleNamespace),\n\n        moduleOffset,\n        moduleHeight,\n\n        contextWidth,\n        contextHeight,\n        contextOffset,\n\n        yOffset,\n        yPosition,\n\n        timer,\n        module,\n\n        requestAnimationFrame = window.requestAnimationFrame\n          || window.mozRequestAnimationFrame\n          || window.webkitRequestAnimationFrame\n          || window.msRequestAnimationFrame\n          || function(callback) { setTimeout(callback, 0); }\n      ;\n      module = {\n\n        initialize: function() {\n          module.verbose('Initializing element');\n\n          $module\n            .on('click' + eventNamespace, selector.close, module.dismiss)\n            .data(moduleNamespace, module)\n          ;\n\n          if(settings.detachable && $module.parent()[0] !== $context[0]) {\n            $module\n              .detach()\n              .prependTo($context)\n            ;\n          }\n\n          if(settings.displayTime > 0) {\n            setTimeout(module.hide, settings.displayTime);\n          }\n          module.show();\n        },\n\n        destroy: function() {\n          module.verbose('Destroying instance');\n          $module\n            .removeData(moduleNamespace)\n            .off(eventNamespace)\n          ;\n        },\n\n        show: function() {\n          if( module.should.show() && !$module.is(':visible') ) {\n            module.debug('Showing nag', settings.animation.show);\n            if(settings.animation.show == 'fade') {\n              $module\n                .fadeIn(settings.duration, settings.easing)\n              ;\n            }\n            else {\n              $module\n                .slideDown(settings.duration, settings.easing)\n              ;\n            }\n          }\n        },\n\n        hide: function() {\n          module.debug('Showing nag', settings.animation.hide);\n          if(settings.animation.show == 'fade') {\n            $module\n              .fadeIn(settings.duration, settings.easing)\n            ;\n          }\n          else {\n            $module\n              .slideUp(settings.duration, settings.easing)\n            ;\n          }\n        },\n\n        onHide: function() {\n          module.debug('Removing nag', settings.animation.hide);\n          $module.remove();\n          if (settings.onHide) {\n            settings.onHide();\n          }\n        },\n\n        dismiss: function(event) {\n          if(settings.storageMethod) {\n            module.storage.set(settings.key, settings.value);\n          }\n          module.hide();\n          event.stopImmediatePropagation();\n          event.preventDefault();\n        },\n\n        should: {\n          show: function() {\n            if(settings.persist) {\n              module.debug('Persistent nag is set, can show nag');\n              return true;\n            }\n            if( module.storage.get(settings.key) != settings.value.toString() ) {\n              module.debug('Stored value is not set, can show nag', module.storage.get(settings.key));\n              return true;\n            }\n            module.debug('Stored value is set, cannot show nag', module.storage.get(settings.key));\n            return false;\n          }\n        },\n\n        get: {\n          storageOptions: function() {\n            var\n              options = {}\n            ;\n            if(settings.expires) {\n              options.expires = settings.expires;\n            }\n            if(settings.domain) {\n              options.domain = settings.domain;\n            }\n            if(settings.path) {\n              options.path = settings.path;\n            }\n            return options;\n          }\n        },\n\n        clear: function() {\n          module.storage.remove(settings.key);\n        },\n\n        storage: {\n          set: function(key, value) {\n            var\n              options = module.get.storageOptions()\n            ;\n            if(settings.storageMethod == 'localstorage' && window.localStorage !== undefined) {\n              window.localStorage.setItem(key, value);\n              module.debug('Value stored using local storage', key, value);\n            }\n            else if(settings.storageMethod == 'sessionstorage' && window.sessionStorage !== undefined) {\n              window.sessionStorage.setItem(key, value);\n              module.debug('Value stored using session storage', key, value);\n            }\n            else if($.cookie !== undefined) {\n              $.cookie(key, value, options);\n              module.debug('Value stored using cookie', key, value, options);\n            }\n            else {\n              module.error(error.noCookieStorage);\n              return;\n            }\n          },\n          get: function(key, value) {\n            var\n              storedValue\n            ;\n            if(settings.storageMethod == 'localstorage' && window.localStorage !== undefined) {\n              storedValue = window.localStorage.getItem(key);\n            }\n            else if(settings.storageMethod == 'sessionstorage' && window.sessionStorage !== undefined) {\n              storedValue = window.sessionStorage.getItem(key);\n            }\n            // get by cookie\n            else if($.cookie !== undefined) {\n              storedValue = $.cookie(key);\n            }\n            else {\n              module.error(error.noCookieStorage);\n            }\n            if(storedValue == 'undefined' || storedValue == 'null' || storedValue === undefined || storedValue === null) {\n              storedValue = undefined;\n            }\n            return storedValue;\n          },\n          remove: function(key) {\n            var\n              options = module.get.storageOptions()\n            ;\n            if(settings.storageMethod == 'localstorage' && window.localStorage !== undefined) {\n              window.localStorage.removeItem(key);\n            }\n            else if(settings.storageMethod == 'sessionstorage' && window.sessionStorage !== undefined) {\n              window.sessionStorage.removeItem(key);\n            }\n            // store by cookie\n            else if($.cookie !== undefined) {\n              $.removeCookie(key, options);\n            }\n            else {\n              module.error(error.noStorage);\n            }\n          }\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.nag.settings = {\n\n  name        : 'Nag',\n\n  silent      : false,\n  debug       : false,\n  verbose     : false,\n  performance : true,\n\n  namespace   : 'Nag',\n\n  // allows cookie to be overridden\n  persist     : false,\n\n  // set to zero to require manually dismissal, otherwise hides on its own\n  displayTime : 0,\n\n  animation   : {\n    show : 'slide',\n    hide : 'slide'\n  },\n\n  context       : false,\n  detachable    : false,\n\n  expires       : 30,\n  domain        : false,\n  path          : '/',\n\n  // type of storage to use\n  storageMethod : 'cookie',\n\n  // value to store in dismissed localstorage/cookie\n  key           : 'nag',\n  value         : 'dismiss',\n\n  error: {\n    noCookieStorage : '$.cookie is not included. A storage solution is required.',\n    noStorage       : 'Neither $.cookie or store is defined. A storage solution is required for storing state',\n    method          : 'The method you called is not defined.'\n  },\n\n  className     : {\n    bottom : 'bottom',\n    fixed  : 'fixed'\n  },\n\n  selector      : {\n    close : '.close.icon'\n  },\n\n  speed         : 500,\n  easing        : 'easeOutQuad',\n\n  onHide: function() {}\n\n};\n\n// Adds easing\n$.extend( $.easing, {\n  easeOutQuad: function (x, t, b, c, d) {\n    return -c *(t/=d)*(t-2) + b;\n  }\n});\n\n})( jQuery, window, document );\n","/*!\n * # Semantic UI - Popup\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.popup = function(parameters) {\n  var\n    $allModules    = $(this),\n    $document      = $(document),\n    $window        = $(window),\n    $body          = $('body'),\n\n    moduleSelector = $allModules.selector || '',\n\n    hasTouch       = (true),\n    time           = new Date().getTime(),\n    performance    = [],\n\n    query          = arguments[0],\n    methodInvoked  = (typeof query == 'string'),\n    queryArguments = [].slice.call(arguments, 1),\n\n    returnedValue\n  ;\n  $allModules\n    .each(function() {\n      var\n        settings        = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.popup.settings, parameters)\n          : $.extend({}, $.fn.popup.settings),\n\n        selector           = settings.selector,\n        className          = settings.className,\n        error              = settings.error,\n        metadata           = settings.metadata,\n        namespace          = settings.namespace,\n\n        eventNamespace     = '.' + settings.namespace,\n        moduleNamespace    = 'module-' + namespace,\n\n        $module            = $(this),\n        $context           = $(settings.context),\n        $scrollContext     = $(settings.scrollContext),\n        $boundary          = $(settings.boundary),\n        $target            = (settings.target)\n          ? $(settings.target)\n          : $module,\n\n        $popup,\n        $offsetParent,\n\n        searchDepth        = 0,\n        triedPositions     = false,\n        openedWithTouch    = false,\n\n        element            = this,\n        instance           = $module.data(moduleNamespace),\n\n        documentObserver,\n        elementNamespace,\n        id,\n        module\n      ;\n\n      module = {\n\n        // binds events\n        initialize: function() {\n          module.debug('Initializing', $module);\n          module.createID();\n          module.bind.events();\n          if(!module.exists() && settings.preserve) {\n            module.create();\n          }\n          if(settings.observeChanges) {\n            module.observeChanges();\n          }\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, instance)\n          ;\n        },\n\n        observeChanges: function() {\n          if('MutationObserver' in window) {\n            documentObserver = new MutationObserver(module.event.documentChanged);\n            documentObserver.observe(document, {\n              childList : true,\n              subtree   : true\n            });\n            module.debug('Setting up mutation observer', documentObserver);\n          }\n        },\n\n        refresh: function() {\n          if(settings.popup) {\n            $popup = $(settings.popup).eq(0);\n          }\n          else {\n            if(settings.inline) {\n              $popup = $target.nextAll(selector.popup).eq(0);\n              settings.popup = $popup;\n            }\n          }\n          if(settings.popup) {\n            $popup.addClass(className.loading);\n            $offsetParent = module.get.offsetParent();\n            $popup.removeClass(className.loading);\n            if(settings.movePopup && module.has.popup() && module.get.offsetParent($popup)[0] !== $offsetParent[0]) {\n              module.debug('Moving popup to the same offset parent as target');\n              $popup\n                .detach()\n                .appendTo($offsetParent)\n              ;\n            }\n          }\n          else {\n            $offsetParent = (settings.inline)\n              ? module.get.offsetParent($target)\n              : module.has.popup()\n                ? module.get.offsetParent($popup)\n                : $body\n            ;\n          }\n          if( $offsetParent.is('html') && $offsetParent[0] !== $body[0] ) {\n            module.debug('Setting page as offset parent');\n            $offsetParent = $body;\n          }\n          if( module.get.variation() ) {\n            module.set.variation();\n          }\n        },\n\n        reposition: function() {\n          module.refresh();\n          module.set.position();\n        },\n\n        destroy: function() {\n          module.debug('Destroying previous module');\n          if(documentObserver) {\n            documentObserver.disconnect();\n          }\n          // remove element only if was created dynamically\n          if($popup && !settings.preserve) {\n            module.removePopup();\n          }\n          // clear all timeouts\n          clearTimeout(module.hideTimer);\n          clearTimeout(module.showTimer);\n          // remove events\n          module.unbind.close();\n          module.unbind.events();\n          $module\n            .removeData(moduleNamespace)\n          ;\n        },\n\n        event: {\n          start:  function(event) {\n            var\n              delay = ($.isPlainObject(settings.delay))\n                ? settings.delay.show\n                : settings.delay\n            ;\n            clearTimeout(module.hideTimer);\n            if(!openedWithTouch) {\n              module.showTimer = setTimeout(module.show, delay);\n            }\n          },\n          end:  function() {\n            var\n              delay = ($.isPlainObject(settings.delay))\n                ? settings.delay.hide\n                : settings.delay\n            ;\n            clearTimeout(module.showTimer);\n            module.hideTimer = setTimeout(module.hide, delay);\n          },\n          touchstart: function(event) {\n            openedWithTouch = true;\n            module.show();\n          },\n          resize: function() {\n            if( module.is.visible() ) {\n              module.set.position();\n            }\n          },\n          documentChanged: function(mutations) {\n            [].forEach.call(mutations, function(mutation) {\n              if(mutation.removedNodes) {\n                [].forEach.call(mutation.removedNodes, function(node) {\n                  if(node == element || $(node).find(element).length > 0) {\n                    module.debug('Element removed from DOM, tearing down events');\n                    module.destroy();\n                  }\n                });\n              }\n            });\n          },\n          hideGracefully: function(event) {\n            var\n              $target = $(event.target),\n              isInDOM = $.contains(document.documentElement, event.target),\n              inPopup = ($target.closest(selector.popup).length > 0)\n            ;\n            // don't close on clicks inside popup\n            if(event && !inPopup && isInDOM) {\n              module.debug('Click occurred outside popup hiding popup');\n              module.hide();\n            }\n            else {\n              module.debug('Click was inside popup, keeping popup open');\n            }\n          }\n        },\n\n        // generates popup html from metadata\n        create: function() {\n          var\n            html      = module.get.html(),\n            title     = module.get.title(),\n            content   = module.get.content()\n          ;\n\n          if(html || content || title) {\n            module.debug('Creating pop-up html');\n            if(!html) {\n              html = settings.templates.popup({\n                title   : title,\n                content : content\n              });\n            }\n            $popup = $('<div/>')\n              .addClass(className.popup)\n              .data(metadata.activator, $module)\n              .html(html)\n            ;\n            if(settings.inline) {\n              module.verbose('Inserting popup element inline', $popup);\n              $popup\n                .insertAfter($module)\n              ;\n            }\n            else {\n              module.verbose('Appending popup element to body', $popup);\n              $popup\n                .appendTo( $context )\n              ;\n            }\n            module.refresh();\n            module.set.variation();\n\n            if(settings.hoverable) {\n              module.bind.popup();\n            }\n            settings.onCreate.call($popup, element);\n          }\n          else if($target.next(selector.popup).length !== 0) {\n            module.verbose('Pre-existing popup found');\n            settings.inline = true;\n            settings.popup  = $target.next(selector.popup).data(metadata.activator, $module);\n            module.refresh();\n            if(settings.hoverable) {\n              module.bind.popup();\n            }\n          }\n          else if(settings.popup) {\n            $(settings.popup).data(metadata.activator, $module);\n            module.verbose('Used popup specified in settings');\n            module.refresh();\n            if(settings.hoverable) {\n              module.bind.popup();\n            }\n          }\n          else {\n            module.debug('No content specified skipping display', element);\n          }\n        },\n\n        createID: function() {\n          id = (Math.random().toString(16) + '000000000').substr(2, 8);\n          elementNamespace = '.' + id;\n          module.verbose('Creating unique id for element', id);\n        },\n\n        // determines popup state\n        toggle: function() {\n          module.debug('Toggling pop-up');\n          if( module.is.hidden() ) {\n            module.debug('Popup is hidden, showing pop-up');\n            module.unbind.close();\n            module.show();\n          }\n          else {\n            module.debug('Popup is visible, hiding pop-up');\n            module.hide();\n          }\n        },\n\n        show: function(callback) {\n          callback = callback || function(){};\n          module.debug('Showing pop-up', settings.transition);\n          if(module.is.hidden() && !( module.is.active() && module.is.dropdown()) ) {\n            if( !module.exists() ) {\n              module.create();\n            }\n            if(settings.onShow.call($popup, element) === false) {\n              module.debug('onShow callback returned false, cancelling popup animation');\n              return;\n            }\n            else if(!settings.preserve && !settings.popup) {\n              module.refresh();\n            }\n            if( $popup && module.set.position() ) {\n              module.save.conditions();\n              if(settings.exclusive) {\n                module.hideAll();\n              }\n              module.animate.show(callback);\n            }\n          }\n        },\n\n\n        hide: function(callback) {\n          callback = callback || function(){};\n          if( module.is.visible() || module.is.animating() ) {\n            if(settings.onHide.call($popup, element) === false) {\n              module.debug('onHide callback returned false, cancelling popup animation');\n              return;\n            }\n            module.remove.visible();\n            module.unbind.close();\n            module.restore.conditions();\n            module.animate.hide(callback);\n          }\n        },\n\n        hideAll: function() {\n          $(selector.popup)\n            .filter('.' + className.popupVisible)\n            .each(function() {\n              $(this)\n                .data(metadata.activator)\n                  .popup('hide')\n              ;\n            })\n          ;\n        },\n        exists: function() {\n          if(!$popup) {\n            return false;\n          }\n          if(settings.inline || settings.popup) {\n            return ( module.has.popup() );\n          }\n          else {\n            return ( $popup.closest($context).length >= 1 )\n              ? true\n              : false\n            ;\n          }\n        },\n\n        removePopup: function() {\n          if( module.has.popup() && !settings.popup) {\n            module.debug('Removing popup', $popup);\n            $popup.remove();\n            $popup = undefined;\n            settings.onRemove.call($popup, element);\n          }\n        },\n\n        save: {\n          conditions: function() {\n            module.cache = {\n              title: $module.attr('title')\n            };\n            if (module.cache.title) {\n              $module.removeAttr('title');\n            }\n            module.verbose('Saving original attributes', module.cache.title);\n          }\n        },\n        restore: {\n          conditions: function() {\n            if(module.cache && module.cache.title) {\n              $module.attr('title', module.cache.title);\n              module.verbose('Restoring original attributes', module.cache.title);\n            }\n            return true;\n          }\n        },\n        supports: {\n          svg: function() {\n            return (typeof SVGGraphicsElement === 'undefined');\n          }\n        },\n        animate: {\n          show: function(callback) {\n            callback = $.isFunction(callback) ? callback : function(){};\n            if(settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n              module.set.visible();\n              $popup\n                .transition({\n                  animation  : settings.transition + ' in',\n                  queue      : false,\n                  debug      : settings.debug,\n                  verbose    : settings.verbose,\n                  duration   : settings.duration,\n                  onComplete : function() {\n                    module.bind.close();\n                    callback.call($popup, element);\n                    settings.onVisible.call($popup, element);\n                  }\n                })\n              ;\n            }\n            else {\n              module.error(error.noTransition);\n            }\n          },\n          hide: function(callback) {\n            callback = $.isFunction(callback) ? callback : function(){};\n            module.debug('Hiding pop-up');\n            if(settings.onHide.call($popup, element) === false) {\n              module.debug('onHide callback returned false, cancelling popup animation');\n              return;\n            }\n            if(settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n              $popup\n                .transition({\n                  animation  : settings.transition + ' out',\n                  queue      : false,\n                  duration   : settings.duration,\n                  debug      : settings.debug,\n                  verbose    : settings.verbose,\n                  onComplete : function() {\n                    module.reset();\n                    callback.call($popup, element);\n                    settings.onHidden.call($popup, element);\n                  }\n                })\n              ;\n            }\n            else {\n              module.error(error.noTransition);\n            }\n          }\n        },\n\n        change: {\n          content: function(html) {\n            $popup.html(html);\n          }\n        },\n\n        get: {\n          html: function() {\n            $module.removeData(metadata.html);\n            return $module.data(metadata.html) || settings.html;\n          },\n          title: function() {\n            $module.removeData(metadata.title);\n            return $module.data(metadata.title) || settings.title;\n          },\n          content: function() {\n            $module.removeData(metadata.content);\n            return $module.data(metadata.content) || settings.content || $module.attr('title');\n          },\n          variation: function() {\n            $module.removeData(metadata.variation);\n            return $module.data(metadata.variation) || settings.variation;\n          },\n          popup: function() {\n            return $popup;\n          },\n          popupOffset: function() {\n            return $popup.offset();\n          },\n          calculations: function() {\n            var\n              $popupOffsetParent = module.get.offsetParent($popup),\n              targetElement      = $target[0],\n              isWindow           = ($boundary[0] == window),\n              targetPosition     = (settings.inline || (settings.popup && settings.movePopup))\n                ? $target.position()\n                : $target.offset(),\n              screenPosition = (isWindow)\n                ? { top: 0, left: 0 }\n                : $boundary.offset(),\n              calculations   = {},\n              scroll = (isWindow)\n                ? { top: $window.scrollTop(), left: $window.scrollLeft() }\n                : { top: 0, left: 0},\n              screen\n            ;\n            calculations = {\n              // element which is launching popup\n              target : {\n                element : $target[0],\n                width   : $target.outerWidth(),\n                height  : $target.outerHeight(),\n                top     : targetPosition.top,\n                left    : targetPosition.left,\n                margin  : {}\n              },\n              // popup itself\n              popup : {\n                width  : $popup.outerWidth(),\n                height : $popup.outerHeight()\n              },\n              // offset container (or 3d context)\n              parent : {\n                width  : $offsetParent.outerWidth(),\n                height : $offsetParent.outerHeight()\n              },\n              // screen boundaries\n              screen : {\n                top  : screenPosition.top,\n                left : screenPosition.left,\n                scroll: {\n                  top  : scroll.top,\n                  left : scroll.left\n                },\n                width  : $boundary.width(),\n                height : $boundary.height()\n              }\n            };\n\n            // if popup offset context is not same as target, then adjust calculations\n            if($popupOffsetParent.get(0) !== $offsetParent.get(0)) {\n              var\n                popupOffset        = $popupOffsetParent.offset()\n              ;\n              calculations.target.top -= popupOffset.top;\n              calculations.target.left -= popupOffset.left;\n              calculations.parent.width = $popupOffsetParent.outerWidth();\n              calculations.parent.height = $popupOffsetParent.outerHeight();\n            }\n\n            // add in container calcs if fluid\n            if( settings.setFluidWidth && module.is.fluid() ) {\n              calculations.container = {\n                width: $popup.parent().outerWidth()\n              };\n              calculations.popup.width = calculations.container.width;\n            }\n\n            // add in margins if inline\n            calculations.target.margin.top = (settings.inline)\n              ? parseInt( window.getComputedStyle(targetElement).getPropertyValue('margin-top'), 10)\n              : 0\n            ;\n            calculations.target.margin.left = (settings.inline)\n              ? module.is.rtl()\n                ? parseInt( window.getComputedStyle(targetElement).getPropertyValue('margin-right'), 10)\n                : parseInt( window.getComputedStyle(targetElement).getPropertyValue('margin-left'), 10)\n              : 0\n            ;\n            // calculate screen boundaries\n            screen = calculations.screen;\n            calculations.boundary = {\n              top    : screen.top + screen.scroll.top,\n              bottom : screen.top + screen.scroll.top + screen.height,\n              left   : screen.left + screen.scroll.left,\n              right  : screen.left + screen.scroll.left + screen.width\n            };\n            return calculations;\n          },\n          id: function() {\n            return id;\n          },\n          startEvent: function() {\n            if(settings.on == 'hover') {\n              return 'mouseenter';\n            }\n            else if(settings.on == 'focus') {\n              return 'focus';\n            }\n            return false;\n          },\n          scrollEvent: function() {\n            return 'scroll';\n          },\n          endEvent: function() {\n            if(settings.on == 'hover') {\n              return 'mouseleave';\n            }\n            else if(settings.on == 'focus') {\n              return 'blur';\n            }\n            return false;\n          },\n          distanceFromBoundary: function(offset, calculations) {\n            var\n              distanceFromBoundary = {},\n              popup,\n              boundary\n            ;\n            calculations = calculations || module.get.calculations();\n\n            // shorthand\n            popup        = calculations.popup;\n            boundary     = calculations.boundary;\n\n            if(offset) {\n              distanceFromBoundary = {\n                top    : (offset.top - boundary.top),\n                left   : (offset.left - boundary.left),\n                right  : (boundary.right - (offset.left + popup.width) ),\n                bottom : (boundary.bottom - (offset.top + popup.height) )\n              };\n              module.verbose('Distance from boundaries determined', offset, distanceFromBoundary);\n            }\n            return distanceFromBoundary;\n          },\n          offsetParent: function($element) {\n            var\n              element = ($element !== undefined)\n                ? $element[0]\n                : $target[0],\n              parentNode = element.parentNode,\n              $node    = $(parentNode)\n            ;\n            if(parentNode) {\n              var\n                is2D     = ($node.css('transform') === 'none'),\n                isStatic = ($node.css('position') === 'static'),\n                isBody   = $node.is('body')\n              ;\n              while(parentNode && !isBody && isStatic && is2D) {\n                parentNode = parentNode.parentNode;\n                $node    = $(parentNode);\n                is2D     = ($node.css('transform') === 'none');\n                isStatic = ($node.css('position') === 'static');\n                isBody   = $node.is('body');\n              }\n            }\n            return ($node && $node.length > 0)\n              ? $node\n              : $()\n            ;\n          },\n          positions: function() {\n            return {\n              'top left'      : false,\n              'top center'    : false,\n              'top right'     : false,\n              'bottom left'   : false,\n              'bottom center' : false,\n              'bottom right'  : false,\n              'left center'   : false,\n              'right center'  : false\n            };\n          },\n          nextPosition: function(position) {\n            var\n              positions          = position.split(' '),\n              verticalPosition   = positions[0],\n              horizontalPosition = positions[1],\n              opposite = {\n                top    : 'bottom',\n                bottom : 'top',\n                left   : 'right',\n                right  : 'left'\n              },\n              adjacent = {\n                left   : 'center',\n                center : 'right',\n                right  : 'left'\n              },\n              backup = {\n                'top left'      : 'top center',\n                'top center'    : 'top right',\n                'top right'     : 'right center',\n                'right center'  : 'bottom right',\n                'bottom right'  : 'bottom center',\n                'bottom center' : 'bottom left',\n                'bottom left'   : 'left center',\n                'left center'   : 'top left'\n              },\n              adjacentsAvailable = (verticalPosition == 'top' || verticalPosition == 'bottom'),\n              oppositeTried = false,\n              adjacentTried = false,\n              nextPosition  = false\n            ;\n            if(!triedPositions) {\n              module.verbose('All available positions available');\n              triedPositions = module.get.positions();\n            }\n\n            module.debug('Recording last position tried', position);\n            triedPositions[position] = true;\n\n            if(settings.prefer === 'opposite') {\n              nextPosition  = [opposite[verticalPosition], horizontalPosition];\n              nextPosition  = nextPosition.join(' ');\n              oppositeTried = (triedPositions[nextPosition] === true);\n              module.debug('Trying opposite strategy', nextPosition);\n            }\n            if((settings.prefer === 'adjacent') && adjacentsAvailable ) {\n              nextPosition  = [verticalPosition, adjacent[horizontalPosition]];\n              nextPosition  = nextPosition.join(' ');\n              adjacentTried = (triedPositions[nextPosition] === true);\n              module.debug('Trying adjacent strategy', nextPosition);\n            }\n            if(adjacentTried || oppositeTried) {\n              module.debug('Using backup position', nextPosition);\n              nextPosition = backup[position];\n            }\n            return nextPosition;\n          }\n        },\n\n        set: {\n          position: function(position, calculations) {\n\n            // exit conditions\n            if($target.length === 0 || $popup.length === 0) {\n              module.error(error.notFound);\n              return;\n            }\n            var\n              offset,\n              distanceAway,\n              target,\n              popup,\n              parent,\n              positioning,\n              popupOffset,\n              distanceFromBoundary\n            ;\n\n            calculations = calculations || module.get.calculations();\n            position     = position     || $module.data(metadata.position) || settings.position;\n\n            offset       = $module.data(metadata.offset) || settings.offset;\n            distanceAway = settings.distanceAway;\n\n            // shorthand\n            target = calculations.target;\n            popup  = calculations.popup;\n            parent = calculations.parent;\n\n            if(module.should.centerArrow(calculations)) {\n              module.verbose('Adjusting offset to center arrow on small target element');\n              if(position == 'top left' || position == 'bottom left') {\n                offset += (target.width / 2)\n                offset -= settings.arrowPixelsFromEdge;\n              }\n              if(position == 'top right' || position == 'bottom right') {\n                offset -= (target.width / 2)\n                offset += settings.arrowPixelsFromEdge;\n              }\n            }\n\n            if(target.width === 0 && target.height === 0 && !module.is.svg(target.element)) {\n              module.debug('Popup target is hidden, no action taken');\n              return false;\n            }\n\n            if(settings.inline) {\n              module.debug('Adding margin to calculation', target.margin);\n              if(position == 'left center' || position == 'right center') {\n                offset       +=  target.margin.top;\n                distanceAway += -target.margin.left;\n              }\n              else if (position == 'top left' || position == 'top center' || position == 'top right') {\n                offset       += target.margin.left;\n                distanceAway -= target.margin.top;\n              }\n              else {\n                offset       += target.margin.left;\n                distanceAway += target.margin.top;\n              }\n            }\n\n            module.debug('Determining popup position from calculations', position, calculations);\n\n            if (module.is.rtl()) {\n              position = position.replace(/left|right/g, function (match) {\n                return (match == 'left')\n                  ? 'right'\n                  : 'left'\n                ;\n              });\n              module.debug('RTL: Popup position updated', position);\n            }\n\n            // if last attempt use specified last resort position\n            if(searchDepth == settings.maxSearchDepth && typeof settings.lastResort === 'string') {\n              position = settings.lastResort;\n            }\n\n            switch (position) {\n              case 'top left':\n                positioning = {\n                  top    : 'auto',\n                  bottom : parent.height - target.top + distanceAway,\n                  left   : target.left + offset,\n                  right  : 'auto'\n                };\n              break;\n              case 'top center':\n                positioning = {\n                  bottom : parent.height - target.top + distanceAway,\n                  left   : target.left + (target.width / 2) - (popup.width / 2) + offset,\n                  top    : 'auto',\n                  right  : 'auto'\n                };\n              break;\n              case 'top right':\n                positioning = {\n                  bottom :  parent.height - target.top + distanceAway,\n                  right  :  parent.width - target.left - target.width - offset,\n                  top    : 'auto',\n                  left   : 'auto'\n                };\n              break;\n              case 'left center':\n                positioning = {\n                  top    : target.top + (target.height / 2) - (popup.height / 2) + offset,\n                  right  : parent.width - target.left + distanceAway,\n                  left   : 'auto',\n                  bottom : 'auto'\n                };\n              break;\n              case 'right center':\n                positioning = {\n                  top    : target.top + (target.height / 2) - (popup.height / 2) + offset,\n                  left   : target.left + target.width + distanceAway,\n                  bottom : 'auto',\n                  right  : 'auto'\n                };\n              break;\n              case 'bottom left':\n                positioning = {\n                  top    : target.top + target.height + distanceAway,\n                  left   : target.left + offset,\n                  bottom : 'auto',\n                  right  : 'auto'\n                };\n              break;\n              case 'bottom center':\n                positioning = {\n                  top    : target.top + target.height + distanceAway,\n                  left   : target.left + (target.width / 2) - (popup.width / 2) + offset,\n                  bottom : 'auto',\n                  right  : 'auto'\n                };\n              break;\n              case 'bottom right':\n                positioning = {\n                  top    : target.top + target.height + distanceAway,\n                  right  : parent.width - target.left  - target.width - offset,\n                  left   : 'auto',\n                  bottom : 'auto'\n                };\n              break;\n            }\n            if(positioning === undefined) {\n              module.error(error.invalidPosition, position);\n            }\n\n            module.debug('Calculated popup positioning values', positioning);\n\n            // tentatively place on stage\n            $popup\n              .css(positioning)\n              .removeClass(className.position)\n              .addClass(position)\n              .addClass(className.loading)\n            ;\n\n            popupOffset = module.get.popupOffset();\n\n            // see if any boundaries are surpassed with this tentative position\n            distanceFromBoundary = module.get.distanceFromBoundary(popupOffset, calculations);\n\n            if( module.is.offstage(distanceFromBoundary, position) ) {\n              module.debug('Position is outside viewport', position);\n              if(searchDepth < settings.maxSearchDepth) {\n                searchDepth++;\n                position = module.get.nextPosition(position);\n                module.debug('Trying new position', position);\n                return ($popup)\n                  ? module.set.position(position, calculations)\n                  : false\n                ;\n              }\n              else {\n                if(settings.lastResort) {\n                  module.debug('No position found, showing with last position');\n                }\n                else {\n                  module.debug('Popup could not find a position to display', $popup);\n                  module.error(error.cannotPlace, element);\n                  module.remove.attempts();\n                  module.remove.loading();\n                  module.reset();\n                  settings.onUnplaceable.call($popup, element);\n                  return false;\n                }\n              }\n            }\n            module.debug('Position is on stage', position);\n            module.remove.attempts();\n            module.remove.loading();\n            if( settings.setFluidWidth && module.is.fluid() ) {\n              module.set.fluidWidth(calculations);\n            }\n            return true;\n          },\n\n          fluidWidth: function(calculations) {\n            calculations = calculations || module.get.calculations();\n            module.debug('Automatically setting element width to parent width', calculations.parent.width);\n            $popup.css('width', calculations.container.width);\n          },\n\n          variation: function(variation) {\n            variation = variation || module.get.variation();\n            if(variation && module.has.popup() ) {\n              module.verbose('Adding variation to popup', variation);\n              $popup.addClass(variation);\n            }\n          },\n\n          visible: function() {\n            $module.addClass(className.visible);\n          }\n        },\n\n        remove: {\n          loading: function() {\n            $popup.removeClass(className.loading);\n          },\n          variation: function(variation) {\n            variation = variation || module.get.variation();\n            if(variation) {\n              module.verbose('Removing variation', variation);\n              $popup.removeClass(variation);\n            }\n          },\n          visible: function() {\n            $module.removeClass(className.visible);\n          },\n          attempts: function() {\n            module.verbose('Resetting all searched positions');\n            searchDepth    = 0;\n            triedPositions = false;\n          }\n        },\n\n        bind: {\n          events: function() {\n            module.debug('Binding popup events to module');\n            if(settings.on == 'click') {\n              $module\n                .on('click' + eventNamespace, module.toggle)\n              ;\n            }\n            if(settings.on == 'hover' && hasTouch) {\n              $module\n                .on('touchstart' + eventNamespace, module.event.touchstart)\n              ;\n            }\n            if( module.get.startEvent() ) {\n              $module\n                .on(module.get.startEvent() + eventNamespace, module.event.start)\n                .on(module.get.endEvent() + eventNamespace, module.event.end)\n              ;\n            }\n            if(settings.target) {\n              module.debug('Target set to element', $target);\n            }\n            $window.on('resize' + elementNamespace, module.event.resize);\n          },\n          popup: function() {\n            module.verbose('Allowing hover events on popup to prevent closing');\n            if( $popup && module.has.popup() ) {\n              $popup\n                .on('mouseenter' + eventNamespace, module.event.start)\n                .on('mouseleave' + eventNamespace, module.event.end)\n              ;\n            }\n          },\n          close: function() {\n            if(settings.hideOnScroll === true || (settings.hideOnScroll == 'auto' && settings.on != 'click')) {\n              module.bind.closeOnScroll();\n            }\n            if(settings.on == 'hover' && openedWithTouch) {\n              module.bind.touchClose();\n            }\n            if(settings.on == 'click' && settings.closable) {\n              module.bind.clickaway();\n            }\n          },\n          closeOnScroll: function() {\n            module.verbose('Binding scroll close event to document');\n            $scrollContext\n              .one(module.get.scrollEvent() + elementNamespace, module.event.hideGracefully)\n            ;\n          },\n          touchClose: function() {\n            module.verbose('Binding popup touchclose event to document');\n            $document\n              .on('touchstart' + elementNamespace, function(event) {\n                module.verbose('Touched away from popup');\n                module.event.hideGracefully.call(element, event);\n              })\n            ;\n          },\n          clickaway: function() {\n            module.verbose('Binding popup close event to document');\n            $document\n              .on('click' + elementNamespace, function(event) {\n                module.verbose('Clicked away from popup');\n                module.event.hideGracefully.call(element, event);\n              })\n            ;\n          }\n        },\n\n        unbind: {\n          events: function() {\n            $window\n              .off(elementNamespace)\n            ;\n            $module\n              .off(eventNamespace)\n            ;\n          },\n          close: function() {\n            $document\n              .off(elementNamespace)\n            ;\n            $scrollContext\n              .off(elementNamespace)\n            ;\n          },\n        },\n\n        has: {\n          popup: function() {\n            return ($popup && $popup.length > 0);\n          }\n        },\n\n        should: {\n          centerArrow: function(calculations) {\n            return !module.is.basic() && calculations.target.width <= (settings.arrowPixelsFromEdge * 2);\n          }\n        },\n\n        is: {\n          offstage: function(distanceFromBoundary, position) {\n            var\n              offstage = []\n            ;\n            // return boundaries that have been surpassed\n            $.each(distanceFromBoundary, function(direction, distance) {\n              if(distance < -settings.jitter) {\n                module.debug('Position exceeds allowable distance from edge', direction, distance, position);\n                offstage.push(direction);\n              }\n            });\n            if(offstage.length > 0) {\n              return true;\n            }\n            else {\n              return false;\n            }\n          },\n          svg: function(element) {\n            return module.supports.svg() && (element instanceof SVGGraphicsElement);\n          },\n          basic: function() {\n            return $module.hasClass(className.basic);\n          },\n          active: function() {\n            return $module.hasClass(className.active);\n          },\n          animating: function() {\n            return ($popup !== undefined && $popup.hasClass(className.animating) );\n          },\n          fluid: function() {\n            return ($popup !== undefined && $popup.hasClass(className.fluid));\n          },\n          visible: function() {\n            return ($popup !== undefined && $popup.hasClass(className.popupVisible));\n          },\n          dropdown: function() {\n            return $module.hasClass(className.dropdown);\n          },\n          hidden: function() {\n            return !module.is.visible();\n          },\n          rtl: function () {\n            return $module.css('direction') == 'rtl';\n          }\n        },\n\n        reset: function() {\n          module.remove.visible();\n          if(settings.preserve) {\n            if($.fn.transition !== undefined) {\n              $popup\n                .transition('remove transition')\n              ;\n            }\n          }\n          else {\n            module.removePopup();\n          }\n        },\n\n        setting: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            settings[name] = value;\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.popup.settings = {\n\n  name           : 'Popup',\n\n  // module settings\n  silent         : false,\n  debug          : false,\n  verbose        : false,\n  performance    : true,\n  namespace      : 'popup',\n\n  // whether it should use dom mutation observers\n  observeChanges : true,\n\n  // callback only when element added to dom\n  onCreate       : function(){},\n\n  // callback before element removed from dom\n  onRemove       : function(){},\n\n  // callback before show animation\n  onShow         : function(){},\n\n  // callback after show animation\n  onVisible      : function(){},\n\n  // callback before hide animation\n  onHide         : function(){},\n\n  // callback when popup cannot be positioned in visible screen\n  onUnplaceable  : function(){},\n\n  // callback after hide animation\n  onHidden       : function(){},\n\n  // when to show popup\n  on             : 'hover',\n\n  // element to use to determine if popup is out of boundary\n  boundary       : window,\n\n  // whether to add touchstart events when using hover\n  addTouchEvents : true,\n\n  // default position relative to element\n  position       : 'top left',\n\n  // name of variation to use\n  variation      : '',\n\n  // whether popup should be moved to context\n  movePopup      : true,\n\n  // element which popup should be relative to\n  target         : false,\n\n  // jq selector or element that should be used as popup\n  popup          : false,\n\n  // popup should remain inline next to activator\n  inline         : false,\n\n  // popup should be removed from page on hide\n  preserve       : false,\n\n  // popup should not close when being hovered on\n  hoverable      : false,\n\n  // explicitly set content\n  content        : false,\n\n  // explicitly set html\n  html           : false,\n\n  // explicitly set title\n  title          : false,\n\n  // whether automatically close on clickaway when on click\n  closable       : true,\n\n  // automatically hide on scroll\n  hideOnScroll   : 'auto',\n\n  // hide other popups on show\n  exclusive      : false,\n\n  // context to attach popups\n  context        : 'body',\n\n  // context for binding scroll events\n  scrollContext  : window,\n\n  // position to prefer when calculating new position\n  prefer         : 'opposite',\n\n  // specify position to appear even if it doesn't fit\n  lastResort     : false,\n\n  // number of pixels from edge of popup to pointing arrow center (used from centering)\n  arrowPixelsFromEdge: 20,\n\n  // delay used to prevent accidental refiring of animations due to user error\n  delay : {\n    show : 50,\n    hide : 70\n  },\n\n  // whether fluid variation should assign width explicitly\n  setFluidWidth  : true,\n\n  // transition settings\n  duration       : 200,\n  transition     : 'scale',\n\n  // distance away from activating element in px\n  distanceAway   : 0,\n\n  // number of pixels an element is allowed to be \"offstage\" for a position to be chosen (allows for rounding)\n  jitter         : 2,\n\n  // offset on aligning axis from calculated position\n  offset         : 0,\n\n  // maximum times to look for a position before failing (9 positions total)\n  maxSearchDepth : 15,\n\n  error: {\n    invalidPosition : 'The position you specified is not a valid position',\n    cannotPlace     : 'Popup does not fit within the boundaries of the viewport',\n    method          : 'The method you called is not defined.',\n    noTransition    : 'This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>',\n    notFound        : 'The target or popup you specified does not exist on the page'\n  },\n\n  metadata: {\n    activator : 'activator',\n    content   : 'content',\n    html      : 'html',\n    offset    : 'offset',\n    position  : 'position',\n    title     : 'title',\n    variation : 'variation'\n  },\n\n  className   : {\n    active       : 'active',\n    basic        : 'basic',\n    animating    : 'animating',\n    dropdown     : 'dropdown',\n    fluid        : 'fluid',\n    loading      : 'loading',\n    popup        : 'ui popup',\n    position     : 'top left center bottom right',\n    visible      : 'visible',\n    popupVisible : 'visible'\n  },\n\n  selector    : {\n    popup    : '.ui.popup'\n  },\n\n  templates: {\n    escape: function(string) {\n      var\n        badChars     = /[&<>\"'`]/g,\n        shouldEscape = /[&<>\"'`]/,\n        escape       = {\n          \"&\": \"&amp;\",\n          \"<\": \"&lt;\",\n          \">\": \"&gt;\",\n          '\"': \"&quot;\",\n          \"'\": \"&#x27;\",\n          \"`\": \"&#x60;\"\n        },\n        escapedChar  = function(chr) {\n          return escape[chr];\n        }\n      ;\n      if(shouldEscape.test(string)) {\n        return string.replace(badChars, escapedChar);\n      }\n      return string;\n    },\n    popup: function(text) {\n      var\n        html   = '',\n        escape = $.fn.popup.settings.templates.escape\n      ;\n      if(typeof text !== undefined) {\n        if(typeof text.title !== undefined && text.title) {\n          text.title = escape(text.title);\n          html += '<div class=\"header\">' + text.title + '</div>';\n        }\n        if(typeof text.content !== undefined && text.content) {\n          text.content = escape(text.content);\n          html += '<div class=\"content\">' + text.content + '</div>';\n        }\n      }\n      return html;\n    }\n  }\n\n};\n\n\n})( jQuery, window, document );\n","/*!\n * # Semantic UI - Progress\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\nvar\n  global = (typeof window != 'undefined' && window.Math == Math)\n    ? window\n    : (typeof self != 'undefined' && self.Math == Math)\n      ? self\n      : Function('return this')()\n;\n\n$.fn.progress = function(parameters) {\n  var\n    $allModules    = $(this),\n\n    moduleSelector = $allModules.selector || '',\n\n    time           = new Date().getTime(),\n    performance    = [],\n\n    query          = arguments[0],\n    methodInvoked  = (typeof query == 'string'),\n    queryArguments = [].slice.call(arguments, 1),\n\n    returnedValue\n  ;\n\n  $allModules\n    .each(function() {\n      var\n        settings          = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.progress.settings, parameters)\n          : $.extend({}, $.fn.progress.settings),\n\n        className       = settings.className,\n        metadata        = settings.metadata,\n        namespace       = settings.namespace,\n        selector        = settings.selector,\n        error           = settings.error,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n\n        $module         = $(this),\n        $bar            = $(this).find(selector.bar),\n        $progress       = $(this).find(selector.progress),\n        $label          = $(this).find(selector.label),\n\n        element         = this,\n        instance        = $module.data(moduleNamespace),\n\n        animating = false,\n        transitionEnd,\n        module\n      ;\n\n      module = {\n\n        initialize: function() {\n          module.debug('Initializing progress bar', settings);\n\n          module.set.duration();\n          module.set.transitionEvent();\n\n          module.read.metadata();\n          module.read.settings();\n\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of progress', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n        destroy: function() {\n          module.verbose('Destroying previous progress for', $module);\n          clearInterval(instance.interval);\n          module.remove.state();\n          $module.removeData(moduleNamespace);\n          instance = undefined;\n        },\n\n        reset: function() {\n          module.remove.nextValue();\n          module.update.progress(0);\n        },\n\n        complete: function() {\n          if(module.percent === undefined || module.percent < 100) {\n            module.remove.progressPoll();\n            module.set.percent(100);\n          }\n        },\n\n        read: {\n          metadata: function() {\n            var\n              data = {\n                percent : $module.data(metadata.percent),\n                total   : $module.data(metadata.total),\n                value   : $module.data(metadata.value)\n              }\n            ;\n            if(data.percent) {\n              module.debug('Current percent value set from metadata', data.percent);\n              module.set.percent(data.percent);\n            }\n            if(data.total) {\n              module.debug('Total value set from metadata', data.total);\n              module.set.total(data.total);\n            }\n            if(data.value) {\n              module.debug('Current value set from metadata', data.value);\n              module.set.value(data.value);\n              module.set.progress(data.value);\n            }\n          },\n          settings: function() {\n            if(settings.total !== false) {\n              module.debug('Current total set in settings', settings.total);\n              module.set.total(settings.total);\n            }\n            if(settings.value !== false) {\n              module.debug('Current value set in settings', settings.value);\n              module.set.value(settings.value);\n              module.set.progress(module.value);\n            }\n            if(settings.percent !== false) {\n              module.debug('Current percent set in settings', settings.percent);\n              module.set.percent(settings.percent);\n            }\n          }\n        },\n\n        bind: {\n          transitionEnd: function(callback) {\n            var\n              transitionEnd = module.get.transitionEnd()\n            ;\n            $bar\n              .one(transitionEnd + eventNamespace, function(event) {\n                clearTimeout(module.failSafeTimer);\n                callback.call(this, event);\n              })\n            ;\n            module.failSafeTimer = setTimeout(function() {\n              $bar.triggerHandler(transitionEnd);\n            }, settings.duration + settings.failSafeDelay);\n            module.verbose('Adding fail safe timer', module.timer);\n          }\n        },\n\n        increment: function(incrementValue) {\n          var\n            maxValue,\n            startValue,\n            newValue\n          ;\n          if( module.has.total() ) {\n            startValue     = module.get.value();\n            incrementValue = incrementValue || 1;\n            newValue       = startValue + incrementValue;\n          }\n          else {\n            startValue     = module.get.percent();\n            incrementValue = incrementValue || module.get.randomValue();\n\n            newValue       = startValue + incrementValue;\n            maxValue       = 100;\n            module.debug('Incrementing percentage by', startValue, newValue);\n          }\n          newValue = module.get.normalizedValue(newValue);\n          module.set.progress(newValue);\n        },\n        decrement: function(decrementValue) {\n          var\n            total     = module.get.total(),\n            startValue,\n            newValue\n          ;\n          if(total) {\n            startValue     =  module.get.value();\n            decrementValue =  decrementValue || 1;\n            newValue       =  startValue - decrementValue;\n            module.debug('Decrementing value by', decrementValue, startValue);\n          }\n          else {\n            startValue     =  module.get.percent();\n            decrementValue =  decrementValue || module.get.randomValue();\n            newValue       =  startValue - decrementValue;\n            module.debug('Decrementing percentage by', decrementValue, startValue);\n          }\n          newValue = module.get.normalizedValue(newValue);\n          module.set.progress(newValue);\n        },\n\n        has: {\n          progressPoll: function() {\n            return module.progressPoll;\n          },\n          total: function() {\n            return (module.get.total() !== false);\n          }\n        },\n\n        get: {\n          text: function(templateText) {\n            var\n              value   = module.value                || 0,\n              total   = module.total                || 0,\n              percent = (animating)\n                ? module.get.displayPercent()\n                : module.percent || 0,\n              left = (module.total > 0)\n                ? (total - value)\n                : (100 - percent)\n            ;\n            templateText = templateText || '';\n            templateText = templateText\n              .replace('{value}', value)\n              .replace('{total}', total)\n              .replace('{left}', left)\n              .replace('{percent}', percent)\n            ;\n            module.verbose('Adding variables to progress bar text', templateText);\n            return templateText;\n          },\n\n          normalizedValue: function(value) {\n            if(value < 0) {\n              module.debug('Value cannot decrement below 0');\n              return 0;\n            }\n            if(module.has.total()) {\n              if(value > module.total) {\n                module.debug('Value cannot increment above total', module.total);\n                return module.total;\n              }\n            }\n            else if(value > 100 ) {\n              module.debug('Value cannot increment above 100 percent');\n              return 100;\n            }\n            return value;\n          },\n\n          updateInterval: function() {\n            if(settings.updateInterval == 'auto') {\n              return settings.duration;\n            }\n            return settings.updateInterval;\n          },\n\n          randomValue: function() {\n            module.debug('Generating random increment percentage');\n            return Math.floor((Math.random() * settings.random.max) + settings.random.min);\n          },\n\n          numericValue: function(value) {\n            return (typeof value === 'string')\n              ? (value.replace(/[^\\d.]/g, '') !== '')\n                ? +(value.replace(/[^\\d.]/g, ''))\n                : false\n              : value\n            ;\n          },\n\n          transitionEnd: function() {\n            var\n              element     = document.createElement('element'),\n              transitions = {\n                'transition'       :'transitionend',\n                'OTransition'      :'oTransitionEnd',\n                'MozTransition'    :'transitionend',\n                'WebkitTransition' :'webkitTransitionEnd'\n              },\n              transition\n            ;\n            for(transition in transitions){\n              if( element.style[transition] !== undefined ){\n                return transitions[transition];\n              }\n            }\n          },\n\n          // gets current displayed percentage (if animating values this is the intermediary value)\n          displayPercent: function() {\n            var\n              barWidth       = $bar.width(),\n              totalWidth     = $module.width(),\n              minDisplay     = parseInt($bar.css('min-width'), 10),\n              displayPercent = (barWidth > minDisplay)\n                ? (barWidth / totalWidth * 100)\n                : module.percent\n            ;\n            return (settings.precision > 0)\n              ? Math.round(displayPercent * (10 * settings.precision)) / (10 * settings.precision)\n              : Math.round(displayPercent)\n            ;\n          },\n\n          percent: function() {\n            return module.percent || 0;\n          },\n          value: function() {\n            return module.nextValue || module.value || 0;\n          },\n          total: function() {\n            return module.total || false;\n          }\n        },\n\n        create: {\n          progressPoll: function() {\n            module.progressPoll = setTimeout(function() {\n              module.update.toNextValue();\n              module.remove.progressPoll();\n            }, module.get.updateInterval());\n          },\n        },\n\n        is: {\n          complete: function() {\n            return module.is.success() || module.is.warning() || module.is.error();\n          },\n          success: function() {\n            return $module.hasClass(className.success);\n          },\n          warning: function() {\n            return $module.hasClass(className.warning);\n          },\n          error: function() {\n            return $module.hasClass(className.error);\n          },\n          active: function() {\n            return $module.hasClass(className.active);\n          },\n          visible: function() {\n            return $module.is(':visible');\n          }\n        },\n\n        remove: {\n          progressPoll: function() {\n            module.verbose('Removing progress poll timer');\n            if(module.progressPoll) {\n              clearTimeout(module.progressPoll);\n              delete module.progressPoll;\n            }\n          },\n          nextValue: function() {\n            module.verbose('Removing progress value stored for next update');\n            delete module.nextValue;\n          },\n          state: function() {\n            module.verbose('Removing stored state');\n            delete module.total;\n            delete module.percent;\n            delete module.value;\n          },\n          active: function() {\n            module.verbose('Removing active state');\n            $module.removeClass(className.active);\n          },\n          success: function() {\n            module.verbose('Removing success state');\n            $module.removeClass(className.success);\n          },\n          warning: function() {\n            module.verbose('Removing warning state');\n            $module.removeClass(className.warning);\n          },\n          error: function() {\n            module.verbose('Removing error state');\n            $module.removeClass(className.error);\n          }\n        },\n\n        set: {\n          barWidth: function(value) {\n            if(value > 100) {\n              module.error(error.tooHigh, value);\n            }\n            else if (value < 0) {\n              module.error(error.tooLow, value);\n            }\n            else {\n              $bar\n                .css('width', value + '%')\n              ;\n              $module\n                .attr('data-percent', parseInt(value, 10))\n              ;\n            }\n          },\n          duration: function(duration) {\n            duration = duration || settings.duration;\n            duration = (typeof duration == 'number')\n              ? duration + 'ms'\n              : duration\n            ;\n            module.verbose('Setting progress bar transition duration', duration);\n            $bar\n              .css({\n                'transition-duration':  duration\n              })\n            ;\n          },\n          percent: function(percent) {\n            percent = (typeof percent == 'string')\n              ? +(percent.replace('%', ''))\n              : percent\n            ;\n            // round display percentage\n            percent = (settings.precision > 0)\n              ? Math.round(percent * (10 * settings.precision)) / (10 * settings.precision)\n              : Math.round(percent)\n            ;\n            module.percent = percent;\n            if( !module.has.total() ) {\n              module.value = (settings.precision > 0)\n                ? Math.round( (percent / 100) * module.total * (10 * settings.precision)) / (10 * settings.precision)\n                : Math.round( (percent / 100) * module.total * 10) / 10\n              ;\n              if(settings.limitValues) {\n                module.value = (module.value > 100)\n                  ? 100\n                  : (module.value < 0)\n                    ? 0\n                    : module.value\n                ;\n              }\n            }\n            module.set.barWidth(percent);\n            module.set.labelInterval();\n            module.set.labels();\n            settings.onChange.call(element, percent, module.value, module.total);\n          },\n          labelInterval: function() {\n            var\n              animationCallback = function() {\n                module.verbose('Bar finished animating, removing continuous label updates');\n                clearInterval(module.interval);\n                animating = false;\n                module.set.labels();\n              }\n            ;\n            clearInterval(module.interval);\n            module.bind.transitionEnd(animationCallback);\n            animating = true;\n            module.interval = setInterval(function() {\n              var\n                isInDOM = $.contains(document.documentElement, element)\n              ;\n              if(!isInDOM) {\n                clearInterval(module.interval);\n                animating = false;\n              }\n              module.set.labels();\n            }, settings.framerate);\n          },\n          labels: function() {\n            module.verbose('Setting both bar progress and outer label text');\n            module.set.barLabel();\n            module.set.state();\n          },\n          label: function(text) {\n            text = text || '';\n            if(text) {\n              text = module.get.text(text);\n              module.verbose('Setting label to text', text);\n              $label.text(text);\n            }\n          },\n          state: function(percent) {\n            percent = (percent !== undefined)\n              ? percent\n              : module.percent\n            ;\n            if(percent === 100) {\n              if(settings.autoSuccess && !(module.is.warning() || module.is.error() || module.is.success())) {\n                module.set.success();\n                module.debug('Automatically triggering success at 100%');\n              }\n              else {\n                module.verbose('Reached 100% removing active state');\n                module.remove.active();\n                module.remove.progressPoll();\n              }\n            }\n            else if(percent > 0) {\n              module.verbose('Adjusting active progress bar label', percent);\n              module.set.active();\n            }\n            else {\n              module.remove.active();\n              module.set.label(settings.text.active);\n            }\n          },\n          barLabel: function(text) {\n            if(text !== undefined) {\n              $progress.text( module.get.text(text) );\n            }\n            else if(settings.label == 'ratio' && module.total) {\n              module.verbose('Adding ratio to bar label');\n              $progress.text( module.get.text(settings.text.ratio) );\n            }\n            else if(settings.label == 'percent') {\n              module.verbose('Adding percentage to bar label');\n              $progress.text( module.get.text(settings.text.percent) );\n            }\n          },\n          active: function(text) {\n            text = text || settings.text.active;\n            module.debug('Setting active state');\n            if(settings.showActivity && !module.is.active() ) {\n              $module.addClass(className.active);\n            }\n            module.remove.warning();\n            module.remove.error();\n            module.remove.success();\n            text = settings.onLabelUpdate('active', text, module.value, module.total);\n            if(text) {\n              module.set.label(text);\n            }\n            module.bind.transitionEnd(function() {\n              settings.onActive.call(element, module.value, module.total);\n            });\n          },\n          success : function(text) {\n            text = text || settings.text.success || settings.text.active;\n            module.debug('Setting success state');\n            $module.addClass(className.success);\n            module.remove.active();\n            module.remove.warning();\n            module.remove.error();\n            module.complete();\n            if(settings.text.success) {\n              text = settings.onLabelUpdate('success', text, module.value, module.total);\n              module.set.label(text);\n            }\n            else {\n              text = settings.onLabelUpdate('active', text, module.value, module.total);\n              module.set.label(text);\n            }\n            module.bind.transitionEnd(function() {\n              settings.onSuccess.call(element, module.total);\n            });\n          },\n          warning : function(text) {\n            text = text || settings.text.warning;\n            module.debug('Setting warning state');\n            $module.addClass(className.warning);\n            module.remove.active();\n            module.remove.success();\n            module.remove.error();\n            module.complete();\n            text = settings.onLabelUpdate('warning', text, module.value, module.total);\n            if(text) {\n              module.set.label(text);\n            }\n            module.bind.transitionEnd(function() {\n              settings.onWarning.call(element, module.value, module.total);\n            });\n          },\n          error : function(text) {\n            text = text || settings.text.error;\n            module.debug('Setting error state');\n            $module.addClass(className.error);\n            module.remove.active();\n            module.remove.success();\n            module.remove.warning();\n            module.complete();\n            text = settings.onLabelUpdate('error', text, module.value, module.total);\n            if(text) {\n              module.set.label(text);\n            }\n            module.bind.transitionEnd(function() {\n              settings.onError.call(element, module.value, module.total);\n            });\n          },\n          transitionEvent: function() {\n            transitionEnd = module.get.transitionEnd();\n          },\n          total: function(totalValue) {\n            module.total = totalValue;\n          },\n          value: function(value) {\n            module.value = value;\n          },\n          progress: function(value) {\n            if(!module.has.progressPoll()) {\n              module.debug('First update in progress update interval, immediately updating', value);\n              module.update.progress(value);\n              module.create.progressPoll();\n            }\n            else {\n              module.debug('Updated within interval, setting next update to use new value', value);\n              module.set.nextValue(value);\n            }\n          },\n          nextValue: function(value) {\n            module.nextValue = value;\n          }\n        },\n\n        update: {\n          toNextValue: function() {\n            var\n              nextValue = module.nextValue\n            ;\n            if(nextValue) {\n              module.debug('Update interval complete using last updated value', nextValue);\n              module.update.progress(nextValue);\n              module.remove.nextValue();\n            }\n          },\n          progress: function(value) {\n            var\n              percentComplete\n            ;\n            value = module.get.numericValue(value);\n            if(value === false) {\n              module.error(error.nonNumeric, value);\n            }\n            value = module.get.normalizedValue(value);\n            if( module.has.total() ) {\n              module.set.value(value);\n              percentComplete = (value / module.total) * 100;\n              module.debug('Calculating percent complete from total', percentComplete);\n              module.set.percent( percentComplete );\n            }\n            else {\n              percentComplete = value;\n              module.debug('Setting value to exact percentage value', percentComplete);\n              module.set.percent( percentComplete );\n            }\n          }\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.progress.settings = {\n\n  name         : 'Progress',\n  namespace    : 'progress',\n\n  silent       : false,\n  debug        : false,\n  verbose      : false,\n  performance  : true,\n\n  random       : {\n    min : 2,\n    max : 5\n  },\n\n  duration       : 300,\n\n  updateInterval : 'auto',\n\n  autoSuccess    : true,\n  showActivity   : true,\n  limitValues    : true,\n\n  label          : 'percent',\n  precision      : 0,\n  framerate      : (1000 / 30), /// 30 fps\n\n  percent        : false,\n  total          : false,\n  value          : false,\n\n  // delay in ms for fail safe animation callback\n  failSafeDelay : 100,\n\n  onLabelUpdate : function(state, text, value, total){\n    return text;\n  },\n  onChange      : function(percent, value, total){},\n  onSuccess     : function(total){},\n  onActive      : function(value, total){},\n  onError       : function(value, total){},\n  onWarning     : function(value, total){},\n\n  error    : {\n    method     : 'The method you called is not defined.',\n    nonNumeric : 'Progress value is non numeric',\n    tooHigh    : 'Value specified is above 100%',\n    tooLow     : 'Value specified is below 0%'\n  },\n\n  regExp: {\n    variable: /\\{\\$*[A-z0-9]+\\}/g\n  },\n\n  metadata: {\n    percent : 'percent',\n    total   : 'total',\n    value   : 'value'\n  },\n\n  selector : {\n    bar      : '> .bar',\n    label    : '> .label',\n    progress : '.bar > .progress'\n  },\n\n  text : {\n    active  : false,\n    error   : false,\n    success : false,\n    warning : false,\n    percent : '{percent}%',\n    ratio   : '{value} of {total}'\n  },\n\n  className : {\n    active  : 'active',\n    error   : 'error',\n    success : 'success',\n    warning : 'warning'\n  }\n\n};\n\n\n})( jQuery, window, document );\n","/*!\n * # Semantic UI - Rating\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.rating = function(parameters) {\n  var\n    $allModules     = $(this),\n    moduleSelector  = $allModules.selector || '',\n\n    time            = new Date().getTime(),\n    performance     = [],\n\n    query           = arguments[0],\n    methodInvoked   = (typeof query == 'string'),\n    queryArguments  = [].slice.call(arguments, 1),\n    returnedValue\n  ;\n  $allModules\n    .each(function() {\n      var\n        settings        = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.rating.settings, parameters)\n          : $.extend({}, $.fn.rating.settings),\n\n        namespace       = settings.namespace,\n        className       = settings.className,\n        metadata        = settings.metadata,\n        selector        = settings.selector,\n        error           = settings.error,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n\n        element         = this,\n        instance        = $(this).data(moduleNamespace),\n\n        $module         = $(this),\n        $icon           = $module.find(selector.icon),\n\n        initialLoad,\n        module\n      ;\n\n      module = {\n\n        initialize: function() {\n          module.verbose('Initializing rating module', settings);\n\n          if($icon.length === 0) {\n            module.setup.layout();\n          }\n\n          if(settings.interactive) {\n            module.enable();\n          }\n          else {\n            module.disable();\n          }\n          module.set.initialLoad();\n          module.set.rating( module.get.initialRating() );\n          module.remove.initialLoad();\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.verbose('Instantiating module', settings);\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous instance', instance);\n          module.remove.events();\n          $module\n            .removeData(moduleNamespace)\n          ;\n        },\n\n        refresh: function() {\n          $icon   = $module.find(selector.icon);\n        },\n\n        setup: {\n          layout: function() {\n            var\n              maxRating = module.get.maxRating(),\n              html      = $.fn.rating.settings.templates.icon(maxRating)\n            ;\n            module.debug('Generating icon html dynamically');\n            $module\n              .html(html)\n            ;\n            module.refresh();\n          }\n        },\n\n        event: {\n          mouseenter: function() {\n            var\n              $activeIcon = $(this)\n            ;\n            $activeIcon\n              .nextAll()\n                .removeClass(className.selected)\n            ;\n            $module\n              .addClass(className.selected)\n            ;\n            $activeIcon\n              .addClass(className.selected)\n                .prevAll()\n                .addClass(className.selected)\n            ;\n          },\n          mouseleave: function() {\n            $module\n              .removeClass(className.selected)\n            ;\n            $icon\n              .removeClass(className.selected)\n            ;\n          },\n          click: function() {\n            var\n              $activeIcon   = $(this),\n              currentRating = module.get.rating(),\n              rating        = $icon.index($activeIcon) + 1,\n              canClear      = (settings.clearable == 'auto')\n               ? ($icon.length === 1)\n               : settings.clearable\n            ;\n            if(canClear && currentRating == rating) {\n              module.clearRating();\n            }\n            else {\n              module.set.rating( rating );\n            }\n          }\n        },\n\n        clearRating: function() {\n          module.debug('Clearing current rating');\n          module.set.rating(0);\n        },\n\n        bind: {\n          events: function() {\n            module.verbose('Binding events');\n            $module\n              .on('mouseenter' + eventNamespace, selector.icon, module.event.mouseenter)\n              .on('mouseleave' + eventNamespace, selector.icon, module.event.mouseleave)\n              .on('click'      + eventNamespace, selector.icon, module.event.click)\n            ;\n          }\n        },\n\n        remove: {\n          events: function() {\n            module.verbose('Removing events');\n            $module\n              .off(eventNamespace)\n            ;\n          },\n          initialLoad: function() {\n            initialLoad = false;\n          }\n        },\n\n        enable: function() {\n          module.debug('Setting rating to interactive mode');\n          module.bind.events();\n          $module\n            .removeClass(className.disabled)\n          ;\n        },\n\n        disable: function() {\n          module.debug('Setting rating to read-only mode');\n          module.remove.events();\n          $module\n            .addClass(className.disabled)\n          ;\n        },\n\n        is: {\n          initialLoad: function() {\n            return initialLoad;\n          }\n        },\n\n        get: {\n          initialRating: function() {\n            if($module.data(metadata.rating) !== undefined) {\n              $module.removeData(metadata.rating);\n              return $module.data(metadata.rating);\n            }\n            return settings.initialRating;\n          },\n          maxRating: function() {\n            if($module.data(metadata.maxRating) !== undefined) {\n              $module.removeData(metadata.maxRating);\n              return $module.data(metadata.maxRating);\n            }\n            return settings.maxRating;\n          },\n          rating: function() {\n            var\n              currentRating = $icon.filter('.' + className.active).length\n            ;\n            module.verbose('Current rating retrieved', currentRating);\n            return currentRating;\n          }\n        },\n\n        set: {\n          rating: function(rating) {\n            var\n              ratingIndex = (rating - 1 >= 0)\n                ? (rating - 1)\n                : 0,\n              $activeIcon = $icon.eq(ratingIndex)\n            ;\n            $module\n              .removeClass(className.selected)\n            ;\n            $icon\n              .removeClass(className.selected)\n              .removeClass(className.active)\n            ;\n            if(rating > 0) {\n              module.verbose('Setting current rating to', rating);\n              $activeIcon\n                .prevAll()\n                .addBack()\n                  .addClass(className.active)\n              ;\n            }\n            if(!module.is.initialLoad()) {\n              settings.onRate.call(element, rating);\n            }\n          },\n          initialLoad: function() {\n            initialLoad = true;\n          }\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.rating.settings = {\n\n  name          : 'Rating',\n  namespace     : 'rating',\n\n  slent         : false,\n  debug         : false,\n  verbose       : false,\n  performance   : true,\n\n  initialRating : 0,\n  interactive   : true,\n  maxRating     : 4,\n  clearable     : 'auto',\n\n  fireOnInit    : false,\n\n  onRate        : function(rating){},\n\n  error         : {\n    method    : 'The method you called is not defined',\n    noMaximum : 'No maximum rating specified. Cannot generate HTML automatically'\n  },\n\n\n  metadata: {\n    rating    : 'rating',\n    maxRating : 'maxRating'\n  },\n\n  className : {\n    active   : 'active',\n    disabled : 'disabled',\n    selected : 'selected',\n    loading  : 'loading'\n  },\n\n  selector  : {\n    icon : '.icon'\n  },\n\n  templates: {\n    icon: function(maxRating) {\n      var\n        icon = 1,\n        html = ''\n      ;\n      while(icon <= maxRating) {\n        html += '<i class=\"icon\"></i>';\n        icon++;\n      }\n      return html;\n    }\n  }\n\n};\n\n})( jQuery, window, document );\n","/*!\n * # Semantic UI - Search\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.search = function(parameters) {\n  var\n    $allModules     = $(this),\n    moduleSelector  = $allModules.selector || '',\n\n    time            = new Date().getTime(),\n    performance     = [],\n\n    query           = arguments[0],\n    methodInvoked   = (typeof query == 'string'),\n    queryArguments  = [].slice.call(arguments, 1),\n    returnedValue\n  ;\n  $(this)\n    .each(function() {\n      var\n        settings          = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.search.settings, parameters)\n          : $.extend({}, $.fn.search.settings),\n\n        className        = settings.className,\n        metadata         = settings.metadata,\n        regExp           = settings.regExp,\n        fields           = settings.fields,\n        selector         = settings.selector,\n        error            = settings.error,\n        namespace        = settings.namespace,\n\n        eventNamespace   = '.' + namespace,\n        moduleNamespace  = namespace + '-module',\n\n        $module          = $(this),\n        $prompt          = $module.find(selector.prompt),\n        $searchButton    = $module.find(selector.searchButton),\n        $results         = $module.find(selector.results),\n        $result          = $module.find(selector.result),\n        $category        = $module.find(selector.category),\n\n        element          = this,\n        instance         = $module.data(moduleNamespace),\n\n        disabledBubbled  = false,\n        resultsDismissed = false,\n\n        module\n      ;\n\n      module = {\n\n        initialize: function() {\n          module.verbose('Initializing module');\n          module.get.settings();\n          module.determine.searchFields();\n          module.bind.events();\n          module.set.type();\n          module.create.results();\n          module.instantiate();\n        },\n        instantiate: function() {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n        destroy: function() {\n          module.verbose('Destroying instance');\n          $module\n            .off(eventNamespace)\n            .removeData(moduleNamespace)\n          ;\n        },\n\n        refresh: function() {\n          module.debug('Refreshing selector cache');\n          $prompt         = $module.find(selector.prompt);\n          $searchButton   = $module.find(selector.searchButton);\n          $category       = $module.find(selector.category);\n          $results        = $module.find(selector.results);\n          $result         = $module.find(selector.result);\n        },\n\n        refreshResults: function() {\n          $results = $module.find(selector.results);\n          $result  = $module.find(selector.result);\n        },\n\n        bind: {\n          events: function() {\n            module.verbose('Binding events to search');\n            if(settings.automatic) {\n              $module\n                .on(module.get.inputEvent() + eventNamespace, selector.prompt, module.event.input)\n              ;\n              $prompt\n                .attr('autocomplete', 'off')\n              ;\n            }\n            $module\n              // prompt\n              .on('focus'     + eventNamespace, selector.prompt, module.event.focus)\n              .on('blur'      + eventNamespace, selector.prompt, module.event.blur)\n              .on('keydown'   + eventNamespace, selector.prompt, module.handleKeyboard)\n              // search button\n              .on('click'     + eventNamespace, selector.searchButton, module.query)\n              // results\n              .on('mousedown' + eventNamespace, selector.results, module.event.result.mousedown)\n              .on('mouseup'   + eventNamespace, selector.results, module.event.result.mouseup)\n              .on('click'     + eventNamespace, selector.result,  module.event.result.click)\n            ;\n          }\n        },\n\n        determine: {\n          searchFields: function() {\n            // this makes sure $.extend does not add specified search fields to default fields\n            // this is the only setting which should not extend defaults\n            if(parameters && parameters.searchFields !== undefined) {\n              settings.searchFields = parameters.searchFields;\n            }\n          }\n        },\n\n        event: {\n          input: function() {\n            if(settings.searchDelay) {\n              clearTimeout(module.timer);\n              module.timer = setTimeout(function() {\n                if(module.is.focused()) {\n                  module.query();\n                }\n              }, settings.searchDelay);\n            }\n            else {\n              module.query();\n            }\n          },\n          focus: function() {\n            module.set.focus();\n            if(settings.searchOnFocus && module.has.minimumCharacters() ) {\n              module.query(function() {\n                if(module.can.show() ) {\n                  module.showResults();\n                }\n              });\n            }\n          },\n          blur: function(event) {\n            var\n              pageLostFocus = (document.activeElement === this),\n              callback      = function() {\n                module.cancel.query();\n                module.remove.focus();\n                module.timer = setTimeout(module.hideResults, settings.hideDelay);\n              }\n            ;\n            if(pageLostFocus) {\n              return;\n            }\n            resultsDismissed = false;\n            if(module.resultsClicked) {\n              module.debug('Determining if user action caused search to close');\n              $module\n                .one('click.close' + eventNamespace, selector.results, function(event) {\n                  if(module.is.inMessage(event) || disabledBubbled) {\n                    $prompt.focus();\n                    return;\n                  }\n                  disabledBubbled = false;\n                  if( !module.is.animating() && !module.is.hidden()) {\n                    callback();\n                  }\n                })\n              ;\n            }\n            else {\n              module.debug('Input blurred without user action, closing results');\n              callback();\n            }\n          },\n          result: {\n            mousedown: function() {\n              module.resultsClicked = true;\n            },\n            mouseup: function() {\n              module.resultsClicked = false;\n            },\n            click: function(event) {\n              module.debug('Search result selected');\n              var\n                $result = $(this),\n                $title  = $result.find(selector.title).eq(0),\n                $link   = $result.is('a[href]')\n                  ? $result\n                  : $result.find('a[href]').eq(0),\n                href    = $link.attr('href')   || false,\n                target  = $link.attr('target') || false,\n                title   = $title.html(),\n                // title is used for result lookup\n                value   = ($title.length > 0)\n                  ? $title.text()\n                  : false,\n                results = module.get.results(),\n                result  = $result.data(metadata.result) || module.get.result(value, results),\n                returnedValue\n              ;\n              if( $.isFunction(settings.onSelect) ) {\n                if(settings.onSelect.call(element, result, results) === false) {\n                  module.debug('Custom onSelect callback cancelled default select action');\n                  disabledBubbled = true;\n                  return;\n                }\n              }\n              module.hideResults();\n              if(value) {\n                module.set.value(value);\n              }\n              if(href) {\n                module.verbose('Opening search link found in result', $link);\n                if(target == '_blank' || event.ctrlKey) {\n                  window.open(href);\n                }\n                else {\n                  window.location.href = (href);\n                }\n              }\n            }\n          }\n        },\n        handleKeyboard: function(event) {\n          var\n            // force selector refresh\n            $result         = $module.find(selector.result),\n            $category       = $module.find(selector.category),\n            $activeResult   = $result.filter('.' + className.active),\n            currentIndex    = $result.index( $activeResult ),\n            resultSize      = $result.length,\n            hasActiveResult = $activeResult.length > 0,\n\n            keyCode         = event.which,\n            keys            = {\n              backspace : 8,\n              enter     : 13,\n              escape    : 27,\n              upArrow   : 38,\n              downArrow : 40\n            },\n            newIndex\n          ;\n          // search shortcuts\n          if(keyCode == keys.escape) {\n            module.verbose('Escape key pressed, blurring search field');\n            module.hideResults();\n            resultsDismissed = true;\n          }\n          if( module.is.visible() ) {\n            if(keyCode == keys.enter) {\n              module.verbose('Enter key pressed, selecting active result');\n              if( $result.filter('.' + className.active).length > 0 ) {\n                module.event.result.click.call($result.filter('.' + className.active), event);\n                event.preventDefault();\n                return false;\n              }\n            }\n            else if(keyCode == keys.upArrow && hasActiveResult) {\n              module.verbose('Up key pressed, changing active result');\n              newIndex = (currentIndex - 1 < 0)\n                ? currentIndex\n                : currentIndex - 1\n              ;\n              $category\n                .removeClass(className.active)\n              ;\n              $result\n                .removeClass(className.active)\n                .eq(newIndex)\n                  .addClass(className.active)\n                  .closest($category)\n                    .addClass(className.active)\n              ;\n              event.preventDefault();\n            }\n            else if(keyCode == keys.downArrow) {\n              module.verbose('Down key pressed, changing active result');\n              newIndex = (currentIndex + 1 >= resultSize)\n                ? currentIndex\n                : currentIndex + 1\n              ;\n              $category\n                .removeClass(className.active)\n              ;\n              $result\n                .removeClass(className.active)\n                .eq(newIndex)\n                  .addClass(className.active)\n                  .closest($category)\n                    .addClass(className.active)\n              ;\n              event.preventDefault();\n            }\n          }\n          else {\n            // query shortcuts\n            if(keyCode == keys.enter) {\n              module.verbose('Enter key pressed, executing query');\n              module.query();\n              module.set.buttonPressed();\n              $prompt.one('keyup', module.remove.buttonFocus);\n            }\n          }\n        },\n\n        setup: {\n          api: function(searchTerm, callback) {\n            var\n              apiSettings = {\n                debug             : settings.debug,\n                on                : false,\n                cache             : settings.cache,\n                action            : 'search',\n                urlData           : {\n                  query : searchTerm\n                },\n                onSuccess         : function(response) {\n                  module.parse.response.call(element, response, searchTerm);\n                  callback();\n                },\n                onFailure         : function() {\n                  module.displayMessage(error.serverError);\n                  callback();\n                },\n                onAbort : function(response) {\n                },\n                onError           : module.error\n              },\n              searchHTML\n            ;\n            $.extend(true, apiSettings, settings.apiSettings);\n            module.verbose('Setting up API request', apiSettings);\n            $module.api(apiSettings);\n          }\n        },\n\n        can: {\n          useAPI: function() {\n            return $.fn.api !== undefined;\n          },\n          show: function() {\n            return module.is.focused() && !module.is.visible() && !module.is.empty();\n          },\n          transition: function() {\n            return settings.transition && $.fn.transition !== undefined && $module.transition('is supported');\n          }\n        },\n\n        is: {\n          animating: function() {\n            return $results.hasClass(className.animating);\n          },\n          hidden: function() {\n            return $results.hasClass(className.hidden);\n          },\n          inMessage: function(event) {\n            if(!event.target) {\n              return;\n            }\n            var\n              $target = $(event.target),\n              isInDOM = $.contains(document.documentElement, event.target)\n            ;\n            return (isInDOM && $target.closest(selector.message).length > 0);\n          },\n          empty: function() {\n            return ($results.html() === '');\n          },\n          visible: function() {\n            return ($results.filter(':visible').length > 0);\n          },\n          focused: function() {\n            return ($prompt.filter(':focus').length > 0);\n          }\n        },\n\n        get: {\n          settings: function() {\n            if($.isPlainObject(parameters) && parameters.searchFullText) {\n              settings.fullTextSearch = parameters.searchFullText;\n              module.error(settings.error.oldSearchSyntax, element);\n            }\n          },\n          inputEvent: function() {\n            var\n              prompt = $prompt[0],\n              inputEvent   = (prompt !== undefined && prompt.oninput !== undefined)\n                ? 'input'\n                : (prompt !== undefined && prompt.onpropertychange !== undefined)\n                  ? 'propertychange'\n                  : 'keyup'\n            ;\n            return inputEvent;\n          },\n          value: function() {\n            return $prompt.val();\n          },\n          results: function() {\n            var\n              results = $module.data(metadata.results)\n            ;\n            return results;\n          },\n          result: function(value, results) {\n            var\n              lookupFields = ['title', 'id'],\n              result       = false\n            ;\n            value = (value !== undefined)\n              ? value\n              : module.get.value()\n            ;\n            results = (results !== undefined)\n              ? results\n              : module.get.results()\n            ;\n            if(settings.type === 'category') {\n              module.debug('Finding result that matches', value);\n              $.each(results, function(index, category) {\n                if($.isArray(category.results)) {\n                  result = module.search.object(value, category.results, lookupFields)[0];\n                  // don't continue searching if a result is found\n                  if(result) {\n                    return false;\n                  }\n                }\n              });\n            }\n            else {\n              module.debug('Finding result in results object', value);\n              result = module.search.object(value, results, lookupFields)[0];\n            }\n            return result || false;\n          },\n        },\n\n        select: {\n          firstResult: function() {\n            module.verbose('Selecting first result');\n            $result.first().addClass(className.active);\n          }\n        },\n\n        set: {\n          focus: function() {\n            $module.addClass(className.focus);\n          },\n          loading: function() {\n            $module.addClass(className.loading);\n          },\n          value: function(value) {\n            module.verbose('Setting search input value', value);\n            $prompt\n              .val(value)\n            ;\n          },\n          type: function(type) {\n            type = type || settings.type;\n            if(settings.type == 'category') {\n              $module.addClass(settings.type);\n            }\n          },\n          buttonPressed: function() {\n            $searchButton.addClass(className.pressed);\n          }\n        },\n\n        remove: {\n          loading: function() {\n            $module.removeClass(className.loading);\n          },\n          focus: function() {\n            $module.removeClass(className.focus);\n          },\n          buttonPressed: function() {\n            $searchButton.removeClass(className.pressed);\n          }\n        },\n\n        query: function(callback) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          var\n            searchTerm = module.get.value(),\n            cache = module.read.cache(searchTerm)\n          ;\n          callback = callback || function() {};\n          if( module.has.minimumCharacters() )  {\n            if(cache) {\n              module.debug('Reading result from cache', searchTerm);\n              module.save.results(cache.results);\n              module.addResults(cache.html);\n              module.inject.id(cache.results);\n              callback();\n            }\n            else {\n              module.debug('Querying for', searchTerm);\n              if($.isPlainObject(settings.source) || $.isArray(settings.source)) {\n                module.search.local(searchTerm);\n                callback();\n              }\n              else if( module.can.useAPI() ) {\n                module.search.remote(searchTerm, callback);\n              }\n              else {\n                module.error(error.source);\n                callback();\n              }\n            }\n            settings.onSearchQuery.call(element, searchTerm);\n          }\n          else {\n            module.hideResults();\n          }\n        },\n\n        search: {\n          local: function(searchTerm) {\n            var\n              results = module.search.object(searchTerm, settings.content),\n              searchHTML\n            ;\n            module.set.loading();\n            module.save.results(results);\n            module.debug('Returned full local search results', results);\n            if(settings.maxResults > 0) {\n              module.debug('Using specified max results', results);\n              results = results.slice(0, settings.maxResults);\n            }\n            if(settings.type == 'category') {\n              results = module.create.categoryResults(results);\n            }\n            searchHTML = module.generateResults({\n              results: results\n            });\n            module.remove.loading();\n            module.addResults(searchHTML);\n            module.inject.id(results);\n            module.write.cache(searchTerm, {\n              html    : searchHTML,\n              results : results\n            });\n          },\n          remote: function(searchTerm, callback) {\n            callback = $.isFunction(callback)\n              ? callback\n              : function(){}\n            ;\n            if($module.api('is loading')) {\n              $module.api('abort');\n            }\n            module.setup.api(searchTerm, callback);\n            $module\n              .api('query')\n            ;\n          },\n          object: function(searchTerm, source, searchFields) {\n            var\n              results      = [],\n              exactResults = [],\n              fuzzyResults = [],\n              searchExp    = searchTerm.toString().replace(regExp.escape, '\\\\$&'),\n              matchRegExp  = new RegExp(regExp.beginsWith + searchExp, 'i'),\n\n              // avoid duplicates when pushing results\n              addResult = function(array, result) {\n                var\n                  notResult      = ($.inArray(result, results) == -1),\n                  notFuzzyResult = ($.inArray(result, fuzzyResults) == -1),\n                  notExactResults = ($.inArray(result, exactResults) == -1)\n                ;\n                if(notResult && notFuzzyResult && notExactResults) {\n                  array.push(result);\n                }\n              }\n            ;\n            source = source || settings.source;\n            searchFields = (searchFields !== undefined)\n              ? searchFields\n              : settings.searchFields\n            ;\n\n            // search fields should be array to loop correctly\n            if(!$.isArray(searchFields)) {\n              searchFields = [searchFields];\n            }\n\n            // exit conditions if no source\n            if(source === undefined || source === false) {\n              module.error(error.source);\n              return [];\n            }\n            // iterate through search fields looking for matches\n            $.each(searchFields, function(index, field) {\n              $.each(source, function(label, content) {\n                var\n                  fieldExists = (typeof content[field] == 'string')\n                ;\n                if(fieldExists) {\n                  if( content[field].search(matchRegExp) !== -1) {\n                    // content starts with value (first in results)\n                    addResult(results, content);\n                  }\n                  else if(settings.fullTextSearch === 'exact' && module.exactSearch(searchTerm, content[field]) ) {\n                    // content fuzzy matches (last in results)\n                    addResult(exactResults, content);\n                  }\n                  else if(settings.fullTextSearch == true && module.fuzzySearch(searchTerm, content[field]) ) {\n                    // content fuzzy matches (last in results)\n                    addResult(fuzzyResults, content);\n                  }\n                }\n              });\n            });\n            $.merge(exactResults, fuzzyResults)\n            $.merge(results, exactResults);\n            return results;\n          }\n        },\n        exactSearch: function (query, term) {\n          query = query.toLowerCase();\n          term  = term.toLowerCase();\n          if(term.indexOf(query) > -1) {\n             return true;\n          }\n          return false;\n        },\n        fuzzySearch: function(query, term) {\n          var\n            termLength  = term.length,\n            queryLength = query.length\n          ;\n          if(typeof query !== 'string') {\n            return false;\n          }\n          query = query.toLowerCase();\n          term  = term.toLowerCase();\n          if(queryLength > termLength) {\n            return false;\n          }\n          if(queryLength === termLength) {\n            return (query === term);\n          }\n          search: for (var characterIndex = 0, nextCharacterIndex = 0; characterIndex < queryLength; characterIndex++) {\n            var\n              queryCharacter = query.charCodeAt(characterIndex)\n            ;\n            while(nextCharacterIndex < termLength) {\n              if(term.charCodeAt(nextCharacterIndex++) === queryCharacter) {\n                continue search;\n              }\n            }\n            return false;\n          }\n          return true;\n        },\n\n        parse: {\n          response: function(response, searchTerm) {\n            var\n              searchHTML = module.generateResults(response)\n            ;\n            module.verbose('Parsing server response', response);\n            if(response !== undefined) {\n              if(searchTerm !== undefined && response[fields.results] !== undefined) {\n                module.addResults(searchHTML);\n                module.inject.id(response[fields.results]);\n                module.write.cache(searchTerm, {\n                  html    : searchHTML,\n                  results : response[fields.results]\n                });\n                module.save.results(response[fields.results]);\n              }\n            }\n          }\n        },\n\n        cancel: {\n          query: function() {\n            if( module.can.useAPI() ) {\n              $module.api('abort');\n            }\n          }\n        },\n\n        has: {\n          minimumCharacters: function() {\n            var\n              searchTerm    = module.get.value(),\n              numCharacters = searchTerm.length\n            ;\n            return (numCharacters >= settings.minCharacters);\n          },\n          results: function() {\n            if($results.length === 0) {\n              return false;\n            }\n            var\n              html = $results.html()\n            ;\n            return html != '';\n          }\n        },\n\n        clear: {\n          cache: function(value) {\n            var\n              cache = $module.data(metadata.cache)\n            ;\n            if(!value) {\n              module.debug('Clearing cache', value);\n              $module.removeData(metadata.cache);\n            }\n            else if(value && cache && cache[value]) {\n              module.debug('Removing value from cache', value);\n              delete cache[value];\n              $module.data(metadata.cache, cache);\n            }\n          }\n        },\n\n        read: {\n          cache: function(name) {\n            var\n              cache = $module.data(metadata.cache)\n            ;\n            if(settings.cache) {\n              module.verbose('Checking cache for generated html for query', name);\n              return (typeof cache == 'object') && (cache[name] !== undefined)\n                ? cache[name]\n                : false\n              ;\n            }\n            return false;\n          }\n        },\n\n        create: {\n          categoryResults: function(results) {\n            var\n              categoryResults = {}\n            ;\n            $.each(results, function(index, result) {\n              if(!result.category) {\n                return;\n              }\n              if(categoryResults[result.category] === undefined) {\n                module.verbose('Creating new category of results', result.category);\n                categoryResults[result.category] = {\n                  name    : result.category,\n                  results : [result]\n                }\n              }\n              else {\n                categoryResults[result.category].results.push(result);\n              }\n            });\n            return categoryResults;\n          },\n          id: function(resultIndex, categoryIndex) {\n            var\n              resultID      = (resultIndex + 1), // not zero indexed\n              categoryID    = (categoryIndex + 1),\n              firstCharCode,\n              letterID,\n              id\n            ;\n            if(categoryIndex !== undefined) {\n              // start char code for \"A\"\n              letterID = String.fromCharCode(97 + categoryIndex);\n              id          = letterID + resultID;\n              module.verbose('Creating category result id', id);\n            }\n            else {\n              id = resultID;\n              module.verbose('Creating result id', id);\n            }\n            return id;\n          },\n          results: function() {\n            if($results.length === 0) {\n              $results = $('<div />')\n                .addClass(className.results)\n                .appendTo($module)\n              ;\n            }\n          }\n        },\n\n        inject: {\n          result: function(result, resultIndex, categoryIndex) {\n            module.verbose('Injecting result into results');\n            var\n              $selectedResult = (categoryIndex !== undefined)\n                ? $results\n                    .children().eq(categoryIndex)\n                      .children(selector.results)\n                        .first()\n                        .children(selector.result)\n                          .eq(resultIndex)\n                : $results\n                    .children(selector.result).eq(resultIndex)\n            ;\n            module.verbose('Injecting results metadata', $selectedResult);\n            $selectedResult\n              .data(metadata.result, result)\n            ;\n          },\n          id: function(results) {\n            module.debug('Injecting unique ids into results');\n            var\n              // since results may be object, we must use counters\n              categoryIndex = 0,\n              resultIndex   = 0\n            ;\n            if(settings.type === 'category') {\n              // iterate through each category result\n              $.each(results, function(index, category) {\n                resultIndex = 0;\n                $.each(category.results, function(index, value) {\n                  var\n                    result = category.results[index]\n                  ;\n                  if(result.id === undefined) {\n                    result.id = module.create.id(resultIndex, categoryIndex);\n                  }\n                  module.inject.result(result, resultIndex, categoryIndex);\n                  resultIndex++;\n                });\n                categoryIndex++;\n              });\n            }\n            else {\n              // top level\n              $.each(results, function(index, value) {\n                var\n                  result = results[index]\n                ;\n                if(result.id === undefined) {\n                  result.id = module.create.id(resultIndex);\n                }\n                module.inject.result(result, resultIndex);\n                resultIndex++;\n              });\n            }\n            return results;\n          }\n        },\n\n        save: {\n          results: function(results) {\n            module.verbose('Saving current search results to metadata', results);\n            $module.data(metadata.results, results);\n          }\n        },\n\n        write: {\n          cache: function(name, value) {\n            var\n              cache = ($module.data(metadata.cache) !== undefined)\n                ? $module.data(metadata.cache)\n                : {}\n            ;\n            if(settings.cache) {\n              module.verbose('Writing generated html to cache', name, value);\n              cache[name] = value;\n              $module\n                .data(metadata.cache, cache)\n              ;\n            }\n          }\n        },\n\n        addResults: function(html) {\n          if( $.isFunction(settings.onResultsAdd) ) {\n            if( settings.onResultsAdd.call($results, html) === false ) {\n              module.debug('onResultsAdd callback cancelled default action');\n              return false;\n            }\n          }\n          if(html) {\n            $results\n              .html(html)\n            ;\n            module.refreshResults();\n            if(settings.selectFirstResult) {\n              module.select.firstResult();\n            }\n            module.showResults();\n          }\n          else {\n            module.hideResults(function() {\n              $results.empty();\n            });\n          }\n        },\n\n        showResults: function(callback) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          if(resultsDismissed) {\n            return;\n          }\n          if(!module.is.visible() && module.has.results()) {\n            if( module.can.transition() ) {\n              module.debug('Showing results with css animations');\n              $results\n                .transition({\n                  animation  : settings.transition + ' in',\n                  debug      : settings.debug,\n                  verbose    : settings.verbose,\n                  duration   : settings.duration,\n                  onComplete : function() {\n                    callback();\n                  },\n                  queue      : true\n                })\n              ;\n            }\n            else {\n              module.debug('Showing results with javascript');\n              $results\n                .stop()\n                .fadeIn(settings.duration, settings.easing)\n              ;\n            }\n            settings.onResultsOpen.call($results);\n          }\n        },\n        hideResults: function(callback) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          if( module.is.visible() ) {\n            if( module.can.transition() ) {\n              module.debug('Hiding results with css animations');\n              $results\n                .transition({\n                  animation  : settings.transition + ' out',\n                  debug      : settings.debug,\n                  verbose    : settings.verbose,\n                  duration   : settings.duration,\n                  onComplete : function() {\n                    callback();\n                  },\n                  queue      : true\n                })\n              ;\n            }\n            else {\n              module.debug('Hiding results with javascript');\n              $results\n                .stop()\n                .fadeOut(settings.duration, settings.easing)\n              ;\n            }\n            settings.onResultsClose.call($results);\n          }\n        },\n\n        generateResults: function(response) {\n          module.debug('Generating html from response', response);\n          var\n            template       = settings.templates[settings.type],\n            isProperObject = ($.isPlainObject(response[fields.results]) && !$.isEmptyObject(response[fields.results])),\n            isProperArray  = ($.isArray(response[fields.results]) && response[fields.results].length > 0),\n            html           = ''\n          ;\n          if(isProperObject || isProperArray ) {\n            if(settings.maxResults > 0) {\n              if(isProperObject) {\n                if(settings.type == 'standard') {\n                  module.error(error.maxResults);\n                }\n              }\n              else {\n                response[fields.results] = response[fields.results].slice(0, settings.maxResults);\n              }\n            }\n            if($.isFunction(template)) {\n              html = template(response, fields);\n            }\n            else {\n              module.error(error.noTemplate, false);\n            }\n          }\n          else if(settings.showNoResults) {\n            html = module.displayMessage(error.noResults, 'empty');\n          }\n          settings.onResults.call(element, response);\n          return html;\n        },\n\n        displayMessage: function(text, type) {\n          type = type || 'standard';\n          module.debug('Displaying message', text, type);\n          module.addResults( settings.templates.message(text, type) );\n          return settings.templates.message(text, type);\n        },\n\n        setting: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            settings[name] = value;\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                return false;\n              }\n            });\n          }\n          if( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.search.settings = {\n\n  name              : 'Search',\n  namespace         : 'search',\n\n  silent            : false,\n  debug             : false,\n  verbose           : false,\n  performance       : true,\n\n  // template to use (specified in settings.templates)\n  type              : 'standard',\n\n  // minimum characters required to search\n  minCharacters     : 1,\n\n  // whether to select first result after searching automatically\n  selectFirstResult : false,\n\n  // API config\n  apiSettings       : false,\n\n  // object to search\n  source            : false,\n\n  // Whether search should query current term on focus\n  searchOnFocus     : true,\n\n  // fields to search\n  searchFields   : [\n    'title',\n    'description'\n  ],\n\n  // field to display in standard results template\n  displayField   : '',\n\n  // search anywhere in value (set to 'exact' to require exact matches\n  fullTextSearch : 'exact',\n\n  // whether to add events to prompt automatically\n  automatic      : true,\n\n  // delay before hiding menu after blur\n  hideDelay      : 0,\n\n  // delay before searching\n  searchDelay    : 200,\n\n  // maximum results returned from search\n  maxResults     : 7,\n\n  // whether to store lookups in local cache\n  cache          : true,\n\n  // whether no results errors should be shown\n  showNoResults  : true,\n\n  // transition settings\n  transition     : 'scale',\n  duration       : 200,\n  easing         : 'easeOutExpo',\n\n  // callbacks\n  onSelect       : false,\n  onResultsAdd   : false,\n\n  onSearchQuery  : function(query){},\n  onResults      : function(response){},\n\n  onResultsOpen  : function(){},\n  onResultsClose : function(){},\n\n  className: {\n    animating : 'animating',\n    active    : 'active',\n    empty     : 'empty',\n    focus     : 'focus',\n    hidden    : 'hidden',\n    loading   : 'loading',\n    results   : 'results',\n    pressed   : 'down'\n  },\n\n  error : {\n    source          : 'Cannot search. No source used, and Semantic API module was not included',\n    noResults       : 'Your search returned no results',\n    logging         : 'Error in debug logging, exiting.',\n    noEndpoint      : 'No search endpoint was specified',\n    noTemplate      : 'A valid template name was not specified.',\n    oldSearchSyntax : 'searchFullText setting has been renamed fullTextSearch for consistency, please adjust your settings.',\n    serverError     : 'There was an issue querying the server.',\n    maxResults      : 'Results must be an array to use maxResults setting',\n    method          : 'The method you called is not defined.'\n  },\n\n  metadata: {\n    cache   : 'cache',\n    results : 'results',\n    result  : 'result'\n  },\n\n  regExp: {\n    escape     : /[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g,\n    beginsWith : '(?:\\s|^)'\n  },\n\n  // maps api response attributes to internal representation\n  fields: {\n    categories      : 'results',     // array of categories (category view)\n    categoryName    : 'name',        // name of category (category view)\n    categoryResults : 'results',     // array of results (category view)\n    description     : 'description', // result description\n    image           : 'image',       // result image\n    price           : 'price',       // result price\n    results         : 'results',     // array of results (standard)\n    title           : 'title',       // result title\n    url             : 'url',         // result url\n    action          : 'action',      // \"view more\" object name\n    actionText      : 'text',        // \"view more\" text\n    actionURL       : 'url'          // \"view more\" url\n  },\n\n  selector : {\n    prompt       : '.prompt',\n    searchButton : '.search.button',\n    results      : '.results',\n    message      : '.results > .message',\n    category     : '.category',\n    result       : '.result',\n    title        : '.title, .name'\n  },\n\n  templates: {\n    escape: function(string) {\n      var\n        badChars     = /[&<>\"'`]/g,\n        shouldEscape = /[&<>\"'`]/,\n        escape       = {\n          \"&\": \"&amp;\",\n          \"<\": \"&lt;\",\n          \">\": \"&gt;\",\n          '\"': \"&quot;\",\n          \"'\": \"&#x27;\",\n          \"`\": \"&#x60;\"\n        },\n        escapedChar  = function(chr) {\n          return escape[chr];\n        }\n      ;\n      if(shouldEscape.test(string)) {\n        return string.replace(badChars, escapedChar);\n      }\n      return string;\n    },\n    message: function(message, type) {\n      var\n        html = ''\n      ;\n      if(message !== undefined && type !== undefined) {\n        html +=  ''\n          + '<div class=\"message ' + type + '\">'\n        ;\n        // message type\n        if(type == 'empty') {\n          html += ''\n            + '<div class=\"header\">No Results</div class=\"header\">'\n            + '<div class=\"description\">' + message + '</div class=\"description\">'\n          ;\n        }\n        else {\n          html += ' <div class=\"description\">' + message + '</div>';\n        }\n        html += '</div>';\n      }\n      return html;\n    },\n    category: function(response, fields) {\n      var\n        html = '',\n        escape = $.fn.search.settings.templates.escape\n      ;\n      if(response[fields.categoryResults] !== undefined) {\n\n        // each category\n        $.each(response[fields.categoryResults], function(index, category) {\n          if(category[fields.results] !== undefined && category.results.length > 0) {\n\n            html  += '<div class=\"category\">';\n\n            if(category[fields.categoryName] !== undefined) {\n              html += '<div class=\"name\">' + category[fields.categoryName] + '</div>';\n            }\n\n            // each item inside category\n            html += '<div class=\"results\">';\n            $.each(category.results, function(index, result) {\n              if(result[fields.url]) {\n                html  += '<a class=\"result\" href=\"' + result[fields.url] + '\">';\n              }\n              else {\n                html  += '<a class=\"result\">';\n              }\n              if(result[fields.image] !== undefined) {\n                html += ''\n                  + '<div class=\"image\">'\n                  + ' <img src=\"' + result[fields.image] + '\">'\n                  + '</div>'\n                ;\n              }\n              html += '<div class=\"content\">';\n              if(result[fields.price] !== undefined) {\n                html += '<div class=\"price\">' + result[fields.price] + '</div>';\n              }\n              if(result[fields.title] !== undefined) {\n                html += '<div class=\"title\">' + result[fields.title] + '</div>';\n              }\n              if(result[fields.description] !== undefined) {\n                html += '<div class=\"description\">' + result[fields.description] + '</div>';\n              }\n              html  += ''\n                + '</div>'\n              ;\n              html += '</a>';\n            });\n            html += '</div>';\n            html  += ''\n              + '</div>'\n            ;\n          }\n        });\n        if(response[fields.action]) {\n          html += ''\n          + '<a href=\"' + response[fields.action][fields.actionURL] + '\" class=\"action\">'\n          +   response[fields.action][fields.actionText]\n          + '</a>';\n        }\n        return html;\n      }\n      return false;\n    },\n    standard: function(response, fields) {\n      var\n        html = ''\n      ;\n      if(response[fields.results] !== undefined) {\n\n        // each result\n        $.each(response[fields.results], function(index, result) {\n          if(result[fields.url]) {\n            html  += '<a class=\"result\" href=\"' + result[fields.url] + '\">';\n          }\n          else {\n            html  += '<a class=\"result\">';\n          }\n          if(result[fields.image] !== undefined) {\n            html += ''\n              + '<div class=\"image\">'\n              + ' <img src=\"' + result[fields.image] + '\">'\n              + '</div>'\n            ;\n          }\n          html += '<div class=\"content\">';\n          if(result[fields.price] !== undefined) {\n            html += '<div class=\"price\">' + result[fields.price] + '</div>';\n          }\n          if(result[fields.title] !== undefined) {\n            html += '<div class=\"title\">' + result[fields.title] + '</div>';\n          }\n          if(result[fields.description] !== undefined) {\n            html += '<div class=\"description\">' + result[fields.description] + '</div>';\n          }\n          html  += ''\n            + '</div>'\n          ;\n          html += '</a>';\n        });\n\n        if(response[fields.action]) {\n          html += ''\n          + '<a href=\"' + response[fields.action][fields.actionURL] + '\" class=\"action\">'\n          +   response[fields.action][fields.actionText]\n          + '</a>';\n        }\n        return html;\n      }\n      return false;\n    }\n  }\n};\n\n})( jQuery, window, document );\n","/*!\n * # Semantic UI - Shape\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.shape = function(parameters) {\n  var\n    $allModules     = $(this),\n    $body           = $('body'),\n\n    time            = new Date().getTime(),\n    performance     = [],\n\n    query           = arguments[0],\n    methodInvoked   = (typeof query == 'string'),\n    queryArguments  = [].slice.call(arguments, 1),\n\n    requestAnimationFrame = window.requestAnimationFrame\n      || window.mozRequestAnimationFrame\n      || window.webkitRequestAnimationFrame\n      || window.msRequestAnimationFrame\n      || function(callback) { setTimeout(callback, 0); },\n\n    returnedValue\n  ;\n\n  $allModules\n    .each(function() {\n      var\n        moduleSelector = $allModules.selector || '',\n        settings       = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.shape.settings, parameters)\n          : $.extend({}, $.fn.shape.settings),\n\n        // internal aliases\n        namespace     = settings.namespace,\n        selector      = settings.selector,\n        error         = settings.error,\n        className     = settings.className,\n\n        // define namespaces for modules\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n\n        // selector cache\n        $module       = $(this),\n        $sides        = $module.find(selector.sides),\n        $side         = $module.find(selector.side),\n\n        // private variables\n        nextIndex = false,\n        $activeSide,\n        $nextSide,\n\n        // standard module\n        element       = this,\n        instance      = $module.data(moduleNamespace),\n        module\n      ;\n\n      module = {\n\n        initialize: function() {\n          module.verbose('Initializing module for', element);\n          module.set.defaultSide();\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, instance)\n          ;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous module for', element);\n          $module\n            .removeData(moduleNamespace)\n            .off(eventNamespace)\n          ;\n        },\n\n        refresh: function() {\n          module.verbose('Refreshing selector cache for', element);\n          $module = $(element);\n          $sides  = $(this).find(selector.shape);\n          $side   = $(this).find(selector.side);\n        },\n\n        repaint: function() {\n          module.verbose('Forcing repaint event');\n          var\n            shape          = $sides[0] || document.createElement('div'),\n            fakeAssignment = shape.offsetWidth\n          ;\n        },\n\n        animate: function(propertyObject, callback) {\n          module.verbose('Animating box with properties', propertyObject);\n          callback = callback || function(event) {\n            module.verbose('Executing animation callback');\n            if(event !== undefined) {\n              event.stopPropagation();\n            }\n            module.reset();\n            module.set.active();\n          };\n          settings.beforeChange.call($nextSide[0]);\n          if(module.get.transitionEvent()) {\n            module.verbose('Starting CSS animation');\n            $module\n              .addClass(className.animating)\n            ;\n            $sides\n              .css(propertyObject)\n              .one(module.get.transitionEvent(), callback)\n            ;\n            module.set.duration(settings.duration);\n            requestAnimationFrame(function() {\n              $module\n                .addClass(className.animating)\n              ;\n              $activeSide\n                .addClass(className.hidden)\n              ;\n            });\n          }\n          else {\n            callback();\n          }\n        },\n\n        queue: function(method) {\n          module.debug('Queueing animation of', method);\n          $sides\n            .one(module.get.transitionEvent(), function() {\n              module.debug('Executing queued animation');\n              setTimeout(function(){\n                $module.shape(method);\n              }, 0);\n            })\n          ;\n        },\n\n        reset: function() {\n          module.verbose('Animating states reset');\n          $module\n            .removeClass(className.animating)\n            .attr('style', '')\n            .removeAttr('style')\n          ;\n          // removeAttr style does not consistently work in safari\n          $sides\n            .attr('style', '')\n            .removeAttr('style')\n          ;\n          $side\n            .attr('style', '')\n            .removeAttr('style')\n            .removeClass(className.hidden)\n          ;\n          $nextSide\n            .removeClass(className.animating)\n            .attr('style', '')\n            .removeAttr('style')\n          ;\n        },\n\n        is: {\n          complete: function() {\n            return ($side.filter('.' + className.active)[0] == $nextSide[0]);\n          },\n          animating: function() {\n            return $module.hasClass(className.animating);\n          }\n        },\n\n        set: {\n\n          defaultSide: function() {\n            $activeSide = $module.find('.' + settings.className.active);\n            $nextSide   = ( $activeSide.next(selector.side).length > 0 )\n              ? $activeSide.next(selector.side)\n              : $module.find(selector.side).first()\n            ;\n            nextIndex = false;\n            module.verbose('Active side set to', $activeSide);\n            module.verbose('Next side set to', $nextSide);\n          },\n\n          duration: function(duration) {\n            duration = duration || settings.duration;\n            duration = (typeof duration == 'number')\n              ? duration + 'ms'\n              : duration\n            ;\n            module.verbose('Setting animation duration', duration);\n            if(settings.duration || settings.duration === 0) {\n              $sides.add($side)\n                .css({\n                  '-webkit-transition-duration': duration,\n                  '-moz-transition-duration': duration,\n                  '-ms-transition-duration': duration,\n                  '-o-transition-duration': duration,\n                  'transition-duration': duration\n                })\n              ;\n            }\n          },\n\n          currentStageSize: function() {\n            var\n              $activeSide = $module.find('.' + settings.className.active),\n              width       = $activeSide.outerWidth(true),\n              height      = $activeSide.outerHeight(true)\n            ;\n            $module\n              .css({\n                width: width,\n                height: height\n              })\n            ;\n          },\n\n          stageSize: function() {\n            var\n              $clone      = $module.clone().addClass(className.loading),\n              $activeSide = $clone.find('.' + settings.className.active),\n              $nextSide   = (nextIndex)\n                ? $clone.find(selector.side).eq(nextIndex)\n                : ( $activeSide.next(selector.side).length > 0 )\n                  ? $activeSide.next(selector.side)\n                  : $clone.find(selector.side).first(),\n              newWidth    = (settings.width == 'next')\n                ? $nextSide.outerWidth(true)\n                : (settings.width == 'initial')\n                  ? $module.width()\n                  : settings.width,\n              newHeight    = (settings.height == 'next')\n                ? $nextSide.outerHeight(true)\n                : (settings.height == 'initial')\n                  ? $module.height()\n                  : settings.height\n            ;\n            $activeSide.removeClass(className.active);\n            $nextSide.addClass(className.active);\n            $clone.insertAfter($module);\n            $clone.remove();\n            if(settings.width != 'auto') {\n              $module.css('width', newWidth + settings.jitter);\n              module.verbose('Specifying width during animation', newWidth);\n            }\n            if(settings.height != 'auto') {\n              $module.css('height', newHeight + settings.jitter);\n              module.verbose('Specifying height during animation', newHeight);\n            }\n          },\n\n          nextSide: function(selector) {\n            nextIndex = selector;\n            $nextSide = $side.filter(selector);\n            nextIndex = $side.index($nextSide);\n            if($nextSide.length === 0) {\n              module.set.defaultSide();\n              module.error(error.side);\n            }\n            module.verbose('Next side manually set to', $nextSide);\n          },\n\n          active: function() {\n            module.verbose('Setting new side to active', $nextSide);\n            $side\n              .removeClass(className.active)\n            ;\n            $nextSide\n              .addClass(className.active)\n            ;\n            settings.onChange.call($nextSide[0]);\n            module.set.defaultSide();\n          }\n        },\n\n        flip: {\n\n          up: function() {\n            if(module.is.complete() && !module.is.animating() && !settings.allowRepeats) {\n              module.debug('Side already visible', $nextSide);\n              return;\n            }\n            if( !module.is.animating()) {\n              module.debug('Flipping up', $nextSide);\n              var\n                transform = module.get.transform.up()\n              ;\n              module.set.stageSize();\n              module.stage.above();\n              module.animate(transform);\n            }\n            else {\n              module.queue('flip up');\n            }\n          },\n\n          down: function() {\n            if(module.is.complete() && !module.is.animating() && !settings.allowRepeats) {\n              module.debug('Side already visible', $nextSide);\n              return;\n            }\n            if( !module.is.animating()) {\n              module.debug('Flipping down', $nextSide);\n              var\n                transform = module.get.transform.down()\n              ;\n              module.set.stageSize();\n              module.stage.below();\n              module.animate(transform);\n            }\n            else {\n              module.queue('flip down');\n            }\n          },\n\n          left: function() {\n            if(module.is.complete() && !module.is.animating() && !settings.allowRepeats) {\n              module.debug('Side already visible', $nextSide);\n              return;\n            }\n            if( !module.is.animating()) {\n              module.debug('Flipping left', $nextSide);\n              var\n                transform = module.get.transform.left()\n              ;\n              module.set.stageSize();\n              module.stage.left();\n              module.animate(transform);\n            }\n            else {\n              module.queue('flip left');\n            }\n          },\n\n          right: function() {\n            if(module.is.complete() && !module.is.animating() && !settings.allowRepeats) {\n              module.debug('Side already visible', $nextSide);\n              return;\n            }\n            if( !module.is.animating()) {\n              module.debug('Flipping right', $nextSide);\n              var\n                transform = module.get.transform.right()\n              ;\n              module.set.stageSize();\n              module.stage.right();\n              module.animate(transform);\n            }\n            else {\n              module.queue('flip right');\n            }\n          },\n\n          over: function() {\n            if(module.is.complete() && !module.is.animating() && !settings.allowRepeats) {\n              module.debug('Side already visible', $nextSide);\n              return;\n            }\n            if( !module.is.animating()) {\n              module.debug('Flipping over', $nextSide);\n              module.set.stageSize();\n              module.stage.behind();\n              module.animate(module.get.transform.over() );\n            }\n            else {\n              module.queue('flip over');\n            }\n          },\n\n          back: function() {\n            if(module.is.complete() && !module.is.animating() && !settings.allowRepeats) {\n              module.debug('Side already visible', $nextSide);\n              return;\n            }\n            if( !module.is.animating()) {\n              module.debug('Flipping back', $nextSide);\n              module.set.stageSize();\n              module.stage.behind();\n              module.animate(module.get.transform.back() );\n            }\n            else {\n              module.queue('flip back');\n            }\n          }\n\n        },\n\n        get: {\n\n          transform: {\n            up: function() {\n              var\n                translate = {\n                  y: -(($activeSide.outerHeight(true) - $nextSide.outerHeight(true)) / 2),\n                  z: -($activeSide.outerHeight(true) / 2)\n                }\n              ;\n              return {\n                transform: 'translateY(' + translate.y + 'px) translateZ('+ translate.z + 'px) rotateX(-90deg)'\n              };\n            },\n\n            down: function() {\n              var\n                translate = {\n                  y: -(($activeSide.outerHeight(true) - $nextSide.outerHeight(true)) / 2),\n                  z: -($activeSide.outerHeight(true) / 2)\n                }\n              ;\n              return {\n                transform: 'translateY(' + translate.y + 'px) translateZ('+ translate.z + 'px) rotateX(90deg)'\n              };\n            },\n\n            left: function() {\n              var\n                translate = {\n                  x : -(($activeSide.outerWidth(true) - $nextSide.outerWidth(true)) / 2),\n                  z : -($activeSide.outerWidth(true) / 2)\n                }\n              ;\n              return {\n                transform: 'translateX(' + translate.x + 'px) translateZ(' + translate.z + 'px) rotateY(90deg)'\n              };\n            },\n\n            right: function() {\n              var\n                translate = {\n                  x : -(($activeSide.outerWidth(true) - $nextSide.outerWidth(true)) / 2),\n                  z : -($activeSide.outerWidth(true) / 2)\n                }\n              ;\n              return {\n                transform: 'translateX(' + translate.x + 'px) translateZ(' + translate.z + 'px) rotateY(-90deg)'\n              };\n            },\n\n            over: function() {\n              var\n                translate = {\n                  x : -(($activeSide.outerWidth(true) - $nextSide.outerWidth(true)) / 2)\n                }\n              ;\n              return {\n                transform: 'translateX(' + translate.x + 'px) rotateY(180deg)'\n              };\n            },\n\n            back: function() {\n              var\n                translate = {\n                  x : -(($activeSide.outerWidth(true) - $nextSide.outerWidth(true)) / 2)\n                }\n              ;\n              return {\n                transform: 'translateX(' + translate.x + 'px) rotateY(-180deg)'\n              };\n            }\n          },\n\n          transitionEvent: function() {\n            var\n              element     = document.createElement('element'),\n              transitions = {\n                'transition'       :'transitionend',\n                'OTransition'      :'oTransitionEnd',\n                'MozTransition'    :'transitionend',\n                'WebkitTransition' :'webkitTransitionEnd'\n              },\n              transition\n            ;\n            for(transition in transitions){\n              if( element.style[transition] !== undefined ){\n                return transitions[transition];\n              }\n            }\n          },\n\n          nextSide: function() {\n            return ( $activeSide.next(selector.side).length > 0 )\n              ? $activeSide.next(selector.side)\n              : $module.find(selector.side).first()\n            ;\n          }\n\n        },\n\n        stage: {\n\n          above: function() {\n            var\n              box = {\n                origin : (($activeSide.outerHeight(true) - $nextSide.outerHeight(true)) / 2),\n                depth  : {\n                  active : ($nextSide.outerHeight(true) / 2),\n                  next   : ($activeSide.outerHeight(true) / 2)\n                }\n              }\n            ;\n            module.verbose('Setting the initial animation position as above', $nextSide, box);\n            $sides\n              .css({\n                'transform' : 'translateZ(-' + box.depth.active + 'px)'\n              })\n            ;\n            $activeSide\n              .css({\n                'transform' : 'rotateY(0deg) translateZ(' + box.depth.active + 'px)'\n              })\n            ;\n            $nextSide\n              .addClass(className.animating)\n              .css({\n                'top'       : box.origin + 'px',\n                'transform' : 'rotateX(90deg) translateZ(' + box.depth.next + 'px)'\n              })\n            ;\n          },\n\n          below: function() {\n            var\n              box = {\n                origin : (($activeSide.outerHeight(true) - $nextSide.outerHeight(true)) / 2),\n                depth  : {\n                  active : ($nextSide.outerHeight(true) / 2),\n                  next   : ($activeSide.outerHeight(true) / 2)\n                }\n              }\n            ;\n            module.verbose('Setting the initial animation position as below', $nextSide, box);\n            $sides\n              .css({\n                'transform' : 'translateZ(-' + box.depth.active + 'px)'\n              })\n            ;\n            $activeSide\n              .css({\n                'transform' : 'rotateY(0deg) translateZ(' + box.depth.active + 'px)'\n              })\n            ;\n            $nextSide\n              .addClass(className.animating)\n              .css({\n                'top'       : box.origin + 'px',\n                'transform' : 'rotateX(-90deg) translateZ(' + box.depth.next + 'px)'\n              })\n            ;\n          },\n\n          left: function() {\n            var\n              height = {\n                active : $activeSide.outerWidth(true),\n                next   : $nextSide.outerWidth(true)\n              },\n              box = {\n                origin : ( ( height.active - height.next ) / 2),\n                depth  : {\n                  active : (height.next / 2),\n                  next   : (height.active / 2)\n                }\n              }\n            ;\n            module.verbose('Setting the initial animation position as left', $nextSide, box);\n            $sides\n              .css({\n                'transform' : 'translateZ(-' + box.depth.active + 'px)'\n              })\n            ;\n            $activeSide\n              .css({\n                'transform' : 'rotateY(0deg) translateZ(' + box.depth.active + 'px)'\n              })\n            ;\n            $nextSide\n              .addClass(className.animating)\n              .css({\n                'left'      : box.origin + 'px',\n                'transform' : 'rotateY(-90deg) translateZ(' + box.depth.next + 'px)'\n              })\n            ;\n          },\n\n          right: function() {\n            var\n              height = {\n                active : $activeSide.outerWidth(true),\n                next   : $nextSide.outerWidth(true)\n              },\n              box = {\n                origin : ( ( height.active - height.next ) / 2),\n                depth  : {\n                  active : (height.next / 2),\n                  next   : (height.active / 2)\n                }\n              }\n            ;\n            module.verbose('Setting the initial animation position as left', $nextSide, box);\n            $sides\n              .css({\n                'transform' : 'translateZ(-' + box.depth.active + 'px)'\n              })\n            ;\n            $activeSide\n              .css({\n                'transform' : 'rotateY(0deg) translateZ(' + box.depth.active + 'px)'\n              })\n            ;\n            $nextSide\n              .addClass(className.animating)\n              .css({\n                'left'      : box.origin + 'px',\n                'transform' : 'rotateY(90deg) translateZ(' + box.depth.next + 'px)'\n              })\n            ;\n          },\n\n          behind: function() {\n            var\n              height = {\n                active : $activeSide.outerWidth(true),\n                next   : $nextSide.outerWidth(true)\n              },\n              box = {\n                origin : ( ( height.active - height.next ) / 2),\n                depth  : {\n                  active : (height.next / 2),\n                  next   : (height.active / 2)\n                }\n              }\n            ;\n            module.verbose('Setting the initial animation position as behind', $nextSide, box);\n            $activeSide\n              .css({\n                'transform' : 'rotateY(0deg)'\n              })\n            ;\n            $nextSide\n              .addClass(className.animating)\n              .css({\n                'left'      : box.origin + 'px',\n                'transform' : 'rotateY(-180deg)'\n              })\n            ;\n          }\n        },\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.shape.settings = {\n\n  // module info\n  name : 'Shape',\n\n  // hide all debug content\n  silent     : false,\n\n  // debug content outputted to console\n  debug      : false,\n\n  // verbose debug output\n  verbose    : false,\n\n  // fudge factor in pixels when swapping from 2d to 3d (can be useful to correct rounding errors)\n  jitter     : 0,\n\n  // performance data output\n  performance: true,\n\n  // event namespace\n  namespace  : 'shape',\n\n  // width during animation, can be set to 'auto', initial', 'next' or pixel amount\n  width: 'initial',\n\n  // height during animation, can be set to 'auto', 'initial', 'next' or pixel amount\n  height: 'initial',\n\n  // callback occurs on side change\n  beforeChange : function() {},\n  onChange     : function() {},\n\n  // allow animation to same side\n  allowRepeats: false,\n\n  // animation duration\n  duration   : false,\n\n  // possible errors\n  error: {\n    side   : 'You tried to switch to a side that does not exist.',\n    method : 'The method you called is not defined'\n  },\n\n  // classnames used\n  className   : {\n    animating : 'animating',\n    hidden    : 'hidden',\n    loading   : 'loading',\n    active    : 'active'\n  },\n\n  // selectors used\n  selector    : {\n    sides : '.sides',\n    side  : '.side'\n  }\n\n};\n\n\n})( jQuery, window, document );\n","/*!\n * # Semantic UI - Sidebar\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.sidebar = function(parameters) {\n  var\n    $allModules     = $(this),\n    $window         = $(window),\n    $document       = $(document),\n    $html           = $('html'),\n    $head           = $('head'),\n\n    moduleSelector  = $allModules.selector || '',\n\n    time            = new Date().getTime(),\n    performance     = [],\n\n    query           = arguments[0],\n    methodInvoked   = (typeof query == 'string'),\n    queryArguments  = [].slice.call(arguments, 1),\n\n    requestAnimationFrame = window.requestAnimationFrame\n      || window.mozRequestAnimationFrame\n      || window.webkitRequestAnimationFrame\n      || window.msRequestAnimationFrame\n      || function(callback) { setTimeout(callback, 0); },\n\n    returnedValue\n  ;\n\n  $allModules\n    .each(function() {\n      var\n        settings        = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.sidebar.settings, parameters)\n          : $.extend({}, $.fn.sidebar.settings),\n\n        selector        = settings.selector,\n        className       = settings.className,\n        namespace       = settings.namespace,\n        regExp          = settings.regExp,\n        error           = settings.error,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n\n        $module         = $(this),\n        $context        = $(settings.context),\n\n        $sidebars       = $module.children(selector.sidebar),\n        $fixed          = $context.children(selector.fixed),\n        $pusher         = $context.children(selector.pusher),\n        $style,\n\n        element         = this,\n        instance        = $module.data(moduleNamespace),\n\n        elementNamespace,\n        id,\n        currentScroll,\n        transitionEvent,\n\n        module\n      ;\n\n      module      = {\n\n        initialize: function() {\n          module.debug('Initializing sidebar', parameters);\n\n          module.create.id();\n\n          transitionEvent = module.get.transitionEvent();\n\n          // avoids locking rendering if initialized in onReady\n          if(settings.delaySetup) {\n            requestAnimationFrame(module.setup.layout);\n          }\n          else {\n            module.setup.layout();\n          }\n\n          requestAnimationFrame(function() {\n            module.setup.cache();\n          });\n\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n\n        create: {\n          id: function() {\n            id = (Math.random().toString(16) + '000000000').substr(2,8);\n            elementNamespace = '.' + id;\n            module.verbose('Creating unique id for element', id);\n          }\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous module for', $module);\n          $module\n            .off(eventNamespace)\n            .removeData(moduleNamespace)\n          ;\n          if(module.is.ios()) {\n            module.remove.ios();\n          }\n          // bound by uuid\n          $context.off(elementNamespace);\n          $window.off(elementNamespace);\n          $document.off(elementNamespace);\n        },\n\n        event: {\n          clickaway: function(event) {\n            var\n              clickedInPusher = ($pusher.find(event.target).length > 0 || $pusher.is(event.target)),\n              clickedContext  = ($context.is(event.target))\n            ;\n            if(clickedInPusher) {\n              module.verbose('User clicked on dimmed page');\n              module.hide();\n            }\n            if(clickedContext) {\n              module.verbose('User clicked on dimmable context (scaled out page)');\n              module.hide();\n            }\n          },\n          touch: function(event) {\n            //event.stopPropagation();\n          },\n          containScroll: function(event) {\n            if(element.scrollTop <= 0)  {\n              element.scrollTop = 1;\n            }\n            if((element.scrollTop + element.offsetHeight) >= element.scrollHeight) {\n              element.scrollTop = element.scrollHeight - element.offsetHeight - 1;\n            }\n          },\n          scroll: function(event) {\n            if( $(event.target).closest(selector.sidebar).length === 0 ) {\n              event.preventDefault();\n            }\n          }\n        },\n\n        bind: {\n          clickaway: function() {\n            module.verbose('Adding clickaway events to context', $context);\n            if(settings.closable) {\n              $context\n                .on('click'    + elementNamespace, module.event.clickaway)\n                .on('touchend' + elementNamespace, module.event.clickaway)\n              ;\n            }\n          },\n          scrollLock: function() {\n            if(settings.scrollLock) {\n              module.debug('Disabling page scroll');\n              $window\n                .on('DOMMouseScroll' + elementNamespace, module.event.scroll)\n              ;\n            }\n            module.verbose('Adding events to contain sidebar scroll');\n            $document\n              .on('touchmove' + elementNamespace, module.event.touch)\n            ;\n            $module\n              .on('scroll' + eventNamespace, module.event.containScroll)\n            ;\n          }\n        },\n        unbind: {\n          clickaway: function() {\n            module.verbose('Removing clickaway events from context', $context);\n            $context.off(elementNamespace);\n          },\n          scrollLock: function() {\n            module.verbose('Removing scroll lock from page');\n            $document.off(elementNamespace);\n            $window.off(elementNamespace);\n            $module.off('scroll' + eventNamespace);\n          }\n        },\n\n        add: {\n          inlineCSS: function() {\n            var\n              width     = module.cache.width  || $module.outerWidth(),\n              height    = module.cache.height || $module.outerHeight(),\n              isRTL     = module.is.rtl(),\n              direction = module.get.direction(),\n              distance  = {\n                left   : width,\n                right  : -width,\n                top    : height,\n                bottom : -height\n              },\n              style\n            ;\n\n            if(isRTL){\n              module.verbose('RTL detected, flipping widths');\n              distance.left = -width;\n              distance.right = width;\n            }\n\n            style  = '<style>';\n\n            if(direction === 'left' || direction === 'right') {\n              module.debug('Adding CSS rules for animation distance', width);\n              style  += ''\n                + ' .ui.visible.' + direction + '.sidebar ~ .fixed,'\n                + ' .ui.visible.' + direction + '.sidebar ~ .pusher {'\n                + '   -webkit-transform: translate3d('+ distance[direction] + 'px, 0, 0);'\n                + '           transform: translate3d('+ distance[direction] + 'px, 0, 0);'\n                + ' }'\n              ;\n            }\n            else if(direction === 'top' || direction == 'bottom') {\n              style  += ''\n                + ' .ui.visible.' + direction + '.sidebar ~ .fixed,'\n                + ' .ui.visible.' + direction + '.sidebar ~ .pusher {'\n                + '   -webkit-transform: translate3d(0, ' + distance[direction] + 'px, 0);'\n                + '           transform: translate3d(0, ' + distance[direction] + 'px, 0);'\n                + ' }'\n              ;\n            }\n\n            /* IE is only browser not to create context with transforms */\n            /* https://www.w3.org/Bugs/Public/show_bug.cgi?id=16328 */\n            if( module.is.ie() ) {\n              if(direction === 'left' || direction === 'right') {\n                module.debug('Adding CSS rules for animation distance', width);\n                style  += ''\n                  + ' body.pushable > .ui.visible.' + direction + '.sidebar ~ .pusher:after {'\n                  + '   -webkit-transform: translate3d('+ distance[direction] + 'px, 0, 0);'\n                  + '           transform: translate3d('+ distance[direction] + 'px, 0, 0);'\n                  + ' }'\n                ;\n              }\n              else if(direction === 'top' || direction == 'bottom') {\n                style  += ''\n                  + ' body.pushable > .ui.visible.' + direction + '.sidebar ~ .pusher:after {'\n                  + '   -webkit-transform: translate3d(0, ' + distance[direction] + 'px, 0);'\n                  + '           transform: translate3d(0, ' + distance[direction] + 'px, 0);'\n                  + ' }'\n                ;\n              }\n              /* opposite sides visible forces content overlay */\n              style += ''\n                + ' body.pushable > .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .pusher:after,'\n                + ' body.pushable > .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .pusher:after {'\n                + '   -webkit-transform: translate3d(0px, 0, 0);'\n                + '           transform: translate3d(0px, 0, 0);'\n                + ' }'\n              ;\n            }\n            style += '</style>';\n            $style = $(style)\n              .appendTo($head)\n            ;\n            module.debug('Adding sizing css to head', $style);\n          }\n        },\n\n        refresh: function() {\n          module.verbose('Refreshing selector cache');\n          $context  = $(settings.context);\n          $sidebars = $context.children(selector.sidebar);\n          $pusher   = $context.children(selector.pusher);\n          $fixed    = $context.children(selector.fixed);\n          module.clear.cache();\n        },\n\n        refreshSidebars: function() {\n          module.verbose('Refreshing other sidebars');\n          $sidebars = $context.children(selector.sidebar);\n        },\n\n        repaint: function() {\n          module.verbose('Forcing repaint event');\n          element.style.display = 'none';\n          var ignored = element.offsetHeight;\n          element.scrollTop = element.scrollTop;\n          element.style.display = '';\n        },\n\n        setup: {\n          cache: function() {\n            module.cache = {\n              width  : $module.outerWidth(),\n              height : $module.outerHeight(),\n              rtl    : ($module.css('direction') == 'rtl')\n            };\n          },\n          layout: function() {\n            if( $context.children(selector.pusher).length === 0 ) {\n              module.debug('Adding wrapper element for sidebar');\n              module.error(error.pusher);\n              $pusher = $('<div class=\"pusher\" />');\n              $context\n                .children()\n                  .not(selector.omitted)\n                  .not($sidebars)\n                  .wrapAll($pusher)\n              ;\n              module.refresh();\n            }\n            if($module.nextAll(selector.pusher).length === 0 || $module.nextAll(selector.pusher)[0] !== $pusher[0]) {\n              module.debug('Moved sidebar to correct parent element');\n              module.error(error.movedSidebar, element);\n              $module.detach().prependTo($context);\n              module.refresh();\n            }\n            module.clear.cache();\n            module.set.pushable();\n            module.set.direction();\n          }\n        },\n\n        attachEvents: function(selector, event) {\n          var\n            $toggle = $(selector)\n          ;\n          event = $.isFunction(module[event])\n            ? module[event]\n            : module.toggle\n          ;\n          if($toggle.length > 0) {\n            module.debug('Attaching sidebar events to element', selector, event);\n            $toggle\n              .on('click' + eventNamespace, event)\n            ;\n          }\n          else {\n            module.error(error.notFound, selector);\n          }\n        },\n\n        show: function(callback) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          if(module.is.hidden()) {\n            module.refreshSidebars();\n            if(settings.overlay)  {\n              module.error(error.overlay);\n              settings.transition = 'overlay';\n            }\n            module.refresh();\n            if(module.othersActive()) {\n              module.debug('Other sidebars currently visible');\n              if(settings.exclusive) {\n                // if not overlay queue animation after hide\n                if(settings.transition != 'overlay') {\n                  module.hideOthers(module.show);\n                  return;\n                }\n                else {\n                  module.hideOthers();\n                }\n              }\n              else {\n                settings.transition = 'overlay';\n              }\n            }\n            module.pushPage(function() {\n              callback.call(element);\n              settings.onShow.call(element);\n            });\n            settings.onChange.call(element);\n            settings.onVisible.call(element);\n          }\n          else {\n            module.debug('Sidebar is already visible');\n          }\n        },\n\n        hide: function(callback) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          if(module.is.visible() || module.is.animating()) {\n            module.debug('Hiding sidebar', callback);\n            module.refreshSidebars();\n            module.pullPage(function() {\n              callback.call(element);\n              settings.onHidden.call(element);\n            });\n            settings.onChange.call(element);\n            settings.onHide.call(element);\n          }\n        },\n\n        othersAnimating: function() {\n          return ($sidebars.not($module).filter('.' + className.animating).length > 0);\n        },\n        othersVisible: function() {\n          return ($sidebars.not($module).filter('.' + className.visible).length > 0);\n        },\n        othersActive: function() {\n          return(module.othersVisible() || module.othersAnimating());\n        },\n\n        hideOthers: function(callback) {\n          var\n            $otherSidebars = $sidebars.not($module).filter('.' + className.visible),\n            sidebarCount   = $otherSidebars.length,\n            callbackCount  = 0\n          ;\n          callback = callback || function(){};\n          $otherSidebars\n            .sidebar('hide', function() {\n              callbackCount++;\n              if(callbackCount == sidebarCount) {\n                callback();\n              }\n            })\n          ;\n        },\n\n        toggle: function() {\n          module.verbose('Determining toggled direction');\n          if(module.is.hidden()) {\n            module.show();\n          }\n          else {\n            module.hide();\n          }\n        },\n\n        pushPage: function(callback) {\n          var\n            transition = module.get.transition(),\n            $transition = (transition === 'overlay' || module.othersActive())\n              ? $module\n              : $pusher,\n            animate,\n            dim,\n            transitionEnd\n          ;\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          if(settings.transition == 'scale down') {\n            module.scrollToTop();\n          }\n          module.set.transition(transition);\n          module.repaint();\n          animate = function() {\n            module.bind.clickaway();\n            module.add.inlineCSS();\n            module.set.animating();\n            module.set.visible();\n          };\n          dim = function() {\n            module.set.dimmed();\n          };\n          transitionEnd = function(event) {\n            if( event.target == $transition[0] ) {\n              $transition.off(transitionEvent + elementNamespace, transitionEnd);\n              module.remove.animating();\n              module.bind.scrollLock();\n              callback.call(element);\n            }\n          };\n          $transition.off(transitionEvent + elementNamespace);\n          $transition.on(transitionEvent + elementNamespace, transitionEnd);\n          requestAnimationFrame(animate);\n          if(settings.dimPage && !module.othersVisible()) {\n            requestAnimationFrame(dim);\n          }\n        },\n\n        pullPage: function(callback) {\n          var\n            transition = module.get.transition(),\n            $transition = (transition == 'overlay' || module.othersActive())\n              ? $module\n              : $pusher,\n            animate,\n            transitionEnd\n          ;\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          module.verbose('Removing context push state', module.get.direction());\n\n          module.unbind.clickaway();\n          module.unbind.scrollLock();\n\n          animate = function() {\n            module.set.transition(transition);\n            module.set.animating();\n            module.remove.visible();\n            if(settings.dimPage && !module.othersVisible()) {\n              $pusher.removeClass(className.dimmed);\n            }\n          };\n          transitionEnd = function(event) {\n            if( event.target == $transition[0] ) {\n              $transition.off(transitionEvent + elementNamespace, transitionEnd);\n              module.remove.animating();\n              module.remove.transition();\n              module.remove.inlineCSS();\n              if(transition == 'scale down' || (settings.returnScroll && module.is.mobile()) ) {\n                module.scrollBack();\n              }\n              callback.call(element);\n            }\n          };\n          $transition.off(transitionEvent + elementNamespace);\n          $transition.on(transitionEvent + elementNamespace, transitionEnd);\n          requestAnimationFrame(animate);\n        },\n\n        scrollToTop: function() {\n          module.verbose('Scrolling to top of page to avoid animation issues');\n          currentScroll = $(window).scrollTop();\n          $module.scrollTop(0);\n          window.scrollTo(0, 0);\n        },\n\n        scrollBack: function() {\n          module.verbose('Scrolling back to original page position');\n          window.scrollTo(0, currentScroll);\n        },\n\n        clear: {\n          cache: function() {\n            module.verbose('Clearing cached dimensions');\n            module.cache = {};\n          }\n        },\n\n        set: {\n\n          // ios only (scroll on html not document). This prevent auto-resize canvas/scroll in ios\n          // (This is no longer necessary in latest iOS)\n          ios: function() {\n            $html.addClass(className.ios);\n          },\n\n          // container\n          pushed: function() {\n            $context.addClass(className.pushed);\n          },\n          pushable: function() {\n            $context.addClass(className.pushable);\n          },\n\n          // pusher\n          dimmed: function() {\n            $pusher.addClass(className.dimmed);\n          },\n\n          // sidebar\n          active: function() {\n            $module.addClass(className.active);\n          },\n          animating: function() {\n            $module.addClass(className.animating);\n          },\n          transition: function(transition) {\n            transition = transition || module.get.transition();\n            $module.addClass(transition);\n          },\n          direction: function(direction) {\n            direction = direction || module.get.direction();\n            $module.addClass(className[direction]);\n          },\n          visible: function() {\n            $module.addClass(className.visible);\n          },\n          overlay: function() {\n            $module.addClass(className.overlay);\n          }\n        },\n        remove: {\n\n          inlineCSS: function() {\n            module.debug('Removing inline css styles', $style);\n            if($style && $style.length > 0) {\n              $style.remove();\n            }\n          },\n\n          // ios scroll on html not document\n          ios: function() {\n            $html.removeClass(className.ios);\n          },\n\n          // context\n          pushed: function() {\n            $context.removeClass(className.pushed);\n          },\n          pushable: function() {\n            $context.removeClass(className.pushable);\n          },\n\n          // sidebar\n          active: function() {\n            $module.removeClass(className.active);\n          },\n          animating: function() {\n            $module.removeClass(className.animating);\n          },\n          transition: function(transition) {\n            transition = transition || module.get.transition();\n            $module.removeClass(transition);\n          },\n          direction: function(direction) {\n            direction = direction || module.get.direction();\n            $module.removeClass(className[direction]);\n          },\n          visible: function() {\n            $module.removeClass(className.visible);\n          },\n          overlay: function() {\n            $module.removeClass(className.overlay);\n          }\n        },\n\n        get: {\n          direction: function() {\n            if($module.hasClass(className.top)) {\n              return className.top;\n            }\n            else if($module.hasClass(className.right)) {\n              return className.right;\n            }\n            else if($module.hasClass(className.bottom)) {\n              return className.bottom;\n            }\n            return className.left;\n          },\n          transition: function() {\n            var\n              direction = module.get.direction(),\n              transition\n            ;\n            transition = ( module.is.mobile() )\n              ? (settings.mobileTransition == 'auto')\n                ? settings.defaultTransition.mobile[direction]\n                : settings.mobileTransition\n              : (settings.transition == 'auto')\n                ? settings.defaultTransition.computer[direction]\n                : settings.transition\n            ;\n            module.verbose('Determined transition', transition);\n            return transition;\n          },\n          transitionEvent: function() {\n            var\n              element     = document.createElement('element'),\n              transitions = {\n                'transition'       :'transitionend',\n                'OTransition'      :'oTransitionEnd',\n                'MozTransition'    :'transitionend',\n                'WebkitTransition' :'webkitTransitionEnd'\n              },\n              transition\n            ;\n            for(transition in transitions){\n              if( element.style[transition] !== undefined ){\n                return transitions[transition];\n              }\n            }\n          }\n        },\n\n        is: {\n\n          ie: function() {\n            var\n              isIE11 = (!(window.ActiveXObject) && 'ActiveXObject' in window),\n              isIE   = ('ActiveXObject' in window)\n            ;\n            return (isIE11 || isIE);\n          },\n\n          ios: function() {\n            var\n              userAgent      = navigator.userAgent,\n              isIOS          = userAgent.match(regExp.ios),\n              isMobileChrome = userAgent.match(regExp.mobileChrome)\n            ;\n            if(isIOS && !isMobileChrome) {\n              module.verbose('Browser was found to be iOS', userAgent);\n              return true;\n            }\n            else {\n              return false;\n            }\n          },\n          mobile: function() {\n            var\n              userAgent    = navigator.userAgent,\n              isMobile     = userAgent.match(regExp.mobile)\n            ;\n            if(isMobile) {\n              module.verbose('Browser was found to be mobile', userAgent);\n              return true;\n            }\n            else {\n              module.verbose('Browser is not mobile, using regular transition', userAgent);\n              return false;\n            }\n          },\n          hidden: function() {\n            return !module.is.visible();\n          },\n          visible: function() {\n            return $module.hasClass(className.visible);\n          },\n          // alias\n          open: function() {\n            return module.is.visible();\n          },\n          closed: function() {\n            return module.is.hidden();\n          },\n          vertical: function() {\n            return $module.hasClass(className.top);\n          },\n          animating: function() {\n            return $context.hasClass(className.animating);\n          },\n          rtl: function () {\n            if(module.cache.rtl === undefined) {\n              module.cache.rtl = ($module.css('direction') == 'rtl');\n            }\n            return module.cache.rtl;\n          }\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      }\n    ;\n\n    if(methodInvoked) {\n      if(instance === undefined) {\n        module.initialize();\n      }\n      module.invoke(query);\n    }\n    else {\n      if(instance !== undefined) {\n        module.invoke('destroy');\n      }\n      module.initialize();\n    }\n  });\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.sidebar.settings = {\n\n  name              : 'Sidebar',\n  namespace         : 'sidebar',\n\n  silent            : false,\n  debug             : false,\n  verbose           : false,\n  performance       : true,\n\n  transition        : 'auto',\n  mobileTransition  : 'auto',\n\n  defaultTransition : {\n    computer: {\n      left   : 'uncover',\n      right  : 'uncover',\n      top    : 'overlay',\n      bottom : 'overlay'\n    },\n    mobile: {\n      left   : 'uncover',\n      right  : 'uncover',\n      top    : 'overlay',\n      bottom : 'overlay'\n    }\n  },\n\n  context           : 'body',\n  exclusive         : false,\n  closable          : true,\n  dimPage           : true,\n  scrollLock        : false,\n  returnScroll      : false,\n  delaySetup        : false,\n\n  duration          : 500,\n\n  onChange          : function(){},\n  onShow            : function(){},\n  onHide            : function(){},\n\n  onHidden          : function(){},\n  onVisible         : function(){},\n\n  className         : {\n    active    : 'active',\n    animating : 'animating',\n    dimmed    : 'dimmed',\n    ios       : 'ios',\n    pushable  : 'pushable',\n    pushed    : 'pushed',\n    right     : 'right',\n    top       : 'top',\n    left      : 'left',\n    bottom    : 'bottom',\n    visible   : 'visible'\n  },\n\n  selector: {\n    fixed   : '.fixed',\n    omitted : 'script, link, style, .ui.modal, .ui.dimmer, .ui.nag, .ui.fixed',\n    pusher  : '.pusher',\n    sidebar : '.ui.sidebar'\n  },\n\n  regExp: {\n    ios          : /(iPad|iPhone|iPod)/g,\n    mobileChrome : /(CriOS)/g,\n    mobile       : /Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/g\n  },\n\n  error   : {\n    method       : 'The method you called is not defined.',\n    pusher       : 'Had to add pusher element. For optimal performance make sure body content is inside a pusher element',\n    movedSidebar : 'Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag',\n    overlay      : 'The overlay setting is no longer supported, use animation: overlay',\n    notFound     : 'There were no elements that matched the specified selector'\n  }\n\n};\n\n\n})( jQuery, window, document );\n","/*!\n * # Semantic UI - Sticky\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.sticky = function(parameters) {\n  var\n    $allModules    = $(this),\n    moduleSelector = $allModules.selector || '',\n\n    time           = new Date().getTime(),\n    performance    = [],\n\n    query          = arguments[0],\n    methodInvoked  = (typeof query == 'string'),\n    queryArguments = [].slice.call(arguments, 1),\n    returnedValue\n  ;\n\n  $allModules\n    .each(function() {\n      var\n        settings              = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.sticky.settings, parameters)\n          : $.extend({}, $.fn.sticky.settings),\n\n        className             = settings.className,\n        namespace             = settings.namespace,\n        error                 = settings.error,\n\n        eventNamespace        = '.' + namespace,\n        moduleNamespace       = 'module-' + namespace,\n\n        $module               = $(this),\n        $window               = $(window),\n        $scroll               = $(settings.scrollContext),\n        $container,\n        $context,\n\n        selector              = $module.selector || '',\n        instance              = $module.data(moduleNamespace),\n\n        requestAnimationFrame = window.requestAnimationFrame\n          || window.mozRequestAnimationFrame\n          || window.webkitRequestAnimationFrame\n          || window.msRequestAnimationFrame\n          || function(callback) { setTimeout(callback, 0); },\n\n        element         = this,\n\n        documentObserver,\n        observer,\n        module\n      ;\n\n      module      = {\n\n        initialize: function() {\n\n          module.determineContainer();\n          module.determineContext();\n          module.verbose('Initializing sticky', settings, $container);\n\n          module.save.positions();\n          module.checkErrors();\n          module.bind.events();\n\n          if(settings.observeChanges) {\n            module.observeChanges();\n          }\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous instance');\n          module.reset();\n          if(documentObserver) {\n            documentObserver.disconnect();\n          }\n          if(observer) {\n            observer.disconnect();\n          }\n          $window\n            .off('load' + eventNamespace, module.event.load)\n            .off('resize' + eventNamespace, module.event.resize)\n          ;\n          $scroll\n            .off('scrollchange' + eventNamespace, module.event.scrollchange)\n          ;\n          $module.removeData(moduleNamespace);\n        },\n\n        observeChanges: function() {\n          if('MutationObserver' in window) {\n            documentObserver = new MutationObserver(module.event.documentChanged);\n            observer         = new MutationObserver(module.event.changed);\n            documentObserver.observe(document, {\n              childList : true,\n              subtree   : true\n            });\n            observer.observe(element, {\n              childList : true,\n              subtree   : true\n            });\n            observer.observe($context[0], {\n              childList : true,\n              subtree   : true\n            });\n            module.debug('Setting up mutation observer', observer);\n          }\n        },\n\n        determineContainer: function() {\n          if(settings.container) {\n            $container = $(settings.container);\n          }\n          else {\n            $container = $module.offsetParent();\n          }\n        },\n\n        determineContext: function() {\n          if(settings.context) {\n            $context = $(settings.context);\n          }\n          else {\n            $context = $container;\n          }\n          if($context.length === 0) {\n            module.error(error.invalidContext, settings.context, $module);\n            return;\n          }\n        },\n\n        checkErrors: function() {\n          if( module.is.hidden() ) {\n            module.error(error.visible, $module);\n          }\n          if(module.cache.element.height > module.cache.context.height) {\n            module.reset();\n            module.error(error.elementSize, $module);\n            return;\n          }\n        },\n\n        bind: {\n          events: function() {\n            $window\n              .on('load' + eventNamespace, module.event.load)\n              .on('resize' + eventNamespace, module.event.resize)\n            ;\n            // pub/sub pattern\n            $scroll\n              .off('scroll' + eventNamespace)\n              .on('scroll' + eventNamespace, module.event.scroll)\n              .on('scrollchange' + eventNamespace, module.event.scrollchange)\n            ;\n          }\n        },\n\n        event: {\n          changed: function(mutations) {\n            clearTimeout(module.timer);\n            module.timer = setTimeout(function() {\n              module.verbose('DOM tree modified, updating sticky menu', mutations);\n              module.refresh();\n            }, 100);\n          },\n          documentChanged: function(mutations) {\n            [].forEach.call(mutations, function(mutation) {\n              if(mutation.removedNodes) {\n                [].forEach.call(mutation.removedNodes, function(node) {\n                  if(node == element || $(node).find(element).length > 0) {\n                    module.debug('Element removed from DOM, tearing down events');\n                    module.destroy();\n                  }\n                });\n              }\n            });\n          },\n          load: function() {\n            module.verbose('Page contents finished loading');\n            requestAnimationFrame(module.refresh);\n          },\n          resize: function() {\n            module.verbose('Window resized');\n            requestAnimationFrame(module.refresh);\n          },\n          scroll: function() {\n            requestAnimationFrame(function() {\n              $scroll.triggerHandler('scrollchange' + eventNamespace, $scroll.scrollTop() );\n            });\n          },\n          scrollchange: function(event, scrollPosition) {\n            module.stick(scrollPosition);\n            settings.onScroll.call(element);\n          }\n        },\n\n        refresh: function(hardRefresh) {\n          module.reset();\n          if(!settings.context) {\n            module.determineContext();\n          }\n          if(hardRefresh) {\n            module.determineContainer();\n          }\n          module.save.positions();\n          module.stick();\n          settings.onReposition.call(element);\n        },\n\n        supports: {\n          sticky: function() {\n            var\n              $element = $('<div/>'),\n              element = $element[0]\n            ;\n            $element.addClass(className.supported);\n            return($element.css('position').match('sticky'));\n          }\n        },\n\n        save: {\n          lastScroll: function(scroll) {\n            module.lastScroll = scroll;\n          },\n          elementScroll: function(scroll) {\n            module.elementScroll = scroll;\n          },\n          positions: function() {\n            var\n              scrollContext = {\n                height : $scroll.height()\n              },\n              element = {\n                margin: {\n                  top    : parseInt($module.css('margin-top'), 10),\n                  bottom : parseInt($module.css('margin-bottom'), 10),\n                },\n                offset : $module.offset(),\n                width  : $module.outerWidth(),\n                height : $module.outerHeight()\n              },\n              context = {\n                offset : $context.offset(),\n                height : $context.outerHeight()\n              },\n              container = {\n                height: $container.outerHeight()\n              }\n            ;\n            if( !module.is.standardScroll() ) {\n              module.debug('Non-standard scroll. Removing scroll offset from element offset');\n\n              scrollContext.top  = $scroll.scrollTop();\n              scrollContext.left = $scroll.scrollLeft();\n\n              element.offset.top  += scrollContext.top;\n              context.offset.top  += scrollContext.top;\n              element.offset.left += scrollContext.left;\n              context.offset.left += scrollContext.left;\n            }\n            module.cache = {\n              fits          : ( (element.height + settings.offset) <= scrollContext.height),\n              sameHeight    : (element.height == context.height),\n              scrollContext : {\n                height : scrollContext.height\n              },\n              element: {\n                margin : element.margin,\n                top    : element.offset.top - element.margin.top,\n                left   : element.offset.left,\n                width  : element.width,\n                height : element.height,\n                bottom : element.offset.top + element.height\n              },\n              context: {\n                top           : context.offset.top,\n                height        : context.height,\n                bottom        : context.offset.top + context.height\n              }\n            };\n            module.set.containerSize();\n\n            module.stick();\n            module.debug('Caching element positions', module.cache);\n          }\n        },\n\n        get: {\n          direction: function(scroll) {\n            var\n              direction = 'down'\n            ;\n            scroll = scroll || $scroll.scrollTop();\n            if(module.lastScroll !== undefined) {\n              if(module.lastScroll < scroll) {\n                direction = 'down';\n              }\n              else if(module.lastScroll > scroll) {\n                direction = 'up';\n              }\n            }\n            return direction;\n          },\n          scrollChange: function(scroll) {\n            scroll = scroll || $scroll.scrollTop();\n            return (module.lastScroll)\n              ? (scroll - module.lastScroll)\n              : 0\n            ;\n          },\n          currentElementScroll: function() {\n            if(module.elementScroll) {\n              return module.elementScroll;\n            }\n            return ( module.is.top() )\n              ? Math.abs(parseInt($module.css('top'), 10))    || 0\n              : Math.abs(parseInt($module.css('bottom'), 10)) || 0\n            ;\n          },\n\n          elementScroll: function(scroll) {\n            scroll = scroll || $scroll.scrollTop();\n            var\n              element        = module.cache.element,\n              scrollContext  = module.cache.scrollContext,\n              delta          = module.get.scrollChange(scroll),\n              maxScroll      = (element.height - scrollContext.height + settings.offset),\n              elementScroll  = module.get.currentElementScroll(),\n              possibleScroll = (elementScroll + delta)\n            ;\n            if(module.cache.fits || possibleScroll < 0) {\n              elementScroll = 0;\n            }\n            else if(possibleScroll > maxScroll ) {\n              elementScroll = maxScroll;\n            }\n            else {\n              elementScroll = possibleScroll;\n            }\n            return elementScroll;\n          }\n        },\n\n        remove: {\n          lastScroll: function() {\n            delete module.lastScroll;\n          },\n          elementScroll: function(scroll) {\n            delete module.elementScroll;\n          },\n          minimumSize: function() {\n            $container\n              .css('min-height', '')\n            ;\n          },\n          offset: function() {\n            $module.css('margin-top', '');\n          }\n        },\n\n        set: {\n          offset: function() {\n            module.verbose('Setting offset on element', settings.offset);\n            $module\n              .css('margin-top', settings.offset)\n            ;\n          },\n          containerSize: function() {\n            var\n              tagName = $container.get(0).tagName\n            ;\n            if(tagName === 'HTML' || tagName == 'body') {\n              // this can trigger for too many reasons\n              //module.error(error.container, tagName, $module);\n              module.determineContainer();\n            }\n            else {\n              if( Math.abs($container.outerHeight() - module.cache.context.height) > settings.jitter) {\n                module.debug('Context has padding, specifying exact height for container', module.cache.context.height);\n                $container.css({\n                  height: module.cache.context.height\n                });\n              }\n            }\n          },\n          minimumSize: function() {\n            var\n              element   = module.cache.element\n            ;\n            $container\n              .css('min-height', element.height)\n            ;\n          },\n          scroll: function(scroll) {\n            module.debug('Setting scroll on element', scroll);\n            if(module.elementScroll == scroll) {\n              return;\n            }\n            if( module.is.top() ) {\n              $module\n                .css('bottom', '')\n                .css('top', -scroll)\n              ;\n            }\n            if( module.is.bottom() ) {\n              $module\n                .css('top', '')\n                .css('bottom', scroll)\n              ;\n            }\n          },\n          size: function() {\n            if(module.cache.element.height !== 0 && module.cache.element.width !== 0) {\n              element.style.setProperty('width',  module.cache.element.width  + 'px', 'important');\n              element.style.setProperty('height', module.cache.element.height + 'px', 'important');\n            }\n          }\n        },\n\n        is: {\n          standardScroll: function() {\n            return ($scroll[0] == window);\n          },\n          top: function() {\n            return $module.hasClass(className.top);\n          },\n          bottom: function() {\n            return $module.hasClass(className.bottom);\n          },\n          initialPosition: function() {\n            return (!module.is.fixed() && !module.is.bound());\n          },\n          hidden: function() {\n            return (!$module.is(':visible'));\n          },\n          bound: function() {\n            return $module.hasClass(className.bound);\n          },\n          fixed: function() {\n            return $module.hasClass(className.fixed);\n          }\n        },\n\n        stick: function(scroll) {\n          var\n            cachedPosition = scroll || $scroll.scrollTop(),\n            cache          = module.cache,\n            fits           = cache.fits,\n            sameHeight     = cache.sameHeight,\n            element        = cache.element,\n            scrollContext  = cache.scrollContext,\n            context        = cache.context,\n            offset         = (module.is.bottom() && settings.pushing)\n              ? settings.bottomOffset\n              : settings.offset,\n            scroll         = {\n              top    : cachedPosition + offset,\n              bottom : cachedPosition + offset + scrollContext.height\n            },\n            direction      = module.get.direction(scroll.top),\n            elementScroll  = (fits)\n              ? 0\n              : module.get.elementScroll(scroll.top),\n\n            // shorthand\n            doesntFit      = !fits,\n            elementVisible = (element.height !== 0)\n          ;\n          if(elementVisible && !sameHeight) {\n\n            if( module.is.initialPosition() ) {\n              if(scroll.top >= context.bottom) {\n                module.debug('Initial element position is bottom of container');\n                module.bindBottom();\n              }\n              else if(scroll.top > element.top) {\n                if( (element.height + scroll.top - elementScroll) >= context.bottom ) {\n                  module.debug('Initial element position is bottom of container');\n                  module.bindBottom();\n                }\n                else {\n                  module.debug('Initial element position is fixed');\n                  module.fixTop();\n                }\n              }\n\n            }\n            else if( module.is.fixed() ) {\n\n              // currently fixed top\n              if( module.is.top() ) {\n                if( scroll.top <= element.top ) {\n                  module.debug('Fixed element reached top of container');\n                  module.setInitialPosition();\n                }\n                else if( (element.height + scroll.top - elementScroll) >= context.bottom ) {\n                  module.debug('Fixed element reached bottom of container');\n                  module.bindBottom();\n                }\n                // scroll element if larger than screen\n                else if(doesntFit) {\n                  module.set.scroll(elementScroll);\n                  module.save.lastScroll(scroll.top);\n                  module.save.elementScroll(elementScroll);\n                }\n              }\n\n              // currently fixed bottom\n              else if(module.is.bottom() ) {\n\n                // top edge\n                if( (scroll.bottom - element.height) <= element.top) {\n                  module.debug('Bottom fixed rail has reached top of container');\n                  module.setInitialPosition();\n                }\n                // bottom edge\n                else if(scroll.bottom >= context.bottom) {\n                  module.debug('Bottom fixed rail has reached bottom of container');\n                  module.bindBottom();\n                }\n                // scroll element if larger than screen\n                else if(doesntFit) {\n                  module.set.scroll(elementScroll);\n                  module.save.lastScroll(scroll.top);\n                  module.save.elementScroll(elementScroll);\n                }\n\n              }\n            }\n            else if( module.is.bottom() ) {\n              if( scroll.top <= element.top ) {\n                module.debug('Jumped from bottom fixed to top fixed, most likely used home/end button');\n                module.setInitialPosition();\n              }\n              else {\n                if(settings.pushing) {\n                  if(module.is.bound() && scroll.bottom <= context.bottom ) {\n                    module.debug('Fixing bottom attached element to bottom of browser.');\n                    module.fixBottom();\n                  }\n                }\n                else {\n                  if(module.is.bound() && (scroll.top <= context.bottom - element.height) ) {\n                    module.debug('Fixing bottom attached element to top of browser.');\n                    module.fixTop();\n                  }\n                }\n              }\n            }\n          }\n        },\n\n        bindTop: function() {\n          module.debug('Binding element to top of parent container');\n          module.remove.offset();\n          $module\n            .css({\n              left         : '',\n              top          : '',\n              marginBottom : ''\n            })\n            .removeClass(className.fixed)\n            .removeClass(className.bottom)\n            .addClass(className.bound)\n            .addClass(className.top)\n          ;\n          settings.onTop.call(element);\n          settings.onUnstick.call(element);\n        },\n        bindBottom: function() {\n          module.debug('Binding element to bottom of parent container');\n          module.remove.offset();\n          $module\n            .css({\n              left         : '',\n              top          : ''\n            })\n            .removeClass(className.fixed)\n            .removeClass(className.top)\n            .addClass(className.bound)\n            .addClass(className.bottom)\n          ;\n          settings.onBottom.call(element);\n          settings.onUnstick.call(element);\n        },\n\n        setInitialPosition: function() {\n          module.debug('Returning to initial position');\n          module.unfix();\n          module.unbind();\n        },\n\n\n        fixTop: function() {\n          module.debug('Fixing element to top of page');\n          if(settings.setSize) {\n            module.set.size();\n          }\n          module.set.minimumSize();\n          module.set.offset();\n          $module\n            .css({\n              left         : module.cache.element.left,\n              bottom       : '',\n              marginBottom : ''\n            })\n            .removeClass(className.bound)\n            .removeClass(className.bottom)\n            .addClass(className.fixed)\n            .addClass(className.top)\n          ;\n          settings.onStick.call(element);\n        },\n\n        fixBottom: function() {\n          module.debug('Sticking element to bottom of page');\n          if(settings.setSize) {\n            module.set.size();\n          }\n          module.set.minimumSize();\n          module.set.offset();\n          $module\n            .css({\n              left         : module.cache.element.left,\n              bottom       : '',\n              marginBottom : ''\n            })\n            .removeClass(className.bound)\n            .removeClass(className.top)\n            .addClass(className.fixed)\n            .addClass(className.bottom)\n          ;\n          settings.onStick.call(element);\n        },\n\n        unbind: function() {\n          if( module.is.bound() ) {\n            module.debug('Removing container bound position on element');\n            module.remove.offset();\n            $module\n              .removeClass(className.bound)\n              .removeClass(className.top)\n              .removeClass(className.bottom)\n            ;\n          }\n        },\n\n        unfix: function() {\n          if( module.is.fixed() ) {\n            module.debug('Removing fixed position on element');\n            module.remove.minimumSize();\n            module.remove.offset();\n            $module\n              .removeClass(className.fixed)\n              .removeClass(className.top)\n              .removeClass(className.bottom)\n            ;\n            settings.onUnstick.call(element);\n          }\n        },\n\n        reset: function() {\n          module.debug('Resetting elements position');\n          module.unbind();\n          module.unfix();\n          module.resetCSS();\n          module.remove.offset();\n          module.remove.lastScroll();\n        },\n\n        resetCSS: function() {\n          $module\n            .css({\n              width  : '',\n              height : ''\n            })\n          ;\n          $container\n            .css({\n              height: ''\n            })\n          ;\n        },\n\n        setting: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            settings[name] = value;\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 0);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.sticky.settings = {\n\n  name           : 'Sticky',\n  namespace      : 'sticky',\n\n  silent         : false,\n  debug          : false,\n  verbose        : true,\n  performance    : true,\n\n  // whether to stick in the opposite direction on scroll up\n  pushing        : false,\n\n  context        : false,\n  container      : false,\n\n  // Context to watch scroll events\n  scrollContext  : window,\n\n  // Offset to adjust scroll\n  offset         : 0,\n\n  // Offset to adjust scroll when attached to bottom of screen\n  bottomOffset   : 0,\n\n  // will only set container height if difference between context and container is larger than this number\n  jitter         : 5,\n\n  // set width of sticky element when it is fixed to page (used to make sure 100% width is maintained if no fixed size set)\n  setSize        : true,\n\n  // Whether to automatically observe changes with Mutation Observers\n  observeChanges : false,\n\n  // Called when position is recalculated\n  onReposition   : function(){},\n\n  // Called on each scroll\n  onScroll       : function(){},\n\n  // Called when element is stuck to viewport\n  onStick        : function(){},\n\n  // Called when element is unstuck from viewport\n  onUnstick      : function(){},\n\n  // Called when element reaches top of context\n  onTop          : function(){},\n\n  // Called when element reaches bottom of context\n  onBottom       : function(){},\n\n  error         : {\n    container      : 'Sticky element must be inside a relative container',\n    visible        : 'Element is hidden, you must call refresh after element becomes visible. Use silent setting to surpress this warning in production.',\n    method         : 'The method you called is not defined.',\n    invalidContext : 'Context specified does not exist',\n    elementSize    : 'Sticky element is larger than its container, cannot create sticky.'\n  },\n\n  className : {\n    bound     : 'bound',\n    fixed     : 'fixed',\n    supported : 'native',\n    top       : 'top',\n    bottom    : 'bottom'\n  }\n\n};\n\n})( jQuery, window, document );\n","/*!\n * # Semantic UI - Tab\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.tab = function(parameters) {\n\n  var\n    // use window context if none specified\n    $allModules     = $.isFunction(this)\n        ? $(window)\n        : $(this),\n\n    moduleSelector  = $allModules.selector || '',\n    time            = new Date().getTime(),\n    performance     = [],\n\n    query           = arguments[0],\n    methodInvoked   = (typeof query == 'string'),\n    queryArguments  = [].slice.call(arguments, 1),\n\n    initializedHistory = false,\n    returnedValue\n  ;\n\n  $allModules\n    .each(function() {\n      var\n\n        settings        = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.tab.settings, parameters)\n          : $.extend({}, $.fn.tab.settings),\n\n        className       = settings.className,\n        metadata        = settings.metadata,\n        selector        = settings.selector,\n        error           = settings.error,\n\n        eventNamespace  = '.' + settings.namespace,\n        moduleNamespace = 'module-' + settings.namespace,\n\n        $module         = $(this),\n        $context,\n        $tabs,\n\n        cache           = {},\n        firstLoad       = true,\n        recursionDepth  = 0,\n        element         = this,\n        instance        = $module.data(moduleNamespace),\n\n        activeTabPath,\n        parameterArray,\n        module,\n\n        historyEvent\n\n      ;\n\n      module = {\n\n        initialize: function() {\n          module.debug('Initializing tab menu item', $module);\n          module.fix.callbacks();\n          module.determineTabs();\n\n          module.debug('Determining tabs', settings.context, $tabs);\n          // set up automatic routing\n          if(settings.auto) {\n            module.set.auto();\n          }\n          module.bind.events();\n\n          if(settings.history && !initializedHistory) {\n            module.initializeHistory();\n            initializedHistory = true;\n          }\n\n          module.instantiate();\n        },\n\n        instantiate: function () {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n\n        destroy: function() {\n          module.debug('Destroying tabs', $module);\n          $module\n            .removeData(moduleNamespace)\n            .off(eventNamespace)\n          ;\n        },\n\n        bind: {\n          events: function() {\n            // if using $.tab don't add events\n            if( !$.isWindow( element ) ) {\n              module.debug('Attaching tab activation events to element', $module);\n              $module\n                .on('click' + eventNamespace, module.event.click)\n              ;\n            }\n          }\n        },\n\n        determineTabs: function() {\n          var\n            $reference\n          ;\n\n          // determine tab context\n          if(settings.context === 'parent') {\n            if($module.closest(selector.ui).length > 0) {\n              $reference = $module.closest(selector.ui);\n              module.verbose('Using closest UI element as parent', $reference);\n            }\n            else {\n              $reference = $module;\n            }\n            $context = $reference.parent();\n            module.verbose('Determined parent element for creating context', $context);\n          }\n          else if(settings.context) {\n            $context = $(settings.context);\n            module.verbose('Using selector for tab context', settings.context, $context);\n          }\n          else {\n            $context = $('body');\n          }\n          // find tabs\n          if(settings.childrenOnly) {\n            $tabs = $context.children(selector.tabs);\n            module.debug('Searching tab context children for tabs', $context, $tabs);\n          }\n          else {\n            $tabs = $context.find(selector.tabs);\n            module.debug('Searching tab context for tabs', $context, $tabs);\n          }\n        },\n\n        fix: {\n          callbacks: function() {\n            if( $.isPlainObject(parameters) && (parameters.onTabLoad || parameters.onTabInit) ) {\n              if(parameters.onTabLoad) {\n                parameters.onLoad = parameters.onTabLoad;\n                delete parameters.onTabLoad;\n                module.error(error.legacyLoad, parameters.onLoad);\n              }\n              if(parameters.onTabInit) {\n                parameters.onFirstLoad = parameters.onTabInit;\n                delete parameters.onTabInit;\n                module.error(error.legacyInit, parameters.onFirstLoad);\n              }\n              settings = $.extend(true, {}, $.fn.tab.settings, parameters);\n            }\n          }\n        },\n\n        initializeHistory: function() {\n          module.debug('Initializing page state');\n          if( $.address === undefined ) {\n            module.error(error.state);\n            return false;\n          }\n          else {\n            if(settings.historyType == 'state') {\n              module.debug('Using HTML5 to manage state');\n              if(settings.path !== false) {\n                $.address\n                  .history(true)\n                  .state(settings.path)\n                ;\n              }\n              else {\n                module.error(error.path);\n                return false;\n              }\n            }\n            $.address\n              .bind('change', module.event.history.change)\n            ;\n          }\n        },\n\n        event: {\n          click: function(event) {\n            var\n              tabPath = $(this).data(metadata.tab)\n            ;\n            if(tabPath !== undefined) {\n              if(settings.history) {\n                module.verbose('Updating page state', event);\n                $.address.value(tabPath);\n              }\n              else {\n                module.verbose('Changing tab', event);\n                module.changeTab(tabPath);\n              }\n              event.preventDefault();\n            }\n            else {\n              module.debug('No tab specified');\n            }\n          },\n          history: {\n            change: function(event) {\n              var\n                tabPath   = event.pathNames.join('/') || module.get.initialPath(),\n                pageTitle = settings.templates.determineTitle(tabPath) || false\n              ;\n              module.performance.display();\n              module.debug('History change event', tabPath, event);\n              historyEvent = event;\n              if(tabPath !== undefined) {\n                module.changeTab(tabPath);\n              }\n              if(pageTitle) {\n                $.address.title(pageTitle);\n              }\n            }\n          }\n        },\n\n        refresh: function() {\n          if(activeTabPath) {\n            module.debug('Refreshing tab', activeTabPath);\n            module.changeTab(activeTabPath);\n          }\n        },\n\n        cache: {\n\n          read: function(cacheKey) {\n            return (cacheKey !== undefined)\n              ? cache[cacheKey]\n              : false\n            ;\n          },\n          add: function(cacheKey, content) {\n            cacheKey = cacheKey || activeTabPath;\n            module.debug('Adding cached content for', cacheKey);\n            cache[cacheKey] = content;\n          },\n          remove: function(cacheKey) {\n            cacheKey = cacheKey || activeTabPath;\n            module.debug('Removing cached content for', cacheKey);\n            delete cache[cacheKey];\n          }\n        },\n\n        set: {\n          auto: function() {\n            var\n              url = (typeof settings.path == 'string')\n                ? settings.path.replace(/\\/$/, '') + '/{$tab}'\n                : '/{$tab}'\n            ;\n            module.verbose('Setting up automatic tab retrieval from server', url);\n            if($.isPlainObject(settings.apiSettings)) {\n              settings.apiSettings.url = url;\n            }\n            else {\n              settings.apiSettings = {\n                url: url\n              };\n            }\n          },\n          loading: function(tabPath) {\n            var\n              $tab      = module.get.tabElement(tabPath),\n              isLoading = $tab.hasClass(className.loading)\n            ;\n            if(!isLoading) {\n              module.verbose('Setting loading state for', $tab);\n              $tab\n                .addClass(className.loading)\n                .siblings($tabs)\n                  .removeClass(className.active + ' ' + className.loading)\n              ;\n              if($tab.length > 0) {\n                settings.onRequest.call($tab[0], tabPath);\n              }\n            }\n          },\n          state: function(state) {\n            $.address.value(state);\n          }\n        },\n\n        changeTab: function(tabPath) {\n          var\n            pushStateAvailable = (window.history && window.history.pushState),\n            shouldIgnoreLoad   = (pushStateAvailable && settings.ignoreFirstLoad && firstLoad),\n            remoteContent      = (settings.auto || $.isPlainObject(settings.apiSettings) ),\n            // only add default path if not remote content\n            pathArray = (remoteContent && !shouldIgnoreLoad)\n              ? module.utilities.pathToArray(tabPath)\n              : module.get.defaultPathArray(tabPath)\n          ;\n          tabPath = module.utilities.arrayToPath(pathArray);\n          $.each(pathArray, function(index, tab) {\n            var\n              currentPathArray   = pathArray.slice(0, index + 1),\n              currentPath        = module.utilities.arrayToPath(currentPathArray),\n\n              isTab              = module.is.tab(currentPath),\n              isLastIndex        = (index + 1 == pathArray.length),\n\n              $tab               = module.get.tabElement(currentPath),\n              $anchor,\n              nextPathArray,\n              nextPath,\n              isLastTab\n            ;\n            module.verbose('Looking for tab', tab);\n            if(isTab) {\n              module.verbose('Tab was found', tab);\n              // scope up\n              activeTabPath  = currentPath;\n              parameterArray = module.utilities.filterArray(pathArray, currentPathArray);\n\n              if(isLastIndex) {\n                isLastTab = true;\n              }\n              else {\n                nextPathArray = pathArray.slice(0, index + 2);\n                nextPath      = module.utilities.arrayToPath(nextPathArray);\n                isLastTab     = ( !module.is.tab(nextPath) );\n                if(isLastTab) {\n                  module.verbose('Tab parameters found', nextPathArray);\n                }\n              }\n              if(isLastTab && remoteContent) {\n                if(!shouldIgnoreLoad) {\n                  module.activate.navigation(currentPath);\n                  module.fetch.content(currentPath, tabPath);\n                }\n                else {\n                  module.debug('Ignoring remote content on first tab load', currentPath);\n                  firstLoad = false;\n                  module.cache.add(tabPath, $tab.html());\n                  module.activate.all(currentPath);\n                  settings.onFirstLoad.call($tab[0], currentPath, parameterArray, historyEvent);\n                  settings.onLoad.call($tab[0], currentPath, parameterArray, historyEvent);\n                }\n                return false;\n              }\n              else {\n                module.debug('Opened local tab', currentPath);\n                module.activate.all(currentPath);\n                if( !module.cache.read(currentPath) ) {\n                  module.cache.add(currentPath, true);\n                  module.debug('First time tab loaded calling tab init');\n                  settings.onFirstLoad.call($tab[0], currentPath, parameterArray, historyEvent);\n                }\n                settings.onLoad.call($tab[0], currentPath, parameterArray, historyEvent);\n              }\n\n            }\n            else if(tabPath.search('/') == -1 && tabPath !== '') {\n              // look for in page anchor\n              $anchor     = $('#' + tabPath + ', a[name=\"' + tabPath + '\"]');\n              currentPath = $anchor.closest('[data-tab]').data(metadata.tab);\n              $tab        = module.get.tabElement(currentPath);\n              // if anchor exists use parent tab\n              if($anchor && $anchor.length > 0 && currentPath) {\n                module.debug('Anchor link used, opening parent tab', $tab, $anchor);\n                if( !$tab.hasClass(className.active) ) {\n                  setTimeout(function() {\n                    module.scrollTo($anchor);\n                  }, 0);\n                }\n                module.activate.all(currentPath);\n                if( !module.cache.read(currentPath) ) {\n                  module.cache.add(currentPath, true);\n                  module.debug('First time tab loaded calling tab init');\n                  settings.onFirstLoad.call($tab[0], currentPath, parameterArray, historyEvent);\n                }\n                settings.onLoad.call($tab[0], currentPath, parameterArray, historyEvent);\n                return false;\n              }\n            }\n            else {\n              module.error(error.missingTab, $module, $context, currentPath);\n              return false;\n            }\n          });\n        },\n\n        scrollTo: function($element) {\n          var\n            scrollOffset = ($element && $element.length > 0)\n              ? $element.offset().top\n              : false\n          ;\n          if(scrollOffset !== false) {\n            module.debug('Forcing scroll to an in-page link in a hidden tab', scrollOffset, $element);\n            $(document).scrollTop(scrollOffset);\n          }\n        },\n\n        update: {\n          content: function(tabPath, html, evaluateScripts) {\n            var\n              $tab = module.get.tabElement(tabPath),\n              tab  = $tab[0]\n            ;\n            evaluateScripts = (evaluateScripts !== undefined)\n              ? evaluateScripts\n              : settings.evaluateScripts\n            ;\n            if(typeof settings.cacheType == 'string' && settings.cacheType.toLowerCase() == 'dom' && typeof html !== 'string') {\n              $tab\n                .empty()\n                .append($(html).clone(true))\n              ;\n            }\n            else {\n              if(evaluateScripts) {\n                module.debug('Updating HTML and evaluating inline scripts', tabPath, html);\n                $tab.html(html);\n              }\n              else {\n                module.debug('Updating HTML', tabPath, html);\n                tab.innerHTML = html;\n              }\n            }\n          }\n        },\n\n        fetch: {\n\n          content: function(tabPath, fullTabPath) {\n            var\n              $tab        = module.get.tabElement(tabPath),\n              apiSettings = {\n                dataType         : 'html',\n                encodeParameters : false,\n                on               : 'now',\n                cache            : settings.alwaysRefresh,\n                headers          : {\n                  'X-Remote': true\n                },\n                onSuccess : function(response) {\n                  if(settings.cacheType == 'response') {\n                    module.cache.add(fullTabPath, response);\n                  }\n                  module.update.content(tabPath, response);\n                  if(tabPath == activeTabPath) {\n                    module.debug('Content loaded', tabPath);\n                    module.activate.tab(tabPath);\n                  }\n                  else {\n                    module.debug('Content loaded in background', tabPath);\n                  }\n                  settings.onFirstLoad.call($tab[0], tabPath, parameterArray, historyEvent);\n                  settings.onLoad.call($tab[0], tabPath, parameterArray, historyEvent);\n\n                  if(settings.loadOnce) {\n                    module.cache.add(fullTabPath, true);\n                  }\n                  else if(typeof settings.cacheType == 'string' && settings.cacheType.toLowerCase() == 'dom' && $tab.children().length > 0) {\n                    setTimeout(function() {\n                      var\n                        $clone = $tab.children().clone(true)\n                      ;\n                      $clone = $clone.not('script');\n                      module.cache.add(fullTabPath, $clone);\n                    }, 0);\n                  }\n                  else {\n                    module.cache.add(fullTabPath, $tab.html());\n                  }\n                },\n                urlData: {\n                  tab: fullTabPath\n                }\n              },\n              request         = $tab.api('get request') || false,\n              existingRequest = ( request && request.state() === 'pending' ),\n              requestSettings,\n              cachedContent\n            ;\n\n            fullTabPath   = fullTabPath || tabPath;\n            cachedContent = module.cache.read(fullTabPath);\n\n\n            if(settings.cache && cachedContent) {\n              module.activate.tab(tabPath);\n              module.debug('Adding cached content', fullTabPath);\n              if(!settings.loadOnce) {\n                if(settings.evaluateScripts == 'once') {\n                  module.update.content(tabPath, cachedContent, false);\n                }\n                else {\n                  module.update.content(tabPath, cachedContent);\n                }\n              }\n              settings.onLoad.call($tab[0], tabPath, parameterArray, historyEvent);\n            }\n            else if(existingRequest) {\n              module.set.loading(tabPath);\n              module.debug('Content is already loading', fullTabPath);\n            }\n            else if($.api !== undefined) {\n              requestSettings = $.extend(true, {}, settings.apiSettings, apiSettings);\n              module.debug('Retrieving remote content', fullTabPath, requestSettings);\n              module.set.loading(tabPath);\n              $tab.api(requestSettings);\n            }\n            else {\n              module.error(error.api);\n            }\n          }\n        },\n\n        activate: {\n          all: function(tabPath) {\n            module.activate.tab(tabPath);\n            module.activate.navigation(tabPath);\n          },\n          tab: function(tabPath) {\n            var\n              $tab          = module.get.tabElement(tabPath),\n              $deactiveTabs = (settings.deactivate == 'siblings')\n                ? $tab.siblings($tabs)\n                : $tabs.not($tab),\n              isActive      = $tab.hasClass(className.active)\n            ;\n            module.verbose('Showing tab content for', $tab);\n            if(!isActive) {\n              $tab\n                .addClass(className.active)\n              ;\n              $deactiveTabs\n                .removeClass(className.active + ' ' + className.loading)\n              ;\n              if($tab.length > 0) {\n                settings.onVisible.call($tab[0], tabPath);\n              }\n            }\n          },\n          navigation: function(tabPath) {\n            var\n              $navigation         = module.get.navElement(tabPath),\n              $deactiveNavigation = (settings.deactivate == 'siblings')\n                ? $navigation.siblings($allModules)\n                : $allModules.not($navigation),\n              isActive    = $navigation.hasClass(className.active)\n            ;\n            module.verbose('Activating tab navigation for', $navigation, tabPath);\n            if(!isActive) {\n              $navigation\n                .addClass(className.active)\n              ;\n              $deactiveNavigation\n                .removeClass(className.active + ' ' + className.loading)\n              ;\n            }\n          }\n        },\n\n        deactivate: {\n          all: function() {\n            module.deactivate.navigation();\n            module.deactivate.tabs();\n          },\n          navigation: function() {\n            $allModules\n              .removeClass(className.active)\n            ;\n          },\n          tabs: function() {\n            $tabs\n              .removeClass(className.active + ' ' + className.loading)\n            ;\n          }\n        },\n\n        is: {\n          tab: function(tabName) {\n            return (tabName !== undefined)\n              ? ( module.get.tabElement(tabName).length > 0 )\n              : false\n            ;\n          }\n        },\n\n        get: {\n          initialPath: function() {\n            return $allModules.eq(0).data(metadata.tab) || $tabs.eq(0).data(metadata.tab);\n          },\n          path: function() {\n            return $.address.value();\n          },\n          // adds default tabs to tab path\n          defaultPathArray: function(tabPath) {\n            return module.utilities.pathToArray( module.get.defaultPath(tabPath) );\n          },\n          defaultPath: function(tabPath) {\n            var\n              $defaultNav = $allModules.filter('[data-' + metadata.tab + '^=\"' + tabPath + '/\"]').eq(0),\n              defaultTab  = $defaultNav.data(metadata.tab) || false\n            ;\n            if( defaultTab ) {\n              module.debug('Found default tab', defaultTab);\n              if(recursionDepth < settings.maxDepth) {\n                recursionDepth++;\n                return module.get.defaultPath(defaultTab);\n              }\n              module.error(error.recursion);\n            }\n            else {\n              module.debug('No default tabs found for', tabPath, $tabs);\n            }\n            recursionDepth = 0;\n            return tabPath;\n          },\n          navElement: function(tabPath) {\n            tabPath = tabPath || activeTabPath;\n            return $allModules.filter('[data-' + metadata.tab + '=\"' + tabPath + '\"]');\n          },\n          tabElement: function(tabPath) {\n            var\n              $fullPathTab,\n              $simplePathTab,\n              tabPathArray,\n              lastTab\n            ;\n            tabPath        = tabPath || activeTabPath;\n            tabPathArray   = module.utilities.pathToArray(tabPath);\n            lastTab        = module.utilities.last(tabPathArray);\n            $fullPathTab   = $tabs.filter('[data-' + metadata.tab + '=\"' + tabPath + '\"]');\n            $simplePathTab = $tabs.filter('[data-' + metadata.tab + '=\"' + lastTab + '\"]');\n            return ($fullPathTab.length > 0)\n              ? $fullPathTab\n              : $simplePathTab\n            ;\n          },\n          tab: function() {\n            return activeTabPath;\n          }\n        },\n\n        utilities: {\n          filterArray: function(keepArray, removeArray) {\n            return $.grep(keepArray, function(keepValue) {\n              return ( $.inArray(keepValue, removeArray) == -1);\n            });\n          },\n          last: function(array) {\n            return $.isArray(array)\n              ? array[ array.length - 1]\n              : false\n            ;\n          },\n          pathToArray: function(pathName) {\n            if(pathName === undefined) {\n              pathName = activeTabPath;\n            }\n            return typeof pathName == 'string'\n              ? pathName.split('/')\n              : [pathName]\n            ;\n          },\n          arrayToPath: function(pathArray) {\n            return $.isArray(pathArray)\n              ? pathArray.join('/')\n              : false\n            ;\n          }\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n\n};\n\n// shortcut for tabbed content with no defined navigation\n$.tab = function() {\n  $(window).tab.apply(this, arguments);\n};\n\n$.fn.tab.settings = {\n\n  name            : 'Tab',\n  namespace       : 'tab',\n\n  silent          : false,\n  debug           : false,\n  verbose         : false,\n  performance     : true,\n\n  auto            : false,      // uses pjax style endpoints fetching content from same url with remote-content headers\n  history         : false,      // use browser history\n  historyType     : 'hash',     // #/ or html5 state\n  path            : false,      // base path of url\n\n  context         : false,      // specify a context that tabs must appear inside\n  childrenOnly    : false,      // use only tabs that are children of context\n  maxDepth        : 25,         // max depth a tab can be nested\n\n  deactivate      : 'siblings', // whether tabs should deactivate sibling menu elements or all elements initialized together\n\n  alwaysRefresh   : false,      // load tab content new every tab click\n  cache           : true,       // cache the content requests to pull locally\n  loadOnce        : false,      // Whether tab data should only be loaded once when using remote content\n  cacheType       : 'response', // Whether to cache exact response, or to html cache contents after scripts execute\n  ignoreFirstLoad : false,      // don't load remote content on first load\n\n  apiSettings     : false,      // settings for api call\n  evaluateScripts : 'once',     // whether inline scripts should be parsed (true/false/once). Once will not re-evaluate on cached content\n\n  onFirstLoad : function(tabPath, parameterArray, historyEvent) {}, // called first time loaded\n  onLoad      : function(tabPath, parameterArray, historyEvent) {}, // called on every load\n  onVisible   : function(tabPath, parameterArray, historyEvent) {}, // called every time tab visible\n  onRequest   : function(tabPath, parameterArray, historyEvent) {}, // called ever time a tab beings loading remote content\n\n  templates : {\n    determineTitle: function(tabArray) {} // returns page title for path\n  },\n\n  error: {\n    api        : 'You attempted to load content without API module',\n    method     : 'The method you called is not defined',\n    missingTab : 'Activated tab cannot be found. Tabs are case-sensitive.',\n    noContent  : 'The tab you specified is missing a content url.',\n    path       : 'History enabled, but no path was specified',\n    recursion  : 'Max recursive depth reached',\n    legacyInit : 'onTabInit has been renamed to onFirstLoad in 2.0, please adjust your code.',\n    legacyLoad : 'onTabLoad has been renamed to onLoad in 2.0. Please adjust your code',\n    state      : 'History requires Asual\\'s Address library <https://github.com/asual/jquery-address>'\n  },\n\n  metadata : {\n    tab    : 'tab',\n    loaded : 'loaded',\n    promise: 'promise'\n  },\n\n  className   : {\n    loading : 'loading',\n    active  : 'active'\n  },\n\n  selector    : {\n    tabs : '.ui.tab',\n    ui   : '.ui'\n  }\n\n};\n\n})( jQuery, window, document );\n","/*!\n * # Semantic UI - Transition\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.transition = function() {\n  var\n    $allModules     = $(this),\n    moduleSelector  = $allModules.selector || '',\n\n    time            = new Date().getTime(),\n    performance     = [],\n\n    moduleArguments = arguments,\n    query           = moduleArguments[0],\n    queryArguments  = [].slice.call(arguments, 1),\n    methodInvoked   = (typeof query === 'string'),\n\n    requestAnimationFrame = window.requestAnimationFrame\n      || window.mozRequestAnimationFrame\n      || window.webkitRequestAnimationFrame\n      || window.msRequestAnimationFrame\n      || function(callback) { setTimeout(callback, 0); },\n\n    returnedValue\n  ;\n  $allModules\n    .each(function(index) {\n      var\n        $module  = $(this),\n        element  = this,\n\n        // set at run time\n        settings,\n        instance,\n\n        error,\n        className,\n        metadata,\n        animationEnd,\n        animationName,\n\n        namespace,\n        moduleNamespace,\n        eventNamespace,\n        module\n      ;\n\n      module = {\n\n        initialize: function() {\n\n          // get full settings\n          settings        = module.get.settings.apply(element, moduleArguments);\n\n          // shorthand\n          className       = settings.className;\n          error           = settings.error;\n          metadata        = settings.metadata;\n\n          // define namespace\n          eventNamespace  = '.' + settings.namespace;\n          moduleNamespace = 'module-' + settings.namespace;\n          instance        = $module.data(moduleNamespace) || module;\n\n          // get vendor specific events\n          animationEnd    = module.get.animationEndEvent();\n\n          if(methodInvoked) {\n            methodInvoked = module.invoke(query);\n          }\n\n          // method not invoked, lets run an animation\n          if(methodInvoked === false) {\n            module.verbose('Converted arguments into settings object', settings);\n            if(settings.interval) {\n              module.delay(settings.animate);\n            }\n            else  {\n              module.animate();\n            }\n            module.instantiate();\n          }\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, instance)\n          ;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous module for', element);\n          $module\n            .removeData(moduleNamespace)\n          ;\n        },\n\n        refresh: function() {\n          module.verbose('Refreshing display type on next animation');\n          delete module.displayType;\n        },\n\n        forceRepaint: function() {\n          module.verbose('Forcing element repaint');\n          var\n            $parentElement = $module.parent(),\n            $nextElement = $module.next()\n          ;\n          if($nextElement.length === 0) {\n            $module.detach().appendTo($parentElement);\n          }\n          else {\n            $module.detach().insertBefore($nextElement);\n          }\n        },\n\n        repaint: function() {\n          module.verbose('Repainting element');\n          var\n            fakeAssignment = element.offsetWidth\n          ;\n        },\n\n        delay: function(interval) {\n          var\n            direction = module.get.animationDirection(),\n            shouldReverse,\n            delay\n          ;\n          if(!direction) {\n            direction = module.can.transition()\n              ? module.get.direction()\n              : 'static'\n            ;\n          }\n          interval = (interval !== undefined)\n            ? interval\n            : settings.interval\n          ;\n          shouldReverse = (settings.reverse == 'auto' && direction == className.outward);\n          delay = (shouldReverse || settings.reverse == true)\n            ? ($allModules.length - index) * settings.interval\n            : index * settings.interval\n          ;\n          module.debug('Delaying animation by', delay);\n          setTimeout(module.animate, delay);\n        },\n\n        animate: function(overrideSettings) {\n          settings = overrideSettings || settings;\n          if(!module.is.supported()) {\n            module.error(error.support);\n            return false;\n          }\n          module.debug('Preparing animation', settings.animation);\n          if(module.is.animating()) {\n            if(settings.queue) {\n              if(!settings.allowRepeats && module.has.direction() && module.is.occurring() && module.queuing !== true) {\n                module.debug('Animation is currently occurring, preventing queueing same animation', settings.animation);\n              }\n              else {\n                module.queue(settings.animation);\n              }\n              return false;\n            }\n            else if(!settings.allowRepeats && module.is.occurring()) {\n              module.debug('Animation is already occurring, will not execute repeated animation', settings.animation);\n              return false;\n            }\n            else {\n              module.debug('New animation started, completing previous early', settings.animation);\n              instance.complete();\n            }\n          }\n          if( module.can.animate() ) {\n            module.set.animating(settings.animation);\n          }\n          else {\n            module.error(error.noAnimation, settings.animation, element);\n          }\n        },\n\n        reset: function() {\n          module.debug('Resetting animation to beginning conditions');\n          module.remove.animationCallbacks();\n          module.restore.conditions();\n          module.remove.animating();\n        },\n\n        queue: function(animation) {\n          module.debug('Queueing animation of', animation);\n          module.queuing = true;\n          $module\n            .one(animationEnd + '.queue' + eventNamespace, function() {\n              module.queuing = false;\n              module.repaint();\n              module.animate.apply(this, settings);\n            })\n          ;\n        },\n\n        complete: function (event) {\n          module.debug('Animation complete', settings.animation);\n          module.remove.completeCallback();\n          module.remove.failSafe();\n          if(!module.is.looping()) {\n            if( module.is.outward() ) {\n              module.verbose('Animation is outward, hiding element');\n              module.restore.conditions();\n              module.hide();\n            }\n            else if( module.is.inward() ) {\n              module.verbose('Animation is outward, showing element');\n              module.restore.conditions();\n              module.show();\n            }\n            else {\n              module.verbose('Static animation completed');\n              module.restore.conditions();\n              settings.onComplete.call(element);\n            }\n          }\n        },\n\n        force: {\n          visible: function() {\n            var\n              style          = $module.attr('style'),\n              userStyle      = module.get.userStyle(),\n              displayType    = module.get.displayType(),\n              overrideStyle  = userStyle + 'display: ' + displayType + ' !important;',\n              currentDisplay = $module.css('display'),\n              emptyStyle     = (style === undefined || style === '')\n            ;\n            if(currentDisplay !== displayType) {\n              module.verbose('Overriding default display to show element', displayType);\n              $module\n                .attr('style', overrideStyle)\n              ;\n            }\n            else if(emptyStyle) {\n              $module.removeAttr('style');\n            }\n          },\n          hidden: function() {\n            var\n              style          = $module.attr('style'),\n              currentDisplay = $module.css('display'),\n              emptyStyle     = (style === undefined || style === '')\n            ;\n            if(currentDisplay !== 'none' && !module.is.hidden()) {\n              module.verbose('Overriding default display to hide element');\n              $module\n                .css('display', 'none')\n              ;\n            }\n            else if(emptyStyle) {\n              $module\n                .removeAttr('style')\n              ;\n            }\n          }\n        },\n\n        has: {\n          direction: function(animation) {\n            var\n              hasDirection = false\n            ;\n            animation = animation || settings.animation;\n            if(typeof animation === 'string') {\n              animation = animation.split(' ');\n              $.each(animation, function(index, word){\n                if(word === className.inward || word === className.outward) {\n                  hasDirection = true;\n                }\n              });\n            }\n            return hasDirection;\n          },\n          inlineDisplay: function() {\n            var\n              style = $module.attr('style') || ''\n            ;\n            return $.isArray(style.match(/display.*?;/, ''));\n          }\n        },\n\n        set: {\n          animating: function(animation) {\n            var\n              animationClass,\n              direction\n            ;\n            // remove previous callbacks\n            module.remove.completeCallback();\n\n            // determine exact animation\n            animation      = animation || settings.animation;\n            animationClass = module.get.animationClass(animation);\n\n            // save animation class in cache to restore class names\n            module.save.animation(animationClass);\n\n            // override display if necessary so animation appears visibly\n            module.force.visible();\n\n            module.remove.hidden();\n            module.remove.direction();\n\n            module.start.animation(animationClass);\n\n          },\n          duration: function(animationName, duration) {\n            duration = duration || settings.duration;\n            duration = (typeof duration == 'number')\n              ? duration + 'ms'\n              : duration\n            ;\n            if(duration || duration === 0) {\n              module.verbose('Setting animation duration', duration);\n              $module\n                .css({\n                  'animation-duration':  duration\n                })\n              ;\n            }\n          },\n          direction: function(direction) {\n            direction = direction || module.get.direction();\n            if(direction == className.inward) {\n              module.set.inward();\n            }\n            else {\n              module.set.outward();\n            }\n          },\n          looping: function() {\n            module.debug('Transition set to loop');\n            $module\n              .addClass(className.looping)\n            ;\n          },\n          hidden: function() {\n            $module\n              .addClass(className.transition)\n              .addClass(className.hidden)\n            ;\n          },\n          inward: function() {\n            module.debug('Setting direction to inward');\n            $module\n              .removeClass(className.outward)\n              .addClass(className.inward)\n            ;\n          },\n          outward: function() {\n            module.debug('Setting direction to outward');\n            $module\n              .removeClass(className.inward)\n              .addClass(className.outward)\n            ;\n          },\n          visible: function() {\n            $module\n              .addClass(className.transition)\n              .addClass(className.visible)\n            ;\n          }\n        },\n\n        start: {\n          animation: function(animationClass) {\n            animationClass = animationClass || module.get.animationClass();\n            module.debug('Starting tween', animationClass);\n            $module\n              .addClass(animationClass)\n              .one(animationEnd + '.complete' + eventNamespace, module.complete)\n            ;\n            if(settings.useFailSafe) {\n              module.add.failSafe();\n            }\n            module.set.duration(settings.duration);\n            settings.onStart.call(element);\n          }\n        },\n\n        save: {\n          animation: function(animation) {\n            if(!module.cache) {\n              module.cache = {};\n            }\n            module.cache.animation = animation;\n          },\n          displayType: function(displayType) {\n            if(displayType !== 'none') {\n              $module.data(metadata.displayType, displayType);\n            }\n          },\n          transitionExists: function(animation, exists) {\n            $.fn.transition.exists[animation] = exists;\n            module.verbose('Saving existence of transition', animation, exists);\n          }\n        },\n\n        restore: {\n          conditions: function() {\n            var\n              animation = module.get.currentAnimation()\n            ;\n            if(animation) {\n              $module\n                .removeClass(animation)\n              ;\n              module.verbose('Removing animation class', module.cache);\n            }\n            module.remove.duration();\n          }\n        },\n\n        add: {\n          failSafe: function() {\n            var\n              duration = module.get.duration()\n            ;\n            module.timer = setTimeout(function() {\n              $module.triggerHandler(animationEnd);\n            }, duration + settings.failSafeDelay);\n            module.verbose('Adding fail safe timer', module.timer);\n          }\n        },\n\n        remove: {\n          animating: function() {\n            $module.removeClass(className.animating);\n          },\n          animationCallbacks: function() {\n            module.remove.queueCallback();\n            module.remove.completeCallback();\n          },\n          queueCallback: function() {\n            $module.off('.queue' + eventNamespace);\n          },\n          completeCallback: function() {\n            $module.off('.complete' + eventNamespace);\n          },\n          display: function() {\n            $module.css('display', '');\n          },\n          direction: function() {\n            $module\n              .removeClass(className.inward)\n              .removeClass(className.outward)\n            ;\n          },\n          duration: function() {\n            $module\n              .css('animation-duration', '')\n            ;\n          },\n          failSafe: function() {\n            module.verbose('Removing fail safe timer', module.timer);\n            if(module.timer) {\n              clearTimeout(module.timer);\n            }\n          },\n          hidden: function() {\n            $module.removeClass(className.hidden);\n          },\n          visible: function() {\n            $module.removeClass(className.visible);\n          },\n          looping: function() {\n            module.debug('Transitions are no longer looping');\n            if( module.is.looping() ) {\n              module.reset();\n              $module\n                .removeClass(className.looping)\n              ;\n            }\n          },\n          transition: function() {\n            $module\n              .removeClass(className.visible)\n              .removeClass(className.hidden)\n            ;\n          }\n        },\n        get: {\n          settings: function(animation, duration, onComplete) {\n            // single settings object\n            if(typeof animation == 'object') {\n              return $.extend(true, {}, $.fn.transition.settings, animation);\n            }\n            // all arguments provided\n            else if(typeof onComplete == 'function') {\n              return $.extend({}, $.fn.transition.settings, {\n                animation  : animation,\n                onComplete : onComplete,\n                duration   : duration\n              });\n            }\n            // only duration provided\n            else if(typeof duration == 'string' || typeof duration == 'number') {\n              return $.extend({}, $.fn.transition.settings, {\n                animation : animation,\n                duration  : duration\n              });\n            }\n            // duration is actually settings object\n            else if(typeof duration == 'object') {\n              return $.extend({}, $.fn.transition.settings, duration, {\n                animation : animation\n              });\n            }\n            // duration is actually callback\n            else if(typeof duration == 'function') {\n              return $.extend({}, $.fn.transition.settings, {\n                animation  : animation,\n                onComplete : duration\n              });\n            }\n            // only animation provided\n            else {\n              return $.extend({}, $.fn.transition.settings, {\n                animation : animation\n              });\n            }\n          },\n          animationClass: function(animation) {\n            var\n              animationClass = animation || settings.animation,\n              directionClass = (module.can.transition() && !module.has.direction())\n                ? module.get.direction() + ' '\n                : ''\n            ;\n            return className.animating + ' '\n              + className.transition + ' '\n              + directionClass\n              + animationClass\n            ;\n          },\n          currentAnimation: function() {\n            return (module.cache && module.cache.animation !== undefined)\n              ? module.cache.animation\n              : false\n            ;\n          },\n          currentDirection: function() {\n            return module.is.inward()\n              ? className.inward\n              : className.outward\n            ;\n          },\n          direction: function() {\n            return module.is.hidden() || !module.is.visible()\n              ? className.inward\n              : className.outward\n            ;\n          },\n          animationDirection: function(animation) {\n            var\n              direction\n            ;\n            animation = animation || settings.animation;\n            if(typeof animation === 'string') {\n              animation = animation.split(' ');\n              // search animation name for out/in class\n              $.each(animation, function(index, word){\n                if(word === className.inward) {\n                  direction = className.inward;\n                }\n                else if(word === className.outward) {\n                  direction = className.outward;\n                }\n              });\n            }\n            // return found direction\n            if(direction) {\n              return direction;\n            }\n            return false;\n          },\n          duration: function(duration) {\n            duration = duration || settings.duration;\n            if(duration === false) {\n              duration = $module.css('animation-duration') || 0;\n            }\n            return (typeof duration === 'string')\n              ? (duration.indexOf('ms') > -1)\n                ? parseFloat(duration)\n                : parseFloat(duration) * 1000\n              : duration\n            ;\n          },\n          displayType: function(shouldDetermine) {\n            shouldDetermine = (shouldDetermine !== undefined)\n              ? shouldDetermine\n              : true\n            ;\n            if(settings.displayType) {\n              return settings.displayType;\n            }\n            if(shouldDetermine && $module.data(metadata.displayType) === undefined) {\n              // create fake element to determine display state\n              module.can.transition(true);\n            }\n            return $module.data(metadata.displayType);\n          },\n          userStyle: function(style) {\n            style = style || $module.attr('style') || '';\n            return style.replace(/display.*?;/, '');\n          },\n          transitionExists: function(animation) {\n            return $.fn.transition.exists[animation];\n          },\n          animationStartEvent: function() {\n            var\n              element     = document.createElement('div'),\n              animations  = {\n                'animation'       :'animationstart',\n                'OAnimation'      :'oAnimationStart',\n                'MozAnimation'    :'mozAnimationStart',\n                'WebkitAnimation' :'webkitAnimationStart'\n              },\n              animation\n            ;\n            for(animation in animations){\n              if( element.style[animation] !== undefined ){\n                return animations[animation];\n              }\n            }\n            return false;\n          },\n          animationEndEvent: function() {\n            var\n              element     = document.createElement('div'),\n              animations  = {\n                'animation'       :'animationend',\n                'OAnimation'      :'oAnimationEnd',\n                'MozAnimation'    :'mozAnimationEnd',\n                'WebkitAnimation' :'webkitAnimationEnd'\n              },\n              animation\n            ;\n            for(animation in animations){\n              if( element.style[animation] !== undefined ){\n                return animations[animation];\n              }\n            }\n            return false;\n          }\n\n        },\n\n        can: {\n          transition: function(forced) {\n            var\n              animation         = settings.animation,\n              transitionExists  = module.get.transitionExists(animation),\n              displayType       = module.get.displayType(false),\n              elementClass,\n              tagName,\n              $clone,\n              currentAnimation,\n              inAnimation,\n              directionExists\n            ;\n            if( transitionExists === undefined || forced) {\n              module.verbose('Determining whether animation exists');\n              elementClass = $module.attr('class');\n              tagName      = $module.prop('tagName');\n\n              $clone = $('<' + tagName + ' />').addClass( elementClass ).insertAfter($module);\n              currentAnimation = $clone\n                .addClass(animation)\n                .removeClass(className.inward)\n                .removeClass(className.outward)\n                .addClass(className.animating)\n                .addClass(className.transition)\n                .css('animationName')\n              ;\n              inAnimation = $clone\n                .addClass(className.inward)\n                .css('animationName')\n              ;\n              if(!displayType) {\n                displayType = $clone\n                  .attr('class', elementClass)\n                  .removeAttr('style')\n                  .removeClass(className.hidden)\n                  .removeClass(className.visible)\n                  .show()\n                  .css('display')\n                ;\n                module.verbose('Determining final display state', displayType);\n                module.save.displayType(displayType);\n              }\n\n              $clone.remove();\n              if(currentAnimation != inAnimation) {\n                module.debug('Direction exists for animation', animation);\n                directionExists = true;\n              }\n              else if(currentAnimation == 'none' || !currentAnimation) {\n                module.debug('No animation defined in css', animation);\n                return;\n              }\n              else {\n                module.debug('Static animation found', animation, displayType);\n                directionExists = false;\n              }\n              module.save.transitionExists(animation, directionExists);\n            }\n            return (transitionExists !== undefined)\n              ? transitionExists\n              : directionExists\n            ;\n          },\n          animate: function() {\n            // can transition does not return a value if animation does not exist\n            return (module.can.transition() !== undefined);\n          }\n        },\n\n        is: {\n          animating: function() {\n            return $module.hasClass(className.animating);\n          },\n          inward: function() {\n            return $module.hasClass(className.inward);\n          },\n          outward: function() {\n            return $module.hasClass(className.outward);\n          },\n          looping: function() {\n            return $module.hasClass(className.looping);\n          },\n          occurring: function(animation) {\n            animation = animation || settings.animation;\n            animation = '.' + animation.replace(' ', '.');\n            return ( $module.filter(animation).length > 0 );\n          },\n          visible: function() {\n            return $module.is(':visible');\n          },\n          hidden: function() {\n            return $module.css('visibility') === 'hidden';\n          },\n          supported: function() {\n            return(animationEnd !== false);\n          }\n        },\n\n        hide: function() {\n          module.verbose('Hiding element');\n          if( module.is.animating() ) {\n            module.reset();\n          }\n          element.blur(); // IE will trigger focus change if element is not blurred before hiding\n          module.remove.display();\n          module.remove.visible();\n          module.set.hidden();\n          module.force.hidden();\n          settings.onHide.call(element);\n          settings.onComplete.call(element);\n          // module.repaint();\n        },\n\n        show: function(display) {\n          module.verbose('Showing element', display);\n          module.remove.hidden();\n          module.set.visible();\n          module.force.visible();\n          settings.onShow.call(element);\n          settings.onComplete.call(element);\n          // module.repaint();\n        },\n\n        toggle: function() {\n          if( module.is.visible() ) {\n            module.hide();\n          }\n          else {\n            module.show();\n          }\n        },\n\n        stop: function() {\n          module.debug('Stopping current animation');\n          $module.triggerHandler(animationEnd);\n        },\n\n        stopAll: function() {\n          module.debug('Stopping all animation');\n          module.remove.queueCallback();\n          $module.triggerHandler(animationEnd);\n        },\n\n        clear: {\n          queue: function() {\n            module.debug('Clearing animation queue');\n            module.remove.queueCallback();\n          }\n        },\n\n        enable: function() {\n          module.verbose('Starting animation');\n          $module.removeClass(className.disabled);\n        },\n\n        disable: function() {\n          module.debug('Stopping animation');\n          $module.addClass(className.disabled);\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        // modified for transition to return invoke success\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return (found !== undefined)\n            ? found\n            : false\n          ;\n        }\n      };\n      module.initialize();\n    })\n  ;\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n// Records if CSS transition is available\n$.fn.transition.exists = {};\n\n$.fn.transition.settings = {\n\n  // module info\n  name          : 'Transition',\n\n  // hide all output from this component regardless of other settings\n  silent        : false,\n\n  // debug content outputted to console\n  debug         : false,\n\n  // verbose debug output\n  verbose       : false,\n\n  // performance data output\n  performance   : true,\n\n  // event namespace\n  namespace     : 'transition',\n\n  // delay between animations in group\n  interval      : 0,\n\n  // whether group animations should be reversed\n  reverse       : 'auto',\n\n  // animation callback event\n  onStart       : function() {},\n  onComplete    : function() {},\n  onShow        : function() {},\n  onHide        : function() {},\n\n  // whether timeout should be used to ensure callback fires in cases animationend does not\n  useFailSafe   : true,\n\n  // delay in ms for fail safe\n  failSafeDelay : 100,\n\n  // whether EXACT animation can occur twice in a row\n  allowRepeats  : false,\n\n  // Override final display type on visible\n  displayType   : false,\n\n  // animation duration\n  animation     : 'fade',\n  duration      : false,\n\n  // new animations will occur after previous ones\n  queue         : true,\n\n  metadata : {\n    displayType: 'display'\n  },\n\n  className   : {\n    animating  : 'animating',\n    disabled   : 'disabled',\n    hidden     : 'hidden',\n    inward     : 'in',\n    loading    : 'loading',\n    looping    : 'looping',\n    outward    : 'out',\n    transition : 'transition',\n    visible    : 'visible'\n  },\n\n  // possible errors\n  error: {\n    noAnimation : 'Element is no longer attached to DOM. Unable to animate.  Use silent setting to surpress this warning in production.',\n    repeated    : 'That animation is already occurring, cancelling repeated animation',\n    method      : 'The method you called is not defined',\n    support     : 'This browser does not support CSS animations'\n  }\n\n};\n\n\n})( jQuery, window, document );\n","/*******************************\n            Set-up\n*******************************/\n\nvar\n  gulp         = require('gulp-help')(require('gulp')),\n\n  // read user config to know what task to load\n  config       = require('./tasks/config/user'),\n\n  // watch changes\n  watch        = require('./tasks/watch'),\n\n  // build all files\n  build        = require('./tasks/build'),\n  buildJS      = require('./tasks/build/javascript'),\n  buildCSS     = require('./tasks/build/css'),\n  buildAssets  = require('./tasks/build/assets'),\n\n  // utility\n  clean        = require('./tasks/clean'),\n  version      = require('./tasks/version'),\n\n  // docs tasks\n  serveDocs    = require('./tasks/docs/serve'),\n  buildDocs    = require('./tasks/docs/build'),\n\n  // rtl\n  buildRTL     = require('./tasks/rtl/build'),\n  watchRTL     = require('./tasks/rtl/watch')\n;\n\n\n/*******************************\n             Tasks\n*******************************/\n\ngulp.task('default', false, [\n  'watch'\n]);\n\ngulp.task('watch', 'Watch for site/theme changes', watch);\n\ngulp.task('build', 'Builds all files from source', build);\ngulp.task('build-javascript', 'Builds all javascript from source', buildJS);\ngulp.task('build-css', 'Builds all css from source', buildCSS);\ngulp.task('build-assets', 'Copies all assets from source', buildAssets);\n\ngulp.task('clean', 'Clean dist folder', clean);\ngulp.task('version', 'Displays current version of Semantic', version);\n\n/*--------------\n      Docs\n---------------*/\n\n/*\n  Lets you serve files to a local documentation instance\n  https://github.com/Semantic-Org/Semantic-UI-Docs/\n*/\n\ngulp.task('serve-docs', 'Serve file changes to SUI Docs', serveDocs);\ngulp.task('build-docs', 'Build all files and add to SUI Docs', buildDocs);\n\n\n/*--------------\n      RTL\n---------------*/\n\nif(config.rtl) {\n  gulp.task('watch-rtl', 'Watch files as RTL', watchRTL);\n  gulp.task('build-rtl', 'Build all files as RTL', buildRTL);\n}\n","/*\n* File Name: bootstrap.js\n* Version 1.0\n*\n* Tribus Digita\n* Ticket Salad\n*\n* Functional description: bootstrap handles all javascript associated with creating a mongo collection\n*/\n\n//libs\nimport Moment from 'moment';\nimport { Meteor } from 'meteor/meteor';\nimport { Events } from '../lib/collections';\n \nMeteor.startup(function() \n{\n\n    function generateCode()\n    {\n        var code = \"\";\n        for (var index = 0; index < 5; index++) \n        {\n            var digit = Math.floor((Math.random() * 10));\n            code += digit + \"\";\n        }\n        //Console.log(code);\n        return code;\n    }\n});"]}}]