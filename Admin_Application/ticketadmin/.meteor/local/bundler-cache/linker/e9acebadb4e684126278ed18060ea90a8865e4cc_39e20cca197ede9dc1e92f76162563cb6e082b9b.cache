[{"type":"js","data":"/* Imports for global scope */\n\nMongo = Package.mongo.Mongo;\nReactiveVar = Package['reactive-var'].ReactiveVar;\nTracker = Package.tracker.Tracker;\nDeps = Package.tracker.Deps;\nLaunchScreen = Package['launch-screen'].LaunchScreen;\nSession = Package.session.Session;\nMeteor = Package.meteor.Meteor;\nglobal = Package.meteor.global;\nmeteorEnv = Package.meteor.meteorEnv;\nWebApp = Package.webapp.WebApp;\nDDP = Package['ddp-client'].DDP;\nmeteorInstall = Package.modules.meteorInstall;\nmeteorBabelHelpers = Package['babel-runtime'].meteorBabelHelpers;\nPromise = Package.promise.Promise;\nAutoupdate = Package.autoupdate.Autoupdate;\nReload = Package.reload.Reload;\nSymbol = Package['ecmascript-runtime-client'].Symbol;\nMap = Package['ecmascript-runtime-client'].Map;\nSet = Package['ecmascript-runtime-client'].Set;\n\n","servePath":"/global-imports.js"},{"type":"js","data":"var require = meteorInstall({\"client\":{\"templates\":{\"editEvent.html\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/editEvent.html                                                                                     //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.watch(require(\"./template.editEvent.js\"), {\n  \"*\": module.makeNsSetter(true)\n});\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.editEvent.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/template.editEvent.js                                                                              //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\n  var templateUrl = \"client/templates/editEvent.html\";\n  angular.module('angular-templates')\n    .run(['$templateCache', function($templateCache) {\n      $templateCache.put(templateUrl, \"<ion-view view-title=\\\"Editing {{editEvent.event.name}}\\\"> <ion-content> <div class=\\\"ui center aligned segment\\\"> <form class=\\\"ui form\\\" style=\\\"padding-top:5%\\\"> <div class=\\\"field\\\"> <label>Event Name</label> <input type=\\\"text\\\" name=\\\"name\\\" ng-model=\\\"editEvent.event.name\\\"> </div> <div class=\\\"field\\\"> <label>City</label> <input type=\\\"text\\\" name=\\\"city\\\" ng-model=\\\"editEvent.event.city\\\"> </div> <div class=\\\"field\\\"> <label>Country</label> <input type=\\\"text\\\" name=\\\"country\\\" ng-model=\\\"editEvent.event.country\\\"> </div> <div class=\\\"field\\\"> <label>Starting date</label> <input type=\\\"text\\\" name=\\\"from\\\" ng-model=\\\"editEvent.event.from\\\"> </div> <div class=\\\"field\\\"> <label>Webpage</label> <input type=\\\"text\\\" name=\\\"webpage\\\" ng-model=\\\"editEvent.event.webpage\\\"> </div> <div class=\\\"field\\\"> <label>Cost per claim</label> <input type=\\\"text\\\" name=\\\"credits\\\" ng-model=\\\"editEvent.event.credits\\\"> </div> <div class=\\\"field\\\"> <label>Tickets</label> <input type=\\\"text\\\" name=\\\"tickets\\\" ng-model=\\\"editEvent.event.tickets\\\"> </div> <div class=\\\"field\\\"> <label>About</label> <input type=\\\"textarea\\\" name=\\\"about\\\" ng-model=\\\"editEvent.event.about\\\"> </div> <div class=\\\"ui buttons\\\"> <button class=\\\"ui button\\\" ng-click=\\\"editEvent.delete()\\\">Delete</button> <div class=\\\"or\\\"></div> <button class=\\\"ui positive button\\\" ng-click=\\\"editEvent.done()\\\">Save</button> </div> </form> </div> </ion-content> </ion-view>\");\n    }]);\n  if (typeof exports !== 'undefined') {\n    exports.__esModule = true;\n    exports.default = templateUrl;\n  }\n  \n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"events.html\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/events.html                                                                                        //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.watch(require(\"./template.events.js\"), {\n  \"*\": module.makeNsSetter(true)\n});\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.events.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/template.events.js                                                                                 //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\n  var templateUrl = \"client/templates/events.html\";\n  angular.module('angular-templates')\n    .run(['$templateCache', function($templateCache) {\n      $templateCache.put(templateUrl, \"<ion-view view-title=\\\"Manage Events\\\"> <ion-content> <ion-list> <ion-item ng-repeat=\\\"event in events.data\\\" type=\\\"item-text-wrap\\\" href=\\\"#!/tab/editEvent\\\" ng-click=\\\"events.loadEvent(event)\\\"> <h2>{{ event.name }}</h2> <h3>{{event.city}}, {{event.country}}</h3> <p>Current Claims: {{event.claims}}</p> </ion-item> <ion-item href=\\\"#!/tab/newEvent\\\"> Add new event </ion-item> </ion-list> </ion-content> </ion-view>\");\n    }]);\n  if (typeof exports !== 'undefined') {\n    exports.__esModule = true;\n    exports.default = templateUrl;\n  }\n  \n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"newEvent.html\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/newEvent.html                                                                                      //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.watch(require(\"./template.newEvent.js\"), {\n  \"*\": module.makeNsSetter(true)\n});\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.newEvent.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/template.newEvent.js                                                                               //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\n  var templateUrl = \"client/templates/newEvent.html\";\n  angular.module('angular-templates')\n    .run(['$templateCache', function($templateCache) {\n      $templateCache.put(templateUrl, \"<ion-view view-title=\\\"Create New Event\\\"> <ion-content> <div class=\\\"ui center aligned segment\\\"> <form class=\\\"ui form\\\" style=\\\"padding-top:5%\\\"> <div class=\\\"field\\\"> <label>Event Name</label> <input type=\\\"text\\\" name=\\\"name\\\" ng-model=\\\"newEvent.name\\\"> </div> <div class=\\\"field\\\"> <label>City</label> <input type=\\\"text\\\" name=\\\"city\\\" ng-model=\\\"newEvent.city\\\"> </div> <div class=\\\"field\\\"> <label>Country</label> <input type=\\\"text\\\" name=\\\"country\\\" ng-model=\\\"newEvent.country\\\"> </div> <div class=\\\"field\\\"> <label>Starting date</label> <input type=\\\"text\\\" name=\\\"from\\\" ng-model=\\\"newEvent.from\\\"> </div> <div class=\\\"field\\\"> <label>Webpage</label> <input type=\\\"text\\\" name=\\\"webpage\\\" ng-model=\\\"newEvent.webpage\\\"> </div> <div class=\\\"field\\\"> <label>Cost per claim</label> <input type=\\\"number\\\" name=\\\"credits\\\" ng-model=\\\"newEvent.credits\\\"> </div> <div class=\\\"field\\\"> <label>Tickets</label> <input type=\\\"number\\\" name=\\\"tickets\\\" ng-model=\\\"newEvent.tickets\\\"> </div> <div class=\\\"field\\\"> <label>About</label> <input type=\\\"textarea\\\" name=\\\"about\\\" ng-model=\\\"newEvent.about\\\"> </div> <button class=\\\"ui button\\\" ng-click=\\\"newEvent.done()\\\">Save</button> </form> </div> </ion-content> </ion-view>\");\n    }]);\n  if (typeof exports !== 'undefined') {\n    exports.__esModule = true;\n    exports.default = templateUrl;\n  }\n  \n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"tabs.html\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/tabs.html                                                                                          //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.watch(require(\"./template.tabs.js\"), {\n  \"*\": module.makeNsSetter(true)\n});\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.tabs.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/template.tabs.js                                                                                   //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\n  var templateUrl = \"client/templates/tabs.html\";\n  angular.module('angular-templates')\n    .run(['$templateCache', function($templateCache) {\n      $templateCache.put(templateUrl, \"<ion-tabs class=\\\"tabs-stable tabs-icon-top tabs-color-positive\\\" ng-cloak> <ion-tab title=\\\"Events\\\" icon-on=\\\"ion-ios-chatbubble\\\" icon-off=\\\"ion-ios-chatbubble-outline\\\" href=\\\"#/tab/events\\\"> <ion-nav-view name=\\\"tab-events\\\"></ion-nav-view> </ion-tab> <ion-tab title=\\\"Settings\\\" icon-on=\\\"ion-ios-cog\\\" icon-off=\\\"ion-ios-cog-outline\\\" href=\\\"#/tab/settings\\\"> <ion-nav-view name=\\\"tab-settings\\\"></ion-nav-view> </ion-tab> </ion-tabs>\");\n    }]);\n  if (typeof exports !== 'undefined') {\n    exports.__esModule = true;\n    exports.default = templateUrl;\n  }\n  \n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"scripts\":{\"lib\":{\"app.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/scripts/lib/app.js                                                                                           //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar module1 = module;\nmodule1.watch(require(\"angular-animate\"));\nmodule1.watch(require(\"angular-meteor\"));\nmodule1.watch(require(\"angular-sanitize\"));\nmodule1.watch(require(\"angular-ui-router\"));\nmodule1.watch(require(\"ionic-scripts\"));\nvar Angular;\nmodule1.watch(require(\"angular\"), {\n  \"default\": function (v) {\n    Angular = v;\n  }\n}, 0);\nvar Loader;\nmodule1.watch(require(\"angular-ecmascript/module-loader\"), {\n  \"default\": function (v) {\n    Loader = v;\n  }\n}, 1);\nvar Meteor;\nmodule1.watch(require(\"meteor/meteor\"), {\n  Meteor: function (v) {\n    Meteor = v;\n  }\n}, 2);\nvar EventsCtrl;\nmodule1.watch(require(\"../controllers/events.controller\"), {\n  \"default\": function (v) {\n    EventsCtrl = v;\n  }\n}, 3);\nvar NewEventCtrl;\nmodule1.watch(require(\"../controllers/newEvent.controller\"), {\n  \"default\": function (v) {\n    NewEventCtrl = v;\n  }\n}, 4);\nvar EditEventCtrl;\nmodule1.watch(require(\"../controllers/editEvent.controller\"), {\n  \"default\": function (v) {\n    EditEventCtrl = v;\n  }\n}, 5);\nvar CalendarFilter;\nmodule1.watch(require(\"../filters/calendar.filter\"), {\n  \"default\": function (v) {\n    CalendarFilter = v;\n  }\n}, 6);\nvar RoutesConfig;\nmodule1.watch(require(\"../routes\"), {\n  \"default\": function (v) {\n    RoutesConfig = v;\n  }\n}, 7);\nvar App = 'TicketSalad Administration'; // App\n\nAngular.module(App, ['angular-meteor', 'ionic']);\nnew Loader(App).load(EventsCtrl).load(NewEventCtrl).load(EditEventCtrl).load(CalendarFilter).load(RoutesConfig); // Startup\n\nif (Meteor.isCordova) {\n  Angular.element(document).on('deviceready', onReady);\n} else {\n  Angular.element(document).ready(onReady);\n}\n\nfunction onReady() {\n  Angular.bootstrap(document, [App]);\n}\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"controllers\":{\"editEvent.controller.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/scripts/controllers/editEvent.controller.js                                                                  //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar module1 = module;\nmodule1.export({\n  \"default\": function () {\n    return EditEventCtrl;\n  }\n});\nvar Moment;\nmodule1.watch(require(\"moment\"), {\n  \"default\": function (v) {\n    Moment = v;\n  }\n}, 0);\nvar Controller;\nmodule1.watch(require(\"angular-ecmascript/module-helpers\"), {\n  Controller: function (v) {\n    Controller = v;\n  }\n}, 1);\nvar Events;\nmodule1.watch(require(\"../../../lib/collections\"), {\n  Events: function (v) {\n    Events = v;\n  }\n}, 2);\n\nvar EditEventCtrl =\n/*#__PURE__*/\nfunction (_Controller) {\n  (0, _inheritsLoose2.default)(EditEventCtrl, _Controller);\n\n  function EditEventCtrl() {\n    var _this;\n\n    _this = _Controller.apply(this, arguments) || this;\n\n    _this.helpers({\n      data: function () {\n        return Events.find();\n      },\n      load: function () {\n        this.event = Session.get(\"editEvent\");\n        console.log(this.event);\n      }\n    });\n\n    return _this;\n  }\n\n  var _proto = EditEventCtrl.prototype;\n\n  _proto.done = function () {\n    function done() {\n      Events.update(this.event._id, {\n        $set: {\n          name: this.event.name,\n          city: this.event.city,\n          country: this.event.country,\n          from: this.event.from,\n          to: this.event.to,\n          webpage: this.event.webpage,\n          credits: this.event.credits,\n          about: this.event.about\n        }\n      });\n      this.$state.go(\"tab.events\");\n    }\n\n    return done;\n  }();\n\n  _proto.delete = function () {\n    function _delete() {\n      Events.remove(this.event._id);\n      this.$state.go(\"tab.events\");\n    }\n\n    return _delete;\n  }();\n\n  return EditEventCtrl;\n}(Controller);\n\nEditEventCtrl.$name = 'EditEventCtrl';\nEditEventCtrl.$inject = ['$state', '$ionicPopup', '$log'];\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"events.controller.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/scripts/controllers/events.controller.js                                                                     //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar module1 = module;\nmodule1.export({\n  \"default\": function () {\n    return EventsCtrl;\n  }\n});\nvar Moment;\nmodule1.watch(require(\"moment\"), {\n  \"default\": function (v) {\n    Moment = v;\n  }\n}, 0);\nvar Controller;\nmodule1.watch(require(\"angular-ecmascript/module-helpers\"), {\n  Controller: function (v) {\n    Controller = v;\n  }\n}, 1);\nvar Events;\nmodule1.watch(require(\"../../../lib/collections\"), {\n  Events: function (v) {\n    Events = v;\n  }\n}, 2);\n\nvar EventsCtrl =\n/*#__PURE__*/\nfunction (_Controller) {\n  (0, _inheritsLoose2.default)(EventsCtrl, _Controller);\n\n  function EventsCtrl() {\n    var _this;\n\n    _this = _Controller.apply(this, arguments) || this;\n\n    _this.helpers({\n      data: function () {\n        return Events.find();\n      }\n    });\n\n    return _this;\n  }\n\n  var _proto = EventsCtrl.prototype;\n\n  _proto.createNew = function () {\n    function createNew() {\n      console.log(\"new\");\n      this.$state.go('tab.newEvent');\n      console.log(\"gone\");\n    }\n\n    return createNew;\n  }();\n\n  _proto.loadEvent = function () {\n    function loadEvent(event) {\n      console.log(\"Loading event\");\n      Session.set(\"editEvent\", event);\n    }\n\n    return loadEvent;\n  }();\n\n  return EventsCtrl;\n}(Controller);\n\nEventsCtrl.$name = 'EventsCtrl';\nEventsCtrl.$inject = ['$state', '$ionicPopup', '$log'];\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"newEvent.controller.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/scripts/controllers/newEvent.controller.js                                                                   //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar module1 = module;\nmodule1.export({\n  \"default\": function () {\n    return NewEventCtrl;\n  }\n});\nvar Moment;\nmodule1.watch(require(\"moment\"), {\n  \"default\": function (v) {\n    Moment = v;\n  }\n}, 0);\nvar Controller;\nmodule1.watch(require(\"angular-ecmascript/module-helpers\"), {\n  Controller: function (v) {\n    Controller = v;\n  }\n}, 1);\nvar Events;\nmodule1.watch(require(\"../../../lib/collections\"), {\n  Events: function (v) {\n    Events = v;\n  }\n}, 2);\n\nvar NewEventCtrl =\n/*#__PURE__*/\nfunction (_Controller) {\n  (0, _inheritsLoose2.default)(NewEventCtrl, _Controller);\n\n  function NewEventCtrl() {\n    var _this;\n\n    _this = _Controller.apply(this, arguments) || this;\n\n    _this.helpers({\n      data: function () {\n        return Events.find();\n      }\n    });\n\n    return _this;\n  }\n\n  var _proto = NewEventCtrl.prototype;\n\n  _proto.generateCode = function () {\n    function generateCode() {\n      var code = \"\";\n\n      for (var index = 0; index < 5; index++) {\n        var digit = Math.floor(Math.random() * 10);\n        code += digit + \"\";\n      } //Console.log(code);\n\n\n      return code;\n    }\n\n    return generateCode;\n  }();\n\n  _proto.done = function () {\n    function done() {\n      var event = {\n        name: this.name,\n        city: this.city,\n        country: this.country,\n        picture: 'img/TL.jpg',\n        from: this.from,\n        to: this.to,\n        webpage: this.webpage,\n        credits: this.credits,\n        about: this.about,\n        claims: 0,\n        code: this.generateCode(),\n        claimed: 0,\n        winner: null\n      };\n      Events.insert(event);\n      this.$state.go(\"tab.events\");\n    }\n\n    return done;\n  }();\n\n  return NewEventCtrl;\n}(Controller);\n\nNewEventCtrl.$name = 'NewEventCtrl';\nNewEventCtrl.$inject = ['$state', '$ionicPopup', '$log'];\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"filters\":{\"calendar.filter.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/scripts/filters/calendar.filter.js                                                                           //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar module1 = module;\nmodule1.export({\n  \"default\": function () {\n    return CalendarFilter;\n  }\n});\nvar Moment;\nmodule1.watch(require(\"moment\"), {\n  \"default\": function (v) {\n    Moment = v;\n  }\n}, 0);\nvar Filter;\nmodule1.watch(require(\"angular-ecmascript/module-helpers\"), {\n  Filter: function (v) {\n    Filter = v;\n  }\n}, 1);\n\nvar CalendarFilter =\n/*#__PURE__*/\nfunction (_Filter) {\n  (0, _inheritsLoose2.default)(CalendarFilter, _Filter);\n\n  function CalendarFilter() {\n    return _Filter.apply(this, arguments) || this;\n  }\n\n  var _proto = CalendarFilter.prototype;\n\n  _proto.filter = function () {\n    function filter(time) {\n      if (!time) return;\n      return Moment(time).calendar(null, {\n        lastDay: '[Yesterday]',\n        sameDay: 'LT',\n        lastWeek: 'dddd',\n        sameElse: 'DD/MM/YY'\n      });\n    }\n\n    return filter;\n  }();\n\n  return CalendarFilter;\n}(Filter);\n\nCalendarFilter.$name = 'calendar';\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"routes.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/scripts/routes.js                                                                                            //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar module1 = module;\nmodule1.export({\n  \"default\": function () {\n    return RoutesConfig;\n  }\n});\nvar Config, Runner;\nmodule1.watch(require(\"angular-ecmascript/module-helpers\"), {\n  Config: function (v) {\n    Config = v;\n  },\n  Runner: function (v) {\n    Runner = v;\n  }\n}, 0);\nvar eventsTemplateUrl;\nmodule1.watch(require(\"../templates/events.html\"), {\n  \"default\": function (v) {\n    eventsTemplateUrl = v;\n  }\n}, 1);\nvar newEventTemplateUrl;\nmodule1.watch(require(\"../templates/newEvent.html\"), {\n  \"default\": function (v) {\n    newEventTemplateUrl = v;\n  }\n}, 2);\nvar editEventTemplateUrl;\nmodule1.watch(require(\"../templates/editEvent.html\"), {\n  \"default\": function (v) {\n    editEventTemplateUrl = v;\n  }\n}, 3);\nvar tabsTemplateUrl;\nmodule1.watch(require(\"../templates/tabs.html\"), {\n  \"default\": function (v) {\n    tabsTemplateUrl = v;\n  }\n}, 4);\n\nvar RoutesConfig =\n/*#__PURE__*/\nfunction (_Config) {\n  (0, _inheritsLoose2.default)(RoutesConfig, _Config);\n\n  function RoutesConfig() {\n    return _Config.apply(this, arguments) || this;\n  }\n\n  var _proto = RoutesConfig.prototype;\n\n  _proto.configure = function () {\n    function configure() {\n      this.$stateProvider.state('tab', {\n        url: '/tab',\n        \"abstract\": true,\n        templateUrl: tabsTemplateUrl\n      }).state('tab.events', {\n        url: '/events',\n        views: {\n          'tab-events': {\n            templateUrl: eventsTemplateUrl,\n            controller: 'EventsCtrl as events'\n          }\n        }\n      }).state('tab.newEvent', {\n        url: '/newEvent',\n        views: {\n          'tab-events': {\n            templateUrl: newEventTemplateUrl,\n            controller: 'NewEventCtrl as newEvent'\n          }\n        }\n      }).state('tab.editEvent', {\n        url: '/editEvent',\n        views: {\n          'tab-events': {\n            templateUrl: editEventTemplateUrl,\n            controller: 'EditEventCtrl as editEvent'\n          }\n        }\n      });\n      this.$urlRouterProvider.otherwise('tab/events');\n    }\n\n    return configure;\n  }();\n\n  return RoutesConfig;\n}(Config);\n\nRoutesConfig.$inject = ['$stateProvider', '$urlRouterProvider'];\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}}},\"lib\":{\"collections.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// lib/collections.js                                                                                                  //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.export({\n  Events: function () {\n    return Events;\n  }\n});\nvar Mongo;\nmodule.watch(require(\"meteor/mongo\"), {\n  Mongo: function (v) {\n    Mongo = v;\n  }\n}, 0);\nvar Events = new Mongo.Collection('events');\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"semantic\":{\"tasks\":{\"config\":{\"admin\":{\"templates\":{\"component-package.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/config/admin/templates/component-package.js                                                          //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nPackage.describe({\n  name: 'semantic:ui-{component}',\n  summary: 'Semantic UI - {Component}: Single component release',\n  version: '{version}',\n  git: 'git://github.com/Semantic-Org/UI-{Component}.git'\n});\nPackage.onUse(function (api) {\n  api.versionsFrom('1.0');\n  api.addFiles([{\n    files: files\n  }], 'client');\n});\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"css-package.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/config/admin/templates/css-package.js                                                                //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar where = 'client' // Adds files only to the client\n;\nPackage.describe({\n  name: 'semantic:ui-css',\n  summary: 'Semantic UI - CSS Release of Semantic UI',\n  version: '{version}',\n  git: 'git://github.com/Semantic-Org/Semantic-UI-CSS.git'\n});\nPackage.onUse(function (api) {\n  api.versionsFrom('1.0');\n  api.use('jquery', 'client');\n  api.addFiles([// icons\n  'themes/default/assets/fonts/icons.eot', 'themes/default/assets/fonts/icons.svg', 'themes/default/assets/fonts/icons.ttf', 'themes/default/assets/fonts/icons.woff', 'themes/default/assets/fonts/icons.woff2', // flags\n  'themes/default/assets/images/flags.png', // release\n  'semantic.css', 'semantic.js'], 'client');\n});\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"less-package.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/config/admin/templates/less-package.js                                                               //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar where = 'client' // Adds files only to the client\n;\nPackage.describe({\n  name: 'semantic:ui',\n  summary: 'Semantic UI - LESS Release of Semantic UI',\n  version: '{version}',\n  git: 'git://github.com/Semantic-Org/Semantic-UI-LESS.git'\n});\nPackage.onUse(function (api) {\n  api.versionsFrom('1.0');\n  api.use('less', 'client');\n  api.addFiles([{\n    files: files\n  }], 'client');\n});\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"github.js\":function(require,exports,module,__filename,__dirname){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/config/admin/github.js                                                                               //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n          GitHub Login\n*******************************/\n\n/*\n  Logs into GitHub using OAuth\n*/\nvar fs = require('fs'),\n    path = require('path'),\n    githubAPI = require('github'),\n    // stores oauth info for GitHub API\noAuthConfig = path.join(__dirname, 'oauth.js'),\n    oAuth = fs.existsSync(oAuthConfig) ? require(oAuthConfig) : false,\n    github;\n\nif (!oAuth) {\n  console.error('Must add oauth token for GitHub in tasks/config/admin/oauth.js');\n}\n\ngithub = new githubAPI({\n  version: '3.0.0',\n  debug: true,\n  protocol: 'https',\n  timeout: 5000\n});\ngithub.authenticate({\n  type: 'oauth',\n  token: oAuth.token\n});\nmodule.exports = github;\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"oauth.example.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/config/admin/oauth.example.js                                                                        //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*\n Used to import GitHub Auth Token\n To Automate GitHub Updates\n*/\nmodule.exports = {\n  token: 'AN-OAUTH2-TOKEN',\n  username: 'github-username',\n  name: 'Your Name',\n  email: 'user@email.com'\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"release.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/config/admin/release.js                                                                              //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n        Release Settings\n*******************************/\n// release settings\nmodule.exports = {\n  // path to components for repos\n  source: './dist/components/',\n  // modified asset paths for component repos\n  paths: {\n    source: '../themes/default/assets/',\n    output: 'assets/'\n  },\n  templates: {\n    bower: './tasks/config/admin/templates/bower.json',\n    composer: './tasks/config/admin/templates/composer.json',\n    \"package\": './tasks/config/admin/templates/package.json',\n    meteor: {\n      css: './tasks/config/admin/templates/css-package.js',\n      component: './tasks/config/admin/templates/component-package.js',\n      less: './tasks/config/admin/templates/less-package.js'\n    },\n    readme: './tasks/config/admin/templates/README.md',\n    notes: './RELEASE-NOTES.md'\n  },\n  org: 'Semantic-Org',\n  repo: 'Semantic-UI',\n  // files created for package managers\n  files: {\n    composer: 'composer.json',\n    config: 'semantic.json',\n    npm: 'package.json',\n    meteor: 'package.js'\n  },\n  // root name for distribution repos\n  distRepoRoot: 'Semantic-UI-',\n  // root name for single component repos\n  componentRepoRoot: 'UI-',\n  // root name for package managers\n  packageRoot: 'semantic-ui-',\n  // root path to repos\n  outputRoot: '../repos/',\n  homepage: 'http://www.semantic-ui.com',\n  // distributions that get separate repos\n  distributions: ['LESS', 'CSS'],\n  // components that get separate repositories for bower/npm\n  components: ['accordion', 'ad', 'api', 'breadcrumb', 'button', 'card', 'checkbox', 'comment', 'container', 'dimmer', 'divider', 'dropdown', 'embed', 'feed', 'flag', 'form', 'grid', 'header', 'icon', 'image', 'input', 'item', 'label', 'list', 'loader', 'menu', 'message', 'modal', 'nag', 'popup', 'progress', 'rail', 'rating', 'reset', 'reveal', 'search', 'segment', 'shape', 'sidebar', 'site', 'statistic', 'step', 'sticky', 'tab', 'table', 'transition', 'visibility']\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"npm\":{\"gulpfile.js\":function(require){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/config/npm/gulpfile.js                                                                               //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n            Set-up\n*******************************/\nvar gulp = require('gulp-help')(require('gulp')),\n    // read user config to know what task to load\nconfig = require('./tasks/config/user'),\n    // watch changes\nwatch = require('./tasks/watch'),\n    // build all files\nbuild = require('./tasks/build'),\n    buildJS = require('./tasks/build/javascript'),\n    buildCSS = require('./tasks/build/css'),\n    buildAssets = require('./tasks/build/assets'),\n    // utility\nclean = require('./tasks/clean'),\n    version = require('./tasks/version'),\n    // docs tasks\nserveDocs = require('./tasks/docs/serve'),\n    buildDocs = require('./tasks/docs/build'),\n    // rtl\nbuildRTL = require('./tasks/rtl/build'),\n    watchRTL = require('./tasks/rtl/watch');\n/*******************************\n             Tasks\n*******************************/\n\n\ngulp.task('default', false, ['watch']);\ngulp.task('watch', 'Watch for site/theme changes', watch);\ngulp.task('build', 'Builds all files from source', build);\ngulp.task('build-javascript', 'Builds all javascript from source', buildJS);\ngulp.task('build-css', 'Builds all css from source', buildCSS);\ngulp.task('build-assets', 'Copies all assets from source', buildAssets);\ngulp.task('clean', 'Clean dist folder', clean);\ngulp.task('version', 'Displays current version of Semantic', version);\n/*--------------\n      Docs\n---------------*/\n\n/*\n  Lets you serve files to a local documentation instance\n  https://github.com/Semantic-Org/Semantic-UI-Docs/\n*/\n\ngulp.task('serve-docs', 'Serve file changes to SUI Docs', serveDocs);\ngulp.task('build-docs', 'Build all files and add to SUI Docs', buildDocs);\n/*--------------\n      RTL\n---------------*/\n\nif (config.rtl) {\n  gulp.task('watch-rtl', 'Watch files as RTL', watchRTL);\n  gulp.task('build-rtl', 'Build all files as RTL', buildRTL);\n}\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"project\":{\"config.js\":function(require,exports,module,__filename,__dirname){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/config/project/config.js                                                                             //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\n/*******************************\n            Set-up\n*******************************/\nvar extend = require('extend'),\n    fs = require('fs'),\n    path = require('path'),\n    defaults = require('../defaults');\n/*******************************\n            Exports\n*******************************/\n\n\nmodule.exports = {\n  getPath: function (file, directory) {\n    var configPath,\n        walk = function (directory) {\n      var nextDirectory = path.resolve(path.join(directory, path.sep, '..')),\n          currentPath = path.normalize(path.join(directory, file));\n\n      if (fs.existsSync(currentPath)) {\n        // found file\n        configPath = path.normalize(directory);\n        return;\n      } else {\n        // reached file system root, let's stop\n        if (nextDirectory == directory) {\n          return;\n        } // otherwise recurse\n\n\n        walk(nextDirectory, file);\n      }\n    }; // start walk from outside require-dot-files directory\n\n\n    file = file || defaults.files.config;\n    directory = directory || path.join(__dirname, path.sep, '..');\n    walk(directory);\n    return configPath || '';\n  },\n  // adds additional derived values to a config object\n  addDerivedValues: function (config) {\n    config = config || extend(false, {}, defaults);\n    /*--------------\n       File Paths\n    ---------------*/\n\n    var configPath = this.getPath(),\n        sourcePaths = {},\n        outputPaths = {},\n        folder; // resolve paths (config location + base + path)\n\n    for (folder in meteorBabelHelpers.sanitizeForInObject(config.paths.source)) {\n      if (config.paths.source.hasOwnProperty(folder)) {\n        sourcePaths[folder] = path.resolve(path.join(configPath, config.base, config.paths.source[folder]));\n      }\n    }\n\n    for (folder in meteorBabelHelpers.sanitizeForInObject(config.paths.output)) {\n      if (config.paths.output.hasOwnProperty(folder)) {\n        outputPaths[folder] = path.resolve(path.join(configPath, config.base, config.paths.output[folder]));\n      }\n    } // set config paths to full paths\n\n\n    config.paths.source = sourcePaths;\n    config.paths.output = outputPaths; // resolve \"clean\" command path\n\n    config.paths.clean = path.resolve(path.join(configPath, config.base, config.paths.clean));\n    /*--------------\n        CSS URLs\n    ---------------*/\n    // determine asset paths in css by finding relative path between themes and output\n    // force forward slashes\n\n    config.paths.assets = {\n      source: '../../themes',\n      // source asset path is always the same\n      uncompressed: './' + path.relative(config.paths.output.uncompressed, config.paths.output.themes).replace(/\\\\/g, '/'),\n      compressed: './' + path.relative(config.paths.output.compressed, config.paths.output.themes).replace(/\\\\/g, '/'),\n      packaged: './' + path.relative(config.paths.output.packaged, config.paths.output.themes).replace(/\\\\/g, '/')\n    };\n    /*--------------\n       Permission\n    ---------------*/\n\n    if (config.permission) {\n      config.hasPermissions = true;\n    } else {\n      // pass blank object to avoid causing errors\n      config.permission = {};\n      config.hasPermissions = false;\n    }\n    /*--------------\n         Globs\n    ---------------*/\n\n\n    if (!config.globs) {\n      config.globs = {};\n    } // remove duplicates from component array\n\n\n    if (config.components instanceof Array) {\n      config.components = config.components.filter(function (component, index) {\n        return config.components.indexOf(component) == index;\n      });\n    } // takes component object and creates file glob matching selected components\n\n\n    config.globs.components = (0, _typeof2.default)(config.components) == 'object' ? config.components.length > 1 ? '{' + config.components.join(',') + '}' : config.components[0] : '{' + defaults.components.join(',') + '}';\n    return config;\n  }\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"install.js\":function(require,exports,module,__filename,__dirname){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/config/project/install.js                                                                            //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n            Set-up\n*******************************/\nvar fs = require('fs'),\n    path = require('path'),\n    defaults = require('../defaults'),\n    release = require('./release'),\n    requireDotFile = require('require-dot-file');\n/*******************************\n          When to Ask\n*******************************/\n\n/* Preconditions for install questions */\n\n\nvar when = {\n  // path\n  changeRoot: function (questions) {\n    return questions.useRoot !== undefined && questions.useRoot !== true;\n  },\n  // permissions\n  changePermissions: function (questions) {\n    return questions.changePermissions && questions.changePermissions === true;\n  },\n  // install\n  hasConfig: function () {\n    return requireDotFile('semantic.json', process.cwd());\n  },\n  allowOverwrite: function (questions) {\n    return questions.overwrite === undefined || questions.overwrite == 'yes';\n  },\n  notAuto: function (questions) {\n    return questions.install !== 'auto' && (questions.overwrite === undefined || questions.overwrite == 'yes');\n  },\n  custom: function (questions) {\n    return questions.install === 'custom' && (questions.overwrite === undefined || questions.overwrite == 'yes');\n  },\n  express: function (questions) {\n    return questions.install === 'express' && (questions.overwrite === undefined || questions.overwrite == 'yes');\n  },\n  // customize\n  customize: function (questions) {\n    return questions.customize === true;\n  },\n  primaryColor: function (questions) {\n    return questions.primaryColor;\n  },\n  secondaryColor: function (questions) {\n    return questions.secondaryColor;\n  }\n};\n/*******************************\n        Response Filters\n*******************************/\n\n/* Filters to user input from install questions */\n\nvar filter = {\n  removeTrailingSlash: function (path) {\n    return path.replace(/(\\/$|\\\\$)+/mg, '');\n  }\n};\n/*******************************\n          Configuration\n*******************************/\n\nmodule.exports = {\n  // check whether install is setup\n  isSetup: function () {\n    return when.hasConfig();\n  },\n  // detect whether there is a semantic.json configuration and that the auto-install option is set to true\n  shouldAutoInstall: function () {\n    var config = when.hasConfig();\n    return config['autoInstall'];\n  },\n  // checks if files are in a PM directory\n  getPackageManager: function (directory) {\n    var // returns last matching result (avoid sub-module detection)\n    walk = function (directory) {\n      var pathArray = directory.split(path.sep),\n          folder = pathArray[pathArray.length - 1],\n          nextDirectory = path.join(directory, path.sep, '..');\n\n      if (folder == 'bower_components') {\n        return {\n          name: 'Bower',\n          root: nextDirectory\n        };\n      } else if (folder == 'node_modules') {\n        return {\n          name: 'NPM',\n          root: nextDirectory\n        };\n      } else if (folder == 'composer') {\n        return {\n          name: 'Composer',\n          root: nextDirectory\n        };\n      }\n\n      if (path.resolve(directory) == path.resolve(nextDirectory)) {\n        return false;\n      } // recurse downward\n\n\n      return walk(nextDirectory);\n    }; // start walk from current directory if none specified\n\n\n    directory = directory || __dirname + path.sep;\n    return walk(directory);\n  },\n  // checks if files is PMed submodule\n  isSubModule: function (directory) {\n    var moduleFolders = 0,\n        walk = function (directory) {\n      var pathArray = directory.split(path.sep),\n          folder = pathArray[pathArray.length - 2],\n          nextDirectory = path.join(directory, path.sep, '..');\n\n      if (folder == 'bower_components') {\n        moduleFolders++;\n      } else if (folder == 'node_modules') {\n        moduleFolders++;\n      } else if (folder == 'composer') {\n        moduleFolders++;\n      }\n\n      if (path.resolve(directory) == path.resolve(nextDirectory)) {\n        return moduleFolders > 1;\n      } // recurse downward\n\n\n      return walk(nextDirectory);\n    }; // start walk from current directory if none specified\n\n\n    directory = directory || __dirname + path.sep;\n    return walk(directory);\n  },\n  createJSON: function (answers) {\n    var json = {\n      paths: {\n        source: {},\n        output: {}\n      }\n    }; // add components\n\n    if (answers.components) {\n      json.components = answers.components;\n    } // add rtl choice\n\n\n    if (answers.rtl) {\n      json.rtl = answers.rtl;\n    } // add permissions\n\n\n    if (answers.permission) {\n      json.permission = answers.permission;\n    } // add path to semantic\n\n\n    if (answers.semanticRoot) {\n      json.base = path.normalize(answers.semanticRoot);\n    } // record version number to avoid re-installing on same version\n\n\n    json.version = release.version; // add dist folder paths\n\n    if (answers.dist) {\n      answers.dist = path.normalize(answers.dist);\n      json.paths.output = {\n        packaged: path.normalize(answers.dist + '/'),\n        uncompressed: path.normalize(answers.dist + '/components/'),\n        compressed: path.normalize(answers.dist + '/components/'),\n        themes: path.normalize(answers.dist + '/themes/')\n      };\n    } // add site path\n\n\n    if (answers.site) {\n      json.paths.source.site = path.normalize(answers.site + '/');\n    }\n\n    if (answers.packaged) {\n      json.paths.output.packaged = path.normalize(answers.packaged + '/');\n    }\n\n    if (answers.compressed) {\n      json.paths.output.compressed = path.normalize(answers.compressed + '/');\n    }\n\n    if (answers.uncompressed) {\n      json.paths.output.uncompressed = path.normalize(answers.uncompressed + '/');\n    }\n\n    return json;\n  },\n  // files cleaned up after install\n  setupFiles: ['./src/theme.config.example', './semantic.json.example', './src/_site'],\n  regExp: {\n    // used to match siteFolder variable in theme.less\n    siteVariable: /@siteFolder .*\\'(.*)/mg\n  },\n  // source paths (when installing)\n  source: {\n    config: './semantic.json.example',\n    definitions: './src/definitions',\n    gulpFile: './gulpfile.js',\n    lessImport: './src/semantic.less',\n    site: './src/_site',\n    tasks: './tasks',\n    themeConfig: './src/theme.config.example',\n    themeImport: './src/theme.less',\n    themes: './src/themes',\n    defaultTheme: './src/themes/default',\n    userGulpFile: './tasks/config/npm/gulpfile.js'\n  },\n  // expected final filenames\n  files: {\n    config: 'semantic.json',\n    lessImport: 'src/semantic.less',\n    site: 'src/site',\n    themeConfig: 'src/theme.config',\n    themeImport: 'src/theme.less'\n  },\n  // folder paths to files relative to root\n  folders: {\n    config: './',\n    definitions: 'src/definitions/',\n    lessImport: 'src/',\n    modules: 'node_modules/',\n    site: 'src/site/',\n    tasks: 'tasks/',\n    themeConfig: 'src/',\n    themeImport: 'src/',\n    themes: 'src/themes/',\n    defaultTheme: 'default/' // only path that is relative to another directory and not root\n\n  },\n  // questions asked during install\n  questions: {\n    root: [{\n      type: 'list',\n      name: 'useRoot',\n      message: '{packageMessage} Is this your project folder? {root}',\n      choices: [{\n        name: 'Yes',\n        value: true\n      }, {\n        name: 'No, let me specify',\n        value: false\n      }]\n    }, {\n      type: 'input',\n      name: 'customRoot',\n      message: 'Please enter the absolute path to your project root',\n      \"default\": '/my/project/path',\n      when: when.changeRoot\n    }, {\n      type: 'input',\n      name: 'semanticRoot',\n      message: 'Where should we put Semantic UI inside your project?',\n      \"default\": 'semantic/'\n    }],\n    setup: [{\n      type: 'list',\n      name: 'overwrite',\n      message: 'It looks like you have a semantic.json file already.',\n      when: when.hasConfig,\n      choices: [{\n        name: 'Yes, extend my current settings.',\n        value: 'yes'\n      }, {\n        name: 'Skip install',\n        value: 'no'\n      }]\n    }, {\n      type: 'list',\n      name: 'install',\n      message: 'Set-up Semantic UI',\n      when: when.allowOverwrite,\n      choices: [{\n        name: 'Automatic (Use default locations and all components)',\n        value: 'auto'\n      }, {\n        name: 'Express (Set components and output folder)',\n        value: 'express'\n      }, {\n        name: 'Custom (Customize all src/dist values)',\n        value: 'custom'\n      }]\n    }, {\n      type: 'checkbox',\n      name: 'components',\n      message: 'What components should we include in the package?',\n      // duplicated manually from tasks/defaults.js with additional property\n      choices: [{\n        name: \"reset\",\n        checked: true\n      }, {\n        name: \"site\",\n        checked: true\n      }, {\n        name: \"button\",\n        checked: true\n      }, {\n        name: \"container\",\n        checked: true\n      }, {\n        name: \"divider\",\n        checked: true\n      }, {\n        name: \"flag\",\n        checked: true\n      }, {\n        name: \"header\",\n        checked: true\n      }, {\n        name: \"icon\",\n        checked: true\n      }, {\n        name: \"image\",\n        checked: true\n      }, {\n        name: \"input\",\n        checked: true\n      }, {\n        name: \"label\",\n        checked: true\n      }, {\n        name: \"list\",\n        checked: true\n      }, {\n        name: \"loader\",\n        checked: true\n      }, {\n        name: \"rail\",\n        checked: true\n      }, {\n        name: \"reveal\",\n        checked: true\n      }, {\n        name: \"segment\",\n        checked: true\n      }, {\n        name: \"step\",\n        checked: true\n      }, {\n        name: \"breadcrumb\",\n        checked: true\n      }, {\n        name: \"form\",\n        checked: true\n      }, {\n        name: \"grid\",\n        checked: true\n      }, {\n        name: \"menu\",\n        checked: true\n      }, {\n        name: \"message\",\n        checked: true\n      }, {\n        name: \"table\",\n        checked: true\n      }, {\n        name: \"ad\",\n        checked: true\n      }, {\n        name: \"card\",\n        checked: true\n      }, {\n        name: \"comment\",\n        checked: true\n      }, {\n        name: \"feed\",\n        checked: true\n      }, {\n        name: \"item\",\n        checked: true\n      }, {\n        name: \"statistic\",\n        checked: true\n      }, {\n        name: \"accordion\",\n        checked: true\n      }, {\n        name: \"checkbox\",\n        checked: true\n      }, {\n        name: \"dimmer\",\n        checked: true\n      }, {\n        name: \"dropdown\",\n        checked: true\n      }, {\n        name: \"embed\",\n        checked: true\n      }, {\n        name: \"modal\",\n        checked: true\n      }, {\n        name: \"nag\",\n        checked: true\n      }, {\n        name: \"popup\",\n        checked: true\n      }, {\n        name: \"progress\",\n        checked: true\n      }, {\n        name: \"rating\",\n        checked: true\n      }, {\n        name: \"search\",\n        checked: true\n      }, {\n        name: \"shape\",\n        checked: true\n      }, {\n        name: \"sidebar\",\n        checked: true\n      }, {\n        name: \"sticky\",\n        checked: true\n      }, {\n        name: \"tab\",\n        checked: true\n      }, {\n        name: \"transition\",\n        checked: true\n      }, {\n        name: \"api\",\n        checked: true\n      }, {\n        name: \"form\",\n        checked: true\n      }, {\n        name: \"state\",\n        checked: true\n      }, {\n        name: \"visibility\",\n        checked: true\n      }],\n      when: when.notAuto\n    }, {\n      type: 'list',\n      name: 'changePermissions',\n      when: when.notAuto,\n      message: 'Should we set permissions on outputted files?',\n      choices: [{\n        name: 'No',\n        value: false\n      }, {\n        name: 'Yes',\n        value: true\n      }]\n    }, {\n      type: 'input',\n      name: 'permission',\n      message: 'What octal file permission should outputted files receive?',\n      \"default\": defaults.permission,\n      when: when.changePermissions\n    }, {\n      type: 'list',\n      name: 'rtl',\n      message: 'Do you use a RTL (Right-To-Left) language?',\n      when: when.notAuto,\n      choices: [{\n        name: 'No',\n        value: false\n      }, {\n        name: 'Yes',\n        value: true\n      }, {\n        name: 'Build Both',\n        value: 'both'\n      }]\n    }, {\n      type: 'input',\n      name: 'dist',\n      message: 'Where should we output Semantic UI?',\n      \"default\": defaults.paths.output.packaged,\n      filter: filter.removeTrailingSlash,\n      when: when.express\n    }, {\n      type: 'input',\n      name: 'site',\n      message: 'Where should we put your site folder?',\n      \"default\": defaults.paths.source.site,\n      filter: filter.removeTrailingSlash,\n      when: when.custom\n    }, {\n      type: 'input',\n      name: 'packaged',\n      message: 'Where should we output a packaged version?',\n      \"default\": defaults.paths.output.packaged,\n      filter: filter.removeTrailingSlash,\n      when: when.custom\n    }, {\n      type: 'input',\n      name: 'compressed',\n      message: 'Where should we output compressed components?',\n      \"default\": defaults.paths.output.compressed,\n      filter: filter.removeTrailingSlash,\n      when: when.custom\n    }, {\n      type: 'input',\n      name: 'uncompressed',\n      message: 'Where should we output uncompressed components?',\n      \"default\": defaults.paths.output.uncompressed,\n      filter: filter.removeTrailingSlash,\n      when: when.custom\n    }],\n    cleanup: [{\n      type: 'list',\n      name: 'cleanup',\n      message: 'Should we remove set-up files?',\n      choices: [{\n        name: 'Yes (re-install will require redownloading semantic).',\n        value: 'yes'\n      }, {\n        name: 'No Thanks',\n        value: 'no'\n      }]\n    }, {\n      type: 'list',\n      name: 'build',\n      message: 'Do you want to build Semantic now?',\n      choices: [{\n        name: 'Yes',\n        value: 'yes'\n      }, {\n        name: 'No',\n        value: 'no'\n      }]\n    }],\n    site: [{\n      type: 'list',\n      name: 'customize',\n      message: 'You have not yet customized your site, can we help you do that?',\n      choices: [{\n        name: 'Yes, ask me a few questions',\n        value: true\n      }, {\n        name: 'No I\\'ll do it myself',\n        value: false\n      }]\n    }, {\n      type: 'list',\n      name: 'headerFont',\n      message: 'Select your header font',\n      choices: [{\n        name: 'Helvetica Neue, Arial, sans-serif',\n        value: 'Helvetica Neue, Arial, sans-serif;'\n      }, {\n        name: 'Lato (Google Fonts)',\n        value: 'Lato'\n      }, {\n        name: 'Open Sans (Google Fonts)',\n        value: 'Open Sans'\n      }, {\n        name: 'Source Sans Pro (Google Fonts)',\n        value: 'Source Sans Pro'\n      }, {\n        name: 'Droid (Google Fonts)',\n        value: 'Droid'\n      }, {\n        name: 'I\\'ll choose on my own',\n        value: false\n      }],\n      when: when.customize\n    }, {\n      type: 'list',\n      name: 'pageFont',\n      message: 'Select your page font',\n      choices: [{\n        name: 'Helvetica Neue, Arial, sans-serif',\n        value: 'Helvetica Neue, Arial, sans-serif;'\n      }, {\n        name: 'Lato (Import from Google Fonts)',\n        value: 'Lato'\n      }, {\n        name: 'Open Sans (Import from Google Fonts)',\n        value: 'Open Sans'\n      }, {\n        name: 'Source Sans Pro (Import from Google Fonts)',\n        value: 'Source Sans Pro'\n      }, {\n        name: 'Droid (Google Fonts)',\n        value: 'Droid'\n      }, {\n        name: 'I\\'ll choose on my own',\n        value: false\n      }],\n      when: when.customize\n    }, {\n      type: 'list',\n      name: 'fontSize',\n      message: 'Select your base font size',\n      \"default\": '14px',\n      choices: [{\n        name: '12px'\n      }, {\n        name: '13px'\n      }, {\n        name: '14px (Recommended)',\n        value: '14px'\n      }, {\n        name: '15px'\n      }, {\n        name: '16px'\n      }, {\n        name: 'I\\'ll choose on my own',\n        value: false\n      }],\n      when: when.customize\n    }, {\n      type: 'list',\n      name: 'primaryColor',\n      message: 'Select the closest name for your primary brand color',\n      \"default\": '14px',\n      choices: [{\n        name: 'Blue'\n      }, {\n        name: 'Green'\n      }, {\n        name: 'Orange'\n      }, {\n        name: 'Pink'\n      }, {\n        name: 'Purple'\n      }, {\n        name: 'Red'\n      }, {\n        name: 'Teal'\n      }, {\n        name: 'Yellow'\n      }, {\n        name: 'Black'\n      }, {\n        name: 'I\\'ll choose on my own',\n        value: false\n      }],\n      when: when.customize\n    }, {\n      type: 'input',\n      name: 'PrimaryHex',\n      message: 'Enter a hexcode for your primary brand color',\n      when: when.primaryColor\n    }, {\n      type: 'list',\n      name: 'secondaryColor',\n      message: 'Select the closest name for your secondary brand color',\n      \"default\": '14px',\n      choices: [{\n        name: 'Blue'\n      }, {\n        name: 'Green'\n      }, {\n        name: 'Orange'\n      }, {\n        name: 'Pink'\n      }, {\n        name: 'Purple'\n      }, {\n        name: 'Red'\n      }, {\n        name: 'Teal'\n      }, {\n        name: 'Yellow'\n      }, {\n        name: 'Black'\n      }, {\n        name: 'I\\'ll choose on my own',\n        value: false\n      }],\n      when: when.customize\n    }, {\n      type: 'input',\n      name: 'secondaryHex',\n      message: 'Enter a hexcode for your secondary brand color',\n      when: when.secondaryColor\n    }]\n  },\n  settings: {\n    /* Rename Files */\n    rename: {\n      json: {\n        extname: '.json'\n      }\n    },\n\n    /* Copy Install Folders */\n    wrench: {\n      // overwrite existing files update & install (default theme / definition)\n      overwrite: {\n        forceDelete: true,\n        excludeHiddenUnix: true,\n        preserveFiles: false\n      },\n      // only create files that don't exist (site theme update)\n      merge: {\n        forceDelete: false,\n        excludeHiddenUnix: true,\n        preserveFiles: true\n      }\n    }\n  }\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"release.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/config/project/release.js                                                                            //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n         Release Config\n*******************************/\nvar requireDotFile = require('require-dot-file'),\n    config,\n    npmPackage,\n    version;\n/*******************************\n         Derived Values\n*******************************/\n\n\ntry {\n  config = requireDotFile('semantic.json');\n} catch (error) {}\n\ntry {\n  npmPackage = require('../../../package.json');\n} catch (error) {\n  // generate fake package\n  npmPackage = {\n    name: 'Unknown',\n    version: 'x.x'\n  };\n} // looks for version in config or package.json (whichever is available)\n\n\nversion = npmPackage && npmPackage.version !== undefined && npmPackage.name == 'semantic-ui' ? npmPackage.version : config.version;\n/*******************************\n             Export\n*******************************/\n\nmodule.exports = {\n  title: 'Semantic UI',\n  repository: 'https://github.com/Semantic-Org/Semantic-UI',\n  url: 'http://www.semantic-ui.com/',\n  banner: '' + ' /*' + '\\n' + ' * # <%= title %> - <%= version %>' + '\\n' + ' * <%= repository %>' + '\\n' + ' * <%= url %>' + '\\n' + ' *' + '\\n' + ' * Copyright 2014 Contributors' + '\\n' + ' * Released under the MIT license' + '\\n' + ' * http://opensource.org/licenses/MIT' + '\\n' + ' *' + '\\n' + ' */' + '\\n',\n  version: version\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"defaults.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/config/defaults.js                                                                                   //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n          Default Paths\n*******************************/\nmodule.exports = {\n  // base path added to all other paths\n  base: '',\n  // base path when installed with npm\n  pmRoot: 'semantic/',\n  // octal permission for output files, i.e. 644 (false does not adjust)\n  permission: 744,\n  // whether to generate rtl files\n  rtl: false,\n  // file paths\n  files: {\n    config: 'semantic.json',\n    site: 'src/site',\n    theme: 'src/theme.config'\n  },\n  // folder paths\n  paths: {\n    source: {\n      config: 'src/theme.config',\n      definitions: 'src/definitions/',\n      site: 'src/site/',\n      themes: 'src/themes/'\n    },\n    output: {\n      packaged: 'dist/',\n      uncompressed: 'dist/components/',\n      compressed: 'dist/components/',\n      themes: 'dist/themes/'\n    },\n    clean: 'dist/'\n  },\n  // components to include in package\n  components: [// global\n  'reset', 'site', // elements\n  'button', 'container', 'divider', 'flag', 'header', 'icon', 'image', 'input', 'label', 'list', 'loader', 'rail', 'reveal', 'segment', 'step', // collections\n  'breadcrumb', 'form', 'grid', 'menu', 'message', 'table', // views\n  'ad', 'card', 'comment', 'feed', 'item', 'statistic', // modules\n  'accordion', 'checkbox', 'dimmer', 'dropdown', 'embed', 'modal', 'nag', 'popup', 'progress', 'rating', 'search', 'shape', 'sidebar', 'sticky', 'tab', 'transition', // behaviors\n  'api', 'form', 'state', 'visibility'],\n  // whether to load admin tasks\n  admin: false,\n  // globs used for matching file patterns\n  globs: {\n    ignored: '!(*.min|*.map|*.rtl)',\n    ignoredRTL: '!(*.min|*.map)'\n  }\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"docs.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/config/docs.js                                                                                       //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n             Docs\n*******************************/\n\n/* Paths used for \"serve-docs\" and \"build-docs\" tasks */\nmodule.exports = {\n  base: '',\n  globs: {\n    eco: '**/*.html.eco'\n  },\n  paths: {\n    clean: '../docs/out/dist/',\n    source: {\n      config: 'src/theme.config',\n      definitions: 'src/definitions/',\n      site: 'src/site/',\n      themes: 'src/themes/'\n    },\n    output: {\n      examples: '../docs/out/examples/',\n      less: '../docs/out/src/',\n      metadata: '../docs/out/',\n      packaged: '../docs/out/dist/',\n      uncompressed: '../docs/out/dist/components/',\n      compressed: '../docs/out/dist/components/',\n      themes: '../docs/out/dist/themes/'\n    },\n    template: {\n      eco: '../docs/server/documents/'\n    }\n  }\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"tasks.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/config/tasks.js                                                                                      //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar console = require('better-console'),\n    config = require('./user'),\n    release = require('./project/release');\n\nmodule.exports = {\n  banner: release.banner,\n  log: {\n    created: function (file) {\n      return 'Created: ' + file;\n    },\n    modified: function (file) {\n      return 'Modified: ' + file;\n    }\n  },\n  filenames: {\n    concatenatedCSS: 'semantic.css',\n    concatenatedJS: 'semantic.js',\n    concatenatedMinifiedCSS: 'semantic.min.css',\n    concatenatedMinifiedJS: 'semantic.min.js',\n    concatenatedRTLCSS: 'semantic.rtl.css',\n    concatenatedMinifiedRTLCSS: 'semantic.rtl.min.css'\n  },\n  regExp: {\n    comments: {\n      // remove all comments from config files (.variable)\n      variables: {\n        \"in\": /(\\/\\*[\\s\\S]+?\\*\\/+)[\\s\\S]+?\\/\\* End Config \\*\\//,\n        out: '$1'\n      },\n      // add version to first comment\n      license: {\n        \"in\": /(^\\/\\*[\\s\\S]+)(# Semantic UI )([\\s\\S]+?\\*\\/)/,\n        out: '$1$2' + release.version + ' $3'\n      },\n      // adds uniform spacing around comments\n      large: {\n        \"in\": /(\\/\\*\\*\\*\\*[\\s\\S]+?\\*\\/)/mg,\n        out: '\\n\\n$1\\n'\n      },\n      small: {\n        \"in\": /(\\/\\*---[\\s\\S]+?\\*\\/)/mg,\n        out: '\\n$1\\n'\n      },\n      tiny: {\n        \"in\": /(\\/\\* [\\s\\S]+? \\*\\/)/mg,\n        out: '\\n$1'\n      }\n    },\n    theme: /.*(\\/|\\\\)themes(\\/|\\\\).*?(?=(\\/|\\\\))/mg\n  },\n  settings: {\n    /* Remove Files in Clean */\n    del: {\n      silent: true\n    },\n    concatCSS: {\n      rebaseUrls: false\n    },\n\n    /* Comment Banners */\n    header: {\n      title: release.title,\n      version: release.version,\n      repository: release.repository,\n      url: release.url\n    },\n    plumber: {\n      less: {\n        errorHandler: function (error) {\n          var regExp = {\n            variable: /@(\\S.*?)\\s/,\n            theme: /themes[\\/\\\\]+(.*?)[\\/\\\\].*/,\n            element: /[\\/\\\\]([^\\/\\\\*]*)\\.overrides/\n          },\n              theme,\n              element;\n\n          if (error.filename.match(/theme.less/)) {\n            if (error.line == 5) {\n              element = regExp.variable.exec(error.message)[1];\n\n              if (element) {\n                console.error('Missing theme.config value for ', element);\n              }\n\n              console.error('Most likely new UI was added in an update. You will need to add missing elements from theme.config.example');\n            }\n\n            if (error.line == 46) {\n              element = regExp.element.exec(error.message)[1];\n              theme = regExp.theme.exec(error.message)[1];\n              console.error(theme + ' is not an available theme for ' + element);\n            }\n          } else {\n            console.log(error);\n          }\n\n          this.emit('end');\n        }\n      }\n    },\n\n    /* What Browsers to Prefix */\n    prefix: {\n      browsers: ['last 2 versions', '> 1%', 'opera 12.1', 'bb 10', 'android 4']\n    },\n\n    /* File Renames */\n    rename: {\n      minJS: {\n        extname: '.min.js'\n      },\n      minCSS: {\n        extname: '.min.css'\n      },\n      rtlCSS: {\n        extname: '.rtl.css'\n      },\n      rtlMinCSS: {\n        extname: '.rtl.min.css'\n      }\n    },\n\n    /* Minified CSS Concat */\n    minify: {\n      processImport: false,\n      restructuring: false,\n      keepSpecialComments: 1,\n      roundingPrecision: -1\n    },\n\n    /* Minified JS Settings */\n    uglify: {\n      mangle: true,\n      output: {\n        comments: 'some'\n      }\n    },\n\n    /* Minified Concat CSS Settings */\n    concatMinify: {\n      processImport: false,\n      restructuring: false,\n      keepSpecialComments: false,\n      roundingPrecision: -1\n    },\n\n    /* Minified Concat JS */\n    concatUglify: {\n      mangle: true,\n      output: {\n        comments: 'some'\n      }\n    }\n  }\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"user.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/config/user.js                                                                                       //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n             Set-up\n*******************************/\nvar // npm dependencies\nextend = require('extend'),\n    fs = require('fs'),\n    path = require('path'),\n    requireDotFile = require('require-dot-file'),\n    // semantic.json defaults\ndefaults = require('./defaults'),\n    config = require('./project/config'),\n    // Final config object\ngulpConfig = {},\n    // semantic.json settings\nuserConfig;\n/*******************************\n          User Config\n*******************************/\n\n\ntry {\n  // looks for config file across all parent directories\n  userConfig = requireDotFile('semantic.json');\n} catch (error) {\n  if (error.code === 'MODULE_NOT_FOUND') {\n    console.error('No semantic.json config found');\n  }\n} // extend user config with defaults\n\n\ngulpConfig = !userConfig ? extend(true, {}, defaults) : extend(false, {}, defaults, userConfig);\n/*******************************\n       Add Derived Values\n*******************************/\n// adds calculated values\n\nconfig.addDerivedValues(gulpConfig);\n/*******************************\n             Export\n*******************************/\n\nmodule.exports = gulpConfig;\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"admin\":{\"components\":{\"create.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/admin/components/create.js                                                                           //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n     Create Component Repos\n*******************************/\n\n/*\n This will create individual component repositories for each SUI component\n\n  * copy component files from release\n  * create commonjs files as index.js for NPM release\n  * create release notes that filter only items related to component\n  * custom package.json file from template\n  * create bower.json from template\n  * create README from template\n  * create meteor.js file\n*/\nvar gulp = require('gulp'),\n    // node dependencies\nconsole = require('better-console'),\n    del = require('del'),\n    fs = require('fs'),\n    path = require('path'),\n    runSequence = require('run-sequence'),\n    // admin dependencies\nconcatFileNames = require('gulp-concat-filenames'),\n    debug = require('gulp-debug'),\n    flatten = require('gulp-flatten'),\n    git = require('gulp-git'),\n    jsonEditor = require('gulp-json-editor'),\n    plumber = require('gulp-plumber'),\n    rename = require('gulp-rename'),\n    replace = require('gulp-replace'),\n    tap = require('gulp-tap'),\n    util = require('gulp-util'),\n    // config\nconfig = require('../../config/user'),\n    release = require('../../config/admin/release'),\n    project = require('../../config/project/release'),\n    // shorthand\nversion = project.version,\n    output = config.paths.output;\n\nmodule.exports = function (callback) {\n  var stream,\n      index,\n      tasks = [];\n\n  for (index in meteorBabelHelpers.sanitizeForInObject(release.components)) {\n    var component = release.components[index]; // streams... designed to save time and make coding fun...\n\n    (function (component) {\n      var outputDirectory = path.join(release.outputRoot, component),\n          isJavascript = fs.existsSync(output.compressed + component + '.js'),\n          isCSS = fs.existsSync(output.compressed + component + '.css'),\n          capitalizedComponent = component.charAt(0).toUpperCase() + component.slice(1),\n          packageName = release.packageRoot + component,\n          repoName = release.componentRepoRoot + capitalizedComponent,\n          gitURL = 'https://github.com/' + release.org + '/' + repoName + '.git',\n          repoURL = 'https://github.com/' + release.org + '/' + repoName + '/',\n          concatSettings = {\n        newline: '',\n        root: outputDirectory,\n        prepend: \"    '\",\n        append: \"',\"\n      },\n          regExp = {\n        match: {\n          // templated values\n          name: '{component}',\n          titleName: '{Component}',\n          version: '{version}',\n          files: '{files}',\n          // release notes\n          spacedVersions: /(###.*\\n)\\n+(?=###)/gm,\n          spacedLists: /(^- .*\\n)\\n+(?=^-)/gm,\n          trim: /^\\s+|\\s+$/g,\n          unrelatedNotes: new RegExp('^((?!(^.*(' + component + ').*$|###.*)).)*$', 'gmi'),\n          whitespace: /\\n\\s*\\n\\s*\\n/gm,\n          // npm\n          componentExport: /(.*)\\$\\.fn\\.\\w+\\s*=\\s*function\\(([^\\)]*)\\)\\s*{/g,\n          componentReference: '$.fn.' + component,\n          settingsExport: /\\$\\.fn\\.\\w+\\.settings\\s*=/g,\n          settingsReference: /\\$\\.fn\\.\\w+\\.settings/g,\n          trailingComma: /,(?=[^,]*$)/,\n          jQuery: /jQuery/g\n        },\n        replace: {\n          // readme\n          name: component,\n          titleName: capitalizedComponent,\n          // release notes\n          spacedVersions: '',\n          spacedLists: '$1',\n          trim: '',\n          unrelatedNotes: '',\n          whitespace: '\\n\\n',\n          // npm\n          componentExport: 'var _module = module;\\n$1module.exports = function($2) {',\n          componentReference: '_module.exports',\n          settingsExport: 'module.exports.settings =',\n          settingsReference: '_module.exports.settings',\n          jQuery: 'require(\"jquery\")'\n        }\n      },\n          task = {\n        all: component + ' creating',\n        repo: component + ' create repo',\n        bower: component + ' create bower.json',\n        readme: component + ' create README',\n        npm: component + ' create NPM Module',\n        notes: component + ' create release notes',\n        composer: component + ' create composer.json',\n        \"package\": component + ' create package.json',\n        meteor: component + ' create meteor package.js'\n      },\n          // paths to includable assets\n      manifest = {\n        assets: outputDirectory + '/assets/**/' + component + '?(s).*',\n        component: outputDirectory + '/' + component + '+(.js|.css)'\n      }; // copy dist files into output folder adjusting asset paths\n\n      gulp.task(task.repo, false, function () {\n        return gulp.src(release.source + component + '.*').pipe(plumber()).pipe(flatten()).pipe(replace(release.paths.source, release.paths.output)).pipe(gulp.dest(outputDirectory));\n      }); // create npm module\n\n      gulp.task(task.npm, false, function () {\n        return gulp.src(release.source + component + '!(*.min|*.map).js').pipe(plumber()).pipe(flatten()).pipe(replace(regExp.match.componentExport, regExp.replace.componentExport)).pipe(replace(regExp.match.componentReference, regExp.replace.componentReference)).pipe(replace(regExp.match.settingsExport, regExp.replace.settingsExport)).pipe(replace(regExp.match.settingsReference, regExp.replace.settingsReference)).pipe(replace(regExp.match.jQuery, regExp.replace.jQuery)).pipe(rename('index.js')).pipe(gulp.dest(outputDirectory));\n      }); // create readme\n\n      gulp.task(task.readme, false, function () {\n        return gulp.src(release.templates.readme).pipe(plumber()).pipe(flatten()).pipe(replace(regExp.match.name, regExp.replace.name)).pipe(replace(regExp.match.titleName, regExp.replace.titleName)).pipe(gulp.dest(outputDirectory));\n      }); // extend bower.json\n\n      gulp.task(task.bower, false, function () {\n        return gulp.src(release.templates.bower).pipe(plumber()).pipe(flatten()).pipe(jsonEditor(function (bower) {\n          bower.name = packageName;\n          bower.description = capitalizedComponent + ' - Semantic UI';\n\n          if (isJavascript) {\n            if (isCSS) {\n              bower.main = [component + '.js', component + '.css'];\n            } else {\n              bower.main = [component + '.js'];\n            }\n\n            bower.dependencies = {\n              jquery: '>=1.8'\n            };\n          } else {\n            bower.main = [component + '.css'];\n          }\n\n          return bower;\n        })).pipe(gulp.dest(outputDirectory));\n      }); // extend package.json\n\n      gulp.task(task.package, false, function () {\n        return gulp.src(release.templates.package).pipe(plumber()).pipe(flatten()).pipe(jsonEditor(function (npm) {\n          if (isJavascript) {\n            npm.dependencies = {\n              jquery: 'x.x.x'\n            };\n            npm.main = 'index.js';\n          }\n\n          npm.name = packageName;\n\n          if (version) {\n            npm.version = version;\n          }\n\n          npm.title = 'Semantic UI - ' + capitalizedComponent;\n          npm.description = 'Single component release of ' + component;\n          npm.repository = {\n            type: 'git',\n            url: gitURL\n          };\n          return npm;\n        })).pipe(gulp.dest(outputDirectory));\n      }); // extend composer.json\n\n      gulp.task(task.composer, false, function () {\n        return gulp.src(release.templates.composer).pipe(plumber()).pipe(flatten()).pipe(jsonEditor(function (composer) {\n          if (isJavascript) {\n            composer.dependencies = {\n              jquery: 'x.x.x'\n            };\n            composer.main = component + '.js';\n          }\n\n          composer.name = 'semantic/' + component;\n\n          if (version) {\n            composer.version = version;\n          }\n\n          composer.description = 'Single component release of ' + component;\n          return composer;\n        })).pipe(gulp.dest(outputDirectory));\n      }); // create release notes\n\n      gulp.task(task.notes, false, function () {\n        return gulp.src(release.templates.notes).pipe(plumber()).pipe(flatten()) // Remove release notes for lines not mentioning component\n        .pipe(replace(regExp.match.unrelatedNotes, regExp.replace.unrelatedNotes)).pipe(replace(regExp.match.whitespace, regExp.replace.whitespace)).pipe(replace(regExp.match.spacedVersions, regExp.replace.spacedVersions)).pipe(replace(regExp.match.spacedLists, regExp.replace.spacedLists)).pipe(replace(regExp.match.trim, regExp.replace.trim)).pipe(gulp.dest(outputDirectory));\n      }); // Creates meteor package.js\n\n      gulp.task(task.meteor, function () {\n        var filenames = '';\n        return gulp.src(manifest.component).pipe(concatFileNames('empty.txt', concatSettings)).pipe(tap(function (file) {\n          filenames += file.contents;\n        })).on('end', function () {\n          gulp.src(manifest.assets).pipe(concatFileNames('empty.txt', concatSettings)).pipe(tap(function (file) {\n            filenames += file.contents;\n          })).on('end', function () {\n            // remove trailing slash\n            filenames = filenames.replace(regExp.match.trailingComma, '').trim();\n            gulp.src(release.templates.meteor.component).pipe(plumber()).pipe(flatten()).pipe(replace(regExp.match.name, regExp.replace.name)).pipe(replace(regExp.match.titleName, regExp.replace.titleName)).pipe(replace(regExp.match.version, version)).pipe(replace(regExp.match.files, filenames)).pipe(rename(release.files.meteor)).pipe(gulp.dest(outputDirectory));\n          });\n        });\n      }); // synchronous tasks in orchestrator? I think not\n\n      gulp.task(task.all, false, function (callback) {\n        runSequence([task.repo, task.npm, task.bower, task.readme, task.package, task.composer, task.notes, task.meteor], callback);\n      });\n      tasks.push(task.all);\n    })(component);\n  }\n\n  runSequence(tasks, callback);\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"init.js\":function(require,exports,module,__filename,__dirname){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/admin/components/init.js                                                                             //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n          Init Repos\n*******************************/\n\n/*\n\n This task pulls the latest version of each component from GitHub\n\n  * Creates new repo if doesnt exist (locally & GitHub)\n  * Adds remote it doesnt exists\n  * Pulls latest changes from repo\n\n*/\nvar gulp = require('gulp'),\n    // node dependencies\nconsole = require('better-console'),\n    del = require('del'),\n    fs = require('fs'),\n    path = require('path'),\n    git = require('gulp-git'),\n    githubAPI = require('github'),\n    mkdirp = require('mkdirp'),\n    // admin files\ngithub = require('../../config/admin/github.js'),\n    release = require('../../config/admin/release'),\n    project = require('../../config/project/release'),\n    // oAuth configuration for GitHub\noAuth = fs.existsSync(__dirname + '/../../config/admin/oauth.js') ? require('../../config/admin/oauth') : false,\n    // shorthand\nversion = project.version;\n\nmodule.exports = function (callback) {\n  var index = -1,\n      total = release.components.length,\n      timer,\n      stream,\n      stepRepo;\n\n  if (!oAuth) {\n    console.error('Must add oauth token for GitHub in tasks/config/admin/oauth.js');\n    return;\n  } // Do Git commands synchronously per component, to avoid issues\n\n\n  stepRepo = function () {\n    index = index + 1;\n\n    if (index >= total) {\n      callback();\n      return;\n    }\n\n    var component = release.components[index],\n        outputDirectory = path.resolve(release.outputRoot + component),\n        capitalizedComponent = component.charAt(0).toUpperCase() + component.slice(1),\n        repoName = release.componentRepoRoot + capitalizedComponent,\n        gitOptions = {\n      cwd: outputDirectory\n    },\n        pullOptions = {\n      args: '-q',\n      cwd: outputDirectory,\n      quiet: true\n    },\n        resetOptions = {\n      args: '-q --hard',\n      cwd: outputDirectory,\n      quiet: true\n    },\n        gitURL = 'git@github.com:' + release.org + '/' + repoName + '.git',\n        repoURL = 'https://github.com/' + release.org + '/' + repoName + '/',\n        localRepoSetup = fs.existsSync(path.join(outputDirectory, '.git'));\n    console.log('Processing repository: ' + outputDirectory); // create folder if doesn't exist\n\n    if (!fs.existsSync(outputDirectory)) {\n      mkdirp.sync(outputDirectory);\n    } // clean folder\n\n\n    if (release.outputRoot.search('../repos') == 0) {\n      console.info('Cleaning dir', outputDirectory);\n      del.sync([outputDirectory + '**/*'], {\n        silent: true,\n        force: true\n      });\n    } // set-up local repo\n\n\n    function setupRepo() {\n      if (localRepoSetup) {\n        addRemote();\n      } else {\n        initRepo();\n      }\n    }\n\n    function initRepo() {\n      console.info('Initializing repository for ' + component);\n      git.init(gitOptions, function (error) {\n        if (error) {\n          console.error('Error initializing repo', error);\n        }\n\n        addRemote();\n      });\n    }\n\n    function createRepo() {\n      console.info('Creating GitHub repo ' + repoURL);\n      github.repos.createFromOrg({\n        org: release.org,\n        name: repoName,\n        homepage: release.homepage\n      }, function () {\n        setupRepo();\n      });\n    }\n\n    function addRemote() {\n      console.info('Adding remote origin as ' + gitURL);\n      git.addRemote('origin', gitURL, gitOptions, function () {\n        pullFiles();\n      });\n    }\n\n    function pullFiles() {\n      console.info('Pulling ' + component + ' files');\n      git.pull('origin', 'master', pullOptions, function (error) {\n        resetFiles();\n      });\n    }\n\n    function resetFiles() {\n      console.info('Resetting files to head');\n      git.reset('HEAD', resetOptions, function (error) {\n        nextRepo();\n      });\n    }\n\n    function nextRepo() {\n      //console.log('Sleeping for 1 second...');\n      // avoid rate throttling\n      global.clearTimeout(timer);\n      timer = global.setTimeout(function () {\n        stepRepo();\n      }, 0);\n    }\n\n    if (localRepoSetup) {\n      pullFiles();\n    } else {\n      setupRepo(); // createRepo() only use to create remote repo (easier to do manually)\n    }\n  };\n\n  stepRepo();\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"update.js\":function(require,exports,module,__filename,__dirname){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/admin/components/update.js                                                                           //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n          Update Repos\n*******************************/\n\n/*\n\n This task update all SUI individual component repos with new versions of components\n\n  * Commits changes from create repo\n  * Pushes changes to GitHub\n  * Tag new releases if version changed in main repo\n\n*/\nvar gulp = require('gulp'),\n    // node dependencies\nconsole = require('better-console'),\n    fs = require('fs'),\n    path = require('path'),\n    git = require('gulp-git'),\n    githubAPI = require('github'),\n    requireDotFile = require('require-dot-file'),\n    // admin files\ngithub = require('../../config/admin/github.js'),\n    release = require('../../config/admin/release'),\n    project = require('../../config/project/release'),\n    // oAuth configuration for GitHub\noAuth = fs.existsSync(__dirname + '/../../config/admin/oauth.js') ? require('../../config/admin/oauth') : false,\n    // shorthand\nversion = project.version;\n\nmodule.exports = function (callback) {\n  var index = -1,\n      total = release.components.length,\n      timer,\n      stream,\n      stepRepo;\n\n  if (!oAuth) {\n    console.error('Must add oauth token for GitHub in tasks/config/admin/oauth.js');\n    return;\n  } // Do Git commands synchronously per component, to avoid issues\n\n\n  stepRepo = function () {\n    index = index + 1;\n\n    if (index >= total) {\n      callback();\n      return;\n    }\n\n    var component = release.components[index],\n        outputDirectory = path.resolve(path.join(release.outputRoot, component)),\n        capitalizedComponent = component.charAt(0).toUpperCase() + component.slice(1),\n        repoName = release.componentRepoRoot + capitalizedComponent,\n        gitURL = 'https://github.com/' + release.org + '/' + repoName + '.git',\n        repoURL = 'https://github.com/' + release.org + '/' + repoName + '/',\n        commitArgs = oAuth.name !== undefined && oAuth.email !== undefined ? '--author \"' + oAuth.name + ' <' + oAuth.email + '>\"' : '',\n        componentPackage = fs.existsSync(outputDirectory + 'package.json') ? require(outputDirectory + 'package.json') : false,\n        isNewVersion = version && componentPackage.version != version,\n        commitMessage = isNewVersion ? 'Updated component to version ' + version : 'Updated files from main repo',\n        gitOptions = {\n      cwd: outputDirectory\n    },\n        commitOptions = {\n      args: commitArgs,\n      cwd: outputDirectory\n    },\n        releaseOptions = {\n      tag_name: version,\n      owner: release.org,\n      repo: repoName\n    },\n        fileModeOptions = {\n      args: 'config core.fileMode false',\n      cwd: outputDirectory\n    },\n        usernameOptions = {\n      args: 'config user.name \"' + oAuth.name + '\"',\n      cwd: outputDirectory\n    },\n        emailOptions = {\n      args: 'config user.email \"' + oAuth.email + '\"',\n      cwd: outputDirectory\n    },\n        versionOptions = {\n      args: 'rev-parse --verify HEAD',\n      cwd: outputDirectory\n    },\n        localRepoSetup = fs.existsSync(path.join(outputDirectory, '.git')),\n        canProceed = true;\n    console.info('Processing repository:' + outputDirectory);\n\n    function setConfig() {\n      git.exec(fileModeOptions, function () {\n        git.exec(usernameOptions, function () {\n          git.exec(emailOptions, function () {\n            commitFiles();\n          });\n        });\n      });\n    } // standard path\n\n\n    function commitFiles() {\n      // commit files\n      console.info('Committing ' + component + ' files', commitArgs);\n      gulp.src('./', gitOptions).pipe(git.add(gitOptions)).pipe(git.commit(commitMessage, commitOptions)).on('error', function (error) {// canProceed = false; bug in git commit <https://github.com/stevelacy/gulp-git/issues/49>\n      }).on('finish', function (callback) {\n        if (canProceed) {\n          pushFiles();\n        } else {\n          console.info('Nothing new to commit');\n          nextRepo();\n        }\n      });\n    } // push changes to remote\n\n\n    function pushFiles() {\n      console.info('Pushing files for ' + component);\n      git.push('origin', 'master', {\n        args: '',\n        cwd: outputDirectory\n      }, function (error) {\n        console.info('Push completed successfully');\n        getSHA();\n      });\n    } // gets SHA of last commit\n\n\n    function getSHA() {\n      git.exec(versionOptions, function (error, version) {\n        version = version.trim();\n        createRelease(version);\n      });\n    } // create release on GitHub.com\n\n\n    function createRelease(version) {\n      if (version) {\n        releaseOptions.target_commitish = version;\n      }\n\n      github.repos.createRelease(releaseOptions, function () {\n        nextRepo();\n      });\n    } // Steps to next repository\n\n\n    function nextRepo() {\n      console.log('Sleeping for 1 second...'); // avoid rate throttling\n\n      global.clearTimeout(timer);\n      timer = global.setTimeout(stepRepo, 100);\n    }\n\n    if (localRepoSetup) {\n      setConfig();\n    } else {\n      console.error('Repository must be setup before running update components');\n    }\n  };\n\n  stepRepo();\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"distributions\":{\"create.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/admin/distributions/create.js                                                                        //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n     Create Distributions\n*******************************/\n\n/*\n This will create individual distribution repositories for each SUI distribution\n\n  * copy distribution files to release\n  * update package.json file\n*/\nvar gulp = require('gulp'),\n    // node dependencies\nconsole = require('better-console'),\n    del = require('del'),\n    fs = require('fs'),\n    path = require('path'),\n    runSequence = require('run-sequence'),\n    mergeStream = require('merge-stream'),\n    // admin dependencies\nconcatFileNames = require('gulp-concat-filenames'),\n    debug = require('gulp-debug'),\n    flatten = require('gulp-flatten'),\n    git = require('gulp-git'),\n    jsonEditor = require('gulp-json-editor'),\n    plumber = require('gulp-plumber'),\n    rename = require('gulp-rename'),\n    replace = require('gulp-replace'),\n    tap = require('gulp-tap'),\n    // config\nconfig = require('../../config/user'),\n    release = require('../../config/admin/release'),\n    project = require('../../config/project/release'),\n    // shorthand\nversion = project.version,\n    output = config.paths.output;\n\nmodule.exports = function (callback) {\n  var stream,\n      index,\n      tasks = [];\n\n  for (index in meteorBabelHelpers.sanitizeForInObject(release.distributions)) {\n    var distribution = release.distributions[index]; // streams... designed to save time and make coding fun...\n\n    (function (distribution) {\n      var distLowerCase = distribution.toLowerCase(),\n          outputDirectory = path.join(release.outputRoot, distLowerCase),\n          packageFile = path.join(outputDirectory, release.files.npm),\n          repoName = release.distRepoRoot + distribution,\n          regExp = {\n        match: {\n          files: '{files}',\n          version: '{version}'\n        }\n      },\n          task = {\n        all: distribution + ' copying files',\n        repo: distribution + ' create repo',\n        meteor: distribution + ' create meteor package.js',\n        \"package\": distribution + ' create package.json'\n      },\n          gatherFiles,\n          createList; // get files for meteor\n\n      gatherFiles = function (dir) {\n        var dir = dir || path.resolve('.'),\n            list = fs.readdirSync(dir),\n            omitted = ['.git', 'node_modules', 'package.js', 'LICENSE', 'README.md', 'package.json', 'bower.json', '.gitignore'],\n            files = [];\n        list.forEach(function (file) {\n          var isOmitted = omitted.indexOf(file) > -1,\n              filePath = path.join(dir, file),\n              stat = fs.statSync(filePath);\n\n          if (!isOmitted) {\n            if (stat && stat.isDirectory()) {\n              files = files.concat(gatherFiles(filePath));\n            } else {\n              files.push(filePath.replace(outputDirectory + path.sep, ''));\n            }\n          }\n        });\n        return files;\n      }; // spaces out list correctly\n\n\n      createList = function (files) {\n        var filenames = '';\n\n        for (var file in meteorBabelHelpers.sanitizeForInObject(files)) {\n          if (file == files.length - 1) {\n            filenames += \"'\" + files[file] + \"'\";\n          } else {\n            filenames += \"'\" + files[file] + \"',\\n    \";\n          }\n        }\n\n        return filenames;\n      };\n\n      gulp.task(task.meteor, function () {\n        var files = gatherFiles(outputDirectory),\n            filenames = createList(files);\n        gulp.src(release.templates.meteor[distLowerCase]).pipe(plumber()).pipe(flatten()).pipe(replace(regExp.match.version, version)).pipe(replace(regExp.match.files, filenames)).pipe(rename(release.files.meteor)).pipe(gulp.dest(outputDirectory));\n      });\n\n      if (distribution == 'CSS') {\n        gulp.task(task.repo, function () {\n          var themes, components, releases;\n          themes = gulp.src('dist/themes/default/**/*', {\n            base: 'dist/'\n          }).pipe(gulp.dest(outputDirectory));\n          components = gulp.src('dist/components/*', {\n            base: 'dist/'\n          }).pipe(gulp.dest(outputDirectory));\n          releases = gulp.src('dist/*', {\n            base: 'dist/'\n          }).pipe(gulp.dest(outputDirectory));\n          return mergeStream(themes, components, releases);\n        });\n      } else if (distribution == 'LESS') {\n        gulp.task(task.repo, function () {\n          var definitions, themeImport, themeConfig, siteTheme, themes;\n          definitions = gulp.src('src/definitions/**/*', {\n            base: 'src/'\n          }).pipe(gulp.dest(outputDirectory));\n          themeImport = gulp.src('src/semantic.less', {\n            base: 'src/'\n          }).pipe(gulp.dest(outputDirectory));\n          themeImport = gulp.src('src/theme.less', {\n            base: 'src/'\n          }).pipe(gulp.dest(outputDirectory));\n          themeConfig = gulp.src('src/theme.config.example', {\n            base: 'src/'\n          }).pipe(gulp.dest(outputDirectory));\n          siteTheme = gulp.src('src/_site/**/*', {\n            base: 'src/'\n          }).pipe(gulp.dest(outputDirectory));\n          themes = gulp.src('src/themes/**/*', {\n            base: 'src/'\n          }).pipe(gulp.dest(outputDirectory));\n          return mergeStream(definitions, themeImport, themeConfig, siteTheme, themes);\n        });\n      } // extend package.json\n\n\n      gulp.task(task.package, function () {\n        return gulp.src(packageFile).pipe(plumber()).pipe(jsonEditor(function (package) {\n          if (version) {\n            package.version = version;\n          }\n\n          return package;\n        })).pipe(gulp.dest(outputDirectory));\n      });\n      tasks.push(task.meteor);\n      tasks.push(task.repo);\n      tasks.push(task.package);\n    })(distribution);\n  }\n\n  runSequence(tasks, callback);\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"init.js\":function(require,exports,module,__filename,__dirname){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/admin/distributions/init.js                                                                          //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n        Init Dist Repos\n*******************************/\n\n/*\n\n This task pulls the latest version of distribution from GitHub\n\n  * Creates new repo if doesnt exist (locally & GitHub)\n  * Adds remote it doesnt exists\n  * Pulls latest changes from repo\n\n*/\nvar gulp = require('gulp'),\n    // node dependencies\nconsole = require('better-console'),\n    del = require('del'),\n    fs = require('fs'),\n    path = require('path'),\n    git = require('gulp-git'),\n    githubAPI = require('github'),\n    mkdirp = require('mkdirp'),\n    // admin files\ngithub = require('../../config/admin/github.js'),\n    release = require('../../config/admin/release'),\n    project = require('../../config/project/release'),\n    // oAuth configuration for GitHub\noAuth = fs.existsSync(__dirname + '/../../config/admin/oauth.js') ? require('../../config/admin/oauth') : false,\n    // shorthand\nversion = project.version;\n\nmodule.exports = function (callback) {\n  var index = -1,\n      total = release.distributions.length,\n      timer,\n      stream,\n      stepRepo;\n\n  if (!oAuth) {\n    console.error('Must add oauth token for GitHub in tasks/config/admin/oauth.js');\n    return;\n  } // Do Git commands synchronously per component, to avoid issues\n\n\n  stepRepo = function () {\n    index = index + 1;\n\n    if (index >= total) {\n      callback();\n      return;\n    }\n\n    var component = release.distributions[index],\n        lowerCaseComponent = component.toLowerCase(),\n        outputDirectory = path.resolve(release.outputRoot + lowerCaseComponent),\n        repoName = release.distRepoRoot + component,\n        gitOptions = {\n      cwd: outputDirectory\n    },\n        pullOptions = {\n      args: '-q',\n      cwd: outputDirectory,\n      quiet: true\n    },\n        resetOptions = {\n      args: '-q --hard',\n      cwd: outputDirectory,\n      quiet: true\n    },\n        gitURL = 'git@github.com:' + release.org + '/' + repoName + '.git',\n        repoURL = 'https://github.com/' + release.org + '/' + repoName + '/',\n        localRepoSetup = fs.existsSync(path.join(outputDirectory, '.git'));\n    console.log('Processing repository: ' + outputDirectory); // create folder if doesn't exist\n\n    if (!fs.existsSync(outputDirectory)) {\n      mkdirp.sync(outputDirectory);\n    } // clean folder\n\n\n    if (release.outputRoot.search('../repos') == 0) {\n      console.info('Cleaning dir', outputDirectory);\n      del.sync([outputDirectory + '**/*'], {\n        silent: true,\n        force: true\n      });\n    } // set-up local repo\n\n\n    function setupRepo() {\n      if (localRepoSetup) {\n        addRemote();\n      } else {\n        initRepo();\n      }\n    }\n\n    function initRepo() {\n      console.info('Initializing repository for ' + component);\n      git.init(gitOptions, function (error) {\n        if (error) {\n          console.error('Error initializing repo', error);\n        }\n\n        addRemote();\n      });\n    }\n\n    function createRepo() {\n      console.info('Creating GitHub repo ' + repoURL);\n      github.repos.createFromOrg({\n        org: release.org,\n        name: repoName,\n        homepage: release.homepage\n      }, function () {\n        setupRepo();\n      });\n    }\n\n    function addRemote() {\n      console.info('Adding remote origin as ' + gitURL);\n      git.addRemote('origin', gitURL, gitOptions, function () {\n        pullFiles();\n      });\n    }\n\n    function pullFiles() {\n      console.info('Pulling ' + component + ' files');\n      git.pull('origin', 'master', pullOptions, function (error) {\n        resetFiles();\n      });\n    }\n\n    function resetFiles() {\n      console.info('Resetting files to head');\n      git.reset('HEAD', resetOptions, function (error) {\n        nextRepo();\n      });\n    }\n\n    function nextRepo() {\n      //console.log('Sleeping for 1 second...');\n      // avoid rate throttling\n      global.clearTimeout(timer);\n      timer = global.setTimeout(function () {\n        stepRepo();\n      }, 0);\n    }\n\n    if (localRepoSetup) {\n      pullFiles();\n    } else {\n      setupRepo(); // createRepo() only use to create remote repo (easier to do manually)\n    }\n  };\n\n  stepRepo();\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"update.js\":function(require,exports,module,__filename,__dirname){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/admin/distributions/update.js                                                                        //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n          Update Repos\n*******************************/\n\n/*\n\n This task update all SUI individual distribution repos with new versions of distributions\n\n  * Commits changes from create repo\n  * Pushes changes to GitHub\n  * Tag new releases if version changed in main repo\n\n*/\nvar gulp = require('gulp'),\n    // node dependencies\nconsole = require('better-console'),\n    fs = require('fs'),\n    path = require('path'),\n    git = require('gulp-git'),\n    githubAPI = require('github'),\n    requireDotFile = require('require-dot-file'),\n    // admin files\ngithub = require('../../config/admin/github.js'),\n    release = require('../../config/admin/release'),\n    project = require('../../config/project/release'),\n    // oAuth configuration for GitHub\noAuth = fs.existsSync(__dirname + '/../../config/admin/oauth.js') ? require('../../config/admin/oauth') : false,\n    // shorthand\nversion = project.version;\n\nmodule.exports = function (callback) {\n  var index = -1,\n      total = release.distributions.length,\n      timer,\n      stream,\n      stepRepo;\n\n  if (!oAuth) {\n    console.error('Must add oauth token for GitHub in tasks/config/admin/oauth.js');\n    return;\n  } // Do Git commands synchronously per distribution, to avoid issues\n\n\n  stepRepo = function () {\n    index = index + 1;\n\n    if (index >= total) {\n      callback();\n      return;\n    }\n\n    var distribution = release.distributions[index],\n        outputDirectory = path.resolve(path.join(release.outputRoot, distribution.toLowerCase())),\n        repoName = release.distRepoRoot + distribution,\n        commitArgs = oAuth.name !== undefined && oAuth.email !== undefined ? '--author \"' + oAuth.name + ' <' + oAuth.email + '>\"' : '',\n        distributionPackage = fs.existsSync(outputDirectory + 'package.json') ? require(outputDirectory + 'package.json') : false,\n        isNewVersion = version && distributionPackage.version != version,\n        commitMessage = isNewVersion ? 'Updated distribution to version ' + version : 'Updated files from main repo',\n        gitOptions = {\n      cwd: outputDirectory\n    },\n        commitOptions = {\n      args: commitArgs,\n      cwd: outputDirectory\n    },\n        releaseOptions = {\n      tag_name: version,\n      owner: release.org,\n      repo: repoName\n    },\n        fileModeOptions = {\n      args: 'config core.fileMode false',\n      cwd: outputDirectory\n    },\n        usernameOptions = {\n      args: 'config user.name \"' + oAuth.name + '\"',\n      cwd: outputDirectory\n    },\n        emailOptions = {\n      args: 'config user.email \"' + oAuth.email + '\"',\n      cwd: outputDirectory\n    },\n        versionOptions = {\n      args: 'rev-parse --verify HEAD',\n      cwd: outputDirectory\n    },\n        localRepoSetup = fs.existsSync(path.join(outputDirectory, '.git')),\n        canProceed = true;\n    console.info('Processing repository:' + outputDirectory);\n\n    function setConfig() {\n      git.exec(fileModeOptions, function () {\n        git.exec(usernameOptions, function () {\n          git.exec(emailOptions, function () {\n            commitFiles();\n          });\n        });\n      });\n    } // standard path\n\n\n    function commitFiles() {\n      // commit files\n      console.info('Committing ' + distribution + ' files', commitArgs);\n      gulp.src('./', gitOptions).pipe(git.add(gitOptions)).pipe(git.commit(commitMessage, commitOptions)).on('error', function (error) {// canProceed = false; bug in git commit <https://github.com/stevelacy/gulp-git/issues/49>\n      }).on('finish', function (callback) {\n        if (canProceed) {\n          pushFiles();\n        } else {\n          console.info('Nothing new to commit');\n          nextRepo();\n        }\n      });\n    } // push changes to remote\n\n\n    function pushFiles() {\n      console.info('Pushing files for ' + distribution);\n      git.push('origin', 'master', {\n        args: '',\n        cwd: outputDirectory\n      }, function (error) {\n        console.info('Push completed successfully');\n        getSHA();\n      });\n    } // gets SHA of last commit\n\n\n    function getSHA() {\n      git.exec(versionOptions, function (error, version) {\n        version = version.trim();\n        createRelease(version);\n      });\n    } // create release on GitHub.com\n\n\n    function createRelease(version) {\n      if (version) {\n        releaseOptions.target_commitish = version;\n      }\n\n      github.repos.createRelease(releaseOptions, function () {\n        nextRepo();\n      });\n    } // Steps to next repository\n\n\n    function nextRepo() {\n      console.log('Sleeping for 1 second...'); // avoid rate throttling\n\n      global.clearTimeout(timer);\n      timer = global.setTimeout(stepRepo, 100);\n    }\n\n    if (localRepoSetup) {\n      setConfig();\n    } else {\n      console.error('Repository must be setup before running update distributions');\n    }\n  };\n\n  stepRepo();\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"publish.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/admin/publish.js                                                                                     //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n          Release All\n*******************************/\n\n/*\n This task update all SUI individual component repos with new versions of components\n\n  * Commits changes from create components to GitHub and Tags\n\n*/\nvar runSequence = require('run-sequence');\n/* Release All */\n\n\nmodule.exports = function (callback) {\n  runSequence('update distributions', // commit less/css versions to github\n  'update components', // commit components to github\n  callback);\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"register.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/admin/register.js                                                                                    //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n          Register PM\n*******************************/\n\n/*\n  Task to register component repos with Package Managers\n  * Registers component with bower\n  * Registers component with NPM\n*/\nvar // node dependencies\nprocess = require('child_process'),\n    // config\nrelease = require('../config/admin/release'),\n    // register components and distributions\nrepos = release.distributions.concat(release.components),\n    total = repos.length,\n    index = -1,\n    stream,\n    stepRepo;\n\nmodule.exports = function (callback) {\n  console.log('Registering repos with package managers'); // Do Git commands synchronously per component, to avoid issues\n\n  stepRepo = function () {\n    index = index + 1;\n\n    if (index >= total) {\n      callback();\n      return;\n    }\n\n    var repo = repos[index].toLowerCase(),\n        outputDirectory = release.outputRoot + repo + '/',\n        exec = process.exec,\n        execSettings = {\n      cwd: outputDirectory\n    },\n        updateNPM = 'npm publish;meteor publish;';\n    /* Register with NPM */\n\n    exec(updateNPM, execSettings, function (err, stdout, stderr) {\n      console.log(err, stdout, stderr);\n      stepRepo();\n    });\n  };\n\n  stepRepo();\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"release.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/admin/release.js                                                                                     //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n          Release\n*******************************/\n\n/*\n This task update all SUI individual component repos with new versions of components\n\n  * Initializes repositories with current versions\n  * Creates local files at ../distributions/ with each repo for release\n\n*/\nvar runSequence = require('run-sequence');\n/* Release All */\n\n\nmodule.exports = function (callback) {\n  runSequence( //'build', // build Semantic\n  'init distributions', // sync with current github version\n  'create distributions', // update each repo with changes from master repo\n  'init components', // sync with current github version\n  'create components', // update each repo\n  callback);\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"build\":{\"assets.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/build/assets.js                                                                                      //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n          Build Task\n*******************************/\nvar gulp = require('gulp'),\n    // gulp dependencies\nchmod = require('gulp-chmod'),\n    gulpif = require('gulp-if'),\n    // config\nconfig = require('../config/user'),\n    tasks = require('../config/tasks'),\n    // shorthand\nglobs = config.globs,\n    assets = config.paths.assets,\n    output = config.paths.output,\n    source = config.paths.source,\n    log = tasks.log;\n\nmodule.exports = function (callback) {\n  console.info('Building assets'); // copy assets\n\n  return gulp.src(source.themes + '/**/assets/**/*.*').pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.themes));\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"css.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/build/css.js                                                                                         //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n          Build Task\n*******************************/\nvar gulp = require('gulp'),\n    // node dependencies\nconsole = require('better-console'),\n    fs = require('fs'),\n    // gulp dependencies\nautoprefixer = require('gulp-autoprefixer'),\n    chmod = require('gulp-chmod'),\n    clone = require('gulp-clone'),\n    flatten = require('gulp-flatten'),\n    gulpif = require('gulp-if'),\n    less = require('gulp-less'),\n    minifyCSS = require('gulp-clean-css'),\n    plumber = require('gulp-plumber'),\n    print = require('gulp-print'),\n    rename = require('gulp-rename'),\n    replace = require('gulp-replace'),\n    runSequence = require('run-sequence'),\n    // config\nconfig = require('../config/user'),\n    tasks = require('../config/tasks'),\n    install = require('../config/project/install'),\n    // shorthand\nglobs = config.globs,\n    assets = config.paths.assets,\n    output = config.paths.output,\n    source = config.paths.source,\n    banner = tasks.banner,\n    comments = tasks.regExp.comments,\n    log = tasks.log,\n    settings = tasks.settings; // add internal tasks (concat release)\n\n\nrequire('../collections/internal')(gulp);\n\nmodule.exports = function (callback) {\n  var tasksCompleted = 0,\n      maybeCallback = function () {\n    tasksCompleted++;\n\n    if (tasksCompleted === 2) {\n      callback();\n    }\n  },\n      stream,\n      compressedStream,\n      uncompressedStream;\n\n  console.info('Building CSS');\n\n  if (!install.isSetup()) {\n    console.error('Cannot build files. Run \"gulp install\" to set-up Semantic');\n    return;\n  } // unified css stream\n\n\n  stream = gulp.src(source.definitions + '/**/' + globs.components + '.less').pipe(plumber(settings.plumber.less)).pipe(less(settings.less)).pipe(autoprefixer(settings.prefix)).pipe(replace(comments.variables.in, comments.variables.out)).pipe(replace(comments.license.in, comments.license.out)).pipe(replace(comments.large.in, comments.large.out)).pipe(replace(comments.small.in, comments.small.out)).pipe(replace(comments.tiny.in, comments.tiny.out)).pipe(flatten()); // two concurrent streams from same source to concat release\n\n  uncompressedStream = stream.pipe(clone());\n  compressedStream = stream.pipe(clone()); // uncompressed component css\n\n  uncompressedStream.pipe(plumber()).pipe(replace(assets.source, assets.uncompressed)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.uncompressed)).pipe(print(log.created)).on('end', function () {\n    runSequence('package uncompressed css', maybeCallback);\n  }); // compressed component css\n\n  compressedStream = stream.pipe(plumber()).pipe(clone()).pipe(replace(assets.source, assets.compressed)).pipe(minifyCSS(settings.minify)).pipe(rename(settings.rename.minCSS)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.compressed)).pipe(print(log.created)).on('end', function () {\n    runSequence('package compressed css', maybeCallback);\n  });\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"javascript.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/build/javascript.js                                                                                  //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n          Build Task\n*******************************/\nvar gulp = require('gulp'),\n    // node dependencies\nconsole = require('better-console'),\n    fs = require('fs'),\n    // gulp dependencies\nchmod = require('gulp-chmod'),\n    flatten = require('gulp-flatten'),\n    gulpif = require('gulp-if'),\n    plumber = require('gulp-plumber'),\n    print = require('gulp-print'),\n    rename = require('gulp-rename'),\n    replace = require('gulp-replace'),\n    uglify = require('gulp-uglify'),\n    // config\nconfig = require('../config/user'),\n    tasks = require('../config/tasks'),\n    install = require('../config/project/install'),\n    // shorthand\nglobs = config.globs,\n    assets = config.paths.assets,\n    output = config.paths.output,\n    source = config.paths.source,\n    banner = tasks.banner,\n    comments = tasks.regExp.comments,\n    log = tasks.log,\n    settings = tasks.settings; // add internal tasks (concat release)\n\n\nrequire('../collections/internal')(gulp);\n\nmodule.exports = function (callback) {\n  var stream, compressedStream, uncompressedStream;\n  console.info('Building Javascript');\n\n  if (!install.isSetup()) {\n    console.error('Cannot build files. Run \"gulp install\" to set-up Semantic');\n    return;\n  } // copy source javascript\n\n\n  gulp.src(source.definitions + '/**/' + globs.components + '.js').pipe(plumber()).pipe(flatten()).pipe(replace(comments.license.in, comments.license.out)).pipe(gulp.dest(output.uncompressed)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(print(log.created)).pipe(uglify(settings.uglify)).pipe(rename(settings.rename.minJS)).pipe(gulp.dest(output.compressed)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(print(log.created)).on('end', function () {\n    gulp.start('package compressed js');\n    gulp.start('package uncompressed js');\n    callback();\n  });\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"collections\":{\"admin.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/collections/admin.js                                                                                 //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n     Admin Task Collection\n*******************************/\n\n/*\n  This are tasks to be run by project maintainers\n  - Creating Component Repos\n  - Syncing with GitHub via APIs\n  - Modifying package files\n*/\n\n/*******************************\n             Tasks\n*******************************/\nmodule.exports = function (gulp) {\n  var // less/css distributions\n  initComponents = require('../admin/components/init'),\n      createComponents = require('../admin/components/create'),\n      updateComponents = require('../admin/components/update'),\n      // single component releases\n  initDistributions = require('../admin/distributions/init'),\n      createDistributions = require('../admin/distributions/create'),\n      updateDistributions = require('../admin/distributions/update'),\n      release = require('../admin/release'),\n      publish = require('../admin/publish'),\n      register = require('../admin/register');\n  /* Release */\n\n\n  gulp.task('init distributions', 'Grabs each component from GitHub', initDistributions);\n  gulp.task('create distributions', 'Updates files in each repo', createDistributions);\n  gulp.task('init components', 'Grabs each component from GitHub', initComponents);\n  gulp.task('create components', 'Updates files in each repo', createComponents);\n  /* Publish */\n\n  gulp.task('update distributions', 'Commits component updates from create to GitHub', updateDistributions);\n  gulp.task('update components', 'Commits component updates from create to GitHub', updateComponents);\n  /* Tasks */\n\n  gulp.task('release', 'Stages changes in GitHub repos for all distributions', release);\n  gulp.task('publish', 'Publishes all releases (components, package)', publish);\n  gulp.task('register', 'Registers all packages with NPM', register);\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"build.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/collections/build.js                                                                                 //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n        Define Sub-Tasks\n*******************************/\nmodule.exports = function (gulp) {\n  var // build sub-tasks\n  buildJS = require('./../build/javascript'),\n      buildCSS = require('./../build/css'),\n      buildAssets = require('./../build/assets'); // in case these tasks are undefined during import, less make sure these are available in scope\n\n\n  gulp.task('build-javascript', 'Builds all javascript from source', buildJS);\n  gulp.task('build-css', 'Builds all css from source', buildCSS);\n  gulp.task('build-assets', 'Copies all assets from source', buildAssets);\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"internal.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/collections/internal.js                                                                              //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n    Internal Task Collection\n*******************************/\n\n/* These tasks create packaged files from **dist** components\n   Not intended to be called directly by a user because\n   these do not build fresh from **src**\n*/\nmodule.exports = function (gulp) {\n  var // node dependencies\n  fs = require('fs'),\n      chmod = require('gulp-chmod'),\n      concat = require('gulp-concat'),\n      concatCSS = require('gulp-concat-css'),\n      clone = require('gulp-clone'),\n      dedupe = require('gulp-dedupe'),\n      gulpif = require('gulp-if'),\n      header = require('gulp-header'),\n      less = require('gulp-less'),\n      minifyCSS = require('gulp-clean-css'),\n      plumber = require('gulp-plumber'),\n      print = require('gulp-print'),\n      rename = require('gulp-rename'),\n      replace = require('gulp-replace'),\n      uglify = require('gulp-uglify'),\n      // user config\n  config = require('./../config/user'),\n      docsConfig = require('./../config/docs'),\n      // install config\n  tasks = require('./../config/tasks'),\n      release = require('./../config/project/release'),\n      // shorthand\n  globs = config.globs,\n      assets = config.paths.assets,\n      output = config.paths.output,\n      banner = tasks.banner,\n      filenames = tasks.filenames,\n      log = tasks.log,\n      settings = tasks.settings;\n  /*--------------\n      Packaged\n  ---------------*/\n\n\n  gulp.task('package uncompressed css', function () {\n    return gulp.src(output.uncompressed + '/**/' + globs.components + globs.ignored + '.css').pipe(plumber()).pipe(dedupe()).pipe(replace(assets.uncompressed, assets.packaged)).pipe(concatCSS(filenames.concatenatedCSS, settings.concatCSS)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(header(banner, settings.header)).pipe(gulp.dest(output.packaged)).pipe(print(log.created));\n  });\n  gulp.task('package compressed css', function () {\n    return gulp.src(output.uncompressed + '/**/' + globs.components + globs.ignored + '.css').pipe(plumber()).pipe(dedupe()).pipe(replace(assets.uncompressed, assets.packaged)).pipe(concatCSS(filenames.concatenatedMinifiedCSS, settings.concatCSS)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(minifyCSS(settings.concatMinify)).pipe(header(banner, settings.header)).pipe(gulp.dest(output.packaged)).pipe(print(log.created));\n  });\n  gulp.task('package uncompressed js', function () {\n    return gulp.src(output.uncompressed + '/**/' + globs.components + globs.ignored + '.js').pipe(plumber()).pipe(dedupe()).pipe(replace(assets.uncompressed, assets.packaged)).pipe(concat(filenames.concatenatedJS)).pipe(header(banner, settings.header)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.packaged)).pipe(print(log.created));\n  });\n  gulp.task('package compressed js', function () {\n    return gulp.src(output.uncompressed + '/**/' + globs.components + globs.ignored + '.js').pipe(plumber()).pipe(dedupe()).pipe(replace(assets.uncompressed, assets.packaged)).pipe(concat(filenames.concatenatedMinifiedJS)).pipe(uglify(settings.concatUglify)).pipe(header(banner, settings.header)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.packaged)).pipe(print(log.created));\n  });\n  /*--------------\n        RTL\n  ---------------*/\n\n  if (config.rtl) {\n    gulp.task('package uncompressed rtl css', function () {\n      return gulp.src(output.uncompressed + '/**/' + globs.components + globs.ignoredRTL + '.rtl.css').pipe(dedupe()).pipe(replace(assets.uncompressed, assets.packaged)).pipe(concatCSS(filenames.concatenatedRTLCSS, settings.concatCSS)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(header(banner, settings.header)).pipe(gulp.dest(output.packaged)).pipe(print(log.created));\n    });\n    gulp.task('package compressed rtl css', function () {\n      return gulp.src(output.uncompressed + '/**/' + globs.components + globs.ignoredRTL + '.rtl.css').pipe(dedupe()).pipe(replace(assets.uncompressed, assets.packaged)).pipe(concatCSS(filenames.concatenatedMinifiedRTLCSS, settings.concatCSS)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(minifyCSS(settings.concatMinify)).pipe(header(banner, settings.header)).pipe(gulp.dest(output.packaged)).pipe(print(log.created));\n    });\n    gulp.task('package uncompressed docs css', function () {\n      return gulp.src(output.uncompressed + '/**/' + globs.components + globs.ignored + '.css').pipe(dedupe()).pipe(plumber()).pipe(replace(assets.uncompressed, assets.packaged)).pipe(concatCSS(filenames.concatenatedCSS, settings.concatCSS)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.packaged)).pipe(print(log.created));\n    });\n    gulp.task('package compressed docs css', function () {\n      return gulp.src(output.uncompressed + '/**/' + globs.components + globs.ignored + '.css').pipe(dedupe()).pipe(plumber()).pipe(replace(assets.uncompressed, assets.packaged)).pipe(concatCSS(filenames.concatenatedMinifiedCSS, settings.concatCSS)).pipe(minifyCSS(settings.concatMinify)).pipe(header(banner, settings.header)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.packaged)).pipe(print(log.created));\n    });\n  }\n  /*--------------\n        Docs\n  ---------------*/\n\n\n  var docsOutput = docsConfig.paths.output;\n  gulp.task('package uncompressed docs css', function () {\n    return gulp.src(docsOutput.uncompressed + '/**/' + globs.components + globs.ignored + '.css').pipe(dedupe()).pipe(plumber()).pipe(replace(assets.uncompressed, assets.packaged)).pipe(concatCSS(filenames.concatenatedCSS, settings.concatCSS)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(docsOutput.packaged)).pipe(print(log.created));\n  });\n  gulp.task('package compressed docs css', function () {\n    return gulp.src(docsOutput.uncompressed + '/**/' + globs.components + globs.ignored + '.css').pipe(dedupe()).pipe(plumber()).pipe(replace(assets.uncompressed, assets.packaged)).pipe(concatCSS(filenames.concatenatedMinifiedCSS, settings.concatCSS)).pipe(minifyCSS(settings.concatMinify)).pipe(header(banner, settings.header)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(docsOutput.packaged)).pipe(print(log.created));\n  });\n  gulp.task('package uncompressed docs js', function () {\n    return gulp.src(docsOutput.uncompressed + '/**/' + globs.components + globs.ignored + '.js').pipe(dedupe()).pipe(plumber()).pipe(replace(assets.uncompressed, assets.packaged)).pipe(concat(filenames.concatenatedJS)).pipe(header(banner, settings.header)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(docsOutput.packaged)).pipe(print(log.created));\n  });\n  gulp.task('package compressed docs js', function () {\n    return gulp.src(docsOutput.uncompressed + '/**/' + globs.components + globs.ignored + '.js').pipe(dedupe()).pipe(plumber()).pipe(replace(assets.uncompressed, assets.packaged)).pipe(concat(filenames.concatenatedMinifiedJS)).pipe(uglify(settings.concatUglify)).pipe(header(banner, settings.header)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(docsOutput.packaged)).pipe(print(log.created));\n  });\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"rtl.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/collections/rtl.js                                                                                   //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n        Define Sub-Tasks\n*******************************/\nmodule.exports = function (gulp) {\n  var // rtl\n  buildRTL = require('./../rtl/build'),\n      watchRTL = require('./../rtl/watch');\n\n  gulp.task('watch-rtl', 'Build all files as RTL', watchRTL);\n  gulp.task('build-rtl', 'Watch files as RTL ', buildRTL);\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"docs\":{\"build.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/docs/build.js                                                                                        //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n           Build Docs\n*******************************/\nvar gulp = require('gulp'),\n    // node dependencies\nconsole = require('better-console'),\n    fs = require('fs'),\n    map = require('map-stream'),\n    // gulp dependencies\nautoprefixer = require('gulp-autoprefixer'),\n    chmod = require('gulp-chmod'),\n    clone = require('gulp-clone'),\n    flatten = require('gulp-flatten'),\n    gulpif = require('gulp-if'),\n    header = require('gulp-header'),\n    less = require('gulp-less'),\n    minifyCSS = require('gulp-clean-css'),\n    plumber = require('gulp-plumber'),\n    print = require('gulp-print'),\n    rename = require('gulp-rename'),\n    replace = require('gulp-replace'),\n    uglify = require('gulp-uglify'),\n    // user config\nconfig = require('../config/docs'),\n    // install config\ntasks = require('../config/tasks'),\n    configSetup = require('../config/project/config'),\n    install = require('../config/project/install'),\n    // metadata parsing\nmetadata = require('./metadata'),\n    // shorthand\nglobs,\n    assets,\n    output,\n    source,\n    banner = tasks.banner,\n    comments = tasks.regExp.comments,\n    log = tasks.log,\n    settings = tasks.settings; // add internal tasks (concat release)\n\n\nrequire('../collections/internal')(gulp);\n\nmodule.exports = function (callback) {\n  var stream, compressedStream, uncompressedStream; // use a different config\n\n  config = configSetup.addDerivedValues(config); // shorthand\n\n  globs = config.globs;\n  assets = config.paths.assets;\n  output = config.paths.output;\n  source = config.paths.source;\n  /*--------------\n   Parse metadata\n   ---------------*/\n  // parse all *.html.eco in docs repo, data will end up in\n  // metadata.result object.  Note this assumes that the docs\n  // repository is present and in proper directory location as\n  // specified by docs.json.\n\n  console.info('Building Metadata');\n  gulp.src(config.paths.template.eco + globs.eco).pipe(map(metadata.parser)).on('end', function () {\n    fs.writeFile(output.metadata + '/metadata.json', JSON.stringify(metadata.result, null, 2));\n  });\n  /*--------------\n    Copy Examples\n  ---------------*/\n\n  console.info('Copying examples'); // copy src/ to server\n\n  gulp.src('examples/**/*.*').pipe(gulp.dest(output.examples)).pipe(print(log.created));\n  /*--------------\n     Copy Source\n  ---------------*/\n\n  console.info('Copying LESS source'); // copy src/ to server\n\n  gulp.src('src/**/*.*').pipe(gulp.dest(output.less)).pipe(print(log.created));\n  /*--------------\n        Build\n  ---------------*/\n\n  console.info('Building Semantic for docs');\n\n  if (!install.isSetup()) {\n    console.error('Cannot build files. Run \"gulp install\" to set-up Semantic');\n    return;\n  } // unified css stream\n\n\n  stream = gulp.src(source.definitions + '/**/' + globs.components + '.less').pipe(plumber()).pipe(less(settings.less)).pipe(autoprefixer(settings.prefix)).pipe(flatten()); // two concurrent streams from same source to concat release\n\n  uncompressedStream = stream.pipe(clone());\n  compressedStream = stream.pipe(clone());\n  uncompressedStream.pipe(plumber()).pipe(replace(comments.variables.in, comments.variables.out)).pipe(replace(comments.large.in, comments.large.out)).pipe(replace(comments.small.in, comments.small.out)).pipe(replace(comments.tiny.in, comments.tiny.out)).pipe(replace(assets.source, assets.uncompressed)).pipe(header(banner, settings.header)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.uncompressed)).pipe(print(log.created)).on('end', function () {\n    gulp.start('package uncompressed docs css');\n  });\n  compressedStream = stream.pipe(plumber()).pipe(clone()).pipe(replace(assets.source, assets.compressed)).pipe(minifyCSS(settings.minify)).pipe(rename(settings.rename.minCSS)).pipe(header(banner, settings.header)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.compressed)).pipe(print(log.created)).on('end', function () {\n    callback();\n    gulp.start('package compressed docs css');\n  }); // copy assets\n\n  gulp.src(source.themes + '/**/assets/**/*.*').pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.themes)); // copy source javascript\n\n  gulp.src(source.definitions + '/**/' + globs.components + '.js').pipe(plumber()).pipe(flatten()).pipe(gulp.dest(output.uncompressed)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(print(log.created)).pipe(uglify(settings.uglify)).pipe(rename(settings.rename.minJS)).pipe(header(banner, settings.header)).pipe(gulp.dest(output.compressed)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(print(log.created)).on('end', function () {\n    gulp.start('package compressed docs js');\n    gulp.start('package uncompressed docs js');\n  });\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"metadata.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/docs/metadata.js                                                                                     //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n           Summarize Docs\n*******************************/\nvar // node dependencies\nconsole = require('better-console'),\n    fs = require('fs'),\n    YAML = require('yamljs');\n\nvar data = {};\n/**\n * Test for prefix in string.\n * @param {string} str\n * @param {string} prefix\n * @return {boolean}\n */\n\nfunction startsWith(str, prefix) {\n  return str.indexOf(prefix) === 0;\n}\n\n;\n\nfunction inArray(needle, haystack) {\n  var length = haystack.length;\n\n  for (var i = 0; i < length; i++) {\n    if (haystack[i] == needle) return true;\n  }\n\n  return false;\n}\n/**\n * Parses a file for metadata and stores result in data object.\n * @param {File} file - object provided by map-stream.\n * @param {function(?,File)} - callback provided by map-stream to\n * reply when done.\n */\n\n\nfunction parser(file, callback) {\n  // file exit conditions\n  if (file.isNull()) {\n    return callback(null, file); // pass along\n  }\n\n  if (file.isStream()) {\n    return callback(new Error('Streaming not supported'));\n  }\n\n  try {\n    var\n    /** @type {string} */\n    text = String(file.contents.toString('utf8')),\n        lines = text.split('\\n'),\n        filename = file.path.substring(0, file.path.length - 4),\n        key = 'server/documents',\n        position = filename.indexOf(key); // exit conditions\n\n    if (!lines) {\n      return;\n    }\n\n    if (position < 0) {\n      return callback(null, file);\n    }\n\n    filename = filename.substring(position + key.length + 1, filename.length);\n    var lineCount = lines.length,\n        active = false,\n        yaml = [],\n        categories = ['UI Element', 'UI Global', 'UI Collection', 'UI View', 'UI Module', 'UI Behavior'],\n        index,\n        meta,\n        line;\n\n    for (index = 0; index < lineCount; index++) {\n      line = lines[index]; // Wait for metadata block to begin\n\n      if (!active) {\n        if (startsWith(line, '---')) {\n          active = true;\n        }\n\n        continue;\n      } // End of metadata block, stop parsing.\n\n\n      if (startsWith(line, '---')) {\n        break;\n      }\n\n      yaml.push(line);\n    } // Parse yaml.\n\n\n    meta = YAML.parse(yaml.join('\\n'));\n\n    if (meta && meta.type && meta.title && inArray(meta.type, categories)) {\n      meta.category = meta.type;\n      meta.filename = filename;\n      meta.url = '/' + filename;\n      meta.title = meta.title; // Primary key will by filepath\n\n      data[meta.element] = meta;\n    } else {// skip\n      // console.log(meta);\n    }\n  } catch (error) {\n    console.log(error, filename);\n  }\n\n  callback(null, file);\n}\n/**\n * Export function expected by map-stream.\n */\n\n\nmodule.exports = {\n  result: data,\n  parser: parser\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"serve.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/docs/serve.js                                                                                        //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n           Serve Docs\n*******************************/\nvar gulp = require('gulp'),\n    // node dependencies\nconsole = require('better-console'),\n    fs = require('fs'),\n    // gulp dependencies\nautoprefixer = require('gulp-autoprefixer'),\n    chmod = require('gulp-chmod'),\n    clone = require('gulp-clone'),\n    gulpif = require('gulp-if'),\n    header = require('gulp-header'),\n    less = require('gulp-less'),\n    minifyCSS = require('gulp-clean-css'),\n    plumber = require('gulp-plumber'),\n    print = require('gulp-print'),\n    rename = require('gulp-rename'),\n    replace = require('gulp-replace'),\n    uglify = require('gulp-uglify'),\n    util = require('gulp-util'),\n    watch = require('gulp-watch'),\n    // user config\nconfig = require('../config/docs'),\n    // task config\ntasks = require('../config/tasks'),\n    configSetup = require('../config/project/config'),\n    install = require('../config/project/install'),\n    // shorthand\nbanner = tasks.banner,\n    comments = tasks.regExp.comments,\n    log = tasks.log,\n    settings = tasks.settings,\n    globs,\n    assets,\n    output,\n    source;\n\nrequire('../collections/internal')(gulp);\n\nmodule.exports = function () {\n  // use a different config\n  config = configSetup.addDerivedValues(config); // shorthand\n\n  globs = config.globs;\n  assets = config.paths.assets;\n  output = config.paths.output;\n  source = config.paths.source;\n  /*--------------\n     Copy Source\n  ---------------*/\n\n  gulp.watch(['src/**/*.*'], function (file) {\n    console.clear();\n    return gulp.src(file.path, {\n      base: 'src/'\n    }).pipe(gulp.dest(output.less)).pipe(print(log.created));\n  });\n  /*--------------\n    Copy Examples\n  ---------------*/\n\n  gulp.watch(['examples/**/*.*'], function (file) {\n    console.clear();\n    return gulp.src(file.path, {\n      base: 'examples/'\n    }).pipe(gulp.dest(output.examples)).pipe(print(log.created));\n  });\n  /*--------------\n      Watch CSS\n  ---------------*/\n\n  gulp.watch([source.config, source.definitions + '/**/*.less', source.site + '/**/*.{overrides,variables}', source.themes + '/**/*.{overrides,variables}'], function (file) {\n    var lessPath, stream, compressedStream, uncompressedStream, isDefinition, isPackagedTheme, isSiteTheme, isConfig; // log modified file\n\n    gulp.src(file.path).pipe(print(log.modified));\n    /*--------------\n       Find Source\n    ---------------*/\n    // recompile on *.override , *.variable change\n\n    isConfig = file.path.indexOf('theme.config') !== -1 || file.path.indexOf('site.variables') !== -1;\n    isPackagedTheme = file.path.indexOf(source.themes) !== -1;\n    isSiteTheme = file.path.indexOf(source.site) !== -1;\n    isDefinition = file.path.indexOf(source.definitions) !== -1;\n\n    if (isConfig) {\n      // console.info('Rebuilding all files');\n      // cant rebuild paths are wrong\n      // gulp.start('build-docs');\n      return;\n    } else if (isPackagedTheme) {\n      console.log('Change detected in packaged theme');\n      lessPath = util.replaceExtension(file.path, '.less');\n      lessPath = lessPath.replace(tasks.regExp.theme, source.definitions);\n    } else if (isSiteTheme) {\n      console.log('Change detected in site theme');\n      lessPath = util.replaceExtension(file.path, '.less');\n      lessPath = lessPath.replace(source.site, source.definitions);\n    } else {\n      console.log('Change detected in definition');\n      lessPath = file.path;\n    }\n    /*--------------\n      Create CSS\n    ---------------*/\n\n\n    if (fs.existsSync(lessPath)) {\n      // unified css stream\n      stream = gulp.src(lessPath).pipe(plumber()).pipe(less(settings.less)).pipe(replace(comments.variables.in, comments.variables.out)).pipe(replace(comments.large.in, comments.large.out)).pipe(replace(comments.small.in, comments.small.out)).pipe(replace(comments.tiny.in, comments.tiny.out)).pipe(autoprefixer(settings.prefix)).pipe(gulpif(config.hasPermission, chmod(config.permission))); // use 2 concurrent streams from same pipe\n\n      uncompressedStream = stream.pipe(clone());\n      compressedStream = stream.pipe(clone());\n      uncompressedStream.pipe(plumber()).pipe(replace(assets.source, assets.uncompressed)).pipe(header(banner, settings.header)).pipe(gulp.dest(output.uncompressed)).pipe(print(log.created)).on('end', function () {\n        gulp.start('package uncompressed docs css');\n      });\n      compressedStream = stream.pipe(plumber()).pipe(replace(assets.source, assets.compressed)).pipe(minifyCSS(settings.minify)).pipe(rename(settings.rename.minCSS)).pipe(header(banner, settings.header)).pipe(gulp.dest(output.compressed)).pipe(print(log.created)).on('end', function () {\n        gulp.start('package compressed docs css');\n      });\n    } else {\n      console.log('Cannot find UI definition at path', lessPath);\n    }\n  });\n  /*--------------\n      Watch JS\n  ---------------*/\n\n  gulp.watch([source.definitions + '/**/*.js'], function (file) {\n    gulp.src(file.path).pipe(plumber()).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.uncompressed)).pipe(print(log.created)).pipe(uglify(settings.uglify)).pipe(rename(settings.rename.minJS)).pipe(gulp.dest(output.compressed)).pipe(print(log.created)).on('end', function () {\n      gulp.start('package compressed docs js');\n      gulp.start('package uncompressed docs js');\n    });\n  });\n  /*--------------\n    Watch Assets\n  ---------------*/\n  // only copy assets that match component names (or their plural)\n\n  gulp.watch([source.themes + '/**/assets/**/' + globs.components + '?(s).*'], function (file) {\n    // copy assets\n    gulp.src(file.path, {\n      base: source.themes\n    }).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.themes)).pipe(print(log.created));\n  });\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"rtl\":{\"build.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/rtl/build.js                                                                                         //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n          Build Task\n*******************************/\nvar gulp = require('gulp'),\n    // node dependencies\nfs = require('fs'),\n    // gulp dependencies\nautoprefixer = require('gulp-autoprefixer'),\n    chmod = require('gulp-chmod'),\n    clone = require('gulp-clone'),\n    flatten = require('gulp-flatten'),\n    gulpif = require('gulp-if'),\n    less = require('gulp-less'),\n    minifyCSS = require('gulp-clean-css'),\n    plumber = require('gulp-plumber'),\n    print = require('gulp-print'),\n    rename = require('gulp-rename'),\n    replace = require('gulp-replace'),\n    rtlcss = require('gulp-rtlcss'),\n    uglify = require('gulp-uglify'),\n    // user config\nconfig = require('../config/user'),\n    // install config\ntasks = require('../config/tasks'),\n    install = require('../config/project/install'),\n    // shorthand\nglobs = config.globs,\n    assets = config.paths.assets,\n    output = config.paths.output,\n    source = config.paths.source,\n    banner = tasks.banner,\n    comments = tasks.regExp.comments,\n    log = tasks.log,\n    settings = tasks.settings; // add internal tasks (concat release)\n\n\nrequire('../collections/internal')(gulp);\n\nmodule.exports = function (callback) {\n  var stream, compressedStream, uncompressedStream;\n  console.info('Building Semantic');\n\n  if (!install.isSetup()) {\n    console.error('Cannot build files. Run \"gulp install\" to set-up Semantic');\n    return;\n  } // unified css stream\n\n\n  stream = gulp.src(source.definitions + '/**/' + globs.components + '.less').pipe(plumber()).pipe(less(settings.less)).pipe(autoprefixer(settings.prefix)).pipe(rtlcss()).pipe(replace(comments.variables.in, comments.variables.out)).pipe(replace(comments.license.in, comments.license.out)).pipe(replace(comments.large.in, comments.large.out)).pipe(replace(comments.small.in, comments.small.out)).pipe(replace(comments.tiny.in, comments.tiny.out)).pipe(flatten()); // two concurrent streams from same source to concat release\n\n  uncompressedStream = stream.pipe(clone());\n  compressedStream = stream.pipe(clone());\n  uncompressedStream.pipe(plumber()).pipe(replace(assets.source, assets.uncompressed)).pipe(rename(settings.rename.rtlCSS)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.uncompressed)).pipe(print(log.created)).on('end', function () {\n    gulp.start('package uncompressed rtl css');\n  });\n  compressedStream = stream.pipe(plumber()).pipe(clone()).pipe(replace(assets.source, assets.compressed)).pipe(minifyCSS(settings.minify)).pipe(rename(settings.rename.rtlMinCSS)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.compressed)).pipe(print(log.created)).on('end', function () {\n    callback();\n    gulp.start('package compressed rtl css');\n  }); // copy assets\n\n  gulp.src(source.themes + '/**/assets/**/' + globs.components + '?(s).*').pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.themes)); // copy source javascript\n\n  gulp.src(source.definitions + '/**/' + globs.components + '.js').pipe(plumber()).pipe(flatten()).pipe(replace(comments.license.in, comments.license.out)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.uncompressed)).pipe(print(log.created)).pipe(uglify(settings.uglify)).pipe(rename(settings.rename.minJS)).pipe(gulp.dest(output.compressed)).pipe(print(log.created)).on('end', function () {\n    gulp.start('package compressed js');\n    gulp.start('package uncompressed js');\n  });\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"watch.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/rtl/watch.js                                                                                         //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n           Watch Task\n*******************************/\nvar gulp = require('gulp'),\n    // node deps\nconsole = require('better-console'),\n    fs = require('fs'),\n    // gulp deps\nautoprefixer = require('gulp-autoprefixer'),\n    chmod = require('gulp-chmod'),\n    clone = require('gulp-clone'),\n    gulpif = require('gulp-if'),\n    less = require('gulp-less'),\n    minifyCSS = require('gulp-clean-css'),\n    plumber = require('gulp-plumber'),\n    print = require('gulp-print'),\n    rename = require('gulp-rename'),\n    replace = require('gulp-replace'),\n    rtlcss = require('gulp-rtlcss'),\n    uglify = require('gulp-uglify'),\n    util = require('gulp-util'),\n    watch = require('gulp-watch'),\n    // user config\nconfig = require('../config/user'),\n    // task config\ntasks = require('../config/tasks'),\n    install = require('../config/project/install'),\n    // shorthand\nglobs = config.globs,\n    assets = config.paths.assets,\n    output = config.paths.output,\n    source = config.paths.source,\n    banner = tasks.banner,\n    comments = tasks.regExp.comments,\n    log = tasks.log,\n    settings = tasks.settings; // add internal tasks (concat release)\n\n\nrequire('../collections/internal')(gulp);\n\nmodule.exports = function (callback) {\n  if (!install.isSetup()) {\n    console.error('Cannot watch files. Run \"gulp install\" to set-up Semantic');\n    return;\n  }\n\n  console.clear();\n  console.log('Watching source files for changes');\n  /*--------------\n      Watch CSS\n  ---------------*/\n\n  gulp.watch([source.config, source.definitions + '/**/*.less', source.site + '/**/*.{overrides,variables}', source.themes + '/**/*.{overrides,variables}'], function (file) {\n    var lessPath, stream, compressedStream, uncompressedStream, isDefinition, isPackagedTheme, isSiteTheme, isConfig; // log modified file\n\n    gulp.src(file.path).pipe(print(log.modified));\n    /*--------------\n       Find Source\n    ---------------*/\n    // recompile on *.override , *.variable change\n\n    isConfig = file.path.indexOf('.config') !== -1;\n    isPackagedTheme = file.path.indexOf(source.themes) !== -1;\n    isSiteTheme = file.path.indexOf(source.site) !== -1;\n    isDefinition = file.path.indexOf(source.definitions) !== -1;\n\n    if (isConfig) {\n      console.log('Change detected in theme config'); // cant tell which theme was changed in theme.config, rebuild all\n\n      gulp.start('build');\n    } else if (isPackagedTheme) {\n      console.log('Change detected in packaged theme');\n      lessPath = lessPath.replace(tasks.regExp.theme, source.definitions);\n      lessPath = util.replaceExtension(file.path, '.less');\n    } else if (isSiteTheme) {\n      console.log('Change detected in site theme');\n      lessPath = lessPath.replace(source.site, source.definitions);\n      lessPath = util.replaceExtension(file.path, '.less');\n    } else if (isDefinition) {\n      console.log('Change detected in definition');\n      lessPath = util.replaceExtension(file.path, '.less');\n    }\n    /*--------------\n       Create CSS\n    ---------------*/\n\n\n    if (fs.existsSync(lessPath)) {\n      // unified css stream\n      stream = gulp.src(lessPath).pipe(plumber()).pipe(less(settings.less)).pipe(replace(comments.variables.in, comments.variables.out)).pipe(replace(comments.license.in, comments.license.out)).pipe(replace(comments.large.in, comments.large.out)).pipe(replace(comments.small.in, comments.small.out)).pipe(replace(comments.tiny.in, comments.tiny.out)).pipe(autoprefixer(settings.prefix)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(rtlcss()); // use 2 concurrent streams from same pipe\n\n      uncompressedStream = stream.pipe(clone());\n      compressedStream = stream.pipe(clone());\n      uncompressedStream.pipe(plumber()).pipe(replace(assets.source, assets.uncompressed)).pipe(rename(settings.rename.rtlCSS)).pipe(gulp.dest(output.uncompressed)).pipe(print(log.created)).on('end', function () {\n        gulp.start('package uncompressed rtl css');\n      });\n      compressedStream = stream.pipe(plumber()).pipe(replace(assets.source, assets.compressed)).pipe(minifyCSS(settings.minify)).pipe(rename(settings.rename.minCSS)).pipe(rename(settings.rename.rtlMinCSS)).pipe(gulp.dest(output.compressed)).pipe(print(log.created)).on('end', function () {\n        gulp.start('package compressed rtl css');\n      });\n    } else {\n      console.log('Cannot find UI definition at path', lessPath);\n    }\n  });\n  /*--------------\n      Watch JS\n  ---------------*/\n\n  gulp.watch([source.definitions + '/**/*.js'], function (file) {\n    gulp.src(file.path).pipe(plumber()).pipe(replace(comments.license.in, comments.license.out)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.uncompressed)).pipe(print(log.created)).pipe(uglify(settings.uglify)).pipe(rename(settings.rename.minJS)).pipe(gulp.dest(output.compressed)).pipe(print(log.created)).on('end', function () {\n      gulp.start('package compressed js');\n      gulp.start('package uncompressed js');\n    });\n  });\n  /*--------------\n    Watch Assets\n  ---------------*/\n  // only copy assets that match component names (or their plural)\n\n  gulp.watch([source.themes + '/**/assets/**/' + globs.components + '?(s).*'], function (file) {\n    // copy assets\n    gulp.src(file.path, {\n      base: source.themes\n    }).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.themes)).pipe(print(log.created));\n  });\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"build.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/build.js                                                                                             //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n          Build Task\n*******************************/\nvar // dependencies\ngulp = require('gulp-help')(require('gulp')),\n    runSequence = require('run-sequence'),\n    // config\nconfig = require('./config/user'),\n    install = require('./config/project/install'),\n    // task sequence\ntasks = []; // sub-tasks\n\n\nif (config.rtl) {\n  require('./collections/rtl')(gulp);\n}\n\nrequire('./collections/build')(gulp);\n\nmodule.exports = function (callback) {\n  console.info('Building Semantic');\n\n  if (!install.isSetup()) {\n    console.error('Cannot find semantic.json. Run \"gulp install\" to set-up Semantic');\n    return 1;\n  } // check for right-to-left (RTL) language\n\n\n  if (config.rtl === true || config.rtl === 'Yes') {\n    gulp.start('build-rtl');\n    return;\n  }\n\n  if (config.rtl == 'both') {\n    tasks.push('build-rtl');\n  }\n\n  tasks.push('build-javascript');\n  tasks.push('build-css');\n  tasks.push('build-assets');\n  runSequence(tasks, callback);\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"check-install.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/check-install.js                                                                                     //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n         Check Install\n*******************************/\nvar // node dependencies\ngulp = require('gulp'),\n    fs = require('fs'),\n    console = require('better-console'),\n    install = require('./config/project/install'); // export task\n\n\nmodule.exports = function () {\n  setTimeout(function () {\n    if (!install.isSetup()) {\n      console.log('Starting install...');\n      gulp.start('install');\n      return;\n    } else {\n      gulp.start('watch');\n    }\n  }, 50); // Delay to allow console.clear to remove messages from check event\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"clean.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/clean.js                                                                                             //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n          Clean Task\n*******************************/\nvar del = require('del'),\n    config = require('./config/user'),\n    tasks = require('./config/tasks'); // cleans distribution files\n\n\nmodule.exports = function (callback) {\n  return del([config.paths.clean], tasks.settings.del, callback);\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"install.js\":function(require,exports,module,__filename,__dirname){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/install.js                                                                                           //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n         Install Task\n*******************************/\n\n/*\n   Install tasks\n\n   For more notes\n\n   * Runs automatically after npm update (hooks)\n   * (NPM) Install - Will ask for where to put semantic (outside pm folder)\n   * (NPM) Upgrade - Will look for semantic install, copy over files and update if new version\n   * Standard installer runs asking for paths to site files etc\n\n*/\nvar gulp = require('gulp'),\n    // node dependencies\nconsole = require('better-console'),\n    extend = require('extend'),\n    fs = require('fs'),\n    mkdirp = require('mkdirp'),\n    path = require('path'),\n    runSequence = require('run-sequence'),\n    // gulp dependencies\nchmod = require('gulp-chmod'),\n    del = require('del'),\n    jsonEditor = require('gulp-json-editor'),\n    plumber = require('gulp-plumber'),\n    prompt = require('prompt-sui'),\n    rename = require('gulp-rename'),\n    replace = require('gulp-replace'),\n    requireDotFile = require('require-dot-file'),\n    wrench = require('wrench-sui'),\n    // install config\ninstall = require('./config/project/install'),\n    // user config\nconfig = require('./config/user'),\n    // release config (name/title/etc)\nrelease = require('./config/project/release'),\n    // shorthand\nquestions = install.questions,\n    files = install.files,\n    folders = install.folders,\n    regExp = install.regExp,\n    settings = install.settings,\n    source = install.source; // Export install task\n\n\nmodule.exports = function (callback) {\n  var currentConfig = requireDotFile('semantic.json'),\n      manager = install.getPackageManager(),\n      rootQuestions = questions.root,\n      installFolder = false,\n      answers;\n  console.clear();\n  /* Test NPM install\n  manager = {\n    name : 'NPM',\n    root : path.normalize(__dirname + '/../')\n  };\n  */\n\n  /* Don't do end user config if SUI is a sub-module */\n\n  if (install.isSubModule()) {\n    console.info('SUI is a sub-module, skipping end-user install');\n    return;\n  }\n  /*-----------------\n      Update SUI\n  -----------------*/\n  // run update scripts if semantic.json exists\n\n\n  if (currentConfig && manager.name === 'NPM') {\n    var updateFolder = path.join(manager.root, currentConfig.base),\n        updatePaths = {\n      config: path.join(manager.root, files.config),\n      tasks: path.join(updateFolder, folders.tasks),\n      themeImport: path.join(updateFolder, folders.themeImport),\n      definition: path.join(currentConfig.paths.source.definitions),\n      site: path.join(currentConfig.paths.source.site),\n      theme: path.join(currentConfig.paths.source.themes),\n      defaultTheme: path.join(currentConfig.paths.source.themes, folders.defaultTheme)\n    }; // duck-type if there is a project installed\n\n    if (fs.existsSync(updatePaths.definition)) {\n      // perform update if new version\n      if (currentConfig.version !== release.version) {\n        console.log('Updating Semantic UI from ' + currentConfig.version + ' to ' + release.version);\n        console.info('Updating ui definitions...');\n        wrench.copyDirSyncRecursive(source.definitions, updatePaths.definition, settings.wrench.overwrite);\n        console.info('Updating default theme...');\n        wrench.copyDirSyncRecursive(source.themes, updatePaths.theme, settings.wrench.merge);\n        wrench.copyDirSyncRecursive(source.defaultTheme, updatePaths.defaultTheme, settings.wrench.overwrite);\n        console.info('Updating tasks...');\n        wrench.copyDirSyncRecursive(source.tasks, updatePaths.tasks, settings.wrench.overwrite);\n        console.info('Updating gulpfile.js');\n        gulp.src(source.userGulpFile).pipe(plumber()).pipe(gulp.dest(updateFolder)); // copy theme import\n\n        console.info('Updating theme import file');\n        gulp.src(source.themeImport).pipe(plumber()).pipe(gulp.dest(updatePaths.themeImport));\n        console.info('Adding new site theme files...');\n        wrench.copyDirSyncRecursive(source.site, updatePaths.site, settings.wrench.merge);\n        console.info('Updating version...'); // update version number in semantic.json\n\n        gulp.src(updatePaths.config).pipe(plumber()).pipe(rename(settings.rename.json)) // preserve file extension\n        .pipe(jsonEditor({\n          version: release.version\n        })).pipe(gulp.dest(manager.root));\n        console.info('Update complete! Run \"\\x1b[92mgulp build\\x1b[0m\" to rebuild dist/ files.');\n        return;\n      } else {\n        console.log('Current version of Semantic UI already installed');\n        return;\n      }\n    } else {\n      console.error('Cannot locate files to update at path: ', updatePaths.definition);\n      console.log('Running installer');\n    }\n  }\n  /*--------------\n   Determine Root\n  ---------------*/\n  // PM that supports Build Tools (NPM Only Now)\n\n\n  if (manager.name == 'NPM') {\n    rootQuestions[0].message = rootQuestions[0].message.replace('{packageMessage}', 'We detected you are using ' + manager.name + ' Nice!').replace('{root}', manager.root); // set default path to detected PM root\n\n    rootQuestions[0].default = manager.root;\n    rootQuestions[1].default = manager.root; // insert PM questions after \"Install Type\" question\n\n    Array.prototype.splice.apply(questions.setup, [2, 0].concat(rootQuestions)); // omit cleanup questions for managed install\n\n    questions.cleanup = [];\n  }\n  /*--------------\n     Create SUI\n  ---------------*/\n\n\n  gulp.task('run setup', function () {\n    // If auto-install is switched on, we skip the configuration section and simply reuse the configuration from semantic.json\n    if (install.shouldAutoInstall()) {\n      answers = {\n        overwrite: 'yes',\n        install: 'auto',\n        useRoot: true,\n        semanticRoot: currentConfig.base\n      };\n    } else {\n      return gulp.src('gulpfile.js').pipe(prompt.prompt(questions.setup, function (setupAnswers) {\n        // hoist\n        answers = setupAnswers;\n      }));\n    }\n  });\n  gulp.task('create install files', function (callback) {\n    /*--------------\n     Exit Conditions\n    ---------------*/\n    // if config exists and user specifies not to proceed\n    if (answers.overwrite !== undefined && answers.overwrite == 'no') {\n      return;\n    }\n\n    console.clear();\n\n    if (install.shouldAutoInstall()) {\n      console.log('Auto-Installing (Without User Interaction)');\n    } else {\n      console.log('Installing');\n    }\n\n    console.log('------------------------------');\n    /*--------------\n          Paths\n    ---------------*/\n\n    var installPaths = {\n      config: files.config,\n      configFolder: folders.config,\n      site: answers.site || folders.site,\n      themeConfig: files.themeConfig,\n      themeConfigFolder: folders.themeConfig\n    };\n    /*--------------\n      NPM Install\n    ---------------*/\n    // Check if PM install\n\n    if (manager && (answers.useRoot || answers.customRoot)) {\n      // Set root to custom root path if set\n      if (answers.customRoot) {\n        if (answers.customRoot === '') {\n          console.log('Unable to proceed, invalid project root');\n          return;\n        }\n\n        manager.root = answers.customRoot;\n      } // special install paths only for PM install\n\n\n      installPaths = extend(false, {}, installPaths, {\n        definition: folders.definitions,\n        lessImport: folders.lessImport,\n        tasks: folders.tasks,\n        theme: folders.themes,\n        defaultTheme: path.join(folders.themes, folders.defaultTheme),\n        themeImport: folders.themeImport\n      }); // add project root to semantic root\n\n      installFolder = path.join(manager.root, answers.semanticRoot); // add install folder to all output paths\n\n      for (var destination in meteorBabelHelpers.sanitizeForInObject(installPaths)) {\n        if (installPaths.hasOwnProperty(destination)) {\n          // config goes in project root, rest in install folder\n          installPaths[destination] = destination == 'config' || destination == 'configFolder' ? path.normalize(path.join(manager.root, installPaths[destination])) : path.normalize(path.join(installFolder, installPaths[destination]));\n        }\n      } // create project folders\n\n\n      try {\n        mkdirp.sync(installFolder);\n        mkdirp.sync(installPaths.definition);\n        mkdirp.sync(installPaths.theme);\n        mkdirp.sync(installPaths.tasks);\n      } catch (error) {\n        console.error('NPM does not have permissions to create folders at your specified path. Adjust your folders permissions and run \"npm install\" again');\n      }\n\n      console.log('Installing to \\x1b[92m' + answers.semanticRoot + '\\x1b[0m');\n      console.info('Copying UI definitions');\n      wrench.copyDirSyncRecursive(source.definitions, installPaths.definition, settings.wrench.overwrite);\n      console.info('Copying UI themes');\n      wrench.copyDirSyncRecursive(source.themes, installPaths.theme, settings.wrench.merge);\n      wrench.copyDirSyncRecursive(source.defaultTheme, installPaths.defaultTheme, settings.wrench.overwrite);\n      console.info('Copying gulp tasks');\n      wrench.copyDirSyncRecursive(source.tasks, installPaths.tasks, settings.wrench.overwrite); // copy theme import\n\n      console.info('Adding theme files');\n      gulp.src(source.themeImport).pipe(plumber()).pipe(gulp.dest(installPaths.themeImport));\n      gulp.src(source.lessImport).pipe(plumber()).pipe(gulp.dest(installPaths.lessImport)); // create gulp file\n\n      console.info('Creating gulpfile.js');\n      gulp.src(source.userGulpFile).pipe(plumber()).pipe(gulp.dest(installFolder));\n    }\n    /*--------------\n       Site Theme\n    ---------------*/\n    // Copy _site templates folder to destination\n\n\n    if (fs.existsSync(installPaths.site)) {\n      console.info('Site folder exists, merging files (no overwrite)', installPaths.site);\n    } else {\n      console.info('Creating site theme folder', installPaths.site);\n    }\n\n    wrench.copyDirSyncRecursive(source.site, installPaths.site, settings.wrench.merge);\n    /*--------------\n      Theme Config\n    ---------------*/\n\n    gulp.task('create theme.config', function () {\n      var // determine path to site theme folder from theme config\n      // force CSS path variable to use forward slashes for paths\n      pathToSite = path.relative(path.resolve(installPaths.themeConfigFolder), path.resolve(installPaths.site)).replace(/\\\\/g, '/'),\n          siteVariable = \"@siteFolder   : '\" + pathToSite + \"/';\"; // rewrite site variable in theme.less\n\n      console.info('Adjusting @siteFolder to: ', pathToSite + '/');\n\n      if (fs.existsSync(installPaths.themeConfig)) {\n        console.info('Modifying src/theme.config (LESS config)', installPaths.themeConfig);\n        return gulp.src(installPaths.themeConfig).pipe(plumber()).pipe(replace(regExp.siteVariable, siteVariable)).pipe(gulp.dest(installPaths.themeConfigFolder));\n      } else {\n        console.info('Creating src/theme.config (LESS config)', installPaths.themeConfig);\n        return gulp.src(source.themeConfig).pipe(plumber()).pipe(rename({\n          extname: ''\n        })).pipe(replace(regExp.siteVariable, siteVariable)).pipe(gulp.dest(installPaths.themeConfigFolder));\n      }\n    });\n    /*--------------\n      Semantic.json\n    ---------------*/\n\n    gulp.task('create semantic.json', function () {\n      var jsonConfig = install.createJSON(answers); // adjust variables in theme.less\n\n      if (fs.existsSync(installPaths.config)) {\n        console.info('Extending config file (semantic.json)', installPaths.config);\n        return gulp.src(installPaths.config).pipe(plumber()).pipe(rename(settings.rename.json)) // preserve file extension\n        .pipe(jsonEditor(jsonConfig)).pipe(gulp.dest(installPaths.configFolder));\n      } else {\n        console.info('Creating config file (semantic.json)', installPaths.config);\n        return gulp.src(source.config).pipe(plumber()).pipe(rename({\n          extname: ''\n        })) // remove .template from ext\n        .pipe(jsonEditor(jsonConfig)).pipe(gulp.dest(installPaths.configFolder));\n      }\n    });\n    runSequence('create theme.config', 'create semantic.json', callback);\n  });\n  gulp.task('clean up install', function () {\n    // Completion Message\n    if (installFolder && !install.shouldAutoInstall()) {\n      console.log('\\n Setup Complete! \\n Installing Peer Dependencies. \\x1b[0;31mPlease refrain from ctrl + c\\x1b[0m... \\n After completion navigate to \\x1b[92m' + answers.semanticRoot + '\\x1b[0m and run \"\\x1b[92mgulp build\\x1b[0m\" to build');\n      process.exit(0);\n    } else {\n      console.log('');\n      console.log('');\n    } // If auto-install is switched on, we skip the configuration section and simply build the dependencies\n\n\n    if (install.shouldAutoInstall()) {\n      return gulp.start('build');\n    } else {\n      return gulp.src('gulpfile.js').pipe(prompt.prompt(questions.cleanup, function (answers) {\n        if (answers.cleanup == 'yes') {\n          del(install.setupFiles);\n        }\n\n        if (answers.build == 'yes') {\n          gulp.start('build');\n        }\n      }));\n    }\n  });\n  runSequence('run setup', 'create install files', 'clean up install', callback);\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"version.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/version.js                                                                                           //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n          Version Task\n*******************************/\nvar release = require('./config/project/release');\n\nmodule.exports = function (callback) {\n  console.log(release.title + ' ' + release.version);\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"watch.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/tasks/watch.js                                                                                             //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n           Watch Task\n*******************************/\nvar gulp = require('gulp-help')(require('gulp')),\n    // node dependencies\nconsole = require('better-console'),\n    fs = require('fs'),\n    // gulp dependencies\nautoprefixer = require('gulp-autoprefixer'),\n    chmod = require('gulp-chmod'),\n    clone = require('gulp-clone'),\n    gulpif = require('gulp-if'),\n    less = require('gulp-less'),\n    minifyCSS = require('gulp-clean-css'),\n    plumber = require('gulp-plumber'),\n    print = require('gulp-print'),\n    rename = require('gulp-rename'),\n    replace = require('gulp-replace'),\n    uglify = require('gulp-uglify'),\n    util = require('gulp-util'),\n    watch = require('gulp-watch'),\n    // user config\nconfig = require('./config/user'),\n    // task config\ntasks = require('./config/tasks'),\n    install = require('./config/project/install'),\n    // shorthand\nglobs = config.globs,\n    assets = config.paths.assets,\n    output = config.paths.output,\n    source = config.paths.source,\n    banner = tasks.banner,\n    comments = tasks.regExp.comments,\n    log = tasks.log,\n    settings = tasks.settings; // add tasks referenced using gulp.run (sub-tasks)\n\n\nif (config.rtl) {\n  require('./collections/rtl')(gulp);\n}\n\nrequire('./collections/internal')(gulp); // export task\n\n\nmodule.exports = function (callback) {\n  if (!install.isSetup()) {\n    console.error('Cannot watch files. Run \"gulp install\" to set-up Semantic');\n    return;\n  } // check for right-to-left (RTL) language\n\n\n  if (config.rtl == 'both') {\n    gulp.start('watch-rtl');\n  }\n\n  if (config.rtl === true || config.rtl === 'Yes') {\n    gulp.start('watch-rtl');\n    return;\n  } //console.clear();\n\n\n  console.log('Watching source files for changes');\n  /*--------------\n      Watch CSS\n  ---------------*/\n\n  gulp.watch([source.config, source.definitions + '/**/*.less', source.site + '/**/*.{overrides,variables}', source.themes + '/**/*.{overrides,variables}'], function (file) {\n    var lessPath, stream, compressedStream, uncompressedStream, isDefinition, isPackagedTheme, isSiteTheme, isConfig; // log modified file\n\n    gulp.src(file.path).pipe(print(log.modified));\n    /*--------------\n       Find Source\n    ---------------*/\n    // recompile on *.override , *.variable change\n\n    isConfig = file.path.indexOf('theme.config') !== -1 || file.path.indexOf('site.variables') !== -1;\n    isPackagedTheme = file.path.indexOf(source.themes) !== -1;\n    isSiteTheme = file.path.indexOf(source.site) !== -1;\n    isDefinition = file.path.indexOf(source.definitions) !== -1;\n\n    if (isConfig) {\n      console.info('Rebuilding all UI'); // impossible to tell which file was updated in theme.config, rebuild all\n\n      gulp.start('build-css');\n      return;\n    } else if (isPackagedTheme) {\n      console.log('Change detected in packaged theme');\n      lessPath = util.replaceExtension(file.path, '.less');\n      lessPath = lessPath.replace(tasks.regExp.theme, source.definitions);\n    } else if (isSiteTheme) {\n      console.log('Change detected in site theme');\n      lessPath = util.replaceExtension(file.path, '.less');\n      lessPath = lessPath.replace(source.site, source.definitions);\n    } else {\n      console.log('Change detected in definition');\n      lessPath = file.path;\n    }\n    /*--------------\n       Create CSS\n    ---------------*/\n\n\n    if (fs.existsSync(lessPath)) {\n      // unified css stream\n      stream = gulp.src(lessPath).pipe(plumber(settings.plumber.less)).pipe(less(settings.less)).pipe(print(log.created)).pipe(replace(comments.variables.in, comments.variables.out)).pipe(replace(comments.license.in, comments.license.out)).pipe(replace(comments.large.in, comments.large.out)).pipe(replace(comments.small.in, comments.small.out)).pipe(replace(comments.tiny.in, comments.tiny.out)).pipe(autoprefixer(settings.prefix)).pipe(gulpif(config.hasPermission, chmod(config.permission))); // use 2 concurrent streams from same pipe\n\n      uncompressedStream = stream.pipe(clone());\n      compressedStream = stream.pipe(clone());\n      uncompressedStream.pipe(plumber()).pipe(replace(assets.source, assets.uncompressed)).pipe(gulp.dest(output.uncompressed)).pipe(print(log.created)).on('end', function () {\n        gulp.start('package uncompressed css');\n      });\n      compressedStream = stream.pipe(plumber()).pipe(replace(assets.source, assets.compressed)).pipe(minifyCSS(settings.minify)).pipe(rename(settings.rename.minCSS)).pipe(gulp.dest(output.compressed)).pipe(print(log.created)).on('end', function () {\n        gulp.start('package compressed css');\n      });\n    } else {\n      console.log('Cannot find UI definition at path', lessPath);\n    }\n  });\n  /*--------------\n      Watch JS\n  ---------------*/\n\n  gulp.watch([source.definitions + '/**/*.js'], function (file) {\n    gulp.src(file.path).pipe(plumber()).pipe(replace(comments.license.in, comments.license.out)).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.uncompressed)).pipe(print(log.created)).pipe(uglify(settings.uglify)).pipe(rename(settings.rename.minJS)).pipe(gulp.dest(output.compressed)).pipe(print(log.created)).on('end', function () {\n      gulp.start('package compressed js');\n      gulp.start('package uncompressed js');\n    });\n  });\n  /*--------------\n    Watch Assets\n  ---------------*/\n  // only copy assets that match component names (or their plural)\n\n  gulp.watch([source.themes + '/**/assets/**/*.*'], function (file) {\n    // copy assets\n    gulp.src(file.path, {\n      base: source.themes\n    }).pipe(gulpif(config.hasPermission, chmod(config.permission))).pipe(gulp.dest(output.themes)).pipe(print(log.created));\n  });\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"src\":{\"definitions\":{\"behaviors\":{\"api.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/behaviors/api.js                                                                           //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * # Semantic UI - API\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  var window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.api = $.fn.api = function (parameters) {\n    var // use window context if none specified\n    $allModules = $.isFunction(this) ? $(window) : $(this),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue;\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.api.settings, parameters) : $.extend({}, $.fn.api.settings),\n          // internal aliases\n      namespace = settings.namespace,\n          metadata = settings.metadata,\n          selector = settings.selector,\n          error = settings.error,\n          className = settings.className,\n          // define namespaces for modules\n      eventNamespace = '.' + namespace,\n          moduleNamespace = 'module-' + namespace,\n          // element that creates request\n      $module = $(this),\n          $form = $module.closest(selector.form),\n          // context used for state\n      $context = settings.stateContext ? $(settings.stateContext) : $module,\n          // request details\n      ajaxSettings,\n          requestSettings,\n          url,\n          data,\n          requestStartTime,\n          // standard module\n      element = this,\n          context = $context[0],\n          instance = $module.data(moduleNamespace),\n          module;\n      module = {\n        initialize: function () {\n          if (!methodInvoked) {\n            module.bind.events();\n          }\n\n          module.instantiate();\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module.data(moduleNamespace, instance);\n        },\n        destroy: function () {\n          module.verbose('Destroying previous module for', element);\n          $module.removeData(moduleNamespace).off(eventNamespace);\n        },\n        bind: {\n          events: function () {\n            var triggerEvent = module.get.event();\n\n            if (triggerEvent) {\n              module.verbose('Attaching API events to element', triggerEvent);\n              $module.on(triggerEvent + eventNamespace, module.event.trigger);\n            } else if (settings.on == 'now') {\n              module.debug('Querying API endpoint immediately');\n              module.query();\n            }\n          }\n        },\n        decode: {\n          json: function (response) {\n            if (response !== undefined && typeof response == 'string') {\n              try {\n                response = JSON.parse(response);\n              } catch (e) {// isnt json string\n              }\n            }\n\n            return response;\n          }\n        },\n        read: {\n          cachedResponse: function (url) {\n            var response;\n\n            if (window.Storage === undefined) {\n              module.error(error.noStorage);\n              return;\n            }\n\n            response = sessionStorage.getItem(url);\n            module.debug('Using cached response', url, response);\n            response = module.decode.json(response);\n            return response;\n          }\n        },\n        write: {\n          cachedResponse: function (url, response) {\n            if (response && response === '') {\n              module.debug('Response empty, not caching', response);\n              return;\n            }\n\n            if (window.Storage === undefined) {\n              module.error(error.noStorage);\n              return;\n            }\n\n            if ($.isPlainObject(response)) {\n              response = JSON.stringify(response);\n            }\n\n            sessionStorage.setItem(url, response);\n            module.verbose('Storing cached response for url', url, response);\n          }\n        },\n        query: function () {\n          if (module.is.disabled()) {\n            module.debug('Element is disabled API request aborted');\n            return;\n          }\n\n          if (module.is.loading()) {\n            if (settings.interruptRequests) {\n              module.debug('Interrupting previous request');\n              module.abort();\n            } else {\n              module.debug('Cancelling request, previous request is still pending');\n              return;\n            }\n          } // pass element metadata to url (value, text)\n\n\n          if (settings.defaultData) {\n            $.extend(true, settings.urlData, module.get.defaultData());\n          } // Add form content\n\n\n          if (settings.serializeForm) {\n            settings.data = module.add.formData(settings.data);\n          } // call beforesend and get any settings changes\n\n\n          requestSettings = module.get.settings(); // check if before send cancelled request\n\n          if (requestSettings === false) {\n            module.cancelled = true;\n            module.error(error.beforeSend);\n            return;\n          } else {\n            module.cancelled = false;\n          } // get url\n\n\n          url = module.get.templatedURL();\n\n          if (!url && !module.is.mocked()) {\n            module.error(error.missingURL);\n            return;\n          } // replace variables\n\n\n          url = module.add.urlData(url); // missing url parameters\n\n          if (!url && !module.is.mocked()) {\n            return;\n          }\n\n          requestSettings.url = settings.base + url; // look for jQuery ajax parameters in settings\n\n          ajaxSettings = $.extend(true, {}, settings, {\n            type: settings.method || settings.type,\n            data: data,\n            url: settings.base + url,\n            beforeSend: settings.beforeXHR,\n            success: function () {},\n            failure: function () {},\n            complete: function () {}\n          });\n          module.debug('Querying URL', ajaxSettings.url);\n          module.verbose('Using AJAX settings', ajaxSettings);\n\n          if (settings.cache === 'local' && module.read.cachedResponse(url)) {\n            module.debug('Response returned from local cache');\n            module.request = module.create.request();\n            module.request.resolveWith(context, [module.read.cachedResponse(url)]);\n            return;\n          }\n\n          if (!settings.throttle) {\n            module.debug('Sending request', data, ajaxSettings.method);\n            module.send.request();\n          } else {\n            if (!settings.throttleFirstRequest && !module.timer) {\n              module.debug('Sending request', data, ajaxSettings.method);\n              module.send.request();\n              module.timer = setTimeout(function () {}, settings.throttle);\n            } else {\n              module.debug('Throttling request', settings.throttle);\n              clearTimeout(module.timer);\n              module.timer = setTimeout(function () {\n                if (module.timer) {\n                  delete module.timer;\n                }\n\n                module.debug('Sending throttled request', data, ajaxSettings.method);\n                module.send.request();\n              }, settings.throttle);\n            }\n          }\n        },\n        should: {\n          removeError: function () {\n            return settings.hideError === true || settings.hideError === 'auto' && !module.is.form();\n          }\n        },\n        is: {\n          disabled: function () {\n            return $module.filter(selector.disabled).length > 0;\n          },\n          expectingJSON: function () {\n            return settings.dataType === 'json' || settings.dataType === 'jsonp';\n          },\n          form: function () {\n            return $module.is('form') || $context.is('form');\n          },\n          mocked: function () {\n            return settings.mockResponse || settings.mockResponseAsync || settings.response || settings.responseAsync;\n          },\n          input: function () {\n            return $module.is('input');\n          },\n          loading: function () {\n            return module.request ? module.request.state() == 'pending' : false;\n          },\n          abortedRequest: function (xhr) {\n            if (xhr && xhr.readyState !== undefined && xhr.readyState === 0) {\n              module.verbose('XHR request determined to be aborted');\n              return true;\n            } else {\n              module.verbose('XHR request was not aborted');\n              return false;\n            }\n          },\n          validResponse: function (response) {\n            if (!module.is.expectingJSON() || !$.isFunction(settings.successTest)) {\n              module.verbose('Response is not JSON, skipping validation', settings.successTest, response);\n              return true;\n            }\n\n            module.debug('Checking JSON returned success', settings.successTest, response);\n\n            if (settings.successTest(response)) {\n              module.debug('Response passed success test', response);\n              return true;\n            } else {\n              module.debug('Response failed success test', response);\n              return false;\n            }\n          }\n        },\n        was: {\n          cancelled: function () {\n            return module.cancelled || false;\n          },\n          succesful: function () {\n            return module.request && module.request.state() == 'resolved';\n          },\n          failure: function () {\n            return module.request && module.request.state() == 'rejected';\n          },\n          complete: function () {\n            return module.request && (module.request.state() == 'resolved' || module.request.state() == 'rejected');\n          }\n        },\n        add: {\n          urlData: function (url, urlData) {\n            var requiredVariables, optionalVariables;\n\n            if (url) {\n              requiredVariables = url.match(settings.regExp.required);\n              optionalVariables = url.match(settings.regExp.optional);\n              urlData = urlData || settings.urlData;\n\n              if (requiredVariables) {\n                module.debug('Looking for required URL variables', requiredVariables);\n                $.each(requiredVariables, function (index, templatedString) {\n                  var // allow legacy {$var} style\n                  variable = templatedString.indexOf('$') !== -1 ? templatedString.substr(2, templatedString.length - 3) : templatedString.substr(1, templatedString.length - 2),\n                      value = $.isPlainObject(urlData) && urlData[variable] !== undefined ? urlData[variable] : $module.data(variable) !== undefined ? $module.data(variable) : $context.data(variable) !== undefined ? $context.data(variable) : urlData[variable]; // remove value\n\n                  if (value === undefined) {\n                    module.error(error.requiredParameter, variable, url);\n                    url = false;\n                    return false;\n                  } else {\n                    module.verbose('Found required variable', variable, value);\n                    value = settings.encodeParameters ? module.get.urlEncodedValue(value) : value;\n                    url = url.replace(templatedString, value);\n                  }\n                });\n              }\n\n              if (optionalVariables) {\n                module.debug('Looking for optional URL variables', requiredVariables);\n                $.each(optionalVariables, function (index, templatedString) {\n                  var // allow legacy {/$var} style\n                  variable = templatedString.indexOf('$') !== -1 ? templatedString.substr(3, templatedString.length - 4) : templatedString.substr(2, templatedString.length - 3),\n                      value = $.isPlainObject(urlData) && urlData[variable] !== undefined ? urlData[variable] : $module.data(variable) !== undefined ? $module.data(variable) : $context.data(variable) !== undefined ? $context.data(variable) : urlData[variable]; // optional replacement\n\n                  if (value !== undefined) {\n                    module.verbose('Optional variable Found', variable, value);\n                    url = url.replace(templatedString, value);\n                  } else {\n                    module.verbose('Optional variable not found', variable); // remove preceding slash if set\n\n                    if (url.indexOf('/' + templatedString) !== -1) {\n                      url = url.replace('/' + templatedString, '');\n                    } else {\n                      url = url.replace(templatedString, '');\n                    }\n                  }\n                });\n              }\n            }\n\n            return url;\n          },\n          formData: function (data) {\n            var canSerialize = $.fn.serializeObject !== undefined,\n                formData = canSerialize ? $form.serializeObject() : $form.serialize(),\n                hasOtherData;\n            data = data || settings.data;\n            hasOtherData = $.isPlainObject(data);\n\n            if (hasOtherData) {\n              if (canSerialize) {\n                module.debug('Extending existing data with form data', data, formData);\n                data = $.extend(true, {}, data, formData);\n              } else {\n                module.error(error.missingSerialize);\n                module.debug('Cant extend data. Replacing data with form data', data, formData);\n                data = formData;\n              }\n            } else {\n              module.debug('Adding form data', formData);\n              data = formData;\n            }\n\n            return data;\n          }\n        },\n        send: {\n          request: function () {\n            module.set.loading();\n            module.request = module.create.request();\n\n            if (module.is.mocked()) {\n              module.mockedXHR = module.create.mockedXHR();\n            } else {\n              module.xhr = module.create.xhr();\n            }\n\n            settings.onRequest.call(context, module.request, module.xhr);\n          }\n        },\n        event: {\n          trigger: function (event) {\n            module.query();\n\n            if (event.type == 'submit' || event.type == 'click') {\n              event.preventDefault();\n            }\n          },\n          xhr: {\n            always: function () {// nothing special\n            },\n            done: function (response, textStatus, xhr) {\n              var context = this,\n                  elapsedTime = new Date().getTime() - requestStartTime,\n                  timeLeft = settings.loadingDuration - elapsedTime,\n                  translatedResponse = $.isFunction(settings.onResponse) ? module.is.expectingJSON() ? settings.onResponse.call(context, $.extend(true, {}, response)) : settings.onResponse.call(context, response) : false;\n              timeLeft = timeLeft > 0 ? timeLeft : 0;\n\n              if (translatedResponse) {\n                module.debug('Modified API response in onResponse callback', settings.onResponse, translatedResponse, response);\n                response = translatedResponse;\n              }\n\n              if (timeLeft > 0) {\n                module.debug('Response completed early delaying state change by', timeLeft);\n              }\n\n              setTimeout(function () {\n                if (module.is.validResponse(response)) {\n                  module.request.resolveWith(context, [response, xhr]);\n                } else {\n                  module.request.rejectWith(context, [xhr, 'invalid']);\n                }\n              }, timeLeft);\n            },\n            fail: function (xhr, status, httpMessage) {\n              var context = this,\n                  elapsedTime = new Date().getTime() - requestStartTime,\n                  timeLeft = settings.loadingDuration - elapsedTime;\n              timeLeft = timeLeft > 0 ? timeLeft : 0;\n\n              if (timeLeft > 0) {\n                module.debug('Response completed early delaying state change by', timeLeft);\n              }\n\n              setTimeout(function () {\n                if (module.is.abortedRequest(xhr)) {\n                  module.request.rejectWith(context, [xhr, 'aborted', httpMessage]);\n                } else {\n                  module.request.rejectWith(context, [xhr, 'error', status, httpMessage]);\n                }\n              }, timeLeft);\n            }\n          },\n          request: {\n            done: function (response, xhr) {\n              module.debug('Successful API Response', response);\n\n              if (settings.cache === 'local' && url) {\n                module.write.cachedResponse(url, response);\n                module.debug('Saving server response locally', module.cache);\n              }\n\n              settings.onSuccess.call(context, response, $module, xhr);\n            },\n            complete: function (firstParameter, secondParameter) {\n              var xhr, response; // have to guess callback parameters based on request success\n\n              if (module.was.succesful()) {\n                response = firstParameter;\n                xhr = secondParameter;\n              } else {\n                xhr = firstParameter;\n                response = module.get.responseFromXHR(xhr);\n              }\n\n              module.remove.loading();\n              settings.onComplete.call(context, response, $module, xhr);\n            },\n            fail: function (xhr, status, httpMessage) {\n              var // pull response from xhr if available\n              response = module.get.responseFromXHR(xhr),\n                  errorMessage = module.get.errorFromRequest(response, status, httpMessage);\n\n              if (status == 'aborted') {\n                module.debug('XHR Aborted (Most likely caused by page navigation or CORS Policy)', status, httpMessage);\n                settings.onAbort.call(context, status, $module, xhr);\n                return true;\n              } else if (status == 'invalid') {\n                module.debug('JSON did not pass success test. A server-side error has most likely occurred', response);\n              } else if (status == 'error') {\n                if (xhr !== undefined) {\n                  module.debug('XHR produced a server error', status, httpMessage); // make sure we have an error to display to console\n\n                  if (xhr.status != 200 && httpMessage !== undefined && httpMessage !== '') {\n                    module.error(error.statusMessage + httpMessage, ajaxSettings.url);\n                  }\n\n                  settings.onError.call(context, errorMessage, $module, xhr);\n                }\n              }\n\n              if (settings.errorDuration && status !== 'aborted') {\n                module.debug('Adding error state');\n                module.set.error();\n\n                if (module.should.removeError()) {\n                  setTimeout(module.remove.error, settings.errorDuration);\n                }\n              }\n\n              module.debug('API Request failed', errorMessage, xhr);\n              settings.onFailure.call(context, response, $module, xhr);\n            }\n          }\n        },\n        create: {\n          request: function () {\n            // api request promise\n            return $.Deferred().always(module.event.request.complete).done(module.event.request.done).fail(module.event.request.fail);\n          },\n          mockedXHR: function () {\n            var // xhr does not simulate these properties of xhr but must return them\n            textStatus = false,\n                status = false,\n                httpMessage = false,\n                responder = settings.mockResponse || settings.response,\n                asyncResponder = settings.mockResponseAsync || settings.responseAsync,\n                asyncCallback,\n                response,\n                mockedXHR;\n            mockedXHR = $.Deferred().always(module.event.xhr.complete).done(module.event.xhr.done).fail(module.event.xhr.fail);\n\n            if (responder) {\n              if ($.isFunction(responder)) {\n                module.debug('Using specified synchronous callback', responder);\n                response = responder.call(context, requestSettings);\n              } else {\n                module.debug('Using settings specified response', responder);\n                response = responder;\n              } // simulating response\n\n\n              mockedXHR.resolveWith(context, [response, textStatus, {\n                responseText: response\n              }]);\n            } else if ($.isFunction(asyncResponder)) {\n              asyncCallback = function (response) {\n                module.debug('Async callback returned response', response);\n\n                if (response) {\n                  mockedXHR.resolveWith(context, [response, textStatus, {\n                    responseText: response\n                  }]);\n                } else {\n                  mockedXHR.rejectWith(context, [{\n                    responseText: response\n                  }, status, httpMessage]);\n                }\n              };\n\n              module.debug('Using specified async response callback', asyncResponder);\n              asyncResponder.call(context, requestSettings, asyncCallback);\n            }\n\n            return mockedXHR;\n          },\n          xhr: function () {\n            var xhr; // ajax request promise\n\n            xhr = $.ajax(ajaxSettings).always(module.event.xhr.always).done(module.event.xhr.done).fail(module.event.xhr.fail);\n            module.verbose('Created server request', xhr, ajaxSettings);\n            return xhr;\n          }\n        },\n        set: {\n          error: function () {\n            module.verbose('Adding error state to element', $context);\n            $context.addClass(className.error);\n          },\n          loading: function () {\n            module.verbose('Adding loading state to element', $context);\n            $context.addClass(className.loading);\n            requestStartTime = new Date().getTime();\n          }\n        },\n        remove: {\n          error: function () {\n            module.verbose('Removing error state from element', $context);\n            $context.removeClass(className.error);\n          },\n          loading: function () {\n            module.verbose('Removing loading state from element', $context);\n            $context.removeClass(className.loading);\n          }\n        },\n        get: {\n          responseFromXHR: function (xhr) {\n            return $.isPlainObject(xhr) ? module.is.expectingJSON() ? module.decode.json(xhr.responseText) : xhr.responseText : false;\n          },\n          errorFromRequest: function (response, status, httpMessage) {\n            return $.isPlainObject(response) && response.error !== undefined ? response.error // use json error message\n            : settings.error[status] !== undefined ? // use server error message\n            settings.error[status] : httpMessage;\n          },\n          request: function () {\n            return module.request || false;\n          },\n          xhr: function () {\n            return module.xhr || false;\n          },\n          settings: function () {\n            var runSettings;\n            runSettings = settings.beforeSend.call(context, settings);\n\n            if (runSettings) {\n              if (runSettings.success !== undefined) {\n                module.debug('Legacy success callback detected', runSettings);\n                module.error(error.legacyParameters, runSettings.success);\n                runSettings.onSuccess = runSettings.success;\n              }\n\n              if (runSettings.failure !== undefined) {\n                module.debug('Legacy failure callback detected', runSettings);\n                module.error(error.legacyParameters, runSettings.failure);\n                runSettings.onFailure = runSettings.failure;\n              }\n\n              if (runSettings.complete !== undefined) {\n                module.debug('Legacy complete callback detected', runSettings);\n                module.error(error.legacyParameters, runSettings.complete);\n                runSettings.onComplete = runSettings.complete;\n              }\n            }\n\n            if (runSettings === undefined) {\n              module.error(error.noReturnedValue);\n            }\n\n            if (runSettings === false) {\n              return runSettings;\n            }\n\n            return runSettings !== undefined ? $.extend(true, {}, runSettings) : $.extend(true, {}, settings);\n          },\n          urlEncodedValue: function (value) {\n            var decodedValue = window.decodeURIComponent(value),\n                encodedValue = window.encodeURIComponent(value),\n                alreadyEncoded = decodedValue !== value;\n\n            if (alreadyEncoded) {\n              module.debug('URL value is already encoded, avoiding double encoding', value);\n              return value;\n            }\n\n            module.verbose('Encoding value using encodeURIComponent', value, encodedValue);\n            return encodedValue;\n          },\n          defaultData: function () {\n            var data = {};\n\n            if (!$.isWindow(element)) {\n              if (module.is.input()) {\n                data.value = $module.val();\n              } else if (module.is.form()) {} else {\n                data.text = $module.text();\n              }\n            }\n\n            return data;\n          },\n          event: function () {\n            if ($.isWindow(element) || settings.on == 'now') {\n              module.debug('API called without element, no events attached');\n              return false;\n            } else if (settings.on == 'auto') {\n              if ($module.is('input')) {\n                return element.oninput !== undefined ? 'input' : element.onpropertychange !== undefined ? 'propertychange' : 'keyup';\n              } else if ($module.is('form')) {\n                return 'submit';\n              } else {\n                return 'click';\n              }\n            } else {\n              return settings.on;\n            }\n          },\n          templatedURL: function (action) {\n            action = action || $module.data(metadata.action) || settings.action || false;\n            url = $module.data(metadata.url) || settings.url || false;\n\n            if (url) {\n              module.debug('Using specified url', url);\n              return url;\n            }\n\n            if (action) {\n              module.debug('Looking up url for action', action, settings.api);\n\n              if (settings.api[action] === undefined && !module.is.mocked()) {\n                module.error(error.missingAction, settings.action, settings.api);\n                return;\n              }\n\n              url = settings.api[action];\n            } else if (module.is.form()) {\n              url = $module.attr('action') || $context.attr('action') || false;\n              module.debug('No url or action specified, defaulting to form action', url);\n            }\n\n            return url;\n          }\n        },\n        abort: function () {\n          var xhr = module.get.xhr();\n\n          if (xhr && xhr.state() !== 'resolved') {\n            module.debug('Cancelling API request');\n            xhr.abort();\n          }\n        },\n        // reset state\n        reset: function () {\n          module.remove.error();\n          module.remove.loading();\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                //'Element'        : element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.api.settings = {\n    name: 'API',\n    namespace: 'api',\n    debug: false,\n    verbose: false,\n    performance: true,\n    // object containing all templates endpoints\n    api: {},\n    // whether to cache responses\n    cache: true,\n    // whether new requests should abort previous requests\n    interruptRequests: true,\n    // event binding\n    on: 'auto',\n    // context for applying state classes\n    stateContext: false,\n    // duration for loading state\n    loadingDuration: 0,\n    // whether to hide errors after a period of time\n    hideError: 'auto',\n    // duration for error state\n    errorDuration: 2000,\n    // whether parameters should be encoded with encodeURIComponent\n    encodeParameters: true,\n    // API action to use\n    action: false,\n    // templated URL to use\n    url: false,\n    // base URL to apply to all endpoints\n    base: '',\n    // data that will\n    urlData: {},\n    // whether to add default data to url data\n    defaultData: true,\n    // whether to serialize closest form\n    serializeForm: false,\n    // how long to wait before request should occur\n    throttle: 0,\n    // whether to throttle first request or only repeated\n    throttleFirstRequest: true,\n    // standard ajax settings\n    method: 'get',\n    data: {},\n    dataType: 'json',\n    // mock response\n    mockResponse: false,\n    mockResponseAsync: false,\n    // aliases for mock\n    response: false,\n    responseAsync: false,\n    // callbacks before request\n    beforeSend: function (settings) {\n      return settings;\n    },\n    beforeXHR: function (xhr) {},\n    onRequest: function (promise, xhr) {},\n    // after request\n    onResponse: false,\n    // function(response) { },\n    // response was successful, if JSON passed validation\n    onSuccess: function (response, $module) {},\n    // request finished without aborting\n    onComplete: function (response, $module) {},\n    // failed JSON success test\n    onFailure: function (response, $module) {},\n    // server error\n    onError: function (errorMessage, $module) {},\n    // request aborted\n    onAbort: function (errorMessage, $module) {},\n    successTest: false,\n    // errors\n    error: {\n      beforeSend: 'The before send function has aborted the request',\n      error: 'There was an error with your request',\n      exitConditions: 'API Request Aborted. Exit conditions met',\n      JSONParse: 'JSON could not be parsed during error handling',\n      legacyParameters: 'You are using legacy API success callback names',\n      method: 'The method you called is not defined',\n      missingAction: 'API action used but no url was defined',\n      missingSerialize: 'jquery-serialize-object is required to add form data to an existing data object',\n      missingURL: 'No URL specified for api event',\n      noReturnedValue: 'The beforeSend callback must return a settings object, beforeSend ignored.',\n      noStorage: 'Caching responses locally requires session storage',\n      parseError: 'There was an error parsing your request',\n      requiredParameter: 'Missing a required URL parameter: ',\n      statusMessage: 'Server gave an error: ',\n      timeout: 'Your request timed out'\n    },\n    regExp: {\n      required: /\\{\\$*[A-z0-9]+\\}/g,\n      optional: /\\{\\/\\$*[A-z0-9]+\\}/g\n    },\n    className: {\n      loading: 'loading',\n      error: 'error'\n    },\n    selector: {\n      disabled: '.disabled',\n      form: 'form'\n    },\n    metadata: {\n      action: 'action',\n      url: 'url'\n    }\n  };\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"form.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/behaviors/form.js                                                                          //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * # Semantic UI - Form Validation\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.form = function (parameters) {\n    var $allModules = $(this),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        legacyParameters = arguments[1],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue;\n    $allModules.each(function () {\n      var $module = $(this),\n          element = this,\n          formErrors = [],\n          keyHeldDown = false,\n          // set at run-time\n      $field,\n          $group,\n          $message,\n          $prompt,\n          $submit,\n          $clear,\n          $reset,\n          settings,\n          validation,\n          metadata,\n          selector,\n          className,\n          regExp,\n          error,\n          namespace,\n          moduleNamespace,\n          eventNamespace,\n          instance,\n          module;\n      module = {\n        initialize: function () {\n          // settings grabbed at run time\n          module.get.settings();\n\n          if (methodInvoked) {\n            if (instance === undefined) {\n              module.instantiate();\n            }\n\n            module.invoke(query);\n          } else {\n            if (instance !== undefined) {\n              instance.invoke('destroy');\n            }\n\n            module.verbose('Initializing form validation', $module, settings);\n            module.bindEvents();\n            module.set.defaults();\n            module.instantiate();\n          }\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module.data(moduleNamespace, module);\n        },\n        destroy: function () {\n          module.verbose('Destroying previous module', instance);\n          module.removeEvents();\n          $module.removeData(moduleNamespace);\n        },\n        refresh: function () {\n          module.verbose('Refreshing selector cache');\n          $field = $module.find(selector.field);\n          $group = $module.find(selector.group);\n          $message = $module.find(selector.message);\n          $prompt = $module.find(selector.prompt);\n          $submit = $module.find(selector.submit);\n          $clear = $module.find(selector.clear);\n          $reset = $module.find(selector.reset);\n        },\n        submit: function () {\n          module.verbose('Submitting form', $module);\n          $module.submit();\n        },\n        attachEvents: function (selector, action) {\n          action = action || 'submit';\n          $(selector).on('click' + eventNamespace, function (event) {\n            module[action]();\n            event.preventDefault();\n          });\n        },\n        bindEvents: function () {\n          module.verbose('Attaching form events');\n          $module.on('submit' + eventNamespace, module.validate.form).on('blur' + eventNamespace, selector.field, module.event.field.blur).on('click' + eventNamespace, selector.submit, module.submit).on('click' + eventNamespace, selector.reset, module.reset).on('click' + eventNamespace, selector.clear, module.clear);\n\n          if (settings.keyboardShortcuts) {\n            $module.on('keydown' + eventNamespace, selector.field, module.event.field.keydown);\n          }\n\n          $field.each(function () {\n            var $input = $(this),\n                type = $input.prop('type'),\n                inputEvent = module.get.changeEvent(type, $input);\n            $(this).on(inputEvent + eventNamespace, module.event.field.change);\n          });\n        },\n        clear: function () {\n          $field.each(function () {\n            var $field = $(this),\n                $element = $field.parent(),\n                $fieldGroup = $field.closest($group),\n                $prompt = $fieldGroup.find(selector.prompt),\n                defaultValue = $field.data(metadata.defaultValue) || '',\n                isCheckbox = $element.is(selector.uiCheckbox),\n                isDropdown = $element.is(selector.uiDropdown),\n                isErrored = $fieldGroup.hasClass(className.error);\n\n            if (isErrored) {\n              module.verbose('Resetting error on field', $fieldGroup);\n              $fieldGroup.removeClass(className.error);\n              $prompt.remove();\n            }\n\n            if (isDropdown) {\n              module.verbose('Resetting dropdown value', $element, defaultValue);\n              $element.dropdown('clear');\n            } else if (isCheckbox) {\n              $field.prop('checked', false);\n            } else {\n              module.verbose('Resetting field value', $field, defaultValue);\n              $field.val('');\n            }\n          });\n        },\n        reset: function () {\n          $field.each(function () {\n            var $field = $(this),\n                $element = $field.parent(),\n                $fieldGroup = $field.closest($group),\n                $prompt = $fieldGroup.find(selector.prompt),\n                defaultValue = $field.data(metadata.defaultValue),\n                isCheckbox = $element.is(selector.uiCheckbox),\n                isDropdown = $element.is(selector.uiDropdown),\n                isErrored = $fieldGroup.hasClass(className.error);\n\n            if (defaultValue === undefined) {\n              return;\n            }\n\n            if (isErrored) {\n              module.verbose('Resetting error on field', $fieldGroup);\n              $fieldGroup.removeClass(className.error);\n              $prompt.remove();\n            }\n\n            if (isDropdown) {\n              module.verbose('Resetting dropdown value', $element, defaultValue);\n              $element.dropdown('restore defaults');\n            } else if (isCheckbox) {\n              module.verbose('Resetting checkbox value', $element, defaultValue);\n              $field.prop('checked', defaultValue);\n            } else {\n              module.verbose('Resetting field value', $field, defaultValue);\n              $field.val(defaultValue);\n            }\n          });\n        },\n        determine: {\n          isValid: function () {\n            var allValid = true;\n            $.each(validation, function (fieldName, field) {\n              if (!module.validate.field(field, fieldName, true)) {\n                allValid = false;\n              }\n            });\n            return allValid;\n          }\n        },\n        is: {\n          bracketedRule: function (rule) {\n            return rule.type && rule.type.match(settings.regExp.bracket);\n          },\n          shorthandFields: function (fields) {\n            var fieldKeys = Object.keys(fields),\n                firstRule = fields[fieldKeys[0]];\n            return module.is.shorthandRules(firstRule);\n          },\n          // duck type rule test\n          shorthandRules: function (rules) {\n            return typeof rules == 'string' || $.isArray(rules);\n          },\n          empty: function ($field) {\n            if (!$field || $field.length === 0) {\n              return true;\n            } else if ($field.is('input[type=\"checkbox\"]')) {\n              return !$field.is(':checked');\n            } else {\n              return module.is.blank($field);\n            }\n          },\n          blank: function ($field) {\n            return $.trim($field.val()) === '';\n          },\n          valid: function (field) {\n            var allValid = true;\n\n            if (field) {\n              module.verbose('Checking if field is valid', field);\n              return module.validate.field(validation[field], field, false);\n            } else {\n              module.verbose('Checking if form is valid');\n              $.each(validation, function (fieldName, field) {\n                if (!module.is.valid(fieldName)) {\n                  allValid = false;\n                }\n              });\n              return allValid;\n            }\n          }\n        },\n        removeEvents: function () {\n          $module.off(eventNamespace);\n          $field.off(eventNamespace);\n          $submit.off(eventNamespace);\n          $field.off(eventNamespace);\n        },\n        event: {\n          field: {\n            keydown: function (event) {\n              var $field = $(this),\n                  key = event.which,\n                  isInput = $field.is(selector.input),\n                  isCheckbox = $field.is(selector.checkbox),\n                  isInDropdown = $field.closest(selector.uiDropdown).length > 0,\n                  keyCode = {\n                enter: 13,\n                escape: 27\n              };\n\n              if (key == keyCode.escape) {\n                module.verbose('Escape key pressed blurring field');\n                $field.blur();\n              }\n\n              if (!event.ctrlKey && key == keyCode.enter && isInput && !isInDropdown && !isCheckbox) {\n                if (!keyHeldDown) {\n                  $field.one('keyup' + eventNamespace, module.event.field.keyup);\n                  module.submit();\n                  module.debug('Enter pressed on input submitting form');\n                }\n\n                keyHeldDown = true;\n              }\n            },\n            keyup: function () {\n              keyHeldDown = false;\n            },\n            blur: function (event) {\n              var $field = $(this),\n                  $fieldGroup = $field.closest($group),\n                  validationRules = module.get.validation($field);\n\n              if ($fieldGroup.hasClass(className.error)) {\n                module.debug('Revalidating field', $field, validationRules);\n\n                if (validationRules) {\n                  module.validate.field(validationRules);\n                }\n              } else if (settings.on == 'blur') {\n                if (validationRules) {\n                  module.validate.field(validationRules);\n                }\n              }\n            },\n            change: function (event) {\n              var $field = $(this),\n                  $fieldGroup = $field.closest($group),\n                  validationRules = module.get.validation($field);\n\n              if (validationRules && (settings.on == 'change' || $fieldGroup.hasClass(className.error) && settings.revalidate)) {\n                clearTimeout(module.timer);\n                module.timer = setTimeout(function () {\n                  module.debug('Revalidating field', $field, module.get.validation($field));\n                  module.validate.field(validationRules);\n                }, settings.delay);\n              }\n            }\n          }\n        },\n        get: {\n          ancillaryValue: function (rule) {\n            if (!rule.type || !rule.value && !module.is.bracketedRule(rule)) {\n              return false;\n            }\n\n            return rule.value !== undefined ? rule.value : rule.type.match(settings.regExp.bracket)[1] + '';\n          },\n          ruleName: function (rule) {\n            if (module.is.bracketedRule(rule)) {\n              return rule.type.replace(rule.type.match(settings.regExp.bracket)[0], '');\n            }\n\n            return rule.type;\n          },\n          changeEvent: function (type, $input) {\n            if (type == 'checkbox' || type == 'radio' || type == 'hidden' || $input.is('select')) {\n              return 'change';\n            } else {\n              return module.get.inputEvent();\n            }\n          },\n          inputEvent: function () {\n            return document.createElement('input').oninput !== undefined ? 'input' : document.createElement('input').onpropertychange !== undefined ? 'propertychange' : 'keyup';\n          },\n          fieldsFromShorthand: function (fields) {\n            var fullFields = {};\n            $.each(fields, function (name, rules) {\n              if (typeof rules == 'string') {\n                rules = [rules];\n              }\n\n              fullFields[name] = {\n                rules: []\n              };\n              $.each(rules, function (index, rule) {\n                fullFields[name].rules.push({\n                  type: rule\n                });\n              });\n            });\n            return fullFields;\n          },\n          prompt: function (rule, field) {\n            var ruleName = module.get.ruleName(rule),\n                ancillary = module.get.ancillaryValue(rule),\n                $field = module.get.field(field.identifier),\n                value = $field.val(),\n                prompt = $.isFunction(rule.prompt) ? rule.prompt(value) : rule.prompt || settings.prompt[ruleName] || settings.text.unspecifiedRule,\n                requiresValue = prompt.search('{value}') !== -1,\n                requiresName = prompt.search('{name}') !== -1,\n                $label,\n                name;\n\n            if (requiresValue) {\n              prompt = prompt.replace('{value}', $field.val());\n            }\n\n            if (requiresName) {\n              $label = $field.closest(selector.group).find('label').eq(0);\n              name = $label.length == 1 ? $label.text() : $field.prop('placeholder') || settings.text.unspecifiedField;\n              prompt = prompt.replace('{name}', name);\n            }\n\n            prompt = prompt.replace('{identifier}', field.identifier);\n            prompt = prompt.replace('{ruleValue}', ancillary);\n\n            if (!rule.prompt) {\n              module.verbose('Using default validation prompt for type', prompt, ruleName);\n            }\n\n            return prompt;\n          },\n          settings: function () {\n            if ($.isPlainObject(parameters)) {\n              var keys = Object.keys(parameters),\n                  isLegacySettings = keys.length > 0 ? parameters[keys[0]].identifier !== undefined && parameters[keys[0]].rules !== undefined : false,\n                  ruleKeys;\n\n              if (isLegacySettings) {\n                // 1.x (ducktyped)\n                settings = $.extend(true, {}, $.fn.form.settings, legacyParameters);\n                validation = $.extend({}, $.fn.form.settings.defaults, parameters);\n                module.error(settings.error.oldSyntax, element);\n                module.verbose('Extending settings from legacy parameters', validation, settings);\n              } else {\n                // 2.x\n                if (parameters.fields && module.is.shorthandFields(parameters.fields)) {\n                  parameters.fields = module.get.fieldsFromShorthand(parameters.fields);\n                }\n\n                settings = $.extend(true, {}, $.fn.form.settings, parameters);\n                validation = $.extend({}, $.fn.form.settings.defaults, settings.fields);\n                module.verbose('Extending settings', validation, settings);\n              }\n            } else {\n              settings = $.fn.form.settings;\n              validation = $.fn.form.settings.defaults;\n              module.verbose('Using default form validation', validation, settings);\n            } // shorthand\n\n\n            namespace = settings.namespace;\n            metadata = settings.metadata;\n            selector = settings.selector;\n            className = settings.className;\n            regExp = settings.regExp;\n            error = settings.error;\n            moduleNamespace = 'module-' + namespace;\n            eventNamespace = '.' + namespace; // grab instance\n\n            instance = $module.data(moduleNamespace); // refresh selector cache\n\n            module.refresh();\n          },\n          field: function (identifier) {\n            module.verbose('Finding field with identifier', identifier);\n            identifier = module.escape.string(identifier);\n\n            if ($field.filter('#' + identifier).length > 0) {\n              return $field.filter('#' + identifier);\n            } else if ($field.filter('[name=\"' + identifier + '\"]').length > 0) {\n              return $field.filter('[name=\"' + identifier + '\"]');\n            } else if ($field.filter('[name=\"' + identifier + '[]\"]').length > 0) {\n              return $field.filter('[name=\"' + identifier + '[]\"]');\n            } else if ($field.filter('[data-' + metadata.validate + '=\"' + identifier + '\"]').length > 0) {\n              return $field.filter('[data-' + metadata.validate + '=\"' + identifier + '\"]');\n            }\n\n            return $('<input/>');\n          },\n          fields: function (fields) {\n            var $fields = $();\n            $.each(fields, function (index, name) {\n              $fields = $fields.add(module.get.field(name));\n            });\n            return $fields;\n          },\n          validation: function ($field) {\n            var fieldValidation, identifier;\n\n            if (!validation) {\n              return false;\n            }\n\n            $.each(validation, function (fieldName, field) {\n              identifier = field.identifier || fieldName;\n\n              if (module.get.field(identifier)[0] == $field[0]) {\n                field.identifier = identifier;\n                fieldValidation = field;\n              }\n            });\n            return fieldValidation || false;\n          },\n          value: function (field) {\n            var fields = [],\n                results;\n            fields.push(field);\n            results = module.get.values.call(element, fields);\n            return results[field];\n          },\n          values: function (fields) {\n            var $fields = $.isArray(fields) ? module.get.fields(fields) : $field,\n                values = {};\n            $fields.each(function (index, field) {\n              var $field = $(field),\n                  type = $field.prop('type'),\n                  name = $field.prop('name'),\n                  value = $field.val(),\n                  isCheckbox = $field.is(selector.checkbox),\n                  isRadio = $field.is(selector.radio),\n                  isMultiple = name.indexOf('[]') !== -1,\n                  isChecked = isCheckbox ? $field.is(':checked') : false;\n\n              if (name) {\n                if (isMultiple) {\n                  name = name.replace('[]', '');\n\n                  if (!values[name]) {\n                    values[name] = [];\n                  }\n\n                  if (isCheckbox) {\n                    if (isChecked) {\n                      values[name].push(value || true);\n                    } else {\n                      values[name].push(false);\n                    }\n                  } else {\n                    values[name].push(value);\n                  }\n                } else {\n                  if (isRadio) {\n                    if (values[name] === undefined || values[name] == false) {\n                      values[name] = isChecked ? value || true : false;\n                    }\n                  } else if (isCheckbox) {\n                    if (isChecked) {\n                      values[name] = value || true;\n                    } else {\n                      values[name] = false;\n                    }\n                  } else {\n                    values[name] = value;\n                  }\n                }\n              }\n            });\n            return values;\n          }\n        },\n        has: {\n          field: function (identifier) {\n            module.verbose('Checking for existence of a field with identifier', identifier);\n            identifier = module.escape.string(identifier);\n\n            if (typeof identifier !== 'string') {\n              module.error(error.identifier, identifier);\n            }\n\n            if ($field.filter('#' + identifier).length > 0) {\n              return true;\n            } else if ($field.filter('[name=\"' + identifier + '\"]').length > 0) {\n              return true;\n            } else if ($field.filter('[data-' + metadata.validate + '=\"' + identifier + '\"]').length > 0) {\n              return true;\n            }\n\n            return false;\n          }\n        },\n        escape: {\n          string: function (text) {\n            text = String(text);\n            return text.replace(regExp.escape, '\\\\$&');\n          }\n        },\n        add: {\n          // alias\n          rule: function (name, rules) {\n            module.add.field(name, rules);\n          },\n          field: function (name, rules) {\n            var newValidation = {};\n\n            if (module.is.shorthandRules(rules)) {\n              rules = $.isArray(rules) ? rules : [rules];\n              newValidation[name] = {\n                rules: []\n              };\n              $.each(rules, function (index, rule) {\n                newValidation[name].rules.push({\n                  type: rule\n                });\n              });\n            } else {\n              newValidation[name] = rules;\n            }\n\n            validation = $.extend({}, validation, newValidation);\n            module.debug('Adding rules', newValidation, validation);\n          },\n          fields: function (fields) {\n            var newValidation;\n\n            if (fields && module.is.shorthandFields(fields)) {\n              newValidation = module.get.fieldsFromShorthand(fields);\n            } else {\n              newValidation = fields;\n            }\n\n            validation = $.extend({}, validation, newValidation);\n          },\n          prompt: function (identifier, errors) {\n            var $field = module.get.field(identifier),\n                $fieldGroup = $field.closest($group),\n                $prompt = $fieldGroup.children(selector.prompt),\n                promptExists = $prompt.length !== 0;\n            errors = typeof errors == 'string' ? [errors] : errors;\n            module.verbose('Adding field error state', identifier);\n            $fieldGroup.addClass(className.error);\n\n            if (settings.inline) {\n              if (!promptExists) {\n                $prompt = settings.templates.prompt(errors);\n                $prompt.appendTo($fieldGroup);\n              }\n\n              $prompt.html(errors[0]);\n\n              if (!promptExists) {\n                if (settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n                  module.verbose('Displaying error with css transition', settings.transition);\n                  $prompt.transition(settings.transition + ' in', settings.duration);\n                } else {\n                  module.verbose('Displaying error with fallback javascript animation');\n                  $prompt.fadeIn(settings.duration);\n                }\n              } else {\n                module.verbose('Inline errors are disabled, no inline error added', identifier);\n              }\n            }\n          },\n          errors: function (errors) {\n            module.debug('Adding form error messages', errors);\n            module.set.error();\n            $message.html(settings.templates.error(errors));\n          }\n        },\n        remove: {\n          rule: function (field, rule) {\n            var rules = $.isArray(rule) ? rule : [rule];\n\n            if (rule == undefined) {\n              module.debug('Removed all rules');\n              validation[field].rules = [];\n              return;\n            }\n\n            if (validation[field] == undefined || !$.isArray(validation[field].rules)) {\n              return;\n            }\n\n            $.each(validation[field].rules, function (index, rule) {\n              if (rules.indexOf(rule.type) !== -1) {\n                module.debug('Removed rule', rule.type);\n                validation[field].rules.splice(index, 1);\n              }\n            });\n          },\n          field: function (field) {\n            var fields = $.isArray(field) ? field : [field];\n            $.each(fields, function (index, field) {\n              module.remove.rule(field);\n            });\n          },\n          // alias\n          rules: function (field, rules) {\n            if ($.isArray(field)) {\n              $.each(fields, function (index, field) {\n                module.remove.rule(field, rules);\n              });\n            } else {\n              module.remove.rule(field, rules);\n            }\n          },\n          fields: function (fields) {\n            module.remove.field(fields);\n          },\n          prompt: function (identifier) {\n            var $field = module.get.field(identifier),\n                $fieldGroup = $field.closest($group),\n                $prompt = $fieldGroup.children(selector.prompt);\n            $fieldGroup.removeClass(className.error);\n\n            if (settings.inline && $prompt.is(':visible')) {\n              module.verbose('Removing prompt for field', identifier);\n\n              if (settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n                $prompt.transition(settings.transition + ' out', settings.duration, function () {\n                  $prompt.remove();\n                });\n              } else {\n                $prompt.fadeOut(settings.duration, function () {\n                  $prompt.remove();\n                });\n              }\n            }\n          }\n        },\n        set: {\n          success: function () {\n            $module.removeClass(className.error).addClass(className.success);\n          },\n          defaults: function () {\n            $field.each(function () {\n              var $field = $(this),\n                  isCheckbox = $field.filter(selector.checkbox).length > 0,\n                  value = isCheckbox ? $field.is(':checked') : $field.val();\n              $field.data(metadata.defaultValue, value);\n            });\n          },\n          error: function () {\n            $module.removeClass(className.success).addClass(className.error);\n          },\n          value: function (field, value) {\n            var fields = {};\n            fields[field] = value;\n            return module.set.values.call(element, fields);\n          },\n          values: function (fields) {\n            if ($.isEmptyObject(fields)) {\n              return;\n            }\n\n            $.each(fields, function (key, value) {\n              var $field = module.get.field(key),\n                  $element = $field.parent(),\n                  isMultiple = $.isArray(value),\n                  isCheckbox = $element.is(selector.uiCheckbox),\n                  isDropdown = $element.is(selector.uiDropdown),\n                  isRadio = $field.is(selector.radio) && isCheckbox,\n                  fieldExists = $field.length > 0,\n                  $multipleField;\n\n              if (fieldExists) {\n                if (isMultiple && isCheckbox) {\n                  module.verbose('Selecting multiple', value, $field);\n                  $element.checkbox('uncheck');\n                  $.each(value, function (index, value) {\n                    $multipleField = $field.filter('[value=\"' + value + '\"]');\n                    $element = $multipleField.parent();\n\n                    if ($multipleField.length > 0) {\n                      $element.checkbox('check');\n                    }\n                  });\n                } else if (isRadio) {\n                  module.verbose('Selecting radio value', value, $field);\n                  $field.filter('[value=\"' + value + '\"]').parent(selector.uiCheckbox).checkbox('check');\n                } else if (isCheckbox) {\n                  module.verbose('Setting checkbox value', value, $element);\n\n                  if (value === true) {\n                    $element.checkbox('check');\n                  } else {\n                    $element.checkbox('uncheck');\n                  }\n                } else if (isDropdown) {\n                  module.verbose('Setting dropdown value', value, $element);\n                  $element.dropdown('set selected', value);\n                } else {\n                  module.verbose('Setting field value', value, $field);\n                  $field.val(value);\n                }\n              }\n            });\n          }\n        },\n        validate: {\n          form: function (event, ignoreCallbacks) {\n            var values = module.get.values(),\n                apiRequest; // input keydown event will fire submit repeatedly by browser default\n\n            if (keyHeldDown) {\n              return false;\n            } // reset errors\n\n\n            formErrors = [];\n\n            if (module.determine.isValid()) {\n              module.debug('Form has no validation errors, submitting');\n              module.set.success();\n\n              if (ignoreCallbacks !== true) {\n                return settings.onSuccess.call(element, event, values);\n              }\n            } else {\n              module.debug('Form has errors');\n              module.set.error();\n\n              if (!settings.inline) {\n                module.add.errors(formErrors);\n              } // prevent ajax submit\n\n\n              if ($module.data('moduleApi') !== undefined) {\n                event.stopImmediatePropagation();\n              }\n\n              if (ignoreCallbacks !== true) {\n                return settings.onFailure.call(element, formErrors, values);\n              }\n            }\n          },\n          // takes a validation object and returns whether field passes validation\n          field: function (field, fieldName, showErrors) {\n            showErrors = showErrors !== undefined ? showErrors : true;\n\n            if (typeof field == 'string') {\n              module.verbose('Validating field', field);\n              fieldName = field;\n              field = validation[field];\n            }\n\n            var identifier = field.identifier || fieldName,\n                $field = module.get.field(identifier),\n                $dependsField = field.depends ? module.get.field(field.depends) : false,\n                fieldValid = true,\n                fieldErrors = [];\n\n            if (!field.identifier) {\n              module.debug('Using field name as identifier', identifier);\n              field.identifier = identifier;\n            }\n\n            if ($field.prop('disabled')) {\n              module.debug('Field is disabled. Skipping', identifier);\n              fieldValid = true;\n            } else if (field.optional && module.is.blank($field)) {\n              module.debug('Field is optional and blank. Skipping', identifier);\n              fieldValid = true;\n            } else if (field.depends && module.is.empty($dependsField)) {\n              module.debug('Field depends on another value that is not present or empty. Skipping', $dependsField);\n              fieldValid = true;\n            } else if (field.rules !== undefined) {\n              $.each(field.rules, function (index, rule) {\n                if (module.has.field(identifier) && !module.validate.rule(field, rule)) {\n                  module.debug('Field is invalid', identifier, rule.type);\n                  fieldErrors.push(module.get.prompt(rule, field));\n                  fieldValid = false;\n                }\n              });\n            }\n\n            if (fieldValid) {\n              if (showErrors) {\n                module.remove.prompt(identifier, fieldErrors);\n                settings.onValid.call($field);\n              }\n            } else {\n              if (showErrors) {\n                formErrors = formErrors.concat(fieldErrors);\n                module.add.prompt(identifier, fieldErrors);\n                settings.onInvalid.call($field, fieldErrors);\n              }\n\n              return false;\n            }\n\n            return true;\n          },\n          // takes validation rule and returns whether field passes rule\n          rule: function (field, rule) {\n            var $field = module.get.field(field.identifier),\n                type = rule.type,\n                value = $field.val(),\n                isValid = true,\n                ancillary = module.get.ancillaryValue(rule),\n                ruleName = module.get.ruleName(rule),\n                ruleFunction = settings.rules[ruleName];\n\n            if (!$.isFunction(ruleFunction)) {\n              module.error(error.noRule, ruleName);\n              return;\n            } // cast to string avoiding encoding special values\n\n\n            value = value === undefined || value === '' || value === null ? '' : $.trim(value + '');\n            return ruleFunction.call($field, value, ancillary);\n          }\n        },\n        setting: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            settings[name] = value;\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n      module.initialize();\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.form.settings = {\n    name: 'Form',\n    namespace: 'form',\n    debug: false,\n    verbose: false,\n    performance: true,\n    fields: false,\n    keyboardShortcuts: true,\n    on: 'submit',\n    inline: false,\n    delay: 200,\n    revalidate: true,\n    transition: 'scale',\n    duration: 200,\n    onValid: function () {},\n    onInvalid: function () {},\n    onSuccess: function () {\n      return true;\n    },\n    onFailure: function () {\n      return false;\n    },\n    metadata: {\n      defaultValue: 'default',\n      validate: 'validate'\n    },\n    regExp: {\n      htmlID: /^[a-zA-Z][\\w:.-]*$/g,\n      bracket: /\\[(.*)\\]/i,\n      decimal: /^\\d+\\.?\\d*$/,\n      email: /^[a-z0-9!#$%&'*+\\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,\n      escape: /[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g,\n      flags: /^\\/(.*)\\/(.*)?/,\n      integer: /^\\-?\\d+$/,\n      number: /^\\-?\\d*(\\.\\d+)?$/,\n      url: /(https?:\\/\\/(?:www\\.|(?!www))[^\\s\\.]+\\.[^\\s]{2,}|www\\.[^\\s]+\\.[^\\s]{2,})/i\n    },\n    text: {\n      unspecifiedRule: 'Please enter a valid value',\n      unspecifiedField: 'This field'\n    },\n    prompt: {\n      empty: '{name} must have a value',\n      checked: '{name} must be checked',\n      email: '{name} must be a valid e-mail',\n      url: '{name} must be a valid url',\n      regExp: '{name} is not formatted correctly',\n      integer: '{name} must be an integer',\n      decimal: '{name} must be a decimal number',\n      number: '{name} must be set to a number',\n      is: '{name} must be \"{ruleValue}\"',\n      isExactly: '{name} must be exactly \"{ruleValue}\"',\n      not: '{name} cannot be set to \"{ruleValue}\"',\n      notExactly: '{name} cannot be set to exactly \"{ruleValue}\"',\n      contain: '{name} must contain \"{ruleValue}\"',\n      containExactly: '{name} must contain exactly \"{ruleValue}\"',\n      doesntContain: '{name} cannot contain  \"{ruleValue}\"',\n      doesntContainExactly: '{name} cannot contain exactly \"{ruleValue}\"',\n      minLength: '{name} must be at least {ruleValue} characters',\n      length: '{name} must be at least {ruleValue} characters',\n      exactLength: '{name} must be exactly {ruleValue} characters',\n      maxLength: '{name} cannot be longer than {ruleValue} characters',\n      match: '{name} must match {ruleValue} field',\n      different: '{name} must have a different value than {ruleValue} field',\n      creditCard: '{name} must be a valid credit card number',\n      minCount: '{name} must have at least {ruleValue} choices',\n      exactCount: '{name} must have exactly {ruleValue} choices',\n      maxCount: '{name} must have {ruleValue} or less choices'\n    },\n    selector: {\n      checkbox: 'input[type=\"checkbox\"], input[type=\"radio\"]',\n      clear: '.clear',\n      field: 'input, textarea, select',\n      group: '.field',\n      input: 'input',\n      message: '.error.message',\n      prompt: '.prompt.label',\n      radio: 'input[type=\"radio\"]',\n      reset: '.reset:not([type=\"reset\"])',\n      submit: '.submit:not([type=\"submit\"])',\n      uiCheckbox: '.ui.checkbox',\n      uiDropdown: '.ui.dropdown'\n    },\n    className: {\n      error: 'error',\n      label: 'ui prompt label',\n      pressed: 'down',\n      success: 'success'\n    },\n    error: {\n      identifier: 'You must specify a string identifier for each field',\n      method: 'The method you called is not defined.',\n      noRule: 'There is no rule matching the one you specified',\n      oldSyntax: 'Starting in 2.0 forms now only take a single settings object. Validation settings converted to new syntax automatically.'\n    },\n    templates: {\n      // template that produces error message\n      error: function (errors) {\n        var html = '<ul class=\"list\">';\n        $.each(errors, function (index, value) {\n          html += '<li>' + value + '</li>';\n        });\n        html += '</ul>';\n        return $(html);\n      },\n      // template that produces label\n      prompt: function (errors) {\n        return $('<div/>').addClass('ui basic red pointing prompt label').html(errors[0]);\n      }\n    },\n    rules: {\n      // is not empty or blank string\n      empty: function (value) {\n        return !(value === undefined || '' === value || $.isArray(value) && value.length === 0);\n      },\n      // checkbox checked\n      checked: function () {\n        return $(this).filter(':checked').length > 0;\n      },\n      // is most likely an email\n      email: function (value) {\n        return $.fn.form.settings.regExp.email.test(value);\n      },\n      // value is most likely url\n      url: function (value) {\n        return $.fn.form.settings.regExp.url.test(value);\n      },\n      // matches specified regExp\n      regExp: function (value, regExp) {\n        if (regExp instanceof RegExp) {\n          return value.match(regExp);\n        }\n\n        var regExpParts = regExp.match($.fn.form.settings.regExp.flags),\n            flags; // regular expression specified as /baz/gi (flags)\n\n        if (regExpParts) {\n          regExp = regExpParts.length >= 2 ? regExpParts[1] : regExp;\n          flags = regExpParts.length >= 3 ? regExpParts[2] : '';\n        }\n\n        return value.match(new RegExp(regExp, flags));\n      },\n      // is valid integer or matches range\n      integer: function (value, range) {\n        var intRegExp = $.fn.form.settings.regExp.integer,\n            min,\n            max,\n            parts;\n\n        if (!range || ['', '..'].indexOf(range) !== -1) {// do nothing\n        } else if (range.indexOf('..') == -1) {\n          if (intRegExp.test(range)) {\n            min = max = range - 0;\n          }\n        } else {\n          parts = range.split('..', 2);\n\n          if (intRegExp.test(parts[0])) {\n            min = parts[0] - 0;\n          }\n\n          if (intRegExp.test(parts[1])) {\n            max = parts[1] - 0;\n          }\n        }\n\n        return intRegExp.test(value) && (min === undefined || value >= min) && (max === undefined || value <= max);\n      },\n      // is valid number (with decimal)\n      decimal: function (value) {\n        return $.fn.form.settings.regExp.decimal.test(value);\n      },\n      // is valid number\n      number: function (value) {\n        return $.fn.form.settings.regExp.number.test(value);\n      },\n      // is value (case insensitive)\n      is: function (value, text) {\n        text = typeof text == 'string' ? text.toLowerCase() : text;\n        value = typeof value == 'string' ? value.toLowerCase() : value;\n        return value == text;\n      },\n      // is value\n      isExactly: function (value, text) {\n        return value == text;\n      },\n      // value is not another value (case insensitive)\n      not: function (value, notValue) {\n        value = typeof value == 'string' ? value.toLowerCase() : value;\n        notValue = typeof notValue == 'string' ? notValue.toLowerCase() : notValue;\n        return value != notValue;\n      },\n      // value is not another value (case sensitive)\n      notExactly: function (value, notValue) {\n        return value != notValue;\n      },\n      // value contains text (insensitive)\n      contains: function (value, text) {\n        // escape regex characters\n        text = text.replace($.fn.form.settings.regExp.escape, \"\\\\$&\");\n        return value.search(new RegExp(text, 'i')) !== -1;\n      },\n      // value contains text (case sensitive)\n      containsExactly: function (value, text) {\n        // escape regex characters\n        text = text.replace($.fn.form.settings.regExp.escape, \"\\\\$&\");\n        return value.search(new RegExp(text)) !== -1;\n      },\n      // value contains text (insensitive)\n      doesntContain: function (value, text) {\n        // escape regex characters\n        text = text.replace($.fn.form.settings.regExp.escape, \"\\\\$&\");\n        return value.search(new RegExp(text, 'i')) === -1;\n      },\n      // value contains text (case sensitive)\n      doesntContainExactly: function (value, text) {\n        // escape regex characters\n        text = text.replace($.fn.form.settings.regExp.escape, \"\\\\$&\");\n        return value.search(new RegExp(text)) === -1;\n      },\n      // is at least string length\n      minLength: function (value, requiredLength) {\n        return value !== undefined ? value.length >= requiredLength : false;\n      },\n      // see rls notes for 2.0.6 (this is a duplicate of minLength)\n      length: function (value, requiredLength) {\n        return value !== undefined ? value.length >= requiredLength : false;\n      },\n      // is exactly length\n      exactLength: function (value, requiredLength) {\n        return value !== undefined ? value.length == requiredLength : false;\n      },\n      // is less than length\n      maxLength: function (value, maxLength) {\n        return value !== undefined ? value.length <= maxLength : false;\n      },\n      // matches another field\n      match: function (value, identifier) {\n        var $form = $(this),\n            matchingValue;\n\n        if ($('[data-validate=\"' + identifier + '\"]').length > 0) {\n          matchingValue = $('[data-validate=\"' + identifier + '\"]').val();\n        } else if ($('#' + identifier).length > 0) {\n          matchingValue = $('#' + identifier).val();\n        } else if ($('[name=\"' + identifier + '\"]').length > 0) {\n          matchingValue = $('[name=\"' + identifier + '\"]').val();\n        } else if ($('[name=\"' + identifier + '[]\"]').length > 0) {\n          matchingValue = $('[name=\"' + identifier + '[]\"]');\n        }\n\n        return matchingValue !== undefined ? value.toString() == matchingValue.toString() : false;\n      },\n      // different than another field\n      different: function (value, identifier) {\n        // use either id or name of field\n        var $form = $(this),\n            matchingValue;\n\n        if ($('[data-validate=\"' + identifier + '\"]').length > 0) {\n          matchingValue = $('[data-validate=\"' + identifier + '\"]').val();\n        } else if ($('#' + identifier).length > 0) {\n          matchingValue = $('#' + identifier).val();\n        } else if ($('[name=\"' + identifier + '\"]').length > 0) {\n          matchingValue = $('[name=\"' + identifier + '\"]').val();\n        } else if ($('[name=\"' + identifier + '[]\"]').length > 0) {\n          matchingValue = $('[name=\"' + identifier + '[]\"]');\n        }\n\n        return matchingValue !== undefined ? value.toString() !== matchingValue.toString() : false;\n      },\n      creditCard: function (cardNumber, cardTypes) {\n        var cards = {\n          visa: {\n            pattern: /^4/,\n            length: [16]\n          },\n          amex: {\n            pattern: /^3[47]/,\n            length: [15]\n          },\n          mastercard: {\n            pattern: /^5[1-5]/,\n            length: [16]\n          },\n          discover: {\n            pattern: /^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,\n            length: [16]\n          },\n          unionPay: {\n            pattern: /^(62|88)/,\n            length: [16, 17, 18, 19]\n          },\n          jcb: {\n            pattern: /^35(2[89]|[3-8][0-9])/,\n            length: [16]\n          },\n          maestro: {\n            pattern: /^(5018|5020|5038|6304|6759|676[1-3])/,\n            length: [12, 13, 14, 15, 16, 17, 18, 19]\n          },\n          dinersClub: {\n            pattern: /^(30[0-5]|^36)/,\n            length: [14]\n          },\n          laser: {\n            pattern: /^(6304|670[69]|6771)/,\n            length: [16, 17, 18, 19]\n          },\n          visaElectron: {\n            pattern: /^(4026|417500|4508|4844|491(3|7))/,\n            length: [16]\n          }\n        },\n            valid = {},\n            validCard = false,\n            requiredTypes = typeof cardTypes == 'string' ? cardTypes.split(',') : false,\n            unionPay,\n            validation;\n\n        if (typeof cardNumber !== 'string' || cardNumber.length === 0) {\n          return;\n        } // allow dashes in card\n\n\n        cardNumber = cardNumber.replace(/[\\-]/g, ''); // verify card types\n\n        if (requiredTypes) {\n          $.each(requiredTypes, function (index, type) {\n            // verify each card type\n            validation = cards[type];\n\n            if (validation) {\n              valid = {\n                length: $.inArray(cardNumber.length, validation.length) !== -1,\n                pattern: cardNumber.search(validation.pattern) !== -1\n              };\n\n              if (valid.length && valid.pattern) {\n                validCard = true;\n              }\n            }\n          });\n\n          if (!validCard) {\n            return false;\n          }\n        } // skip luhn for UnionPay\n\n\n        unionPay = {\n          number: $.inArray(cardNumber.length, cards.unionPay.length) !== -1,\n          pattern: cardNumber.search(cards.unionPay.pattern) !== -1\n        };\n\n        if (unionPay.number && unionPay.pattern) {\n          return true;\n        } // verify luhn, adapted from  <https://gist.github.com/2134376>\n\n\n        var length = cardNumber.length,\n            multiple = 0,\n            producedValue = [[0, 1, 2, 3, 4, 5, 6, 7, 8, 9], [0, 2, 4, 6, 8, 1, 3, 5, 7, 9]],\n            sum = 0;\n\n        while (length--) {\n          sum += producedValue[multiple][parseInt(cardNumber.charAt(length), 10)];\n          multiple ^= 1;\n        }\n\n        return sum % 10 === 0 && sum > 0;\n      },\n      minCount: function (value, minCount) {\n        if (minCount == 0) {\n          return true;\n        }\n\n        if (minCount == 1) {\n          return value !== '';\n        }\n\n        return value.split(',').length >= minCount;\n      },\n      exactCount: function (value, exactCount) {\n        if (exactCount == 0) {\n          return value === '';\n        }\n\n        if (exactCount == 1) {\n          return value !== '' && value.search(',') === -1;\n        }\n\n        return value.split(',').length == exactCount;\n      },\n      maxCount: function (value, maxCount) {\n        if (maxCount == 0) {\n          return false;\n        }\n\n        if (maxCount == 1) {\n          return value.search(',') === -1;\n        }\n\n        return value.split(',').length <= maxCount;\n      }\n    }\n  };\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"visibility.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/behaviors/visibility.js                                                                    //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * # Semantic UI - Visibility\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.visibility = function (parameters) {\n    var $allModules = $(this),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue,\n        moduleCount = $allModules.length,\n        loadedCount = 0;\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.visibility.settings, parameters) : $.extend({}, $.fn.visibility.settings),\n          className = settings.className,\n          namespace = settings.namespace,\n          error = settings.error,\n          metadata = settings.metadata,\n          eventNamespace = '.' + namespace,\n          moduleNamespace = 'module-' + namespace,\n          $window = $(window),\n          $module = $(this),\n          $context = $(settings.context),\n          $placeholder,\n          selector = $module.selector || '',\n          instance = $module.data(moduleNamespace),\n          requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {\n        setTimeout(callback, 0);\n      },\n          element = this,\n          disabled = false,\n          contextObserver,\n          observer,\n          module;\n\n      module = {\n        initialize: function () {\n          module.debug('Initializing', settings);\n          module.setup.cache();\n\n          if (module.should.trackChanges()) {\n            if (settings.type == 'image') {\n              module.setup.image();\n            }\n\n            if (settings.type == 'fixed') {\n              module.setup.fixed();\n            }\n\n            if (settings.observeChanges) {\n              module.observeChanges();\n            }\n\n            module.bind.events();\n          }\n\n          module.save.position();\n\n          if (!module.is.visible()) {\n            module.error(error.visible, $module);\n          }\n\n          if (settings.initialCheck) {\n            module.checkVisibility();\n          }\n\n          module.instantiate();\n        },\n        instantiate: function () {\n          module.debug('Storing instance', module);\n          $module.data(moduleNamespace, module);\n          instance = module;\n        },\n        destroy: function () {\n          module.verbose('Destroying previous module');\n\n          if (observer) {\n            observer.disconnect();\n          }\n\n          if (contextObserver) {\n            contextObserver.disconnect();\n          }\n\n          $window.off('load' + eventNamespace, module.event.load).off('resize' + eventNamespace, module.event.resize);\n          $context.off('scroll' + eventNamespace, module.event.scroll).off('scrollchange' + eventNamespace, module.event.scrollchange);\n\n          if (settings.type == 'fixed') {\n            module.resetFixed();\n            module.remove.placeholder();\n          }\n\n          $module.off(eventNamespace).removeData(moduleNamespace);\n        },\n        observeChanges: function () {\n          if ('MutationObserver' in window) {\n            contextObserver = new MutationObserver(module.event.contextChanged);\n            observer = new MutationObserver(module.event.changed);\n            contextObserver.observe(document, {\n              childList: true,\n              subtree: true\n            });\n            observer.observe(element, {\n              childList: true,\n              subtree: true\n            });\n            module.debug('Setting up mutation observer', observer);\n          }\n        },\n        bind: {\n          events: function () {\n            module.verbose('Binding visibility events to scroll and resize');\n\n            if (settings.refreshOnLoad) {\n              $window.on('load' + eventNamespace, module.event.load);\n            }\n\n            $window.on('resize' + eventNamespace, module.event.resize); // pub/sub pattern\n\n            $context.off('scroll' + eventNamespace).on('scroll' + eventNamespace, module.event.scroll).on('scrollchange' + eventNamespace, module.event.scrollchange);\n          }\n        },\n        event: {\n          changed: function (mutations) {\n            module.verbose('DOM tree modified, updating visibility calculations');\n            module.timer = setTimeout(function () {\n              module.verbose('DOM tree modified, updating sticky menu');\n              module.refresh();\n            }, 100);\n          },\n          contextChanged: function (mutations) {\n            [].forEach.call(mutations, function (mutation) {\n              if (mutation.removedNodes) {\n                [].forEach.call(mutation.removedNodes, function (node) {\n                  if (node == element || $(node).find(element).length > 0) {\n                    module.debug('Element removed from DOM, tearing down events');\n                    module.destroy();\n                  }\n                });\n              }\n            });\n          },\n          resize: function () {\n            module.debug('Window resized');\n\n            if (settings.refreshOnResize) {\n              requestAnimationFrame(module.refresh);\n            }\n          },\n          load: function () {\n            module.debug('Page finished loading');\n            requestAnimationFrame(module.refresh);\n          },\n          // publishes scrollchange event on one scroll\n          scroll: function () {\n            if (settings.throttle) {\n              clearTimeout(module.timer);\n              module.timer = setTimeout(function () {\n                $context.triggerHandler('scrollchange' + eventNamespace, [$context.scrollTop()]);\n              }, settings.throttle);\n            } else {\n              requestAnimationFrame(function () {\n                $context.triggerHandler('scrollchange' + eventNamespace, [$context.scrollTop()]);\n              });\n            }\n          },\n          // subscribes to scrollchange\n          scrollchange: function (event, scrollPosition) {\n            module.checkVisibility(scrollPosition);\n          }\n        },\n        precache: function (images, callback) {\n          if (!(images instanceof Array)) {\n            images = [images];\n          }\n\n          var imagesLength = images.length,\n              loadedCounter = 0,\n              cache = [],\n              cacheImage = document.createElement('img'),\n              handleLoad = function () {\n            loadedCounter++;\n\n            if (loadedCounter >= images.length) {\n              if ($.isFunction(callback)) {\n                callback();\n              }\n            }\n          };\n\n          while (imagesLength--) {\n            cacheImage = document.createElement('img');\n            cacheImage.onload = handleLoad;\n            cacheImage.onerror = handleLoad;\n            cacheImage.src = images[imagesLength];\n            cache.push(cacheImage);\n          }\n        },\n        enableCallbacks: function () {\n          module.debug('Allowing callbacks to occur');\n          disabled = false;\n        },\n        disableCallbacks: function () {\n          module.debug('Disabling all callbacks temporarily');\n          disabled = true;\n        },\n        should: {\n          trackChanges: function () {\n            if (methodInvoked) {\n              module.debug('One time query, no need to bind events');\n              return false;\n            }\n\n            module.debug('Callbacks being attached');\n            return true;\n          }\n        },\n        setup: {\n          cache: function () {\n            module.cache = {\n              occurred: {},\n              screen: {},\n              element: {}\n            };\n          },\n          image: function () {\n            var src = $module.data(metadata.src);\n\n            if (src) {\n              module.verbose('Lazy loading image', src);\n              settings.once = true;\n              settings.observeChanges = false; // show when top visible\n\n              settings.onOnScreen = function () {\n                module.debug('Image on screen', element);\n                module.precache(src, function () {\n                  module.set.image(src, function () {\n                    loadedCount++;\n\n                    if (loadedCount == moduleCount) {\n                      settings.onAllLoaded.call(this);\n                    }\n\n                    settings.onLoad.call(this);\n                  });\n                });\n              };\n            }\n          },\n          fixed: function () {\n            module.debug('Setting up fixed');\n            settings.once = false;\n            settings.observeChanges = false;\n            settings.initialCheck = true;\n            settings.refreshOnLoad = true;\n\n            if (!parameters.transition) {\n              settings.transition = false;\n            }\n\n            module.create.placeholder();\n            module.debug('Added placeholder', $placeholder);\n\n            settings.onTopPassed = function () {\n              module.debug('Element passed, adding fixed position', $module);\n              module.show.placeholder();\n              module.set.fixed();\n\n              if (settings.transition) {\n                if ($.fn.transition !== undefined) {\n                  $module.transition(settings.transition, settings.duration);\n                }\n              }\n            };\n\n            settings.onTopPassedReverse = function () {\n              module.debug('Element returned to position, removing fixed', $module);\n              module.hide.placeholder();\n              module.remove.fixed();\n            };\n          }\n        },\n        create: {\n          placeholder: function () {\n            module.verbose('Creating fixed position placeholder');\n            $placeholder = $module.clone(false).css('display', 'none').addClass(className.placeholder).insertAfter($module);\n          }\n        },\n        show: {\n          placeholder: function () {\n            module.verbose('Showing placeholder');\n            $placeholder.css('display', 'block').css('visibility', 'hidden');\n          }\n        },\n        hide: {\n          placeholder: function () {\n            module.verbose('Hiding placeholder');\n            $placeholder.css('display', 'none').css('visibility', '');\n          }\n        },\n        set: {\n          fixed: function () {\n            module.verbose('Setting element to fixed position');\n            $module.addClass(className.fixed).css({\n              position: 'fixed',\n              top: settings.offset + 'px',\n              left: 'auto',\n              zIndex: settings.zIndex\n            });\n            settings.onFixed.call(element);\n          },\n          image: function (src, callback) {\n            $module.attr('src', src);\n\n            if (settings.transition) {\n              if ($.fn.transition !== undefined) {\n                if ($module.hasClass(className.visible)) {\n                  module.debug('Transition already occurred on this image, skipping animation');\n                  return;\n                }\n\n                $module.transition(settings.transition, settings.duration, callback);\n              } else {\n                $module.fadeIn(settings.duration, callback);\n              }\n            } else {\n              $module.show();\n            }\n          }\n        },\n        is: {\n          onScreen: function () {\n            var calculations = module.get.elementCalculations();\n            return calculations.onScreen;\n          },\n          offScreen: function () {\n            var calculations = module.get.elementCalculations();\n            return calculations.offScreen;\n          },\n          visible: function () {\n            if (module.cache && module.cache.element) {\n              return !(module.cache.element.width === 0 && module.cache.element.offset.top === 0);\n            }\n\n            return false;\n          },\n          verticallyScrollableContext: function () {\n            var overflowY = $context.get(0) !== window ? $context.css('overflow-y') : false;\n            return overflowY == 'auto' || overflowY == 'scroll';\n          },\n          horizontallyScrollableContext: function () {\n            var overflowX = $context.get(0) !== window ? $context.css('overflow-x') : false;\n            return overflowX == 'auto' || overflowX == 'scroll';\n          }\n        },\n        refresh: function () {\n          module.debug('Refreshing constants (width/height)');\n\n          if (settings.type == 'fixed') {\n            module.resetFixed();\n          }\n\n          module.reset();\n          module.save.position();\n\n          if (settings.checkOnRefresh) {\n            module.checkVisibility();\n          }\n\n          settings.onRefresh.call(element);\n        },\n        resetFixed: function () {\n          module.remove.fixed();\n          module.remove.occurred();\n        },\n        reset: function () {\n          module.verbose('Resetting all cached values');\n\n          if ($.isPlainObject(module.cache)) {\n            module.cache.screen = {};\n            module.cache.element = {};\n          }\n        },\n        checkVisibility: function (scroll) {\n          module.verbose('Checking visibility of element', module.cache.element);\n\n          if (!disabled && module.is.visible()) {\n            // save scroll position\n            module.save.scroll(scroll); // update calculations derived from scroll\n\n            module.save.calculations(); // percentage\n\n            module.passed(); // reverse (must be first)\n\n            module.passingReverse();\n            module.topVisibleReverse();\n            module.bottomVisibleReverse();\n            module.topPassedReverse();\n            module.bottomPassedReverse(); // one time\n\n            module.onScreen();\n            module.offScreen();\n            module.passing();\n            module.topVisible();\n            module.bottomVisible();\n            module.topPassed();\n            module.bottomPassed(); // on update callback\n\n            if (settings.onUpdate) {\n              settings.onUpdate.call(element, module.get.elementCalculations());\n            }\n          }\n        },\n        passed: function (amount, newCallback) {\n          var calculations = module.get.elementCalculations(),\n              amountInPixels; // assign callback\n\n          if (amount && newCallback) {\n            settings.onPassed[amount] = newCallback;\n          } else if (amount !== undefined) {\n            return module.get.pixelsPassed(amount) > calculations.pixelsPassed;\n          } else if (calculations.passing) {\n            $.each(settings.onPassed, function (amount, callback) {\n              if (calculations.bottomVisible || calculations.pixelsPassed > module.get.pixelsPassed(amount)) {\n                module.execute(callback, amount);\n              } else if (!settings.once) {\n                module.remove.occurred(callback);\n              }\n            });\n          }\n        },\n        onScreen: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onOnScreen,\n              callbackName = 'onScreen';\n\n          if (newCallback) {\n            module.debug('Adding callback for onScreen', newCallback);\n            settings.onOnScreen = newCallback;\n          }\n\n          if (calculations.onScreen) {\n            module.execute(callback, callbackName);\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback !== undefined) {\n            return calculations.onOnScreen;\n          }\n        },\n        offScreen: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onOffScreen,\n              callbackName = 'offScreen';\n\n          if (newCallback) {\n            module.debug('Adding callback for offScreen', newCallback);\n            settings.onOffScreen = newCallback;\n          }\n\n          if (calculations.offScreen) {\n            module.execute(callback, callbackName);\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback !== undefined) {\n            return calculations.onOffScreen;\n          }\n        },\n        passing: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onPassing,\n              callbackName = 'passing';\n\n          if (newCallback) {\n            module.debug('Adding callback for passing', newCallback);\n            settings.onPassing = newCallback;\n          }\n\n          if (calculations.passing) {\n            module.execute(callback, callbackName);\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback !== undefined) {\n            return calculations.passing;\n          }\n        },\n        topVisible: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onTopVisible,\n              callbackName = 'topVisible';\n\n          if (newCallback) {\n            module.debug('Adding callback for top visible', newCallback);\n            settings.onTopVisible = newCallback;\n          }\n\n          if (calculations.topVisible) {\n            module.execute(callback, callbackName);\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback === undefined) {\n            return calculations.topVisible;\n          }\n        },\n        bottomVisible: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onBottomVisible,\n              callbackName = 'bottomVisible';\n\n          if (newCallback) {\n            module.debug('Adding callback for bottom visible', newCallback);\n            settings.onBottomVisible = newCallback;\n          }\n\n          if (calculations.bottomVisible) {\n            module.execute(callback, callbackName);\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback === undefined) {\n            return calculations.bottomVisible;\n          }\n        },\n        topPassed: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onTopPassed,\n              callbackName = 'topPassed';\n\n          if (newCallback) {\n            module.debug('Adding callback for top passed', newCallback);\n            settings.onTopPassed = newCallback;\n          }\n\n          if (calculations.topPassed) {\n            module.execute(callback, callbackName);\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback === undefined) {\n            return calculations.topPassed;\n          }\n        },\n        bottomPassed: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onBottomPassed,\n              callbackName = 'bottomPassed';\n\n          if (newCallback) {\n            module.debug('Adding callback for bottom passed', newCallback);\n            settings.onBottomPassed = newCallback;\n          }\n\n          if (calculations.bottomPassed) {\n            module.execute(callback, callbackName);\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback === undefined) {\n            return calculations.bottomPassed;\n          }\n        },\n        passingReverse: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onPassingReverse,\n              callbackName = 'passingReverse';\n\n          if (newCallback) {\n            module.debug('Adding callback for passing reverse', newCallback);\n            settings.onPassingReverse = newCallback;\n          }\n\n          if (!calculations.passing) {\n            if (module.get.occurred('passing')) {\n              module.execute(callback, callbackName);\n            }\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback !== undefined) {\n            return !calculations.passing;\n          }\n        },\n        topVisibleReverse: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onTopVisibleReverse,\n              callbackName = 'topVisibleReverse';\n\n          if (newCallback) {\n            module.debug('Adding callback for top visible reverse', newCallback);\n            settings.onTopVisibleReverse = newCallback;\n          }\n\n          if (!calculations.topVisible) {\n            if (module.get.occurred('topVisible')) {\n              module.execute(callback, callbackName);\n            }\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback === undefined) {\n            return !calculations.topVisible;\n          }\n        },\n        bottomVisibleReverse: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onBottomVisibleReverse,\n              callbackName = 'bottomVisibleReverse';\n\n          if (newCallback) {\n            module.debug('Adding callback for bottom visible reverse', newCallback);\n            settings.onBottomVisibleReverse = newCallback;\n          }\n\n          if (!calculations.bottomVisible) {\n            if (module.get.occurred('bottomVisible')) {\n              module.execute(callback, callbackName);\n            }\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback === undefined) {\n            return !calculations.bottomVisible;\n          }\n        },\n        topPassedReverse: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onTopPassedReverse,\n              callbackName = 'topPassedReverse';\n\n          if (newCallback) {\n            module.debug('Adding callback for top passed reverse', newCallback);\n            settings.onTopPassedReverse = newCallback;\n          }\n\n          if (!calculations.topPassed) {\n            if (module.get.occurred('topPassed')) {\n              module.execute(callback, callbackName);\n            }\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback === undefined) {\n            return !calculations.onTopPassed;\n          }\n        },\n        bottomPassedReverse: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onBottomPassedReverse,\n              callbackName = 'bottomPassedReverse';\n\n          if (newCallback) {\n            module.debug('Adding callback for bottom passed reverse', newCallback);\n            settings.onBottomPassedReverse = newCallback;\n          }\n\n          if (!calculations.bottomPassed) {\n            if (module.get.occurred('bottomPassed')) {\n              module.execute(callback, callbackName);\n            }\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback === undefined) {\n            return !calculations.bottomPassed;\n          }\n        },\n        execute: function (callback, callbackName) {\n          var calculations = module.get.elementCalculations(),\n              screen = module.get.screenCalculations();\n          callback = callback || false;\n\n          if (callback) {\n            if (settings.continuous) {\n              module.debug('Callback being called continuously', callbackName, calculations);\n              callback.call(element, calculations, screen);\n            } else if (!module.get.occurred(callbackName)) {\n              module.debug('Conditions met', callbackName, calculations);\n              callback.call(element, calculations, screen);\n            }\n          }\n\n          module.save.occurred(callbackName);\n        },\n        remove: {\n          fixed: function () {\n            module.debug('Removing fixed position');\n            $module.removeClass(className.fixed).css({\n              position: '',\n              top: '',\n              left: '',\n              zIndex: ''\n            });\n            settings.onUnfixed.call(element);\n          },\n          placeholder: function () {\n            module.debug('Removing placeholder content');\n\n            if ($placeholder) {\n              $placeholder.remove();\n            }\n          },\n          occurred: function (callback) {\n            if (callback) {\n              var occurred = module.cache.occurred;\n\n              if (occurred[callback] !== undefined && occurred[callback] === true) {\n                module.debug('Callback can now be called again', callback);\n                module.cache.occurred[callback] = false;\n              }\n            } else {\n              module.cache.occurred = {};\n            }\n          }\n        },\n        save: {\n          calculations: function () {\n            module.verbose('Saving all calculations necessary to determine positioning');\n            module.save.direction();\n            module.save.screenCalculations();\n            module.save.elementCalculations();\n          },\n          occurred: function (callback) {\n            if (callback) {\n              if (module.cache.occurred[callback] === undefined || module.cache.occurred[callback] !== true) {\n                module.verbose('Saving callback occurred', callback);\n                module.cache.occurred[callback] = true;\n              }\n            }\n          },\n          scroll: function (scrollPosition) {\n            scrollPosition = scrollPosition + settings.offset || $context.scrollTop() + settings.offset;\n            module.cache.scroll = scrollPosition;\n          },\n          direction: function () {\n            var scroll = module.get.scroll(),\n                lastScroll = module.get.lastScroll(),\n                direction;\n\n            if (scroll > lastScroll && lastScroll) {\n              direction = 'down';\n            } else if (scroll < lastScroll && lastScroll) {\n              direction = 'up';\n            } else {\n              direction = 'static';\n            }\n\n            module.cache.direction = direction;\n            return module.cache.direction;\n          },\n          elementPosition: function () {\n            var element = module.cache.element,\n                screen = module.get.screenSize();\n            module.verbose('Saving element position'); // (quicker than $.extend)\n\n            element.fits = element.height < screen.height;\n            element.offset = $module.offset();\n            element.width = $module.outerWidth();\n            element.height = $module.outerHeight(); // compensate for scroll in context\n\n            if (module.is.verticallyScrollableContext()) {\n              element.offset.top += $context.scrollTop() - $context.offset().top;\n            }\n\n            if (module.is.horizontallyScrollableContext()) {\n              element.offset.left += $context.scrollLeft - $context.offset().left;\n            } // store\n\n\n            module.cache.element = element;\n            return element;\n          },\n          elementCalculations: function () {\n            var screen = module.get.screenCalculations(),\n                element = module.get.elementPosition(); // offset\n\n            if (settings.includeMargin) {\n              element.margin = {};\n              element.margin.top = parseInt($module.css('margin-top'), 10);\n              element.margin.bottom = parseInt($module.css('margin-bottom'), 10);\n              element.top = element.offset.top - element.margin.top;\n              element.bottom = element.offset.top + element.height + element.margin.bottom;\n            } else {\n              element.top = element.offset.top;\n              element.bottom = element.offset.top + element.height;\n            } // visibility\n\n\n            element.topPassed = screen.top >= element.top;\n            element.bottomPassed = screen.top >= element.bottom;\n            element.topVisible = screen.bottom >= element.top && !element.topPassed;\n            element.bottomVisible = screen.bottom >= element.bottom && !element.bottomPassed;\n            element.pixelsPassed = 0;\n            element.percentagePassed = 0; // meta calculations\n\n            element.onScreen = (element.topVisible || element.passing) && !element.bottomPassed;\n            element.passing = element.topPassed && !element.bottomPassed;\n            element.offScreen = !element.onScreen; // passing calculations\n\n            if (element.passing) {\n              element.pixelsPassed = screen.top - element.top;\n              element.percentagePassed = (screen.top - element.top) / element.height;\n            }\n\n            module.cache.element = element;\n            module.verbose('Updated element calculations', element);\n            return element;\n          },\n          screenCalculations: function () {\n            var scroll = module.get.scroll();\n            module.save.direction();\n            module.cache.screen.top = scroll;\n            module.cache.screen.bottom = scroll + module.cache.screen.height;\n            return module.cache.screen;\n          },\n          screenSize: function () {\n            module.verbose('Saving window position');\n            module.cache.screen = {\n              height: $context.height()\n            };\n          },\n          position: function () {\n            module.save.screenSize();\n            module.save.elementPosition();\n          }\n        },\n        get: {\n          pixelsPassed: function (amount) {\n            var element = module.get.elementCalculations();\n\n            if (amount.search('%') > -1) {\n              return element.height * (parseInt(amount, 10) / 100);\n            }\n\n            return parseInt(amount, 10);\n          },\n          occurred: function (callback) {\n            return module.cache.occurred !== undefined ? module.cache.occurred[callback] || false : false;\n          },\n          direction: function () {\n            if (module.cache.direction === undefined) {\n              module.save.direction();\n            }\n\n            return module.cache.direction;\n          },\n          elementPosition: function () {\n            if (module.cache.element === undefined) {\n              module.save.elementPosition();\n            }\n\n            return module.cache.element;\n          },\n          elementCalculations: function () {\n            if (module.cache.element === undefined) {\n              module.save.elementCalculations();\n            }\n\n            return module.cache.element;\n          },\n          screenCalculations: function () {\n            if (module.cache.screen === undefined) {\n              module.save.screenCalculations();\n            }\n\n            return module.cache.screen;\n          },\n          screenSize: function () {\n            if (module.cache.screen === undefined) {\n              module.save.screenSize();\n            }\n\n            return module.cache.screen;\n          },\n          scroll: function () {\n            if (module.cache.scroll === undefined) {\n              module.save.scroll();\n            }\n\n            return module.cache.scroll;\n          },\n          lastScroll: function () {\n            if (module.cache.screen === undefined) {\n              module.debug('First scroll event, no last scroll could be found');\n              return false;\n            }\n\n            return module.cache.screen.top;\n          }\n        },\n        setting: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            settings[name] = value;\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        instance.save.scroll();\n        instance.save.calculations();\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.visibility.settings = {\n    name: 'Visibility',\n    namespace: 'visibility',\n    debug: false,\n    verbose: false,\n    performance: true,\n    // whether to use mutation observers to follow changes\n    observeChanges: true,\n    // check position immediately on init\n    initialCheck: true,\n    // whether to refresh calculations after all page images load\n    refreshOnLoad: true,\n    // whether to refresh calculations after page resize event\n    refreshOnResize: true,\n    // should call callbacks on refresh event (resize, etc)\n    checkOnRefresh: true,\n    // callback should only occur one time\n    once: true,\n    // callback should fire continuously whe evaluates to true\n    continuous: false,\n    // offset to use with scroll top\n    offset: 0,\n    // whether to include margin in elements position\n    includeMargin: false,\n    // scroll context for visibility checks\n    context: window,\n    // visibility check delay in ms (defaults to animationFrame)\n    throttle: false,\n    // special visibility type (image, fixed)\n    type: false,\n    // z-index to use with visibility 'fixed'\n    zIndex: '10',\n    // image only animation settings\n    transition: 'fade in',\n    duration: 1000,\n    // array of callbacks for percentage\n    onPassed: {},\n    // standard callbacks\n    onOnScreen: false,\n    onOffScreen: false,\n    onPassing: false,\n    onTopVisible: false,\n    onBottomVisible: false,\n    onTopPassed: false,\n    onBottomPassed: false,\n    // reverse callbacks\n    onPassingReverse: false,\n    onTopVisibleReverse: false,\n    onBottomVisibleReverse: false,\n    onTopPassedReverse: false,\n    onBottomPassedReverse: false,\n    // special callbacks for image\n    onLoad: function () {},\n    onAllLoaded: function () {},\n    // special callbacks for fixed position\n    onFixed: function () {},\n    onUnfixed: function () {},\n    // utility callbacks\n    onUpdate: false,\n    // disabled by default for performance\n    onRefresh: function () {},\n    metadata: {\n      src: 'src'\n    },\n    className: {\n      fixed: 'fixed',\n      placeholder: 'placeholder',\n      visible: 'visible'\n    },\n    error: {\n      method: 'The method you called is not defined.',\n      visible: 'Element is hidden, you must call refresh after element becomes visible'\n    }\n  };\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"globals\":{\"site.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/globals/site.js                                                                            //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * # Semantic UI - Site\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  $.site = $.fn.site = function (parameters) {\n    var time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.site.settings, parameters) : $.extend({}, $.site.settings),\n        namespace = settings.namespace,\n        error = settings.error,\n        eventNamespace = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n        $document = $(document),\n        $module = $document,\n        element = this,\n        instance = $module.data(moduleNamespace),\n        module,\n        returnedValue;\n    module = {\n      initialize: function () {\n        module.instantiate();\n      },\n      instantiate: function () {\n        module.verbose('Storing instance of site', module);\n        instance = module;\n        $module.data(moduleNamespace, module);\n      },\n      normalize: function () {\n        module.fix.console();\n        module.fix.requestAnimationFrame();\n      },\n      fix: {\n        console: function () {\n          module.debug('Normalizing window.console');\n\n          if (console === undefined || console.log === undefined) {\n            module.verbose('Console not available, normalizing events');\n            module.disable.console();\n          }\n\n          if (typeof console.group == 'undefined' || typeof console.groupEnd == 'undefined' || typeof console.groupCollapsed == 'undefined') {\n            module.verbose('Console group not available, normalizing events');\n\n            window.console.group = function () {};\n\n            window.console.groupEnd = function () {};\n\n            window.console.groupCollapsed = function () {};\n          }\n\n          if (typeof console.markTimeline == 'undefined') {\n            module.verbose('Mark timeline not available, normalizing events');\n\n            window.console.markTimeline = function () {};\n          }\n        },\n        consoleClear: function () {\n          module.debug('Disabling programmatic console clearing');\n\n          window.console.clear = function () {};\n        },\n        requestAnimationFrame: function () {\n          module.debug('Normalizing requestAnimationFrame');\n\n          if (window.requestAnimationFrame === undefined) {\n            module.debug('RequestAnimationFrame not available, normalizing event');\n\n            window.requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {\n              setTimeout(callback, 0);\n            };\n          }\n        }\n      },\n      moduleExists: function (name) {\n        return $.fn[name] !== undefined && $.fn[name].settings !== undefined;\n      },\n      enabled: {\n        modules: function (modules) {\n          var enabledModules = [];\n          modules = modules || settings.modules;\n          $.each(modules, function (index, name) {\n            if (module.moduleExists(name)) {\n              enabledModules.push(name);\n            }\n          });\n          return enabledModules;\n        }\n      },\n      disabled: {\n        modules: function (modules) {\n          var disabledModules = [];\n          modules = modules || settings.modules;\n          $.each(modules, function (index, name) {\n            if (!module.moduleExists(name)) {\n              disabledModules.push(name);\n            }\n          });\n          return disabledModules;\n        }\n      },\n      change: {\n        setting: function (setting, value, modules, modifyExisting) {\n          modules = typeof modules === 'string' ? modules === 'all' ? settings.modules : [modules] : modules || settings.modules;\n          modifyExisting = modifyExisting !== undefined ? modifyExisting : true;\n          $.each(modules, function (index, name) {\n            var namespace = module.moduleExists(name) ? $.fn[name].settings.namespace || false : true,\n                $existingModules;\n\n            if (module.moduleExists(name)) {\n              module.verbose('Changing default setting', setting, value, name);\n              $.fn[name].settings[setting] = value;\n\n              if (modifyExisting && namespace) {\n                $existingModules = $(':data(module-' + namespace + ')');\n\n                if ($existingModules.length > 0) {\n                  module.verbose('Modifying existing settings', $existingModules);\n                  $existingModules[name]('setting', setting, value);\n                }\n              }\n            }\n          });\n        },\n        settings: function (newSettings, modules, modifyExisting) {\n          modules = typeof modules === 'string' ? [modules] : modules || settings.modules;\n          modifyExisting = modifyExisting !== undefined ? modifyExisting : true;\n          $.each(modules, function (index, name) {\n            var $existingModules;\n\n            if (module.moduleExists(name)) {\n              module.verbose('Changing default setting', newSettings, name);\n              $.extend(true, $.fn[name].settings, newSettings);\n\n              if (modifyExisting && namespace) {\n                $existingModules = $(':data(module-' + namespace + ')');\n\n                if ($existingModules.length > 0) {\n                  module.verbose('Modifying existing settings', $existingModules);\n                  $existingModules[name]('setting', newSettings);\n                }\n              }\n            }\n          });\n        }\n      },\n      enable: {\n        console: function () {\n          module.console(true);\n        },\n        debug: function (modules, modifyExisting) {\n          modules = modules || settings.modules;\n          module.debug('Enabling debug for modules', modules);\n          module.change.setting('debug', true, modules, modifyExisting);\n        },\n        verbose: function (modules, modifyExisting) {\n          modules = modules || settings.modules;\n          module.debug('Enabling verbose debug for modules', modules);\n          module.change.setting('verbose', true, modules, modifyExisting);\n        }\n      },\n      disable: {\n        console: function () {\n          module.console(false);\n        },\n        debug: function (modules, modifyExisting) {\n          modules = modules || settings.modules;\n          module.debug('Disabling debug for modules', modules);\n          module.change.setting('debug', false, modules, modifyExisting);\n        },\n        verbose: function (modules, modifyExisting) {\n          modules = modules || settings.modules;\n          module.debug('Disabling verbose debug for modules', modules);\n          module.change.setting('verbose', false, modules, modifyExisting);\n        }\n      },\n      console: function (enable) {\n        if (enable) {\n          if (instance.cache.console === undefined) {\n            module.error(error.console);\n            return;\n          }\n\n          module.debug('Restoring console function');\n          window.console = instance.cache.console;\n        } else {\n          module.debug('Disabling console function');\n          instance.cache.console = window.console;\n          window.console = {\n            clear: function () {},\n            error: function () {},\n            group: function () {},\n            groupCollapsed: function () {},\n            groupEnd: function () {},\n            info: function () {},\n            log: function () {},\n            markTimeline: function () {},\n            warn: function () {}\n          };\n        }\n      },\n      destroy: function () {\n        module.verbose('Destroying previous site for', $module);\n        $module.removeData(moduleNamespace);\n      },\n      cache: {},\n      setting: function (name, value) {\n        if ($.isPlainObject(name)) {\n          $.extend(true, settings, name);\n        } else if (value !== undefined) {\n          settings[name] = value;\n        } else {\n          return settings[name];\n        }\n      },\n      internal: function (name, value) {\n        if ($.isPlainObject(name)) {\n          $.extend(true, module, name);\n        } else if (value !== undefined) {\n          module[name] = value;\n        } else {\n          return module[name];\n        }\n      },\n      debug: function () {\n        if (settings.debug) {\n          if (settings.performance) {\n            module.performance.log(arguments);\n          } else {\n            module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n            module.debug.apply(console, arguments);\n          }\n        }\n      },\n      verbose: function () {\n        if (settings.verbose && settings.debug) {\n          if (settings.performance) {\n            module.performance.log(arguments);\n          } else {\n            module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n            module.verbose.apply(console, arguments);\n          }\n        }\n      },\n      error: function () {\n        module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n        module.error.apply(console, arguments);\n      },\n      performance: {\n        log: function (message) {\n          var currentTime, executionTime, previousTime;\n\n          if (settings.performance) {\n            currentTime = new Date().getTime();\n            previousTime = time || currentTime;\n            executionTime = currentTime - previousTime;\n            time = currentTime;\n            performance.push({\n              'Element': element,\n              'Name': message[0],\n              'Arguments': [].slice.call(message, 1) || '',\n              'Execution Time': executionTime\n            });\n          }\n\n          clearTimeout(module.performance.timer);\n          module.performance.timer = setTimeout(module.performance.display, 500);\n        },\n        display: function () {\n          var title = settings.name + ':',\n              totalTime = 0;\n          time = false;\n          clearTimeout(module.performance.timer);\n          $.each(performance, function (index, data) {\n            totalTime += data['Execution Time'];\n          });\n          title += ' ' + totalTime + 'ms';\n\n          if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n            console.groupCollapsed(title);\n\n            if (console.table) {\n              console.table(performance);\n            } else {\n              $.each(performance, function (index, data) {\n                console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n              });\n            }\n\n            console.groupEnd();\n          }\n\n          performance = [];\n        }\n      },\n      invoke: function (query, passedArguments, context) {\n        var object = instance,\n            maxDepth,\n            found,\n            response;\n        passedArguments = passedArguments || queryArguments;\n        context = element || context;\n\n        if (typeof query == 'string' && object !== undefined) {\n          query = query.split(/[\\. ]/);\n          maxDepth = query.length - 1;\n          $.each(query, function (depth, value) {\n            var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n            if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n              object = object[camelCaseValue];\n            } else if (object[camelCaseValue] !== undefined) {\n              found = object[camelCaseValue];\n              return false;\n            } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n              object = object[value];\n            } else if (object[value] !== undefined) {\n              found = object[value];\n              return false;\n            } else {\n              module.error(error.method, query);\n              return false;\n            }\n          });\n        }\n\n        if ($.isFunction(found)) {\n          response = found.apply(context, passedArguments);\n        } else if (found !== undefined) {\n          response = found;\n        }\n\n        if ($.isArray(returnedValue)) {\n          returnedValue.push(response);\n        } else if (returnedValue !== undefined) {\n          returnedValue = [returnedValue, response];\n        } else if (response !== undefined) {\n          returnedValue = response;\n        }\n\n        return found;\n      }\n    };\n\n    if (methodInvoked) {\n      if (instance === undefined) {\n        module.initialize();\n      }\n\n      module.invoke(query);\n    } else {\n      if (instance !== undefined) {\n        module.destroy();\n      }\n\n      module.initialize();\n    }\n\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.site.settings = {\n    name: 'Site',\n    namespace: 'site',\n    error: {\n      console: 'Console cannot be restored, most likely it was overwritten outside of module',\n      method: 'The method you called is not defined.'\n    },\n    debug: false,\n    verbose: false,\n    performance: true,\n    modules: ['accordion', 'api', 'checkbox', 'dimmer', 'dropdown', 'embed', 'form', 'modal', 'nag', 'popup', 'rating', 'shape', 'sidebar', 'state', 'sticky', 'tab', 'transition', 'visit', 'visibility'],\n    siteNamespace: 'site',\n    namespaceStub: {\n      cache: {},\n      config: {},\n      sections: {},\n      section: {},\n      utilities: {}\n    }\n  }; // allows for selection of elements with data attributes\n\n  $.extend($.expr[\":\"], {\n    data: $.expr.createPseudo ? $.expr.createPseudo(function (dataName) {\n      return function (elem) {\n        return !!$.data(elem, dataName);\n      };\n    }) : function (elem, i, match) {\n      // support: jQuery < 1.8\n      return !!$.data(elem, match[3]);\n    }\n  });\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"modules\":{\"accordion.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/modules/accordion.js                                                                       //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * # Semantic UI - Accordion\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.accordion = function (parameters) {\n    var $allModules = $(this),\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {\n      setTimeout(callback, 0);\n    },\n        returnedValue;\n\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.accordion.settings, parameters) : $.extend({}, $.fn.accordion.settings),\n          className = settings.className,\n          namespace = settings.namespace,\n          selector = settings.selector,\n          error = settings.error,\n          eventNamespace = '.' + namespace,\n          moduleNamespace = 'module-' + namespace,\n          moduleSelector = $allModules.selector || '',\n          $module = $(this),\n          $title = $module.find(selector.title),\n          $content = $module.find(selector.content),\n          element = this,\n          instance = $module.data(moduleNamespace),\n          observer,\n          module;\n      module = {\n        initialize: function () {\n          module.debug('Initializing', $module);\n          module.bind.events();\n\n          if (settings.observeChanges) {\n            module.observeChanges();\n          }\n\n          module.instantiate();\n        },\n        instantiate: function () {\n          instance = module;\n          $module.data(moduleNamespace, module);\n        },\n        destroy: function () {\n          module.debug('Destroying previous instance', $module);\n          $module.off(eventNamespace).removeData(moduleNamespace);\n        },\n        refresh: function () {\n          $title = $module.find(selector.title);\n          $content = $module.find(selector.content);\n        },\n        observeChanges: function () {\n          if ('MutationObserver' in window) {\n            observer = new MutationObserver(function (mutations) {\n              module.debug('DOM tree modified, updating selector cache');\n              module.refresh();\n            });\n            observer.observe(element, {\n              childList: true,\n              subtree: true\n            });\n            module.debug('Setting up mutation observer', observer);\n          }\n        },\n        bind: {\n          events: function () {\n            module.debug('Binding delegated events');\n            $module.on(settings.on + eventNamespace, selector.trigger, module.event.click);\n          }\n        },\n        event: {\n          click: function () {\n            module.toggle.call(this);\n          }\n        },\n        toggle: function (query) {\n          var $activeTitle = query !== undefined ? typeof query === 'number' ? $title.eq(query) : $(query).closest(selector.title) : $(this).closest(selector.title),\n              $activeContent = $activeTitle.next($content),\n              isAnimating = $activeContent.hasClass(className.animating),\n              isActive = $activeContent.hasClass(className.active),\n              isOpen = isActive && !isAnimating,\n              isOpening = !isActive && isAnimating;\n          module.debug('Toggling visibility of content', $activeTitle);\n\n          if (isOpen || isOpening) {\n            if (settings.collapsible) {\n              module.close.call($activeTitle);\n            } else {\n              module.debug('Cannot close accordion content collapsing is disabled');\n            }\n          } else {\n            module.open.call($activeTitle);\n          }\n        },\n        open: function (query) {\n          var $activeTitle = query !== undefined ? typeof query === 'number' ? $title.eq(query) : $(query).closest(selector.title) : $(this).closest(selector.title),\n              $activeContent = $activeTitle.next($content),\n              isAnimating = $activeContent.hasClass(className.animating),\n              isActive = $activeContent.hasClass(className.active),\n              isOpen = isActive || isAnimating;\n\n          if (isOpen) {\n            module.debug('Accordion already open, skipping', $activeContent);\n            return;\n          }\n\n          module.debug('Opening accordion content', $activeTitle);\n          settings.onOpening.call($activeContent);\n          settings.onChanging.call($activeContent);\n\n          if (settings.exclusive) {\n            module.closeOthers.call($activeTitle);\n          }\n\n          $activeTitle.addClass(className.active);\n          $activeContent.stop(true, true).addClass(className.animating);\n\n          if (settings.animateChildren) {\n            if ($.fn.transition !== undefined && $module.transition('is supported')) {\n              $activeContent.children().transition({\n                animation: 'fade in',\n                queue: false,\n                useFailSafe: true,\n                debug: settings.debug,\n                verbose: settings.verbose,\n                duration: settings.duration\n              });\n            } else {\n              $activeContent.children().stop(true, true).animate({\n                opacity: 1\n              }, settings.duration, module.resetOpacity);\n            }\n          }\n\n          $activeContent.slideDown(settings.duration, settings.easing, function () {\n            $activeContent.removeClass(className.animating).addClass(className.active);\n            module.reset.display.call(this);\n            settings.onOpen.call(this);\n            settings.onChange.call(this);\n          });\n        },\n        close: function (query) {\n          var $activeTitle = query !== undefined ? typeof query === 'number' ? $title.eq(query) : $(query).closest(selector.title) : $(this).closest(selector.title),\n              $activeContent = $activeTitle.next($content),\n              isAnimating = $activeContent.hasClass(className.animating),\n              isActive = $activeContent.hasClass(className.active),\n              isOpening = !isActive && isAnimating,\n              isClosing = isActive && isAnimating;\n\n          if ((isActive || isOpening) && !isClosing) {\n            module.debug('Closing accordion content', $activeContent);\n            settings.onClosing.call($activeContent);\n            settings.onChanging.call($activeContent);\n            $activeTitle.removeClass(className.active);\n            $activeContent.stop(true, true).addClass(className.animating);\n\n            if (settings.animateChildren) {\n              if ($.fn.transition !== undefined && $module.transition('is supported')) {\n                $activeContent.children().transition({\n                  animation: 'fade out',\n                  queue: false,\n                  useFailSafe: true,\n                  debug: settings.debug,\n                  verbose: settings.verbose,\n                  duration: settings.duration\n                });\n              } else {\n                $activeContent.children().stop(true, true).animate({\n                  opacity: 0\n                }, settings.duration, module.resetOpacity);\n              }\n            }\n\n            $activeContent.slideUp(settings.duration, settings.easing, function () {\n              $activeContent.removeClass(className.animating).removeClass(className.active);\n              module.reset.display.call(this);\n              settings.onClose.call(this);\n              settings.onChange.call(this);\n            });\n          }\n        },\n        closeOthers: function (index) {\n          var $activeTitle = index !== undefined ? $title.eq(index) : $(this).closest(selector.title),\n              $parentTitles = $activeTitle.parents(selector.content).prev(selector.title),\n              $activeAccordion = $activeTitle.closest(selector.accordion),\n              activeSelector = selector.title + '.' + className.active + ':visible',\n              activeContent = selector.content + '.' + className.active + ':visible',\n              $openTitles,\n              $nestedTitles,\n              $openContents;\n\n          if (settings.closeNested) {\n            $openTitles = $activeAccordion.find(activeSelector).not($parentTitles);\n            $openContents = $openTitles.next($content);\n          } else {\n            $openTitles = $activeAccordion.find(activeSelector).not($parentTitles);\n            $nestedTitles = $activeAccordion.find(activeContent).find(activeSelector).not($parentTitles);\n            $openTitles = $openTitles.not($nestedTitles);\n            $openContents = $openTitles.next($content);\n          }\n\n          if ($openTitles.length > 0) {\n            module.debug('Exclusive enabled, closing other content', $openTitles);\n            $openTitles.removeClass(className.active);\n            $openContents.removeClass(className.animating).stop(true, true);\n\n            if (settings.animateChildren) {\n              if ($.fn.transition !== undefined && $module.transition('is supported')) {\n                $openContents.children().transition({\n                  animation: 'fade out',\n                  useFailSafe: true,\n                  debug: settings.debug,\n                  verbose: settings.verbose,\n                  duration: settings.duration\n                });\n              } else {\n                $openContents.children().stop(true, true).animate({\n                  opacity: 0\n                }, settings.duration, module.resetOpacity);\n              }\n            }\n\n            $openContents.slideUp(settings.duration, settings.easing, function () {\n              $(this).removeClass(className.active);\n              module.reset.display.call(this);\n            });\n          }\n        },\n        reset: {\n          display: function () {\n            module.verbose('Removing inline display from element', this);\n            $(this).css('display', '');\n\n            if ($(this).attr('style') === '') {\n              $(this).attr('style', '').removeAttr('style');\n            }\n          },\n          opacity: function () {\n            module.verbose('Removing inline opacity from element', this);\n            $(this).css('opacity', '');\n\n            if ($(this).attr('style') === '') {\n              $(this).attr('style', '').removeAttr('style');\n            }\n          }\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          module.debug('Changing internal', name, value);\n\n          if (value !== undefined) {\n            if ($.isPlainObject(name)) {\n              $.extend(true, module, name);\n            } else {\n              module[name] = value;\n            }\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.accordion.settings = {\n    name: 'Accordion',\n    namespace: 'accordion',\n    silent: false,\n    debug: false,\n    verbose: false,\n    performance: true,\n    on: 'click',\n    // event on title that opens accordion\n    observeChanges: true,\n    // whether accordion should automatically refresh on DOM insertion\n    exclusive: true,\n    // whether a single accordion content panel should be open at once\n    collapsible: true,\n    // whether accordion content can be closed\n    closeNested: false,\n    // whether nested content should be closed when a panel is closed\n    animateChildren: true,\n    // whether children opacity should be animated\n    duration: 350,\n    // duration of animation\n    easing: 'easeOutQuad',\n    // easing equation for animation\n    onOpening: function () {},\n    // callback before open animation\n    onClosing: function () {},\n    // callback before closing animation\n    onChanging: function () {},\n    // callback before closing or opening animation\n    onOpen: function () {},\n    // callback after open animation\n    onClose: function () {},\n    // callback after closing animation\n    onChange: function () {},\n    // callback after closing or opening animation\n    error: {\n      method: 'The method you called is not defined'\n    },\n    className: {\n      active: 'active',\n      animating: 'animating'\n    },\n    selector: {\n      accordion: '.accordion',\n      title: '.title',\n      trigger: '.title',\n      content: '.content'\n    }\n  }; // Adds easing\n\n  $.extend($.easing, {\n    easeOutQuad: function (x, t, b, c, d) {\n      return -c * (t /= d) * (t - 2) + b;\n    }\n  });\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"checkbox.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/modules/checkbox.js                                                                        //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * # Semantic UI - Checkbox\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.checkbox = function (parameters) {\n    var $allModules = $(this),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue;\n    $allModules.each(function () {\n      var settings = $.extend(true, {}, $.fn.checkbox.settings, parameters),\n          className = settings.className,\n          namespace = settings.namespace,\n          selector = settings.selector,\n          error = settings.error,\n          eventNamespace = '.' + namespace,\n          moduleNamespace = 'module-' + namespace,\n          $module = $(this),\n          $label = $(this).children(selector.label),\n          $input = $(this).children(selector.input),\n          input = $input[0],\n          initialLoad = false,\n          shortcutPressed = false,\n          instance = $module.data(moduleNamespace),\n          observer,\n          element = this,\n          module;\n      module = {\n        initialize: function () {\n          module.verbose('Initializing checkbox', settings);\n          module.create.label();\n          module.bind.events();\n          module.set.tabbable();\n          module.hide.input();\n          module.observeChanges();\n          module.instantiate();\n          module.setup();\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module.data(moduleNamespace, module);\n        },\n        destroy: function () {\n          module.verbose('Destroying module');\n          module.unbind.events();\n          module.show.input();\n          $module.removeData(moduleNamespace);\n        },\n        fix: {\n          reference: function () {\n            if ($module.is(selector.input)) {\n              module.debug('Behavior called on <input> adjusting invoked element');\n              $module = $module.closest(selector.checkbox);\n              module.refresh();\n            }\n          }\n        },\n        setup: function () {\n          module.set.initialLoad();\n\n          if (module.is.indeterminate()) {\n            module.debug('Initial value is indeterminate');\n            module.indeterminate();\n          } else if (module.is.checked()) {\n            module.debug('Initial value is checked');\n            module.check();\n          } else {\n            module.debug('Initial value is unchecked');\n            module.uncheck();\n          }\n\n          module.remove.initialLoad();\n        },\n        refresh: function () {\n          $label = $module.children(selector.label);\n          $input = $module.children(selector.input);\n          input = $input[0];\n        },\n        hide: {\n          input: function () {\n            module.verbose('Modifying <input> z-index to be unselectable');\n            $input.addClass(className.hidden);\n          }\n        },\n        show: {\n          input: function () {\n            module.verbose('Modifying <input> z-index to be selectable');\n            $input.removeClass(className.hidden);\n          }\n        },\n        observeChanges: function () {\n          if ('MutationObserver' in window) {\n            observer = new MutationObserver(function (mutations) {\n              module.debug('DOM tree modified, updating selector cache');\n              module.refresh();\n            });\n            observer.observe(element, {\n              childList: true,\n              subtree: true\n            });\n            module.debug('Setting up mutation observer', observer);\n          }\n        },\n        attachEvents: function (selector, event) {\n          var $element = $(selector);\n          event = $.isFunction(module[event]) ? module[event] : module.toggle;\n\n          if ($element.length > 0) {\n            module.debug('Attaching checkbox events to element', selector, event);\n            $element.on('click' + eventNamespace, event);\n          } else {\n            module.error(error.notFound);\n          }\n        },\n        event: {\n          click: function (event) {\n            var $target = $(event.target);\n\n            if ($target.is(selector.input)) {\n              module.verbose('Using default check action on initialized checkbox');\n              return;\n            }\n\n            if ($target.is(selector.link)) {\n              module.debug('Clicking link inside checkbox, skipping toggle');\n              return;\n            }\n\n            module.toggle();\n            $input.focus();\n            event.preventDefault();\n          },\n          keydown: function (event) {\n            var key = event.which,\n                keyCode = {\n              enter: 13,\n              space: 32,\n              escape: 27\n            };\n\n            if (key == keyCode.escape) {\n              module.verbose('Escape key pressed blurring field');\n              $input.blur();\n              shortcutPressed = true;\n            } else if (!event.ctrlKey && (key == keyCode.space || key == keyCode.enter)) {\n              module.verbose('Enter/space key pressed, toggling checkbox');\n              module.toggle();\n              shortcutPressed = true;\n            } else {\n              shortcutPressed = false;\n            }\n          },\n          keyup: function (event) {\n            if (shortcutPressed) {\n              event.preventDefault();\n            }\n          }\n        },\n        check: function () {\n          if (!module.should.allowCheck()) {\n            return;\n          }\n\n          module.debug('Checking checkbox', $input);\n          module.set.checked();\n\n          if (!module.should.ignoreCallbacks()) {\n            settings.onChecked.call(input);\n            settings.onChange.call(input);\n          }\n        },\n        uncheck: function () {\n          if (!module.should.allowUncheck()) {\n            return;\n          }\n\n          module.debug('Unchecking checkbox');\n          module.set.unchecked();\n\n          if (!module.should.ignoreCallbacks()) {\n            settings.onUnchecked.call(input);\n            settings.onChange.call(input);\n          }\n        },\n        indeterminate: function () {\n          if (module.should.allowIndeterminate()) {\n            module.debug('Checkbox is already indeterminate');\n            return;\n          }\n\n          module.debug('Making checkbox indeterminate');\n          module.set.indeterminate();\n\n          if (!module.should.ignoreCallbacks()) {\n            settings.onIndeterminate.call(input);\n            settings.onChange.call(input);\n          }\n        },\n        determinate: function () {\n          if (module.should.allowDeterminate()) {\n            module.debug('Checkbox is already determinate');\n            return;\n          }\n\n          module.debug('Making checkbox determinate');\n          module.set.determinate();\n\n          if (!module.should.ignoreCallbacks()) {\n            settings.onDeterminate.call(input);\n            settings.onChange.call(input);\n          }\n        },\n        enable: function () {\n          if (module.is.enabled()) {\n            module.debug('Checkbox is already enabled');\n            return;\n          }\n\n          module.debug('Enabling checkbox');\n          module.set.enabled();\n          settings.onEnable.call(input); // preserve legacy callbacks\n\n          settings.onEnabled.call(input);\n        },\n        disable: function () {\n          if (module.is.disabled()) {\n            module.debug('Checkbox is already disabled');\n            return;\n          }\n\n          module.debug('Disabling checkbox');\n          module.set.disabled();\n          settings.onDisable.call(input); // preserve legacy callbacks\n\n          settings.onDisabled.call(input);\n        },\n        get: {\n          radios: function () {\n            var name = module.get.name();\n            return $('input[name=\"' + name + '\"]').closest(selector.checkbox);\n          },\n          otherRadios: function () {\n            return module.get.radios().not($module);\n          },\n          name: function () {\n            return $input.attr('name');\n          }\n        },\n        is: {\n          initialLoad: function () {\n            return initialLoad;\n          },\n          radio: function () {\n            return $input.hasClass(className.radio) || $input.attr('type') == 'radio';\n          },\n          indeterminate: function () {\n            return $input.prop('indeterminate') !== undefined && $input.prop('indeterminate');\n          },\n          checked: function () {\n            return $input.prop('checked') !== undefined && $input.prop('checked');\n          },\n          disabled: function () {\n            return $input.prop('disabled') !== undefined && $input.prop('disabled');\n          },\n          enabled: function () {\n            return !module.is.disabled();\n          },\n          determinate: function () {\n            return !module.is.indeterminate();\n          },\n          unchecked: function () {\n            return !module.is.checked();\n          }\n        },\n        should: {\n          allowCheck: function () {\n            if (module.is.determinate() && module.is.checked() && !module.should.forceCallbacks()) {\n              module.debug('Should not allow check, checkbox is already checked');\n              return false;\n            }\n\n            if (settings.beforeChecked.apply(input) === false) {\n              module.debug('Should not allow check, beforeChecked cancelled');\n              return false;\n            }\n\n            return true;\n          },\n          allowUncheck: function () {\n            if (module.is.determinate() && module.is.unchecked() && !module.should.forceCallbacks()) {\n              module.debug('Should not allow uncheck, checkbox is already unchecked');\n              return false;\n            }\n\n            if (settings.beforeUnchecked.apply(input) === false) {\n              module.debug('Should not allow uncheck, beforeUnchecked cancelled');\n              return false;\n            }\n\n            return true;\n          },\n          allowIndeterminate: function () {\n            if (module.is.indeterminate() && !module.should.forceCallbacks()) {\n              module.debug('Should not allow indeterminate, checkbox is already indeterminate');\n              return false;\n            }\n\n            if (settings.beforeIndeterminate.apply(input) === false) {\n              module.debug('Should not allow indeterminate, beforeIndeterminate cancelled');\n              return false;\n            }\n\n            return true;\n          },\n          allowDeterminate: function () {\n            if (module.is.determinate() && !module.should.forceCallbacks()) {\n              module.debug('Should not allow determinate, checkbox is already determinate');\n              return false;\n            }\n\n            if (settings.beforeDeterminate.apply(input) === false) {\n              module.debug('Should not allow determinate, beforeDeterminate cancelled');\n              return false;\n            }\n\n            return true;\n          },\n          forceCallbacks: function () {\n            return module.is.initialLoad() && settings.fireOnInit;\n          },\n          ignoreCallbacks: function () {\n            return initialLoad && !settings.fireOnInit;\n          }\n        },\n        can: {\n          change: function () {\n            return !($module.hasClass(className.disabled) || $module.hasClass(className.readOnly) || $input.prop('disabled') || $input.prop('readonly'));\n          },\n          uncheck: function () {\n            return typeof settings.uncheckable === 'boolean' ? settings.uncheckable : !module.is.radio();\n          }\n        },\n        set: {\n          initialLoad: function () {\n            initialLoad = true;\n          },\n          checked: function () {\n            module.verbose('Setting class to checked');\n            $module.removeClass(className.indeterminate).addClass(className.checked);\n\n            if (module.is.radio()) {\n              module.uncheckOthers();\n            }\n\n            if (!module.is.indeterminate() && module.is.checked()) {\n              module.debug('Input is already checked, skipping input property change');\n              return;\n            }\n\n            module.verbose('Setting state to checked', input);\n            $input.prop('indeterminate', false).prop('checked', true);\n            module.trigger.change();\n          },\n          unchecked: function () {\n            module.verbose('Removing checked class');\n            $module.removeClass(className.indeterminate).removeClass(className.checked);\n\n            if (!module.is.indeterminate() && module.is.unchecked()) {\n              module.debug('Input is already unchecked');\n              return;\n            }\n\n            module.debug('Setting state to unchecked');\n            $input.prop('indeterminate', false).prop('checked', false);\n            module.trigger.change();\n          },\n          indeterminate: function () {\n            module.verbose('Setting class to indeterminate');\n            $module.addClass(className.indeterminate);\n\n            if (module.is.indeterminate()) {\n              module.debug('Input is already indeterminate, skipping input property change');\n              return;\n            }\n\n            module.debug('Setting state to indeterminate');\n            $input.prop('indeterminate', true);\n            module.trigger.change();\n          },\n          determinate: function () {\n            module.verbose('Removing indeterminate class');\n            $module.removeClass(className.indeterminate);\n\n            if (module.is.determinate()) {\n              module.debug('Input is already determinate, skipping input property change');\n              return;\n            }\n\n            module.debug('Setting state to determinate');\n            $input.prop('indeterminate', false);\n          },\n          disabled: function () {\n            module.verbose('Setting class to disabled');\n            $module.addClass(className.disabled);\n\n            if (module.is.disabled()) {\n              module.debug('Input is already disabled, skipping input property change');\n              return;\n            }\n\n            module.debug('Setting state to disabled');\n            $input.prop('disabled', 'disabled');\n            module.trigger.change();\n          },\n          enabled: function () {\n            module.verbose('Removing disabled class');\n            $module.removeClass(className.disabled);\n\n            if (module.is.enabled()) {\n              module.debug('Input is already enabled, skipping input property change');\n              return;\n            }\n\n            module.debug('Setting state to enabled');\n            $input.prop('disabled', false);\n            module.trigger.change();\n          },\n          tabbable: function () {\n            module.verbose('Adding tabindex to checkbox');\n\n            if ($input.attr('tabindex') === undefined) {\n              $input.attr('tabindex', 0);\n            }\n          }\n        },\n        remove: {\n          initialLoad: function () {\n            initialLoad = false;\n          }\n        },\n        trigger: {\n          change: function () {\n            var events = document.createEvent('HTMLEvents'),\n                inputElement = $input[0];\n\n            if (inputElement) {\n              module.verbose('Triggering native change event');\n              events.initEvent('change', true, false);\n              inputElement.dispatchEvent(events);\n            }\n          }\n        },\n        create: {\n          label: function () {\n            if ($input.prevAll(selector.label).length > 0) {\n              $input.prev(selector.label).detach().insertAfter($input);\n              module.debug('Moving existing label', $label);\n            } else if (!module.has.label()) {\n              $label = $('<label>').insertAfter($input);\n              module.debug('Creating label', $label);\n            }\n          }\n        },\n        has: {\n          label: function () {\n            return $label.length > 0;\n          }\n        },\n        bind: {\n          events: function () {\n            module.verbose('Attaching checkbox events');\n            $module.on('click' + eventNamespace, module.event.click).on('keydown' + eventNamespace, selector.input, module.event.keydown).on('keyup' + eventNamespace, selector.input, module.event.keyup);\n          }\n        },\n        unbind: {\n          events: function () {\n            module.debug('Removing events');\n            $module.off(eventNamespace);\n          }\n        },\n        uncheckOthers: function () {\n          var $radios = module.get.otherRadios();\n          module.debug('Unchecking other radios', $radios);\n          $radios.removeClass(className.checked);\n        },\n        toggle: function () {\n          if (!module.can.change()) {\n            if (!module.is.radio()) {\n              module.debug('Checkbox is read-only or disabled, ignoring toggle');\n            }\n\n            return;\n          }\n\n          if (module.is.indeterminate() || module.is.unchecked()) {\n            module.debug('Currently unchecked');\n            module.check();\n          } else if (module.is.checked() && module.can.uncheck()) {\n            module.debug('Currently checked');\n            module.uncheck();\n          }\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.checkbox.settings = {\n    name: 'Checkbox',\n    namespace: 'checkbox',\n    silent: false,\n    debug: false,\n    verbose: true,\n    performance: true,\n    // delegated event context\n    uncheckable: 'auto',\n    fireOnInit: false,\n    onChange: function () {},\n    beforeChecked: function () {},\n    beforeUnchecked: function () {},\n    beforeDeterminate: function () {},\n    beforeIndeterminate: function () {},\n    onChecked: function () {},\n    onUnchecked: function () {},\n    onDeterminate: function () {},\n    onIndeterminate: function () {},\n    onEnable: function () {},\n    onDisable: function () {},\n    // preserve misspelled callbacks (will be removed in 3.0)\n    onEnabled: function () {},\n    onDisabled: function () {},\n    className: {\n      checked: 'checked',\n      indeterminate: 'indeterminate',\n      disabled: 'disabled',\n      hidden: 'hidden',\n      radio: 'radio',\n      readOnly: 'read-only'\n    },\n    error: {\n      method: 'The method you called is not defined'\n    },\n    selector: {\n      checkbox: '.ui.checkbox',\n      label: 'label, .box',\n      input: 'input[type=\"checkbox\"], input[type=\"radio\"]',\n      link: 'a[href]'\n    }\n  };\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"dimmer.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/modules/dimmer.js                                                                          //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\n/*!\n * # Semantic UI - Dimmer\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.dimmer = function (parameters) {\n    var $allModules = $(this),\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue;\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.dimmer.settings, parameters) : $.extend({}, $.fn.dimmer.settings),\n          selector = settings.selector,\n          namespace = settings.namespace,\n          className = settings.className,\n          error = settings.error,\n          eventNamespace = '.' + namespace,\n          moduleNamespace = 'module-' + namespace,\n          moduleSelector = $allModules.selector || '',\n          clickEvent = 'ontouchstart' in document.documentElement ? 'touchstart' : 'click',\n          $module = $(this),\n          $dimmer,\n          $dimmable,\n          element = this,\n          instance = $module.data(moduleNamespace),\n          module;\n      module = {\n        preinitialize: function () {\n          if (module.is.dimmer()) {\n            $dimmable = $module.parent();\n            $dimmer = $module;\n          } else {\n            $dimmable = $module;\n\n            if (module.has.dimmer()) {\n              if (settings.dimmerName) {\n                $dimmer = $dimmable.find(selector.dimmer).filter('.' + settings.dimmerName);\n              } else {\n                $dimmer = $dimmable.find(selector.dimmer);\n              }\n            } else {\n              $dimmer = module.create();\n            }\n\n            module.set.variation();\n          }\n        },\n        initialize: function () {\n          module.debug('Initializing dimmer', settings);\n          module.bind.events();\n          module.set.dimmable();\n          module.instantiate();\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module.data(moduleNamespace, instance);\n        },\n        destroy: function () {\n          module.verbose('Destroying previous module', $dimmer);\n          module.unbind.events();\n          module.remove.variation();\n          $dimmable.off(eventNamespace);\n        },\n        bind: {\n          events: function () {\n            if (module.is.page()) {\n              // touch events default to passive, due to changes in chrome to optimize mobile perf\n              $dimmable.get(0).addEventListener('touchmove', module.event.preventScroll, {\n                passive: false\n              });\n            }\n\n            if (settings.on == 'hover') {\n              $dimmable.on('mouseenter' + eventNamespace, module.show).on('mouseleave' + eventNamespace, module.hide);\n            } else if (settings.on == 'click') {\n              $dimmable.on(clickEvent + eventNamespace, module.toggle);\n            }\n\n            if (module.is.page()) {\n              module.debug('Setting as a page dimmer', $dimmable);\n              module.set.pageDimmer();\n            }\n\n            if (module.is.closable()) {\n              module.verbose('Adding dimmer close event', $dimmer);\n              $dimmable.on(clickEvent + eventNamespace, selector.dimmer, module.event.click);\n            }\n          }\n        },\n        unbind: {\n          events: function () {\n            if (module.is.page()) {\n              $dimmable.get(0).removeEventListener('touchmove', module.event.preventScroll, {\n                passive: false\n              });\n            }\n\n            $module.removeData(moduleNamespace);\n            $dimmable.off(eventNamespace);\n          }\n        },\n        event: {\n          click: function (event) {\n            module.verbose('Determining if event occured on dimmer', event);\n\n            if ($dimmer.find(event.target).length === 0 || $(event.target).is(selector.content)) {\n              module.hide();\n              event.stopImmediatePropagation();\n            }\n          },\n          preventScroll: function (event) {\n            event.preventDefault();\n          }\n        },\n        addContent: function (element) {\n          var $content = $(element);\n          module.debug('Add content to dimmer', $content);\n\n          if ($content.parent()[0] !== $dimmer[0]) {\n            $content.detach().appendTo($dimmer);\n          }\n        },\n        create: function () {\n          var $element = $(settings.template.dimmer());\n\n          if (settings.dimmerName) {\n            module.debug('Creating named dimmer', settings.dimmerName);\n            $element.addClass(settings.dimmerName);\n          }\n\n          $element.appendTo($dimmable);\n          return $element;\n        },\n        show: function (callback) {\n          callback = $.isFunction(callback) ? callback : function () {};\n          module.debug('Showing dimmer', $dimmer, settings);\n\n          if ((!module.is.dimmed() || module.is.animating()) && module.is.enabled()) {\n            module.animate.show(callback);\n            settings.onShow.call(element);\n            settings.onChange.call(element);\n          } else {\n            module.debug('Dimmer is already shown or disabled');\n          }\n        },\n        hide: function (callback) {\n          callback = $.isFunction(callback) ? callback : function () {};\n\n          if (module.is.dimmed() || module.is.animating()) {\n            module.debug('Hiding dimmer', $dimmer);\n            module.animate.hide(callback);\n            settings.onHide.call(element);\n            settings.onChange.call(element);\n          } else {\n            module.debug('Dimmer is not visible');\n          }\n        },\n        toggle: function () {\n          module.verbose('Toggling dimmer visibility', $dimmer);\n\n          if (!module.is.dimmed()) {\n            module.show();\n          } else {\n            module.hide();\n          }\n        },\n        animate: {\n          show: function (callback) {\n            callback = $.isFunction(callback) ? callback : function () {};\n\n            if (settings.useCSS && $.fn.transition !== undefined && $dimmer.transition('is supported')) {\n              if (settings.opacity !== 'auto') {\n                module.set.opacity();\n              }\n\n              $dimmer.transition({\n                displayType: 'flex',\n                animation: settings.transition + ' in',\n                queue: false,\n                duration: module.get.duration(),\n                useFailSafe: true,\n                onStart: function () {\n                  module.set.dimmed();\n                },\n                onComplete: function () {\n                  module.set.active();\n                  callback();\n                }\n              });\n            } else {\n              module.verbose('Showing dimmer animation with javascript');\n              module.set.dimmed();\n\n              if (settings.opacity == 'auto') {\n                settings.opacity = 0.8;\n              }\n\n              $dimmer.stop().css({\n                opacity: 0,\n                width: '100%',\n                height: '100%'\n              }).fadeTo(module.get.duration(), settings.opacity, function () {\n                $dimmer.removeAttr('style');\n                module.set.active();\n                callback();\n              });\n            }\n          },\n          hide: function (callback) {\n            callback = $.isFunction(callback) ? callback : function () {};\n\n            if (settings.useCSS && $.fn.transition !== undefined && $dimmer.transition('is supported')) {\n              module.verbose('Hiding dimmer with css');\n              $dimmer.transition({\n                displayType: 'flex',\n                animation: settings.transition + ' out',\n                queue: false,\n                duration: module.get.duration(),\n                useFailSafe: true,\n                onStart: function () {\n                  module.remove.dimmed();\n                },\n                onComplete: function () {\n                  module.remove.active();\n                  callback();\n                }\n              });\n            } else {\n              module.verbose('Hiding dimmer with javascript');\n              module.remove.dimmed();\n              $dimmer.stop().fadeOut(module.get.duration(), function () {\n                module.remove.active();\n                $dimmer.removeAttr('style');\n                callback();\n              });\n            }\n          }\n        },\n        get: {\n          dimmer: function () {\n            return $dimmer;\n          },\n          duration: function () {\n            if ((0, _typeof2.default)(settings.duration) == 'object') {\n              if (module.is.active()) {\n                return settings.duration.hide;\n              } else {\n                return settings.duration.show;\n              }\n            }\n\n            return settings.duration;\n          }\n        },\n        has: {\n          dimmer: function () {\n            if (settings.dimmerName) {\n              return $module.find(selector.dimmer).filter('.' + settings.dimmerName).length > 0;\n            } else {\n              return $module.find(selector.dimmer).length > 0;\n            }\n          }\n        },\n        is: {\n          active: function () {\n            return $dimmer.hasClass(className.active);\n          },\n          animating: function () {\n            return $dimmer.is(':animated') || $dimmer.hasClass(className.animating);\n          },\n          closable: function () {\n            if (settings.closable == 'auto') {\n              if (settings.on == 'hover') {\n                return false;\n              }\n\n              return true;\n            }\n\n            return settings.closable;\n          },\n          dimmer: function () {\n            return $module.hasClass(className.dimmer);\n          },\n          dimmable: function () {\n            return $module.hasClass(className.dimmable);\n          },\n          dimmed: function () {\n            return $dimmable.hasClass(className.dimmed);\n          },\n          disabled: function () {\n            return $dimmable.hasClass(className.disabled);\n          },\n          enabled: function () {\n            return !module.is.disabled();\n          },\n          page: function () {\n            return $dimmable.is('body');\n          },\n          pageDimmer: function () {\n            return $dimmer.hasClass(className.pageDimmer);\n          }\n        },\n        can: {\n          show: function () {\n            return !$dimmer.hasClass(className.disabled);\n          }\n        },\n        set: {\n          opacity: function (opacity) {\n            var color = $dimmer.css('background-color'),\n                colorArray = color.split(','),\n                isRGB = colorArray && colorArray.length == 3,\n                isRGBA = colorArray && colorArray.length == 4;\n            opacity = settings.opacity === 0 ? 0 : settings.opacity || opacity;\n\n            if (isRGB || isRGBA) {\n              colorArray[3] = opacity + ')';\n              color = colorArray.join(',');\n            } else {\n              color = 'rgba(0, 0, 0, ' + opacity + ')';\n            }\n\n            module.debug('Setting opacity to', opacity);\n            $dimmer.css('background-color', color);\n          },\n          active: function () {\n            $dimmer.addClass(className.active);\n          },\n          dimmable: function () {\n            $dimmable.addClass(className.dimmable);\n          },\n          dimmed: function () {\n            $dimmable.addClass(className.dimmed);\n          },\n          pageDimmer: function () {\n            $dimmer.addClass(className.pageDimmer);\n          },\n          disabled: function () {\n            $dimmer.addClass(className.disabled);\n          },\n          variation: function (variation) {\n            variation = variation || settings.variation;\n\n            if (variation) {\n              $dimmer.addClass(variation);\n            }\n          }\n        },\n        remove: {\n          active: function () {\n            $dimmer.removeClass(className.active);\n          },\n          dimmed: function () {\n            $dimmable.removeClass(className.dimmed);\n          },\n          disabled: function () {\n            $dimmer.removeClass(className.disabled);\n          },\n          variation: function (variation) {\n            variation = variation || settings.variation;\n\n            if (variation) {\n              $dimmer.removeClass(variation);\n            }\n          }\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n      module.preinitialize();\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.dimmer.settings = {\n    name: 'Dimmer',\n    namespace: 'dimmer',\n    silent: false,\n    debug: false,\n    verbose: false,\n    performance: true,\n    // name to distinguish between multiple dimmers in context\n    dimmerName: false,\n    // whether to add a variation type\n    variation: false,\n    // whether to bind close events\n    closable: 'auto',\n    // whether to use css animations\n    useCSS: true,\n    // css animation to use\n    transition: 'fade',\n    // event to bind to\n    on: false,\n    // overriding opacity value\n    opacity: 'auto',\n    // transition durations\n    duration: {\n      show: 500,\n      hide: 500\n    },\n    onChange: function () {},\n    onShow: function () {},\n    onHide: function () {},\n    error: {\n      method: 'The method you called is not defined.'\n    },\n    className: {\n      active: 'active',\n      animating: 'animating',\n      dimmable: 'dimmable',\n      dimmed: 'dimmed',\n      dimmer: 'dimmer',\n      disabled: 'disabled',\n      hide: 'hide',\n      pageDimmer: 'page',\n      show: 'show'\n    },\n    selector: {\n      dimmer: '> .ui.dimmer',\n      content: '.ui.dimmer > .content, .ui.dimmer > .content > .center'\n    },\n    template: {\n      dimmer: function () {\n        return $('<div />').attr('class', 'ui dimmer');\n      }\n    }\n  };\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"dropdown.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/modules/dropdown.js                                                                        //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * # Semantic UI - Dropdown\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.dropdown = function (parameters) {\n    var $allModules = $(this),\n        $document = $(document),\n        moduleSelector = $allModules.selector || '',\n        hasTouch = 'ontouchstart' in document.documentElement,\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue;\n    $allModules.each(function (elementIndex) {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.dropdown.settings, parameters) : $.extend({}, $.fn.dropdown.settings),\n          className = settings.className,\n          message = settings.message,\n          fields = settings.fields,\n          keys = settings.keys,\n          metadata = settings.metadata,\n          namespace = settings.namespace,\n          regExp = settings.regExp,\n          selector = settings.selector,\n          error = settings.error,\n          templates = settings.templates,\n          eventNamespace = '.' + namespace,\n          moduleNamespace = 'module-' + namespace,\n          $module = $(this),\n          $context = $(settings.context),\n          $text = $module.find(selector.text),\n          $search = $module.find(selector.search),\n          $sizer = $module.find(selector.sizer),\n          $input = $module.find(selector.input),\n          $icon = $module.find(selector.icon),\n          $combo = $module.prev().find(selector.text).length > 0 ? $module.prev().find(selector.text) : $module.prev(),\n          $menu = $module.children(selector.menu),\n          $item = $menu.find(selector.item),\n          activated = false,\n          itemActivated = false,\n          internalChange = false,\n          element = this,\n          instance = $module.data(moduleNamespace),\n          initialLoad,\n          pageLostFocus,\n          willRefocus,\n          elementNamespace,\n          id,\n          selectObserver,\n          menuObserver,\n          module;\n      module = {\n        initialize: function () {\n          module.debug('Initializing dropdown', settings);\n\n          if (module.is.alreadySetup()) {\n            module.setup.reference();\n          } else {\n            module.setup.layout();\n\n            if (settings.values) {\n              module.change.values(settings.values);\n            }\n\n            module.refreshData();\n            module.save.defaults();\n            module.restore.selected();\n            module.create.id();\n            module.bind.events();\n            module.observeChanges();\n            module.instantiate();\n          }\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of dropdown', module);\n          instance = module;\n          $module.data(moduleNamespace, module);\n        },\n        destroy: function () {\n          module.verbose('Destroying previous dropdown', $module);\n          module.remove.tabbable();\n          $module.off(eventNamespace).removeData(moduleNamespace);\n          $menu.off(eventNamespace);\n          $document.off(elementNamespace);\n          module.disconnect.menuObserver();\n          module.disconnect.selectObserver();\n        },\n        observeChanges: function () {\n          if ('MutationObserver' in window) {\n            selectObserver = new MutationObserver(module.event.select.mutation);\n            menuObserver = new MutationObserver(module.event.menu.mutation);\n            module.debug('Setting up mutation observer', selectObserver, menuObserver);\n            module.observe.select();\n            module.observe.menu();\n          }\n        },\n        disconnect: {\n          menuObserver: function () {\n            if (menuObserver) {\n              menuObserver.disconnect();\n            }\n          },\n          selectObserver: function () {\n            if (selectObserver) {\n              selectObserver.disconnect();\n            }\n          }\n        },\n        observe: {\n          select: function () {\n            if (module.has.input()) {\n              selectObserver.observe($module[0], {\n                childList: true,\n                subtree: true\n              });\n            }\n          },\n          menu: function () {\n            if (module.has.menu()) {\n              menuObserver.observe($menu[0], {\n                childList: true,\n                subtree: true\n              });\n            }\n          }\n        },\n        create: {\n          id: function () {\n            id = (Math.random().toString(16) + '000000000').substr(2, 8);\n            elementNamespace = '.' + id;\n            module.verbose('Creating unique id for element', id);\n          },\n          userChoice: function (values) {\n            var $userChoices, $userChoice, isUserValue, html;\n            values = values || module.get.userValues();\n\n            if (!values) {\n              return false;\n            }\n\n            values = $.isArray(values) ? values : [values];\n            $.each(values, function (index, value) {\n              if (module.get.item(value) === false) {\n                html = settings.templates.addition(module.add.variables(message.addResult, value));\n                $userChoice = $('<div />').html(html).attr('data-' + metadata.value, value).attr('data-' + metadata.text, value).addClass(className.addition).addClass(className.item);\n\n                if (settings.hideAdditions) {\n                  $userChoice.addClass(className.hidden);\n                }\n\n                $userChoices = $userChoices === undefined ? $userChoice : $userChoices.add($userChoice);\n                module.verbose('Creating user choices for value', value, $userChoice);\n              }\n            });\n            return $userChoices;\n          },\n          userLabels: function (value) {\n            var userValues = module.get.userValues();\n\n            if (userValues) {\n              module.debug('Adding user labels', userValues);\n              $.each(userValues, function (index, value) {\n                module.verbose('Adding custom user value');\n                module.add.label(value, value);\n              });\n            }\n          },\n          menu: function () {\n            $menu = $('<div />').addClass(className.menu).appendTo($module);\n          },\n          sizer: function () {\n            $sizer = $('<span />').addClass(className.sizer).insertAfter($search);\n          }\n        },\n        search: function (query) {\n          query = query !== undefined ? query : module.get.query();\n          module.verbose('Searching for query', query);\n\n          if (module.has.minCharacters(query)) {\n            module.filter(query);\n          } else {\n            module.hide();\n          }\n        },\n        select: {\n          firstUnfiltered: function () {\n            module.verbose('Selecting first non-filtered element');\n            module.remove.selectedItem();\n            $item.not(selector.unselectable).not(selector.addition + selector.hidden).eq(0).addClass(className.selected);\n          },\n          nextAvailable: function ($selected) {\n            $selected = $selected.eq(0);\n            var $nextAvailable = $selected.nextAll(selector.item).not(selector.unselectable).eq(0),\n                $prevAvailable = $selected.prevAll(selector.item).not(selector.unselectable).eq(0),\n                hasNext = $nextAvailable.length > 0;\n\n            if (hasNext) {\n              module.verbose('Moving selection to', $nextAvailable);\n              $nextAvailable.addClass(className.selected);\n            } else {\n              module.verbose('Moving selection to', $prevAvailable);\n              $prevAvailable.addClass(className.selected);\n            }\n          }\n        },\n        setup: {\n          api: function () {\n            var apiSettings = {\n              debug: settings.debug,\n              urlData: {\n                value: module.get.value(),\n                query: module.get.query()\n              },\n              on: false\n            };\n            module.verbose('First request, initializing API');\n            $module.api(apiSettings);\n          },\n          layout: function () {\n            if ($module.is('select')) {\n              module.setup.select();\n              module.setup.returnedObject();\n            }\n\n            if (!module.has.menu()) {\n              module.create.menu();\n            }\n\n            if (module.is.search() && !module.has.search()) {\n              module.verbose('Adding search input');\n              $search = $('<input />').addClass(className.search).prop('autocomplete', 'off').insertBefore($text);\n            }\n\n            if (module.is.multiple() && module.is.searchSelection() && !module.has.sizer()) {\n              module.create.sizer();\n            }\n\n            if (settings.allowTab) {\n              module.set.tabbable();\n            }\n          },\n          select: function () {\n            var selectValues = module.get.selectValues();\n            module.debug('Dropdown initialized on a select', selectValues);\n\n            if ($module.is('select')) {\n              $input = $module;\n            } // see if select is placed correctly already\n\n\n            if ($input.parent(selector.dropdown).length > 0) {\n              module.debug('UI dropdown already exists. Creating dropdown menu only');\n              $module = $input.closest(selector.dropdown);\n\n              if (!module.has.menu()) {\n                module.create.menu();\n              }\n\n              $menu = $module.children(selector.menu);\n              module.setup.menu(selectValues);\n            } else {\n              module.debug('Creating entire dropdown from select');\n              $module = $('<div />').attr('class', $input.attr('class')).addClass(className.selection).addClass(className.dropdown).html(templates.dropdown(selectValues)).insertBefore($input);\n\n              if ($input.hasClass(className.multiple) && $input.prop('multiple') === false) {\n                module.error(error.missingMultiple);\n                $input.prop('multiple', true);\n              }\n\n              if ($input.is('[multiple]')) {\n                module.set.multiple();\n              }\n\n              if ($input.prop('disabled')) {\n                module.debug('Disabling dropdown');\n                $module.addClass(className.disabled);\n              }\n\n              $input.removeAttr('class').detach().prependTo($module);\n            }\n\n            module.refresh();\n          },\n          menu: function (values) {\n            $menu.html(templates.menu(values, fields));\n            $item = $menu.find(selector.item);\n          },\n          reference: function () {\n            module.debug('Dropdown behavior was called on select, replacing with closest dropdown'); // replace module reference\n\n            $module = $module.parent(selector.dropdown);\n            instance = $module.data(moduleNamespace);\n            element = $module.get(0);\n            module.refresh();\n            module.setup.returnedObject();\n          },\n          returnedObject: function () {\n            var $firstModules = $allModules.slice(0, elementIndex),\n                $lastModules = $allModules.slice(elementIndex + 1); // adjust all modules to use correct reference\n\n            $allModules = $firstModules.add($module).add($lastModules);\n          }\n        },\n        refresh: function () {\n          module.refreshSelectors();\n          module.refreshData();\n        },\n        refreshItems: function () {\n          $item = $menu.find(selector.item);\n        },\n        refreshSelectors: function () {\n          module.verbose('Refreshing selector cache');\n          $text = $module.find(selector.text);\n          $search = $module.find(selector.search);\n          $input = $module.find(selector.input);\n          $icon = $module.find(selector.icon);\n          $combo = $module.prev().find(selector.text).length > 0 ? $module.prev().find(selector.text) : $module.prev();\n          $menu = $module.children(selector.menu);\n          $item = $menu.find(selector.item);\n        },\n        refreshData: function () {\n          module.verbose('Refreshing cached metadata');\n          $item.removeData(metadata.text).removeData(metadata.value);\n        },\n        clearData: function () {\n          module.verbose('Clearing metadata');\n          $item.removeData(metadata.text).removeData(metadata.value);\n          $module.removeData(metadata.defaultText).removeData(metadata.defaultValue).removeData(metadata.placeholderText);\n        },\n        toggle: function () {\n          module.verbose('Toggling menu visibility');\n\n          if (!module.is.active()) {\n            module.show();\n          } else {\n            module.hide();\n          }\n        },\n        show: function (callback) {\n          callback = $.isFunction(callback) ? callback : function () {};\n\n          if (!module.can.show() && module.is.remote()) {\n            module.debug('No API results retrieved, searching before show');\n            module.queryRemote(module.get.query(), module.show);\n          }\n\n          if (module.can.show() && !module.is.active()) {\n            module.debug('Showing dropdown');\n\n            if (module.has.message() && !(module.has.maxSelections() || module.has.allResultsFiltered())) {\n              module.remove.message();\n            }\n\n            if (module.is.allFiltered()) {\n              return true;\n            }\n\n            if (settings.onShow.call(element) !== false) {\n              module.animate.show(function () {\n                if (module.can.click()) {\n                  module.bind.intent();\n                }\n\n                if (module.has.menuSearch()) {\n                  module.focusSearch();\n                }\n\n                module.set.visible();\n                callback.call(element);\n              });\n            }\n          }\n        },\n        hide: function (callback) {\n          callback = $.isFunction(callback) ? callback : function () {};\n\n          if (module.is.active() && !module.is.animatingOutward()) {\n            module.debug('Hiding dropdown');\n\n            if (settings.onHide.call(element) !== false) {\n              module.animate.hide(function () {\n                module.remove.visible();\n                callback.call(element);\n              });\n            }\n          }\n        },\n        hideOthers: function () {\n          module.verbose('Finding other dropdowns to hide');\n          $allModules.not($module).has(selector.menu + '.' + className.visible).dropdown('hide');\n        },\n        hideMenu: function () {\n          module.verbose('Hiding menu  instantaneously');\n          module.remove.active();\n          module.remove.visible();\n          $menu.transition('hide');\n        },\n        hideSubMenus: function () {\n          var $subMenus = $menu.children(selector.item).find(selector.menu);\n          module.verbose('Hiding sub menus', $subMenus);\n          $subMenus.transition('hide');\n        },\n        bind: {\n          events: function () {\n            if (hasTouch) {\n              module.bind.touchEvents();\n            }\n\n            module.bind.keyboardEvents();\n            module.bind.inputEvents();\n            module.bind.mouseEvents();\n          },\n          touchEvents: function () {\n            module.debug('Touch device detected binding additional touch events');\n\n            if (module.is.searchSelection()) {// do nothing special yet\n            } else if (module.is.single()) {\n              $module.on('touchstart' + eventNamespace, module.event.test.toggle);\n            }\n\n            $menu.on('touchstart' + eventNamespace, selector.item, module.event.item.mouseenter);\n          },\n          keyboardEvents: function () {\n            module.verbose('Binding keyboard events');\n            $module.on('keydown' + eventNamespace, module.event.keydown);\n\n            if (module.has.search()) {\n              $module.on(module.get.inputEvent() + eventNamespace, selector.search, module.event.input);\n            }\n\n            if (module.is.multiple()) {\n              $document.on('keydown' + elementNamespace, module.event.document.keydown);\n            }\n          },\n          inputEvents: function () {\n            module.verbose('Binding input change events');\n            $module.on('change' + eventNamespace, selector.input, module.event.change);\n          },\n          mouseEvents: function () {\n            module.verbose('Binding mouse events');\n\n            if (module.is.multiple()) {\n              $module.on('click' + eventNamespace, selector.label, module.event.label.click).on('click' + eventNamespace, selector.remove, module.event.remove.click);\n            }\n\n            if (module.is.searchSelection()) {\n              $module.on('mousedown' + eventNamespace, module.event.mousedown).on('mouseup' + eventNamespace, module.event.mouseup).on('mousedown' + eventNamespace, selector.menu, module.event.menu.mousedown).on('mouseup' + eventNamespace, selector.menu, module.event.menu.mouseup).on('click' + eventNamespace, selector.icon, module.event.icon.click).on('focus' + eventNamespace, selector.search, module.event.search.focus).on('click' + eventNamespace, selector.search, module.event.search.focus).on('blur' + eventNamespace, selector.search, module.event.search.blur).on('click' + eventNamespace, selector.text, module.event.text.focus);\n\n              if (module.is.multiple()) {\n                $module.on('click' + eventNamespace, module.event.click);\n              }\n            } else {\n              if (settings.on == 'click') {\n                $module.on('click' + eventNamespace, selector.icon, module.event.icon.click).on('click' + eventNamespace, module.event.test.toggle);\n              } else if (settings.on == 'hover') {\n                $module.on('mouseenter' + eventNamespace, module.delay.show).on('mouseleave' + eventNamespace, module.delay.hide);\n              } else {\n                $module.on(settings.on + eventNamespace, module.toggle);\n              }\n\n              $module.on('mousedown' + eventNamespace, module.event.mousedown).on('mouseup' + eventNamespace, module.event.mouseup).on('focus' + eventNamespace, module.event.focus);\n\n              if (module.has.menuSearch()) {\n                $module.on('blur' + eventNamespace, selector.search, module.event.search.blur);\n              } else {\n                $module.on('blur' + eventNamespace, module.event.blur);\n              }\n            }\n\n            $menu.on('mouseenter' + eventNamespace, selector.item, module.event.item.mouseenter).on('mouseleave' + eventNamespace, selector.item, module.event.item.mouseleave).on('click' + eventNamespace, selector.item, module.event.item.click);\n          },\n          intent: function () {\n            module.verbose('Binding hide intent event to document');\n\n            if (hasTouch) {\n              $document.on('touchstart' + elementNamespace, module.event.test.touch).on('touchmove' + elementNamespace, module.event.test.touch);\n            }\n\n            $document.on('click' + elementNamespace, module.event.test.hide);\n          }\n        },\n        unbind: {\n          intent: function () {\n            module.verbose('Removing hide intent event from document');\n\n            if (hasTouch) {\n              $document.off('touchstart' + elementNamespace).off('touchmove' + elementNamespace);\n            }\n\n            $document.off('click' + elementNamespace);\n          }\n        },\n        filter: function (query) {\n          var searchTerm = query !== undefined ? query : module.get.query(),\n              afterFiltered = function () {\n            if (module.is.multiple()) {\n              module.filterActive();\n            }\n\n            if (query || !query && module.get.activeItem().length == 0) {\n              module.select.firstUnfiltered();\n            }\n\n            if (module.has.allResultsFiltered()) {\n              if (settings.onNoResults.call(element, searchTerm)) {\n                if (settings.allowAdditions) {\n                  if (settings.hideAdditions) {\n                    module.verbose('User addition with no menu, setting empty style');\n                    module.set.empty();\n                    module.hideMenu();\n                  }\n                } else {\n                  module.verbose('All items filtered, showing message', searchTerm);\n                  module.add.message(message.noResults);\n                }\n              } else {\n                module.verbose('All items filtered, hiding dropdown', searchTerm);\n                module.hideMenu();\n              }\n            } else {\n              module.remove.empty();\n              module.remove.message();\n            }\n\n            if (settings.allowAdditions) {\n              module.add.userSuggestion(query);\n            }\n\n            if (module.is.searchSelection() && module.can.show() && module.is.focusedOnSearch()) {\n              module.show();\n            }\n          };\n\n          if (settings.useLabels && module.has.maxSelections()) {\n            return;\n          }\n\n          if (settings.apiSettings) {\n            if (module.can.useAPI()) {\n              module.queryRemote(searchTerm, function () {\n                if (settings.filterRemoteData) {\n                  module.filterItems(searchTerm);\n                }\n\n                afterFiltered();\n              });\n            } else {\n              module.error(error.noAPI);\n            }\n          } else {\n            module.filterItems(searchTerm);\n            afterFiltered();\n          }\n        },\n        queryRemote: function (query, callback) {\n          var apiSettings = {\n            errorDuration: false,\n            cache: 'local',\n            throttle: settings.throttle,\n            urlData: {\n              query: query\n            },\n            onError: function () {\n              module.add.message(message.serverError);\n              callback();\n            },\n            onFailure: function () {\n              module.add.message(message.serverError);\n              callback();\n            },\n            onSuccess: function (response) {\n              var values = response[fields.remoteValues],\n                  hasRemoteValues = $.isArray(values) && values.length > 0;\n\n              if (hasRemoteValues) {\n                module.remove.message();\n                module.setup.menu({\n                  values: response[fields.remoteValues]\n                });\n              } else {\n                module.add.message(message.noResults);\n              }\n\n              callback();\n            }\n          };\n\n          if (!$module.api('get request')) {\n            module.setup.api();\n          }\n\n          apiSettings = $.extend(true, {}, apiSettings, settings.apiSettings);\n          $module.api('setting', apiSettings).api('query');\n        },\n        filterItems: function (query) {\n          var searchTerm = query !== undefined ? query : module.get.query(),\n              results = null,\n              escapedTerm = module.escape.string(searchTerm),\n              beginsWithRegExp = new RegExp('^' + escapedTerm, 'igm'); // avoid loop if we're matching nothing\n\n          if (module.has.query()) {\n            results = [];\n            module.verbose('Searching for matching values', searchTerm);\n            $item.each(function () {\n              var $choice = $(this),\n                  text,\n                  value;\n\n              if (settings.match == 'both' || settings.match == 'text') {\n                text = String(module.get.choiceText($choice, false));\n\n                if (text.search(beginsWithRegExp) !== -1) {\n                  results.push(this);\n                  return true;\n                } else if (settings.fullTextSearch === 'exact' && module.exactSearch(searchTerm, text)) {\n                  results.push(this);\n                  return true;\n                } else if (settings.fullTextSearch === true && module.fuzzySearch(searchTerm, text)) {\n                  results.push(this);\n                  return true;\n                }\n              }\n\n              if (settings.match == 'both' || settings.match == 'value') {\n                value = String(module.get.choiceValue($choice, text));\n\n                if (value.search(beginsWithRegExp) !== -1) {\n                  results.push(this);\n                  return true;\n                } else if (settings.fullTextSearch === 'exact' && module.exactSearch(searchTerm, value)) {\n                  results.push(this);\n                  return true;\n                } else if (settings.fullTextSearch === true && module.fuzzySearch(searchTerm, value)) {\n                  results.push(this);\n                  return true;\n                }\n              }\n            });\n          }\n\n          module.debug('Showing only matched items', searchTerm);\n          module.remove.filteredItem();\n\n          if (results) {\n            $item.not(results).addClass(className.filtered);\n          }\n        },\n        fuzzySearch: function (query, term) {\n          var termLength = term.length,\n              queryLength = query.length;\n          query = query.toLowerCase();\n          term = term.toLowerCase();\n\n          if (queryLength > termLength) {\n            return false;\n          }\n\n          if (queryLength === termLength) {\n            return query === term;\n          }\n\n          search: for (var characterIndex = 0, nextCharacterIndex = 0; characterIndex < queryLength; characterIndex++) {\n            var queryCharacter = query.charCodeAt(characterIndex);\n\n            while (nextCharacterIndex < termLength) {\n              if (term.charCodeAt(nextCharacterIndex++) === queryCharacter) {\n                continue search;\n              }\n            }\n\n            return false;\n          }\n\n          return true;\n        },\n        exactSearch: function (query, term) {\n          query = query.toLowerCase();\n          term = term.toLowerCase();\n\n          if (term.indexOf(query) > -1) {\n            return true;\n          }\n\n          return false;\n        },\n        filterActive: function () {\n          if (settings.useLabels) {\n            $item.filter('.' + className.active).addClass(className.filtered);\n          }\n        },\n        focusSearch: function (skipHandler) {\n          if (module.has.search() && !module.is.focusedOnSearch()) {\n            if (skipHandler) {\n              $module.off('focus' + eventNamespace, selector.search);\n              $search.focus();\n              $module.on('focus' + eventNamespace, selector.search, module.event.search.focus);\n            } else {\n              $search.focus();\n            }\n          }\n        },\n        forceSelection: function () {\n          var $currentlySelected = $item.not(className.filtered).filter('.' + className.selected).eq(0),\n              $activeItem = $item.not(className.filtered).filter('.' + className.active).eq(0),\n              $selectedItem = $currentlySelected.length > 0 ? $currentlySelected : $activeItem,\n              hasSelected = $selectedItem.length > 0;\n\n          if (hasSelected && !module.is.multiple()) {\n            module.debug('Forcing partial selection to selected item', $selectedItem);\n            module.event.item.click.call($selectedItem, {}, true);\n            return;\n          } else {\n            if (settings.allowAdditions) {\n              module.set.selected(module.get.query());\n              module.remove.searchTerm();\n            } else {\n              module.remove.searchTerm();\n            }\n          }\n        },\n        change: {\n          values: function (values) {\n            if (!settings.allowAdditions) {\n              module.clear();\n            }\n\n            module.debug('Creating dropdown with specified values', values);\n            module.setup.menu({\n              values: values\n            });\n            $.each(values, function (index, item) {\n              if (item.selected == true) {\n                module.debug('Setting initial selection to', item.value);\n                module.set.selected(item.value);\n                return true;\n              }\n            });\n          }\n        },\n        event: {\n          change: function () {\n            if (!internalChange) {\n              module.debug('Input changed, updating selection');\n              module.set.selected();\n            }\n          },\n          focus: function () {\n            if (settings.showOnFocus && !activated && module.is.hidden() && !pageLostFocus) {\n              module.show();\n            }\n          },\n          blur: function (event) {\n            pageLostFocus = document.activeElement === this;\n\n            if (!activated && !pageLostFocus) {\n              module.remove.activeLabel();\n              module.hide();\n            }\n          },\n          mousedown: function () {\n            if (module.is.searchSelection()) {\n              // prevent menu hiding on immediate re-focus\n              willRefocus = true;\n            } else {\n              // prevents focus callback from occurring on mousedown\n              activated = true;\n            }\n          },\n          mouseup: function () {\n            if (module.is.searchSelection()) {\n              // prevent menu hiding on immediate re-focus\n              willRefocus = false;\n            } else {\n              activated = false;\n            }\n          },\n          click: function (event) {\n            var $target = $(event.target); // focus search\n\n            if ($target.is($module)) {\n              if (!module.is.focusedOnSearch()) {\n                module.focusSearch();\n              } else {\n                module.show();\n              }\n            }\n          },\n          search: {\n            focus: function () {\n              activated = true;\n\n              if (module.is.multiple()) {\n                module.remove.activeLabel();\n              }\n\n              if (settings.showOnFocus) {\n                module.search();\n              }\n            },\n            blur: function (event) {\n              pageLostFocus = document.activeElement === this;\n\n              if (module.is.searchSelection() && !willRefocus) {\n                if (!itemActivated && !pageLostFocus) {\n                  if (settings.forceSelection) {\n                    module.forceSelection();\n                  }\n\n                  module.hide();\n                }\n              }\n\n              willRefocus = false;\n            }\n          },\n          icon: {\n            click: function (event) {\n              module.toggle();\n            }\n          },\n          text: {\n            focus: function (event) {\n              activated = true;\n              module.focusSearch();\n            }\n          },\n          input: function (event) {\n            if (module.is.multiple() || module.is.searchSelection()) {\n              module.set.filtered();\n            }\n\n            clearTimeout(module.timer);\n            module.timer = setTimeout(module.search, settings.delay.search);\n          },\n          label: {\n            click: function (event) {\n              var $label = $(this),\n                  $labels = $module.find(selector.label),\n                  $activeLabels = $labels.filter('.' + className.active),\n                  $nextActive = $label.nextAll('.' + className.active),\n                  $prevActive = $label.prevAll('.' + className.active),\n                  $range = $nextActive.length > 0 ? $label.nextUntil($nextActive).add($activeLabels).add($label) : $label.prevUntil($prevActive).add($activeLabels).add($label);\n\n              if (event.shiftKey) {\n                $activeLabels.removeClass(className.active);\n                $range.addClass(className.active);\n              } else if (event.ctrlKey) {\n                $label.toggleClass(className.active);\n              } else {\n                $activeLabels.removeClass(className.active);\n                $label.addClass(className.active);\n              }\n\n              settings.onLabelSelect.apply(this, $labels.filter('.' + className.active));\n            }\n          },\n          remove: {\n            click: function () {\n              var $label = $(this).parent();\n\n              if ($label.hasClass(className.active)) {\n                // remove all selected labels\n                module.remove.activeLabels();\n              } else {\n                // remove this label only\n                module.remove.activeLabels($label);\n              }\n            }\n          },\n          test: {\n            toggle: function (event) {\n              var toggleBehavior = module.is.multiple() ? module.show : module.toggle;\n\n              if (module.is.bubbledLabelClick(event) || module.is.bubbledIconClick(event)) {\n                return;\n              }\n\n              if (module.determine.eventOnElement(event, toggleBehavior)) {\n                event.preventDefault();\n              }\n            },\n            touch: function (event) {\n              module.determine.eventOnElement(event, function () {\n                if (event.type == 'touchstart') {\n                  module.timer = setTimeout(function () {\n                    module.hide();\n                  }, settings.delay.touch);\n                } else if (event.type == 'touchmove') {\n                  clearTimeout(module.timer);\n                }\n              });\n              event.stopPropagation();\n            },\n            hide: function (event) {\n              module.determine.eventInModule(event, module.hide);\n            }\n          },\n          select: {\n            mutation: function (mutations) {\n              module.debug('<select> modified, recreating menu');\n              var isSelectMutation = false;\n              $.each(mutations, function (index, mutation) {\n                if ($(mutation.target).is('select') || $(mutation.addedNodes).is('select')) {\n                  isSelectMutation = true;\n                  return true;\n                }\n              });\n\n              if (isSelectMutation) {\n                module.disconnect.selectObserver();\n                module.refresh();\n                module.setup.select();\n                module.set.selected();\n                module.observe.select();\n              }\n            }\n          },\n          menu: {\n            mutation: function (mutations) {\n              var mutation = mutations[0],\n                  $addedNode = mutation.addedNodes ? $(mutation.addedNodes[0]) : $(false),\n                  $removedNode = mutation.removedNodes ? $(mutation.removedNodes[0]) : $(false),\n                  $changedNodes = $addedNode.add($removedNode),\n                  isUserAddition = $changedNodes.is(selector.addition) || $changedNodes.closest(selector.addition).length > 0,\n                  isMessage = $changedNodes.is(selector.message) || $changedNodes.closest(selector.message).length > 0;\n\n              if (isUserAddition || isMessage) {\n                module.debug('Updating item selector cache');\n                module.refreshItems();\n              } else {\n                module.debug('Menu modified, updating selector cache');\n                module.refresh();\n              }\n            },\n            mousedown: function () {\n              itemActivated = true;\n            },\n            mouseup: function () {\n              itemActivated = false;\n            }\n          },\n          item: {\n            mouseenter: function (event) {\n              var $target = $(event.target),\n                  $item = $(this),\n                  $subMenu = $item.children(selector.menu),\n                  $otherMenus = $item.siblings(selector.item).children(selector.menu),\n                  hasSubMenu = $subMenu.length > 0,\n                  isBubbledEvent = $subMenu.find($target).length > 0;\n\n              if (!isBubbledEvent && hasSubMenu) {\n                clearTimeout(module.itemTimer);\n                module.itemTimer = setTimeout(function () {\n                  module.verbose('Showing sub-menu', $subMenu);\n                  $.each($otherMenus, function () {\n                    module.animate.hide(false, $(this));\n                  });\n                  module.animate.show(false, $subMenu);\n                }, settings.delay.show);\n                event.preventDefault();\n              }\n            },\n            mouseleave: function (event) {\n              var $subMenu = $(this).children(selector.menu);\n\n              if ($subMenu.length > 0) {\n                clearTimeout(module.itemTimer);\n                module.itemTimer = setTimeout(function () {\n                  module.verbose('Hiding sub-menu', $subMenu);\n                  module.animate.hide(false, $subMenu);\n                }, settings.delay.hide);\n              }\n            },\n            click: function (event, skipRefocus) {\n              var $choice = $(this),\n                  $target = event ? $(event.target) : $(''),\n                  $subMenu = $choice.find(selector.menu),\n                  text = module.get.choiceText($choice),\n                  value = module.get.choiceValue($choice, text),\n                  hasSubMenu = $subMenu.length > 0,\n                  isBubbledEvent = $subMenu.find($target).length > 0; // prevents IE11 bug where menu receives focus even though `tabindex=-1`\n\n              if (module.has.menuSearch()) {\n                $(document.activeElement).blur();\n              }\n\n              if (!isBubbledEvent && (!hasSubMenu || settings.allowCategorySelection)) {\n                if (module.is.searchSelection()) {\n                  if (settings.allowAdditions) {\n                    module.remove.userAddition();\n                  }\n\n                  module.remove.searchTerm();\n\n                  if (!module.is.focusedOnSearch() && !(skipRefocus == true)) {\n                    module.focusSearch(true);\n                  }\n                }\n\n                if (!settings.useLabels) {\n                  module.remove.filteredItem();\n                  module.set.scrollPosition($choice);\n                }\n\n                module.determine.selectAction.call(this, text, value);\n              }\n            }\n          },\n          document: {\n            // label selection should occur even when element has no focus\n            keydown: function (event) {\n              var pressedKey = event.which,\n                  isShortcutKey = module.is.inObject(pressedKey, keys);\n\n              if (isShortcutKey) {\n                var $label = $module.find(selector.label),\n                    $activeLabel = $label.filter('.' + className.active),\n                    activeValue = $activeLabel.data(metadata.value),\n                    labelIndex = $label.index($activeLabel),\n                    labelCount = $label.length,\n                    hasActiveLabel = $activeLabel.length > 0,\n                    hasMultipleActive = $activeLabel.length > 1,\n                    isFirstLabel = labelIndex === 0,\n                    isLastLabel = labelIndex + 1 == labelCount,\n                    isSearch = module.is.searchSelection(),\n                    isFocusedOnSearch = module.is.focusedOnSearch(),\n                    isFocused = module.is.focused(),\n                    caretAtStart = isFocusedOnSearch && module.get.caretPosition() === 0,\n                    $nextLabel;\n\n                if (isSearch && !hasActiveLabel && !isFocusedOnSearch) {\n                  return;\n                }\n\n                if (pressedKey == keys.leftArrow) {\n                  // activate previous label\n                  if ((isFocused || caretAtStart) && !hasActiveLabel) {\n                    module.verbose('Selecting previous label');\n                    $label.last().addClass(className.active);\n                  } else if (hasActiveLabel) {\n                    if (!event.shiftKey) {\n                      module.verbose('Selecting previous label');\n                      $label.removeClass(className.active);\n                    } else {\n                      module.verbose('Adding previous label to selection');\n                    }\n\n                    if (isFirstLabel && !hasMultipleActive) {\n                      $activeLabel.addClass(className.active);\n                    } else {\n                      $activeLabel.prev(selector.siblingLabel).addClass(className.active).end();\n                    }\n\n                    event.preventDefault();\n                  }\n                } else if (pressedKey == keys.rightArrow) {\n                  // activate first label\n                  if (isFocused && !hasActiveLabel) {\n                    $label.first().addClass(className.active);\n                  } // activate next label\n\n\n                  if (hasActiveLabel) {\n                    if (!event.shiftKey) {\n                      module.verbose('Selecting next label');\n                      $label.removeClass(className.active);\n                    } else {\n                      module.verbose('Adding next label to selection');\n                    }\n\n                    if (isLastLabel) {\n                      if (isSearch) {\n                        if (!isFocusedOnSearch) {\n                          module.focusSearch();\n                        } else {\n                          $label.removeClass(className.active);\n                        }\n                      } else if (hasMultipleActive) {\n                        $activeLabel.next(selector.siblingLabel).addClass(className.active);\n                      } else {\n                        $activeLabel.addClass(className.active);\n                      }\n                    } else {\n                      $activeLabel.next(selector.siblingLabel).addClass(className.active);\n                    }\n\n                    event.preventDefault();\n                  }\n                } else if (pressedKey == keys.deleteKey || pressedKey == keys.backspace) {\n                  if (hasActiveLabel) {\n                    module.verbose('Removing active labels');\n\n                    if (isLastLabel) {\n                      if (isSearch && !isFocusedOnSearch) {\n                        module.focusSearch();\n                      }\n                    }\n\n                    $activeLabel.last().next(selector.siblingLabel).addClass(className.active);\n                    module.remove.activeLabels($activeLabel);\n                    event.preventDefault();\n                  } else if (caretAtStart && !hasActiveLabel && pressedKey == keys.backspace) {\n                    module.verbose('Removing last label on input backspace');\n                    $activeLabel = $label.last().addClass(className.active);\n                    module.remove.activeLabels($activeLabel);\n                  }\n                } else {\n                  $activeLabel.removeClass(className.active);\n                }\n              }\n            }\n          },\n          keydown: function (event) {\n            var pressedKey = event.which,\n                isShortcutKey = module.is.inObject(pressedKey, keys);\n\n            if (isShortcutKey) {\n              var $currentlySelected = $item.not(selector.unselectable).filter('.' + className.selected).eq(0),\n                  $activeItem = $menu.children('.' + className.active).eq(0),\n                  $selectedItem = $currentlySelected.length > 0 ? $currentlySelected : $activeItem,\n                  $visibleItems = $selectedItem.length > 0 ? $selectedItem.siblings(':not(.' + className.filtered + ')').addBack() : $menu.children(':not(.' + className.filtered + ')'),\n                  $subMenu = $selectedItem.children(selector.menu),\n                  $parentMenu = $selectedItem.closest(selector.menu),\n                  inVisibleMenu = $parentMenu.hasClass(className.visible) || $parentMenu.hasClass(className.animating) || $parentMenu.parent(selector.menu).length > 0,\n                  hasSubMenu = $subMenu.length > 0,\n                  hasSelectedItem = $selectedItem.length > 0,\n                  selectedIsSelectable = $selectedItem.not(selector.unselectable).length > 0,\n                  delimiterPressed = pressedKey == keys.delimiter && settings.allowAdditions && module.is.multiple(),\n                  isAdditionWithoutMenu = settings.allowAdditions && settings.hideAdditions && (pressedKey == keys.enter || delimiterPressed) && selectedIsSelectable,\n                  $nextItem,\n                  isSubMenuItem,\n                  newIndex; // allow selection with menu closed\n\n              if (isAdditionWithoutMenu) {\n                module.verbose('Selecting item from keyboard shortcut', $selectedItem);\n                module.event.item.click.call($selectedItem, event);\n\n                if (module.is.searchSelection()) {\n                  module.remove.searchTerm();\n                }\n              } // visible menu keyboard shortcuts\n\n\n              if (module.is.visible()) {\n                // enter (select or open sub-menu)\n                if (pressedKey == keys.enter || delimiterPressed) {\n                  if (pressedKey == keys.enter && hasSelectedItem && hasSubMenu && !settings.allowCategorySelection) {\n                    module.verbose('Pressed enter on unselectable category, opening sub menu');\n                    pressedKey = keys.rightArrow;\n                  } else if (selectedIsSelectable) {\n                    module.verbose('Selecting item from keyboard shortcut', $selectedItem);\n                    module.event.item.click.call($selectedItem, event);\n\n                    if (module.is.searchSelection()) {\n                      module.remove.searchTerm();\n                    }\n                  }\n\n                  event.preventDefault();\n                } // sub-menu actions\n\n\n                if (hasSelectedItem) {\n                  if (pressedKey == keys.leftArrow) {\n                    isSubMenuItem = $parentMenu[0] !== $menu[0];\n\n                    if (isSubMenuItem) {\n                      module.verbose('Left key pressed, closing sub-menu');\n                      module.animate.hide(false, $parentMenu);\n                      $selectedItem.removeClass(className.selected);\n                      $parentMenu.closest(selector.item).addClass(className.selected);\n                      event.preventDefault();\n                    }\n                  } // right arrow (show sub-menu)\n\n\n                  if (pressedKey == keys.rightArrow) {\n                    if (hasSubMenu) {\n                      module.verbose('Right key pressed, opening sub-menu');\n                      module.animate.show(false, $subMenu);\n                      $selectedItem.removeClass(className.selected);\n                      $subMenu.find(selector.item).eq(0).addClass(className.selected);\n                      event.preventDefault();\n                    }\n                  }\n                } // up arrow (traverse menu up)\n\n\n                if (pressedKey == keys.upArrow) {\n                  $nextItem = hasSelectedItem && inVisibleMenu ? $selectedItem.prevAll(selector.item + ':not(' + selector.unselectable + ')').eq(0) : $item.eq(0);\n\n                  if ($visibleItems.index($nextItem) < 0) {\n                    module.verbose('Up key pressed but reached top of current menu');\n                    event.preventDefault();\n                    return;\n                  } else {\n                    module.verbose('Up key pressed, changing active item');\n                    $selectedItem.removeClass(className.selected);\n                    $nextItem.addClass(className.selected);\n                    module.set.scrollPosition($nextItem);\n\n                    if (settings.selectOnKeydown && module.is.single()) {\n                      module.set.selectedItem($nextItem);\n                    }\n                  }\n\n                  event.preventDefault();\n                } // down arrow (traverse menu down)\n\n\n                if (pressedKey == keys.downArrow) {\n                  $nextItem = hasSelectedItem && inVisibleMenu ? $nextItem = $selectedItem.nextAll(selector.item + ':not(' + selector.unselectable + ')').eq(0) : $item.eq(0);\n\n                  if ($nextItem.length === 0) {\n                    module.verbose('Down key pressed but reached bottom of current menu');\n                    event.preventDefault();\n                    return;\n                  } else {\n                    module.verbose('Down key pressed, changing active item');\n                    $item.removeClass(className.selected);\n                    $nextItem.addClass(className.selected);\n                    module.set.scrollPosition($nextItem);\n\n                    if (settings.selectOnKeydown && module.is.single()) {\n                      module.set.selectedItem($nextItem);\n                    }\n                  }\n\n                  event.preventDefault();\n                } // page down (show next page)\n\n\n                if (pressedKey == keys.pageUp) {\n                  module.scrollPage('up');\n                  event.preventDefault();\n                }\n\n                if (pressedKey == keys.pageDown) {\n                  module.scrollPage('down');\n                  event.preventDefault();\n                } // escape (close menu)\n\n\n                if (pressedKey == keys.escape) {\n                  module.verbose('Escape key pressed, closing dropdown');\n                  module.hide();\n                }\n              } else {\n                // delimiter key\n                if (delimiterPressed) {\n                  event.preventDefault();\n                } // down arrow (open menu)\n\n\n                if (pressedKey == keys.downArrow && !module.is.visible()) {\n                  module.verbose('Down key pressed, showing dropdown');\n                  module.show();\n                  event.preventDefault();\n                }\n              }\n            } else {\n              if (!module.has.search()) {\n                module.set.selectedLetter(String.fromCharCode(pressedKey));\n              }\n            }\n          }\n        },\n        trigger: {\n          change: function () {\n            var events = document.createEvent('HTMLEvents'),\n                inputElement = $input[0];\n\n            if (inputElement) {\n              module.verbose('Triggering native change event');\n              events.initEvent('change', true, false);\n              inputElement.dispatchEvent(events);\n            }\n          }\n        },\n        determine: {\n          selectAction: function (text, value) {\n            module.verbose('Determining action', settings.action);\n\n            if ($.isFunction(module.action[settings.action])) {\n              module.verbose('Triggering preset action', settings.action, text, value);\n              module.action[settings.action].call(element, text, value, this);\n            } else if ($.isFunction(settings.action)) {\n              module.verbose('Triggering user action', settings.action, text, value);\n              settings.action.call(element, text, value, this);\n            } else {\n              module.error(error.action, settings.action);\n            }\n          },\n          eventInModule: function (event, callback) {\n            var $target = $(event.target),\n                inDocument = $target.closest(document.documentElement).length > 0,\n                inModule = $target.closest($module).length > 0;\n            callback = $.isFunction(callback) ? callback : function () {};\n\n            if (inDocument && !inModule) {\n              module.verbose('Triggering event', callback);\n              callback();\n              return true;\n            } else {\n              module.verbose('Event occurred in dropdown, canceling callback');\n              return false;\n            }\n          },\n          eventOnElement: function (event, callback) {\n            var $target = $(event.target),\n                $label = $target.closest(selector.siblingLabel),\n                inVisibleDOM = document.body.contains(event.target),\n                notOnLabel = $module.find($label).length === 0,\n                notInMenu = $target.closest($menu).length === 0;\n            callback = $.isFunction(callback) ? callback : function () {};\n\n            if (inVisibleDOM && notOnLabel && notInMenu) {\n              module.verbose('Triggering event', callback);\n              callback();\n              return true;\n            } else {\n              module.verbose('Event occurred in dropdown menu, canceling callback');\n              return false;\n            }\n          }\n        },\n        action: {\n          nothing: function () {},\n          activate: function (text, value, element) {\n            value = value !== undefined ? value : text;\n\n            if (module.can.activate($(element))) {\n              module.set.selected(value, $(element));\n\n              if (module.is.multiple() && !module.is.allFiltered()) {\n                return;\n              } else {\n                module.hideAndClear();\n              }\n            }\n          },\n          select: function (text, value, element) {\n            value = value !== undefined ? value : text;\n\n            if (module.can.activate($(element))) {\n              module.set.value(value, text, $(element));\n\n              if (module.is.multiple() && !module.is.allFiltered()) {\n                return;\n              } else {\n                module.hideAndClear();\n              }\n            }\n          },\n          combo: function (text, value, element) {\n            value = value !== undefined ? value : text;\n            module.set.selected(value, $(element));\n            module.hideAndClear();\n          },\n          hide: function (text, value, element) {\n            module.set.value(value, text);\n            module.hideAndClear();\n          }\n        },\n        get: {\n          id: function () {\n            return id;\n          },\n          defaultText: function () {\n            return $module.data(metadata.defaultText);\n          },\n          defaultValue: function () {\n            return $module.data(metadata.defaultValue);\n          },\n          placeholderText: function () {\n            if (settings.placeholder != 'auto' && typeof settings.placeholder == 'string') {\n              return settings.placeholder;\n            }\n\n            return $module.data(metadata.placeholderText) || '';\n          },\n          text: function () {\n            return $text.text();\n          },\n          query: function () {\n            return $.trim($search.val());\n          },\n          searchWidth: function (value) {\n            value = value !== undefined ? value : $search.val();\n            $sizer.text(value); // prevent rounding issues\n\n            return Math.ceil($sizer.width() + 1);\n          },\n          selectionCount: function () {\n            var values = module.get.values(),\n                count;\n            count = module.is.multiple() ? $.isArray(values) ? values.length : 0 : module.get.value() !== '' ? 1 : 0;\n            return count;\n          },\n          transition: function ($subMenu) {\n            return settings.transition == 'auto' ? module.is.upward($subMenu) ? 'slide up' : 'slide down' : settings.transition;\n          },\n          userValues: function () {\n            var values = module.get.values();\n\n            if (!values) {\n              return false;\n            }\n\n            values = $.isArray(values) ? values : [values];\n            return $.grep(values, function (value) {\n              return module.get.item(value) === false;\n            });\n          },\n          uniqueArray: function (array) {\n            return $.grep(array, function (value, index) {\n              return $.inArray(value, array) === index;\n            });\n          },\n          caretPosition: function () {\n            var input = $search.get(0),\n                range,\n                rangeLength;\n\n            if ('selectionStart' in input) {\n              return input.selectionStart;\n            } else if (document.selection) {\n              input.focus();\n              range = document.selection.createRange();\n              rangeLength = range.text.length;\n              range.moveStart('character', -input.value.length);\n              return range.text.length - rangeLength;\n            }\n          },\n          value: function () {\n            var value = $input.length > 0 ? $input.val() : $module.data(metadata.value),\n                isEmptyMultiselect = $.isArray(value) && value.length === 1 && value[0] === ''; // prevents placeholder element from being selected when multiple\n\n            return value === undefined || isEmptyMultiselect ? '' : value;\n          },\n          values: function () {\n            var value = module.get.value();\n\n            if (value === '') {\n              return '';\n            }\n\n            return !module.has.selectInput() && module.is.multiple() ? typeof value == 'string' ? // delimited string\n            value.split(settings.delimiter) : '' : value;\n          },\n          remoteValues: function () {\n            var values = module.get.values(),\n                remoteValues = false;\n\n            if (values) {\n              if (typeof values == 'string') {\n                values = [values];\n              }\n\n              $.each(values, function (index, value) {\n                var name = module.read.remoteData(value);\n                module.verbose('Restoring value from session data', name, value);\n\n                if (name) {\n                  if (!remoteValues) {\n                    remoteValues = {};\n                  }\n\n                  remoteValues[value] = name;\n                }\n              });\n            }\n\n            return remoteValues;\n          },\n          choiceText: function ($choice, preserveHTML) {\n            preserveHTML = preserveHTML !== undefined ? preserveHTML : settings.preserveHTML;\n\n            if ($choice) {\n              if ($choice.find(selector.menu).length > 0) {\n                module.verbose('Retrieving text of element with sub-menu');\n                $choice = $choice.clone();\n                $choice.find(selector.menu).remove();\n                $choice.find(selector.menuIcon).remove();\n              }\n\n              return $choice.data(metadata.text) !== undefined ? $choice.data(metadata.text) : preserveHTML ? $.trim($choice.html()) : $.trim($choice.text());\n            }\n          },\n          choiceValue: function ($choice, choiceText) {\n            choiceText = choiceText || module.get.choiceText($choice);\n\n            if (!$choice) {\n              return false;\n            }\n\n            return $choice.data(metadata.value) !== undefined ? String($choice.data(metadata.value)) : typeof choiceText === 'string' ? $.trim(choiceText.toLowerCase()) : String(choiceText);\n          },\n          inputEvent: function () {\n            var input = $search[0];\n\n            if (input) {\n              return input.oninput !== undefined ? 'input' : input.onpropertychange !== undefined ? 'propertychange' : 'keyup';\n            }\n\n            return false;\n          },\n          selectValues: function () {\n            var select = {};\n            select.values = [];\n            $module.find('option').each(function () {\n              var $option = $(this),\n                  name = $option.html(),\n                  disabled = $option.attr('disabled'),\n                  value = $option.attr('value') !== undefined ? $option.attr('value') : name;\n\n              if (settings.placeholder === 'auto' && value === '') {\n                select.placeholder = name;\n              } else {\n                select.values.push({\n                  name: name,\n                  value: value,\n                  disabled: disabled\n                });\n              }\n            });\n\n            if (settings.placeholder && settings.placeholder !== 'auto') {\n              module.debug('Setting placeholder value to', settings.placeholder);\n              select.placeholder = settings.placeholder;\n            }\n\n            if (settings.sortSelect) {\n              select.values.sort(function (a, b) {\n                return a.name > b.name ? 1 : -1;\n              });\n              module.debug('Retrieved and sorted values from select', select);\n            } else {\n              module.debug('Retrieved values from select', select);\n            }\n\n            return select;\n          },\n          activeItem: function () {\n            return $item.filter('.' + className.active);\n          },\n          selectedItem: function () {\n            var $selectedItem = $item.not(selector.unselectable).filter('.' + className.selected);\n            return $selectedItem.length > 0 ? $selectedItem : $item.eq(0);\n          },\n          itemWithAdditions: function (value) {\n            var $items = module.get.item(value),\n                $userItems = module.create.userChoice(value),\n                hasUserItems = $userItems && $userItems.length > 0;\n\n            if (hasUserItems) {\n              $items = $items.length > 0 ? $items.add($userItems) : $userItems;\n            }\n\n            return $items;\n          },\n          item: function (value, strict) {\n            var $selectedItem = false,\n                shouldSearch,\n                isMultiple;\n            value = value !== undefined ? value : module.get.values() !== undefined ? module.get.values() : module.get.text();\n            shouldSearch = isMultiple ? value.length > 0 : value !== undefined && value !== null;\n            isMultiple = module.is.multiple() && $.isArray(value);\n            strict = value === '' || value === 0 ? true : strict || false;\n\n            if (shouldSearch) {\n              $item.each(function () {\n                var $choice = $(this),\n                    optionText = module.get.choiceText($choice),\n                    optionValue = module.get.choiceValue($choice, optionText); // safe early exit\n\n                if (optionValue === null || optionValue === undefined) {\n                  return;\n                }\n\n                if (isMultiple) {\n                  if ($.inArray(String(optionValue), value) !== -1 || $.inArray(optionText, value) !== -1) {\n                    $selectedItem = $selectedItem ? $selectedItem.add($choice) : $choice;\n                  }\n                } else if (strict) {\n                  module.verbose('Ambiguous dropdown value using strict type check', $choice, value);\n\n                  if (optionValue === value || optionText === value) {\n                    $selectedItem = $choice;\n                    return true;\n                  }\n                } else {\n                  if (String(optionValue) == String(value) || optionText == value) {\n                    module.verbose('Found select item by value', optionValue, value);\n                    $selectedItem = $choice;\n                    return true;\n                  }\n                }\n              });\n            }\n\n            return $selectedItem;\n          }\n        },\n        check: {\n          maxSelections: function (selectionCount) {\n            if (settings.maxSelections) {\n              selectionCount = selectionCount !== undefined ? selectionCount : module.get.selectionCount();\n\n              if (selectionCount >= settings.maxSelections) {\n                module.debug('Maximum selection count reached');\n\n                if (settings.useLabels) {\n                  $item.addClass(className.filtered);\n                  module.add.message(message.maxSelections);\n                }\n\n                return true;\n              } else {\n                module.verbose('No longer at maximum selection count');\n                module.remove.message();\n                module.remove.filteredItem();\n\n                if (module.is.searchSelection()) {\n                  module.filterItems();\n                }\n\n                return false;\n              }\n            }\n\n            return true;\n          }\n        },\n        restore: {\n          defaults: function () {\n            module.clear();\n            module.restore.defaultText();\n            module.restore.defaultValue();\n          },\n          defaultText: function () {\n            var defaultText = module.get.defaultText(),\n                placeholderText = module.get.placeholderText;\n\n            if (defaultText === placeholderText) {\n              module.debug('Restoring default placeholder text', defaultText);\n              module.set.placeholderText(defaultText);\n            } else {\n              module.debug('Restoring default text', defaultText);\n              module.set.text(defaultText);\n            }\n          },\n          placeholderText: function () {\n            module.set.placeholderText();\n          },\n          defaultValue: function () {\n            var defaultValue = module.get.defaultValue();\n\n            if (defaultValue !== undefined) {\n              module.debug('Restoring default value', defaultValue);\n\n              if (defaultValue !== '') {\n                module.set.value(defaultValue);\n                module.set.selected();\n              } else {\n                module.remove.activeItem();\n                module.remove.selectedItem();\n              }\n            }\n          },\n          labels: function () {\n            if (settings.allowAdditions) {\n              if (!settings.useLabels) {\n                module.error(error.labels);\n                settings.useLabels = true;\n              }\n\n              module.debug('Restoring selected values');\n              module.create.userLabels();\n            }\n\n            module.check.maxSelections();\n          },\n          selected: function () {\n            module.restore.values();\n\n            if (module.is.multiple()) {\n              module.debug('Restoring previously selected values and labels');\n              module.restore.labels();\n            } else {\n              module.debug('Restoring previously selected values');\n            }\n          },\n          values: function () {\n            // prevents callbacks from occurring on initial load\n            module.set.initialLoad();\n\n            if (settings.apiSettings && settings.saveRemoteData && module.get.remoteValues()) {\n              module.restore.remoteValues();\n            } else {\n              module.set.selected();\n            }\n\n            module.remove.initialLoad();\n          },\n          remoteValues: function () {\n            var values = module.get.remoteValues();\n            module.debug('Recreating selected from session data', values);\n\n            if (values) {\n              if (module.is.single()) {\n                $.each(values, function (value, name) {\n                  module.set.text(name);\n                });\n              } else {\n                $.each(values, function (value, name) {\n                  module.add.label(value, name);\n                });\n              }\n            }\n          }\n        },\n        read: {\n          remoteData: function (value) {\n            var name;\n\n            if (window.Storage === undefined) {\n              module.error(error.noStorage);\n              return;\n            }\n\n            name = sessionStorage.getItem(value);\n            return name !== undefined ? name : false;\n          }\n        },\n        save: {\n          defaults: function () {\n            module.save.defaultText();\n            module.save.placeholderText();\n            module.save.defaultValue();\n          },\n          defaultValue: function () {\n            var value = module.get.value();\n            module.verbose('Saving default value as', value);\n            $module.data(metadata.defaultValue, value);\n          },\n          defaultText: function () {\n            var text = module.get.text();\n            module.verbose('Saving default text as', text);\n            $module.data(metadata.defaultText, text);\n          },\n          placeholderText: function () {\n            var text;\n\n            if (settings.placeholder !== false && $text.hasClass(className.placeholder)) {\n              text = module.get.text();\n              module.verbose('Saving placeholder text as', text);\n              $module.data(metadata.placeholderText, text);\n            }\n          },\n          remoteData: function (name, value) {\n            if (window.Storage === undefined) {\n              module.error(error.noStorage);\n              return;\n            }\n\n            module.verbose('Saving remote data to session storage', value, name);\n            sessionStorage.setItem(value, name);\n          }\n        },\n        clear: function () {\n          if (module.is.multiple() && settings.useLabels) {\n            module.remove.labels();\n          } else {\n            module.remove.activeItem();\n            module.remove.selectedItem();\n          }\n\n          module.set.placeholderText();\n          module.clearValue();\n        },\n        clearValue: function () {\n          module.set.value('');\n        },\n        scrollPage: function (direction, $selectedItem) {\n          var $currentItem = $selectedItem || module.get.selectedItem(),\n              $menu = $currentItem.closest(selector.menu),\n              menuHeight = $menu.outerHeight(),\n              currentScroll = $menu.scrollTop(),\n              itemHeight = $item.eq(0).outerHeight(),\n              itemsPerPage = Math.floor(menuHeight / itemHeight),\n              maxScroll = $menu.prop('scrollHeight'),\n              newScroll = direction == 'up' ? currentScroll - itemHeight * itemsPerPage : currentScroll + itemHeight * itemsPerPage,\n              $selectableItem = $item.not(selector.unselectable),\n              isWithinRange,\n              $nextSelectedItem,\n              elementIndex;\n          elementIndex = direction == 'up' ? $selectableItem.index($currentItem) - itemsPerPage : $selectableItem.index($currentItem) + itemsPerPage;\n          isWithinRange = direction == 'up' ? elementIndex >= 0 : elementIndex < $selectableItem.length;\n          $nextSelectedItem = isWithinRange ? $selectableItem.eq(elementIndex) : direction == 'up' ? $selectableItem.first() : $selectableItem.last();\n\n          if ($nextSelectedItem.length > 0) {\n            module.debug('Scrolling page', direction, $nextSelectedItem);\n            $currentItem.removeClass(className.selected);\n            $nextSelectedItem.addClass(className.selected);\n\n            if (settings.selectOnKeydown && module.is.single()) {\n              module.set.selectedItem($nextSelectedItem);\n            }\n\n            $menu.scrollTop(newScroll);\n          }\n        },\n        set: {\n          filtered: function () {\n            var isMultiple = module.is.multiple(),\n                isSearch = module.is.searchSelection(),\n                isSearchMultiple = isMultiple && isSearch,\n                searchValue = isSearch ? module.get.query() : '',\n                hasSearchValue = typeof searchValue === 'string' && searchValue.length > 0,\n                searchWidth = module.get.searchWidth(),\n                valueIsSet = searchValue !== '';\n\n            if (isMultiple && hasSearchValue) {\n              module.verbose('Adjusting input width', searchWidth, settings.glyphWidth);\n              $search.css('width', searchWidth);\n            }\n\n            if (hasSearchValue || isSearchMultiple && valueIsSet) {\n              module.verbose('Hiding placeholder text');\n              $text.addClass(className.filtered);\n            } else if (!isMultiple || isSearchMultiple && !valueIsSet) {\n              module.verbose('Showing placeholder text');\n              $text.removeClass(className.filtered);\n            }\n          },\n          empty: function () {\n            $module.addClass(className.empty);\n          },\n          loading: function () {\n            $module.addClass(className.loading);\n          },\n          placeholderText: function (text) {\n            text = text || module.get.placeholderText();\n            module.debug('Setting placeholder text', text);\n            module.set.text(text);\n            $text.addClass(className.placeholder);\n          },\n          tabbable: function () {\n            if (module.is.searchSelection()) {\n              module.debug('Added tabindex to searchable dropdown');\n              $search.val('').attr('tabindex', 0);\n              $menu.attr('tabindex', -1);\n            } else {\n              module.debug('Added tabindex to dropdown');\n\n              if ($module.attr('tabindex') === undefined) {\n                $module.attr('tabindex', 0);\n                $menu.attr('tabindex', -1);\n              }\n            }\n          },\n          initialLoad: function () {\n            module.verbose('Setting initial load');\n            initialLoad = true;\n          },\n          activeItem: function ($item) {\n            if (settings.allowAdditions && $item.filter(selector.addition).length > 0) {\n              $item.addClass(className.filtered);\n            } else {\n              $item.addClass(className.active);\n            }\n          },\n          partialSearch: function (text) {\n            var length = module.get.query().length;\n            $search.val(text.substr(0, length));\n          },\n          scrollPosition: function ($item, forceScroll) {\n            var edgeTolerance = 5,\n                $menu,\n                hasActive,\n                offset,\n                itemHeight,\n                itemOffset,\n                menuOffset,\n                menuScroll,\n                menuHeight,\n                abovePage,\n                belowPage;\n            $item = $item || module.get.selectedItem();\n            $menu = $item.closest(selector.menu);\n            hasActive = $item && $item.length > 0;\n            forceScroll = forceScroll !== undefined ? forceScroll : false;\n\n            if ($item && $menu.length > 0 && hasActive) {\n              itemOffset = $item.position().top;\n              $menu.addClass(className.loading);\n              menuScroll = $menu.scrollTop();\n              menuOffset = $menu.offset().top;\n              itemOffset = $item.offset().top;\n              offset = menuScroll - menuOffset + itemOffset;\n\n              if (!forceScroll) {\n                menuHeight = $menu.height();\n                belowPage = menuScroll + menuHeight < offset + edgeTolerance;\n                abovePage = offset - edgeTolerance < menuScroll;\n              }\n\n              module.debug('Scrolling to active item', offset);\n\n              if (forceScroll || abovePage || belowPage) {\n                $menu.scrollTop(offset);\n              }\n\n              $menu.removeClass(className.loading);\n            }\n          },\n          text: function (text) {\n            if (settings.action !== 'select') {\n              if (settings.action == 'combo') {\n                module.debug('Changing combo button text', text, $combo);\n\n                if (settings.preserveHTML) {\n                  $combo.html(text);\n                } else {\n                  $combo.text(text);\n                }\n              } else {\n                if (text !== module.get.placeholderText()) {\n                  $text.removeClass(className.placeholder);\n                }\n\n                module.debug('Changing text', text, $text);\n                $text.removeClass(className.filtered);\n\n                if (settings.preserveHTML) {\n                  $text.html(text);\n                } else {\n                  $text.text(text);\n                }\n              }\n            }\n          },\n          selectedItem: function ($item) {\n            var value = module.get.choiceValue($item),\n                searchText = module.get.choiceText($item, false),\n                text = module.get.choiceText($item, true);\n            module.debug('Setting user selection to item', $item);\n            module.remove.activeItem();\n            module.set.partialSearch(searchText);\n            module.set.activeItem($item);\n            module.set.selected(value, $item);\n            module.set.text(text);\n          },\n          selectedLetter: function (letter) {\n            var $selectedItem = $item.filter('.' + className.selected),\n                alreadySelectedLetter = $selectedItem.length > 0 && module.has.firstLetter($selectedItem, letter),\n                $nextValue = false,\n                $nextItem; // check next of same letter\n\n            if (alreadySelectedLetter) {\n              $nextItem = $selectedItem.nextAll($item).eq(0);\n\n              if (module.has.firstLetter($nextItem, letter)) {\n                $nextValue = $nextItem;\n              }\n            } // check all values\n\n\n            if (!$nextValue) {\n              $item.each(function () {\n                if (module.has.firstLetter($(this), letter)) {\n                  $nextValue = $(this);\n                  return false;\n                }\n              });\n            } // set next value\n\n\n            if ($nextValue) {\n              module.verbose('Scrolling to next value with letter', letter);\n              module.set.scrollPosition($nextValue);\n              $selectedItem.removeClass(className.selected);\n              $nextValue.addClass(className.selected);\n\n              if (settings.selectOnKeydown && module.is.single()) {\n                module.set.selectedItem($nextValue);\n              }\n            }\n          },\n          direction: function ($menu) {\n            if (settings.direction == 'auto') {\n              // reset position\n              module.remove.upward();\n\n              if (module.can.openDownward($menu)) {\n                module.remove.upward($menu);\n              } else {\n                module.set.upward($menu);\n              }\n\n              if (!module.is.leftward($menu) && !module.can.openRightward($menu)) {\n                module.set.leftward($menu);\n              }\n            } else if (settings.direction == 'upward') {\n              module.set.upward($menu);\n            }\n          },\n          upward: function ($currentMenu) {\n            var $element = $currentMenu || $module;\n            $element.addClass(className.upward);\n          },\n          leftward: function ($currentMenu) {\n            var $element = $currentMenu || $menu;\n            $element.addClass(className.leftward);\n          },\n          value: function (value, text, $selected) {\n            var escapedValue = module.escape.value(value),\n                hasInput = $input.length > 0,\n                currentValue = module.get.values(),\n                stringValue = value !== undefined ? String(value) : value,\n                newValue;\n\n            if (hasInput) {\n              if (!settings.allowReselection && stringValue == currentValue) {\n                module.verbose('Skipping value update already same value', value, currentValue);\n\n                if (!module.is.initialLoad()) {\n                  return;\n                }\n              }\n\n              if (module.is.single() && module.has.selectInput() && module.can.extendSelect()) {\n                module.debug('Adding user option', value);\n                module.add.optionValue(value);\n              }\n\n              module.debug('Updating input value', escapedValue, currentValue);\n              internalChange = true;\n              $input.val(escapedValue);\n\n              if (settings.fireOnInit === false && module.is.initialLoad()) {\n                module.debug('Input native change event ignored on initial load');\n              } else {\n                module.trigger.change();\n              }\n\n              internalChange = false;\n            } else {\n              module.verbose('Storing value in metadata', escapedValue, $input);\n\n              if (escapedValue !== currentValue) {\n                $module.data(metadata.value, stringValue);\n              }\n            }\n\n            if (settings.fireOnInit === false && module.is.initialLoad()) {\n              module.verbose('No callback on initial load', settings.onChange);\n            } else {\n              settings.onChange.call(element, value, text, $selected);\n            }\n          },\n          active: function () {\n            $module.addClass(className.active);\n          },\n          multiple: function () {\n            $module.addClass(className.multiple);\n          },\n          visible: function () {\n            $module.addClass(className.visible);\n          },\n          exactly: function (value, $selectedItem) {\n            module.debug('Setting selected to exact values');\n            module.clear();\n            module.set.selected(value, $selectedItem);\n          },\n          selected: function (value, $selectedItem) {\n            var isMultiple = module.is.multiple(),\n                $userSelectedItem;\n            $selectedItem = settings.allowAdditions ? $selectedItem || module.get.itemWithAdditions(value) : $selectedItem || module.get.item(value);\n\n            if (!$selectedItem) {\n              return;\n            }\n\n            module.debug('Setting selected menu item to', $selectedItem);\n\n            if (module.is.multiple()) {\n              module.remove.searchWidth();\n            }\n\n            if (module.is.single()) {\n              module.remove.activeItem();\n              module.remove.selectedItem();\n            } else if (settings.useLabels) {\n              module.remove.selectedItem();\n            } // select each item\n\n\n            $selectedItem.each(function () {\n              var $selected = $(this),\n                  selectedText = module.get.choiceText($selected),\n                  selectedValue = module.get.choiceValue($selected, selectedText),\n                  isFiltered = $selected.hasClass(className.filtered),\n                  isActive = $selected.hasClass(className.active),\n                  isUserValue = $selected.hasClass(className.addition),\n                  shouldAnimate = isMultiple && $selectedItem.length == 1;\n\n              if (isMultiple) {\n                if (!isActive || isUserValue) {\n                  if (settings.apiSettings && settings.saveRemoteData) {\n                    module.save.remoteData(selectedText, selectedValue);\n                  }\n\n                  if (settings.useLabels) {\n                    module.add.label(selectedValue, selectedText, shouldAnimate);\n                    module.add.value(selectedValue, selectedText, $selected);\n                    module.set.activeItem($selected);\n                    module.filterActive();\n                    module.select.nextAvailable($selectedItem);\n                  } else {\n                    module.add.value(selectedValue, selectedText, $selected);\n                    module.set.text(module.add.variables(message.count));\n                    module.set.activeItem($selected);\n                  }\n                } else if (!isFiltered) {\n                  module.debug('Selected active value, removing label');\n                  module.remove.selected(selectedValue);\n                }\n              } else {\n                if (settings.apiSettings && settings.saveRemoteData) {\n                  module.save.remoteData(selectedText, selectedValue);\n                }\n\n                module.set.text(selectedText);\n                module.set.value(selectedValue, selectedText, $selected);\n                $selected.addClass(className.active).addClass(className.selected);\n              }\n            });\n          }\n        },\n        add: {\n          label: function (value, text, shouldAnimate) {\n            var $next = module.is.searchSelection() ? $search : $text,\n                escapedValue = module.escape.value(value),\n                $label;\n\n            if (settings.ignoreCase) {\n              escapedValue = escapedValue.toLowerCase();\n            }\n\n            $label = $('<a />').addClass(className.label).attr('data-' + metadata.value, escapedValue).html(templates.label(escapedValue, text));\n            $label = settings.onLabelCreate.call($label, escapedValue, text);\n\n            if (module.has.label(value)) {\n              module.debug('User selection already exists, skipping', escapedValue);\n              return;\n            }\n\n            if (settings.label.variation) {\n              $label.addClass(settings.label.variation);\n            }\n\n            if (shouldAnimate === true) {\n              module.debug('Animating in label', $label);\n              $label.addClass(className.hidden).insertBefore($next).transition(settings.label.transition, settings.label.duration);\n            } else {\n              module.debug('Adding selection label', $label);\n              $label.insertBefore($next);\n            }\n          },\n          message: function (message) {\n            var $message = $menu.children(selector.message),\n                html = settings.templates.message(module.add.variables(message));\n\n            if ($message.length > 0) {\n              $message.html(html);\n            } else {\n              $message = $('<div/>').html(html).addClass(className.message).appendTo($menu);\n            }\n          },\n          optionValue: function (value) {\n            var escapedValue = module.escape.value(value),\n                $option = $input.find('option[value=\"' + module.escape.string(escapedValue) + '\"]'),\n                hasOption = $option.length > 0;\n\n            if (hasOption) {\n              return;\n            } // temporarily disconnect observer\n\n\n            module.disconnect.selectObserver();\n\n            if (module.is.single()) {\n              module.verbose('Removing previous user addition');\n              $input.find('option.' + className.addition).remove();\n            }\n\n            $('<option/>').prop('value', escapedValue).addClass(className.addition).html(value).appendTo($input);\n            module.verbose('Adding user addition as an <option>', value);\n            module.observe.select();\n          },\n          userSuggestion: function (value) {\n            var $addition = $menu.children(selector.addition),\n                $existingItem = module.get.item(value),\n                alreadyHasValue = $existingItem && $existingItem.not(selector.addition).length,\n                hasUserSuggestion = $addition.length > 0,\n                html;\n\n            if (settings.useLabels && module.has.maxSelections()) {\n              return;\n            }\n\n            if (value === '' || alreadyHasValue) {\n              $addition.remove();\n              return;\n            }\n\n            if (hasUserSuggestion) {\n              $addition.data(metadata.value, value).data(metadata.text, value).attr('data-' + metadata.value, value).attr('data-' + metadata.text, value).removeClass(className.filtered);\n\n              if (!settings.hideAdditions) {\n                html = settings.templates.addition(module.add.variables(message.addResult, value));\n                $addition.html(html);\n              }\n\n              module.verbose('Replacing user suggestion with new value', $addition);\n            } else {\n              $addition = module.create.userChoice(value);\n              $addition.prependTo($menu);\n              module.verbose('Adding item choice to menu corresponding with user choice addition', $addition);\n            }\n\n            if (!settings.hideAdditions || module.is.allFiltered()) {\n              $addition.addClass(className.selected).siblings().removeClass(className.selected);\n            }\n\n            module.refreshItems();\n          },\n          variables: function (message, term) {\n            var hasCount = message.search('{count}') !== -1,\n                hasMaxCount = message.search('{maxCount}') !== -1,\n                hasTerm = message.search('{term}') !== -1,\n                values,\n                count,\n                query;\n            module.verbose('Adding templated variables to message', message);\n\n            if (hasCount) {\n              count = module.get.selectionCount();\n              message = message.replace('{count}', count);\n            }\n\n            if (hasMaxCount) {\n              count = module.get.selectionCount();\n              message = message.replace('{maxCount}', settings.maxSelections);\n            }\n\n            if (hasTerm) {\n              query = term || module.get.query();\n              message = message.replace('{term}', query);\n            }\n\n            return message;\n          },\n          value: function (addedValue, addedText, $selectedItem) {\n            var currentValue = module.get.values(),\n                newValue;\n\n            if (module.has.value(addedValue)) {\n              module.debug('Value already selected');\n              return;\n            }\n\n            if (addedValue === '') {\n              module.debug('Cannot select blank values from multiselect');\n              return;\n            } // extend current array\n\n\n            if ($.isArray(currentValue)) {\n              newValue = currentValue.concat([addedValue]);\n              newValue = module.get.uniqueArray(newValue);\n            } else {\n              newValue = [addedValue];\n            } // add values\n\n\n            if (module.has.selectInput()) {\n              if (module.can.extendSelect()) {\n                module.debug('Adding value to select', addedValue, newValue, $input);\n                module.add.optionValue(addedValue);\n              }\n            } else {\n              newValue = newValue.join(settings.delimiter);\n              module.debug('Setting hidden input to delimited value', newValue, $input);\n            }\n\n            if (settings.fireOnInit === false && module.is.initialLoad()) {\n              module.verbose('Skipping onadd callback on initial load', settings.onAdd);\n            } else {\n              settings.onAdd.call(element, addedValue, addedText, $selectedItem);\n            }\n\n            module.set.value(newValue, addedValue, addedText, $selectedItem);\n            module.check.maxSelections();\n          }\n        },\n        remove: {\n          active: function () {\n            $module.removeClass(className.active);\n          },\n          activeLabel: function () {\n            $module.find(selector.label).removeClass(className.active);\n          },\n          empty: function () {\n            $module.removeClass(className.empty);\n          },\n          loading: function () {\n            $module.removeClass(className.loading);\n          },\n          initialLoad: function () {\n            initialLoad = false;\n          },\n          upward: function ($currentMenu) {\n            var $element = $currentMenu || $module;\n            $element.removeClass(className.upward);\n          },\n          leftward: function ($currentMenu) {\n            var $element = $currentMenu || $menu;\n            $element.removeClass(className.leftward);\n          },\n          visible: function () {\n            $module.removeClass(className.visible);\n          },\n          activeItem: function () {\n            $item.removeClass(className.active);\n          },\n          filteredItem: function () {\n            if (settings.useLabels && module.has.maxSelections()) {\n              return;\n            }\n\n            if (settings.useLabels && module.is.multiple()) {\n              $item.not('.' + className.active).removeClass(className.filtered);\n            } else {\n              $item.removeClass(className.filtered);\n            }\n\n            module.remove.empty();\n          },\n          optionValue: function (value) {\n            var escapedValue = module.escape.value(value),\n                $option = $input.find('option[value=\"' + module.escape.string(escapedValue) + '\"]'),\n                hasOption = $option.length > 0;\n\n            if (!hasOption || !$option.hasClass(className.addition)) {\n              return;\n            } // temporarily disconnect observer\n\n\n            if (selectObserver) {\n              selectObserver.disconnect();\n              module.verbose('Temporarily disconnecting mutation observer');\n            }\n\n            $option.remove();\n            module.verbose('Removing user addition as an <option>', escapedValue);\n\n            if (selectObserver) {\n              selectObserver.observe($input[0], {\n                childList: true,\n                subtree: true\n              });\n            }\n          },\n          message: function () {\n            $menu.children(selector.message).remove();\n          },\n          searchWidth: function () {\n            $search.css('width', '');\n          },\n          searchTerm: function () {\n            module.verbose('Cleared search term');\n            $search.val('');\n            module.set.filtered();\n          },\n          userAddition: function () {\n            $item.filter(selector.addition).remove();\n          },\n          selected: function (value, $selectedItem) {\n            $selectedItem = settings.allowAdditions ? $selectedItem || module.get.itemWithAdditions(value) : $selectedItem || module.get.item(value);\n\n            if (!$selectedItem) {\n              return false;\n            }\n\n            $selectedItem.each(function () {\n              var $selected = $(this),\n                  selectedText = module.get.choiceText($selected),\n                  selectedValue = module.get.choiceValue($selected, selectedText);\n\n              if (module.is.multiple()) {\n                if (settings.useLabels) {\n                  module.remove.value(selectedValue, selectedText, $selected);\n                  module.remove.label(selectedValue);\n                } else {\n                  module.remove.value(selectedValue, selectedText, $selected);\n\n                  if (module.get.selectionCount() === 0) {\n                    module.set.placeholderText();\n                  } else {\n                    module.set.text(module.add.variables(message.count));\n                  }\n                }\n              } else {\n                module.remove.value(selectedValue, selectedText, $selected);\n              }\n\n              $selected.removeClass(className.filtered).removeClass(className.active);\n\n              if (settings.useLabels) {\n                $selected.removeClass(className.selected);\n              }\n            });\n          },\n          selectedItem: function () {\n            $item.removeClass(className.selected);\n          },\n          value: function (removedValue, removedText, $removedItem) {\n            var values = module.get.values(),\n                newValue;\n\n            if (module.has.selectInput()) {\n              module.verbose('Input is <select> removing selected option', removedValue);\n              newValue = module.remove.arrayValue(removedValue, values);\n              module.remove.optionValue(removedValue);\n            } else {\n              module.verbose('Removing from delimited values', removedValue);\n              newValue = module.remove.arrayValue(removedValue, values);\n              newValue = newValue.join(settings.delimiter);\n            }\n\n            if (settings.fireOnInit === false && module.is.initialLoad()) {\n              module.verbose('No callback on initial load', settings.onRemove);\n            } else {\n              settings.onRemove.call(element, removedValue, removedText, $removedItem);\n            }\n\n            module.set.value(newValue, removedText, $removedItem);\n            module.check.maxSelections();\n          },\n          arrayValue: function (removedValue, values) {\n            if (!$.isArray(values)) {\n              values = [values];\n            }\n\n            values = $.grep(values, function (value) {\n              return removedValue != value;\n            });\n            module.verbose('Removed value from delimited string', removedValue, values);\n            return values;\n          },\n          label: function (value, shouldAnimate) {\n            var $labels = $module.find(selector.label),\n                $removedLabel = $labels.filter('[data-' + metadata.value + '=\"' + module.escape.string(value) + '\"]');\n            module.verbose('Removing label', $removedLabel);\n            $removedLabel.remove();\n          },\n          activeLabels: function ($activeLabels) {\n            $activeLabels = $activeLabels || $module.find(selector.label).filter('.' + className.active);\n            module.verbose('Removing active label selections', $activeLabels);\n            module.remove.labels($activeLabels);\n          },\n          labels: function ($labels) {\n            $labels = $labels || $module.find(selector.label);\n            module.verbose('Removing labels', $labels);\n            $labels.each(function () {\n              var $label = $(this),\n                  value = $label.data(metadata.value),\n                  stringValue = value !== undefined ? String(value) : value,\n                  isUserValue = module.is.userValue(stringValue);\n\n              if (settings.onLabelRemove.call($label, value) === false) {\n                module.debug('Label remove callback cancelled removal');\n                return;\n              }\n\n              module.remove.message();\n\n              if (isUserValue) {\n                module.remove.value(stringValue);\n                module.remove.label(stringValue);\n              } else {\n                // selected will also remove label\n                module.remove.selected(stringValue);\n              }\n            });\n          },\n          tabbable: function () {\n            if (module.is.searchSelection()) {\n              module.debug('Searchable dropdown initialized');\n              $search.removeAttr('tabindex');\n              $menu.removeAttr('tabindex');\n            } else {\n              module.debug('Simple selection dropdown initialized');\n              $module.removeAttr('tabindex');\n              $menu.removeAttr('tabindex');\n            }\n          }\n        },\n        has: {\n          menuSearch: function () {\n            return module.has.search() && $search.closest($menu).length > 0;\n          },\n          search: function () {\n            return $search.length > 0;\n          },\n          sizer: function () {\n            return $sizer.length > 0;\n          },\n          selectInput: function () {\n            return $input.is('select');\n          },\n          minCharacters: function (searchTerm) {\n            if (settings.minCharacters) {\n              searchTerm = searchTerm !== undefined ? String(searchTerm) : String(module.get.query());\n              return searchTerm.length >= settings.minCharacters;\n            }\n\n            return true;\n          },\n          firstLetter: function ($item, letter) {\n            var text, firstLetter;\n\n            if (!$item || $item.length === 0 || typeof letter !== 'string') {\n              return false;\n            }\n\n            text = module.get.choiceText($item, false);\n            letter = letter.toLowerCase();\n            firstLetter = String(text).charAt(0).toLowerCase();\n            return letter == firstLetter;\n          },\n          input: function () {\n            return $input.length > 0;\n          },\n          items: function () {\n            return $item.length > 0;\n          },\n          menu: function () {\n            return $menu.length > 0;\n          },\n          message: function () {\n            return $menu.children(selector.message).length !== 0;\n          },\n          label: function (value) {\n            var escapedValue = module.escape.value(value),\n                $labels = $module.find(selector.label);\n\n            if (settings.ignoreCase) {\n              escapedValue = escapedValue.toLowerCase();\n            }\n\n            return $labels.filter('[data-' + metadata.value + '=\"' + module.escape.string(escapedValue) + '\"]').length > 0;\n          },\n          maxSelections: function () {\n            return settings.maxSelections && module.get.selectionCount() >= settings.maxSelections;\n          },\n          allResultsFiltered: function () {\n            var $normalResults = $item.not(selector.addition);\n            return $normalResults.filter(selector.unselectable).length === $normalResults.length;\n          },\n          userSuggestion: function () {\n            return $menu.children(selector.addition).length > 0;\n          },\n          query: function () {\n            return module.get.query() !== '';\n          },\n          value: function (value) {\n            return settings.ignoreCase ? module.has.valueIgnoringCase(value) : module.has.valueMatchingCase(value);\n          },\n          valueMatchingCase: function (value) {\n            var values = module.get.values(),\n                hasValue = $.isArray(values) ? values && $.inArray(value, values) !== -1 : values == value;\n            return hasValue ? true : false;\n          },\n          valueIgnoringCase: function (value) {\n            var values = module.get.values(),\n                hasValue = false;\n\n            if (!$.isArray(values)) {\n              values = [values];\n            }\n\n            $.each(values, function (index, existingValue) {\n              if (String(value).toLowerCase() == String(existingValue).toLowerCase()) {\n                hasValue = true;\n                return false;\n              }\n            });\n            return hasValue;\n          }\n        },\n        is: {\n          active: function () {\n            return $module.hasClass(className.active);\n          },\n          animatingInward: function () {\n            return $menu.transition('is inward');\n          },\n          animatingOutward: function () {\n            return $menu.transition('is outward');\n          },\n          bubbledLabelClick: function (event) {\n            return $(event.target).is('select, input') && $module.closest('label').length > 0;\n          },\n          bubbledIconClick: function (event) {\n            return $(event.target).closest($icon).length > 0;\n          },\n          alreadySetup: function () {\n            return $module.is('select') && $module.parent(selector.dropdown).data(moduleNamespace) !== undefined && $module.prev().length === 0;\n          },\n          animating: function ($subMenu) {\n            return $subMenu ? $subMenu.transition && $subMenu.transition('is animating') : $menu.transition && $menu.transition('is animating');\n          },\n          leftward: function ($subMenu) {\n            var $selectedMenu = $subMenu || $menu;\n            return $selectedMenu.hasClass(className.leftward);\n          },\n          disabled: function () {\n            return $module.hasClass(className.disabled);\n          },\n          focused: function () {\n            return document.activeElement === $module[0];\n          },\n          focusedOnSearch: function () {\n            return document.activeElement === $search[0];\n          },\n          allFiltered: function () {\n            return (module.is.multiple() || module.has.search()) && !(settings.hideAdditions == false && module.has.userSuggestion()) && !module.has.message() && module.has.allResultsFiltered();\n          },\n          hidden: function ($subMenu) {\n            return !module.is.visible($subMenu);\n          },\n          initialLoad: function () {\n            return initialLoad;\n          },\n          inObject: function (needle, object) {\n            var found = false;\n            $.each(object, function (index, property) {\n              if (property == needle) {\n                found = true;\n                return true;\n              }\n            });\n            return found;\n          },\n          multiple: function () {\n            return $module.hasClass(className.multiple);\n          },\n          remote: function () {\n            return settings.apiSettings && module.can.useAPI();\n          },\n          single: function () {\n            return !module.is.multiple();\n          },\n          selectMutation: function (mutations) {\n            var selectChanged = false;\n            $.each(mutations, function (index, mutation) {\n              if (mutation.target && $(mutation.target).is('select')) {\n                selectChanged = true;\n                return true;\n              }\n            });\n            return selectChanged;\n          },\n          search: function () {\n            return $module.hasClass(className.search);\n          },\n          searchSelection: function () {\n            return module.has.search() && $search.parent(selector.dropdown).length === 1;\n          },\n          selection: function () {\n            return $module.hasClass(className.selection);\n          },\n          userValue: function (value) {\n            return $.inArray(value, module.get.userValues()) !== -1;\n          },\n          upward: function ($menu) {\n            var $element = $menu || $module;\n            return $element.hasClass(className.upward);\n          },\n          visible: function ($subMenu) {\n            return $subMenu ? $subMenu.hasClass(className.visible) : $menu.hasClass(className.visible);\n          },\n          verticallyScrollableContext: function () {\n            var overflowY = $context.get(0) !== window ? $context.css('overflow-y') : false;\n            return overflowY == 'auto' || overflowY == 'scroll';\n          },\n          horizontallyScrollableContext: function () {\n            var overflowX = $context.get(0) !== window ? $context.css('overflow-X') : false;\n            return overflowX == 'auto' || overflowX == 'scroll';\n          }\n        },\n        can: {\n          activate: function ($item) {\n            if (settings.useLabels) {\n              return true;\n            }\n\n            if (!module.has.maxSelections()) {\n              return true;\n            }\n\n            if (module.has.maxSelections() && $item.hasClass(className.active)) {\n              return true;\n            }\n\n            return false;\n          },\n          openDownward: function ($subMenu) {\n            var $currentMenu = $subMenu || $menu,\n                canOpenDownward = true,\n                onScreen = {},\n                calculations;\n            $currentMenu.addClass(className.loading);\n            calculations = {\n              context: {\n                offset: $context.get(0) === window ? {\n                  top: 0,\n                  left: 0\n                } : $context.offset(),\n                scrollTop: $context.scrollTop(),\n                height: $context.outerHeight()\n              },\n              menu: {\n                offset: $currentMenu.offset(),\n                height: $currentMenu.outerHeight()\n              }\n            };\n\n            if (module.is.verticallyScrollableContext()) {\n              calculations.menu.offset.top += calculations.context.scrollTop;\n            }\n\n            onScreen = {\n              above: calculations.context.scrollTop <= calculations.menu.offset.top - calculations.context.offset.top - calculations.menu.height,\n              below: calculations.context.scrollTop + calculations.context.height >= calculations.menu.offset.top - calculations.context.offset.top + calculations.menu.height\n            };\n\n            if (onScreen.below) {\n              module.verbose('Dropdown can fit in context downward', onScreen);\n              canOpenDownward = true;\n            } else if (!onScreen.below && !onScreen.above) {\n              module.verbose('Dropdown cannot fit in either direction, favoring downward', onScreen);\n              canOpenDownward = true;\n            } else {\n              module.verbose('Dropdown cannot fit below, opening upward', onScreen);\n              canOpenDownward = false;\n            }\n\n            $currentMenu.removeClass(className.loading);\n            return canOpenDownward;\n          },\n          openRightward: function ($subMenu) {\n            var $currentMenu = $subMenu || $menu,\n                canOpenRightward = true,\n                isOffscreenRight = false,\n                calculations;\n            $currentMenu.addClass(className.loading);\n            calculations = {\n              context: {\n                offset: $context.get(0) === window ? {\n                  top: 0,\n                  left: 0\n                } : $context.offset(),\n                scrollLeft: $context.scrollLeft(),\n                width: $context.outerWidth()\n              },\n              menu: {\n                offset: $currentMenu.offset(),\n                width: $currentMenu.outerWidth()\n              }\n            };\n\n            if (module.is.horizontallyScrollableContext()) {\n              calculations.menu.offset.left += calculations.context.scrollLeft;\n            }\n\n            isOffscreenRight = calculations.menu.offset.left - calculations.context.offset.left + calculations.menu.width >= calculations.context.scrollLeft + calculations.context.width;\n\n            if (isOffscreenRight) {\n              module.verbose('Dropdown cannot fit in context rightward', isOffscreenRight);\n              canOpenRightward = false;\n            }\n\n            $currentMenu.removeClass(className.loading);\n            return canOpenRightward;\n          },\n          click: function () {\n            return hasTouch || settings.on == 'click';\n          },\n          extendSelect: function () {\n            return settings.allowAdditions || settings.apiSettings;\n          },\n          show: function () {\n            return !module.is.disabled() && (module.has.items() || module.has.message());\n          },\n          useAPI: function () {\n            return $.fn.api !== undefined;\n          }\n        },\n        animate: {\n          show: function (callback, $subMenu) {\n            var $currentMenu = $subMenu || $menu,\n                start = $subMenu ? function () {} : function () {\n              module.hideSubMenus();\n              module.hideOthers();\n              module.set.active();\n            },\n                transition;\n            callback = $.isFunction(callback) ? callback : function () {};\n            module.verbose('Doing menu show animation', $currentMenu);\n            module.set.direction($subMenu);\n            transition = module.get.transition($subMenu);\n\n            if (module.is.selection()) {\n              module.set.scrollPosition(module.get.selectedItem(), true);\n            }\n\n            if (module.is.hidden($currentMenu) || module.is.animating($currentMenu)) {\n              if (transition == 'none') {\n                start();\n                $currentMenu.transition('show');\n                callback.call(element);\n              } else if ($.fn.transition !== undefined && $module.transition('is supported')) {\n                $currentMenu.transition({\n                  animation: transition + ' in',\n                  debug: settings.debug,\n                  verbose: settings.verbose,\n                  duration: settings.duration,\n                  queue: true,\n                  onStart: start,\n                  onComplete: function () {\n                    callback.call(element);\n                  }\n                });\n              } else {\n                module.error(error.noTransition, transition);\n              }\n            }\n          },\n          hide: function (callback, $subMenu) {\n            var $currentMenu = $subMenu || $menu,\n                duration = $subMenu ? settings.duration * 0.9 : settings.duration,\n                start = $subMenu ? function () {} : function () {\n              if (module.can.click()) {\n                module.unbind.intent();\n              }\n\n              module.remove.active();\n            },\n                transition = module.get.transition($subMenu);\n            callback = $.isFunction(callback) ? callback : function () {};\n\n            if (module.is.visible($currentMenu) || module.is.animating($currentMenu)) {\n              module.verbose('Doing menu hide animation', $currentMenu);\n\n              if (transition == 'none') {\n                start();\n                $currentMenu.transition('hide');\n                callback.call(element);\n              } else if ($.fn.transition !== undefined && $module.transition('is supported')) {\n                $currentMenu.transition({\n                  animation: transition + ' out',\n                  duration: settings.duration,\n                  debug: settings.debug,\n                  verbose: settings.verbose,\n                  queue: false,\n                  onStart: start,\n                  onComplete: function () {\n                    callback.call(element);\n                  }\n                });\n              } else {\n                module.error(error.transition);\n              }\n            }\n          }\n        },\n        hideAndClear: function () {\n          module.remove.searchTerm();\n\n          if (module.has.maxSelections()) {\n            return;\n          }\n\n          if (module.has.search()) {\n            module.hide(function () {\n              module.remove.filteredItem();\n            });\n          } else {\n            module.hide();\n          }\n        },\n        delay: {\n          show: function () {\n            module.verbose('Delaying show event to ensure user intent');\n            clearTimeout(module.timer);\n            module.timer = setTimeout(module.show, settings.delay.show);\n          },\n          hide: function () {\n            module.verbose('Delaying hide event to ensure user intent');\n            clearTimeout(module.timer);\n            module.timer = setTimeout(module.hide, settings.delay.hide);\n          }\n        },\n        escape: {\n          value: function (value) {\n            var multipleValues = $.isArray(value),\n                stringValue = typeof value === 'string',\n                isUnparsable = !stringValue && !multipleValues,\n                hasQuotes = stringValue && value.search(regExp.quote) !== -1,\n                values = [];\n\n            if (isUnparsable || !hasQuotes) {\n              return value;\n            }\n\n            module.debug('Encoding quote values for use in select', value);\n\n            if (multipleValues) {\n              $.each(value, function (index, value) {\n                values.push(value.replace(regExp.quote, '&quot;'));\n              });\n              return values;\n            }\n\n            return value.replace(regExp.quote, '&quot;');\n          },\n          string: function (text) {\n            text = String(text);\n            return text.replace(regExp.escape, '\\\\$&');\n          }\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : $allModules;\n  };\n\n  $.fn.dropdown.settings = {\n    silent: false,\n    debug: false,\n    verbose: false,\n    performance: true,\n    on: 'click',\n    // what event should show menu action on item selection\n    action: 'activate',\n    // action on item selection (nothing, activate, select, combo, hide, function(){})\n    values: false,\n    // specify values to use for dropdown\n    apiSettings: false,\n    selectOnKeydown: true,\n    // Whether selection should occur automatically when keyboard shortcuts used\n    minCharacters: 0,\n    // Minimum characters required to trigger API call\n    filterRemoteData: false,\n    // Whether API results should be filtered after being returned for query term\n    saveRemoteData: true,\n    // Whether remote name/value pairs should be stored in sessionStorage to allow remote data to be restored on page refresh\n    throttle: 200,\n    // How long to wait after last user input to search remotely\n    context: window,\n    // Context to use when determining if on screen\n    direction: 'auto',\n    // Whether dropdown should always open in one direction\n    keepOnScreen: true,\n    // Whether dropdown should check whether it is on screen before showing\n    match: 'both',\n    // what to match against with search selection (both, text, or label)\n    fullTextSearch: false,\n    // search anywhere in value (set to 'exact' to require exact matches)\n    placeholder: 'auto',\n    // whether to convert blank <select> values to placeholder text\n    preserveHTML: true,\n    // preserve html when selecting value\n    sortSelect: false,\n    // sort selection on init\n    forceSelection: true,\n    // force a choice on blur with search selection\n    allowAdditions: false,\n    // whether multiple select should allow user added values\n    ignoreCase: false,\n    // whether to consider values not matching in case to be the same\n    hideAdditions: true,\n    // whether or not to hide special message prompting a user they can enter a value\n    maxSelections: false,\n    // When set to a number limits the number of selections to this count\n    useLabels: true,\n    // whether multiple select should filter currently active selections from choices\n    delimiter: ',',\n    // when multiselect uses normal <input> the values will be delimited with this character\n    showOnFocus: true,\n    // show menu on focus\n    allowReselection: false,\n    // whether current value should trigger callbacks when reselected\n    allowTab: true,\n    // add tabindex to element\n    allowCategorySelection: false,\n    // allow elements with sub-menus to be selected\n    fireOnInit: false,\n    // Whether callbacks should fire when initializing dropdown values\n    transition: 'auto',\n    // auto transition will slide down or up based on direction\n    duration: 200,\n    // duration of transition\n    glyphWidth: 1.037,\n    // widest glyph width in em (W is 1.037 em) used to calculate multiselect input width\n    // label settings on multi-select\n    label: {\n      transition: 'scale',\n      duration: 200,\n      variation: false\n    },\n    // delay before event\n    delay: {\n      hide: 300,\n      show: 200,\n      search: 20,\n      touch: 50\n    },\n\n    /* Callbacks */\n    onChange: function (value, text, $selected) {},\n    onAdd: function (value, text, $selected) {},\n    onRemove: function (value, text, $selected) {},\n    onLabelSelect: function ($selectedLabels) {},\n    onLabelCreate: function (value, text) {\n      return $(this);\n    },\n    onLabelRemove: function (value) {\n      return true;\n    },\n    onNoResults: function (searchTerm) {\n      return true;\n    },\n    onShow: function () {},\n    onHide: function () {},\n\n    /* Component */\n    name: 'Dropdown',\n    namespace: 'dropdown',\n    message: {\n      addResult: 'Add <b>{term}</b>',\n      count: '{count} selected',\n      maxSelections: 'Max {maxCount} selections',\n      noResults: 'No results found.',\n      serverError: 'There was an error contacting the server'\n    },\n    error: {\n      action: 'You called a dropdown action that was not defined',\n      alreadySetup: 'Once a select has been initialized behaviors must be called on the created ui dropdown',\n      labels: 'Allowing user additions currently requires the use of labels.',\n      missingMultiple: '<select> requires multiple property to be set to correctly preserve multiple values',\n      method: 'The method you called is not defined.',\n      noAPI: 'The API module is required to load resources remotely',\n      noStorage: 'Saving remote data requires session storage',\n      noTransition: 'This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>'\n    },\n    regExp: {\n      escape: /[-[\\]{}()*+?.,\\\\^$|#\\s]/g,\n      quote: /\"/g\n    },\n    metadata: {\n      defaultText: 'defaultText',\n      defaultValue: 'defaultValue',\n      placeholderText: 'placeholder',\n      text: 'text',\n      value: 'value'\n    },\n    // property names for remote query\n    fields: {\n      remoteValues: 'results',\n      // grouping for api results\n      values: 'values',\n      // grouping for all dropdown values\n      disabled: 'disabled',\n      // whether value should be disabled\n      name: 'name',\n      // displayed dropdown text\n      value: 'value',\n      // actual dropdown value\n      text: 'text' // displayed text when selected\n\n    },\n    keys: {\n      backspace: 8,\n      delimiter: 188,\n      // comma\n      deleteKey: 46,\n      enter: 13,\n      escape: 27,\n      pageUp: 33,\n      pageDown: 34,\n      leftArrow: 37,\n      upArrow: 38,\n      rightArrow: 39,\n      downArrow: 40\n    },\n    selector: {\n      addition: '.addition',\n      dropdown: '.ui.dropdown',\n      hidden: '.hidden',\n      icon: '> .dropdown.icon',\n      input: '> input[type=\"hidden\"], > select',\n      item: '.item',\n      label: '> .label',\n      remove: '> .label > .delete.icon',\n      siblingLabel: '.label',\n      menu: '.menu',\n      message: '.message',\n      menuIcon: '.dropdown.icon',\n      search: 'input.search, .menu > .search > input, .menu input.search',\n      sizer: '> input.sizer',\n      text: '> .text:not(.icon)',\n      unselectable: '.disabled, .filtered'\n    },\n    className: {\n      active: 'active',\n      addition: 'addition',\n      animating: 'animating',\n      disabled: 'disabled',\n      empty: 'empty',\n      dropdown: 'ui dropdown',\n      filtered: 'filtered',\n      hidden: 'hidden transition',\n      item: 'item',\n      label: 'ui label',\n      loading: 'loading',\n      menu: 'menu',\n      message: 'message',\n      multiple: 'multiple',\n      placeholder: 'default',\n      sizer: 'sizer',\n      search: 'search',\n      selected: 'selected',\n      selection: 'selection',\n      upward: 'upward',\n      leftward: 'left',\n      visible: 'visible'\n    }\n  };\n  /* Templates */\n\n  $.fn.dropdown.settings.templates = {\n    // generates dropdown from select values\n    dropdown: function (select) {\n      var placeholder = select.placeholder || false,\n          values = select.values || {},\n          html = '';\n      html += '<i class=\"dropdown icon\"></i>';\n\n      if (select.placeholder) {\n        html += '<div class=\"default text\">' + placeholder + '</div>';\n      } else {\n        html += '<div class=\"text\"></div>';\n      }\n\n      html += '<div class=\"menu\">';\n      $.each(select.values, function (index, option) {\n        html += option.disabled ? '<div class=\"disabled item\" data-value=\"' + option.value + '\">' + option.name + '</div>' : '<div class=\"item\" data-value=\"' + option.value + '\">' + option.name + '</div>';\n      });\n      html += '</div>';\n      return html;\n    },\n    // generates just menu from select\n    menu: function (response, fields) {\n      var values = response[fields.values] || {},\n          html = '';\n      $.each(values, function (index, option) {\n        var maybeText = option[fields.text] ? 'data-text=\"' + option[fields.text] + '\"' : '',\n            maybeDisabled = option[fields.disabled] ? 'disabled ' : '';\n        html += '<div class=\"' + maybeDisabled + 'item\" data-value=\"' + option[fields.value] + '\"' + maybeText + '>';\n        html += option[fields.name];\n        html += '</div>';\n      });\n      return html;\n    },\n    // generates label for multiselect\n    label: function (value, text) {\n      return text + '<i class=\"delete icon\"></i>';\n    },\n    // generates messages like \"No results\"\n    message: function (message) {\n      return message;\n    },\n    // generates user addition to selection menu\n    addition: function (choice) {\n      return choice;\n    }\n  };\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"embed.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/modules/embed.js                                                                           //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * # Semantic UI - Embed\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.embed = function (parameters) {\n    var $allModules = $(this),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue;\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.embed.settings, parameters) : $.extend({}, $.fn.embed.settings),\n          selector = settings.selector,\n          className = settings.className,\n          sources = settings.sources,\n          error = settings.error,\n          metadata = settings.metadata,\n          namespace = settings.namespace,\n          templates = settings.templates,\n          eventNamespace = '.' + namespace,\n          moduleNamespace = 'module-' + namespace,\n          $window = $(window),\n          $module = $(this),\n          $placeholder = $module.find(selector.placeholder),\n          $icon = $module.find(selector.icon),\n          $embed = $module.find(selector.embed),\n          element = this,\n          instance = $module.data(moduleNamespace),\n          module;\n      module = {\n        initialize: function () {\n          module.debug('Initializing embed');\n          module.determine.autoplay();\n          module.create();\n          module.bind.events();\n          module.instantiate();\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module.data(moduleNamespace, module);\n        },\n        destroy: function () {\n          module.verbose('Destroying previous instance of embed');\n          module.reset();\n          $module.removeData(moduleNamespace).off(eventNamespace);\n        },\n        refresh: function () {\n          module.verbose('Refreshing selector cache');\n          $placeholder = $module.find(selector.placeholder);\n          $icon = $module.find(selector.icon);\n          $embed = $module.find(selector.embed);\n        },\n        bind: {\n          events: function () {\n            if (module.has.placeholder()) {\n              module.debug('Adding placeholder events');\n              $module.on('click' + eventNamespace, selector.placeholder, module.createAndShow).on('click' + eventNamespace, selector.icon, module.createAndShow);\n            }\n          }\n        },\n        create: function () {\n          var placeholder = module.get.placeholder();\n\n          if (placeholder) {\n            module.createPlaceholder();\n          } else {\n            module.createAndShow();\n          }\n        },\n        createPlaceholder: function (placeholder) {\n          var icon = module.get.icon(),\n              url = module.get.url(),\n              embed = module.generate.embed(url);\n          placeholder = placeholder || module.get.placeholder();\n          $module.html(templates.placeholder(placeholder, icon));\n          module.debug('Creating placeholder for embed', placeholder, icon);\n        },\n        createEmbed: function (url) {\n          module.refresh();\n          url = url || module.get.url();\n          $embed = $('<div/>').addClass(className.embed).html(module.generate.embed(url)).appendTo($module);\n          settings.onCreate.call(element, url);\n          module.debug('Creating embed object', $embed);\n        },\n        changeEmbed: function (url) {\n          $embed.html(module.generate.embed(url));\n        },\n        createAndShow: function () {\n          module.createEmbed();\n          module.show();\n        },\n        // sets new embed\n        change: function (source, id, url) {\n          module.debug('Changing video to ', source, id, url);\n          $module.data(metadata.source, source).data(metadata.id, id);\n\n          if (url) {\n            $module.data(metadata.url, url);\n          } else {\n            $module.removeData(metadata.url);\n          }\n\n          if (module.has.embed()) {\n            module.changeEmbed();\n          } else {\n            module.create();\n          }\n        },\n        // clears embed\n        reset: function () {\n          module.debug('Clearing embed and showing placeholder');\n          module.remove.active();\n          module.remove.embed();\n          module.showPlaceholder();\n          settings.onReset.call(element);\n        },\n        // shows current embed\n        show: function () {\n          module.debug('Showing embed');\n          module.set.active();\n          settings.onDisplay.call(element);\n        },\n        hide: function () {\n          module.debug('Hiding embed');\n          module.showPlaceholder();\n        },\n        showPlaceholder: function () {\n          module.debug('Showing placeholder image');\n          module.remove.active();\n          settings.onPlaceholderDisplay.call(element);\n        },\n        get: {\n          id: function () {\n            return settings.id || $module.data(metadata.id);\n          },\n          placeholder: function () {\n            return settings.placeholder || $module.data(metadata.placeholder);\n          },\n          icon: function () {\n            return settings.icon ? settings.icon : $module.data(metadata.icon) !== undefined ? $module.data(metadata.icon) : module.determine.icon();\n          },\n          source: function (url) {\n            return settings.source ? settings.source : $module.data(metadata.source) !== undefined ? $module.data(metadata.source) : module.determine.source();\n          },\n          type: function () {\n            var source = module.get.source();\n            return sources[source] !== undefined ? sources[source].type : false;\n          },\n          url: function () {\n            return settings.url ? settings.url : $module.data(metadata.url) !== undefined ? $module.data(metadata.url) : module.determine.url();\n          }\n        },\n        determine: {\n          autoplay: function () {\n            if (module.should.autoplay()) {\n              settings.autoplay = true;\n            }\n          },\n          source: function (url) {\n            var matchedSource = false;\n            url = url || module.get.url();\n\n            if (url) {\n              $.each(sources, function (name, source) {\n                if (url.search(source.domain) !== -1) {\n                  matchedSource = name;\n                  return false;\n                }\n              });\n            }\n\n            return matchedSource;\n          },\n          icon: function () {\n            var source = module.get.source();\n            return sources[source] !== undefined ? sources[source].icon : false;\n          },\n          url: function () {\n            var id = settings.id || $module.data(metadata.id),\n                source = settings.source || $module.data(metadata.source),\n                url;\n            url = sources[source] !== undefined ? sources[source].url.replace('{id}', id) : false;\n\n            if (url) {\n              $module.data(metadata.url, url);\n            }\n\n            return url;\n          }\n        },\n        set: {\n          active: function () {\n            $module.addClass(className.active);\n          }\n        },\n        remove: {\n          active: function () {\n            $module.removeClass(className.active);\n          },\n          embed: function () {\n            $embed.empty();\n          }\n        },\n        encode: {\n          parameters: function (parameters) {\n            var urlString = [],\n                index;\n\n            for (index in meteorBabelHelpers.sanitizeForInObject(parameters)) {\n              urlString.push(encodeURIComponent(index) + '=' + encodeURIComponent(parameters[index]));\n            }\n\n            return urlString.join('&amp;');\n          }\n        },\n        generate: {\n          embed: function (url) {\n            module.debug('Generating embed html');\n            var source = module.get.source(),\n                html,\n                parameters;\n            url = module.get.url(url);\n\n            if (url) {\n              parameters = module.generate.parameters(source);\n              html = templates.iframe(url, parameters);\n            } else {\n              module.error(error.noURL, $module);\n            }\n\n            return html;\n          },\n          parameters: function (source, extraParameters) {\n            var parameters = sources[source] && sources[source].parameters !== undefined ? sources[source].parameters(settings) : {};\n            extraParameters = extraParameters || settings.parameters;\n\n            if (extraParameters) {\n              parameters = $.extend({}, parameters, extraParameters);\n            }\n\n            parameters = settings.onEmbed(parameters);\n            return module.encode.parameters(parameters);\n          }\n        },\n        has: {\n          embed: function () {\n            return $embed.length > 0;\n          },\n          placeholder: function () {\n            return settings.placeholder || $module.data(metadata.placeholder);\n          }\n        },\n        should: {\n          autoplay: function () {\n            return settings.autoplay === 'auto' ? settings.placeholder || $module.data(metadata.placeholder) !== undefined : settings.autoplay;\n          }\n        },\n        is: {\n          video: function () {\n            return module.get.type() == 'video';\n          }\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.embed.settings = {\n    name: 'Embed',\n    namespace: 'embed',\n    silent: false,\n    debug: false,\n    verbose: false,\n    performance: true,\n    icon: false,\n    source: false,\n    url: false,\n    id: false,\n    // standard video settings\n    autoplay: 'auto',\n    color: '#444444',\n    hd: true,\n    brandedUI: false,\n    // additional parameters to include with the embed\n    parameters: false,\n    onDisplay: function () {},\n    onPlaceholderDisplay: function () {},\n    onReset: function () {},\n    onCreate: function (url) {},\n    onEmbed: function (parameters) {\n      return parameters;\n    },\n    metadata: {\n      id: 'id',\n      icon: 'icon',\n      placeholder: 'placeholder',\n      source: 'source',\n      url: 'url'\n    },\n    error: {\n      noURL: 'No URL specified',\n      method: 'The method you called is not defined'\n    },\n    className: {\n      active: 'active',\n      embed: 'embed'\n    },\n    selector: {\n      embed: '.embed',\n      placeholder: '.placeholder',\n      icon: '.icon'\n    },\n    sources: {\n      youtube: {\n        name: 'youtube',\n        type: 'video',\n        icon: 'video play',\n        domain: 'youtube.com',\n        url: '//www.youtube.com/embed/{id}',\n        parameters: function (settings) {\n          return {\n            autohide: !settings.brandedUI,\n            autoplay: settings.autoplay,\n            color: settings.color || undefined,\n            hq: settings.hd,\n            jsapi: settings.api,\n            modestbranding: !settings.brandedUI\n          };\n        }\n      },\n      vimeo: {\n        name: 'vimeo',\n        type: 'video',\n        icon: 'video play',\n        domain: 'vimeo.com',\n        url: '//player.vimeo.com/video/{id}',\n        parameters: function (settings) {\n          return {\n            api: settings.api,\n            autoplay: settings.autoplay,\n            byline: settings.brandedUI,\n            color: settings.color || undefined,\n            portrait: settings.brandedUI,\n            title: settings.brandedUI\n          };\n        }\n      }\n    },\n    templates: {\n      iframe: function (url, parameters) {\n        var src = url;\n\n        if (parameters) {\n          src += '?' + parameters;\n        }\n\n        return '' + '<iframe src=\"' + src + '\"' + ' width=\"100%\" height=\"100%\"' + ' frameborder=\"0\" scrolling=\"no\" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>';\n      },\n      placeholder: function (image, icon) {\n        var html = '';\n\n        if (icon) {\n          html += '<i class=\"' + icon + ' icon\"></i>';\n        }\n\n        if (image) {\n          html += '<img class=\"placeholder\" src=\"' + image + '\">';\n        }\n\n        return html;\n      }\n    },\n    // NOT YET IMPLEMENTED\n    api: false,\n    onPause: function () {},\n    onPlay: function () {},\n    onStop: function () {}\n  };\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"modal.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/modules/modal.js                                                                           //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * # Semantic UI - Modal\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.modal = function (parameters) {\n    var $allModules = $(this),\n        $window = $(window),\n        $document = $(document),\n        $body = $('body'),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {\n      setTimeout(callback, 0);\n    },\n        returnedValue;\n\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.modal.settings, parameters) : $.extend({}, $.fn.modal.settings),\n          selector = settings.selector,\n          className = settings.className,\n          namespace = settings.namespace,\n          error = settings.error,\n          eventNamespace = '.' + namespace,\n          moduleNamespace = 'module-' + namespace,\n          $module = $(this),\n          $context = $(settings.context),\n          $close = $module.find(selector.close),\n          $allModals,\n          $otherModals,\n          $focusedElement,\n          $dimmable,\n          $dimmer,\n          element = this,\n          instance = $module.data(moduleNamespace),\n          ignoreRepeatedEvents = false,\n          elementEventNamespace,\n          id,\n          observer,\n          module;\n      module = {\n        initialize: function () {\n          module.verbose('Initializing dimmer', $context);\n          module.create.id();\n          module.create.dimmer();\n          module.refreshModals();\n          module.bind.events();\n\n          if (settings.observeChanges) {\n            module.observeChanges();\n          }\n\n          module.instantiate();\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of modal');\n          instance = module;\n          $module.data(moduleNamespace, instance);\n        },\n        create: {\n          dimmer: function () {\n            var defaultSettings = {\n              debug: settings.debug,\n              variation: settings.centered ? false : 'top aligned',\n              dimmerName: 'modals'\n            },\n                dimmerSettings = $.extend(true, defaultSettings, settings.dimmerSettings);\n\n            if ($.fn.dimmer === undefined) {\n              module.error(error.dimmer);\n              return;\n            }\n\n            module.debug('Creating dimmer');\n            $dimmable = $context.dimmer(dimmerSettings);\n\n            if (settings.detachable) {\n              module.verbose('Modal is detachable, moving content into dimmer');\n              $dimmable.dimmer('add content', $module);\n            } else {\n              module.set.undetached();\n            }\n\n            $dimmer = $dimmable.dimmer('get dimmer');\n          },\n          id: function () {\n            id = (Math.random().toString(16) + '000000000').substr(2, 8);\n            elementEventNamespace = '.' + id;\n            module.verbose('Creating unique id for element', id);\n          }\n        },\n        destroy: function () {\n          module.verbose('Destroying previous modal');\n          $module.removeData(moduleNamespace).off(eventNamespace);\n          $window.off(elementEventNamespace);\n          $dimmer.off(elementEventNamespace);\n          $close.off(eventNamespace);\n          $context.dimmer('destroy');\n        },\n        observeChanges: function () {\n          if ('MutationObserver' in window) {\n            observer = new MutationObserver(function (mutations) {\n              module.debug('DOM tree modified, refreshing');\n              module.refresh();\n            });\n            observer.observe(element, {\n              childList: true,\n              subtree: true\n            });\n            module.debug('Setting up mutation observer', observer);\n          }\n        },\n        refresh: function () {\n          module.remove.scrolling();\n          module.cacheSizes();\n          module.set.screenHeight();\n          module.set.type();\n        },\n        refreshModals: function () {\n          $otherModals = $module.siblings(selector.modal);\n          $allModals = $otherModals.add($module);\n        },\n        attachEvents: function (selector, event) {\n          var $toggle = $(selector);\n          event = $.isFunction(module[event]) ? module[event] : module.toggle;\n\n          if ($toggle.length > 0) {\n            module.debug('Attaching modal events to element', selector, event);\n            $toggle.off(eventNamespace).on('click' + eventNamespace, event);\n          } else {\n            module.error(error.notFound, selector);\n          }\n        },\n        bind: {\n          events: function () {\n            module.verbose('Attaching events');\n            $module.on('click' + eventNamespace, selector.close, module.event.close).on('click' + eventNamespace, selector.approve, module.event.approve).on('click' + eventNamespace, selector.deny, module.event.deny);\n            $window.on('resize' + elementEventNamespace, module.event.resize);\n          }\n        },\n        get: {\n          id: function () {\n            return (Math.random().toString(16) + '000000000').substr(2, 8);\n          }\n        },\n        event: {\n          approve: function () {\n            if (ignoreRepeatedEvents || settings.onApprove.call(element, $(this)) === false) {\n              module.verbose('Approve callback returned false cancelling hide');\n              return;\n            }\n\n            ignoreRepeatedEvents = true;\n            module.hide(function () {\n              ignoreRepeatedEvents = false;\n            });\n          },\n          deny: function () {\n            if (ignoreRepeatedEvents || settings.onDeny.call(element, $(this)) === false) {\n              module.verbose('Deny callback returned false cancelling hide');\n              return;\n            }\n\n            ignoreRepeatedEvents = true;\n            module.hide(function () {\n              ignoreRepeatedEvents = false;\n            });\n          },\n          close: function () {\n            module.hide();\n          },\n          click: function (event) {\n            if (!settings.closable) {\n              module.verbose('Dimmer clicked but closable setting is disabled');\n              return;\n            }\n\n            var $target = $(event.target),\n                isInModal = $target.closest(selector.modal).length > 0,\n                isInDOM = $.contains(document.documentElement, event.target);\n\n            if (!isInModal && isInDOM && module.is.active()) {\n              module.debug('Dimmer clicked, hiding all modals');\n              module.remove.clickaway();\n\n              if (settings.allowMultiple) {\n                module.hide();\n              } else {\n                module.hideAll();\n              }\n            }\n          },\n          debounce: function (method, delay) {\n            clearTimeout(module.timer);\n            module.timer = setTimeout(method, delay);\n          },\n          keyboard: function (event) {\n            var keyCode = event.which,\n                escapeKey = 27;\n\n            if (keyCode == escapeKey) {\n              if (settings.closable) {\n                module.debug('Escape key pressed hiding modal');\n                module.hide();\n              } else {\n                module.debug('Escape key pressed, but closable is set to false');\n              }\n\n              event.preventDefault();\n            }\n          },\n          resize: function () {\n            if ($dimmable.dimmer('is active') && (module.is.animating() || module.is.active())) {\n              requestAnimationFrame(module.refresh);\n            }\n          }\n        },\n        toggle: function () {\n          if (module.is.active() || module.is.animating()) {\n            module.hide();\n          } else {\n            module.show();\n          }\n        },\n        show: function (callback) {\n          callback = $.isFunction(callback) ? callback : function () {};\n          module.refreshModals();\n          module.set.dimmerSettings();\n          module.showModal(callback);\n        },\n        hide: function (callback) {\n          callback = $.isFunction(callback) ? callback : function () {};\n          module.refreshModals();\n          module.hideModal(callback);\n        },\n        showModal: function (callback) {\n          callback = $.isFunction(callback) ? callback : function () {};\n\n          if (module.is.animating() || !module.is.active()) {\n            module.showDimmer();\n            module.cacheSizes();\n            module.set.screenHeight();\n            module.set.type();\n            module.set.clickaway();\n\n            if (!settings.allowMultiple && module.others.active()) {\n              module.hideOthers(module.showModal);\n            } else {\n              if (settings.allowMultiple && settings.detachable) {\n                $module.detach().appendTo($dimmer);\n              }\n\n              settings.onShow.call(element);\n\n              if (settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n                module.debug('Showing modal with css animations');\n                $module.transition({\n                  debug: settings.debug,\n                  animation: settings.transition + ' in',\n                  queue: settings.queue,\n                  duration: settings.duration,\n                  useFailSafe: true,\n                  onComplete: function () {\n                    settings.onVisible.apply(element);\n\n                    if (settings.keyboardShortcuts) {\n                      module.add.keyboardShortcuts();\n                    }\n\n                    module.save.focus();\n                    module.set.active();\n\n                    if (settings.autofocus) {\n                      module.set.autofocus();\n                    }\n\n                    callback();\n                  }\n                });\n              } else {\n                module.error(error.noTransition);\n              }\n            }\n          } else {\n            module.debug('Modal is already visible');\n          }\n        },\n        hideModal: function (callback, keepDimmed) {\n          callback = $.isFunction(callback) ? callback : function () {};\n          module.debug('Hiding modal');\n\n          if (settings.onHide.call(element, $(this)) === false) {\n            module.verbose('Hide callback returned false cancelling hide');\n            return;\n          }\n\n          if (module.is.animating() || module.is.active()) {\n            if (settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n              module.remove.active();\n              $module.transition({\n                debug: settings.debug,\n                animation: settings.transition + ' out',\n                queue: settings.queue,\n                duration: settings.duration,\n                useFailSafe: true,\n                onStart: function () {\n                  if (!module.others.active() && !keepDimmed) {\n                    module.hideDimmer();\n                  }\n\n                  if (settings.keyboardShortcuts) {\n                    module.remove.keyboardShortcuts();\n                  }\n                },\n                onComplete: function () {\n                  settings.onHidden.call(element);\n                  module.restore.focus();\n                  callback();\n                }\n              });\n            } else {\n              module.error(error.noTransition);\n            }\n          }\n        },\n        showDimmer: function () {\n          if ($dimmable.dimmer('is animating') || !$dimmable.dimmer('is active')) {\n            module.debug('Showing dimmer');\n            $dimmable.dimmer('show');\n          } else {\n            module.debug('Dimmer already visible');\n          }\n        },\n        hideDimmer: function () {\n          if ($dimmable.dimmer('is animating') || $dimmable.dimmer('is active')) {\n            $dimmable.dimmer('hide', function () {\n              module.remove.clickaway();\n              module.remove.screenHeight();\n            });\n          } else {\n            module.debug('Dimmer is not visible cannot hide');\n            return;\n          }\n        },\n        hideAll: function (callback) {\n          var $visibleModals = $allModals.filter('.' + className.active + ', .' + className.animating);\n          callback = $.isFunction(callback) ? callback : function () {};\n\n          if ($visibleModals.length > 0) {\n            module.debug('Hiding all visible modals');\n            module.hideDimmer();\n            $visibleModals.modal('hide modal', callback);\n          }\n        },\n        hideOthers: function (callback) {\n          var $visibleModals = $otherModals.filter('.' + className.active + ', .' + className.animating);\n          callback = $.isFunction(callback) ? callback : function () {};\n\n          if ($visibleModals.length > 0) {\n            module.debug('Hiding other modals', $otherModals);\n            $visibleModals.modal('hide modal', callback, true);\n          }\n        },\n        others: {\n          active: function () {\n            return $otherModals.filter('.' + className.active).length > 0;\n          },\n          animating: function () {\n            return $otherModals.filter('.' + className.animating).length > 0;\n          }\n        },\n        add: {\n          keyboardShortcuts: function () {\n            module.verbose('Adding keyboard shortcuts');\n            $document.on('keyup' + eventNamespace, module.event.keyboard);\n          }\n        },\n        save: {\n          focus: function () {\n            var $activeElement = $(document.activeElement),\n                inCurrentModal = $activeElement.closest($module).length > 0;\n\n            if (!inCurrentModal) {\n              $focusedElement = $(document.activeElement).blur();\n            }\n          }\n        },\n        restore: {\n          focus: function () {\n            if ($focusedElement && $focusedElement.length > 0) {\n              $focusedElement.focus();\n            }\n          }\n        },\n        remove: {\n          active: function () {\n            $module.removeClass(className.active);\n          },\n          clickaway: function () {\n            $dimmer.off('click' + elementEventNamespace);\n          },\n          bodyStyle: function () {\n            if ($body.attr('style') === '') {\n              module.verbose('Removing style attribute');\n              $body.removeAttr('style');\n            }\n          },\n          screenHeight: function () {\n            module.debug('Removing page height');\n            $body.css('height', '');\n          },\n          keyboardShortcuts: function () {\n            module.verbose('Removing keyboard shortcuts');\n            $document.off('keyup' + eventNamespace);\n          },\n          scrolling: function () {\n            $dimmable.removeClass(className.scrolling);\n            $module.removeClass(className.scrolling);\n          }\n        },\n        cacheSizes: function () {\n          $module.addClass(className.loading);\n          var scrollHeight = $module.prop('scrollHeight'),\n              modalHeight = $module.outerHeight();\n\n          if (module.cache === undefined || modalHeight !== 0) {\n            module.cache = {\n              pageHeight: $(document).outerHeight(),\n              height: modalHeight + settings.offset,\n              scrollHeight: scrollHeight + settings.offset,\n              contextHeight: settings.context == 'body' ? $(window).height() : $dimmable.height()\n            };\n            module.cache.topOffset = -(module.cache.height / 2);\n          }\n\n          $module.removeClass(className.loading);\n          module.debug('Caching modal and container sizes', module.cache);\n        },\n        can: {\n          fit: function () {\n            var contextHeight = module.cache.contextHeight,\n                verticalCenter = module.cache.contextHeight / 2,\n                topOffset = module.cache.topOffset,\n                scrollHeight = module.cache.scrollHeight,\n                height = module.cache.height,\n                paddingHeight = settings.padding,\n                startPosition = verticalCenter + topOffset;\n            return scrollHeight > height ? startPosition + scrollHeight + paddingHeight < contextHeight : height + paddingHeight * 2 < contextHeight;\n          }\n        },\n        is: {\n          active: function () {\n            return $module.hasClass(className.active);\n          },\n          animating: function () {\n            return $module.transition('is supported') ? $module.transition('is animating') : $module.is(':visible');\n          },\n          scrolling: function () {\n            return $dimmable.hasClass(className.scrolling);\n          },\n          modernBrowser: function () {\n            // appName for IE11 reports 'Netscape' can no longer use\n            return !(window.ActiveXObject || \"ActiveXObject\" in window);\n          }\n        },\n        set: {\n          autofocus: function () {\n            var $inputs = $module.find('[tabindex], :input').filter(':visible'),\n                $autofocus = $inputs.filter('[autofocus]'),\n                $input = $autofocus.length > 0 ? $autofocus.first() : $inputs.first();\n\n            if ($input.length > 0) {\n              $input.focus();\n            }\n          },\n          clickaway: function () {\n            $dimmer.on('click' + elementEventNamespace, module.event.click);\n          },\n          dimmerSettings: function () {\n            if ($.fn.dimmer === undefined) {\n              module.error(error.dimmer);\n              return;\n            }\n\n            var defaultSettings = {\n              debug: settings.debug,\n              dimmerName: 'modals',\n              closable: 'auto',\n              variation: settings.centered ? false : 'top aligned',\n              duration: {\n                show: settings.duration,\n                hide: settings.duration\n              }\n            },\n                dimmerSettings = $.extend(true, defaultSettings, settings.dimmerSettings);\n\n            if (settings.inverted) {\n              dimmerSettings.variation = dimmerSettings.variation !== undefined ? dimmerSettings.variation + ' inverted' : 'inverted';\n              $dimmer.addClass(className.inverted);\n            } else {\n              $dimmer.removeClass(className.inverted);\n            }\n\n            if (settings.blurring) {\n              $dimmable.addClass(className.blurring);\n            } else {\n              $dimmable.removeClass(className.blurring);\n            }\n\n            $context.dimmer('setting', dimmerSettings);\n          },\n          screenHeight: function () {\n            if (module.can.fit()) {\n              $body.css('height', '');\n            } else {\n              module.debug('Modal is taller than page content, resizing page height');\n              $body.css('height', module.cache.height + settings.padding * 2);\n            }\n          },\n          active: function () {\n            $module.addClass(className.active);\n          },\n          scrolling: function () {\n            $dimmable.addClass(className.scrolling);\n            $module.addClass(className.scrolling);\n          },\n          type: function () {\n            if (module.can.fit()) {\n              module.verbose('Modal fits on screen');\n\n              if (!module.others.active() && !module.others.animating()) {\n                module.remove.scrolling();\n              }\n            } else {\n              module.verbose('Modal cannot fit on screen setting to scrolling');\n              module.set.scrolling();\n            }\n          },\n          undetached: function () {\n            $dimmable.addClass(className.undetached);\n          }\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.modal.settings = {\n    name: 'Modal',\n    namespace: 'modal',\n    silent: false,\n    debug: false,\n    verbose: false,\n    performance: true,\n    observeChanges: false,\n    allowMultiple: false,\n    detachable: true,\n    closable: true,\n    autofocus: true,\n    inverted: false,\n    blurring: false,\n    centered: true,\n    dimmerSettings: {\n      closable: false,\n      useCSS: true\n    },\n    // whether to use keyboard shortcuts\n    keyboardShortcuts: true,\n    context: 'body',\n    queue: false,\n    duration: 500,\n    offset: 0,\n    transition: 'scale',\n    // padding with edge of page\n    padding: 50,\n    // called before show animation\n    onShow: function () {},\n    // called after show animation\n    onVisible: function () {},\n    // called before hide animation\n    onHide: function () {\n      return true;\n    },\n    // called after hide animation\n    onHidden: function () {},\n    // called after approve selector match\n    onApprove: function () {\n      return true;\n    },\n    // called after deny selector match\n    onDeny: function () {\n      return true;\n    },\n    selector: {\n      close: '> .close',\n      approve: '.actions .positive, .actions .approve, .actions .ok',\n      deny: '.actions .negative, .actions .deny, .actions .cancel',\n      modal: '.ui.modal'\n    },\n    error: {\n      dimmer: 'UI Dimmer, a required component is not included in this page',\n      method: 'The method you called is not defined.',\n      notFound: 'The element you specified could not be found'\n    },\n    className: {\n      active: 'active',\n      animating: 'animating',\n      blurring: 'blurring',\n      inverted: 'inverted',\n      loading: 'loading',\n      scrolling: 'scrolling',\n      undetached: 'undetached'\n    }\n  };\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"nag.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/modules/nag.js                                                                             //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * # Semantic UI - Nag\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.nag = function (parameters) {\n    var $allModules = $(this),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue;\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.nag.settings, parameters) : $.extend({}, $.fn.nag.settings),\n          className = settings.className,\n          selector = settings.selector,\n          error = settings.error,\n          namespace = settings.namespace,\n          eventNamespace = '.' + namespace,\n          moduleNamespace = namespace + '-module',\n          $module = $(this),\n          $close = $module.find(selector.close),\n          $context = settings.context ? $(settings.context) : $('body'),\n          element = this,\n          instance = $module.data(moduleNamespace),\n          moduleOffset,\n          moduleHeight,\n          contextWidth,\n          contextHeight,\n          contextOffset,\n          yOffset,\n          yPosition,\n          timer,\n          module,\n          requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {\n        setTimeout(callback, 0);\n      };\n\n      module = {\n        initialize: function () {\n          module.verbose('Initializing element');\n          $module.on('click' + eventNamespace, selector.close, module.dismiss).data(moduleNamespace, module);\n\n          if (settings.detachable && $module.parent()[0] !== $context[0]) {\n            $module.detach().prependTo($context);\n          }\n\n          if (settings.displayTime > 0) {\n            setTimeout(module.hide, settings.displayTime);\n          }\n\n          module.show();\n        },\n        destroy: function () {\n          module.verbose('Destroying instance');\n          $module.removeData(moduleNamespace).off(eventNamespace);\n        },\n        show: function () {\n          if (module.should.show() && !$module.is(':visible')) {\n            module.debug('Showing nag', settings.animation.show);\n\n            if (settings.animation.show == 'fade') {\n              $module.fadeIn(settings.duration, settings.easing);\n            } else {\n              $module.slideDown(settings.duration, settings.easing);\n            }\n          }\n        },\n        hide: function () {\n          module.debug('Showing nag', settings.animation.hide);\n\n          if (settings.animation.show == 'fade') {\n            $module.fadeIn(settings.duration, settings.easing);\n          } else {\n            $module.slideUp(settings.duration, settings.easing);\n          }\n        },\n        onHide: function () {\n          module.debug('Removing nag', settings.animation.hide);\n          $module.remove();\n\n          if (settings.onHide) {\n            settings.onHide();\n          }\n        },\n        dismiss: function (event) {\n          if (settings.storageMethod) {\n            module.storage.set(settings.key, settings.value);\n          }\n\n          module.hide();\n          event.stopImmediatePropagation();\n          event.preventDefault();\n        },\n        should: {\n          show: function () {\n            if (settings.persist) {\n              module.debug('Persistent nag is set, can show nag');\n              return true;\n            }\n\n            if (module.storage.get(settings.key) != settings.value.toString()) {\n              module.debug('Stored value is not set, can show nag', module.storage.get(settings.key));\n              return true;\n            }\n\n            module.debug('Stored value is set, cannot show nag', module.storage.get(settings.key));\n            return false;\n          }\n        },\n        get: {\n          storageOptions: function () {\n            var options = {};\n\n            if (settings.expires) {\n              options.expires = settings.expires;\n            }\n\n            if (settings.domain) {\n              options.domain = settings.domain;\n            }\n\n            if (settings.path) {\n              options.path = settings.path;\n            }\n\n            return options;\n          }\n        },\n        clear: function () {\n          module.storage.remove(settings.key);\n        },\n        storage: {\n          set: function (key, value) {\n            var options = module.get.storageOptions();\n\n            if (settings.storageMethod == 'localstorage' && window.localStorage !== undefined) {\n              window.localStorage.setItem(key, value);\n              module.debug('Value stored using local storage', key, value);\n            } else if (settings.storageMethod == 'sessionstorage' && window.sessionStorage !== undefined) {\n              window.sessionStorage.setItem(key, value);\n              module.debug('Value stored using session storage', key, value);\n            } else if ($.cookie !== undefined) {\n              $.cookie(key, value, options);\n              module.debug('Value stored using cookie', key, value, options);\n            } else {\n              module.error(error.noCookieStorage);\n              return;\n            }\n          },\n          get: function (key, value) {\n            var storedValue;\n\n            if (settings.storageMethod == 'localstorage' && window.localStorage !== undefined) {\n              storedValue = window.localStorage.getItem(key);\n            } else if (settings.storageMethod == 'sessionstorage' && window.sessionStorage !== undefined) {\n              storedValue = window.sessionStorage.getItem(key);\n            } // get by cookie\n            else if ($.cookie !== undefined) {\n                storedValue = $.cookie(key);\n              } else {\n                module.error(error.noCookieStorage);\n              }\n\n            if (storedValue == 'undefined' || storedValue == 'null' || storedValue === undefined || storedValue === null) {\n              storedValue = undefined;\n            }\n\n            return storedValue;\n          },\n          remove: function (key) {\n            var options = module.get.storageOptions();\n\n            if (settings.storageMethod == 'localstorage' && window.localStorage !== undefined) {\n              window.localStorage.removeItem(key);\n            } else if (settings.storageMethod == 'sessionstorage' && window.sessionStorage !== undefined) {\n              window.sessionStorage.removeItem(key);\n            } // store by cookie\n            else if ($.cookie !== undefined) {\n                $.removeCookie(key, options);\n              } else {\n                module.error(error.noStorage);\n              }\n          }\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.nag.settings = {\n    name: 'Nag',\n    silent: false,\n    debug: false,\n    verbose: false,\n    performance: true,\n    namespace: 'Nag',\n    // allows cookie to be overridden\n    persist: false,\n    // set to zero to require manually dismissal, otherwise hides on its own\n    displayTime: 0,\n    animation: {\n      show: 'slide',\n      hide: 'slide'\n    },\n    context: false,\n    detachable: false,\n    expires: 30,\n    domain: false,\n    path: '/',\n    // type of storage to use\n    storageMethod: 'cookie',\n    // value to store in dismissed localstorage/cookie\n    key: 'nag',\n    value: 'dismiss',\n    error: {\n      noCookieStorage: '$.cookie is not included. A storage solution is required.',\n      noStorage: 'Neither $.cookie or store is defined. A storage solution is required for storing state',\n      method: 'The method you called is not defined.'\n    },\n    className: {\n      bottom: 'bottom',\n      fixed: 'fixed'\n    },\n    selector: {\n      close: '.close.icon'\n    },\n    speed: 500,\n    easing: 'easeOutQuad',\n    onHide: function () {}\n  }; // Adds easing\n\n  $.extend($.easing, {\n    easeOutQuad: function (x, t, b, c, d) {\n      return -c * (t /= d) * (t - 2) + b;\n    }\n  });\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"popup.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/modules/popup.js                                                                           //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\n/*!\n * # Semantic UI - Popup\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.popup = function (parameters) {\n    var $allModules = $(this),\n        $document = $(document),\n        $window = $(window),\n        $body = $('body'),\n        moduleSelector = $allModules.selector || '',\n        hasTouch = true,\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue;\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.popup.settings, parameters) : $.extend({}, $.fn.popup.settings),\n          selector = settings.selector,\n          className = settings.className,\n          error = settings.error,\n          metadata = settings.metadata,\n          namespace = settings.namespace,\n          eventNamespace = '.' + settings.namespace,\n          moduleNamespace = 'module-' + namespace,\n          $module = $(this),\n          $context = $(settings.context),\n          $scrollContext = $(settings.scrollContext),\n          $boundary = $(settings.boundary),\n          $target = settings.target ? $(settings.target) : $module,\n          $popup,\n          $offsetParent,\n          searchDepth = 0,\n          triedPositions = false,\n          openedWithTouch = false,\n          element = this,\n          instance = $module.data(moduleNamespace),\n          documentObserver,\n          elementNamespace,\n          id,\n          module;\n      module = {\n        // binds events\n        initialize: function () {\n          module.debug('Initializing', $module);\n          module.createID();\n          module.bind.events();\n\n          if (!module.exists() && settings.preserve) {\n            module.create();\n          }\n\n          if (settings.observeChanges) {\n            module.observeChanges();\n          }\n\n          module.instantiate();\n        },\n        instantiate: function () {\n          module.verbose('Storing instance', module);\n          instance = module;\n          $module.data(moduleNamespace, instance);\n        },\n        observeChanges: function () {\n          if ('MutationObserver' in window) {\n            documentObserver = new MutationObserver(module.event.documentChanged);\n            documentObserver.observe(document, {\n              childList: true,\n              subtree: true\n            });\n            module.debug('Setting up mutation observer', documentObserver);\n          }\n        },\n        refresh: function () {\n          if (settings.popup) {\n            $popup = $(settings.popup).eq(0);\n          } else {\n            if (settings.inline) {\n              $popup = $target.nextAll(selector.popup).eq(0);\n              settings.popup = $popup;\n            }\n          }\n\n          if (settings.popup) {\n            $popup.addClass(className.loading);\n            $offsetParent = module.get.offsetParent();\n            $popup.removeClass(className.loading);\n\n            if (settings.movePopup && module.has.popup() && module.get.offsetParent($popup)[0] !== $offsetParent[0]) {\n              module.debug('Moving popup to the same offset parent as target');\n              $popup.detach().appendTo($offsetParent);\n            }\n          } else {\n            $offsetParent = settings.inline ? module.get.offsetParent($target) : module.has.popup() ? module.get.offsetParent($popup) : $body;\n          }\n\n          if ($offsetParent.is('html') && $offsetParent[0] !== $body[0]) {\n            module.debug('Setting page as offset parent');\n            $offsetParent = $body;\n          }\n\n          if (module.get.variation()) {\n            module.set.variation();\n          }\n        },\n        reposition: function () {\n          module.refresh();\n          module.set.position();\n        },\n        destroy: function () {\n          module.debug('Destroying previous module');\n\n          if (documentObserver) {\n            documentObserver.disconnect();\n          } // remove element only if was created dynamically\n\n\n          if ($popup && !settings.preserve) {\n            module.removePopup();\n          } // clear all timeouts\n\n\n          clearTimeout(module.hideTimer);\n          clearTimeout(module.showTimer); // remove events\n\n          module.unbind.close();\n          module.unbind.events();\n          $module.removeData(moduleNamespace);\n        },\n        event: {\n          start: function (event) {\n            var delay = $.isPlainObject(settings.delay) ? settings.delay.show : settings.delay;\n            clearTimeout(module.hideTimer);\n\n            if (!openedWithTouch) {\n              module.showTimer = setTimeout(module.show, delay);\n            }\n          },\n          end: function () {\n            var delay = $.isPlainObject(settings.delay) ? settings.delay.hide : settings.delay;\n            clearTimeout(module.showTimer);\n            module.hideTimer = setTimeout(module.hide, delay);\n          },\n          touchstart: function (event) {\n            openedWithTouch = true;\n            module.show();\n          },\n          resize: function () {\n            if (module.is.visible()) {\n              module.set.position();\n            }\n          },\n          documentChanged: function (mutations) {\n            [].forEach.call(mutations, function (mutation) {\n              if (mutation.removedNodes) {\n                [].forEach.call(mutation.removedNodes, function (node) {\n                  if (node == element || $(node).find(element).length > 0) {\n                    module.debug('Element removed from DOM, tearing down events');\n                    module.destroy();\n                  }\n                });\n              }\n            });\n          },\n          hideGracefully: function (event) {\n            var $target = $(event.target),\n                isInDOM = $.contains(document.documentElement, event.target),\n                inPopup = $target.closest(selector.popup).length > 0; // don't close on clicks inside popup\n\n            if (event && !inPopup && isInDOM) {\n              module.debug('Click occurred outside popup hiding popup');\n              module.hide();\n            } else {\n              module.debug('Click was inside popup, keeping popup open');\n            }\n          }\n        },\n        // generates popup html from metadata\n        create: function () {\n          var html = module.get.html(),\n              title = module.get.title(),\n              content = module.get.content();\n\n          if (html || content || title) {\n            module.debug('Creating pop-up html');\n\n            if (!html) {\n              html = settings.templates.popup({\n                title: title,\n                content: content\n              });\n            }\n\n            $popup = $('<div/>').addClass(className.popup).data(metadata.activator, $module).html(html);\n\n            if (settings.inline) {\n              module.verbose('Inserting popup element inline', $popup);\n              $popup.insertAfter($module);\n            } else {\n              module.verbose('Appending popup element to body', $popup);\n              $popup.appendTo($context);\n            }\n\n            module.refresh();\n            module.set.variation();\n\n            if (settings.hoverable) {\n              module.bind.popup();\n            }\n\n            settings.onCreate.call($popup, element);\n          } else if ($target.next(selector.popup).length !== 0) {\n            module.verbose('Pre-existing popup found');\n            settings.inline = true;\n            settings.popup = $target.next(selector.popup).data(metadata.activator, $module);\n            module.refresh();\n\n            if (settings.hoverable) {\n              module.bind.popup();\n            }\n          } else if (settings.popup) {\n            $(settings.popup).data(metadata.activator, $module);\n            module.verbose('Used popup specified in settings');\n            module.refresh();\n\n            if (settings.hoverable) {\n              module.bind.popup();\n            }\n          } else {\n            module.debug('No content specified skipping display', element);\n          }\n        },\n        createID: function () {\n          id = (Math.random().toString(16) + '000000000').substr(2, 8);\n          elementNamespace = '.' + id;\n          module.verbose('Creating unique id for element', id);\n        },\n        // determines popup state\n        toggle: function () {\n          module.debug('Toggling pop-up');\n\n          if (module.is.hidden()) {\n            module.debug('Popup is hidden, showing pop-up');\n            module.unbind.close();\n            module.show();\n          } else {\n            module.debug('Popup is visible, hiding pop-up');\n            module.hide();\n          }\n        },\n        show: function (callback) {\n          callback = callback || function () {};\n\n          module.debug('Showing pop-up', settings.transition);\n\n          if (module.is.hidden() && !(module.is.active() && module.is.dropdown())) {\n            if (!module.exists()) {\n              module.create();\n            }\n\n            if (settings.onShow.call($popup, element) === false) {\n              module.debug('onShow callback returned false, cancelling popup animation');\n              return;\n            } else if (!settings.preserve && !settings.popup) {\n              module.refresh();\n            }\n\n            if ($popup && module.set.position()) {\n              module.save.conditions();\n\n              if (settings.exclusive) {\n                module.hideAll();\n              }\n\n              module.animate.show(callback);\n            }\n          }\n        },\n        hide: function (callback) {\n          callback = callback || function () {};\n\n          if (module.is.visible() || module.is.animating()) {\n            if (settings.onHide.call($popup, element) === false) {\n              module.debug('onHide callback returned false, cancelling popup animation');\n              return;\n            }\n\n            module.remove.visible();\n            module.unbind.close();\n            module.restore.conditions();\n            module.animate.hide(callback);\n          }\n        },\n        hideAll: function () {\n          $(selector.popup).filter('.' + className.popupVisible).each(function () {\n            $(this).data(metadata.activator).popup('hide');\n          });\n        },\n        exists: function () {\n          if (!$popup) {\n            return false;\n          }\n\n          if (settings.inline || settings.popup) {\n            return module.has.popup();\n          } else {\n            return $popup.closest($context).length >= 1 ? true : false;\n          }\n        },\n        removePopup: function () {\n          if (module.has.popup() && !settings.popup) {\n            module.debug('Removing popup', $popup);\n            $popup.remove();\n            $popup = undefined;\n            settings.onRemove.call($popup, element);\n          }\n        },\n        save: {\n          conditions: function () {\n            module.cache = {\n              title: $module.attr('title')\n            };\n\n            if (module.cache.title) {\n              $module.removeAttr('title');\n            }\n\n            module.verbose('Saving original attributes', module.cache.title);\n          }\n        },\n        restore: {\n          conditions: function () {\n            if (module.cache && module.cache.title) {\n              $module.attr('title', module.cache.title);\n              module.verbose('Restoring original attributes', module.cache.title);\n            }\n\n            return true;\n          }\n        },\n        supports: {\n          svg: function () {\n            return typeof SVGGraphicsElement === 'undefined';\n          }\n        },\n        animate: {\n          show: function (callback) {\n            callback = $.isFunction(callback) ? callback : function () {};\n\n            if (settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n              module.set.visible();\n              $popup.transition({\n                animation: settings.transition + ' in',\n                queue: false,\n                debug: settings.debug,\n                verbose: settings.verbose,\n                duration: settings.duration,\n                onComplete: function () {\n                  module.bind.close();\n                  callback.call($popup, element);\n                  settings.onVisible.call($popup, element);\n                }\n              });\n            } else {\n              module.error(error.noTransition);\n            }\n          },\n          hide: function (callback) {\n            callback = $.isFunction(callback) ? callback : function () {};\n            module.debug('Hiding pop-up');\n\n            if (settings.onHide.call($popup, element) === false) {\n              module.debug('onHide callback returned false, cancelling popup animation');\n              return;\n            }\n\n            if (settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n              $popup.transition({\n                animation: settings.transition + ' out',\n                queue: false,\n                duration: settings.duration,\n                debug: settings.debug,\n                verbose: settings.verbose,\n                onComplete: function () {\n                  module.reset();\n                  callback.call($popup, element);\n                  settings.onHidden.call($popup, element);\n                }\n              });\n            } else {\n              module.error(error.noTransition);\n            }\n          }\n        },\n        change: {\n          content: function (html) {\n            $popup.html(html);\n          }\n        },\n        get: {\n          html: function () {\n            $module.removeData(metadata.html);\n            return $module.data(metadata.html) || settings.html;\n          },\n          title: function () {\n            $module.removeData(metadata.title);\n            return $module.data(metadata.title) || settings.title;\n          },\n          content: function () {\n            $module.removeData(metadata.content);\n            return $module.data(metadata.content) || settings.content || $module.attr('title');\n          },\n          variation: function () {\n            $module.removeData(metadata.variation);\n            return $module.data(metadata.variation) || settings.variation;\n          },\n          popup: function () {\n            return $popup;\n          },\n          popupOffset: function () {\n            return $popup.offset();\n          },\n          calculations: function () {\n            var $popupOffsetParent = module.get.offsetParent($popup),\n                targetElement = $target[0],\n                isWindow = $boundary[0] == window,\n                targetPosition = settings.inline || settings.popup && settings.movePopup ? $target.position() : $target.offset(),\n                screenPosition = isWindow ? {\n              top: 0,\n              left: 0\n            } : $boundary.offset(),\n                calculations = {},\n                scroll = isWindow ? {\n              top: $window.scrollTop(),\n              left: $window.scrollLeft()\n            } : {\n              top: 0,\n              left: 0\n            },\n                screen;\n            calculations = {\n              // element which is launching popup\n              target: {\n                element: $target[0],\n                width: $target.outerWidth(),\n                height: $target.outerHeight(),\n                top: targetPosition.top,\n                left: targetPosition.left,\n                margin: {}\n              },\n              // popup itself\n              popup: {\n                width: $popup.outerWidth(),\n                height: $popup.outerHeight()\n              },\n              // offset container (or 3d context)\n              parent: {\n                width: $offsetParent.outerWidth(),\n                height: $offsetParent.outerHeight()\n              },\n              // screen boundaries\n              screen: {\n                top: screenPosition.top,\n                left: screenPosition.left,\n                scroll: {\n                  top: scroll.top,\n                  left: scroll.left\n                },\n                width: $boundary.width(),\n                height: $boundary.height()\n              }\n            }; // if popup offset context is not same as target, then adjust calculations\n\n            if ($popupOffsetParent.get(0) !== $offsetParent.get(0)) {\n              var popupOffset = $popupOffsetParent.offset();\n              calculations.target.top -= popupOffset.top;\n              calculations.target.left -= popupOffset.left;\n              calculations.parent.width = $popupOffsetParent.outerWidth();\n              calculations.parent.height = $popupOffsetParent.outerHeight();\n            } // add in container calcs if fluid\n\n\n            if (settings.setFluidWidth && module.is.fluid()) {\n              calculations.container = {\n                width: $popup.parent().outerWidth()\n              };\n              calculations.popup.width = calculations.container.width;\n            } // add in margins if inline\n\n\n            calculations.target.margin.top = settings.inline ? parseInt(window.getComputedStyle(targetElement).getPropertyValue('margin-top'), 10) : 0;\n            calculations.target.margin.left = settings.inline ? module.is.rtl() ? parseInt(window.getComputedStyle(targetElement).getPropertyValue('margin-right'), 10) : parseInt(window.getComputedStyle(targetElement).getPropertyValue('margin-left'), 10) : 0; // calculate screen boundaries\n\n            screen = calculations.screen;\n            calculations.boundary = {\n              top: screen.top + screen.scroll.top,\n              bottom: screen.top + screen.scroll.top + screen.height,\n              left: screen.left + screen.scroll.left,\n              right: screen.left + screen.scroll.left + screen.width\n            };\n            return calculations;\n          },\n          id: function () {\n            return id;\n          },\n          startEvent: function () {\n            if (settings.on == 'hover') {\n              return 'mouseenter';\n            } else if (settings.on == 'focus') {\n              return 'focus';\n            }\n\n            return false;\n          },\n          scrollEvent: function () {\n            return 'scroll';\n          },\n          endEvent: function () {\n            if (settings.on == 'hover') {\n              return 'mouseleave';\n            } else if (settings.on == 'focus') {\n              return 'blur';\n            }\n\n            return false;\n          },\n          distanceFromBoundary: function (offset, calculations) {\n            var distanceFromBoundary = {},\n                popup,\n                boundary;\n            calculations = calculations || module.get.calculations(); // shorthand\n\n            popup = calculations.popup;\n            boundary = calculations.boundary;\n\n            if (offset) {\n              distanceFromBoundary = {\n                top: offset.top - boundary.top,\n                left: offset.left - boundary.left,\n                right: boundary.right - (offset.left + popup.width),\n                bottom: boundary.bottom - (offset.top + popup.height)\n              };\n              module.verbose('Distance from boundaries determined', offset, distanceFromBoundary);\n            }\n\n            return distanceFromBoundary;\n          },\n          offsetParent: function ($element) {\n            var element = $element !== undefined ? $element[0] : $target[0],\n                parentNode = element.parentNode,\n                $node = $(parentNode);\n\n            if (parentNode) {\n              var is2D = $node.css('transform') === 'none',\n                  isStatic = $node.css('position') === 'static',\n                  isBody = $node.is('body');\n\n              while (parentNode && !isBody && isStatic && is2D) {\n                parentNode = parentNode.parentNode;\n                $node = $(parentNode);\n                is2D = $node.css('transform') === 'none';\n                isStatic = $node.css('position') === 'static';\n                isBody = $node.is('body');\n              }\n            }\n\n            return $node && $node.length > 0 ? $node : $();\n          },\n          positions: function () {\n            return {\n              'top left': false,\n              'top center': false,\n              'top right': false,\n              'bottom left': false,\n              'bottom center': false,\n              'bottom right': false,\n              'left center': false,\n              'right center': false\n            };\n          },\n          nextPosition: function (position) {\n            var positions = position.split(' '),\n                verticalPosition = positions[0],\n                horizontalPosition = positions[1],\n                opposite = {\n              top: 'bottom',\n              bottom: 'top',\n              left: 'right',\n              right: 'left'\n            },\n                adjacent = {\n              left: 'center',\n              center: 'right',\n              right: 'left'\n            },\n                backup = {\n              'top left': 'top center',\n              'top center': 'top right',\n              'top right': 'right center',\n              'right center': 'bottom right',\n              'bottom right': 'bottom center',\n              'bottom center': 'bottom left',\n              'bottom left': 'left center',\n              'left center': 'top left'\n            },\n                adjacentsAvailable = verticalPosition == 'top' || verticalPosition == 'bottom',\n                oppositeTried = false,\n                adjacentTried = false,\n                nextPosition = false;\n\n            if (!triedPositions) {\n              module.verbose('All available positions available');\n              triedPositions = module.get.positions();\n            }\n\n            module.debug('Recording last position tried', position);\n            triedPositions[position] = true;\n\n            if (settings.prefer === 'opposite') {\n              nextPosition = [opposite[verticalPosition], horizontalPosition];\n              nextPosition = nextPosition.join(' ');\n              oppositeTried = triedPositions[nextPosition] === true;\n              module.debug('Trying opposite strategy', nextPosition);\n            }\n\n            if (settings.prefer === 'adjacent' && adjacentsAvailable) {\n              nextPosition = [verticalPosition, adjacent[horizontalPosition]];\n              nextPosition = nextPosition.join(' ');\n              adjacentTried = triedPositions[nextPosition] === true;\n              module.debug('Trying adjacent strategy', nextPosition);\n            }\n\n            if (adjacentTried || oppositeTried) {\n              module.debug('Using backup position', nextPosition);\n              nextPosition = backup[position];\n            }\n\n            return nextPosition;\n          }\n        },\n        set: {\n          position: function (position, calculations) {\n            // exit conditions\n            if ($target.length === 0 || $popup.length === 0) {\n              module.error(error.notFound);\n              return;\n            }\n\n            var offset, distanceAway, target, popup, parent, positioning, popupOffset, distanceFromBoundary;\n            calculations = calculations || module.get.calculations();\n            position = position || $module.data(metadata.position) || settings.position;\n            offset = $module.data(metadata.offset) || settings.offset;\n            distanceAway = settings.distanceAway; // shorthand\n\n            target = calculations.target;\n            popup = calculations.popup;\n            parent = calculations.parent;\n\n            if (module.should.centerArrow(calculations)) {\n              module.verbose('Adjusting offset to center arrow on small target element');\n\n              if (position == 'top left' || position == 'bottom left') {\n                offset += target.width / 2;\n                offset -= settings.arrowPixelsFromEdge;\n              }\n\n              if (position == 'top right' || position == 'bottom right') {\n                offset -= target.width / 2;\n                offset += settings.arrowPixelsFromEdge;\n              }\n            }\n\n            if (target.width === 0 && target.height === 0 && !module.is.svg(target.element)) {\n              module.debug('Popup target is hidden, no action taken');\n              return false;\n            }\n\n            if (settings.inline) {\n              module.debug('Adding margin to calculation', target.margin);\n\n              if (position == 'left center' || position == 'right center') {\n                offset += target.margin.top;\n                distanceAway += -target.margin.left;\n              } else if (position == 'top left' || position == 'top center' || position == 'top right') {\n                offset += target.margin.left;\n                distanceAway -= target.margin.top;\n              } else {\n                offset += target.margin.left;\n                distanceAway += target.margin.top;\n              }\n            }\n\n            module.debug('Determining popup position from calculations', position, calculations);\n\n            if (module.is.rtl()) {\n              position = position.replace(/left|right/g, function (match) {\n                return match == 'left' ? 'right' : 'left';\n              });\n              module.debug('RTL: Popup position updated', position);\n            } // if last attempt use specified last resort position\n\n\n            if (searchDepth == settings.maxSearchDepth && typeof settings.lastResort === 'string') {\n              position = settings.lastResort;\n            }\n\n            switch (position) {\n              case 'top left':\n                positioning = {\n                  top: 'auto',\n                  bottom: parent.height - target.top + distanceAway,\n                  left: target.left + offset,\n                  right: 'auto'\n                };\n                break;\n\n              case 'top center':\n                positioning = {\n                  bottom: parent.height - target.top + distanceAway,\n                  left: target.left + target.width / 2 - popup.width / 2 + offset,\n                  top: 'auto',\n                  right: 'auto'\n                };\n                break;\n\n              case 'top right':\n                positioning = {\n                  bottom: parent.height - target.top + distanceAway,\n                  right: parent.width - target.left - target.width - offset,\n                  top: 'auto',\n                  left: 'auto'\n                };\n                break;\n\n              case 'left center':\n                positioning = {\n                  top: target.top + target.height / 2 - popup.height / 2 + offset,\n                  right: parent.width - target.left + distanceAway,\n                  left: 'auto',\n                  bottom: 'auto'\n                };\n                break;\n\n              case 'right center':\n                positioning = {\n                  top: target.top + target.height / 2 - popup.height / 2 + offset,\n                  left: target.left + target.width + distanceAway,\n                  bottom: 'auto',\n                  right: 'auto'\n                };\n                break;\n\n              case 'bottom left':\n                positioning = {\n                  top: target.top + target.height + distanceAway,\n                  left: target.left + offset,\n                  bottom: 'auto',\n                  right: 'auto'\n                };\n                break;\n\n              case 'bottom center':\n                positioning = {\n                  top: target.top + target.height + distanceAway,\n                  left: target.left + target.width / 2 - popup.width / 2 + offset,\n                  bottom: 'auto',\n                  right: 'auto'\n                };\n                break;\n\n              case 'bottom right':\n                positioning = {\n                  top: target.top + target.height + distanceAway,\n                  right: parent.width - target.left - target.width - offset,\n                  left: 'auto',\n                  bottom: 'auto'\n                };\n                break;\n            }\n\n            if (positioning === undefined) {\n              module.error(error.invalidPosition, position);\n            }\n\n            module.debug('Calculated popup positioning values', positioning); // tentatively place on stage\n\n            $popup.css(positioning).removeClass(className.position).addClass(position).addClass(className.loading);\n            popupOffset = module.get.popupOffset(); // see if any boundaries are surpassed with this tentative position\n\n            distanceFromBoundary = module.get.distanceFromBoundary(popupOffset, calculations);\n\n            if (module.is.offstage(distanceFromBoundary, position)) {\n              module.debug('Position is outside viewport', position);\n\n              if (searchDepth < settings.maxSearchDepth) {\n                searchDepth++;\n                position = module.get.nextPosition(position);\n                module.debug('Trying new position', position);\n                return $popup ? module.set.position(position, calculations) : false;\n              } else {\n                if (settings.lastResort) {\n                  module.debug('No position found, showing with last position');\n                } else {\n                  module.debug('Popup could not find a position to display', $popup);\n                  module.error(error.cannotPlace, element);\n                  module.remove.attempts();\n                  module.remove.loading();\n                  module.reset();\n                  settings.onUnplaceable.call($popup, element);\n                  return false;\n                }\n              }\n            }\n\n            module.debug('Position is on stage', position);\n            module.remove.attempts();\n            module.remove.loading();\n\n            if (settings.setFluidWidth && module.is.fluid()) {\n              module.set.fluidWidth(calculations);\n            }\n\n            return true;\n          },\n          fluidWidth: function (calculations) {\n            calculations = calculations || module.get.calculations();\n            module.debug('Automatically setting element width to parent width', calculations.parent.width);\n            $popup.css('width', calculations.container.width);\n          },\n          variation: function (variation) {\n            variation = variation || module.get.variation();\n\n            if (variation && module.has.popup()) {\n              module.verbose('Adding variation to popup', variation);\n              $popup.addClass(variation);\n            }\n          },\n          visible: function () {\n            $module.addClass(className.visible);\n          }\n        },\n        remove: {\n          loading: function () {\n            $popup.removeClass(className.loading);\n          },\n          variation: function (variation) {\n            variation = variation || module.get.variation();\n\n            if (variation) {\n              module.verbose('Removing variation', variation);\n              $popup.removeClass(variation);\n            }\n          },\n          visible: function () {\n            $module.removeClass(className.visible);\n          },\n          attempts: function () {\n            module.verbose('Resetting all searched positions');\n            searchDepth = 0;\n            triedPositions = false;\n          }\n        },\n        bind: {\n          events: function () {\n            module.debug('Binding popup events to module');\n\n            if (settings.on == 'click') {\n              $module.on('click' + eventNamespace, module.toggle);\n            }\n\n            if (settings.on == 'hover' && hasTouch) {\n              $module.on('touchstart' + eventNamespace, module.event.touchstart);\n            }\n\n            if (module.get.startEvent()) {\n              $module.on(module.get.startEvent() + eventNamespace, module.event.start).on(module.get.endEvent() + eventNamespace, module.event.end);\n            }\n\n            if (settings.target) {\n              module.debug('Target set to element', $target);\n            }\n\n            $window.on('resize' + elementNamespace, module.event.resize);\n          },\n          popup: function () {\n            module.verbose('Allowing hover events on popup to prevent closing');\n\n            if ($popup && module.has.popup()) {\n              $popup.on('mouseenter' + eventNamespace, module.event.start).on('mouseleave' + eventNamespace, module.event.end);\n            }\n          },\n          close: function () {\n            if (settings.hideOnScroll === true || settings.hideOnScroll == 'auto' && settings.on != 'click') {\n              module.bind.closeOnScroll();\n            }\n\n            if (settings.on == 'hover' && openedWithTouch) {\n              module.bind.touchClose();\n            }\n\n            if (settings.on == 'click' && settings.closable) {\n              module.bind.clickaway();\n            }\n          },\n          closeOnScroll: function () {\n            module.verbose('Binding scroll close event to document');\n            $scrollContext.one(module.get.scrollEvent() + elementNamespace, module.event.hideGracefully);\n          },\n          touchClose: function () {\n            module.verbose('Binding popup touchclose event to document');\n            $document.on('touchstart' + elementNamespace, function (event) {\n              module.verbose('Touched away from popup');\n              module.event.hideGracefully.call(element, event);\n            });\n          },\n          clickaway: function () {\n            module.verbose('Binding popup close event to document');\n            $document.on('click' + elementNamespace, function (event) {\n              module.verbose('Clicked away from popup');\n              module.event.hideGracefully.call(element, event);\n            });\n          }\n        },\n        unbind: {\n          events: function () {\n            $window.off(elementNamespace);\n            $module.off(eventNamespace);\n          },\n          close: function () {\n            $document.off(elementNamespace);\n            $scrollContext.off(elementNamespace);\n          }\n        },\n        has: {\n          popup: function () {\n            return $popup && $popup.length > 0;\n          }\n        },\n        should: {\n          centerArrow: function (calculations) {\n            return !module.is.basic() && calculations.target.width <= settings.arrowPixelsFromEdge * 2;\n          }\n        },\n        is: {\n          offstage: function (distanceFromBoundary, position) {\n            var offstage = []; // return boundaries that have been surpassed\n\n            $.each(distanceFromBoundary, function (direction, distance) {\n              if (distance < -settings.jitter) {\n                module.debug('Position exceeds allowable distance from edge', direction, distance, position);\n                offstage.push(direction);\n              }\n            });\n\n            if (offstage.length > 0) {\n              return true;\n            } else {\n              return false;\n            }\n          },\n          svg: function (element) {\n            return module.supports.svg() && element instanceof SVGGraphicsElement;\n          },\n          basic: function () {\n            return $module.hasClass(className.basic);\n          },\n          active: function () {\n            return $module.hasClass(className.active);\n          },\n          animating: function () {\n            return $popup !== undefined && $popup.hasClass(className.animating);\n          },\n          fluid: function () {\n            return $popup !== undefined && $popup.hasClass(className.fluid);\n          },\n          visible: function () {\n            return $popup !== undefined && $popup.hasClass(className.popupVisible);\n          },\n          dropdown: function () {\n            return $module.hasClass(className.dropdown);\n          },\n          hidden: function () {\n            return !module.is.visible();\n          },\n          rtl: function () {\n            return $module.css('direction') == 'rtl';\n          }\n        },\n        reset: function () {\n          module.remove.visible();\n\n          if (settings.preserve) {\n            if ($.fn.transition !== undefined) {\n              $popup.transition('remove transition');\n            }\n          } else {\n            module.removePopup();\n          }\n        },\n        setting: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            settings[name] = value;\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.popup.settings = {\n    name: 'Popup',\n    // module settings\n    silent: false,\n    debug: false,\n    verbose: false,\n    performance: true,\n    namespace: 'popup',\n    // whether it should use dom mutation observers\n    observeChanges: true,\n    // callback only when element added to dom\n    onCreate: function () {},\n    // callback before element removed from dom\n    onRemove: function () {},\n    // callback before show animation\n    onShow: function () {},\n    // callback after show animation\n    onVisible: function () {},\n    // callback before hide animation\n    onHide: function () {},\n    // callback when popup cannot be positioned in visible screen\n    onUnplaceable: function () {},\n    // callback after hide animation\n    onHidden: function () {},\n    // when to show popup\n    on: 'hover',\n    // element to use to determine if popup is out of boundary\n    boundary: window,\n    // whether to add touchstart events when using hover\n    addTouchEvents: true,\n    // default position relative to element\n    position: 'top left',\n    // name of variation to use\n    variation: '',\n    // whether popup should be moved to context\n    movePopup: true,\n    // element which popup should be relative to\n    target: false,\n    // jq selector or element that should be used as popup\n    popup: false,\n    // popup should remain inline next to activator\n    inline: false,\n    // popup should be removed from page on hide\n    preserve: false,\n    // popup should not close when being hovered on\n    hoverable: false,\n    // explicitly set content\n    content: false,\n    // explicitly set html\n    html: false,\n    // explicitly set title\n    title: false,\n    // whether automatically close on clickaway when on click\n    closable: true,\n    // automatically hide on scroll\n    hideOnScroll: 'auto',\n    // hide other popups on show\n    exclusive: false,\n    // context to attach popups\n    context: 'body',\n    // context for binding scroll events\n    scrollContext: window,\n    // position to prefer when calculating new position\n    prefer: 'opposite',\n    // specify position to appear even if it doesn't fit\n    lastResort: false,\n    // number of pixels from edge of popup to pointing arrow center (used from centering)\n    arrowPixelsFromEdge: 20,\n    // delay used to prevent accidental refiring of animations due to user error\n    delay: {\n      show: 50,\n      hide: 70\n    },\n    // whether fluid variation should assign width explicitly\n    setFluidWidth: true,\n    // transition settings\n    duration: 200,\n    transition: 'scale',\n    // distance away from activating element in px\n    distanceAway: 0,\n    // number of pixels an element is allowed to be \"offstage\" for a position to be chosen (allows for rounding)\n    jitter: 2,\n    // offset on aligning axis from calculated position\n    offset: 0,\n    // maximum times to look for a position before failing (9 positions total)\n    maxSearchDepth: 15,\n    error: {\n      invalidPosition: 'The position you specified is not a valid position',\n      cannotPlace: 'Popup does not fit within the boundaries of the viewport',\n      method: 'The method you called is not defined.',\n      noTransition: 'This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>',\n      notFound: 'The target or popup you specified does not exist on the page'\n    },\n    metadata: {\n      activator: 'activator',\n      content: 'content',\n      html: 'html',\n      offset: 'offset',\n      position: 'position',\n      title: 'title',\n      variation: 'variation'\n    },\n    className: {\n      active: 'active',\n      basic: 'basic',\n      animating: 'animating',\n      dropdown: 'dropdown',\n      fluid: 'fluid',\n      loading: 'loading',\n      popup: 'ui popup',\n      position: 'top left center bottom right',\n      visible: 'visible',\n      popupVisible: 'visible'\n    },\n    selector: {\n      popup: '.ui.popup'\n    },\n    templates: {\n      escape: function (string) {\n        var badChars = /[&<>\"'`]/g,\n            shouldEscape = /[&<>\"'`]/,\n            escape = {\n          \"&\": \"&amp;\",\n          \"<\": \"&lt;\",\n          \">\": \"&gt;\",\n          '\"': \"&quot;\",\n          \"'\": \"&#x27;\",\n          \"`\": \"&#x60;\"\n        },\n            escapedChar = function (chr) {\n          return escape[chr];\n        };\n\n        if (shouldEscape.test(string)) {\n          return string.replace(badChars, escapedChar);\n        }\n\n        return string;\n      },\n      popup: function (text) {\n        var html = '',\n            escape = $.fn.popup.settings.templates.escape;\n\n        if ((0, _typeof2.default)(text) !== undefined) {\n          if ((0, _typeof2.default)(text.title) !== undefined && text.title) {\n            text.title = escape(text.title);\n            html += '<div class=\"header\">' + text.title + '</div>';\n          }\n\n          if ((0, _typeof2.default)(text.content) !== undefined && text.content) {\n            text.content = escape(text.content);\n            html += '<div class=\"content\">' + text.content + '</div>';\n          }\n        }\n\n        return html;\n      }\n    }\n  };\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"progress.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/modules/progress.js                                                                        //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * # Semantic UI - Progress\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n  var global = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.progress = function (parameters) {\n    var $allModules = $(this),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue;\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.progress.settings, parameters) : $.extend({}, $.fn.progress.settings),\n          className = settings.className,\n          metadata = settings.metadata,\n          namespace = settings.namespace,\n          selector = settings.selector,\n          error = settings.error,\n          eventNamespace = '.' + namespace,\n          moduleNamespace = 'module-' + namespace,\n          $module = $(this),\n          $bar = $(this).find(selector.bar),\n          $progress = $(this).find(selector.progress),\n          $label = $(this).find(selector.label),\n          element = this,\n          instance = $module.data(moduleNamespace),\n          animating = false,\n          transitionEnd,\n          module;\n      module = {\n        initialize: function () {\n          module.debug('Initializing progress bar', settings);\n          module.set.duration();\n          module.set.transitionEvent();\n          module.read.metadata();\n          module.read.settings();\n          module.instantiate();\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of progress', module);\n          instance = module;\n          $module.data(moduleNamespace, module);\n        },\n        destroy: function () {\n          module.verbose('Destroying previous progress for', $module);\n          clearInterval(instance.interval);\n          module.remove.state();\n          $module.removeData(moduleNamespace);\n          instance = undefined;\n        },\n        reset: function () {\n          module.remove.nextValue();\n          module.update.progress(0);\n        },\n        complete: function () {\n          if (module.percent === undefined || module.percent < 100) {\n            module.remove.progressPoll();\n            module.set.percent(100);\n          }\n        },\n        read: {\n          metadata: function () {\n            var data = {\n              percent: $module.data(metadata.percent),\n              total: $module.data(metadata.total),\n              value: $module.data(metadata.value)\n            };\n\n            if (data.percent) {\n              module.debug('Current percent value set from metadata', data.percent);\n              module.set.percent(data.percent);\n            }\n\n            if (data.total) {\n              module.debug('Total value set from metadata', data.total);\n              module.set.total(data.total);\n            }\n\n            if (data.value) {\n              module.debug('Current value set from metadata', data.value);\n              module.set.value(data.value);\n              module.set.progress(data.value);\n            }\n          },\n          settings: function () {\n            if (settings.total !== false) {\n              module.debug('Current total set in settings', settings.total);\n              module.set.total(settings.total);\n            }\n\n            if (settings.value !== false) {\n              module.debug('Current value set in settings', settings.value);\n              module.set.value(settings.value);\n              module.set.progress(module.value);\n            }\n\n            if (settings.percent !== false) {\n              module.debug('Current percent set in settings', settings.percent);\n              module.set.percent(settings.percent);\n            }\n          }\n        },\n        bind: {\n          transitionEnd: function (callback) {\n            var transitionEnd = module.get.transitionEnd();\n            $bar.one(transitionEnd + eventNamespace, function (event) {\n              clearTimeout(module.failSafeTimer);\n              callback.call(this, event);\n            });\n            module.failSafeTimer = setTimeout(function () {\n              $bar.triggerHandler(transitionEnd);\n            }, settings.duration + settings.failSafeDelay);\n            module.verbose('Adding fail safe timer', module.timer);\n          }\n        },\n        increment: function (incrementValue) {\n          var maxValue, startValue, newValue;\n\n          if (module.has.total()) {\n            startValue = module.get.value();\n            incrementValue = incrementValue || 1;\n            newValue = startValue + incrementValue;\n          } else {\n            startValue = module.get.percent();\n            incrementValue = incrementValue || module.get.randomValue();\n            newValue = startValue + incrementValue;\n            maxValue = 100;\n            module.debug('Incrementing percentage by', startValue, newValue);\n          }\n\n          newValue = module.get.normalizedValue(newValue);\n          module.set.progress(newValue);\n        },\n        decrement: function (decrementValue) {\n          var total = module.get.total(),\n              startValue,\n              newValue;\n\n          if (total) {\n            startValue = module.get.value();\n            decrementValue = decrementValue || 1;\n            newValue = startValue - decrementValue;\n            module.debug('Decrementing value by', decrementValue, startValue);\n          } else {\n            startValue = module.get.percent();\n            decrementValue = decrementValue || module.get.randomValue();\n            newValue = startValue - decrementValue;\n            module.debug('Decrementing percentage by', decrementValue, startValue);\n          }\n\n          newValue = module.get.normalizedValue(newValue);\n          module.set.progress(newValue);\n        },\n        has: {\n          progressPoll: function () {\n            return module.progressPoll;\n          },\n          total: function () {\n            return module.get.total() !== false;\n          }\n        },\n        get: {\n          text: function (templateText) {\n            var value = module.value || 0,\n                total = module.total || 0,\n                percent = animating ? module.get.displayPercent() : module.percent || 0,\n                left = module.total > 0 ? total - value : 100 - percent;\n            templateText = templateText || '';\n            templateText = templateText.replace('{value}', value).replace('{total}', total).replace('{left}', left).replace('{percent}', percent);\n            module.verbose('Adding variables to progress bar text', templateText);\n            return templateText;\n          },\n          normalizedValue: function (value) {\n            if (value < 0) {\n              module.debug('Value cannot decrement below 0');\n              return 0;\n            }\n\n            if (module.has.total()) {\n              if (value > module.total) {\n                module.debug('Value cannot increment above total', module.total);\n                return module.total;\n              }\n            } else if (value > 100) {\n              module.debug('Value cannot increment above 100 percent');\n              return 100;\n            }\n\n            return value;\n          },\n          updateInterval: function () {\n            if (settings.updateInterval == 'auto') {\n              return settings.duration;\n            }\n\n            return settings.updateInterval;\n          },\n          randomValue: function () {\n            module.debug('Generating random increment percentage');\n            return Math.floor(Math.random() * settings.random.max + settings.random.min);\n          },\n          numericValue: function (value) {\n            return typeof value === 'string' ? value.replace(/[^\\d.]/g, '') !== '' ? +value.replace(/[^\\d.]/g, '') : false : value;\n          },\n          transitionEnd: function () {\n            var element = document.createElement('element'),\n                transitions = {\n              'transition': 'transitionend',\n              'OTransition': 'oTransitionEnd',\n              'MozTransition': 'transitionend',\n              'WebkitTransition': 'webkitTransitionEnd'\n            },\n                transition;\n\n            for (transition in meteorBabelHelpers.sanitizeForInObject(transitions)) {\n              if (element.style[transition] !== undefined) {\n                return transitions[transition];\n              }\n            }\n          },\n          // gets current displayed percentage (if animating values this is the intermediary value)\n          displayPercent: function () {\n            var barWidth = $bar.width(),\n                totalWidth = $module.width(),\n                minDisplay = parseInt($bar.css('min-width'), 10),\n                displayPercent = barWidth > minDisplay ? barWidth / totalWidth * 100 : module.percent;\n            return settings.precision > 0 ? Math.round(displayPercent * (10 * settings.precision)) / (10 * settings.precision) : Math.round(displayPercent);\n          },\n          percent: function () {\n            return module.percent || 0;\n          },\n          value: function () {\n            return module.nextValue || module.value || 0;\n          },\n          total: function () {\n            return module.total || false;\n          }\n        },\n        create: {\n          progressPoll: function () {\n            module.progressPoll = setTimeout(function () {\n              module.update.toNextValue();\n              module.remove.progressPoll();\n            }, module.get.updateInterval());\n          }\n        },\n        is: {\n          complete: function () {\n            return module.is.success() || module.is.warning() || module.is.error();\n          },\n          success: function () {\n            return $module.hasClass(className.success);\n          },\n          warning: function () {\n            return $module.hasClass(className.warning);\n          },\n          error: function () {\n            return $module.hasClass(className.error);\n          },\n          active: function () {\n            return $module.hasClass(className.active);\n          },\n          visible: function () {\n            return $module.is(':visible');\n          }\n        },\n        remove: {\n          progressPoll: function () {\n            module.verbose('Removing progress poll timer');\n\n            if (module.progressPoll) {\n              clearTimeout(module.progressPoll);\n              delete module.progressPoll;\n            }\n          },\n          nextValue: function () {\n            module.verbose('Removing progress value stored for next update');\n            delete module.nextValue;\n          },\n          state: function () {\n            module.verbose('Removing stored state');\n            delete module.total;\n            delete module.percent;\n            delete module.value;\n          },\n          active: function () {\n            module.verbose('Removing active state');\n            $module.removeClass(className.active);\n          },\n          success: function () {\n            module.verbose('Removing success state');\n            $module.removeClass(className.success);\n          },\n          warning: function () {\n            module.verbose('Removing warning state');\n            $module.removeClass(className.warning);\n          },\n          error: function () {\n            module.verbose('Removing error state');\n            $module.removeClass(className.error);\n          }\n        },\n        set: {\n          barWidth: function (value) {\n            if (value > 100) {\n              module.error(error.tooHigh, value);\n            } else if (value < 0) {\n              module.error(error.tooLow, value);\n            } else {\n              $bar.css('width', value + '%');\n              $module.attr('data-percent', parseInt(value, 10));\n            }\n          },\n          duration: function (duration) {\n            duration = duration || settings.duration;\n            duration = typeof duration == 'number' ? duration + 'ms' : duration;\n            module.verbose('Setting progress bar transition duration', duration);\n            $bar.css({\n              'transition-duration': duration\n            });\n          },\n          percent: function (percent) {\n            percent = typeof percent == 'string' ? +percent.replace('%', '') : percent; // round display percentage\n\n            percent = settings.precision > 0 ? Math.round(percent * (10 * settings.precision)) / (10 * settings.precision) : Math.round(percent);\n            module.percent = percent;\n\n            if (!module.has.total()) {\n              module.value = settings.precision > 0 ? Math.round(percent / 100 * module.total * (10 * settings.precision)) / (10 * settings.precision) : Math.round(percent / 100 * module.total * 10) / 10;\n\n              if (settings.limitValues) {\n                module.value = module.value > 100 ? 100 : module.value < 0 ? 0 : module.value;\n              }\n            }\n\n            module.set.barWidth(percent);\n            module.set.labelInterval();\n            module.set.labels();\n            settings.onChange.call(element, percent, module.value, module.total);\n          },\n          labelInterval: function () {\n            var animationCallback = function () {\n              module.verbose('Bar finished animating, removing continuous label updates');\n              clearInterval(module.interval);\n              animating = false;\n              module.set.labels();\n            };\n\n            clearInterval(module.interval);\n            module.bind.transitionEnd(animationCallback);\n            animating = true;\n            module.interval = setInterval(function () {\n              var isInDOM = $.contains(document.documentElement, element);\n\n              if (!isInDOM) {\n                clearInterval(module.interval);\n                animating = false;\n              }\n\n              module.set.labels();\n            }, settings.framerate);\n          },\n          labels: function () {\n            module.verbose('Setting both bar progress and outer label text');\n            module.set.barLabel();\n            module.set.state();\n          },\n          label: function (text) {\n            text = text || '';\n\n            if (text) {\n              text = module.get.text(text);\n              module.verbose('Setting label to text', text);\n              $label.text(text);\n            }\n          },\n          state: function (percent) {\n            percent = percent !== undefined ? percent : module.percent;\n\n            if (percent === 100) {\n              if (settings.autoSuccess && !(module.is.warning() || module.is.error() || module.is.success())) {\n                module.set.success();\n                module.debug('Automatically triggering success at 100%');\n              } else {\n                module.verbose('Reached 100% removing active state');\n                module.remove.active();\n                module.remove.progressPoll();\n              }\n            } else if (percent > 0) {\n              module.verbose('Adjusting active progress bar label', percent);\n              module.set.active();\n            } else {\n              module.remove.active();\n              module.set.label(settings.text.active);\n            }\n          },\n          barLabel: function (text) {\n            if (text !== undefined) {\n              $progress.text(module.get.text(text));\n            } else if (settings.label == 'ratio' && module.total) {\n              module.verbose('Adding ratio to bar label');\n              $progress.text(module.get.text(settings.text.ratio));\n            } else if (settings.label == 'percent') {\n              module.verbose('Adding percentage to bar label');\n              $progress.text(module.get.text(settings.text.percent));\n            }\n          },\n          active: function (text) {\n            text = text || settings.text.active;\n            module.debug('Setting active state');\n\n            if (settings.showActivity && !module.is.active()) {\n              $module.addClass(className.active);\n            }\n\n            module.remove.warning();\n            module.remove.error();\n            module.remove.success();\n            text = settings.onLabelUpdate('active', text, module.value, module.total);\n\n            if (text) {\n              module.set.label(text);\n            }\n\n            module.bind.transitionEnd(function () {\n              settings.onActive.call(element, module.value, module.total);\n            });\n          },\n          success: function (text) {\n            text = text || settings.text.success || settings.text.active;\n            module.debug('Setting success state');\n            $module.addClass(className.success);\n            module.remove.active();\n            module.remove.warning();\n            module.remove.error();\n            module.complete();\n\n            if (settings.text.success) {\n              text = settings.onLabelUpdate('success', text, module.value, module.total);\n              module.set.label(text);\n            } else {\n              text = settings.onLabelUpdate('active', text, module.value, module.total);\n              module.set.label(text);\n            }\n\n            module.bind.transitionEnd(function () {\n              settings.onSuccess.call(element, module.total);\n            });\n          },\n          warning: function (text) {\n            text = text || settings.text.warning;\n            module.debug('Setting warning state');\n            $module.addClass(className.warning);\n            module.remove.active();\n            module.remove.success();\n            module.remove.error();\n            module.complete();\n            text = settings.onLabelUpdate('warning', text, module.value, module.total);\n\n            if (text) {\n              module.set.label(text);\n            }\n\n            module.bind.transitionEnd(function () {\n              settings.onWarning.call(element, module.value, module.total);\n            });\n          },\n          error: function (text) {\n            text = text || settings.text.error;\n            module.debug('Setting error state');\n            $module.addClass(className.error);\n            module.remove.active();\n            module.remove.success();\n            module.remove.warning();\n            module.complete();\n            text = settings.onLabelUpdate('error', text, module.value, module.total);\n\n            if (text) {\n              module.set.label(text);\n            }\n\n            module.bind.transitionEnd(function () {\n              settings.onError.call(element, module.value, module.total);\n            });\n          },\n          transitionEvent: function () {\n            transitionEnd = module.get.transitionEnd();\n          },\n          total: function (totalValue) {\n            module.total = totalValue;\n          },\n          value: function (value) {\n            module.value = value;\n          },\n          progress: function (value) {\n            if (!module.has.progressPoll()) {\n              module.debug('First update in progress update interval, immediately updating', value);\n              module.update.progress(value);\n              module.create.progressPoll();\n            } else {\n              module.debug('Updated within interval, setting next update to use new value', value);\n              module.set.nextValue(value);\n            }\n          },\n          nextValue: function (value) {\n            module.nextValue = value;\n          }\n        },\n        update: {\n          toNextValue: function () {\n            var nextValue = module.nextValue;\n\n            if (nextValue) {\n              module.debug('Update interval complete using last updated value', nextValue);\n              module.update.progress(nextValue);\n              module.remove.nextValue();\n            }\n          },\n          progress: function (value) {\n            var percentComplete;\n            value = module.get.numericValue(value);\n\n            if (value === false) {\n              module.error(error.nonNumeric, value);\n            }\n\n            value = module.get.normalizedValue(value);\n\n            if (module.has.total()) {\n              module.set.value(value);\n              percentComplete = value / module.total * 100;\n              module.debug('Calculating percent complete from total', percentComplete);\n              module.set.percent(percentComplete);\n            } else {\n              percentComplete = value;\n              module.debug('Setting value to exact percentage value', percentComplete);\n              module.set.percent(percentComplete);\n            }\n          }\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.progress.settings = {\n    name: 'Progress',\n    namespace: 'progress',\n    silent: false,\n    debug: false,\n    verbose: false,\n    performance: true,\n    random: {\n      min: 2,\n      max: 5\n    },\n    duration: 300,\n    updateInterval: 'auto',\n    autoSuccess: true,\n    showActivity: true,\n    limitValues: true,\n    label: 'percent',\n    precision: 0,\n    framerate: 1000 / 30,\n    /// 30 fps\n    percent: false,\n    total: false,\n    value: false,\n    // delay in ms for fail safe animation callback\n    failSafeDelay: 100,\n    onLabelUpdate: function (state, text, value, total) {\n      return text;\n    },\n    onChange: function (percent, value, total) {},\n    onSuccess: function (total) {},\n    onActive: function (value, total) {},\n    onError: function (value, total) {},\n    onWarning: function (value, total) {},\n    error: {\n      method: 'The method you called is not defined.',\n      nonNumeric: 'Progress value is non numeric',\n      tooHigh: 'Value specified is above 100%',\n      tooLow: 'Value specified is below 0%'\n    },\n    regExp: {\n      variable: /\\{\\$*[A-z0-9]+\\}/g\n    },\n    metadata: {\n      percent: 'percent',\n      total: 'total',\n      value: 'value'\n    },\n    selector: {\n      bar: '> .bar',\n      label: '> .label',\n      progress: '.bar > .progress'\n    },\n    text: {\n      active: false,\n      error: false,\n      success: false,\n      warning: false,\n      percent: '{percent}%',\n      ratio: '{value} of {total}'\n    },\n    className: {\n      active: 'active',\n      error: 'error',\n      success: 'success',\n      warning: 'warning'\n    }\n  };\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"rating.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/modules/rating.js                                                                          //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * # Semantic UI - Rating\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.rating = function (parameters) {\n    var $allModules = $(this),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue;\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.rating.settings, parameters) : $.extend({}, $.fn.rating.settings),\n          namespace = settings.namespace,\n          className = settings.className,\n          metadata = settings.metadata,\n          selector = settings.selector,\n          error = settings.error,\n          eventNamespace = '.' + namespace,\n          moduleNamespace = 'module-' + namespace,\n          element = this,\n          instance = $(this).data(moduleNamespace),\n          $module = $(this),\n          $icon = $module.find(selector.icon),\n          initialLoad,\n          module;\n      module = {\n        initialize: function () {\n          module.verbose('Initializing rating module', settings);\n\n          if ($icon.length === 0) {\n            module.setup.layout();\n          }\n\n          if (settings.interactive) {\n            module.enable();\n          } else {\n            module.disable();\n          }\n\n          module.set.initialLoad();\n          module.set.rating(module.get.initialRating());\n          module.remove.initialLoad();\n          module.instantiate();\n        },\n        instantiate: function () {\n          module.verbose('Instantiating module', settings);\n          instance = module;\n          $module.data(moduleNamespace, module);\n        },\n        destroy: function () {\n          module.verbose('Destroying previous instance', instance);\n          module.remove.events();\n          $module.removeData(moduleNamespace);\n        },\n        refresh: function () {\n          $icon = $module.find(selector.icon);\n        },\n        setup: {\n          layout: function () {\n            var maxRating = module.get.maxRating(),\n                html = $.fn.rating.settings.templates.icon(maxRating);\n            module.debug('Generating icon html dynamically');\n            $module.html(html);\n            module.refresh();\n          }\n        },\n        event: {\n          mouseenter: function () {\n            var $activeIcon = $(this);\n            $activeIcon.nextAll().removeClass(className.selected);\n            $module.addClass(className.selected);\n            $activeIcon.addClass(className.selected).prevAll().addClass(className.selected);\n          },\n          mouseleave: function () {\n            $module.removeClass(className.selected);\n            $icon.removeClass(className.selected);\n          },\n          click: function () {\n            var $activeIcon = $(this),\n                currentRating = module.get.rating(),\n                rating = $icon.index($activeIcon) + 1,\n                canClear = settings.clearable == 'auto' ? $icon.length === 1 : settings.clearable;\n\n            if (canClear && currentRating == rating) {\n              module.clearRating();\n            } else {\n              module.set.rating(rating);\n            }\n          }\n        },\n        clearRating: function () {\n          module.debug('Clearing current rating');\n          module.set.rating(0);\n        },\n        bind: {\n          events: function () {\n            module.verbose('Binding events');\n            $module.on('mouseenter' + eventNamespace, selector.icon, module.event.mouseenter).on('mouseleave' + eventNamespace, selector.icon, module.event.mouseleave).on('click' + eventNamespace, selector.icon, module.event.click);\n          }\n        },\n        remove: {\n          events: function () {\n            module.verbose('Removing events');\n            $module.off(eventNamespace);\n          },\n          initialLoad: function () {\n            initialLoad = false;\n          }\n        },\n        enable: function () {\n          module.debug('Setting rating to interactive mode');\n          module.bind.events();\n          $module.removeClass(className.disabled);\n        },\n        disable: function () {\n          module.debug('Setting rating to read-only mode');\n          module.remove.events();\n          $module.addClass(className.disabled);\n        },\n        is: {\n          initialLoad: function () {\n            return initialLoad;\n          }\n        },\n        get: {\n          initialRating: function () {\n            if ($module.data(metadata.rating) !== undefined) {\n              $module.removeData(metadata.rating);\n              return $module.data(metadata.rating);\n            }\n\n            return settings.initialRating;\n          },\n          maxRating: function () {\n            if ($module.data(metadata.maxRating) !== undefined) {\n              $module.removeData(metadata.maxRating);\n              return $module.data(metadata.maxRating);\n            }\n\n            return settings.maxRating;\n          },\n          rating: function () {\n            var currentRating = $icon.filter('.' + className.active).length;\n            module.verbose('Current rating retrieved', currentRating);\n            return currentRating;\n          }\n        },\n        set: {\n          rating: function (rating) {\n            var ratingIndex = rating - 1 >= 0 ? rating - 1 : 0,\n                $activeIcon = $icon.eq(ratingIndex);\n            $module.removeClass(className.selected);\n            $icon.removeClass(className.selected).removeClass(className.active);\n\n            if (rating > 0) {\n              module.verbose('Setting current rating to', rating);\n              $activeIcon.prevAll().addBack().addClass(className.active);\n            }\n\n            if (!module.is.initialLoad()) {\n              settings.onRate.call(element, rating);\n            }\n          },\n          initialLoad: function () {\n            initialLoad = true;\n          }\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.rating.settings = {\n    name: 'Rating',\n    namespace: 'rating',\n    slent: false,\n    debug: false,\n    verbose: false,\n    performance: true,\n    initialRating: 0,\n    interactive: true,\n    maxRating: 4,\n    clearable: 'auto',\n    fireOnInit: false,\n    onRate: function (rating) {},\n    error: {\n      method: 'The method you called is not defined',\n      noMaximum: 'No maximum rating specified. Cannot generate HTML automatically'\n    },\n    metadata: {\n      rating: 'rating',\n      maxRating: 'maxRating'\n    },\n    className: {\n      active: 'active',\n      disabled: 'disabled',\n      selected: 'selected',\n      loading: 'loading'\n    },\n    selector: {\n      icon: '.icon'\n    },\n    templates: {\n      icon: function (maxRating) {\n        var icon = 1,\n            html = '';\n\n        while (icon <= maxRating) {\n          html += '<i class=\"icon\"></i>';\n          icon++;\n        }\n\n        return html;\n      }\n    }\n  };\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"search.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/modules/search.js                                                                          //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\n/*!\n * # Semantic UI - Search\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.search = function (parameters) {\n    var $allModules = $(this),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue;\n    $(this).each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.search.settings, parameters) : $.extend({}, $.fn.search.settings),\n          className = settings.className,\n          metadata = settings.metadata,\n          regExp = settings.regExp,\n          fields = settings.fields,\n          selector = settings.selector,\n          error = settings.error,\n          namespace = settings.namespace,\n          eventNamespace = '.' + namespace,\n          moduleNamespace = namespace + '-module',\n          $module = $(this),\n          $prompt = $module.find(selector.prompt),\n          $searchButton = $module.find(selector.searchButton),\n          $results = $module.find(selector.results),\n          $result = $module.find(selector.result),\n          $category = $module.find(selector.category),\n          element = this,\n          instance = $module.data(moduleNamespace),\n          disabledBubbled = false,\n          resultsDismissed = false,\n          module;\n      module = {\n        initialize: function () {\n          module.verbose('Initializing module');\n          module.get.settings();\n          module.determine.searchFields();\n          module.bind.events();\n          module.set.type();\n          module.create.results();\n          module.instantiate();\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module.data(moduleNamespace, module);\n        },\n        destroy: function () {\n          module.verbose('Destroying instance');\n          $module.off(eventNamespace).removeData(moduleNamespace);\n        },\n        refresh: function () {\n          module.debug('Refreshing selector cache');\n          $prompt = $module.find(selector.prompt);\n          $searchButton = $module.find(selector.searchButton);\n          $category = $module.find(selector.category);\n          $results = $module.find(selector.results);\n          $result = $module.find(selector.result);\n        },\n        refreshResults: function () {\n          $results = $module.find(selector.results);\n          $result = $module.find(selector.result);\n        },\n        bind: {\n          events: function () {\n            module.verbose('Binding events to search');\n\n            if (settings.automatic) {\n              $module.on(module.get.inputEvent() + eventNamespace, selector.prompt, module.event.input);\n              $prompt.attr('autocomplete', 'off');\n            }\n\n            $module // prompt\n            .on('focus' + eventNamespace, selector.prompt, module.event.focus).on('blur' + eventNamespace, selector.prompt, module.event.blur).on('keydown' + eventNamespace, selector.prompt, module.handleKeyboard) // search button\n            .on('click' + eventNamespace, selector.searchButton, module.query) // results\n            .on('mousedown' + eventNamespace, selector.results, module.event.result.mousedown).on('mouseup' + eventNamespace, selector.results, module.event.result.mouseup).on('click' + eventNamespace, selector.result, module.event.result.click);\n          }\n        },\n        determine: {\n          searchFields: function () {\n            // this makes sure $.extend does not add specified search fields to default fields\n            // this is the only setting which should not extend defaults\n            if (parameters && parameters.searchFields !== undefined) {\n              settings.searchFields = parameters.searchFields;\n            }\n          }\n        },\n        event: {\n          input: function () {\n            if (settings.searchDelay) {\n              clearTimeout(module.timer);\n              module.timer = setTimeout(function () {\n                if (module.is.focused()) {\n                  module.query();\n                }\n              }, settings.searchDelay);\n            } else {\n              module.query();\n            }\n          },\n          focus: function () {\n            module.set.focus();\n\n            if (settings.searchOnFocus && module.has.minimumCharacters()) {\n              module.query(function () {\n                if (module.can.show()) {\n                  module.showResults();\n                }\n              });\n            }\n          },\n          blur: function (event) {\n            var pageLostFocus = document.activeElement === this,\n                callback = function () {\n              module.cancel.query();\n              module.remove.focus();\n              module.timer = setTimeout(module.hideResults, settings.hideDelay);\n            };\n\n            if (pageLostFocus) {\n              return;\n            }\n\n            resultsDismissed = false;\n\n            if (module.resultsClicked) {\n              module.debug('Determining if user action caused search to close');\n              $module.one('click.close' + eventNamespace, selector.results, function (event) {\n                if (module.is.inMessage(event) || disabledBubbled) {\n                  $prompt.focus();\n                  return;\n                }\n\n                disabledBubbled = false;\n\n                if (!module.is.animating() && !module.is.hidden()) {\n                  callback();\n                }\n              });\n            } else {\n              module.debug('Input blurred without user action, closing results');\n              callback();\n            }\n          },\n          result: {\n            mousedown: function () {\n              module.resultsClicked = true;\n            },\n            mouseup: function () {\n              module.resultsClicked = false;\n            },\n            click: function (event) {\n              module.debug('Search result selected');\n              var $result = $(this),\n                  $title = $result.find(selector.title).eq(0),\n                  $link = $result.is('a[href]') ? $result : $result.find('a[href]').eq(0),\n                  href = $link.attr('href') || false,\n                  target = $link.attr('target') || false,\n                  title = $title.html(),\n                  // title is used for result lookup\n              value = $title.length > 0 ? $title.text() : false,\n                  results = module.get.results(),\n                  result = $result.data(metadata.result) || module.get.result(value, results),\n                  returnedValue;\n\n              if ($.isFunction(settings.onSelect)) {\n                if (settings.onSelect.call(element, result, results) === false) {\n                  module.debug('Custom onSelect callback cancelled default select action');\n                  disabledBubbled = true;\n                  return;\n                }\n              }\n\n              module.hideResults();\n\n              if (value) {\n                module.set.value(value);\n              }\n\n              if (href) {\n                module.verbose('Opening search link found in result', $link);\n\n                if (target == '_blank' || event.ctrlKey) {\n                  window.open(href);\n                } else {\n                  window.location.href = href;\n                }\n              }\n            }\n          }\n        },\n        handleKeyboard: function (event) {\n          var // force selector refresh\n          $result = $module.find(selector.result),\n              $category = $module.find(selector.category),\n              $activeResult = $result.filter('.' + className.active),\n              currentIndex = $result.index($activeResult),\n              resultSize = $result.length,\n              hasActiveResult = $activeResult.length > 0,\n              keyCode = event.which,\n              keys = {\n            backspace: 8,\n            enter: 13,\n            escape: 27,\n            upArrow: 38,\n            downArrow: 40\n          },\n              newIndex; // search shortcuts\n\n          if (keyCode == keys.escape) {\n            module.verbose('Escape key pressed, blurring search field');\n            module.hideResults();\n            resultsDismissed = true;\n          }\n\n          if (module.is.visible()) {\n            if (keyCode == keys.enter) {\n              module.verbose('Enter key pressed, selecting active result');\n\n              if ($result.filter('.' + className.active).length > 0) {\n                module.event.result.click.call($result.filter('.' + className.active), event);\n                event.preventDefault();\n                return false;\n              }\n            } else if (keyCode == keys.upArrow && hasActiveResult) {\n              module.verbose('Up key pressed, changing active result');\n              newIndex = currentIndex - 1 < 0 ? currentIndex : currentIndex - 1;\n              $category.removeClass(className.active);\n              $result.removeClass(className.active).eq(newIndex).addClass(className.active).closest($category).addClass(className.active);\n              event.preventDefault();\n            } else if (keyCode == keys.downArrow) {\n              module.verbose('Down key pressed, changing active result');\n              newIndex = currentIndex + 1 >= resultSize ? currentIndex : currentIndex + 1;\n              $category.removeClass(className.active);\n              $result.removeClass(className.active).eq(newIndex).addClass(className.active).closest($category).addClass(className.active);\n              event.preventDefault();\n            }\n          } else {\n            // query shortcuts\n            if (keyCode == keys.enter) {\n              module.verbose('Enter key pressed, executing query');\n              module.query();\n              module.set.buttonPressed();\n              $prompt.one('keyup', module.remove.buttonFocus);\n            }\n          }\n        },\n        setup: {\n          api: function (searchTerm, callback) {\n            var apiSettings = {\n              debug: settings.debug,\n              on: false,\n              cache: settings.cache,\n              action: 'search',\n              urlData: {\n                query: searchTerm\n              },\n              onSuccess: function (response) {\n                module.parse.response.call(element, response, searchTerm);\n                callback();\n              },\n              onFailure: function () {\n                module.displayMessage(error.serverError);\n                callback();\n              },\n              onAbort: function (response) {},\n              onError: module.error\n            },\n                searchHTML;\n            $.extend(true, apiSettings, settings.apiSettings);\n            module.verbose('Setting up API request', apiSettings);\n            $module.api(apiSettings);\n          }\n        },\n        can: {\n          useAPI: function () {\n            return $.fn.api !== undefined;\n          },\n          show: function () {\n            return module.is.focused() && !module.is.visible() && !module.is.empty();\n          },\n          transition: function () {\n            return settings.transition && $.fn.transition !== undefined && $module.transition('is supported');\n          }\n        },\n        is: {\n          animating: function () {\n            return $results.hasClass(className.animating);\n          },\n          hidden: function () {\n            return $results.hasClass(className.hidden);\n          },\n          inMessage: function (event) {\n            if (!event.target) {\n              return;\n            }\n\n            var $target = $(event.target),\n                isInDOM = $.contains(document.documentElement, event.target);\n            return isInDOM && $target.closest(selector.message).length > 0;\n          },\n          empty: function () {\n            return $results.html() === '';\n          },\n          visible: function () {\n            return $results.filter(':visible').length > 0;\n          },\n          focused: function () {\n            return $prompt.filter(':focus').length > 0;\n          }\n        },\n        get: {\n          settings: function () {\n            if ($.isPlainObject(parameters) && parameters.searchFullText) {\n              settings.fullTextSearch = parameters.searchFullText;\n              module.error(settings.error.oldSearchSyntax, element);\n            }\n          },\n          inputEvent: function () {\n            var prompt = $prompt[0],\n                inputEvent = prompt !== undefined && prompt.oninput !== undefined ? 'input' : prompt !== undefined && prompt.onpropertychange !== undefined ? 'propertychange' : 'keyup';\n            return inputEvent;\n          },\n          value: function () {\n            return $prompt.val();\n          },\n          results: function () {\n            var results = $module.data(metadata.results);\n            return results;\n          },\n          result: function (value, results) {\n            var lookupFields = ['title', 'id'],\n                result = false;\n            value = value !== undefined ? value : module.get.value();\n            results = results !== undefined ? results : module.get.results();\n\n            if (settings.type === 'category') {\n              module.debug('Finding result that matches', value);\n              $.each(results, function (index, category) {\n                if ($.isArray(category.results)) {\n                  result = module.search.object(value, category.results, lookupFields)[0]; // don't continue searching if a result is found\n\n                  if (result) {\n                    return false;\n                  }\n                }\n              });\n            } else {\n              module.debug('Finding result in results object', value);\n              result = module.search.object(value, results, lookupFields)[0];\n            }\n\n            return result || false;\n          }\n        },\n        select: {\n          firstResult: function () {\n            module.verbose('Selecting first result');\n            $result.first().addClass(className.active);\n          }\n        },\n        set: {\n          focus: function () {\n            $module.addClass(className.focus);\n          },\n          loading: function () {\n            $module.addClass(className.loading);\n          },\n          value: function (value) {\n            module.verbose('Setting search input value', value);\n            $prompt.val(value);\n          },\n          type: function (type) {\n            type = type || settings.type;\n\n            if (settings.type == 'category') {\n              $module.addClass(settings.type);\n            }\n          },\n          buttonPressed: function () {\n            $searchButton.addClass(className.pressed);\n          }\n        },\n        remove: {\n          loading: function () {\n            $module.removeClass(className.loading);\n          },\n          focus: function () {\n            $module.removeClass(className.focus);\n          },\n          buttonPressed: function () {\n            $searchButton.removeClass(className.pressed);\n          }\n        },\n        query: function (callback) {\n          callback = $.isFunction(callback) ? callback : function () {};\n          var searchTerm = module.get.value(),\n              cache = module.read.cache(searchTerm);\n\n          callback = callback || function () {};\n\n          if (module.has.minimumCharacters()) {\n            if (cache) {\n              module.debug('Reading result from cache', searchTerm);\n              module.save.results(cache.results);\n              module.addResults(cache.html);\n              module.inject.id(cache.results);\n              callback();\n            } else {\n              module.debug('Querying for', searchTerm);\n\n              if ($.isPlainObject(settings.source) || $.isArray(settings.source)) {\n                module.search.local(searchTerm);\n                callback();\n              } else if (module.can.useAPI()) {\n                module.search.remote(searchTerm, callback);\n              } else {\n                module.error(error.source);\n                callback();\n              }\n            }\n\n            settings.onSearchQuery.call(element, searchTerm);\n          } else {\n            module.hideResults();\n          }\n        },\n        search: {\n          local: function (searchTerm) {\n            var results = module.search.object(searchTerm, settings.content),\n                searchHTML;\n            module.set.loading();\n            module.save.results(results);\n            module.debug('Returned full local search results', results);\n\n            if (settings.maxResults > 0) {\n              module.debug('Using specified max results', results);\n              results = results.slice(0, settings.maxResults);\n            }\n\n            if (settings.type == 'category') {\n              results = module.create.categoryResults(results);\n            }\n\n            searchHTML = module.generateResults({\n              results: results\n            });\n            module.remove.loading();\n            module.addResults(searchHTML);\n            module.inject.id(results);\n            module.write.cache(searchTerm, {\n              html: searchHTML,\n              results: results\n            });\n          },\n          remote: function (searchTerm, callback) {\n            callback = $.isFunction(callback) ? callback : function () {};\n\n            if ($module.api('is loading')) {\n              $module.api('abort');\n            }\n\n            module.setup.api(searchTerm, callback);\n            $module.api('query');\n          },\n          object: function (searchTerm, source, searchFields) {\n            var results = [],\n                exactResults = [],\n                fuzzyResults = [],\n                searchExp = searchTerm.toString().replace(regExp.escape, '\\\\$&'),\n                matchRegExp = new RegExp(regExp.beginsWith + searchExp, 'i'),\n                // avoid duplicates when pushing results\n            addResult = function (array, result) {\n              var notResult = $.inArray(result, results) == -1,\n                  notFuzzyResult = $.inArray(result, fuzzyResults) == -1,\n                  notExactResults = $.inArray(result, exactResults) == -1;\n\n              if (notResult && notFuzzyResult && notExactResults) {\n                array.push(result);\n              }\n            };\n\n            source = source || settings.source;\n            searchFields = searchFields !== undefined ? searchFields : settings.searchFields; // search fields should be array to loop correctly\n\n            if (!$.isArray(searchFields)) {\n              searchFields = [searchFields];\n            } // exit conditions if no source\n\n\n            if (source === undefined || source === false) {\n              module.error(error.source);\n              return [];\n            } // iterate through search fields looking for matches\n\n\n            $.each(searchFields, function (index, field) {\n              $.each(source, function (label, content) {\n                var fieldExists = typeof content[field] == 'string';\n\n                if (fieldExists) {\n                  if (content[field].search(matchRegExp) !== -1) {\n                    // content starts with value (first in results)\n                    addResult(results, content);\n                  } else if (settings.fullTextSearch === 'exact' && module.exactSearch(searchTerm, content[field])) {\n                    // content fuzzy matches (last in results)\n                    addResult(exactResults, content);\n                  } else if (settings.fullTextSearch == true && module.fuzzySearch(searchTerm, content[field])) {\n                    // content fuzzy matches (last in results)\n                    addResult(fuzzyResults, content);\n                  }\n                }\n              });\n            });\n            $.merge(exactResults, fuzzyResults);\n            $.merge(results, exactResults);\n            return results;\n          }\n        },\n        exactSearch: function (query, term) {\n          query = query.toLowerCase();\n          term = term.toLowerCase();\n\n          if (term.indexOf(query) > -1) {\n            return true;\n          }\n\n          return false;\n        },\n        fuzzySearch: function (query, term) {\n          var termLength = term.length,\n              queryLength = query.length;\n\n          if (typeof query !== 'string') {\n            return false;\n          }\n\n          query = query.toLowerCase();\n          term = term.toLowerCase();\n\n          if (queryLength > termLength) {\n            return false;\n          }\n\n          if (queryLength === termLength) {\n            return query === term;\n          }\n\n          search: for (var characterIndex = 0, nextCharacterIndex = 0; characterIndex < queryLength; characterIndex++) {\n            var queryCharacter = query.charCodeAt(characterIndex);\n\n            while (nextCharacterIndex < termLength) {\n              if (term.charCodeAt(nextCharacterIndex++) === queryCharacter) {\n                continue search;\n              }\n            }\n\n            return false;\n          }\n\n          return true;\n        },\n        parse: {\n          response: function (response, searchTerm) {\n            var searchHTML = module.generateResults(response);\n            module.verbose('Parsing server response', response);\n\n            if (response !== undefined) {\n              if (searchTerm !== undefined && response[fields.results] !== undefined) {\n                module.addResults(searchHTML);\n                module.inject.id(response[fields.results]);\n                module.write.cache(searchTerm, {\n                  html: searchHTML,\n                  results: response[fields.results]\n                });\n                module.save.results(response[fields.results]);\n              }\n            }\n          }\n        },\n        cancel: {\n          query: function () {\n            if (module.can.useAPI()) {\n              $module.api('abort');\n            }\n          }\n        },\n        has: {\n          minimumCharacters: function () {\n            var searchTerm = module.get.value(),\n                numCharacters = searchTerm.length;\n            return numCharacters >= settings.minCharacters;\n          },\n          results: function () {\n            if ($results.length === 0) {\n              return false;\n            }\n\n            var html = $results.html();\n            return html != '';\n          }\n        },\n        clear: {\n          cache: function (value) {\n            var cache = $module.data(metadata.cache);\n\n            if (!value) {\n              module.debug('Clearing cache', value);\n              $module.removeData(metadata.cache);\n            } else if (value && cache && cache[value]) {\n              module.debug('Removing value from cache', value);\n              delete cache[value];\n              $module.data(metadata.cache, cache);\n            }\n          }\n        },\n        read: {\n          cache: function (name) {\n            var cache = $module.data(metadata.cache);\n\n            if (settings.cache) {\n              module.verbose('Checking cache for generated html for query', name);\n              return (0, _typeof2.default)(cache) == 'object' && cache[name] !== undefined ? cache[name] : false;\n            }\n\n            return false;\n          }\n        },\n        create: {\n          categoryResults: function (results) {\n            var categoryResults = {};\n            $.each(results, function (index, result) {\n              if (!result.category) {\n                return;\n              }\n\n              if (categoryResults[result.category] === undefined) {\n                module.verbose('Creating new category of results', result.category);\n                categoryResults[result.category] = {\n                  name: result.category,\n                  results: [result]\n                };\n              } else {\n                categoryResults[result.category].results.push(result);\n              }\n            });\n            return categoryResults;\n          },\n          id: function (resultIndex, categoryIndex) {\n            var resultID = resultIndex + 1,\n                // not zero indexed\n            categoryID = categoryIndex + 1,\n                firstCharCode,\n                letterID,\n                id;\n\n            if (categoryIndex !== undefined) {\n              // start char code for \"A\"\n              letterID = String.fromCharCode(97 + categoryIndex);\n              id = letterID + resultID;\n              module.verbose('Creating category result id', id);\n            } else {\n              id = resultID;\n              module.verbose('Creating result id', id);\n            }\n\n            return id;\n          },\n          results: function () {\n            if ($results.length === 0) {\n              $results = $('<div />').addClass(className.results).appendTo($module);\n            }\n          }\n        },\n        inject: {\n          result: function (result, resultIndex, categoryIndex) {\n            module.verbose('Injecting result into results');\n            var $selectedResult = categoryIndex !== undefined ? $results.children().eq(categoryIndex).children(selector.results).first().children(selector.result).eq(resultIndex) : $results.children(selector.result).eq(resultIndex);\n            module.verbose('Injecting results metadata', $selectedResult);\n            $selectedResult.data(metadata.result, result);\n          },\n          id: function (results) {\n            module.debug('Injecting unique ids into results');\n            var // since results may be object, we must use counters\n            categoryIndex = 0,\n                resultIndex = 0;\n\n            if (settings.type === 'category') {\n              // iterate through each category result\n              $.each(results, function (index, category) {\n                resultIndex = 0;\n                $.each(category.results, function (index, value) {\n                  var result = category.results[index];\n\n                  if (result.id === undefined) {\n                    result.id = module.create.id(resultIndex, categoryIndex);\n                  }\n\n                  module.inject.result(result, resultIndex, categoryIndex);\n                  resultIndex++;\n                });\n                categoryIndex++;\n              });\n            } else {\n              // top level\n              $.each(results, function (index, value) {\n                var result = results[index];\n\n                if (result.id === undefined) {\n                  result.id = module.create.id(resultIndex);\n                }\n\n                module.inject.result(result, resultIndex);\n                resultIndex++;\n              });\n            }\n\n            return results;\n          }\n        },\n        save: {\n          results: function (results) {\n            module.verbose('Saving current search results to metadata', results);\n            $module.data(metadata.results, results);\n          }\n        },\n        write: {\n          cache: function (name, value) {\n            var cache = $module.data(metadata.cache) !== undefined ? $module.data(metadata.cache) : {};\n\n            if (settings.cache) {\n              module.verbose('Writing generated html to cache', name, value);\n              cache[name] = value;\n              $module.data(metadata.cache, cache);\n            }\n          }\n        },\n        addResults: function (html) {\n          if ($.isFunction(settings.onResultsAdd)) {\n            if (settings.onResultsAdd.call($results, html) === false) {\n              module.debug('onResultsAdd callback cancelled default action');\n              return false;\n            }\n          }\n\n          if (html) {\n            $results.html(html);\n            module.refreshResults();\n\n            if (settings.selectFirstResult) {\n              module.select.firstResult();\n            }\n\n            module.showResults();\n          } else {\n            module.hideResults(function () {\n              $results.empty();\n            });\n          }\n        },\n        showResults: function (callback) {\n          callback = $.isFunction(callback) ? callback : function () {};\n\n          if (resultsDismissed) {\n            return;\n          }\n\n          if (!module.is.visible() && module.has.results()) {\n            if (module.can.transition()) {\n              module.debug('Showing results with css animations');\n              $results.transition({\n                animation: settings.transition + ' in',\n                debug: settings.debug,\n                verbose: settings.verbose,\n                duration: settings.duration,\n                onComplete: function () {\n                  callback();\n                },\n                queue: true\n              });\n            } else {\n              module.debug('Showing results with javascript');\n              $results.stop().fadeIn(settings.duration, settings.easing);\n            }\n\n            settings.onResultsOpen.call($results);\n          }\n        },\n        hideResults: function (callback) {\n          callback = $.isFunction(callback) ? callback : function () {};\n\n          if (module.is.visible()) {\n            if (module.can.transition()) {\n              module.debug('Hiding results with css animations');\n              $results.transition({\n                animation: settings.transition + ' out',\n                debug: settings.debug,\n                verbose: settings.verbose,\n                duration: settings.duration,\n                onComplete: function () {\n                  callback();\n                },\n                queue: true\n              });\n            } else {\n              module.debug('Hiding results with javascript');\n              $results.stop().fadeOut(settings.duration, settings.easing);\n            }\n\n            settings.onResultsClose.call($results);\n          }\n        },\n        generateResults: function (response) {\n          module.debug('Generating html from response', response);\n          var template = settings.templates[settings.type],\n              isProperObject = $.isPlainObject(response[fields.results]) && !$.isEmptyObject(response[fields.results]),\n              isProperArray = $.isArray(response[fields.results]) && response[fields.results].length > 0,\n              html = '';\n\n          if (isProperObject || isProperArray) {\n            if (settings.maxResults > 0) {\n              if (isProperObject) {\n                if (settings.type == 'standard') {\n                  module.error(error.maxResults);\n                }\n              } else {\n                response[fields.results] = response[fields.results].slice(0, settings.maxResults);\n              }\n            }\n\n            if ($.isFunction(template)) {\n              html = template(response, fields);\n            } else {\n              module.error(error.noTemplate, false);\n            }\n          } else if (settings.showNoResults) {\n            html = module.displayMessage(error.noResults, 'empty');\n          }\n\n          settings.onResults.call(element, response);\n          return html;\n        },\n        displayMessage: function (text, type) {\n          type = type || 'standard';\n          module.debug('Displaying message', text, type);\n          module.addResults(settings.templates.message(text, type));\n          return settings.templates.message(text, type);\n        },\n        setting: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            settings[name] = value;\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.search.settings = {\n    name: 'Search',\n    namespace: 'search',\n    silent: false,\n    debug: false,\n    verbose: false,\n    performance: true,\n    // template to use (specified in settings.templates)\n    type: 'standard',\n    // minimum characters required to search\n    minCharacters: 1,\n    // whether to select first result after searching automatically\n    selectFirstResult: false,\n    // API config\n    apiSettings: false,\n    // object to search\n    source: false,\n    // Whether search should query current term on focus\n    searchOnFocus: true,\n    // fields to search\n    searchFields: ['title', 'description'],\n    // field to display in standard results template\n    displayField: '',\n    // search anywhere in value (set to 'exact' to require exact matches\n    fullTextSearch: 'exact',\n    // whether to add events to prompt automatically\n    automatic: true,\n    // delay before hiding menu after blur\n    hideDelay: 0,\n    // delay before searching\n    searchDelay: 200,\n    // maximum results returned from search\n    maxResults: 7,\n    // whether to store lookups in local cache\n    cache: true,\n    // whether no results errors should be shown\n    showNoResults: true,\n    // transition settings\n    transition: 'scale',\n    duration: 200,\n    easing: 'easeOutExpo',\n    // callbacks\n    onSelect: false,\n    onResultsAdd: false,\n    onSearchQuery: function (query) {},\n    onResults: function (response) {},\n    onResultsOpen: function () {},\n    onResultsClose: function () {},\n    className: {\n      animating: 'animating',\n      active: 'active',\n      empty: 'empty',\n      focus: 'focus',\n      hidden: 'hidden',\n      loading: 'loading',\n      results: 'results',\n      pressed: 'down'\n    },\n    error: {\n      source: 'Cannot search. No source used, and Semantic API module was not included',\n      noResults: 'Your search returned no results',\n      logging: 'Error in debug logging, exiting.',\n      noEndpoint: 'No search endpoint was specified',\n      noTemplate: 'A valid template name was not specified.',\n      oldSearchSyntax: 'searchFullText setting has been renamed fullTextSearch for consistency, please adjust your settings.',\n      serverError: 'There was an issue querying the server.',\n      maxResults: 'Results must be an array to use maxResults setting',\n      method: 'The method you called is not defined.'\n    },\n    metadata: {\n      cache: 'cache',\n      results: 'results',\n      result: 'result'\n    },\n    regExp: {\n      escape: /[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g,\n      beginsWith: '(?:\\s|^)'\n    },\n    // maps api response attributes to internal representation\n    fields: {\n      categories: 'results',\n      // array of categories (category view)\n      categoryName: 'name',\n      // name of category (category view)\n      categoryResults: 'results',\n      // array of results (category view)\n      description: 'description',\n      // result description\n      image: 'image',\n      // result image\n      price: 'price',\n      // result price\n      results: 'results',\n      // array of results (standard)\n      title: 'title',\n      // result title\n      url: 'url',\n      // result url\n      action: 'action',\n      // \"view more\" object name\n      actionText: 'text',\n      // \"view more\" text\n      actionURL: 'url' // \"view more\" url\n\n    },\n    selector: {\n      prompt: '.prompt',\n      searchButton: '.search.button',\n      results: '.results',\n      message: '.results > .message',\n      category: '.category',\n      result: '.result',\n      title: '.title, .name'\n    },\n    templates: {\n      escape: function (string) {\n        var badChars = /[&<>\"'`]/g,\n            shouldEscape = /[&<>\"'`]/,\n            escape = {\n          \"&\": \"&amp;\",\n          \"<\": \"&lt;\",\n          \">\": \"&gt;\",\n          '\"': \"&quot;\",\n          \"'\": \"&#x27;\",\n          \"`\": \"&#x60;\"\n        },\n            escapedChar = function (chr) {\n          return escape[chr];\n        };\n\n        if (shouldEscape.test(string)) {\n          return string.replace(badChars, escapedChar);\n        }\n\n        return string;\n      },\n      message: function (message, type) {\n        var html = '';\n\n        if (message !== undefined && type !== undefined) {\n          html += '' + '<div class=\"message ' + type + '\">'; // message type\n\n          if (type == 'empty') {\n            html += '' + '<div class=\"header\">No Results</div class=\"header\">' + '<div class=\"description\">' + message + '</div class=\"description\">';\n          } else {\n            html += ' <div class=\"description\">' + message + '</div>';\n          }\n\n          html += '</div>';\n        }\n\n        return html;\n      },\n      category: function (response, fields) {\n        var html = '',\n            escape = $.fn.search.settings.templates.escape;\n\n        if (response[fields.categoryResults] !== undefined) {\n          // each category\n          $.each(response[fields.categoryResults], function (index, category) {\n            if (category[fields.results] !== undefined && category.results.length > 0) {\n              html += '<div class=\"category\">';\n\n              if (category[fields.categoryName] !== undefined) {\n                html += '<div class=\"name\">' + category[fields.categoryName] + '</div>';\n              } // each item inside category\n\n\n              html += '<div class=\"results\">';\n              $.each(category.results, function (index, result) {\n                if (result[fields.url]) {\n                  html += '<a class=\"result\" href=\"' + result[fields.url] + '\">';\n                } else {\n                  html += '<a class=\"result\">';\n                }\n\n                if (result[fields.image] !== undefined) {\n                  html += '' + '<div class=\"image\">' + ' <img src=\"' + result[fields.image] + '\">' + '</div>';\n                }\n\n                html += '<div class=\"content\">';\n\n                if (result[fields.price] !== undefined) {\n                  html += '<div class=\"price\">' + result[fields.price] + '</div>';\n                }\n\n                if (result[fields.title] !== undefined) {\n                  html += '<div class=\"title\">' + result[fields.title] + '</div>';\n                }\n\n                if (result[fields.description] !== undefined) {\n                  html += '<div class=\"description\">' + result[fields.description] + '</div>';\n                }\n\n                html += '' + '</div>';\n                html += '</a>';\n              });\n              html += '</div>';\n              html += '' + '</div>';\n            }\n          });\n\n          if (response[fields.action]) {\n            html += '' + '<a href=\"' + response[fields.action][fields.actionURL] + '\" class=\"action\">' + response[fields.action][fields.actionText] + '</a>';\n          }\n\n          return html;\n        }\n\n        return false;\n      },\n      standard: function (response, fields) {\n        var html = '';\n\n        if (response[fields.results] !== undefined) {\n          // each result\n          $.each(response[fields.results], function (index, result) {\n            if (result[fields.url]) {\n              html += '<a class=\"result\" href=\"' + result[fields.url] + '\">';\n            } else {\n              html += '<a class=\"result\">';\n            }\n\n            if (result[fields.image] !== undefined) {\n              html += '' + '<div class=\"image\">' + ' <img src=\"' + result[fields.image] + '\">' + '</div>';\n            }\n\n            html += '<div class=\"content\">';\n\n            if (result[fields.price] !== undefined) {\n              html += '<div class=\"price\">' + result[fields.price] + '</div>';\n            }\n\n            if (result[fields.title] !== undefined) {\n              html += '<div class=\"title\">' + result[fields.title] + '</div>';\n            }\n\n            if (result[fields.description] !== undefined) {\n              html += '<div class=\"description\">' + result[fields.description] + '</div>';\n            }\n\n            html += '' + '</div>';\n            html += '</a>';\n          });\n\n          if (response[fields.action]) {\n            html += '' + '<a href=\"' + response[fields.action][fields.actionURL] + '\" class=\"action\">' + response[fields.action][fields.actionText] + '</a>';\n          }\n\n          return html;\n        }\n\n        return false;\n      }\n    }\n  };\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"shape.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/modules/shape.js                                                                           //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * # Semantic UI - Shape\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.shape = function (parameters) {\n    var $allModules = $(this),\n        $body = $('body'),\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {\n      setTimeout(callback, 0);\n    },\n        returnedValue;\n\n    $allModules.each(function () {\n      var moduleSelector = $allModules.selector || '',\n          settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.shape.settings, parameters) : $.extend({}, $.fn.shape.settings),\n          // internal aliases\n      namespace = settings.namespace,\n          selector = settings.selector,\n          error = settings.error,\n          className = settings.className,\n          // define namespaces for modules\n      eventNamespace = '.' + namespace,\n          moduleNamespace = 'module-' + namespace,\n          // selector cache\n      $module = $(this),\n          $sides = $module.find(selector.sides),\n          $side = $module.find(selector.side),\n          // private variables\n      nextIndex = false,\n          $activeSide,\n          $nextSide,\n          // standard module\n      element = this,\n          instance = $module.data(moduleNamespace),\n          module;\n      module = {\n        initialize: function () {\n          module.verbose('Initializing module for', element);\n          module.set.defaultSide();\n          module.instantiate();\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module.data(moduleNamespace, instance);\n        },\n        destroy: function () {\n          module.verbose('Destroying previous module for', element);\n          $module.removeData(moduleNamespace).off(eventNamespace);\n        },\n        refresh: function () {\n          module.verbose('Refreshing selector cache for', element);\n          $module = $(element);\n          $sides = $(this).find(selector.shape);\n          $side = $(this).find(selector.side);\n        },\n        repaint: function () {\n          module.verbose('Forcing repaint event');\n          var shape = $sides[0] || document.createElement('div'),\n              fakeAssignment = shape.offsetWidth;\n        },\n        animate: function (propertyObject, callback) {\n          module.verbose('Animating box with properties', propertyObject);\n\n          callback = callback || function (event) {\n            module.verbose('Executing animation callback');\n\n            if (event !== undefined) {\n              event.stopPropagation();\n            }\n\n            module.reset();\n            module.set.active();\n          };\n\n          settings.beforeChange.call($nextSide[0]);\n\n          if (module.get.transitionEvent()) {\n            module.verbose('Starting CSS animation');\n            $module.addClass(className.animating);\n            $sides.css(propertyObject).one(module.get.transitionEvent(), callback);\n            module.set.duration(settings.duration);\n            requestAnimationFrame(function () {\n              $module.addClass(className.animating);\n              $activeSide.addClass(className.hidden);\n            });\n          } else {\n            callback();\n          }\n        },\n        queue: function (method) {\n          module.debug('Queueing animation of', method);\n          $sides.one(module.get.transitionEvent(), function () {\n            module.debug('Executing queued animation');\n            setTimeout(function () {\n              $module.shape(method);\n            }, 0);\n          });\n        },\n        reset: function () {\n          module.verbose('Animating states reset');\n          $module.removeClass(className.animating).attr('style', '').removeAttr('style'); // removeAttr style does not consistently work in safari\n\n          $sides.attr('style', '').removeAttr('style');\n          $side.attr('style', '').removeAttr('style').removeClass(className.hidden);\n          $nextSide.removeClass(className.animating).attr('style', '').removeAttr('style');\n        },\n        is: {\n          complete: function () {\n            return $side.filter('.' + className.active)[0] == $nextSide[0];\n          },\n          animating: function () {\n            return $module.hasClass(className.animating);\n          }\n        },\n        set: {\n          defaultSide: function () {\n            $activeSide = $module.find('.' + settings.className.active);\n            $nextSide = $activeSide.next(selector.side).length > 0 ? $activeSide.next(selector.side) : $module.find(selector.side).first();\n            nextIndex = false;\n            module.verbose('Active side set to', $activeSide);\n            module.verbose('Next side set to', $nextSide);\n          },\n          duration: function (duration) {\n            duration = duration || settings.duration;\n            duration = typeof duration == 'number' ? duration + 'ms' : duration;\n            module.verbose('Setting animation duration', duration);\n\n            if (settings.duration || settings.duration === 0) {\n              $sides.add($side).css({\n                '-webkit-transition-duration': duration,\n                '-moz-transition-duration': duration,\n                '-ms-transition-duration': duration,\n                '-o-transition-duration': duration,\n                'transition-duration': duration\n              });\n            }\n          },\n          currentStageSize: function () {\n            var $activeSide = $module.find('.' + settings.className.active),\n                width = $activeSide.outerWidth(true),\n                height = $activeSide.outerHeight(true);\n            $module.css({\n              width: width,\n              height: height\n            });\n          },\n          stageSize: function () {\n            var $clone = $module.clone().addClass(className.loading),\n                $activeSide = $clone.find('.' + settings.className.active),\n                $nextSide = nextIndex ? $clone.find(selector.side).eq(nextIndex) : $activeSide.next(selector.side).length > 0 ? $activeSide.next(selector.side) : $clone.find(selector.side).first(),\n                newWidth = settings.width == 'next' ? $nextSide.outerWidth(true) : settings.width == 'initial' ? $module.width() : settings.width,\n                newHeight = settings.height == 'next' ? $nextSide.outerHeight(true) : settings.height == 'initial' ? $module.height() : settings.height;\n            $activeSide.removeClass(className.active);\n            $nextSide.addClass(className.active);\n            $clone.insertAfter($module);\n            $clone.remove();\n\n            if (settings.width != 'auto') {\n              $module.css('width', newWidth + settings.jitter);\n              module.verbose('Specifying width during animation', newWidth);\n            }\n\n            if (settings.height != 'auto') {\n              $module.css('height', newHeight + settings.jitter);\n              module.verbose('Specifying height during animation', newHeight);\n            }\n          },\n          nextSide: function (selector) {\n            nextIndex = selector;\n            $nextSide = $side.filter(selector);\n            nextIndex = $side.index($nextSide);\n\n            if ($nextSide.length === 0) {\n              module.set.defaultSide();\n              module.error(error.side);\n            }\n\n            module.verbose('Next side manually set to', $nextSide);\n          },\n          active: function () {\n            module.verbose('Setting new side to active', $nextSide);\n            $side.removeClass(className.active);\n            $nextSide.addClass(className.active);\n            settings.onChange.call($nextSide[0]);\n            module.set.defaultSide();\n          }\n        },\n        flip: {\n          up: function () {\n            if (module.is.complete() && !module.is.animating() && !settings.allowRepeats) {\n              module.debug('Side already visible', $nextSide);\n              return;\n            }\n\n            if (!module.is.animating()) {\n              module.debug('Flipping up', $nextSide);\n              var transform = module.get.transform.up();\n              module.set.stageSize();\n              module.stage.above();\n              module.animate(transform);\n            } else {\n              module.queue('flip up');\n            }\n          },\n          down: function () {\n            if (module.is.complete() && !module.is.animating() && !settings.allowRepeats) {\n              module.debug('Side already visible', $nextSide);\n              return;\n            }\n\n            if (!module.is.animating()) {\n              module.debug('Flipping down', $nextSide);\n              var transform = module.get.transform.down();\n              module.set.stageSize();\n              module.stage.below();\n              module.animate(transform);\n            } else {\n              module.queue('flip down');\n            }\n          },\n          left: function () {\n            if (module.is.complete() && !module.is.animating() && !settings.allowRepeats) {\n              module.debug('Side already visible', $nextSide);\n              return;\n            }\n\n            if (!module.is.animating()) {\n              module.debug('Flipping left', $nextSide);\n              var transform = module.get.transform.left();\n              module.set.stageSize();\n              module.stage.left();\n              module.animate(transform);\n            } else {\n              module.queue('flip left');\n            }\n          },\n          right: function () {\n            if (module.is.complete() && !module.is.animating() && !settings.allowRepeats) {\n              module.debug('Side already visible', $nextSide);\n              return;\n            }\n\n            if (!module.is.animating()) {\n              module.debug('Flipping right', $nextSide);\n              var transform = module.get.transform.right();\n              module.set.stageSize();\n              module.stage.right();\n              module.animate(transform);\n            } else {\n              module.queue('flip right');\n            }\n          },\n          over: function () {\n            if (module.is.complete() && !module.is.animating() && !settings.allowRepeats) {\n              module.debug('Side already visible', $nextSide);\n              return;\n            }\n\n            if (!module.is.animating()) {\n              module.debug('Flipping over', $nextSide);\n              module.set.stageSize();\n              module.stage.behind();\n              module.animate(module.get.transform.over());\n            } else {\n              module.queue('flip over');\n            }\n          },\n          back: function () {\n            if (module.is.complete() && !module.is.animating() && !settings.allowRepeats) {\n              module.debug('Side already visible', $nextSide);\n              return;\n            }\n\n            if (!module.is.animating()) {\n              module.debug('Flipping back', $nextSide);\n              module.set.stageSize();\n              module.stage.behind();\n              module.animate(module.get.transform.back());\n            } else {\n              module.queue('flip back');\n            }\n          }\n        },\n        get: {\n          transform: {\n            up: function () {\n              var translate = {\n                y: -(($activeSide.outerHeight(true) - $nextSide.outerHeight(true)) / 2),\n                z: -($activeSide.outerHeight(true) / 2)\n              };\n              return {\n                transform: 'translateY(' + translate.y + 'px) translateZ(' + translate.z + 'px) rotateX(-90deg)'\n              };\n            },\n            down: function () {\n              var translate = {\n                y: -(($activeSide.outerHeight(true) - $nextSide.outerHeight(true)) / 2),\n                z: -($activeSide.outerHeight(true) / 2)\n              };\n              return {\n                transform: 'translateY(' + translate.y + 'px) translateZ(' + translate.z + 'px) rotateX(90deg)'\n              };\n            },\n            left: function () {\n              var translate = {\n                x: -(($activeSide.outerWidth(true) - $nextSide.outerWidth(true)) / 2),\n                z: -($activeSide.outerWidth(true) / 2)\n              };\n              return {\n                transform: 'translateX(' + translate.x + 'px) translateZ(' + translate.z + 'px) rotateY(90deg)'\n              };\n            },\n            right: function () {\n              var translate = {\n                x: -(($activeSide.outerWidth(true) - $nextSide.outerWidth(true)) / 2),\n                z: -($activeSide.outerWidth(true) / 2)\n              };\n              return {\n                transform: 'translateX(' + translate.x + 'px) translateZ(' + translate.z + 'px) rotateY(-90deg)'\n              };\n            },\n            over: function () {\n              var translate = {\n                x: -(($activeSide.outerWidth(true) - $nextSide.outerWidth(true)) / 2)\n              };\n              return {\n                transform: 'translateX(' + translate.x + 'px) rotateY(180deg)'\n              };\n            },\n            back: function () {\n              var translate = {\n                x: -(($activeSide.outerWidth(true) - $nextSide.outerWidth(true)) / 2)\n              };\n              return {\n                transform: 'translateX(' + translate.x + 'px) rotateY(-180deg)'\n              };\n            }\n          },\n          transitionEvent: function () {\n            var element = document.createElement('element'),\n                transitions = {\n              'transition': 'transitionend',\n              'OTransition': 'oTransitionEnd',\n              'MozTransition': 'transitionend',\n              'WebkitTransition': 'webkitTransitionEnd'\n            },\n                transition;\n\n            for (transition in meteorBabelHelpers.sanitizeForInObject(transitions)) {\n              if (element.style[transition] !== undefined) {\n                return transitions[transition];\n              }\n            }\n          },\n          nextSide: function () {\n            return $activeSide.next(selector.side).length > 0 ? $activeSide.next(selector.side) : $module.find(selector.side).first();\n          }\n        },\n        stage: {\n          above: function () {\n            var box = {\n              origin: ($activeSide.outerHeight(true) - $nextSide.outerHeight(true)) / 2,\n              depth: {\n                active: $nextSide.outerHeight(true) / 2,\n                next: $activeSide.outerHeight(true) / 2\n              }\n            };\n            module.verbose('Setting the initial animation position as above', $nextSide, box);\n            $sides.css({\n              'transform': 'translateZ(-' + box.depth.active + 'px)'\n            });\n            $activeSide.css({\n              'transform': 'rotateY(0deg) translateZ(' + box.depth.active + 'px)'\n            });\n            $nextSide.addClass(className.animating).css({\n              'top': box.origin + 'px',\n              'transform': 'rotateX(90deg) translateZ(' + box.depth.next + 'px)'\n            });\n          },\n          below: function () {\n            var box = {\n              origin: ($activeSide.outerHeight(true) - $nextSide.outerHeight(true)) / 2,\n              depth: {\n                active: $nextSide.outerHeight(true) / 2,\n                next: $activeSide.outerHeight(true) / 2\n              }\n            };\n            module.verbose('Setting the initial animation position as below', $nextSide, box);\n            $sides.css({\n              'transform': 'translateZ(-' + box.depth.active + 'px)'\n            });\n            $activeSide.css({\n              'transform': 'rotateY(0deg) translateZ(' + box.depth.active + 'px)'\n            });\n            $nextSide.addClass(className.animating).css({\n              'top': box.origin + 'px',\n              'transform': 'rotateX(-90deg) translateZ(' + box.depth.next + 'px)'\n            });\n          },\n          left: function () {\n            var height = {\n              active: $activeSide.outerWidth(true),\n              next: $nextSide.outerWidth(true)\n            },\n                box = {\n              origin: (height.active - height.next) / 2,\n              depth: {\n                active: height.next / 2,\n                next: height.active / 2\n              }\n            };\n            module.verbose('Setting the initial animation position as left', $nextSide, box);\n            $sides.css({\n              'transform': 'translateZ(-' + box.depth.active + 'px)'\n            });\n            $activeSide.css({\n              'transform': 'rotateY(0deg) translateZ(' + box.depth.active + 'px)'\n            });\n            $nextSide.addClass(className.animating).css({\n              'left': box.origin + 'px',\n              'transform': 'rotateY(-90deg) translateZ(' + box.depth.next + 'px)'\n            });\n          },\n          right: function () {\n            var height = {\n              active: $activeSide.outerWidth(true),\n              next: $nextSide.outerWidth(true)\n            },\n                box = {\n              origin: (height.active - height.next) / 2,\n              depth: {\n                active: height.next / 2,\n                next: height.active / 2\n              }\n            };\n            module.verbose('Setting the initial animation position as left', $nextSide, box);\n            $sides.css({\n              'transform': 'translateZ(-' + box.depth.active + 'px)'\n            });\n            $activeSide.css({\n              'transform': 'rotateY(0deg) translateZ(' + box.depth.active + 'px)'\n            });\n            $nextSide.addClass(className.animating).css({\n              'left': box.origin + 'px',\n              'transform': 'rotateY(90deg) translateZ(' + box.depth.next + 'px)'\n            });\n          },\n          behind: function () {\n            var height = {\n              active: $activeSide.outerWidth(true),\n              next: $nextSide.outerWidth(true)\n            },\n                box = {\n              origin: (height.active - height.next) / 2,\n              depth: {\n                active: height.next / 2,\n                next: height.active / 2\n              }\n            };\n            module.verbose('Setting the initial animation position as behind', $nextSide, box);\n            $activeSide.css({\n              'transform': 'rotateY(0deg)'\n            });\n            $nextSide.addClass(className.animating).css({\n              'left': box.origin + 'px',\n              'transform': 'rotateY(-180deg)'\n            });\n          }\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.shape.settings = {\n    // module info\n    name: 'Shape',\n    // hide all debug content\n    silent: false,\n    // debug content outputted to console\n    debug: false,\n    // verbose debug output\n    verbose: false,\n    // fudge factor in pixels when swapping from 2d to 3d (can be useful to correct rounding errors)\n    jitter: 0,\n    // performance data output\n    performance: true,\n    // event namespace\n    namespace: 'shape',\n    // width during animation, can be set to 'auto', initial', 'next' or pixel amount\n    width: 'initial',\n    // height during animation, can be set to 'auto', 'initial', 'next' or pixel amount\n    height: 'initial',\n    // callback occurs on side change\n    beforeChange: function () {},\n    onChange: function () {},\n    // allow animation to same side\n    allowRepeats: false,\n    // animation duration\n    duration: false,\n    // possible errors\n    error: {\n      side: 'You tried to switch to a side that does not exist.',\n      method: 'The method you called is not defined'\n    },\n    // classnames used\n    className: {\n      animating: 'animating',\n      hidden: 'hidden',\n      loading: 'loading',\n      active: 'active'\n    },\n    // selectors used\n    selector: {\n      sides: '.sides',\n      side: '.side'\n    }\n  };\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"sidebar.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/modules/sidebar.js                                                                         //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * # Semantic UI - Sidebar\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.sidebar = function (parameters) {\n    var $allModules = $(this),\n        $window = $(window),\n        $document = $(document),\n        $html = $('html'),\n        $head = $('head'),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {\n      setTimeout(callback, 0);\n    },\n        returnedValue;\n\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.sidebar.settings, parameters) : $.extend({}, $.fn.sidebar.settings),\n          selector = settings.selector,\n          className = settings.className,\n          namespace = settings.namespace,\n          regExp = settings.regExp,\n          error = settings.error,\n          eventNamespace = '.' + namespace,\n          moduleNamespace = 'module-' + namespace,\n          $module = $(this),\n          $context = $(settings.context),\n          $sidebars = $module.children(selector.sidebar),\n          $fixed = $context.children(selector.fixed),\n          $pusher = $context.children(selector.pusher),\n          $style,\n          element = this,\n          instance = $module.data(moduleNamespace),\n          elementNamespace,\n          id,\n          currentScroll,\n          transitionEvent,\n          module;\n      module = {\n        initialize: function () {\n          module.debug('Initializing sidebar', parameters);\n          module.create.id();\n          transitionEvent = module.get.transitionEvent(); // avoids locking rendering if initialized in onReady\n\n          if (settings.delaySetup) {\n            requestAnimationFrame(module.setup.layout);\n          } else {\n            module.setup.layout();\n          }\n\n          requestAnimationFrame(function () {\n            module.setup.cache();\n          });\n          module.instantiate();\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module.data(moduleNamespace, module);\n        },\n        create: {\n          id: function () {\n            id = (Math.random().toString(16) + '000000000').substr(2, 8);\n            elementNamespace = '.' + id;\n            module.verbose('Creating unique id for element', id);\n          }\n        },\n        destroy: function () {\n          module.verbose('Destroying previous module for', $module);\n          $module.off(eventNamespace).removeData(moduleNamespace);\n\n          if (module.is.ios()) {\n            module.remove.ios();\n          } // bound by uuid\n\n\n          $context.off(elementNamespace);\n          $window.off(elementNamespace);\n          $document.off(elementNamespace);\n        },\n        event: {\n          clickaway: function (event) {\n            var clickedInPusher = $pusher.find(event.target).length > 0 || $pusher.is(event.target),\n                clickedContext = $context.is(event.target);\n\n            if (clickedInPusher) {\n              module.verbose('User clicked on dimmed page');\n              module.hide();\n            }\n\n            if (clickedContext) {\n              module.verbose('User clicked on dimmable context (scaled out page)');\n              module.hide();\n            }\n          },\n          touch: function (event) {//event.stopPropagation();\n          },\n          containScroll: function (event) {\n            if (element.scrollTop <= 0) {\n              element.scrollTop = 1;\n            }\n\n            if (element.scrollTop + element.offsetHeight >= element.scrollHeight) {\n              element.scrollTop = element.scrollHeight - element.offsetHeight - 1;\n            }\n          },\n          scroll: function (event) {\n            if ($(event.target).closest(selector.sidebar).length === 0) {\n              event.preventDefault();\n            }\n          }\n        },\n        bind: {\n          clickaway: function () {\n            module.verbose('Adding clickaway events to context', $context);\n\n            if (settings.closable) {\n              $context.on('click' + elementNamespace, module.event.clickaway).on('touchend' + elementNamespace, module.event.clickaway);\n            }\n          },\n          scrollLock: function () {\n            if (settings.scrollLock) {\n              module.debug('Disabling page scroll');\n              $window.on('DOMMouseScroll' + elementNamespace, module.event.scroll);\n            }\n\n            module.verbose('Adding events to contain sidebar scroll');\n            $document.on('touchmove' + elementNamespace, module.event.touch);\n            $module.on('scroll' + eventNamespace, module.event.containScroll);\n          }\n        },\n        unbind: {\n          clickaway: function () {\n            module.verbose('Removing clickaway events from context', $context);\n            $context.off(elementNamespace);\n          },\n          scrollLock: function () {\n            module.verbose('Removing scroll lock from page');\n            $document.off(elementNamespace);\n            $window.off(elementNamespace);\n            $module.off('scroll' + eventNamespace);\n          }\n        },\n        add: {\n          inlineCSS: function () {\n            var width = module.cache.width || $module.outerWidth(),\n                height = module.cache.height || $module.outerHeight(),\n                isRTL = module.is.rtl(),\n                direction = module.get.direction(),\n                distance = {\n              left: width,\n              right: -width,\n              top: height,\n              bottom: -height\n            },\n                style;\n\n            if (isRTL) {\n              module.verbose('RTL detected, flipping widths');\n              distance.left = -width;\n              distance.right = width;\n            }\n\n            style = '<style>';\n\n            if (direction === 'left' || direction === 'right') {\n              module.debug('Adding CSS rules for animation distance', width);\n              style += '' + ' .ui.visible.' + direction + '.sidebar ~ .fixed,' + ' .ui.visible.' + direction + '.sidebar ~ .pusher {' + '   -webkit-transform: translate3d(' + distance[direction] + 'px, 0, 0);' + '           transform: translate3d(' + distance[direction] + 'px, 0, 0);' + ' }';\n            } else if (direction === 'top' || direction == 'bottom') {\n              style += '' + ' .ui.visible.' + direction + '.sidebar ~ .fixed,' + ' .ui.visible.' + direction + '.sidebar ~ .pusher {' + '   -webkit-transform: translate3d(0, ' + distance[direction] + 'px, 0);' + '           transform: translate3d(0, ' + distance[direction] + 'px, 0);' + ' }';\n            }\n            /* IE is only browser not to create context with transforms */\n\n            /* https://www.w3.org/Bugs/Public/show_bug.cgi?id=16328 */\n\n\n            if (module.is.ie()) {\n              if (direction === 'left' || direction === 'right') {\n                module.debug('Adding CSS rules for animation distance', width);\n                style += '' + ' body.pushable > .ui.visible.' + direction + '.sidebar ~ .pusher:after {' + '   -webkit-transform: translate3d(' + distance[direction] + 'px, 0, 0);' + '           transform: translate3d(' + distance[direction] + 'px, 0, 0);' + ' }';\n              } else if (direction === 'top' || direction == 'bottom') {\n                style += '' + ' body.pushable > .ui.visible.' + direction + '.sidebar ~ .pusher:after {' + '   -webkit-transform: translate3d(0, ' + distance[direction] + 'px, 0);' + '           transform: translate3d(0, ' + distance[direction] + 'px, 0);' + ' }';\n              }\n              /* opposite sides visible forces content overlay */\n\n\n              style += '' + ' body.pushable > .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .pusher:after,' + ' body.pushable > .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .pusher:after {' + '   -webkit-transform: translate3d(0px, 0, 0);' + '           transform: translate3d(0px, 0, 0);' + ' }';\n            }\n\n            style += '</style>';\n            $style = $(style).appendTo($head);\n            module.debug('Adding sizing css to head', $style);\n          }\n        },\n        refresh: function () {\n          module.verbose('Refreshing selector cache');\n          $context = $(settings.context);\n          $sidebars = $context.children(selector.sidebar);\n          $pusher = $context.children(selector.pusher);\n          $fixed = $context.children(selector.fixed);\n          module.clear.cache();\n        },\n        refreshSidebars: function () {\n          module.verbose('Refreshing other sidebars');\n          $sidebars = $context.children(selector.sidebar);\n        },\n        repaint: function () {\n          module.verbose('Forcing repaint event');\n          element.style.display = 'none';\n          var ignored = element.offsetHeight;\n          element.scrollTop = element.scrollTop;\n          element.style.display = '';\n        },\n        setup: {\n          cache: function () {\n            module.cache = {\n              width: $module.outerWidth(),\n              height: $module.outerHeight(),\n              rtl: $module.css('direction') == 'rtl'\n            };\n          },\n          layout: function () {\n            if ($context.children(selector.pusher).length === 0) {\n              module.debug('Adding wrapper element for sidebar');\n              module.error(error.pusher);\n              $pusher = $('<div class=\"pusher\" />');\n              $context.children().not(selector.omitted).not($sidebars).wrapAll($pusher);\n              module.refresh();\n            }\n\n            if ($module.nextAll(selector.pusher).length === 0 || $module.nextAll(selector.pusher)[0] !== $pusher[0]) {\n              module.debug('Moved sidebar to correct parent element');\n              module.error(error.movedSidebar, element);\n              $module.detach().prependTo($context);\n              module.refresh();\n            }\n\n            module.clear.cache();\n            module.set.pushable();\n            module.set.direction();\n          }\n        },\n        attachEvents: function (selector, event) {\n          var $toggle = $(selector);\n          event = $.isFunction(module[event]) ? module[event] : module.toggle;\n\n          if ($toggle.length > 0) {\n            module.debug('Attaching sidebar events to element', selector, event);\n            $toggle.on('click' + eventNamespace, event);\n          } else {\n            module.error(error.notFound, selector);\n          }\n        },\n        show: function (callback) {\n          callback = $.isFunction(callback) ? callback : function () {};\n\n          if (module.is.hidden()) {\n            module.refreshSidebars();\n\n            if (settings.overlay) {\n              module.error(error.overlay);\n              settings.transition = 'overlay';\n            }\n\n            module.refresh();\n\n            if (module.othersActive()) {\n              module.debug('Other sidebars currently visible');\n\n              if (settings.exclusive) {\n                // if not overlay queue animation after hide\n                if (settings.transition != 'overlay') {\n                  module.hideOthers(module.show);\n                  return;\n                } else {\n                  module.hideOthers();\n                }\n              } else {\n                settings.transition = 'overlay';\n              }\n            }\n\n            module.pushPage(function () {\n              callback.call(element);\n              settings.onShow.call(element);\n            });\n            settings.onChange.call(element);\n            settings.onVisible.call(element);\n          } else {\n            module.debug('Sidebar is already visible');\n          }\n        },\n        hide: function (callback) {\n          callback = $.isFunction(callback) ? callback : function () {};\n\n          if (module.is.visible() || module.is.animating()) {\n            module.debug('Hiding sidebar', callback);\n            module.refreshSidebars();\n            module.pullPage(function () {\n              callback.call(element);\n              settings.onHidden.call(element);\n            });\n            settings.onChange.call(element);\n            settings.onHide.call(element);\n          }\n        },\n        othersAnimating: function () {\n          return $sidebars.not($module).filter('.' + className.animating).length > 0;\n        },\n        othersVisible: function () {\n          return $sidebars.not($module).filter('.' + className.visible).length > 0;\n        },\n        othersActive: function () {\n          return module.othersVisible() || module.othersAnimating();\n        },\n        hideOthers: function (callback) {\n          var $otherSidebars = $sidebars.not($module).filter('.' + className.visible),\n              sidebarCount = $otherSidebars.length,\n              callbackCount = 0;\n\n          callback = callback || function () {};\n\n          $otherSidebars.sidebar('hide', function () {\n            callbackCount++;\n\n            if (callbackCount == sidebarCount) {\n              callback();\n            }\n          });\n        },\n        toggle: function () {\n          module.verbose('Determining toggled direction');\n\n          if (module.is.hidden()) {\n            module.show();\n          } else {\n            module.hide();\n          }\n        },\n        pushPage: function (callback) {\n          var transition = module.get.transition(),\n              $transition = transition === 'overlay' || module.othersActive() ? $module : $pusher,\n              animate,\n              dim,\n              transitionEnd;\n          callback = $.isFunction(callback) ? callback : function () {};\n\n          if (settings.transition == 'scale down') {\n            module.scrollToTop();\n          }\n\n          module.set.transition(transition);\n          module.repaint();\n\n          animate = function () {\n            module.bind.clickaway();\n            module.add.inlineCSS();\n            module.set.animating();\n            module.set.visible();\n          };\n\n          dim = function () {\n            module.set.dimmed();\n          };\n\n          transitionEnd = function (event) {\n            if (event.target == $transition[0]) {\n              $transition.off(transitionEvent + elementNamespace, transitionEnd);\n              module.remove.animating();\n              module.bind.scrollLock();\n              callback.call(element);\n            }\n          };\n\n          $transition.off(transitionEvent + elementNamespace);\n          $transition.on(transitionEvent + elementNamespace, transitionEnd);\n          requestAnimationFrame(animate);\n\n          if (settings.dimPage && !module.othersVisible()) {\n            requestAnimationFrame(dim);\n          }\n        },\n        pullPage: function (callback) {\n          var transition = module.get.transition(),\n              $transition = transition == 'overlay' || module.othersActive() ? $module : $pusher,\n              animate,\n              transitionEnd;\n          callback = $.isFunction(callback) ? callback : function () {};\n          module.verbose('Removing context push state', module.get.direction());\n          module.unbind.clickaway();\n          module.unbind.scrollLock();\n\n          animate = function () {\n            module.set.transition(transition);\n            module.set.animating();\n            module.remove.visible();\n\n            if (settings.dimPage && !module.othersVisible()) {\n              $pusher.removeClass(className.dimmed);\n            }\n          };\n\n          transitionEnd = function (event) {\n            if (event.target == $transition[0]) {\n              $transition.off(transitionEvent + elementNamespace, transitionEnd);\n              module.remove.animating();\n              module.remove.transition();\n              module.remove.inlineCSS();\n\n              if (transition == 'scale down' || settings.returnScroll && module.is.mobile()) {\n                module.scrollBack();\n              }\n\n              callback.call(element);\n            }\n          };\n\n          $transition.off(transitionEvent + elementNamespace);\n          $transition.on(transitionEvent + elementNamespace, transitionEnd);\n          requestAnimationFrame(animate);\n        },\n        scrollToTop: function () {\n          module.verbose('Scrolling to top of page to avoid animation issues');\n          currentScroll = $(window).scrollTop();\n          $module.scrollTop(0);\n          window.scrollTo(0, 0);\n        },\n        scrollBack: function () {\n          module.verbose('Scrolling back to original page position');\n          window.scrollTo(0, currentScroll);\n        },\n        clear: {\n          cache: function () {\n            module.verbose('Clearing cached dimensions');\n            module.cache = {};\n          }\n        },\n        set: {\n          // ios only (scroll on html not document). This prevent auto-resize canvas/scroll in ios\n          // (This is no longer necessary in latest iOS)\n          ios: function () {\n            $html.addClass(className.ios);\n          },\n          // container\n          pushed: function () {\n            $context.addClass(className.pushed);\n          },\n          pushable: function () {\n            $context.addClass(className.pushable);\n          },\n          // pusher\n          dimmed: function () {\n            $pusher.addClass(className.dimmed);\n          },\n          // sidebar\n          active: function () {\n            $module.addClass(className.active);\n          },\n          animating: function () {\n            $module.addClass(className.animating);\n          },\n          transition: function (transition) {\n            transition = transition || module.get.transition();\n            $module.addClass(transition);\n          },\n          direction: function (direction) {\n            direction = direction || module.get.direction();\n            $module.addClass(className[direction]);\n          },\n          visible: function () {\n            $module.addClass(className.visible);\n          },\n          overlay: function () {\n            $module.addClass(className.overlay);\n          }\n        },\n        remove: {\n          inlineCSS: function () {\n            module.debug('Removing inline css styles', $style);\n\n            if ($style && $style.length > 0) {\n              $style.remove();\n            }\n          },\n          // ios scroll on html not document\n          ios: function () {\n            $html.removeClass(className.ios);\n          },\n          // context\n          pushed: function () {\n            $context.removeClass(className.pushed);\n          },\n          pushable: function () {\n            $context.removeClass(className.pushable);\n          },\n          // sidebar\n          active: function () {\n            $module.removeClass(className.active);\n          },\n          animating: function () {\n            $module.removeClass(className.animating);\n          },\n          transition: function (transition) {\n            transition = transition || module.get.transition();\n            $module.removeClass(transition);\n          },\n          direction: function (direction) {\n            direction = direction || module.get.direction();\n            $module.removeClass(className[direction]);\n          },\n          visible: function () {\n            $module.removeClass(className.visible);\n          },\n          overlay: function () {\n            $module.removeClass(className.overlay);\n          }\n        },\n        get: {\n          direction: function () {\n            if ($module.hasClass(className.top)) {\n              return className.top;\n            } else if ($module.hasClass(className.right)) {\n              return className.right;\n            } else if ($module.hasClass(className.bottom)) {\n              return className.bottom;\n            }\n\n            return className.left;\n          },\n          transition: function () {\n            var direction = module.get.direction(),\n                transition;\n            transition = module.is.mobile() ? settings.mobileTransition == 'auto' ? settings.defaultTransition.mobile[direction] : settings.mobileTransition : settings.transition == 'auto' ? settings.defaultTransition.computer[direction] : settings.transition;\n            module.verbose('Determined transition', transition);\n            return transition;\n          },\n          transitionEvent: function () {\n            var element = document.createElement('element'),\n                transitions = {\n              'transition': 'transitionend',\n              'OTransition': 'oTransitionEnd',\n              'MozTransition': 'transitionend',\n              'WebkitTransition': 'webkitTransitionEnd'\n            },\n                transition;\n\n            for (transition in meteorBabelHelpers.sanitizeForInObject(transitions)) {\n              if (element.style[transition] !== undefined) {\n                return transitions[transition];\n              }\n            }\n          }\n        },\n        is: {\n          ie: function () {\n            var isIE11 = !window.ActiveXObject && 'ActiveXObject' in window,\n                isIE = 'ActiveXObject' in window;\n            return isIE11 || isIE;\n          },\n          ios: function () {\n            var userAgent = navigator.userAgent,\n                isIOS = userAgent.match(regExp.ios),\n                isMobileChrome = userAgent.match(regExp.mobileChrome);\n\n            if (isIOS && !isMobileChrome) {\n              module.verbose('Browser was found to be iOS', userAgent);\n              return true;\n            } else {\n              return false;\n            }\n          },\n          mobile: function () {\n            var userAgent = navigator.userAgent,\n                isMobile = userAgent.match(regExp.mobile);\n\n            if (isMobile) {\n              module.verbose('Browser was found to be mobile', userAgent);\n              return true;\n            } else {\n              module.verbose('Browser is not mobile, using regular transition', userAgent);\n              return false;\n            }\n          },\n          hidden: function () {\n            return !module.is.visible();\n          },\n          visible: function () {\n            return $module.hasClass(className.visible);\n          },\n          // alias\n          open: function () {\n            return module.is.visible();\n          },\n          closed: function () {\n            return module.is.hidden();\n          },\n          vertical: function () {\n            return $module.hasClass(className.top);\n          },\n          animating: function () {\n            return $context.hasClass(className.animating);\n          },\n          rtl: function () {\n            if (module.cache.rtl === undefined) {\n              module.cache.rtl = $module.css('direction') == 'rtl';\n            }\n\n            return module.cache.rtl;\n          }\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          module.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.sidebar.settings = {\n    name: 'Sidebar',\n    namespace: 'sidebar',\n    silent: false,\n    debug: false,\n    verbose: false,\n    performance: true,\n    transition: 'auto',\n    mobileTransition: 'auto',\n    defaultTransition: {\n      computer: {\n        left: 'uncover',\n        right: 'uncover',\n        top: 'overlay',\n        bottom: 'overlay'\n      },\n      mobile: {\n        left: 'uncover',\n        right: 'uncover',\n        top: 'overlay',\n        bottom: 'overlay'\n      }\n    },\n    context: 'body',\n    exclusive: false,\n    closable: true,\n    dimPage: true,\n    scrollLock: false,\n    returnScroll: false,\n    delaySetup: false,\n    duration: 500,\n    onChange: function () {},\n    onShow: function () {},\n    onHide: function () {},\n    onHidden: function () {},\n    onVisible: function () {},\n    className: {\n      active: 'active',\n      animating: 'animating',\n      dimmed: 'dimmed',\n      ios: 'ios',\n      pushable: 'pushable',\n      pushed: 'pushed',\n      right: 'right',\n      top: 'top',\n      left: 'left',\n      bottom: 'bottom',\n      visible: 'visible'\n    },\n    selector: {\n      fixed: '.fixed',\n      omitted: 'script, link, style, .ui.modal, .ui.dimmer, .ui.nag, .ui.fixed',\n      pusher: '.pusher',\n      sidebar: '.ui.sidebar'\n    },\n    regExp: {\n      ios: /(iPad|iPhone|iPod)/g,\n      mobileChrome: /(CriOS)/g,\n      mobile: /Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/g\n    },\n    error: {\n      method: 'The method you called is not defined.',\n      pusher: 'Had to add pusher element. For optimal performance make sure body content is inside a pusher element',\n      movedSidebar: 'Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag',\n      overlay: 'The overlay setting is no longer supported, use animation: overlay',\n      notFound: 'There were no elements that matched the specified selector'\n    }\n  };\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"sticky.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/modules/sticky.js                                                                          //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * # Semantic UI - Sticky\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.sticky = function (parameters) {\n    var $allModules = $(this),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue;\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.sticky.settings, parameters) : $.extend({}, $.fn.sticky.settings),\n          className = settings.className,\n          namespace = settings.namespace,\n          error = settings.error,\n          eventNamespace = '.' + namespace,\n          moduleNamespace = 'module-' + namespace,\n          $module = $(this),\n          $window = $(window),\n          $scroll = $(settings.scrollContext),\n          $container,\n          $context,\n          selector = $module.selector || '',\n          instance = $module.data(moduleNamespace),\n          requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {\n        setTimeout(callback, 0);\n      },\n          element = this,\n          documentObserver,\n          observer,\n          module;\n\n      module = {\n        initialize: function () {\n          module.determineContainer();\n          module.determineContext();\n          module.verbose('Initializing sticky', settings, $container);\n          module.save.positions();\n          module.checkErrors();\n          module.bind.events();\n\n          if (settings.observeChanges) {\n            module.observeChanges();\n          }\n\n          module.instantiate();\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module.data(moduleNamespace, module);\n        },\n        destroy: function () {\n          module.verbose('Destroying previous instance');\n          module.reset();\n\n          if (documentObserver) {\n            documentObserver.disconnect();\n          }\n\n          if (observer) {\n            observer.disconnect();\n          }\n\n          $window.off('load' + eventNamespace, module.event.load).off('resize' + eventNamespace, module.event.resize);\n          $scroll.off('scrollchange' + eventNamespace, module.event.scrollchange);\n          $module.removeData(moduleNamespace);\n        },\n        observeChanges: function () {\n          if ('MutationObserver' in window) {\n            documentObserver = new MutationObserver(module.event.documentChanged);\n            observer = new MutationObserver(module.event.changed);\n            documentObserver.observe(document, {\n              childList: true,\n              subtree: true\n            });\n            observer.observe(element, {\n              childList: true,\n              subtree: true\n            });\n            observer.observe($context[0], {\n              childList: true,\n              subtree: true\n            });\n            module.debug('Setting up mutation observer', observer);\n          }\n        },\n        determineContainer: function () {\n          if (settings.container) {\n            $container = $(settings.container);\n          } else {\n            $container = $module.offsetParent();\n          }\n        },\n        determineContext: function () {\n          if (settings.context) {\n            $context = $(settings.context);\n          } else {\n            $context = $container;\n          }\n\n          if ($context.length === 0) {\n            module.error(error.invalidContext, settings.context, $module);\n            return;\n          }\n        },\n        checkErrors: function () {\n          if (module.is.hidden()) {\n            module.error(error.visible, $module);\n          }\n\n          if (module.cache.element.height > module.cache.context.height) {\n            module.reset();\n            module.error(error.elementSize, $module);\n            return;\n          }\n        },\n        bind: {\n          events: function () {\n            $window.on('load' + eventNamespace, module.event.load).on('resize' + eventNamespace, module.event.resize); // pub/sub pattern\n\n            $scroll.off('scroll' + eventNamespace).on('scroll' + eventNamespace, module.event.scroll).on('scrollchange' + eventNamespace, module.event.scrollchange);\n          }\n        },\n        event: {\n          changed: function (mutations) {\n            clearTimeout(module.timer);\n            module.timer = setTimeout(function () {\n              module.verbose('DOM tree modified, updating sticky menu', mutations);\n              module.refresh();\n            }, 100);\n          },\n          documentChanged: function (mutations) {\n            [].forEach.call(mutations, function (mutation) {\n              if (mutation.removedNodes) {\n                [].forEach.call(mutation.removedNodes, function (node) {\n                  if (node == element || $(node).find(element).length > 0) {\n                    module.debug('Element removed from DOM, tearing down events');\n                    module.destroy();\n                  }\n                });\n              }\n            });\n          },\n          load: function () {\n            module.verbose('Page contents finished loading');\n            requestAnimationFrame(module.refresh);\n          },\n          resize: function () {\n            module.verbose('Window resized');\n            requestAnimationFrame(module.refresh);\n          },\n          scroll: function () {\n            requestAnimationFrame(function () {\n              $scroll.triggerHandler('scrollchange' + eventNamespace, $scroll.scrollTop());\n            });\n          },\n          scrollchange: function (event, scrollPosition) {\n            module.stick(scrollPosition);\n            settings.onScroll.call(element);\n          }\n        },\n        refresh: function (hardRefresh) {\n          module.reset();\n\n          if (!settings.context) {\n            module.determineContext();\n          }\n\n          if (hardRefresh) {\n            module.determineContainer();\n          }\n\n          module.save.positions();\n          module.stick();\n          settings.onReposition.call(element);\n        },\n        supports: {\n          sticky: function () {\n            var $element = $('<div/>'),\n                element = $element[0];\n            $element.addClass(className.supported);\n            return $element.css('position').match('sticky');\n          }\n        },\n        save: {\n          lastScroll: function (scroll) {\n            module.lastScroll = scroll;\n          },\n          elementScroll: function (scroll) {\n            module.elementScroll = scroll;\n          },\n          positions: function () {\n            var scrollContext = {\n              height: $scroll.height()\n            },\n                element = {\n              margin: {\n                top: parseInt($module.css('margin-top'), 10),\n                bottom: parseInt($module.css('margin-bottom'), 10)\n              },\n              offset: $module.offset(),\n              width: $module.outerWidth(),\n              height: $module.outerHeight()\n            },\n                context = {\n              offset: $context.offset(),\n              height: $context.outerHeight()\n            },\n                container = {\n              height: $container.outerHeight()\n            };\n\n            if (!module.is.standardScroll()) {\n              module.debug('Non-standard scroll. Removing scroll offset from element offset');\n              scrollContext.top = $scroll.scrollTop();\n              scrollContext.left = $scroll.scrollLeft();\n              element.offset.top += scrollContext.top;\n              context.offset.top += scrollContext.top;\n              element.offset.left += scrollContext.left;\n              context.offset.left += scrollContext.left;\n            }\n\n            module.cache = {\n              fits: element.height + settings.offset <= scrollContext.height,\n              sameHeight: element.height == context.height,\n              scrollContext: {\n                height: scrollContext.height\n              },\n              element: {\n                margin: element.margin,\n                top: element.offset.top - element.margin.top,\n                left: element.offset.left,\n                width: element.width,\n                height: element.height,\n                bottom: element.offset.top + element.height\n              },\n              context: {\n                top: context.offset.top,\n                height: context.height,\n                bottom: context.offset.top + context.height\n              }\n            };\n            module.set.containerSize();\n            module.stick();\n            module.debug('Caching element positions', module.cache);\n          }\n        },\n        get: {\n          direction: function (scroll) {\n            var direction = 'down';\n            scroll = scroll || $scroll.scrollTop();\n\n            if (module.lastScroll !== undefined) {\n              if (module.lastScroll < scroll) {\n                direction = 'down';\n              } else if (module.lastScroll > scroll) {\n                direction = 'up';\n              }\n            }\n\n            return direction;\n          },\n          scrollChange: function (scroll) {\n            scroll = scroll || $scroll.scrollTop();\n            return module.lastScroll ? scroll - module.lastScroll : 0;\n          },\n          currentElementScroll: function () {\n            if (module.elementScroll) {\n              return module.elementScroll;\n            }\n\n            return module.is.top() ? Math.abs(parseInt($module.css('top'), 10)) || 0 : Math.abs(parseInt($module.css('bottom'), 10)) || 0;\n          },\n          elementScroll: function (scroll) {\n            scroll = scroll || $scroll.scrollTop();\n            var element = module.cache.element,\n                scrollContext = module.cache.scrollContext,\n                delta = module.get.scrollChange(scroll),\n                maxScroll = element.height - scrollContext.height + settings.offset,\n                elementScroll = module.get.currentElementScroll(),\n                possibleScroll = elementScroll + delta;\n\n            if (module.cache.fits || possibleScroll < 0) {\n              elementScroll = 0;\n            } else if (possibleScroll > maxScroll) {\n              elementScroll = maxScroll;\n            } else {\n              elementScroll = possibleScroll;\n            }\n\n            return elementScroll;\n          }\n        },\n        remove: {\n          lastScroll: function () {\n            delete module.lastScroll;\n          },\n          elementScroll: function (scroll) {\n            delete module.elementScroll;\n          },\n          minimumSize: function () {\n            $container.css('min-height', '');\n          },\n          offset: function () {\n            $module.css('margin-top', '');\n          }\n        },\n        set: {\n          offset: function () {\n            module.verbose('Setting offset on element', settings.offset);\n            $module.css('margin-top', settings.offset);\n          },\n          containerSize: function () {\n            var tagName = $container.get(0).tagName;\n\n            if (tagName === 'HTML' || tagName == 'body') {\n              // this can trigger for too many reasons\n              //module.error(error.container, tagName, $module);\n              module.determineContainer();\n            } else {\n              if (Math.abs($container.outerHeight() - module.cache.context.height) > settings.jitter) {\n                module.debug('Context has padding, specifying exact height for container', module.cache.context.height);\n                $container.css({\n                  height: module.cache.context.height\n                });\n              }\n            }\n          },\n          minimumSize: function () {\n            var element = module.cache.element;\n            $container.css('min-height', element.height);\n          },\n          scroll: function (scroll) {\n            module.debug('Setting scroll on element', scroll);\n\n            if (module.elementScroll == scroll) {\n              return;\n            }\n\n            if (module.is.top()) {\n              $module.css('bottom', '').css('top', -scroll);\n            }\n\n            if (module.is.bottom()) {\n              $module.css('top', '').css('bottom', scroll);\n            }\n          },\n          size: function () {\n            if (module.cache.element.height !== 0 && module.cache.element.width !== 0) {\n              element.style.setProperty('width', module.cache.element.width + 'px', 'important');\n              element.style.setProperty('height', module.cache.element.height + 'px', 'important');\n            }\n          }\n        },\n        is: {\n          standardScroll: function () {\n            return $scroll[0] == window;\n          },\n          top: function () {\n            return $module.hasClass(className.top);\n          },\n          bottom: function () {\n            return $module.hasClass(className.bottom);\n          },\n          initialPosition: function () {\n            return !module.is.fixed() && !module.is.bound();\n          },\n          hidden: function () {\n            return !$module.is(':visible');\n          },\n          bound: function () {\n            return $module.hasClass(className.bound);\n          },\n          fixed: function () {\n            return $module.hasClass(className.fixed);\n          }\n        },\n        stick: function (scroll) {\n          var cachedPosition = scroll || $scroll.scrollTop(),\n              cache = module.cache,\n              fits = cache.fits,\n              sameHeight = cache.sameHeight,\n              element = cache.element,\n              scrollContext = cache.scrollContext,\n              context = cache.context,\n              offset = module.is.bottom() && settings.pushing ? settings.bottomOffset : settings.offset,\n              scroll = {\n            top: cachedPosition + offset,\n            bottom: cachedPosition + offset + scrollContext.height\n          },\n              direction = module.get.direction(scroll.top),\n              elementScroll = fits ? 0 : module.get.elementScroll(scroll.top),\n              // shorthand\n          doesntFit = !fits,\n              elementVisible = element.height !== 0;\n\n          if (elementVisible && !sameHeight) {\n            if (module.is.initialPosition()) {\n              if (scroll.top >= context.bottom) {\n                module.debug('Initial element position is bottom of container');\n                module.bindBottom();\n              } else if (scroll.top > element.top) {\n                if (element.height + scroll.top - elementScroll >= context.bottom) {\n                  module.debug('Initial element position is bottom of container');\n                  module.bindBottom();\n                } else {\n                  module.debug('Initial element position is fixed');\n                  module.fixTop();\n                }\n              }\n            } else if (module.is.fixed()) {\n              // currently fixed top\n              if (module.is.top()) {\n                if (scroll.top <= element.top) {\n                  module.debug('Fixed element reached top of container');\n                  module.setInitialPosition();\n                } else if (element.height + scroll.top - elementScroll >= context.bottom) {\n                  module.debug('Fixed element reached bottom of container');\n                  module.bindBottom();\n                } // scroll element if larger than screen\n                else if (doesntFit) {\n                    module.set.scroll(elementScroll);\n                    module.save.lastScroll(scroll.top);\n                    module.save.elementScroll(elementScroll);\n                  }\n              } // currently fixed bottom\n              else if (module.is.bottom()) {\n                  // top edge\n                  if (scroll.bottom - element.height <= element.top) {\n                    module.debug('Bottom fixed rail has reached top of container');\n                    module.setInitialPosition();\n                  } // bottom edge\n                  else if (scroll.bottom >= context.bottom) {\n                      module.debug('Bottom fixed rail has reached bottom of container');\n                      module.bindBottom();\n                    } // scroll element if larger than screen\n                    else if (doesntFit) {\n                        module.set.scroll(elementScroll);\n                        module.save.lastScroll(scroll.top);\n                        module.save.elementScroll(elementScroll);\n                      }\n                }\n            } else if (module.is.bottom()) {\n              if (scroll.top <= element.top) {\n                module.debug('Jumped from bottom fixed to top fixed, most likely used home/end button');\n                module.setInitialPosition();\n              } else {\n                if (settings.pushing) {\n                  if (module.is.bound() && scroll.bottom <= context.bottom) {\n                    module.debug('Fixing bottom attached element to bottom of browser.');\n                    module.fixBottom();\n                  }\n                } else {\n                  if (module.is.bound() && scroll.top <= context.bottom - element.height) {\n                    module.debug('Fixing bottom attached element to top of browser.');\n                    module.fixTop();\n                  }\n                }\n              }\n            }\n          }\n        },\n        bindTop: function () {\n          module.debug('Binding element to top of parent container');\n          module.remove.offset();\n          $module.css({\n            left: '',\n            top: '',\n            marginBottom: ''\n          }).removeClass(className.fixed).removeClass(className.bottom).addClass(className.bound).addClass(className.top);\n          settings.onTop.call(element);\n          settings.onUnstick.call(element);\n        },\n        bindBottom: function () {\n          module.debug('Binding element to bottom of parent container');\n          module.remove.offset();\n          $module.css({\n            left: '',\n            top: ''\n          }).removeClass(className.fixed).removeClass(className.top).addClass(className.bound).addClass(className.bottom);\n          settings.onBottom.call(element);\n          settings.onUnstick.call(element);\n        },\n        setInitialPosition: function () {\n          module.debug('Returning to initial position');\n          module.unfix();\n          module.unbind();\n        },\n        fixTop: function () {\n          module.debug('Fixing element to top of page');\n\n          if (settings.setSize) {\n            module.set.size();\n          }\n\n          module.set.minimumSize();\n          module.set.offset();\n          $module.css({\n            left: module.cache.element.left,\n            bottom: '',\n            marginBottom: ''\n          }).removeClass(className.bound).removeClass(className.bottom).addClass(className.fixed).addClass(className.top);\n          settings.onStick.call(element);\n        },\n        fixBottom: function () {\n          module.debug('Sticking element to bottom of page');\n\n          if (settings.setSize) {\n            module.set.size();\n          }\n\n          module.set.minimumSize();\n          module.set.offset();\n          $module.css({\n            left: module.cache.element.left,\n            bottom: '',\n            marginBottom: ''\n          }).removeClass(className.bound).removeClass(className.top).addClass(className.fixed).addClass(className.bottom);\n          settings.onStick.call(element);\n        },\n        unbind: function () {\n          if (module.is.bound()) {\n            module.debug('Removing container bound position on element');\n            module.remove.offset();\n            $module.removeClass(className.bound).removeClass(className.top).removeClass(className.bottom);\n          }\n        },\n        unfix: function () {\n          if (module.is.fixed()) {\n            module.debug('Removing fixed position on element');\n            module.remove.minimumSize();\n            module.remove.offset();\n            $module.removeClass(className.fixed).removeClass(className.top).removeClass(className.bottom);\n            settings.onUnstick.call(element);\n          }\n        },\n        reset: function () {\n          module.debug('Resetting elements position');\n          module.unbind();\n          module.unfix();\n          module.resetCSS();\n          module.remove.offset();\n          module.remove.lastScroll();\n        },\n        resetCSS: function () {\n          $module.css({\n            width: '',\n            height: ''\n          });\n          $container.css({\n            height: ''\n          });\n        },\n        setting: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            settings[name] = value;\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 0);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.sticky.settings = {\n    name: 'Sticky',\n    namespace: 'sticky',\n    silent: false,\n    debug: false,\n    verbose: true,\n    performance: true,\n    // whether to stick in the opposite direction on scroll up\n    pushing: false,\n    context: false,\n    container: false,\n    // Context to watch scroll events\n    scrollContext: window,\n    // Offset to adjust scroll\n    offset: 0,\n    // Offset to adjust scroll when attached to bottom of screen\n    bottomOffset: 0,\n    // will only set container height if difference between context and container is larger than this number\n    jitter: 5,\n    // set width of sticky element when it is fixed to page (used to make sure 100% width is maintained if no fixed size set)\n    setSize: true,\n    // Whether to automatically observe changes with Mutation Observers\n    observeChanges: false,\n    // Called when position is recalculated\n    onReposition: function () {},\n    // Called on each scroll\n    onScroll: function () {},\n    // Called when element is stuck to viewport\n    onStick: function () {},\n    // Called when element is unstuck from viewport\n    onUnstick: function () {},\n    // Called when element reaches top of context\n    onTop: function () {},\n    // Called when element reaches bottom of context\n    onBottom: function () {},\n    error: {\n      container: 'Sticky element must be inside a relative container',\n      visible: 'Element is hidden, you must call refresh after element becomes visible. Use silent setting to surpress this warning in production.',\n      method: 'The method you called is not defined.',\n      invalidContext: 'Context specified does not exist',\n      elementSize: 'Sticky element is larger than its container, cannot create sticky.'\n    },\n    className: {\n      bound: 'bound',\n      fixed: 'fixed',\n      supported: 'native',\n      top: 'top',\n      bottom: 'bottom'\n    }\n  };\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"tab.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/modules/tab.js                                                                             //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * # Semantic UI - Tab\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.tab = function (parameters) {\n    var // use window context if none specified\n    $allModules = $.isFunction(this) ? $(window) : $(this),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        initializedHistory = false,\n        returnedValue;\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.tab.settings, parameters) : $.extend({}, $.fn.tab.settings),\n          className = settings.className,\n          metadata = settings.metadata,\n          selector = settings.selector,\n          error = settings.error,\n          eventNamespace = '.' + settings.namespace,\n          moduleNamespace = 'module-' + settings.namespace,\n          $module = $(this),\n          $context,\n          $tabs,\n          cache = {},\n          firstLoad = true,\n          recursionDepth = 0,\n          element = this,\n          instance = $module.data(moduleNamespace),\n          activeTabPath,\n          parameterArray,\n          module,\n          historyEvent;\n      module = {\n        initialize: function () {\n          module.debug('Initializing tab menu item', $module);\n          module.fix.callbacks();\n          module.determineTabs();\n          module.debug('Determining tabs', settings.context, $tabs); // set up automatic routing\n\n          if (settings.auto) {\n            module.set.auto();\n          }\n\n          module.bind.events();\n\n          if (settings.history && !initializedHistory) {\n            module.initializeHistory();\n            initializedHistory = true;\n          }\n\n          module.instantiate();\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module.data(moduleNamespace, module);\n        },\n        destroy: function () {\n          module.debug('Destroying tabs', $module);\n          $module.removeData(moduleNamespace).off(eventNamespace);\n        },\n        bind: {\n          events: function () {\n            // if using $.tab don't add events\n            if (!$.isWindow(element)) {\n              module.debug('Attaching tab activation events to element', $module);\n              $module.on('click' + eventNamespace, module.event.click);\n            }\n          }\n        },\n        determineTabs: function () {\n          var $reference; // determine tab context\n\n          if (settings.context === 'parent') {\n            if ($module.closest(selector.ui).length > 0) {\n              $reference = $module.closest(selector.ui);\n              module.verbose('Using closest UI element as parent', $reference);\n            } else {\n              $reference = $module;\n            }\n\n            $context = $reference.parent();\n            module.verbose('Determined parent element for creating context', $context);\n          } else if (settings.context) {\n            $context = $(settings.context);\n            module.verbose('Using selector for tab context', settings.context, $context);\n          } else {\n            $context = $('body');\n          } // find tabs\n\n\n          if (settings.childrenOnly) {\n            $tabs = $context.children(selector.tabs);\n            module.debug('Searching tab context children for tabs', $context, $tabs);\n          } else {\n            $tabs = $context.find(selector.tabs);\n            module.debug('Searching tab context for tabs', $context, $tabs);\n          }\n        },\n        fix: {\n          callbacks: function () {\n            if ($.isPlainObject(parameters) && (parameters.onTabLoad || parameters.onTabInit)) {\n              if (parameters.onTabLoad) {\n                parameters.onLoad = parameters.onTabLoad;\n                delete parameters.onTabLoad;\n                module.error(error.legacyLoad, parameters.onLoad);\n              }\n\n              if (parameters.onTabInit) {\n                parameters.onFirstLoad = parameters.onTabInit;\n                delete parameters.onTabInit;\n                module.error(error.legacyInit, parameters.onFirstLoad);\n              }\n\n              settings = $.extend(true, {}, $.fn.tab.settings, parameters);\n            }\n          }\n        },\n        initializeHistory: function () {\n          module.debug('Initializing page state');\n\n          if ($.address === undefined) {\n            module.error(error.state);\n            return false;\n          } else {\n            if (settings.historyType == 'state') {\n              module.debug('Using HTML5 to manage state');\n\n              if (settings.path !== false) {\n                $.address.history(true).state(settings.path);\n              } else {\n                module.error(error.path);\n                return false;\n              }\n            }\n\n            $.address.bind('change', module.event.history.change);\n          }\n        },\n        event: {\n          click: function (event) {\n            var tabPath = $(this).data(metadata.tab);\n\n            if (tabPath !== undefined) {\n              if (settings.history) {\n                module.verbose('Updating page state', event);\n                $.address.value(tabPath);\n              } else {\n                module.verbose('Changing tab', event);\n                module.changeTab(tabPath);\n              }\n\n              event.preventDefault();\n            } else {\n              module.debug('No tab specified');\n            }\n          },\n          history: {\n            change: function (event) {\n              var tabPath = event.pathNames.join('/') || module.get.initialPath(),\n                  pageTitle = settings.templates.determineTitle(tabPath) || false;\n              module.performance.display();\n              module.debug('History change event', tabPath, event);\n              historyEvent = event;\n\n              if (tabPath !== undefined) {\n                module.changeTab(tabPath);\n              }\n\n              if (pageTitle) {\n                $.address.title(pageTitle);\n              }\n            }\n          }\n        },\n        refresh: function () {\n          if (activeTabPath) {\n            module.debug('Refreshing tab', activeTabPath);\n            module.changeTab(activeTabPath);\n          }\n        },\n        cache: {\n          read: function (cacheKey) {\n            return cacheKey !== undefined ? cache[cacheKey] : false;\n          },\n          add: function (cacheKey, content) {\n            cacheKey = cacheKey || activeTabPath;\n            module.debug('Adding cached content for', cacheKey);\n            cache[cacheKey] = content;\n          },\n          remove: function (cacheKey) {\n            cacheKey = cacheKey || activeTabPath;\n            module.debug('Removing cached content for', cacheKey);\n            delete cache[cacheKey];\n          }\n        },\n        set: {\n          auto: function () {\n            var url = typeof settings.path == 'string' ? settings.path.replace(/\\/$/, '') + '/{$tab}' : '/{$tab}';\n            module.verbose('Setting up automatic tab retrieval from server', url);\n\n            if ($.isPlainObject(settings.apiSettings)) {\n              settings.apiSettings.url = url;\n            } else {\n              settings.apiSettings = {\n                url: url\n              };\n            }\n          },\n          loading: function (tabPath) {\n            var $tab = module.get.tabElement(tabPath),\n                isLoading = $tab.hasClass(className.loading);\n\n            if (!isLoading) {\n              module.verbose('Setting loading state for', $tab);\n              $tab.addClass(className.loading).siblings($tabs).removeClass(className.active + ' ' + className.loading);\n\n              if ($tab.length > 0) {\n                settings.onRequest.call($tab[0], tabPath);\n              }\n            }\n          },\n          state: function (state) {\n            $.address.value(state);\n          }\n        },\n        changeTab: function (tabPath) {\n          var pushStateAvailable = window.history && window.history.pushState,\n              shouldIgnoreLoad = pushStateAvailable && settings.ignoreFirstLoad && firstLoad,\n              remoteContent = settings.auto || $.isPlainObject(settings.apiSettings),\n              // only add default path if not remote content\n          pathArray = remoteContent && !shouldIgnoreLoad ? module.utilities.pathToArray(tabPath) : module.get.defaultPathArray(tabPath);\n          tabPath = module.utilities.arrayToPath(pathArray);\n          $.each(pathArray, function (index, tab) {\n            var currentPathArray = pathArray.slice(0, index + 1),\n                currentPath = module.utilities.arrayToPath(currentPathArray),\n                isTab = module.is.tab(currentPath),\n                isLastIndex = index + 1 == pathArray.length,\n                $tab = module.get.tabElement(currentPath),\n                $anchor,\n                nextPathArray,\n                nextPath,\n                isLastTab;\n            module.verbose('Looking for tab', tab);\n\n            if (isTab) {\n              module.verbose('Tab was found', tab); // scope up\n\n              activeTabPath = currentPath;\n              parameterArray = module.utilities.filterArray(pathArray, currentPathArray);\n\n              if (isLastIndex) {\n                isLastTab = true;\n              } else {\n                nextPathArray = pathArray.slice(0, index + 2);\n                nextPath = module.utilities.arrayToPath(nextPathArray);\n                isLastTab = !module.is.tab(nextPath);\n\n                if (isLastTab) {\n                  module.verbose('Tab parameters found', nextPathArray);\n                }\n              }\n\n              if (isLastTab && remoteContent) {\n                if (!shouldIgnoreLoad) {\n                  module.activate.navigation(currentPath);\n                  module.fetch.content(currentPath, tabPath);\n                } else {\n                  module.debug('Ignoring remote content on first tab load', currentPath);\n                  firstLoad = false;\n                  module.cache.add(tabPath, $tab.html());\n                  module.activate.all(currentPath);\n                  settings.onFirstLoad.call($tab[0], currentPath, parameterArray, historyEvent);\n                  settings.onLoad.call($tab[0], currentPath, parameterArray, historyEvent);\n                }\n\n                return false;\n              } else {\n                module.debug('Opened local tab', currentPath);\n                module.activate.all(currentPath);\n\n                if (!module.cache.read(currentPath)) {\n                  module.cache.add(currentPath, true);\n                  module.debug('First time tab loaded calling tab init');\n                  settings.onFirstLoad.call($tab[0], currentPath, parameterArray, historyEvent);\n                }\n\n                settings.onLoad.call($tab[0], currentPath, parameterArray, historyEvent);\n              }\n            } else if (tabPath.search('/') == -1 && tabPath !== '') {\n              // look for in page anchor\n              $anchor = $('#' + tabPath + ', a[name=\"' + tabPath + '\"]');\n              currentPath = $anchor.closest('[data-tab]').data(metadata.tab);\n              $tab = module.get.tabElement(currentPath); // if anchor exists use parent tab\n\n              if ($anchor && $anchor.length > 0 && currentPath) {\n                module.debug('Anchor link used, opening parent tab', $tab, $anchor);\n\n                if (!$tab.hasClass(className.active)) {\n                  setTimeout(function () {\n                    module.scrollTo($anchor);\n                  }, 0);\n                }\n\n                module.activate.all(currentPath);\n\n                if (!module.cache.read(currentPath)) {\n                  module.cache.add(currentPath, true);\n                  module.debug('First time tab loaded calling tab init');\n                  settings.onFirstLoad.call($tab[0], currentPath, parameterArray, historyEvent);\n                }\n\n                settings.onLoad.call($tab[0], currentPath, parameterArray, historyEvent);\n                return false;\n              }\n            } else {\n              module.error(error.missingTab, $module, $context, currentPath);\n              return false;\n            }\n          });\n        },\n        scrollTo: function ($element) {\n          var scrollOffset = $element && $element.length > 0 ? $element.offset().top : false;\n\n          if (scrollOffset !== false) {\n            module.debug('Forcing scroll to an in-page link in a hidden tab', scrollOffset, $element);\n            $(document).scrollTop(scrollOffset);\n          }\n        },\n        update: {\n          content: function (tabPath, html, evaluateScripts) {\n            var $tab = module.get.tabElement(tabPath),\n                tab = $tab[0];\n            evaluateScripts = evaluateScripts !== undefined ? evaluateScripts : settings.evaluateScripts;\n\n            if (typeof settings.cacheType == 'string' && settings.cacheType.toLowerCase() == 'dom' && typeof html !== 'string') {\n              $tab.empty().append($(html).clone(true));\n            } else {\n              if (evaluateScripts) {\n                module.debug('Updating HTML and evaluating inline scripts', tabPath, html);\n                $tab.html(html);\n              } else {\n                module.debug('Updating HTML', tabPath, html);\n                tab.innerHTML = html;\n              }\n            }\n          }\n        },\n        fetch: {\n          content: function (tabPath, fullTabPath) {\n            var $tab = module.get.tabElement(tabPath),\n                apiSettings = {\n              dataType: 'html',\n              encodeParameters: false,\n              on: 'now',\n              cache: settings.alwaysRefresh,\n              headers: {\n                'X-Remote': true\n              },\n              onSuccess: function (response) {\n                if (settings.cacheType == 'response') {\n                  module.cache.add(fullTabPath, response);\n                }\n\n                module.update.content(tabPath, response);\n\n                if (tabPath == activeTabPath) {\n                  module.debug('Content loaded', tabPath);\n                  module.activate.tab(tabPath);\n                } else {\n                  module.debug('Content loaded in background', tabPath);\n                }\n\n                settings.onFirstLoad.call($tab[0], tabPath, parameterArray, historyEvent);\n                settings.onLoad.call($tab[0], tabPath, parameterArray, historyEvent);\n\n                if (settings.loadOnce) {\n                  module.cache.add(fullTabPath, true);\n                } else if (typeof settings.cacheType == 'string' && settings.cacheType.toLowerCase() == 'dom' && $tab.children().length > 0) {\n                  setTimeout(function () {\n                    var $clone = $tab.children().clone(true);\n                    $clone = $clone.not('script');\n                    module.cache.add(fullTabPath, $clone);\n                  }, 0);\n                } else {\n                  module.cache.add(fullTabPath, $tab.html());\n                }\n              },\n              urlData: {\n                tab: fullTabPath\n              }\n            },\n                request = $tab.api('get request') || false,\n                existingRequest = request && request.state() === 'pending',\n                requestSettings,\n                cachedContent;\n            fullTabPath = fullTabPath || tabPath;\n            cachedContent = module.cache.read(fullTabPath);\n\n            if (settings.cache && cachedContent) {\n              module.activate.tab(tabPath);\n              module.debug('Adding cached content', fullTabPath);\n\n              if (!settings.loadOnce) {\n                if (settings.evaluateScripts == 'once') {\n                  module.update.content(tabPath, cachedContent, false);\n                } else {\n                  module.update.content(tabPath, cachedContent);\n                }\n              }\n\n              settings.onLoad.call($tab[0], tabPath, parameterArray, historyEvent);\n            } else if (existingRequest) {\n              module.set.loading(tabPath);\n              module.debug('Content is already loading', fullTabPath);\n            } else if ($.api !== undefined) {\n              requestSettings = $.extend(true, {}, settings.apiSettings, apiSettings);\n              module.debug('Retrieving remote content', fullTabPath, requestSettings);\n              module.set.loading(tabPath);\n              $tab.api(requestSettings);\n            } else {\n              module.error(error.api);\n            }\n          }\n        },\n        activate: {\n          all: function (tabPath) {\n            module.activate.tab(tabPath);\n            module.activate.navigation(tabPath);\n          },\n          tab: function (tabPath) {\n            var $tab = module.get.tabElement(tabPath),\n                $deactiveTabs = settings.deactivate == 'siblings' ? $tab.siblings($tabs) : $tabs.not($tab),\n                isActive = $tab.hasClass(className.active);\n            module.verbose('Showing tab content for', $tab);\n\n            if (!isActive) {\n              $tab.addClass(className.active);\n              $deactiveTabs.removeClass(className.active + ' ' + className.loading);\n\n              if ($tab.length > 0) {\n                settings.onVisible.call($tab[0], tabPath);\n              }\n            }\n          },\n          navigation: function (tabPath) {\n            var $navigation = module.get.navElement(tabPath),\n                $deactiveNavigation = settings.deactivate == 'siblings' ? $navigation.siblings($allModules) : $allModules.not($navigation),\n                isActive = $navigation.hasClass(className.active);\n            module.verbose('Activating tab navigation for', $navigation, tabPath);\n\n            if (!isActive) {\n              $navigation.addClass(className.active);\n              $deactiveNavigation.removeClass(className.active + ' ' + className.loading);\n            }\n          }\n        },\n        deactivate: {\n          all: function () {\n            module.deactivate.navigation();\n            module.deactivate.tabs();\n          },\n          navigation: function () {\n            $allModules.removeClass(className.active);\n          },\n          tabs: function () {\n            $tabs.removeClass(className.active + ' ' + className.loading);\n          }\n        },\n        is: {\n          tab: function (tabName) {\n            return tabName !== undefined ? module.get.tabElement(tabName).length > 0 : false;\n          }\n        },\n        get: {\n          initialPath: function () {\n            return $allModules.eq(0).data(metadata.tab) || $tabs.eq(0).data(metadata.tab);\n          },\n          path: function () {\n            return $.address.value();\n          },\n          // adds default tabs to tab path\n          defaultPathArray: function (tabPath) {\n            return module.utilities.pathToArray(module.get.defaultPath(tabPath));\n          },\n          defaultPath: function (tabPath) {\n            var $defaultNav = $allModules.filter('[data-' + metadata.tab + '^=\"' + tabPath + '/\"]').eq(0),\n                defaultTab = $defaultNav.data(metadata.tab) || false;\n\n            if (defaultTab) {\n              module.debug('Found default tab', defaultTab);\n\n              if (recursionDepth < settings.maxDepth) {\n                recursionDepth++;\n                return module.get.defaultPath(defaultTab);\n              }\n\n              module.error(error.recursion);\n            } else {\n              module.debug('No default tabs found for', tabPath, $tabs);\n            }\n\n            recursionDepth = 0;\n            return tabPath;\n          },\n          navElement: function (tabPath) {\n            tabPath = tabPath || activeTabPath;\n            return $allModules.filter('[data-' + metadata.tab + '=\"' + tabPath + '\"]');\n          },\n          tabElement: function (tabPath) {\n            var $fullPathTab, $simplePathTab, tabPathArray, lastTab;\n            tabPath = tabPath || activeTabPath;\n            tabPathArray = module.utilities.pathToArray(tabPath);\n            lastTab = module.utilities.last(tabPathArray);\n            $fullPathTab = $tabs.filter('[data-' + metadata.tab + '=\"' + tabPath + '\"]');\n            $simplePathTab = $tabs.filter('[data-' + metadata.tab + '=\"' + lastTab + '\"]');\n            return $fullPathTab.length > 0 ? $fullPathTab : $simplePathTab;\n          },\n          tab: function () {\n            return activeTabPath;\n          }\n        },\n        utilities: {\n          filterArray: function (keepArray, removeArray) {\n            return $.grep(keepArray, function (keepValue) {\n              return $.inArray(keepValue, removeArray) == -1;\n            });\n          },\n          last: function (array) {\n            return $.isArray(array) ? array[array.length - 1] : false;\n          },\n          pathToArray: function (pathName) {\n            if (pathName === undefined) {\n              pathName = activeTabPath;\n            }\n\n            return typeof pathName == 'string' ? pathName.split('/') : [pathName];\n          },\n          arrayToPath: function (pathArray) {\n            return $.isArray(pathArray) ? pathArray.join('/') : false;\n          }\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  }; // shortcut for tabbed content with no defined navigation\n\n\n  $.tab = function () {\n    $(window).tab.apply(this, arguments);\n  };\n\n  $.fn.tab.settings = {\n    name: 'Tab',\n    namespace: 'tab',\n    silent: false,\n    debug: false,\n    verbose: false,\n    performance: true,\n    auto: false,\n    // uses pjax style endpoints fetching content from same url with remote-content headers\n    history: false,\n    // use browser history\n    historyType: 'hash',\n    // #/ or html5 state\n    path: false,\n    // base path of url\n    context: false,\n    // specify a context that tabs must appear inside\n    childrenOnly: false,\n    // use only tabs that are children of context\n    maxDepth: 25,\n    // max depth a tab can be nested\n    deactivate: 'siblings',\n    // whether tabs should deactivate sibling menu elements or all elements initialized together\n    alwaysRefresh: false,\n    // load tab content new every tab click\n    cache: true,\n    // cache the content requests to pull locally\n    loadOnce: false,\n    // Whether tab data should only be loaded once when using remote content\n    cacheType: 'response',\n    // Whether to cache exact response, or to html cache contents after scripts execute\n    ignoreFirstLoad: false,\n    // don't load remote content on first load\n    apiSettings: false,\n    // settings for api call\n    evaluateScripts: 'once',\n    // whether inline scripts should be parsed (true/false/once). Once will not re-evaluate on cached content\n    onFirstLoad: function (tabPath, parameterArray, historyEvent) {},\n    // called first time loaded\n    onLoad: function (tabPath, parameterArray, historyEvent) {},\n    // called on every load\n    onVisible: function (tabPath, parameterArray, historyEvent) {},\n    // called every time tab visible\n    onRequest: function (tabPath, parameterArray, historyEvent) {},\n    // called ever time a tab beings loading remote content\n    templates: {\n      determineTitle: function (tabArray) {} // returns page title for path\n\n    },\n    error: {\n      api: 'You attempted to load content without API module',\n      method: 'The method you called is not defined',\n      missingTab: 'Activated tab cannot be found. Tabs are case-sensitive.',\n      noContent: 'The tab you specified is missing a content url.',\n      path: 'History enabled, but no path was specified',\n      recursion: 'Max recursive depth reached',\n      legacyInit: 'onTabInit has been renamed to onFirstLoad in 2.0, please adjust your code.',\n      legacyLoad: 'onTabLoad has been renamed to onLoad in 2.0. Please adjust your code',\n      state: 'History requires Asual\\'s Address library <https://github.com/asual/jquery-address>'\n    },\n    metadata: {\n      tab: 'tab',\n      loaded: 'loaded',\n      promise: 'promise'\n    },\n    className: {\n      loading: 'loading',\n      active: 'active'\n    },\n    selector: {\n      tabs: '.ui.tab',\n      ui: '.ui'\n    }\n  };\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"transition.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/src/definitions/modules/transition.js                                                                      //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\n/*!\n * # Semantic UI - Transition\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.transition = function () {\n    var $allModules = $(this),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        moduleArguments = arguments,\n        query = moduleArguments[0],\n        queryArguments = [].slice.call(arguments, 1),\n        methodInvoked = typeof query === 'string',\n        requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {\n      setTimeout(callback, 0);\n    },\n        returnedValue;\n\n    $allModules.each(function (index) {\n      var $module = $(this),\n          element = this,\n          // set at run time\n      settings,\n          instance,\n          error,\n          className,\n          metadata,\n          animationEnd,\n          animationName,\n          namespace,\n          moduleNamespace,\n          eventNamespace,\n          module;\n      module = {\n        initialize: function () {\n          // get full settings\n          settings = module.get.settings.apply(element, moduleArguments); // shorthand\n\n          className = settings.className;\n          error = settings.error;\n          metadata = settings.metadata; // define namespace\n\n          eventNamespace = '.' + settings.namespace;\n          moduleNamespace = 'module-' + settings.namespace;\n          instance = $module.data(moduleNamespace) || module; // get vendor specific events\n\n          animationEnd = module.get.animationEndEvent();\n\n          if (methodInvoked) {\n            methodInvoked = module.invoke(query);\n          } // method not invoked, lets run an animation\n\n\n          if (methodInvoked === false) {\n            module.verbose('Converted arguments into settings object', settings);\n\n            if (settings.interval) {\n              module.delay(settings.animate);\n            } else {\n              module.animate();\n            }\n\n            module.instantiate();\n          }\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module.data(moduleNamespace, instance);\n        },\n        destroy: function () {\n          module.verbose('Destroying previous module for', element);\n          $module.removeData(moduleNamespace);\n        },\n        refresh: function () {\n          module.verbose('Refreshing display type on next animation');\n          delete module.displayType;\n        },\n        forceRepaint: function () {\n          module.verbose('Forcing element repaint');\n          var $parentElement = $module.parent(),\n              $nextElement = $module.next();\n\n          if ($nextElement.length === 0) {\n            $module.detach().appendTo($parentElement);\n          } else {\n            $module.detach().insertBefore($nextElement);\n          }\n        },\n        repaint: function () {\n          module.verbose('Repainting element');\n          var fakeAssignment = element.offsetWidth;\n        },\n        delay: function (interval) {\n          var direction = module.get.animationDirection(),\n              shouldReverse,\n              delay;\n\n          if (!direction) {\n            direction = module.can.transition() ? module.get.direction() : 'static';\n          }\n\n          interval = interval !== undefined ? interval : settings.interval;\n          shouldReverse = settings.reverse == 'auto' && direction == className.outward;\n          delay = shouldReverse || settings.reverse == true ? ($allModules.length - index) * settings.interval : index * settings.interval;\n          module.debug('Delaying animation by', delay);\n          setTimeout(module.animate, delay);\n        },\n        animate: function (overrideSettings) {\n          settings = overrideSettings || settings;\n\n          if (!module.is.supported()) {\n            module.error(error.support);\n            return false;\n          }\n\n          module.debug('Preparing animation', settings.animation);\n\n          if (module.is.animating()) {\n            if (settings.queue) {\n              if (!settings.allowRepeats && module.has.direction() && module.is.occurring() && module.queuing !== true) {\n                module.debug('Animation is currently occurring, preventing queueing same animation', settings.animation);\n              } else {\n                module.queue(settings.animation);\n              }\n\n              return false;\n            } else if (!settings.allowRepeats && module.is.occurring()) {\n              module.debug('Animation is already occurring, will not execute repeated animation', settings.animation);\n              return false;\n            } else {\n              module.debug('New animation started, completing previous early', settings.animation);\n              instance.complete();\n            }\n          }\n\n          if (module.can.animate()) {\n            module.set.animating(settings.animation);\n          } else {\n            module.error(error.noAnimation, settings.animation, element);\n          }\n        },\n        reset: function () {\n          module.debug('Resetting animation to beginning conditions');\n          module.remove.animationCallbacks();\n          module.restore.conditions();\n          module.remove.animating();\n        },\n        queue: function (animation) {\n          module.debug('Queueing animation of', animation);\n          module.queuing = true;\n          $module.one(animationEnd + '.queue' + eventNamespace, function () {\n            module.queuing = false;\n            module.repaint();\n            module.animate.apply(this, settings);\n          });\n        },\n        complete: function (event) {\n          module.debug('Animation complete', settings.animation);\n          module.remove.completeCallback();\n          module.remove.failSafe();\n\n          if (!module.is.looping()) {\n            if (module.is.outward()) {\n              module.verbose('Animation is outward, hiding element');\n              module.restore.conditions();\n              module.hide();\n            } else if (module.is.inward()) {\n              module.verbose('Animation is outward, showing element');\n              module.restore.conditions();\n              module.show();\n            } else {\n              module.verbose('Static animation completed');\n              module.restore.conditions();\n              settings.onComplete.call(element);\n            }\n          }\n        },\n        force: {\n          visible: function () {\n            var style = $module.attr('style'),\n                userStyle = module.get.userStyle(),\n                displayType = module.get.displayType(),\n                overrideStyle = userStyle + 'display: ' + displayType + ' !important;',\n                currentDisplay = $module.css('display'),\n                emptyStyle = style === undefined || style === '';\n\n            if (currentDisplay !== displayType) {\n              module.verbose('Overriding default display to show element', displayType);\n              $module.attr('style', overrideStyle);\n            } else if (emptyStyle) {\n              $module.removeAttr('style');\n            }\n          },\n          hidden: function () {\n            var style = $module.attr('style'),\n                currentDisplay = $module.css('display'),\n                emptyStyle = style === undefined || style === '';\n\n            if (currentDisplay !== 'none' && !module.is.hidden()) {\n              module.verbose('Overriding default display to hide element');\n              $module.css('display', 'none');\n            } else if (emptyStyle) {\n              $module.removeAttr('style');\n            }\n          }\n        },\n        has: {\n          direction: function (animation) {\n            var hasDirection = false;\n            animation = animation || settings.animation;\n\n            if (typeof animation === 'string') {\n              animation = animation.split(' ');\n              $.each(animation, function (index, word) {\n                if (word === className.inward || word === className.outward) {\n                  hasDirection = true;\n                }\n              });\n            }\n\n            return hasDirection;\n          },\n          inlineDisplay: function () {\n            var style = $module.attr('style') || '';\n            return $.isArray(style.match(/display.*?;/, ''));\n          }\n        },\n        set: {\n          animating: function (animation) {\n            var animationClass, direction; // remove previous callbacks\n\n            module.remove.completeCallback(); // determine exact animation\n\n            animation = animation || settings.animation;\n            animationClass = module.get.animationClass(animation); // save animation class in cache to restore class names\n\n            module.save.animation(animationClass); // override display if necessary so animation appears visibly\n\n            module.force.visible();\n            module.remove.hidden();\n            module.remove.direction();\n            module.start.animation(animationClass);\n          },\n          duration: function (animationName, duration) {\n            duration = duration || settings.duration;\n            duration = typeof duration == 'number' ? duration + 'ms' : duration;\n\n            if (duration || duration === 0) {\n              module.verbose('Setting animation duration', duration);\n              $module.css({\n                'animation-duration': duration\n              });\n            }\n          },\n          direction: function (direction) {\n            direction = direction || module.get.direction();\n\n            if (direction == className.inward) {\n              module.set.inward();\n            } else {\n              module.set.outward();\n            }\n          },\n          looping: function () {\n            module.debug('Transition set to loop');\n            $module.addClass(className.looping);\n          },\n          hidden: function () {\n            $module.addClass(className.transition).addClass(className.hidden);\n          },\n          inward: function () {\n            module.debug('Setting direction to inward');\n            $module.removeClass(className.outward).addClass(className.inward);\n          },\n          outward: function () {\n            module.debug('Setting direction to outward');\n            $module.removeClass(className.inward).addClass(className.outward);\n          },\n          visible: function () {\n            $module.addClass(className.transition).addClass(className.visible);\n          }\n        },\n        start: {\n          animation: function (animationClass) {\n            animationClass = animationClass || module.get.animationClass();\n            module.debug('Starting tween', animationClass);\n            $module.addClass(animationClass).one(animationEnd + '.complete' + eventNamespace, module.complete);\n\n            if (settings.useFailSafe) {\n              module.add.failSafe();\n            }\n\n            module.set.duration(settings.duration);\n            settings.onStart.call(element);\n          }\n        },\n        save: {\n          animation: function (animation) {\n            if (!module.cache) {\n              module.cache = {};\n            }\n\n            module.cache.animation = animation;\n          },\n          displayType: function (displayType) {\n            if (displayType !== 'none') {\n              $module.data(metadata.displayType, displayType);\n            }\n          },\n          transitionExists: function (animation, exists) {\n            $.fn.transition.exists[animation] = exists;\n            module.verbose('Saving existence of transition', animation, exists);\n          }\n        },\n        restore: {\n          conditions: function () {\n            var animation = module.get.currentAnimation();\n\n            if (animation) {\n              $module.removeClass(animation);\n              module.verbose('Removing animation class', module.cache);\n            }\n\n            module.remove.duration();\n          }\n        },\n        add: {\n          failSafe: function () {\n            var duration = module.get.duration();\n            module.timer = setTimeout(function () {\n              $module.triggerHandler(animationEnd);\n            }, duration + settings.failSafeDelay);\n            module.verbose('Adding fail safe timer', module.timer);\n          }\n        },\n        remove: {\n          animating: function () {\n            $module.removeClass(className.animating);\n          },\n          animationCallbacks: function () {\n            module.remove.queueCallback();\n            module.remove.completeCallback();\n          },\n          queueCallback: function () {\n            $module.off('.queue' + eventNamespace);\n          },\n          completeCallback: function () {\n            $module.off('.complete' + eventNamespace);\n          },\n          display: function () {\n            $module.css('display', '');\n          },\n          direction: function () {\n            $module.removeClass(className.inward).removeClass(className.outward);\n          },\n          duration: function () {\n            $module.css('animation-duration', '');\n          },\n          failSafe: function () {\n            module.verbose('Removing fail safe timer', module.timer);\n\n            if (module.timer) {\n              clearTimeout(module.timer);\n            }\n          },\n          hidden: function () {\n            $module.removeClass(className.hidden);\n          },\n          visible: function () {\n            $module.removeClass(className.visible);\n          },\n          looping: function () {\n            module.debug('Transitions are no longer looping');\n\n            if (module.is.looping()) {\n              module.reset();\n              $module.removeClass(className.looping);\n            }\n          },\n          transition: function () {\n            $module.removeClass(className.visible).removeClass(className.hidden);\n          }\n        },\n        get: {\n          settings: function (animation, duration, onComplete) {\n            // single settings object\n            if ((0, _typeof2.default)(animation) == 'object') {\n              return $.extend(true, {}, $.fn.transition.settings, animation);\n            } // all arguments provided\n            else if (typeof onComplete == 'function') {\n                return $.extend({}, $.fn.transition.settings, {\n                  animation: animation,\n                  onComplete: onComplete,\n                  duration: duration\n                });\n              } // only duration provided\n              else if (typeof duration == 'string' || typeof duration == 'number') {\n                  return $.extend({}, $.fn.transition.settings, {\n                    animation: animation,\n                    duration: duration\n                  });\n                } // duration is actually settings object\n                else if ((0, _typeof2.default)(duration) == 'object') {\n                    return $.extend({}, $.fn.transition.settings, duration, {\n                      animation: animation\n                    });\n                  } // duration is actually callback\n                  else if (typeof duration == 'function') {\n                      return $.extend({}, $.fn.transition.settings, {\n                        animation: animation,\n                        onComplete: duration\n                      });\n                    } // only animation provided\n                    else {\n                        return $.extend({}, $.fn.transition.settings, {\n                          animation: animation\n                        });\n                      }\n          },\n          animationClass: function (animation) {\n            var animationClass = animation || settings.animation,\n                directionClass = module.can.transition() && !module.has.direction() ? module.get.direction() + ' ' : '';\n            return className.animating + ' ' + className.transition + ' ' + directionClass + animationClass;\n          },\n          currentAnimation: function () {\n            return module.cache && module.cache.animation !== undefined ? module.cache.animation : false;\n          },\n          currentDirection: function () {\n            return module.is.inward() ? className.inward : className.outward;\n          },\n          direction: function () {\n            return module.is.hidden() || !module.is.visible() ? className.inward : className.outward;\n          },\n          animationDirection: function (animation) {\n            var direction;\n            animation = animation || settings.animation;\n\n            if (typeof animation === 'string') {\n              animation = animation.split(' '); // search animation name for out/in class\n\n              $.each(animation, function (index, word) {\n                if (word === className.inward) {\n                  direction = className.inward;\n                } else if (word === className.outward) {\n                  direction = className.outward;\n                }\n              });\n            } // return found direction\n\n\n            if (direction) {\n              return direction;\n            }\n\n            return false;\n          },\n          duration: function (duration) {\n            duration = duration || settings.duration;\n\n            if (duration === false) {\n              duration = $module.css('animation-duration') || 0;\n            }\n\n            return typeof duration === 'string' ? duration.indexOf('ms') > -1 ? parseFloat(duration) : parseFloat(duration) * 1000 : duration;\n          },\n          displayType: function (shouldDetermine) {\n            shouldDetermine = shouldDetermine !== undefined ? shouldDetermine : true;\n\n            if (settings.displayType) {\n              return settings.displayType;\n            }\n\n            if (shouldDetermine && $module.data(metadata.displayType) === undefined) {\n              // create fake element to determine display state\n              module.can.transition(true);\n            }\n\n            return $module.data(metadata.displayType);\n          },\n          userStyle: function (style) {\n            style = style || $module.attr('style') || '';\n            return style.replace(/display.*?;/, '');\n          },\n          transitionExists: function (animation) {\n            return $.fn.transition.exists[animation];\n          },\n          animationStartEvent: function () {\n            var element = document.createElement('div'),\n                animations = {\n              'animation': 'animationstart',\n              'OAnimation': 'oAnimationStart',\n              'MozAnimation': 'mozAnimationStart',\n              'WebkitAnimation': 'webkitAnimationStart'\n            },\n                animation;\n\n            for (animation in meteorBabelHelpers.sanitizeForInObject(animations)) {\n              if (element.style[animation] !== undefined) {\n                return animations[animation];\n              }\n            }\n\n            return false;\n          },\n          animationEndEvent: function () {\n            var element = document.createElement('div'),\n                animations = {\n              'animation': 'animationend',\n              'OAnimation': 'oAnimationEnd',\n              'MozAnimation': 'mozAnimationEnd',\n              'WebkitAnimation': 'webkitAnimationEnd'\n            },\n                animation;\n\n            for (animation in meteorBabelHelpers.sanitizeForInObject(animations)) {\n              if (element.style[animation] !== undefined) {\n                return animations[animation];\n              }\n            }\n\n            return false;\n          }\n        },\n        can: {\n          transition: function (forced) {\n            var animation = settings.animation,\n                transitionExists = module.get.transitionExists(animation),\n                displayType = module.get.displayType(false),\n                elementClass,\n                tagName,\n                $clone,\n                currentAnimation,\n                inAnimation,\n                directionExists;\n\n            if (transitionExists === undefined || forced) {\n              module.verbose('Determining whether animation exists');\n              elementClass = $module.attr('class');\n              tagName = $module.prop('tagName');\n              $clone = $('<' + tagName + ' />').addClass(elementClass).insertAfter($module);\n              currentAnimation = $clone.addClass(animation).removeClass(className.inward).removeClass(className.outward).addClass(className.animating).addClass(className.transition).css('animationName');\n              inAnimation = $clone.addClass(className.inward).css('animationName');\n\n              if (!displayType) {\n                displayType = $clone.attr('class', elementClass).removeAttr('style').removeClass(className.hidden).removeClass(className.visible).show().css('display');\n                module.verbose('Determining final display state', displayType);\n                module.save.displayType(displayType);\n              }\n\n              $clone.remove();\n\n              if (currentAnimation != inAnimation) {\n                module.debug('Direction exists for animation', animation);\n                directionExists = true;\n              } else if (currentAnimation == 'none' || !currentAnimation) {\n                module.debug('No animation defined in css', animation);\n                return;\n              } else {\n                module.debug('Static animation found', animation, displayType);\n                directionExists = false;\n              }\n\n              module.save.transitionExists(animation, directionExists);\n            }\n\n            return transitionExists !== undefined ? transitionExists : directionExists;\n          },\n          animate: function () {\n            // can transition does not return a value if animation does not exist\n            return module.can.transition() !== undefined;\n          }\n        },\n        is: {\n          animating: function () {\n            return $module.hasClass(className.animating);\n          },\n          inward: function () {\n            return $module.hasClass(className.inward);\n          },\n          outward: function () {\n            return $module.hasClass(className.outward);\n          },\n          looping: function () {\n            return $module.hasClass(className.looping);\n          },\n          occurring: function (animation) {\n            animation = animation || settings.animation;\n            animation = '.' + animation.replace(' ', '.');\n            return $module.filter(animation).length > 0;\n          },\n          visible: function () {\n            return $module.is(':visible');\n          },\n          hidden: function () {\n            return $module.css('visibility') === 'hidden';\n          },\n          supported: function () {\n            return animationEnd !== false;\n          }\n        },\n        hide: function () {\n          module.verbose('Hiding element');\n\n          if (module.is.animating()) {\n            module.reset();\n          }\n\n          element.blur(); // IE will trigger focus change if element is not blurred before hiding\n\n          module.remove.display();\n          module.remove.visible();\n          module.set.hidden();\n          module.force.hidden();\n          settings.onHide.call(element);\n          settings.onComplete.call(element); // module.repaint();\n        },\n        show: function (display) {\n          module.verbose('Showing element', display);\n          module.remove.hidden();\n          module.set.visible();\n          module.force.visible();\n          settings.onShow.call(element);\n          settings.onComplete.call(element); // module.repaint();\n        },\n        toggle: function () {\n          if (module.is.visible()) {\n            module.hide();\n          } else {\n            module.show();\n          }\n        },\n        stop: function () {\n          module.debug('Stopping current animation');\n          $module.triggerHandler(animationEnd);\n        },\n        stopAll: function () {\n          module.debug('Stopping all animation');\n          module.remove.queueCallback();\n          $module.triggerHandler(animationEnd);\n        },\n        clear: {\n          queue: function () {\n            module.debug('Clearing animation queue');\n            module.remove.queueCallback();\n          }\n        },\n        enable: function () {\n          module.verbose('Starting animation');\n          $module.removeClass(className.disabled);\n        },\n        disable: function () {\n          module.debug('Stopping animation');\n          $module.addClass(className.disabled);\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        // modified for transition to return invoke success\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found !== undefined ? found : false;\n        }\n      };\n      module.initialize();\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  }; // Records if CSS transition is available\n\n\n  $.fn.transition.exists = {};\n  $.fn.transition.settings = {\n    // module info\n    name: 'Transition',\n    // hide all output from this component regardless of other settings\n    silent: false,\n    // debug content outputted to console\n    debug: false,\n    // verbose debug output\n    verbose: false,\n    // performance data output\n    performance: true,\n    // event namespace\n    namespace: 'transition',\n    // delay between animations in group\n    interval: 0,\n    // whether group animations should be reversed\n    reverse: 'auto',\n    // animation callback event\n    onStart: function () {},\n    onComplete: function () {},\n    onShow: function () {},\n    onHide: function () {},\n    // whether timeout should be used to ensure callback fires in cases animationend does not\n    useFailSafe: true,\n    // delay in ms for fail safe\n    failSafeDelay: 100,\n    // whether EXACT animation can occur twice in a row\n    allowRepeats: false,\n    // Override final display type on visible\n    displayType: false,\n    // animation duration\n    animation: 'fade',\n    duration: false,\n    // new animations will occur after previous ones\n    queue: true,\n    metadata: {\n      displayType: 'display'\n    },\n    className: {\n      animating: 'animating',\n      disabled: 'disabled',\n      hidden: 'hidden',\n      inward: 'in',\n      loading: 'loading',\n      looping: 'looping',\n      outward: 'out',\n      transition: 'transition',\n      visible: 'visible'\n    },\n    // possible errors\n    error: {\n      noAnimation: 'Element is no longer attached to DOM. Unable to animate.  Use silent setting to surpress this warning in production.',\n      repeated: 'That animation is already occurring, cancelling repeated animation',\n      method: 'The method you called is not defined',\n      support: 'This browser does not support CSS animations'\n    }\n  };\n})(jQuery, window, document);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}}}},\"gulpfile.js\":function(require){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// semantic/gulpfile.js                                                                                                //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*******************************\n            Set-up\n*******************************/\nvar gulp = require('gulp-help')(require('gulp')),\n    // read user config to know what task to load\nconfig = require('./tasks/config/user'),\n    // watch changes\nwatch = require('./tasks/watch'),\n    // build all files\nbuild = require('./tasks/build'),\n    buildJS = require('./tasks/build/javascript'),\n    buildCSS = require('./tasks/build/css'),\n    buildAssets = require('./tasks/build/assets'),\n    // utility\nclean = require('./tasks/clean'),\n    version = require('./tasks/version'),\n    // docs tasks\nserveDocs = require('./tasks/docs/serve'),\n    buildDocs = require('./tasks/docs/build'),\n    // rtl\nbuildRTL = require('./tasks/rtl/build'),\n    watchRTL = require('./tasks/rtl/watch');\n/*******************************\n             Tasks\n*******************************/\n\n\ngulp.task('default', false, ['watch']);\ngulp.task('watch', 'Watch for site/theme changes', watch);\ngulp.task('build', 'Builds all files from source', build);\ngulp.task('build-javascript', 'Builds all javascript from source', buildJS);\ngulp.task('build-css', 'Builds all css from source', buildCSS);\ngulp.task('build-assets', 'Copies all assets from source', buildAssets);\ngulp.task('clean', 'Clean dist folder', clean);\ngulp.task('version', 'Displays current version of Semantic', version);\n/*--------------\n      Docs\n---------------*/\n\n/*\n  Lets you serve files to a local documentation instance\n  https://github.com/Semantic-Org/Semantic-UI-Docs/\n*/\n\ngulp.task('serve-docs', 'Serve file changes to SUI Docs', serveDocs);\ngulp.task('build-docs', 'Build all files and add to SUI Docs', buildDocs);\n/*--------------\n      RTL\n---------------*/\n\nif (config.rtl) {\n  gulp.task('watch-rtl', 'Watch files as RTL', watchRTL);\n  gulp.task('build-rtl', 'Build all files as RTL', buildRTL);\n}\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}}},{\n  \"extensions\": [\n    \".js\",\n    \".json\",\n    \".html\",\n    \".css\",\n    \".scss\"\n  ]\n});\nrequire(\"/client/templates/template.editEvent.js\");\nrequire(\"/client/templates/template.events.js\");\nrequire(\"/client/templates/template.newEvent.js\");\nrequire(\"/client/templates/template.tabs.js\");\nrequire(\"/client/scripts/lib/app.js\");\nrequire(\"/lib/collections.js\");\nrequire(\"/semantic/tasks/config/admin/templates/component-package.js\");\nrequire(\"/semantic/tasks/config/admin/templates/css-package.js\");\nrequire(\"/semantic/tasks/config/admin/templates/less-package.js\");\nrequire(\"/semantic/src/definitions/behaviors/api.js\");\nrequire(\"/semantic/src/definitions/behaviors/form.js\");\nrequire(\"/semantic/src/definitions/behaviors/visibility.js\");\nrequire(\"/semantic/src/definitions/globals/site.js\");\nrequire(\"/semantic/src/definitions/modules/accordion.js\");\nrequire(\"/semantic/src/definitions/modules/checkbox.js\");\nrequire(\"/semantic/src/definitions/modules/dimmer.js\");\nrequire(\"/semantic/src/definitions/modules/dropdown.js\");\nrequire(\"/semantic/src/definitions/modules/embed.js\");\nrequire(\"/semantic/src/definitions/modules/modal.js\");\nrequire(\"/semantic/src/definitions/modules/nag.js\");\nrequire(\"/semantic/src/definitions/modules/popup.js\");\nrequire(\"/semantic/src/definitions/modules/progress.js\");\nrequire(\"/semantic/src/definitions/modules/rating.js\");\nrequire(\"/semantic/src/definitions/modules/search.js\");\nrequire(\"/semantic/src/definitions/modules/shape.js\");\nrequire(\"/semantic/src/definitions/modules/sidebar.js\");\nrequire(\"/semantic/src/definitions/modules/sticky.js\");\nrequire(\"/semantic/src/definitions/modules/tab.js\");\nrequire(\"/semantic/src/definitions/modules/transition.js\");\nrequire(\"/semantic/tasks/admin/components/create.js\");\nrequire(\"/semantic/tasks/admin/components/init.js\");\nrequire(\"/semantic/tasks/admin/components/update.js\");\nrequire(\"/semantic/tasks/admin/distributions/create.js\");\nrequire(\"/semantic/tasks/admin/distributions/init.js\");\nrequire(\"/semantic/tasks/admin/distributions/update.js\");\nrequire(\"/semantic/tasks/config/admin/github.js\");\nrequire(\"/semantic/tasks/config/admin/oauth.example.js\");\nrequire(\"/semantic/tasks/config/admin/release.js\");\nrequire(\"/semantic/tasks/config/npm/gulpfile.js\");\nrequire(\"/semantic/tasks/config/project/config.js\");\nrequire(\"/semantic/tasks/config/project/install.js\");\nrequire(\"/semantic/tasks/config/project/release.js\");\nrequire(\"/client/scripts/controllers/editEvent.controller.js\");\nrequire(\"/client/scripts/controllers/events.controller.js\");\nrequire(\"/client/scripts/controllers/newEvent.controller.js\");\nrequire(\"/client/scripts/filters/calendar.filter.js\");\nrequire(\"/semantic/tasks/admin/publish.js\");\nrequire(\"/semantic/tasks/admin/register.js\");\nrequire(\"/semantic/tasks/admin/release.js\");\nrequire(\"/semantic/tasks/build/assets.js\");\nrequire(\"/semantic/tasks/build/css.js\");\nrequire(\"/semantic/tasks/build/javascript.js\");\nrequire(\"/semantic/tasks/collections/admin.js\");\nrequire(\"/semantic/tasks/collections/build.js\");\nrequire(\"/semantic/tasks/collections/internal.js\");\nrequire(\"/semantic/tasks/collections/rtl.js\");\nrequire(\"/semantic/tasks/config/defaults.js\");\nrequire(\"/semantic/tasks/config/docs.js\");\nrequire(\"/semantic/tasks/config/tasks.js\");\nrequire(\"/semantic/tasks/config/user.js\");\nrequire(\"/semantic/tasks/docs/build.js\");\nrequire(\"/semantic/tasks/docs/metadata.js\");\nrequire(\"/semantic/tasks/docs/serve.js\");\nrequire(\"/semantic/tasks/rtl/build.js\");\nrequire(\"/semantic/tasks/rtl/watch.js\");\nrequire(\"/client/scripts/routes.js\");\nrequire(\"/semantic/tasks/build.js\");\nrequire(\"/semantic/tasks/check-install.js\");\nrequire(\"/semantic/tasks/clean.js\");\nrequire(\"/semantic/tasks/install.js\");\nrequire(\"/semantic/tasks/version.js\");\nrequire(\"/semantic/tasks/watch.js\");\nrequire(\"/semantic/gulpfile.js\");","servePath":"/app.js","sourceMap":{"version":3,"sources":["client/scripts/lib/app.js","client/scripts/controllers/editEvent.controller.js","client/scripts/controllers/events.controller.js","client/scripts/controllers/newEvent.controller.js","client/scripts/filters/calendar.filter.js","client/scripts/routes.js","lib/collections.js","semantic/tasks/config/admin/templates/component-package.js","semantic/tasks/config/admin/templates/css-package.js","semantic/tasks/config/admin/templates/less-package.js","semantic/tasks/config/admin/github.js","semantic/tasks/config/admin/oauth.example.js","semantic/tasks/config/admin/release.js","semantic/tasks/config/npm/gulpfile.js","semantic/tasks/config/project/config.js","semantic/tasks/config/project/install.js","semantic/tasks/config/project/release.js","semantic/tasks/config/defaults.js","semantic/tasks/config/docs.js","semantic/tasks/config/tasks.js","semantic/tasks/config/user.js","semantic/tasks/admin/components/create.js","semantic/tasks/admin/components/init.js","semantic/tasks/admin/components/update.js","semantic/tasks/admin/distributions/create.js","semantic/tasks/admin/distributions/init.js","semantic/tasks/admin/distributions/update.js","semantic/tasks/admin/publish.js","semantic/tasks/admin/register.js","semantic/tasks/admin/release.js","semantic/tasks/build/assets.js","semantic/tasks/build/css.js","semantic/tasks/build/javascript.js","semantic/tasks/collections/admin.js","semantic/tasks/collections/build.js","semantic/tasks/collections/internal.js","semantic/tasks/collections/rtl.js","semantic/tasks/docs/build.js","semantic/tasks/docs/metadata.js","semantic/tasks/docs/serve.js","semantic/tasks/rtl/build.js","semantic/tasks/rtl/watch.js","semantic/tasks/build.js","semantic/tasks/check-install.js","semantic/tasks/clean.js","semantic/tasks/install.js","semantic/tasks/version.js","semantic/tasks/watch.js","semantic/src/definitions/behaviors/api.js","semantic/src/definitions/behaviors/form.js","semantic/src/definitions/behaviors/visibility.js","semantic/src/definitions/globals/site.js","semantic/src/definitions/modules/accordion.js","semantic/src/definitions/modules/checkbox.js","semantic/src/definitions/modules/dimmer.js","semantic/src/definitions/modules/dropdown.js","semantic/src/definitions/modules/embed.js","semantic/src/definitions/modules/modal.js","semantic/src/definitions/modules/nag.js","semantic/src/definitions/modules/popup.js","semantic/src/definitions/modules/progress.js","semantic/src/definitions/modules/rating.js","semantic/src/definitions/modules/search.js","semantic/src/definitions/modules/shape.js","semantic/src/definitions/modules/sidebar.js","semantic/src/definitions/modules/sticky.js","semantic/src/definitions/modules/tab.js","semantic/src/definitions/modules/transition.js","semantic/gulpfile.js"],"names":["module1","module","watch","require","Angular","v","Loader","Meteor","EventsCtrl","NewEventCtrl","EditEventCtrl","CalendarFilter","RoutesConfig","App","load","isCordova","element","document","on","onReady","ready","bootstrap","export","Moment","Controller","Events","arguments","helpers","data","find","event","Session","get","console","log","done","update","_id","$set","name","city","country","from","to","webpage","credits","about","$state","go","delete","remove","$name","$inject","createNew","loadEvent","set","generateCode","code","index","digit","Math","floor","random","picture","claims","claimed","winner","insert","Filter","filter","time","calendar","lastDay","sameDay","lastWeek","sameElse","Config","Runner","eventsTemplateUrl","newEventTemplateUrl","editEventTemplateUrl","tabsTemplateUrl","configure","$stateProvider","state","url","templateUrl","views","controller","$urlRouterProvider","otherwise","Mongo","Collection","Package","describe","summary","version","git","onUse","api","versionsFrom","addFiles","files","where","use","fs","path","githubAPI","oAuthConfig","join","__dirname","oAuth","existsSync","github","error","debug","protocol","timeout","authenticate","type","token","exports","username","email","source","paths","output","templates","bower","composer","meteor","css","component","less","readme","notes","org","repo","config","npm","distRepoRoot","componentRepoRoot","packageRoot","outputRoot","homepage","distributions","components","gulp","build","buildJS","buildCSS","buildAssets","clean","serveDocs","buildDocs","buildRTL","watchRTL","task","rtl","extend","defaults","getPath","file","directory","configPath","walk","nextDirectory","resolve","sep","currentPath","normalize","addDerivedValues","sourcePaths","outputPaths","folder","hasOwnProperty","base","assets","uncompressed","relative","themes","replace","compressed","packaged","permission","hasPermissions","globs","Array","indexOf","length","release","requireDotFile","when","changeRoot","questions","useRoot","undefined","changePermissions","hasConfig","process","cwd","allowOverwrite","overwrite","notAuto","install","custom","express","customize","primaryColor","secondaryColor","removeTrailingSlash","isSetup","shouldAutoInstall","getPackageManager","pathArray","split","root","isSubModule","moduleFolders","createJSON","answers","json","semanticRoot","dist","site","setupFiles","regExp","siteVariable","definitions","gulpFile","lessImport","tasks","themeConfig","themeImport","defaultTheme","userGulpFile","folders","modules","message","choices","value","setup","checked","cleanup","settings","rename","extname","wrench","forceDelete","excludeHiddenUnix","preserveFiles","merge","npmPackage","title","repository","banner","pmRoot","theme","admin","ignored","ignoredRTL","eco","examples","metadata","template","created","modified","filenames","concatenatedCSS","concatenatedJS","concatenatedMinifiedCSS","concatenatedMinifiedJS","concatenatedRTLCSS","concatenatedMinifiedRTLCSS","comments","variables","out","license","large","small","tiny","del","silent","concatCSS","rebaseUrls","header","plumber","errorHandler","variable","filename","match","line","exec","emit","prefix","browsers","minJS","minCSS","rtlCSS","rtlMinCSS","minify","processImport","restructuring","keepSpecialComments","roundingPrecision","uglify","mangle","concatMinify","concatUglify","gulpConfig","userConfig","runSequence","concatFileNames","flatten","jsonEditor","tap","util","project","callback","stream","outputDirectory","isJavascript","isCSS","capitalizedComponent","charAt","toUpperCase","slice","packageName","repoName","gitURL","repoURL","concatSettings","newline","prepend","append","titleName","spacedVersions","spacedLists","trim","unrelatedNotes","RegExp","whitespace","componentExport","componentReference","settingsExport","settingsReference","trailingComma","jQuery","all","manifest","src","pipe","dest","description","main","dependencies","jquery","package","contents","push","mkdirp","total","timer","stepRepo","gitOptions","pullOptions","args","quiet","resetOptions","localRepoSetup","sync","search","info","force","setupRepo","addRemote","initRepo","init","createRepo","repos","createFromOrg","pullFiles","pull","resetFiles","reset","nextRepo","global","clearTimeout","setTimeout","commitArgs","componentPackage","isNewVersion","commitMessage","commitOptions","releaseOptions","tag_name","owner","fileModeOptions","usernameOptions","emailOptions","versionOptions","canProceed","setConfig","commitFiles","add","commit","pushFiles","getSHA","createRelease","target_commitish","mergeStream","distribution","distLowerCase","toLowerCase","packageFile","gatherFiles","createList","dir","list","readdirSync","omitted","forEach","isOmitted","filePath","stat","statSync","isDirectory","concat","releases","siteTheme","lowerCaseComponent","distributionPackage","execSettings","updateNPM","err","stdout","stderr","chmod","gulpif","hasPermission","autoprefixer","clone","minifyCSS","print","tasksCompleted","maybeCallback","compressedStream","uncompressedStream","in","start","initComponents","createComponents","updateComponents","initDistributions","createDistributions","updateDistributions","publish","register","dedupe","docsConfig","docsOutput","map","configSetup","parser","writeFile","JSON","stringify","result","YAML","startsWith","str","inArray","needle","haystack","i","isNull","isStream","Error","text","String","toString","lines","substring","key","position","lineCount","active","yaml","categories","meta","parse","category","clear","lessPath","isDefinition","isPackagedTheme","isSiteTheme","isConfig","replaceExtension","rtlcss","prompt","currentConfig","manager","rootQuestions","installFolder","updateFolder","updatePaths","definition","copyDirSyncRecursive","default","prototype","splice","apply","setupAnswers","installPaths","configFolder","themeConfigFolder","customRoot","destination","pathToSite","jsonConfig","exit","$","window","self","Function","fn","parameters","$allModules","isFunction","moduleSelector","selector","Date","getTime","performance","query","methodInvoked","queryArguments","call","returnedValue","each","isPlainObject","namespace","className","eventNamespace","moduleNamespace","$module","$form","closest","form","$context","stateContext","ajaxSettings","requestSettings","requestStartTime","context","instance","initialize","bind","events","instantiate","verbose","destroy","removeData","off","triggerEvent","trigger","decode","response","e","read","cachedResponse","Storage","noStorage","sessionStorage","getItem","write","setItem","is","disabled","loading","interruptRequests","abort","defaultData","urlData","serializeForm","formData","cancelled","beforeSend","templatedURL","mocked","missingURL","method","beforeXHR","success","failure","complete","cache","request","create","resolveWith","throttle","send","throttleFirstRequest","should","removeError","hideError","expectingJSON","dataType","mockResponse","mockResponseAsync","responseAsync","input","abortedRequest","xhr","readyState","validResponse","successTest","was","succesful","requiredVariables","optionalVariables","required","optional","templatedString","substr","requiredParameter","encodeParameters","urlEncodedValue","canSerialize","serializeObject","serialize","hasOtherData","missingSerialize","mockedXHR","onRequest","preventDefault","always","textStatus","elapsedTime","timeLeft","loadingDuration","translatedResponse","onResponse","rejectWith","fail","status","httpMessage","onSuccess","firstParameter","secondParameter","responseFromXHR","onComplete","errorMessage","errorFromRequest","onAbort","statusMessage","onError","errorDuration","onFailure","Deferred","responder","asyncResponder","asyncCallback","responseText","ajax","addClass","removeClass","runSettings","legacyParameters","noReturnedValue","decodedValue","decodeURIComponent","encodedValue","encodeURIComponent","alreadyEncoded","isWindow","val","oninput","onpropertychange","action","missingAction","attr","setting","internal","currentTime","executionTime","previousTime","display","totalTime","group","table","groupCollapsed","groupEnd","invoke","passedArguments","object","maxDepth","found","depth","camelCaseValue","isArray","promise","exitConditions","JSONParse","parseError","formErrors","keyHeldDown","$field","$group","$message","$prompt","$submit","$clear","$reset","validation","bindEvents","removeEvents","refresh","field","submit","attachEvents","validate","blur","keyboardShortcuts","keydown","$input","prop","inputEvent","changeEvent","change","$element","parent","$fieldGroup","defaultValue","isCheckbox","uiCheckbox","isDropdown","uiDropdown","isErrored","hasClass","dropdown","determine","isValid","allValid","fieldName","bracketedRule","rule","bracket","shorthandFields","fields","fieldKeys","Object","keys","firstRule","shorthandRules","rules","empty","blank","valid","which","isInput","checkbox","isInDropdown","keyCode","enter","escape","ctrlKey","one","keyup","validationRules","revalidate","delay","ancillaryValue","ruleName","createElement","fieldsFromShorthand","fullFields","ancillary","identifier","unspecifiedRule","requiresValue","requiresName","$label","eq","unspecifiedField","isLegacySettings","ruleKeys","oldSyntax","string","$fields","fieldValidation","results","values","isRadio","radio","isMultiple","isChecked","has","newValidation","errors","children","promptExists","inline","appendTo","html","transition","duration","fadeIn","fadeOut","isEmptyObject","fieldExists","$multipleField","ignoreCallbacks","apiRequest","stopImmediatePropagation","showErrors","$dependsField","depends","fieldValid","fieldErrors","onValid","onInvalid","ruleFunction","noRule","htmlID","decimal","flags","integer","number","isExactly","not","notExactly","contain","containExactly","doesntContain","doesntContainExactly","minLength","exactLength","maxLength","different","creditCard","minCount","exactCount","maxCount","label","pressed","test","regExpParts","range","intRegExp","min","max","parts","notValue","contains","containsExactly","requiredLength","matchingValue","cardNumber","cardTypes","cards","visa","pattern","amex","mastercard","discover","unionPay","jcb","maestro","dinersClub","laser","visaElectron","validCard","requiredTypes","multiple","producedValue","sum","parseInt","visibility","moduleCount","loadedCount","$window","$placeholder","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","contextObserver","observer","trackChanges","image","fixed","observeChanges","save","visible","initialCheck","checkVisibility","disconnect","resize","scroll","scrollchange","resetFixed","placeholder","MutationObserver","contextChanged","changed","observe","childList","subtree","refreshOnLoad","mutations","mutation","removedNodes","node","refreshOnResize","triggerHandler","scrollTop","scrollPosition","precache","images","imagesLength","loadedCounter","cacheImage","handleLoad","onload","onerror","enableCallbacks","disableCallbacks","occurred","screen","once","onOnScreen","onAllLoaded","onLoad","onTopPassed","show","onTopPassedReverse","hide","insertAfter","top","offset","left","zIndex","onFixed","onScreen","calculations","elementCalculations","offScreen","width","verticallyScrollableContext","overflowY","horizontallyScrollableContext","overflowX","checkOnRefresh","onRefresh","passed","passingReverse","topVisibleReverse","bottomVisibleReverse","topPassedReverse","bottomPassedReverse","passing","topVisible","bottomVisible","topPassed","bottomPassed","onUpdate","amount","newCallback","amountInPixels","onPassed","pixelsPassed","execute","callbackName","onOffScreen","onPassing","onTopVisible","onBottomVisible","onBottomPassed","onPassingReverse","onTopVisibleReverse","onBottomVisibleReverse","onBottomPassedReverse","screenCalculations","continuous","onUnfixed","direction","lastScroll","elementPosition","screenSize","fits","height","outerWidth","outerHeight","scrollLeft","includeMargin","margin","bottom","percentagePassed","$document","fix","disable","markTimeline","consoleClear","moduleExists","enabled","enabledModules","disabledModules","modifyExisting","$existingModules","newSettings","enable","warn","siteNamespace","namespaceStub","sections","section","utilities","expr","createPseudo","dataName","elem","accordion","$title","$content","content","click","toggle","$activeTitle","$activeContent","next","isAnimating","animating","isActive","isOpen","isOpening","collapsible","close","open","onOpening","onChanging","exclusive","closeOthers","stop","animateChildren","animation","queue","useFailSafe","animate","opacity","resetOpacity","slideDown","easing","onOpen","onChange","isClosing","onClosing","slideUp","onClose","$parentTitles","parents","prev","$activeAccordion","activeSelector","activeContent","$openTitles","$nestedTitles","$openContents","closeNested","removeAttr","easeOutQuad","x","t","b","c","d","initialLoad","shortcutPressed","tabbable","unbind","reference","indeterminate","check","uncheck","hidden","notFound","$target","target","link","focus","space","allowCheck","onChecked","allowUncheck","unchecked","onUnchecked","allowIndeterminate","onIndeterminate","determinate","allowDeterminate","onDeterminate","onEnable","onEnabled","onDisable","onDisabled","radios","otherRadios","forceCallbacks","beforeChecked","beforeUnchecked","beforeIndeterminate","beforeDeterminate","fireOnInit","can","readOnly","uncheckable","uncheckOthers","createEvent","inputElement","initEvent","dispatchEvent","prevAll","detach","$radios","dimmer","clickEvent","documentElement","$dimmer","$dimmable","preinitialize","dimmerName","variation","dimmable","page","addEventListener","preventScroll","passive","pageDimmer","closable","removeEventListener","addContent","dimmed","onShow","onHide","useCSS","displayType","onStart","fadeTo","color","colorArray","isRGB","isRGBA","hasTouch","elementIndex","$text","$search","$sizer","sizer","$icon","icon","$combo","$menu","menu","$item","item","activated","itemActivated","internalChange","pageLostFocus","willRefocus","elementNamespace","id","selectObserver","menuObserver","alreadySetup","layout","refreshData","restore","selected","select","userChoice","$userChoices","$userChoice","isUserValue","userValues","addition","addResult","hideAdditions","userLabels","minCharacters","firstUnfiltered","selectedItem","unselectable","nextAvailable","$selected","$nextAvailable","nextAll","$prevAvailable","hasNext","apiSettings","returnedObject","insertBefore","searchSelection","allowTab","selectValues","selection","missingMultiple","prependTo","$firstModules","$lastModules","refreshSelectors","refreshItems","clearData","defaultText","placeholderText","remote","queryRemote","maxSelections","allResultsFiltered","allFiltered","intent","menuSearch","focusSearch","animatingOutward","hideOthers","hideMenu","hideSubMenus","$subMenus","touchEvents","keyboardEvents","inputEvents","mouseEvents","single","mouseenter","mousedown","mouseup","mouseleave","touch","searchTerm","afterFiltered","filterActive","activeItem","onNoResults","allowAdditions","noResults","userSuggestion","focusedOnSearch","useLabels","useAPI","filterRemoteData","filterItems","noAPI","serverError","remoteValues","hasRemoteValues","escapedTerm","beginsWithRegExp","$choice","choiceText","fullTextSearch","exactSearch","fuzzySearch","choiceValue","filteredItem","filtered","term","termLength","queryLength","characterIndex","nextCharacterIndex","queryCharacter","charCodeAt","skipHandler","forceSelection","$currentlySelected","$activeItem","$selectedItem","hasSelected","showOnFocus","activeElement","activeLabel","$labels","$activeLabels","$nextActive","$prevActive","$range","nextUntil","prevUntil","shiftKey","toggleClass","onLabelSelect","activeLabels","toggleBehavior","bubbledLabelClick","bubbledIconClick","eventOnElement","stopPropagation","eventInModule","isSelectMutation","addedNodes","$addedNode","$removedNode","$changedNodes","isUserAddition","isMessage","$subMenu","$otherMenus","siblings","hasSubMenu","isBubbledEvent","itemTimer","skipRefocus","allowCategorySelection","userAddition","selectAction","pressedKey","isShortcutKey","inObject","$activeLabel","activeValue","labelIndex","labelCount","hasActiveLabel","hasMultipleActive","isFirstLabel","isLastLabel","isSearch","isFocusedOnSearch","isFocused","focused","caretAtStart","caretPosition","$nextLabel","leftArrow","last","siblingLabel","end","rightArrow","first","deleteKey","backspace","$visibleItems","addBack","$parentMenu","inVisibleMenu","hasSelectedItem","selectedIsSelectable","delimiterPressed","delimiter","isAdditionWithoutMenu","$nextItem","isSubMenuItem","newIndex","upArrow","selectOnKeydown","downArrow","pageUp","scrollPage","pageDown","selectedLetter","fromCharCode","inDocument","inModule","inVisibleDOM","body","notOnLabel","notInMenu","nothing","activate","hideAndClear","combo","searchWidth","ceil","selectionCount","count","upward","grep","uniqueArray","array","rangeLength","selectionStart","createRange","moveStart","isEmptyMultiselect","selectInput","remoteData","preserveHTML","menuIcon","$option","sortSelect","sort","a","itemWithAdditions","$items","$userItems","hasUserItems","strict","shouldSearch","optionText","optionValue","labels","saveRemoteData","clearValue","$currentItem","menuHeight","currentScroll","itemHeight","itemsPerPage","maxScroll","newScroll","$selectableItem","isWithinRange","$nextSelectedItem","isSearchMultiple","searchValue","hasSearchValue","valueIsSet","glyphWidth","partialSearch","forceScroll","edgeTolerance","hasActive","itemOffset","menuOffset","menuScroll","abovePage","belowPage","searchText","letter","alreadySelectedLetter","firstLetter","$nextValue","openDownward","leftward","openRightward","$currentMenu","escapedValue","hasInput","currentValue","stringValue","newValue","allowReselection","extendSelect","exactly","$userSelectedItem","selectedText","selectedValue","isFiltered","shouldAnimate","$next","ignoreCase","onLabelCreate","hasOption","$addition","$existingItem","alreadyHasValue","hasUserSuggestion","hasCount","hasMaxCount","hasTerm","addedValue","addedText","onAdd","removedValue","removedText","$removedItem","arrayValue","onRemove","$removedLabel","userValue","onLabelRemove","items","$normalResults","valueIgnoringCase","valueMatchingCase","hasValue","existingValue","animatingInward","$selectedMenu","property","selectMutation","selectChanged","canOpenDownward","above","below","canOpenRightward","isOffscreenRight","noTransition","multipleValues","isUnparsable","hasQuotes","quote","keepOnScreen","$selectedLabels","option","maybeText","maybeDisabled","choice","embed","sources","$embed","autoplay","createAndShow","createPlaceholder","generate","createEmbed","onCreate","changeEmbed","showPlaceholder","onReset","onDisplay","onPlaceholderDisplay","matchedSource","domain","encode","urlString","iframe","noURL","extraParameters","onEmbed","video","hd","brandedUI","youtube","autohide","hq","jsapi","modestbranding","vimeo","byline","portrait","onPause","onPlay","onStop","modal","$body","$close","$allModals","$otherModals","$focusedElement","ignoreRepeatedEvents","elementEventNamespace","refreshModals","defaultSettings","centered","dimmerSettings","detachable","undetached","scrolling","cacheSizes","screenHeight","$toggle","approve","deny","onApprove","onDeny","isInModal","isInDOM","clickaway","allowMultiple","hideAll","debounce","keyboard","escapeKey","showModal","hideModal","showDimmer","others","onVisible","autofocus","keepDimmed","hideDimmer","onHidden","$visibleModals","$activeElement","inCurrentModal","bodyStyle","scrollHeight","modalHeight","pageHeight","contextHeight","topOffset","fit","verticalCenter","paddingHeight","padding","startPosition","modernBrowser","ActiveXObject","$inputs","$autofocus","inverted","blurring","nag","moduleOffset","moduleHeight","contextWidth","contextOffset","yOffset","yPosition","dismiss","displayTime","storageMethod","storage","persist","storageOptions","options","expires","localStorage","cookie","noCookieStorage","storedValue","removeItem","removeCookie","speed","popup","$scrollContext","scrollContext","$boundary","boundary","$popup","$offsetParent","searchDepth","triedPositions","openedWithTouch","documentObserver","createID","exists","preserve","documentChanged","offsetParent","movePopup","reposition","removePopup","hideTimer","showTimer","touchstart","hideGracefully","inPopup","activator","hoverable","conditions","popupVisible","supports","svg","SVGGraphicsElement","popupOffset","$popupOffsetParent","targetElement","targetPosition","screenPosition","setFluidWidth","fluid","container","getComputedStyle","getPropertyValue","right","startEvent","scrollEvent","endEvent","distanceFromBoundary","parentNode","$node","is2D","isStatic","isBody","positions","nextPosition","verticalPosition","horizontalPosition","opposite","adjacent","center","backup","adjacentsAvailable","oppositeTried","adjacentTried","prefer","distanceAway","positioning","centerArrow","arrowPixelsFromEdge","maxSearchDepth","lastResort","invalidPosition","offstage","cannotPlace","attempts","onUnplaceable","fluidWidth","hideOnScroll","closeOnScroll","touchClose","basic","distance","jitter","addTouchEvents","badChars","shouldEscape","escapedChar","chr","progress","$bar","bar","$progress","transitionEnd","transitionEvent","clearInterval","interval","nextValue","percent","progressPoll","failSafeTimer","failSafeDelay","increment","incrementValue","maxValue","startValue","randomValue","normalizedValue","decrement","decrementValue","templateText","displayPercent","updateInterval","numericValue","transitions","style","barWidth","totalWidth","minDisplay","precision","round","toNextValue","warning","tooHigh","tooLow","limitValues","labelInterval","animationCallback","setInterval","framerate","barLabel","autoSuccess","ratio","showActivity","onLabelUpdate","onActive","onWarning","totalValue","percentComplete","nonNumeric","rating","interactive","initialRating","maxRating","$activeIcon","currentRating","canClear","clearable","clearRating","ratingIndex","onRate","slent","noMaximum","$searchButton","searchButton","$results","$result","$category","disabledBubbled","resultsDismissed","searchFields","refreshResults","automatic","handleKeyboard","searchDelay","searchOnFocus","minimumCharacters","showResults","cancel","hideResults","hideDelay","resultsClicked","inMessage","$link","href","onSelect","location","$activeResult","currentIndex","resultSize","hasActiveResult","buttonPressed","buttonFocus","displayMessage","searchHTML","searchFullText","oldSearchSyntax","lookupFields","firstResult","addResults","inject","local","onSearchQuery","maxResults","categoryResults","generateResults","exactResults","fuzzyResults","searchExp","matchRegExp","beginsWith","notResult","notFuzzyResult","notExactResults","numCharacters","resultIndex","categoryIndex","resultID","categoryID","firstCharCode","letterID","$selectedResult","onResultsAdd","selectFirstResult","onResultsOpen","onResultsClose","isProperObject","isProperArray","noTemplate","showNoResults","onResults","displayField","logging","noEndpoint","categoryName","price","actionText","actionURL","standard","shape","$sides","sides","$side","side","nextIndex","$activeSide","$nextSide","defaultSide","repaint","fakeAssignment","offsetWidth","propertyObject","beforeChange","currentStageSize","stageSize","$clone","newWidth","newHeight","nextSide","flip","up","allowRepeats","transform","stage","down","over","behind","back","translate","y","z","box","origin","sidebar","$html","$head","$sidebars","$fixed","$pusher","pusher","$style","delaySetup","ios","clickedInPusher","clickedContext","containScroll","offsetHeight","scrollLock","inlineCSS","isRTL","ie","refreshSidebars","wrapAll","movedSidebar","pushable","overlay","othersActive","pushPage","pullPage","othersAnimating","othersVisible","$otherSidebars","sidebarCount","callbackCount","$transition","dim","scrollToTop","dimPage","returnScroll","mobile","scrollBack","scrollTo","pushed","mobileTransition","defaultTransition","computer","isIE11","isIE","userAgent","navigator","isIOS","isMobileChrome","mobileChrome","isMobile","closed","vertical","sticky","$scroll","$container","determineContainer","determineContext","checkErrors","invalidContext","elementSize","stick","onScroll","hardRefresh","onReposition","supported","elementScroll","standardScroll","sameHeight","containerSize","scrollChange","currentElementScroll","abs","delta","possibleScroll","minimumSize","tagName","size","setProperty","initialPosition","bound","cachedPosition","pushing","bottomOffset","doesntFit","elementVisible","bindBottom","fixTop","setInitialPosition","fixBottom","bindTop","marginBottom","onTop","onUnstick","onBottom","unfix","setSize","onStick","resetCSS","tab","initializedHistory","$tabs","firstLoad","recursionDepth","activeTabPath","parameterArray","historyEvent","callbacks","determineTabs","auto","history","initializeHistory","$reference","ui","childrenOnly","tabs","onTabLoad","onTabInit","legacyLoad","onFirstLoad","legacyInit","address","historyType","tabPath","changeTab","pathNames","initialPath","pageTitle","determineTitle","cacheKey","$tab","tabElement","isLoading","pushStateAvailable","pushState","shouldIgnoreLoad","ignoreFirstLoad","remoteContent","pathToArray","defaultPathArray","arrayToPath","currentPathArray","isTab","isLastIndex","$anchor","nextPathArray","nextPath","isLastTab","filterArray","navigation","fetch","missingTab","scrollOffset","evaluateScripts","cacheType","innerHTML","fullTabPath","alwaysRefresh","headers","loadOnce","existingRequest","cachedContent","$deactiveTabs","deactivate","$navigation","navElement","$deactiveNavigation","tabName","defaultPath","$defaultNav","defaultTab","recursion","$fullPathTab","$simplePathTab","tabPathArray","lastTab","keepArray","removeArray","keepValue","pathName","tabArray","noContent","loaded","moduleArguments","animationEnd","animationName","animationEndEvent","forceRepaint","$parentElement","$nextElement","animationDirection","shouldReverse","reverse","outward","overrideSettings","support","occurring","queuing","noAnimation","animationCallbacks","completeCallback","failSafe","looping","inward","userStyle","overrideStyle","currentDisplay","emptyStyle","hasDirection","word","inlineDisplay","animationClass","transitionExists","currentAnimation","queueCallback","directionClass","currentDirection","parseFloat","shouldDetermine","animationStartEvent","animations","forced","elementClass","inAnimation","directionExists","stopAll","repeated"],"mappings":"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","file":"/app.js","sourcesContent":["// Libs\nimport 'angular-animate';\nimport 'angular-meteor';\nimport 'angular-sanitize';\nimport 'angular-ui-router';\nimport 'ionic-scripts';\nimport Angular from 'angular';\nimport Loader from 'angular-ecmascript/module-loader';\nimport { Meteor } from 'meteor/meteor';\n\n// Modules\nimport EventsCtrl from '../controllers/events.controller';\nimport NewEventCtrl from '../controllers/newEvent.controller';\nimport EditEventCtrl from '../controllers/editEvent.controller';\nimport CalendarFilter from '../filters/calendar.filter';\nimport RoutesConfig from '../routes';\n\nconst App = 'TicketSalad Administration';\n\n// App\nAngular.module(App, [\n  'angular-meteor',\n  'ionic'\n]);\n\nnew Loader(App)\n  .load(EventsCtrl)\n  .load(NewEventCtrl)\n  .load(EditEventCtrl)\n  .load(CalendarFilter)\n  .load(RoutesConfig);\n\n// Startup\nif (Meteor.isCordova) {\n  Angular.element(document).on('deviceready', onReady);\n}\nelse {\n  Angular.element(document).ready(onReady);\n}\n\nfunction onReady() {\n  Angular.bootstrap(document, [App]);\n}\n","import Moment from 'moment';\nimport { Controller } from 'angular-ecmascript/module-helpers';\nimport { Events } from '../../../lib/collections';\n\nexport default class EditEventCtrl extends Controller {\n  constructor() {\n    super(...arguments);\n\n    this.helpers({\n      data() {\n        return Events.find();\n      },\n      load()\n      {\n        this.event = Session.get(\"editEvent\");\n        console.log(this.event);\n      }\n    });\n\n  }\n\n  done()\n  {\n    Events.update(this.event._id, {\n\n        $set: { \n            name: this.event.name,\n            city: this.event.city,\n            country: this.event.country,\n            from: this.event.from,\n            to: this.event.to,\n            webpage: this.event.webpage,\n            credits: this.event.credits,\n            about: this.event.about\n        }\n  \n      });\n    this.$state.go(\"tab.events\");\n  }\n\n  delete()\n  {\n    Events.remove(this.event._id);\n    this.$state.go(\"tab.events\");\n  }\n\n}\n\nEditEventCtrl.$name = 'EditEventCtrl';\nEditEventCtrl.$inject = ['$state', '$ionicPopup', '$log'];","import Moment from 'moment';\nimport { Controller } from 'angular-ecmascript/module-helpers';\nimport { Events } from '../../../lib/collections';\n\nexport default class EventsCtrl extends Controller {\n  constructor() {\n    super(...arguments);\n\n    this.helpers({\n      data() {\n        return Events.find();\n      }\n    });\n\n  }\n\n  createNew()\n  {\n    console.log(\"new\");\n    this.$state.go('tab.newEvent');\n    console.log(\"gone\");\n  }\n\n  loadEvent(event)\n  {\n    console.log(\"Loading event\");\n    Session.set(\"editEvent\",event);\n  }\n}\n\nEventsCtrl.$name = 'EventsCtrl';\nEventsCtrl.$inject = ['$state', '$ionicPopup', '$log'];","import Moment from 'moment';\nimport { Controller } from 'angular-ecmascript/module-helpers';\nimport { Events } from '../../../lib/collections';\n\nexport default class NewEventCtrl extends Controller {\n  constructor() {\n    super(...arguments);\n\n    this.helpers({\n      data() {\n        return Events.find();\n      }\n    });\n\n  }\n\n  generateCode()\n  {\n      var code = \"\";\n      for (var index = 0; index < 5; index++) \n      {\n          var digit = Math.floor((Math.random() * 10));\n          code += digit + \"\";\n      }\n      //Console.log(code);\n      return code;\n  }\n\n  done()\n  {\n    var event = {\n      name: this.name,\n      city: this.city,\n      country: this.country,\n      picture: 'img/TL.jpg',\n      from: this.from,\n      to: this.to,\n      webpage: this.webpage,\n      credits: this.credits,\n      about: this.about,\n      claims: 0,\n      code: this.generateCode(),\n      claimed: 0,\n      winner: null\n    };\n\n    Events.insert(event);\n    this.$state.go(\"tab.events\");\n  }\n}\n\nNewEventCtrl.$name = 'NewEventCtrl';\nNewEventCtrl.$inject = ['$state', '$ionicPopup', '$log'];","import Moment from 'moment';\nimport { Filter } from 'angular-ecmascript/module-helpers';\n\nexport default class CalendarFilter extends Filter {\n  filter(time) {\n    if (!time) return;\n\n    return Moment(time).calendar(null, {\n      lastDay : '[Yesterday]',\n      sameDay : 'LT',\n      lastWeek : 'dddd',\n      sameElse : 'DD/MM/YY'\n    });\n  }\n}\n\nCalendarFilter.$name = 'calendar';","\nimport { Config, Runner } from 'angular-ecmascript/module-helpers';\n\nimport eventsTemplateUrl from '../templates/events.html';\nimport newEventTemplateUrl from '../templates/newEvent.html';\nimport editEventTemplateUrl from '../templates/editEvent.html';\nimport tabsTemplateUrl from '../templates/tabs.html';\n\nexport default class RoutesConfig extends Config {\n  configure() {\n    this.$stateProvider\n      .state('tab', {\n        url: '/tab',\n        abstract: true,\n        templateUrl: tabsTemplateUrl\n      })\n      .state('tab.events', {\n        url: '/events',\n        views: {\n          'tab-events': {\n            templateUrl: eventsTemplateUrl,\n            controller: 'EventsCtrl as events'\n          }\n        }\n      })\n      .state('tab.newEvent', {\n        url: '/newEvent',\n        views: {\n          'tab-events':{\n            templateUrl: newEventTemplateUrl,\n            controller: 'NewEventCtrl as newEvent'\n          }\n        }\n      })\n      .state('tab.editEvent', {\n        url: '/editEvent',\n        views: {\n          'tab-events':{\n            templateUrl: editEventTemplateUrl,\n            controller: 'EditEventCtrl as editEvent'\n          }\n        }\n      });\n\n    this.$urlRouterProvider.otherwise('tab/events');\n  }\n}\n\nRoutesConfig.$inject = ['$stateProvider', '$urlRouterProvider'];\n","import { Mongo } from 'meteor/mongo';\n\nexport const Events = new Mongo.Collection('events');","\nPackage.describe({\n  name    : 'semantic:ui-{component}',\n  summary : 'Semantic UI - {Component}: Single component release',\n  version : '{version}',\n  git     : 'git://github.com/Semantic-Org/UI-{Component}.git',\n});\n\nPackage.onUse(function(api) {\n  api.versionsFrom('1.0');\n  api.addFiles([\n    {files}\n  ], 'client');\n});\n","var\n  where = 'client' // Adds files only to the client\n;\n\nPackage.describe({\n  name    : 'semantic:ui-css',\n  summary : 'Semantic UI - CSS Release of Semantic UI',\n  version : '{version}',\n  git     : 'git://github.com/Semantic-Org/Semantic-UI-CSS.git',\n});\n\nPackage.onUse(function(api) {\n\n  api.versionsFrom('1.0');\n\n  api.use('jquery', 'client');\n\n  api.addFiles([\n    // icons\n    'themes/default/assets/fonts/icons.eot',\n    'themes/default/assets/fonts/icons.svg',\n    'themes/default/assets/fonts/icons.ttf',\n    'themes/default/assets/fonts/icons.woff',\n    'themes/default/assets/fonts/icons.woff2',\n\n    // flags\n    'themes/default/assets/images/flags.png',\n\n    // release\n    'semantic.css',\n    'semantic.js'\n  ], 'client');\n\n});\n","var\n  where = 'client' // Adds files only to the client\n;\n\nPackage.describe({\n  name    : 'semantic:ui',\n  summary : 'Semantic UI - LESS Release of Semantic UI',\n  version : '{version}',\n  git     : 'git://github.com/Semantic-Org/Semantic-UI-LESS.git',\n});\n\nPackage.onUse(function(api) {\n\n  api.versionsFrom('1.0');\n  api.use('less', 'client');\n\n  api.addFiles([\n    {files}\n  ], 'client');\n\n});\n","/*******************************\n          GitHub Login\n*******************************/\n/*\n  Logs into GitHub using OAuth\n*/\n\nvar\n  fs          = require('fs'),\n  path        = require('path'),\n  githubAPI   = require('github'),\n\n  // stores oauth info for GitHub API\n  oAuthConfig = path.join(__dirname, 'oauth.js'),\n  oAuth       = fs.existsSync(oAuthConfig)\n    ? require(oAuthConfig)\n    : false,\n  github\n;\n\nif(!oAuth) {\n  console.error('Must add oauth token for GitHub in tasks/config/admin/oauth.js');\n}\n\ngithub = new githubAPI({\n  version    : '3.0.0',\n  debug      : true,\n  protocol   : 'https',\n  timeout    : 5000\n});\n\ngithub.authenticate({\n  type: 'oauth',\n  token: oAuth.token\n});\n\nmodule.exports = github;\n","/*\n Used to import GitHub Auth Token\n To Automate GitHub Updates\n*/\n\nmodule.exports = {\n  token    : 'AN-OAUTH2-TOKEN',\n  username : 'github-username',\n  name     : 'Your Name',\n  email    : 'user@email.com'\n};","/*******************************\n        Release Settings\n*******************************/\n\n// release settings\nmodule.exports = {\n\n  // path to components for repos\n  source     : './dist/components/',\n\n  // modified asset paths for component repos\n  paths: {\n    source : '../themes/default/assets/',\n    output : 'assets/'\n  },\n\n  templates: {\n    bower    : './tasks/config/admin/templates/bower.json',\n    composer : './tasks/config/admin/templates/composer.json',\n    package  : './tasks/config/admin/templates/package.json',\n    meteor   : {\n      css       : './tasks/config/admin/templates/css-package.js',\n      component : './tasks/config/admin/templates/component-package.js',\n      less      : './tasks/config/admin/templates/less-package.js',\n    },\n    readme : './tasks/config/admin/templates/README.md',\n    notes  : './RELEASE-NOTES.md'\n  },\n\n  org         : 'Semantic-Org',\n  repo        : 'Semantic-UI',\n\n  // files created for package managers\n  files: {\n    composer : 'composer.json',\n    config   : 'semantic.json',\n    npm      : 'package.json',\n    meteor   : 'package.js'\n  },\n\n  // root name for distribution repos\n  distRepoRoot      : 'Semantic-UI-',\n\n  // root name for single component repos\n  componentRepoRoot : 'UI-',\n\n  // root name for package managers\n  packageRoot          : 'semantic-ui-',\n\n  // root path to repos\n  outputRoot  : '../repos/',\n\n  homepage    : 'http://www.semantic-ui.com',\n\n  // distributions that get separate repos\n  distributions: [\n    'LESS',\n    'CSS'\n  ],\n\n  // components that get separate repositories for bower/npm\n  components : [\n    'accordion',\n    'ad',\n    'api',\n    'breadcrumb',\n    'button',\n    'card',\n    'checkbox',\n    'comment',\n    'container',\n    'dimmer',\n    'divider',\n    'dropdown',\n    'embed',\n    'feed',\n    'flag',\n    'form',\n    'grid',\n    'header',\n    'icon',\n    'image',\n    'input',\n    'item',\n    'label',\n    'list',\n    'loader',\n    'menu',\n    'message',\n    'modal',\n    'nag',\n    'popup',\n    'progress',\n    'rail',\n    'rating',\n    'reset',\n    'reveal',\n    'search',\n    'segment',\n    'shape',\n    'sidebar',\n    'site',\n    'statistic',\n    'step',\n    'sticky',\n    'tab',\n    'table',\n    'transition',\n    'visibility'\n  ]\n};\n","/*******************************\n            Set-up\n*******************************/\n\nvar\n  gulp         = require('gulp-help')(require('gulp')),\n\n  // read user config to know what task to load\n  config       = require('./tasks/config/user'),\n\n  // watch changes\n  watch        = require('./tasks/watch'),\n\n  // build all files\n  build        = require('./tasks/build'),\n  buildJS      = require('./tasks/build/javascript'),\n  buildCSS     = require('./tasks/build/css'),\n  buildAssets  = require('./tasks/build/assets'),\n\n  // utility\n  clean        = require('./tasks/clean'),\n  version      = require('./tasks/version'),\n\n  // docs tasks\n  serveDocs    = require('./tasks/docs/serve'),\n  buildDocs    = require('./tasks/docs/build'),\n\n  // rtl\n  buildRTL     = require('./tasks/rtl/build'),\n  watchRTL     = require('./tasks/rtl/watch')\n;\n\n\n/*******************************\n             Tasks\n*******************************/\n\ngulp.task('default', false, [\n  'watch'\n]);\n\ngulp.task('watch', 'Watch for site/theme changes', watch);\n\ngulp.task('build', 'Builds all files from source', build);\ngulp.task('build-javascript', 'Builds all javascript from source', buildJS);\ngulp.task('build-css', 'Builds all css from source', buildCSS);\ngulp.task('build-assets', 'Copies all assets from source', buildAssets);\n\ngulp.task('clean', 'Clean dist folder', clean);\ngulp.task('version', 'Displays current version of Semantic', version);\n\n/*--------------\n      Docs\n---------------*/\n\n/*\n  Lets you serve files to a local documentation instance\n  https://github.com/Semantic-Org/Semantic-UI-Docs/\n*/\n\ngulp.task('serve-docs', 'Serve file changes to SUI Docs', serveDocs);\ngulp.task('build-docs', 'Build all files and add to SUI Docs', buildDocs);\n\n\n/*--------------\n      RTL\n---------------*/\n\nif(config.rtl) {\n  gulp.task('watch-rtl', 'Watch files as RTL', watchRTL);\n  gulp.task('build-rtl', 'Build all files as RTL', buildRTL);\n}\n","/*******************************\n            Set-up\n*******************************/\n\nvar\n  extend   = require('extend'),\n  fs       = require('fs'),\n  path     = require('path'),\n\n  defaults = require('../defaults')\n;\n\n\n/*******************************\n            Exports\n*******************************/\n\nmodule.exports = {\n\n  getPath: function(file, directory) {\n    var\n      configPath,\n      walk = function(directory) {\n        var\n          nextDirectory = path.resolve( path.join(directory, path.sep, '..') ),\n          currentPath   = path.normalize( path.join(directory, file) )\n        ;\n        if( fs.existsSync(currentPath) ) {\n          // found file\n          configPath = path.normalize(directory);\n          return;\n        }\n        else {\n          // reached file system root, let's stop\n          if(nextDirectory == directory) {\n            return;\n          }\n          // otherwise recurse\n          walk(nextDirectory, file);\n        }\n      }\n    ;\n\n    // start walk from outside require-dot-files directory\n    file      = file || defaults.files.config;\n    directory = directory || path.join(__dirname, path.sep, '..');\n    walk(directory);\n    return configPath || '';\n  },\n\n  // adds additional derived values to a config object\n  addDerivedValues: function(config) {\n\n    config = config || extend(false, {}, defaults);\n\n    /*--------------\n       File Paths\n    ---------------*/\n\n    var\n      configPath = this.getPath(),\n      sourcePaths = {},\n      outputPaths = {},\n      folder\n    ;\n\n    // resolve paths (config location + base + path)\n    for(folder in config.paths.source) {\n      if(config.paths.source.hasOwnProperty(folder)) {\n        sourcePaths[folder] = path.resolve(path.join(configPath, config.base, config.paths.source[folder]));\n      }\n    }\n    for(folder in config.paths.output) {\n      if(config.paths.output.hasOwnProperty(folder)) {\n        outputPaths[folder] = path.resolve(path.join(configPath, config.base, config.paths.output[folder]));\n      }\n    }\n\n    // set config paths to full paths\n    config.paths.source = sourcePaths;\n    config.paths.output = outputPaths;\n\n    // resolve \"clean\" command path\n    config.paths.clean = path.resolve( path.join(configPath, config.base, config.paths.clean) );\n\n    /*--------------\n        CSS URLs\n    ---------------*/\n\n    // determine asset paths in css by finding relative path between themes and output\n    // force forward slashes\n\n    config.paths.assets = {\n      source       : '../../themes', // source asset path is always the same\n      uncompressed : './' + path.relative(config.paths.output.uncompressed, config.paths.output.themes).replace(/\\\\/g, '/'),\n      compressed   : './' + path.relative(config.paths.output.compressed, config.paths.output.themes).replace(/\\\\/g, '/'),\n      packaged     : './' + path.relative(config.paths.output.packaged, config.paths.output.themes).replace(/\\\\/g, '/')\n    };\n\n    /*--------------\n       Permission\n    ---------------*/\n\n    if(config.permission) {\n      config.hasPermissions = true;\n    }\n    else {\n      // pass blank object to avoid causing errors\n      config.permission     = {};\n      config.hasPermissions = false;\n    }\n\n    /*--------------\n         Globs\n    ---------------*/\n\n    if(!config.globs) {\n      config.globs = {};\n    }\n\n    // remove duplicates from component array\n    if(config.components instanceof Array) {\n      config.components = config.components.filter(function(component, index) {\n        return config.components.indexOf(component) == index;\n      });\n    }\n\n    // takes component object and creates file glob matching selected components\n    config.globs.components = (typeof config.components == 'object')\n      ? (config.components.length > 1)\n        ? '{' + config.components.join(',') + '}'\n        : config.components[0]\n      : '{' + defaults.components.join(',') + '}'\n    ;\n\n    return config;\n\n  }\n\n};\n\n","/*******************************\n            Set-up\n*******************************/\n\nvar\n  fs             = require('fs'),\n  path           = require('path'),\n  defaults       = require('../defaults'),\n  release        = require('./release'),\n\n  requireDotFile = require('require-dot-file')\n;\n\n/*******************************\n          When to Ask\n*******************************/\n\n/* Preconditions for install questions */\n\nvar when = {\n\n  // path\n  changeRoot: function(questions) {\n    return (questions.useRoot !== undefined && questions.useRoot !== true);\n  },\n\n  // permissions\n  changePermissions: function(questions) {\n    return (questions.changePermissions && questions.changePermissions === true);\n  },\n\n  // install\n  hasConfig: function() {\n    return requireDotFile('semantic.json', process.cwd());\n  },\n\n  allowOverwrite: function(questions) {\n    return (questions.overwrite === undefined || questions.overwrite == 'yes');\n  },\n  notAuto: function(questions) {\n    return (questions.install !== 'auto' && (questions.overwrite === undefined || questions.overwrite == 'yes'));\n  },\n  custom: function(questions) {\n    return (questions.install === 'custom' && (questions.overwrite === undefined || questions.overwrite == 'yes'));\n  },\n  express: function(questions) {\n    return (questions.install === 'express' && (questions.overwrite === undefined || questions.overwrite == 'yes'));\n  },\n\n  // customize\n  customize: function(questions) {\n    return (questions.customize === true);\n  },\n  primaryColor: function(questions) {\n    return (questions.primaryColor);\n  },\n  secondaryColor: function(questions) {\n    return (questions.secondaryColor);\n  }\n};\n\n/*******************************\n        Response Filters\n*******************************/\n\n/* Filters to user input from install questions */\n\nvar filter = {\n  removeTrailingSlash: function(path) {\n    return path.replace(/(\\/$|\\\\$)+/mg, '');\n  }\n};\n\n/*******************************\n          Configuration\n*******************************/\n\nmodule.exports = {\n\n  // check whether install is setup\n  isSetup: function() {\n    return when.hasConfig();\n  },\n\n  // detect whether there is a semantic.json configuration and that the auto-install option is set to true\n  shouldAutoInstall: function() {\n    var\n      config = when.hasConfig()\n    ;\n    return config['autoInstall'];\n  },\n\n  // checks if files are in a PM directory\n  getPackageManager: function(directory) {\n    var\n      // returns last matching result (avoid sub-module detection)\n      walk = function(directory) {\n        var\n          pathArray     = directory.split(path.sep),\n          folder        = pathArray[pathArray.length - 1],\n          nextDirectory = path.join(directory, path.sep, '..')\n        ;\n        if( folder == 'bower_components') {\n          return {\n            name: 'Bower',\n            root: nextDirectory\n          };\n        }\n        else if(folder == 'node_modules') {\n         return {\n            name: 'NPM',\n            root: nextDirectory\n          };\n        }\n        else if(folder == 'composer') {\n         return {\n            name: 'Composer',\n            root: nextDirectory\n          };\n        }\n        if(path.resolve(directory) == path.resolve(nextDirectory)) {\n          return false;\n        }\n        // recurse downward\n        return walk(nextDirectory);\n      }\n    ;\n    // start walk from current directory if none specified\n    directory = directory || (__dirname + path.sep);\n    return walk(directory);\n  },\n\n  // checks if files is PMed submodule\n  isSubModule: function(directory) {\n    var\n      moduleFolders = 0,\n      walk = function(directory) {\n        var\n          pathArray     = directory.split(path.sep),\n          folder        = pathArray[pathArray.length - 2],\n          nextDirectory = path.join(directory, path.sep, '..')\n        ;\n        if( folder == 'bower_components') {\n          moduleFolders++;\n        }\n        else if(folder == 'node_modules') {\n          moduleFolders++;\n        }\n        else if(folder == 'composer') {\n          moduleFolders++;\n        }\n        if(path.resolve(directory) == path.resolve(nextDirectory)) {\n          return (moduleFolders > 1);\n        }\n        // recurse downward\n        return walk(nextDirectory);\n      }\n    ;\n    // start walk from current directory if none specified\n    directory = directory || (__dirname + path.sep);\n    return walk(directory);\n  },\n\n\n  createJSON: function(answers) {\n    var\n      json = {\n        paths: {\n          source: {},\n          output: {}\n        }\n      }\n    ;\n\n    // add components\n    if(answers.components) {\n      json.components = answers.components;\n    }\n\n    // add rtl choice\n    if(answers.rtl) {\n      json.rtl = answers.rtl;\n    }\n\n    // add permissions\n    if(answers.permission) {\n      json.permission = answers.permission;\n    }\n\n    // add path to semantic\n    if(answers.semanticRoot) {\n      json.base = path.normalize(answers.semanticRoot);\n    }\n\n    // record version number to avoid re-installing on same version\n    json.version = release.version;\n\n    // add dist folder paths\n    if(answers.dist) {\n      answers.dist = path.normalize(answers.dist);\n\n      json.paths.output = {\n        packaged     : path.normalize(answers.dist + '/'),\n        uncompressed : path.normalize(answers.dist + '/components/'),\n        compressed   : path.normalize(answers.dist + '/components/'),\n        themes       : path.normalize(answers.dist + '/themes/')\n      };\n    }\n\n    // add site path\n    if(answers.site) {\n      json.paths.source.site = path.normalize(answers.site + '/');\n    }\n    if(answers.packaged) {\n      json.paths.output.packaged = path.normalize(answers.packaged + '/');\n    }\n    if(answers.compressed) {\n      json.paths.output.compressed = path.normalize(answers.compressed + '/');\n    }\n    if(answers.uncompressed) {\n      json.paths.output.uncompressed = path.normalize(answers.uncompressed + '/');\n    }\n    return json;\n  },\n\n  // files cleaned up after install\n  setupFiles: [\n    './src/theme.config.example',\n    './semantic.json.example',\n    './src/_site'\n  ],\n\n  regExp: {\n    // used to match siteFolder variable in theme.less\n    siteVariable: /@siteFolder .*\\'(.*)/mg\n  },\n\n  // source paths (when installing)\n  source: {\n    config       : './semantic.json.example',\n    definitions  : './src/definitions',\n    gulpFile     : './gulpfile.js',\n    lessImport   : './src/semantic.less',\n    site         : './src/_site',\n    tasks        : './tasks',\n    themeConfig  : './src/theme.config.example',\n    themeImport  : './src/theme.less',\n    themes       : './src/themes',\n    defaultTheme : './src/themes/default',\n    userGulpFile : './tasks/config/npm/gulpfile.js'\n  },\n\n  // expected final filenames\n  files: {\n    config      : 'semantic.json',\n    lessImport  : 'src/semantic.less',\n    site        : 'src/site',\n    themeConfig : 'src/theme.config',\n    themeImport : 'src/theme.less'\n  },\n\n  // folder paths to files relative to root\n  folders: {\n    config       : './',\n    definitions  : 'src/definitions/',\n    lessImport   : 'src/',\n    modules      : 'node_modules/',\n    site         : 'src/site/',\n    tasks        : 'tasks/',\n    themeConfig  : 'src/',\n    themeImport  : 'src/',\n    themes       : 'src/themes/',\n\n    defaultTheme : 'default/' // only path that is relative to another directory and not root\n  },\n\n  // questions asked during install\n  questions: {\n\n    root: [\n      {\n        type    : 'list',\n        name    : 'useRoot',\n        message :\n          '{packageMessage} Is this your project folder? {root}',\n        choices: [\n          {\n            name  : 'Yes',\n            value : true\n          },\n          {\n            name  : 'No, let me specify',\n            value : false\n          }\n        ]\n      },\n      {\n        type    : 'input',\n        name    : 'customRoot',\n        message : 'Please enter the absolute path to your project root',\n        default : '/my/project/path',\n        when    : when.changeRoot\n      },\n      {\n        type    : 'input',\n        name    : 'semanticRoot',\n        message : 'Where should we put Semantic UI inside your project?',\n        default : 'semantic/'\n      }\n    ],\n\n    setup: [\n      {\n        type: 'list',\n        name: 'overwrite',\n        message: 'It looks like you have a semantic.json file already.',\n        when: when.hasConfig,\n        choices: [\n          {\n            name: 'Yes, extend my current settings.',\n            value: 'yes'\n          },\n          {\n            name: 'Skip install',\n            value: 'no'\n          }\n        ]\n      },\n      {\n        type: 'list',\n        name: 'install',\n        message: 'Set-up Semantic UI',\n        when: when.allowOverwrite,\n        choices: [\n          {\n            name: 'Automatic (Use default locations and all components)',\n            value: 'auto'\n          },\n          {\n            name: 'Express (Set components and output folder)',\n            value: 'express'\n          },\n          {\n            name: 'Custom (Customize all src/dist values)',\n            value: 'custom'\n          }\n        ]\n      },\n      {\n        type: 'checkbox',\n        name: 'components',\n        message: 'What components should we include in the package?',\n\n        // duplicated manually from tasks/defaults.js with additional property\n        choices: [\n          { name: \"reset\", checked: true },\n          { name: \"site\", checked: true },\n          { name: \"button\", checked: true },\n          { name: \"container\", checked: true },\n          { name: \"divider\", checked: true },\n          { name: \"flag\", checked: true },\n          { name: \"header\", checked: true },\n          { name: \"icon\", checked: true },\n          { name: \"image\", checked: true },\n          { name: \"input\", checked: true },\n          { name: \"label\", checked: true },\n          { name: \"list\", checked: true },\n          { name: \"loader\", checked: true },\n          { name: \"rail\", checked: true },\n          { name: \"reveal\", checked: true },\n          { name: \"segment\", checked: true },\n          { name: \"step\", checked: true },\n          { name: \"breadcrumb\", checked: true },\n          { name: \"form\", checked: true },\n          { name: \"grid\", checked: true },\n          { name: \"menu\", checked: true },\n          { name: \"message\", checked: true },\n          { name: \"table\", checked: true },\n          { name: \"ad\", checked: true },\n          { name: \"card\", checked: true },\n          { name: \"comment\", checked: true },\n          { name: \"feed\", checked: true },\n          { name: \"item\", checked: true },\n          { name: \"statistic\", checked: true },\n          { name: \"accordion\", checked: true },\n          { name: \"checkbox\", checked: true },\n          { name: \"dimmer\", checked: true },\n          { name: \"dropdown\", checked: true },\n          { name: \"embed\", checked: true },\n          { name: \"modal\", checked: true },\n          { name: \"nag\", checked: true },\n          { name: \"popup\", checked: true },\n          { name: \"progress\", checked: true },\n          { name: \"rating\", checked: true },\n          { name: \"search\", checked: true },\n          { name: \"shape\", checked: true },\n          { name: \"sidebar\", checked: true },\n          { name: \"sticky\", checked: true },\n          { name: \"tab\", checked: true },\n          { name: \"transition\", checked: true },\n          { name: \"api\", checked: true },\n          { name: \"form\", checked: true },\n          { name: \"state\", checked: true },\n          { name: \"visibility\", checked: true }\n        ],\n        when: when.notAuto\n      },\n      {\n        type: 'list',\n        name: 'changePermissions',\n        when: when.notAuto,\n        message: 'Should we set permissions on outputted files?',\n        choices: [\n          {\n            name: 'No',\n            value: false\n          },\n          {\n            name: 'Yes',\n            value: true\n          }\n        ]\n      },\n      {\n        type: 'input',\n        name: 'permission',\n        message: 'What octal file permission should outputted files receive?',\n        default: defaults.permission,\n        when: when.changePermissions\n      },\n      {\n        type: 'list',\n        name: 'rtl',\n        message: 'Do you use a RTL (Right-To-Left) language?',\n        when: when.notAuto,\n        choices: [\n          {\n            name: 'No',\n            value: false\n          },\n          {\n            name: 'Yes',\n            value: true\n          },\n          {\n            name: 'Build Both',\n            value: 'both'\n          }\n        ]\n      },\n      {\n        type: 'input',\n        name: 'dist',\n        message: 'Where should we output Semantic UI?',\n        default: defaults.paths.output.packaged,\n        filter: filter.removeTrailingSlash,\n        when: when.express\n      },\n      {\n        type: 'input',\n        name: 'site',\n        message: 'Where should we put your site folder?',\n        default: defaults.paths.source.site,\n        filter: filter.removeTrailingSlash,\n        when: when.custom\n      },\n      {\n        type: 'input',\n        name: 'packaged',\n        message: 'Where should we output a packaged version?',\n        default: defaults.paths.output.packaged,\n        filter: filter.removeTrailingSlash,\n        when: when.custom\n      },\n      {\n        type: 'input',\n        name: 'compressed',\n        message: 'Where should we output compressed components?',\n        default: defaults.paths.output.compressed,\n        filter: filter.removeTrailingSlash,\n        when: when.custom\n      },\n      {\n        type: 'input',\n        name: 'uncompressed',\n        message: 'Where should we output uncompressed components?',\n        default: defaults.paths.output.uncompressed,\n        filter: filter.removeTrailingSlash,\n        when: when.custom\n      }\n    ],\n\n\n    cleanup: [\n      {\n        type: 'list',\n        name: 'cleanup',\n        message: 'Should we remove set-up files?',\n        choices: [\n          {\n            name: 'Yes (re-install will require redownloading semantic).',\n            value: 'yes'\n          },\n          {\n            name: 'No Thanks',\n            value: 'no'\n          }\n        ]\n      },\n      {\n        type: 'list',\n        name: 'build',\n        message: 'Do you want to build Semantic now?',\n        choices: [\n          {\n            name: 'Yes',\n            value: 'yes'\n          },\n          {\n            name: 'No',\n            value: 'no'\n          }\n        ]\n      },\n    ],\n    site: [\n      {\n        type: 'list',\n        name: 'customize',\n        message: 'You have not yet customized your site, can we help you do that?',\n        choices: [\n          {\n            name: 'Yes, ask me a few questions',\n            value: true\n          },\n          {\n            name: 'No I\\'ll do it myself',\n            value: false\n          }\n        ]\n      },\n      {\n        type: 'list',\n        name: 'headerFont',\n        message: 'Select your header font',\n        choices: [\n          {\n            name: 'Helvetica Neue, Arial, sans-serif',\n            value: 'Helvetica Neue, Arial, sans-serif;'\n          },\n          {\n            name: 'Lato (Google Fonts)',\n            value: 'Lato'\n          },\n          {\n            name: 'Open Sans (Google Fonts)',\n            value: 'Open Sans'\n          },\n          {\n            name: 'Source Sans Pro (Google Fonts)',\n            value: 'Source Sans Pro'\n          },\n          {\n            name: 'Droid (Google Fonts)',\n            value: 'Droid'\n          },\n          {\n            name: 'I\\'ll choose on my own',\n            value: false\n          }\n        ],\n        when: when.customize\n      },\n      {\n        type: 'list',\n        name: 'pageFont',\n        message: 'Select your page font',\n        choices: [\n          {\n            name: 'Helvetica Neue, Arial, sans-serif',\n            value: 'Helvetica Neue, Arial, sans-serif;'\n          },\n          {\n            name: 'Lato (Import from Google Fonts)',\n            value: 'Lato'\n          },\n          {\n            name: 'Open Sans (Import from Google Fonts)',\n            value: 'Open Sans'\n          },\n          {\n            name: 'Source Sans Pro (Import from Google Fonts)',\n            value: 'Source Sans Pro'\n          },\n          {\n            name: 'Droid (Google Fonts)',\n            value: 'Droid'\n          },\n          {\n            name: 'I\\'ll choose on my own',\n            value: false\n          }\n        ],\n        when: when.customize\n      },\n      {\n        type: 'list',\n        name: 'fontSize',\n        message: 'Select your base font size',\n        default: '14px',\n        choices: [\n          {\n            name: '12px',\n          },\n          {\n            name: '13px',\n          },\n          {\n            name: '14px (Recommended)',\n            value: '14px'\n          },\n          {\n            name: '15px',\n          },\n          {\n            name: '16px',\n          },\n          {\n            name: 'I\\'ll choose on my own',\n            value: false\n          }\n        ],\n        when: when.customize\n      },\n      {\n        type: 'list',\n        name: 'primaryColor',\n        message: 'Select the closest name for your primary brand color',\n        default: '14px',\n        choices: [\n          {\n            name: 'Blue'\n          },\n          {\n            name: 'Green'\n          },\n          {\n            name: 'Orange'\n          },\n          {\n            name: 'Pink'\n          },\n          {\n            name: 'Purple'\n          },\n          {\n            name: 'Red'\n          },\n          {\n            name: 'Teal'\n          },\n          {\n            name: 'Yellow'\n          },\n          {\n            name: 'Black'\n          },\n          {\n            name: 'I\\'ll choose on my own',\n            value: false\n          }\n        ],\n        when: when.customize\n      },\n      {\n        type: 'input',\n        name: 'PrimaryHex',\n        message: 'Enter a hexcode for your primary brand color',\n        when: when.primaryColor\n      },\n      {\n        type: 'list',\n        name: 'secondaryColor',\n        message: 'Select the closest name for your secondary brand color',\n        default: '14px',\n        choices: [\n          {\n            name: 'Blue'\n          },\n          {\n            name: 'Green'\n          },\n          {\n            name: 'Orange'\n          },\n          {\n            name: 'Pink'\n          },\n          {\n            name: 'Purple'\n          },\n          {\n            name: 'Red'\n          },\n          {\n            name: 'Teal'\n          },\n          {\n            name: 'Yellow'\n          },\n          {\n            name: 'Black'\n          },\n          {\n            name: 'I\\'ll choose on my own',\n            value: false\n          }\n        ],\n        when: when.customize\n      },\n      {\n        type: 'input',\n        name: 'secondaryHex',\n        message: 'Enter a hexcode for your secondary brand color',\n        when: when.secondaryColor\n      }\n    ]\n\n  },\n\n  settings: {\n\n    /* Rename Files */\n    rename: {\n      json : { extname : '.json' }\n    },\n\n    /* Copy Install Folders */\n    wrench: {\n\n      // overwrite existing files update & install (default theme / definition)\n      overwrite: {\n        forceDelete       : true,\n        excludeHiddenUnix : true,\n        preserveFiles     : false\n      },\n\n      // only create files that don't exist (site theme update)\n      merge: {\n        forceDelete       : false,\n        excludeHiddenUnix : true,\n        preserveFiles     : true\n      }\n\n    }\n  }\n};\n","/*******************************\n         Release Config\n*******************************/\n\nvar\n  requireDotFile = require('require-dot-file'),\n  config,\n  npmPackage,\n  version\n;\n\n\n/*******************************\n         Derived Values\n*******************************/\n\ntry {\n  config = requireDotFile('semantic.json');\n}\ncatch(error) {}\n\n\ntry {\n  npmPackage = require('../../../package.json');\n}\ncatch(error) {\n  // generate fake package\n  npmPackage = {\n    name: 'Unknown',\n    version: 'x.x'\n  };\n}\n\n// looks for version in config or package.json (whichever is available)\nversion = (npmPackage && npmPackage.version !== undefined && npmPackage.name == 'semantic-ui')\n  ? npmPackage.version\n  : config.version\n;\n\n\n/*******************************\n             Export\n*******************************/\n\nmodule.exports = {\n\n  title      : 'Semantic UI',\n  repository : 'https://github.com/Semantic-Org/Semantic-UI',\n  url        : 'http://www.semantic-ui.com/',\n\n  banner: ''\n    + ' /*' + '\\n'\n    + ' * # <%= title %> - <%= version %>' + '\\n'\n    + ' * <%= repository %>' + '\\n'\n    + ' * <%= url %>' + '\\n'\n    + ' *' + '\\n'\n    + ' * Copyright 2014 Contributors' + '\\n'\n    + ' * Released under the MIT license' + '\\n'\n    + ' * http://opensource.org/licenses/MIT' + '\\n'\n    + ' *' + '\\n'\n    + ' */' + '\\n',\n\n  version    : version\n\n};\n","/*******************************\n          Default Paths\n*******************************/\n\nmodule.exports = {\n\n  // base path added to all other paths\n  base : '',\n\n  // base path when installed with npm\n  pmRoot: 'semantic/',\n\n  // octal permission for output files, i.e. 644 (false does not adjust)\n  permission : 744,\n\n  // whether to generate rtl files\n  rtl        : false,\n\n  // file paths\n  files: {\n    config   : 'semantic.json',\n    site     : 'src/site',\n    theme    : 'src/theme.config'\n  },\n\n  // folder paths\n  paths: {\n    source: {\n      config      : 'src/theme.config',\n      definitions : 'src/definitions/',\n      site        : 'src/site/',\n      themes      : 'src/themes/'\n    },\n    output: {\n      packaged     : 'dist/',\n      uncompressed : 'dist/components/',\n      compressed   : 'dist/components/',\n      themes       : 'dist/themes/'\n    },\n    clean : 'dist/'\n  },\n\n  // components to include in package\n  components: [\n\n    // global\n    'reset',\n    'site',\n\n    // elements\n    'button',\n    'container',\n    'divider',\n    'flag',\n    'header',\n    'icon',\n    'image',\n    'input',\n    'label',\n    'list',\n    'loader',\n    'rail',\n    'reveal',\n    'segment',\n    'step',\n\n    // collections\n    'breadcrumb',\n    'form',\n    'grid',\n    'menu',\n    'message',\n    'table',\n\n    // views\n    'ad',\n    'card',\n    'comment',\n    'feed',\n    'item',\n    'statistic',\n\n    // modules\n    'accordion',\n    'checkbox',\n    'dimmer',\n    'dropdown',\n    'embed',\n    'modal',\n    'nag',\n    'popup',\n    'progress',\n    'rating',\n    'search',\n    'shape',\n    'sidebar',\n    'sticky',\n    'tab',\n    'transition',\n\n    // behaviors\n    'api',\n    'form',\n    'state',\n    'visibility'\n  ],\n\n  // whether to load admin tasks\n  admin: false,\n\n  // globs used for matching file patterns\n  globs      : {\n    ignored    : '!(*.min|*.map|*.rtl)',\n    ignoredRTL : '!(*.min|*.map)'\n  }\n\n};\n","/*******************************\n             Docs\n*******************************/\n\n/* Paths used for \"serve-docs\" and \"build-docs\" tasks */\nmodule.exports = {\n  base: '',\n  globs: {\n    eco: '**/*.html.eco'\n  },\n  paths: {\n    clean: '../docs/out/dist/',\n    source: {\n      config      : 'src/theme.config',\n      definitions : 'src/definitions/',\n      site        : 'src/site/',\n      themes      : 'src/themes/'\n    },\n    output: {\n      examples     : '../docs/out/examples/',\n      less         : '../docs/out/src/',\n      metadata     : '../docs/out/',\n      packaged     : '../docs/out/dist/',\n      uncompressed : '../docs/out/dist/components/',\n      compressed   : '../docs/out/dist/components/',\n      themes       : '../docs/out/dist/themes/'\n    },\n    template: {\n      eco: '../docs/server/documents/'\n    },\n  }\n};\n","var\n  console = require('better-console'),\n  config  = require('./user'),\n  release = require('./project/release')\n;\n\n\nmodule.exports = {\n\n  banner : release.banner,\n\n  log: {\n    created: function(file) {\n      return 'Created: ' + file;\n    },\n    modified: function(file) {\n      return 'Modified: ' + file;\n    }\n  },\n\n  filenames: {\n    concatenatedCSS            : 'semantic.css',\n    concatenatedJS             : 'semantic.js',\n    concatenatedMinifiedCSS    : 'semantic.min.css',\n    concatenatedMinifiedJS     : 'semantic.min.js',\n    concatenatedRTLCSS         : 'semantic.rtl.css',\n    concatenatedMinifiedRTLCSS : 'semantic.rtl.min.css'\n  },\n\n  regExp: {\n\n    comments: {\n\n      // remove all comments from config files (.variable)\n      variables : {\n        in  : /(\\/\\*[\\s\\S]+?\\*\\/+)[\\s\\S]+?\\/\\* End Config \\*\\//,\n        out : '$1',\n      },\n\n      // add version to first comment\n      license: {\n        in  : /(^\\/\\*[\\s\\S]+)(# Semantic UI )([\\s\\S]+?\\*\\/)/,\n        out : '$1$2' + release.version + ' $3'\n      },\n\n      // adds uniform spacing around comments\n      large: {\n        in  : /(\\/\\*\\*\\*\\*[\\s\\S]+?\\*\\/)/mg,\n        out : '\\n\\n$1\\n'\n      },\n      small: {\n        in  : /(\\/\\*---[\\s\\S]+?\\*\\/)/mg,\n        out : '\\n$1\\n'\n      },\n      tiny: {\n        in  : /(\\/\\* [\\s\\S]+? \\*\\/)/mg,\n        out : '\\n$1'\n      }\n    },\n\n    theme: /.*(\\/|\\\\)themes(\\/|\\\\).*?(?=(\\/|\\\\))/mg\n\n  },\n\n  settings: {\n\n    /* Remove Files in Clean */\n    del: {\n      silent : true\n    },\n\n    concatCSS: {\n      rebaseUrls: false\n    },\n\n    /* Comment Banners */\n    header: {\n      title      : release.title,\n      version    : release.version,\n      repository : release.repository,\n      url        : release.url\n    },\n\n    plumber: {\n      less: {\n        errorHandler: function(error) {\n          var\n            regExp = {\n              variable : /@(\\S.*?)\\s/,\n              theme    : /themes[\\/\\\\]+(.*?)[\\/\\\\].*/,\n              element  : /[\\/\\\\]([^\\/\\\\*]*)\\.overrides/\n            },\n            theme,\n            element\n          ;\n          if(error.filename.match(/theme.less/)) {\n            if(error.line == 5) {\n              element  = regExp.variable.exec(error.message)[1];\n              if(element) {\n                console.error('Missing theme.config value for ', element);\n              }\n              console.error('Most likely new UI was added in an update. You will need to add missing elements from theme.config.example');\n            }\n            if(error.line == 46) {\n              element = regExp.element.exec(error.message)[1];\n              theme   = regExp.theme.exec(error.message)[1];\n              console.error(theme + ' is not an available theme for ' + element);\n            }\n          }\n          else {\n            console.log(error);\n          }\n          this.emit('end');\n        }\n      }\n    },\n\n    /* What Browsers to Prefix */\n    prefix: {\n      browsers: [\n        'last 2 versions',\n        '> 1%',\n        'opera 12.1',\n        'bb 10',\n        'android 4'\n      ]\n    },\n\n    /* File Renames */\n    rename: {\n      minJS     : { extname : '.min.js' },\n      minCSS    : { extname : '.min.css' },\n      rtlCSS    : { extname : '.rtl.css' },\n      rtlMinCSS : { extname : '.rtl.min.css' }\n    },\n\n    /* Minified CSS Concat */\n    minify: {\n      processImport       : false,\n      restructuring       : false,\n      keepSpecialComments : 1,\n      roundingPrecision   : -1,\n    },\n\n    /* Minified JS Settings */\n    uglify: {\n      mangle   : true,\n      output: {\n        comments: 'some'\n      }\n    },\n\n    /* Minified Concat CSS Settings */\n    concatMinify: {\n      processImport       : false,\n      restructuring       : false,\n      keepSpecialComments : false,\n      roundingPrecision   : -1,\n    },\n\n    /* Minified Concat JS */\n    concatUglify: {\n      mangle   : true,\n      output: {\n        comments: 'some'\n      }\n    }\n\n  }\n};\n","/*******************************\n             Set-up\n*******************************/\n\nvar\n  // npm dependencies\n  extend          = require('extend'),\n  fs              = require('fs'),\n  path            = require('path'),\n  requireDotFile  = require('require-dot-file'),\n\n  // semantic.json defaults\n  defaults        = require('./defaults'),\n  config          = require('./project/config'),\n\n  // Final config object\n  gulpConfig = {},\n\n  // semantic.json settings\n  userConfig\n\n;\n\n\n/*******************************\n          User Config\n*******************************/\n\ntry {\n  // looks for config file across all parent directories\n  userConfig = requireDotFile('semantic.json');\n}\ncatch(error) {\n  if(error.code === 'MODULE_NOT_FOUND') {\n    console.error('No semantic.json config found');\n  }\n}\n\n// extend user config with defaults\ngulpConfig = (!userConfig)\n  ? extend(true, {}, defaults)\n  : extend(false, {}, defaults, userConfig)\n;\n\n/*******************************\n       Add Derived Values\n*******************************/\n\n// adds calculated values\nconfig.addDerivedValues(gulpConfig);\n\n\n/*******************************\n             Export\n*******************************/\n\nmodule.exports = gulpConfig;\n\n","/*******************************\n     Create Component Repos\n*******************************/\n\n/*\n This will create individual component repositories for each SUI component\n\n  * copy component files from release\n  * create commonjs files as index.js for NPM release\n  * create release notes that filter only items related to component\n  * custom package.json file from template\n  * create bower.json from template\n  * create README from template\n  * create meteor.js file\n*/\n\nvar\n  gulp            = require('gulp'),\n\n  // node dependencies\n  console         = require('better-console'),\n  del             = require('del'),\n  fs              = require('fs'),\n  path            = require('path'),\n  runSequence     = require('run-sequence'),\n\n  // admin dependencies\n  concatFileNames = require('gulp-concat-filenames'),\n  debug           = require('gulp-debug'),\n  flatten         = require('gulp-flatten'),\n  git             = require('gulp-git'),\n  jsonEditor      = require('gulp-json-editor'),\n  plumber         = require('gulp-plumber'),\n  rename          = require('gulp-rename'),\n  replace         = require('gulp-replace'),\n  tap             = require('gulp-tap'),\n  util            = require('gulp-util'),\n\n  // config\n  config          = require('../../config/user'),\n  release         = require('../../config/admin/release'),\n  project         = require('../../config/project/release'),\n\n  // shorthand\n  version         = project.version,\n  output          = config.paths.output\n\n;\n\n\nmodule.exports = function(callback) {\n  var\n    stream,\n    index,\n    tasks = []\n  ;\n\n  for(index in release.components) {\n\n    var\n      component = release.components[index]\n    ;\n\n    // streams... designed to save time and make coding fun...\n    (function(component) {\n\n      var\n        outputDirectory      = path.join(release.outputRoot, component),\n        isJavascript         = fs.existsSync(output.compressed + component + '.js'),\n        isCSS                = fs.existsSync(output.compressed + component + '.css'),\n        capitalizedComponent = component.charAt(0).toUpperCase() + component.slice(1),\n        packageName          = release.packageRoot + component,\n        repoName             = release.componentRepoRoot + capitalizedComponent,\n        gitURL               = 'https://github.com/' + release.org + '/' + repoName + '.git',\n        repoURL              = 'https://github.com/' + release.org + '/' + repoName + '/',\n        concatSettings = {\n          newline : '',\n          root    : outputDirectory,\n          prepend : \"    '\",\n          append  : \"',\"\n        },\n        regExp               = {\n          match            : {\n            // templated values\n            name      : '{component}',\n            titleName : '{Component}',\n            version   : '{version}',\n            files     : '{files}',\n            // release notes\n            spacedVersions    : /(###.*\\n)\\n+(?=###)/gm,\n            spacedLists       : /(^- .*\\n)\\n+(?=^-)/gm,\n            trim              : /^\\s+|\\s+$/g,\n            unrelatedNotes    : new RegExp('^((?!(^.*(' + component + ').*$|###.*)).)*$', 'gmi'),\n            whitespace        : /\\n\\s*\\n\\s*\\n/gm,\n            // npm\n            componentExport   : /(.*)\\$\\.fn\\.\\w+\\s*=\\s*function\\(([^\\)]*)\\)\\s*{/g,\n            componentReference: '$.fn.' + component,\n            settingsExport    : /\\$\\.fn\\.\\w+\\.settings\\s*=/g,\n            settingsReference : /\\$\\.fn\\.\\w+\\.settings/g,\n            trailingComma     : /,(?=[^,]*$)/,\n            jQuery            : /jQuery/g,\n          },\n          replace : {\n            // readme\n            name              : component,\n            titleName         : capitalizedComponent,\n            // release notes\n            spacedVersions    : '',\n            spacedLists       : '$1',\n            trim              : '',\n            unrelatedNotes    : '',\n            whitespace        : '\\n\\n',\n            // npm\n            componentExport   :  'var _module = module;\\n$1module.exports = function($2) {',\n            componentReference:  '_module.exports',\n            settingsExport    :  'module.exports.settings =',\n            settingsReference :  '_module.exports.settings',\n            jQuery            :  'require(\"jquery\")'\n          }\n        },\n        task = {\n          all      : component + ' creating',\n          repo     : component + ' create repo',\n          bower    : component + ' create bower.json',\n          readme   : component + ' create README',\n          npm      : component + ' create NPM Module',\n          notes    : component + ' create release notes',\n          composer : component + ' create composer.json',\n          package  : component + ' create package.json',\n          meteor   : component + ' create meteor package.js',\n        },\n        // paths to includable assets\n        manifest = {\n          assets    : outputDirectory + '/assets/**/' + component + '?(s).*',\n          component : outputDirectory + '/' + component + '+(.js|.css)'\n        }\n      ;\n\n      // copy dist files into output folder adjusting asset paths\n      gulp.task(task.repo, false, function() {\n        return gulp.src(release.source + component + '.*')\n          .pipe(plumber())\n          .pipe(flatten())\n          .pipe(replace(release.paths.source, release.paths.output))\n          .pipe(gulp.dest(outputDirectory))\n        ;\n      });\n\n      // create npm module\n      gulp.task(task.npm, false, function() {\n        return gulp.src(release.source + component + '!(*.min|*.map).js')\n          .pipe(plumber())\n          .pipe(flatten())\n          .pipe(replace(regExp.match.componentExport, regExp.replace.componentExport))\n          .pipe(replace(regExp.match.componentReference, regExp.replace.componentReference))\n          .pipe(replace(regExp.match.settingsExport, regExp.replace.settingsExport))\n          .pipe(replace(regExp.match.settingsReference, regExp.replace.settingsReference))\n          .pipe(replace(regExp.match.jQuery, regExp.replace.jQuery))\n          .pipe(rename('index.js'))\n          .pipe(gulp.dest(outputDirectory))\n        ;\n      });\n\n      // create readme\n      gulp.task(task.readme, false, function() {\n        return gulp.src(release.templates.readme)\n          .pipe(plumber())\n          .pipe(flatten())\n          .pipe(replace(regExp.match.name, regExp.replace.name))\n          .pipe(replace(regExp.match.titleName, regExp.replace.titleName))\n          .pipe(gulp.dest(outputDirectory))\n        ;\n      });\n\n      // extend bower.json\n      gulp.task(task.bower, false, function() {\n        return gulp.src(release.templates.bower)\n          .pipe(plumber())\n          .pipe(flatten())\n          .pipe(jsonEditor(function(bower) {\n            bower.name = packageName;\n            bower.description = capitalizedComponent + ' - Semantic UI';\n            if(isJavascript) {\n              if(isCSS) {\n                bower.main = [\n                  component + '.js',\n                  component + '.css'\n                ];\n              }\n              else {\n                bower.main = [\n                  component + '.js'\n                ];\n              }\n              bower.dependencies = {\n                jquery: '>=1.8'\n              };\n            }\n            else {\n              bower.main = [\n                component + '.css'\n              ];\n            }\n            return bower;\n          }))\n          .pipe(gulp.dest(outputDirectory))\n        ;\n      });\n\n      // extend package.json\n      gulp.task(task.package, false, function() {\n        return gulp.src(release.templates.package)\n          .pipe(plumber())\n          .pipe(flatten())\n          .pipe(jsonEditor(function(npm) {\n            if(isJavascript) {\n              npm.dependencies = {\n                jquery: 'x.x.x'\n              };\n              npm.main = 'index.js';\n            }\n            npm.name = packageName;\n            if(version) {\n              npm.version = version;\n            }\n            npm.title       = 'Semantic UI - ' + capitalizedComponent;\n            npm.description = 'Single component release of ' + component;\n            npm.repository  = {\n              type : 'git',\n              url  : gitURL\n            };\n            return npm;\n          }))\n          .pipe(gulp.dest(outputDirectory))\n        ;\n      });\n\n      // extend composer.json\n      gulp.task(task.composer, false, function() {\n        return gulp.src(release.templates.composer)\n          .pipe(plumber())\n          .pipe(flatten())\n          .pipe(jsonEditor(function(composer) {\n            if(isJavascript) {\n              composer.dependencies = {\n                jquery: 'x.x.x'\n              };\n              composer.main = component + '.js';\n            }\n            composer.name = 'semantic/' + component;\n            if(version) {\n              composer.version = version;\n            }\n            composer.description = 'Single component release of ' + component;\n            return composer;\n          }))\n          .pipe(gulp.dest(outputDirectory))\n        ;\n      });\n\n      // create release notes\n      gulp.task(task.notes, false, function() {\n        return gulp.src(release.templates.notes)\n          .pipe(plumber())\n          .pipe(flatten())\n          // Remove release notes for lines not mentioning component\n          .pipe(replace(regExp.match.unrelatedNotes, regExp.replace.unrelatedNotes))\n          .pipe(replace(regExp.match.whitespace, regExp.replace.whitespace))\n          .pipe(replace(regExp.match.spacedVersions, regExp.replace.spacedVersions))\n          .pipe(replace(regExp.match.spacedLists, regExp.replace.spacedLists))\n          .pipe(replace(regExp.match.trim, regExp.replace.trim))\n          .pipe(gulp.dest(outputDirectory))\n        ;\n      });\n\n      // Creates meteor package.js\n      gulp.task(task.meteor, function() {\n        var\n          filenames = ''\n        ;\n        return gulp.src(manifest.component)\n          .pipe(concatFileNames('empty.txt', concatSettings))\n          .pipe(tap(function(file) {\n            filenames += file.contents;\n          }))\n          .on('end', function() {\n            gulp.src(manifest.assets)\n              .pipe(concatFileNames('empty.txt', concatSettings))\n              .pipe(tap(function(file) {\n                filenames += file.contents;\n              }))\n              .on('end', function() {\n                // remove trailing slash\n                filenames = filenames.replace(regExp.match.trailingComma, '').trim();\n                gulp.src(release.templates.meteor.component)\n                  .pipe(plumber())\n                  .pipe(flatten())\n                  .pipe(replace(regExp.match.name, regExp.replace.name))\n                  .pipe(replace(regExp.match.titleName, regExp.replace.titleName))\n                  .pipe(replace(regExp.match.version, version))\n                  .pipe(replace(regExp.match.files, filenames))\n                  .pipe(rename(release.files.meteor))\n                  .pipe(gulp.dest(outputDirectory))\n                ;\n              })\n            ;\n          })\n        ;\n      });\n\n\n      // synchronous tasks in orchestrator? I think not\n      gulp.task(task.all, false, function(callback) {\n        runSequence([\n          task.repo,\n          task.npm,\n          task.bower,\n          task.readme,\n          task.package,\n          task.composer,\n          task.notes,\n          task.meteor\n        ], callback);\n      });\n\n      tasks.push(task.all);\n\n    })(component);\n  }\n\n  runSequence(tasks, callback);\n};\n","/*******************************\n          Init Repos\n*******************************/\n\n/*\n\n This task pulls the latest version of each component from GitHub\n\n  * Creates new repo if doesnt exist (locally & GitHub)\n  * Adds remote it doesnt exists\n  * Pulls latest changes from repo\n\n*/\n\nvar\n  gulp      = require('gulp'),\n\n  // node dependencies\n  console   = require('better-console'),\n  del       = require('del'),\n  fs        = require('fs'),\n  path      = require('path'),\n  git       = require('gulp-git'),\n  githubAPI = require('github'),\n  mkdirp    = require('mkdirp'),\n\n  // admin files\n  github    = require('../../config/admin/github.js'),\n  release   = require('../../config/admin/release'),\n  project   = require('../../config/project/release'),\n\n\n  // oAuth configuration for GitHub\n  oAuth     = fs.existsSync(__dirname + '/../../config/admin/oauth.js')\n    ? require('../../config/admin/oauth')\n    : false,\n\n  // shorthand\n  version         = project.version\n;\n\nmodule.exports = function(callback) {\n\n  var\n    index = -1,\n    total = release.components.length,\n    timer,\n    stream,\n    stepRepo\n  ;\n\n  if(!oAuth) {\n    console.error('Must add oauth token for GitHub in tasks/config/admin/oauth.js');\n    return;\n  }\n\n  // Do Git commands synchronously per component, to avoid issues\n  stepRepo = function() {\n\n    index = index + 1;\n\n    if(index >= total) {\n      callback();\n      return;\n    }\n\n    var\n      component            = release.components[index],\n      outputDirectory      = path.resolve(release.outputRoot + component),\n      capitalizedComponent = component.charAt(0).toUpperCase() + component.slice(1),\n      repoName             = release.componentRepoRoot + capitalizedComponent,\n\n      gitOptions           = { cwd: outputDirectory },\n      pullOptions          = { args: '-q', cwd: outputDirectory, quiet: true },\n      resetOptions         = { args: '-q --hard', cwd: outputDirectory, quiet: true },\n\n      gitURL               = 'git@github.com:' + release.org + '/' + repoName + '.git',\n      repoURL              = 'https://github.com/' + release.org + '/' + repoName + '/',\n      localRepoSetup       = fs.existsSync(path.join(outputDirectory, '.git'))\n    ;\n\n    console.log('Processing repository: ' + outputDirectory);\n\n    // create folder if doesn't exist\n    if( !fs.existsSync(outputDirectory) ) {\n      mkdirp.sync(outputDirectory);\n    }\n\n    // clean folder\n    if(release.outputRoot.search('../repos') == 0) {\n      console.info('Cleaning dir', outputDirectory);\n      del.sync([outputDirectory + '**/*'], {silent: true, force: true});\n    }\n\n    // set-up local repo\n    function setupRepo() {\n      if(localRepoSetup) {\n        addRemote();\n      }\n      else {\n        initRepo();\n      }\n    }\n\n    function initRepo() {\n      console.info('Initializing repository for ' + component);\n      git.init(gitOptions, function(error) {\n        if(error) {\n          console.error('Error initializing repo', error);\n        }\n        addRemote();\n      });\n    }\n\n    function createRepo() {\n      console.info('Creating GitHub repo ' + repoURL);\n      github.repos.createFromOrg({\n        org      : release.org,\n        name     : repoName,\n        homepage : release.homepage\n      }, function() {\n        setupRepo();\n      });\n    }\n\n    function addRemote() {\n      console.info('Adding remote origin as ' + gitURL);\n      git.addRemote('origin', gitURL, gitOptions, function(){\n        pullFiles();\n      });\n    }\n\n    function pullFiles() {\n      console.info('Pulling ' + component + ' files');\n      git.pull('origin', 'master', pullOptions, function(error) {\n        resetFiles();\n      });\n    }\n\n    function resetFiles() {\n      console.info('Resetting files to head');\n      git.reset('HEAD', resetOptions, function(error) {\n        nextRepo();\n      });\n    }\n\n    function nextRepo() {\n      //console.log('Sleeping for 1 second...');\n      // avoid rate throttling\n      global.clearTimeout(timer);\n      timer = global.setTimeout(function() {\n        stepRepo()\n      }, 0);\n    }\n\n\n    if(localRepoSetup) {\n      pullFiles();\n    }\n    else {\n      setupRepo();\n      // createRepo() only use to create remote repo (easier to do manually)\n    }\n\n  };\n\n  stepRepo();\n\n\n};\n","/*******************************\n          Update Repos\n*******************************/\n\n/*\n\n This task update all SUI individual component repos with new versions of components\n\n  * Commits changes from create repo\n  * Pushes changes to GitHub\n  * Tag new releases if version changed in main repo\n\n*/\n\nvar\n  gulp           = require('gulp'),\n\n  // node dependencies\n  console        = require('better-console'),\n  fs             = require('fs'),\n  path           = require('path'),\n  git            = require('gulp-git'),\n  githubAPI      = require('github'),\n  requireDotFile = require('require-dot-file'),\n\n  // admin files\n  github         = require('../../config/admin/github.js'),\n  release        = require('../../config/admin/release'),\n  project        = require('../../config/project/release'),\n\n\n  // oAuth configuration for GitHub\n  oAuth          = fs.existsSync(__dirname + '/../../config/admin/oauth.js')\n    ? require('../../config/admin/oauth')\n    : false,\n\n  // shorthand\n  version = project.version\n;\n\nmodule.exports = function(callback) {\n\n  var\n    index = -1,\n    total = release.components.length,\n    timer,\n    stream,\n    stepRepo\n  ;\n\n  if(!oAuth) {\n    console.error('Must add oauth token for GitHub in tasks/config/admin/oauth.js');\n    return;\n  }\n\n  // Do Git commands synchronously per component, to avoid issues\n  stepRepo = function() {\n\n    index = index + 1;\n    if(index >= total) {\n      callback();\n      return;\n    }\n\n    var\n      component            = release.components[index],\n      outputDirectory      = path.resolve(path.join(release.outputRoot, component)),\n      capitalizedComponent = component.charAt(0).toUpperCase() + component.slice(1),\n      repoName             = release.componentRepoRoot + capitalizedComponent,\n\n      gitURL               = 'https://github.com/' + release.org + '/' + repoName + '.git',\n      repoURL              = 'https://github.com/' + release.org + '/' + repoName + '/',\n\n      commitArgs = (oAuth.name !== undefined && oAuth.email !== undefined)\n        ? '--author \"' + oAuth.name + ' <' + oAuth.email + '>\"'\n        : '',\n\n      componentPackage = fs.existsSync(outputDirectory + 'package.json' )\n        ? require(outputDirectory + 'package.json')\n        : false,\n\n      isNewVersion  = (version && componentPackage.version != version),\n\n      commitMessage = (isNewVersion)\n        ? 'Updated component to version ' + version\n        : 'Updated files from main repo',\n\n      gitOptions      = { cwd: outputDirectory },\n      commitOptions   = { args: commitArgs, cwd: outputDirectory },\n      releaseOptions  = { tag_name: version, owner: release.org, repo: repoName },\n\n      fileModeOptions = { args : 'config core.fileMode false', cwd: outputDirectory },\n      usernameOptions = { args : 'config user.name \"' + oAuth.name + '\"', cwd: outputDirectory },\n      emailOptions    = { args : 'config user.email \"' + oAuth.email + '\"', cwd: outputDirectory },\n      versionOptions =  { args : 'rev-parse --verify HEAD', cwd: outputDirectory },\n\n      localRepoSetup  = fs.existsSync(path.join(outputDirectory, '.git')),\n      canProceed      = true\n    ;\n\n\n    console.info('Processing repository:' + outputDirectory);\n\n    function setConfig() {\n      git.exec(fileModeOptions, function() {\n        git.exec(usernameOptions, function () {\n          git.exec(emailOptions, function () {\n            commitFiles();\n          });\n        });\n      });\n    }\n\n\n    // standard path\n    function commitFiles() {\n      // commit files\n      console.info('Committing ' + component + ' files', commitArgs);\n      gulp.src('./', gitOptions)\n        .pipe(git.add(gitOptions))\n        .pipe(git.commit(commitMessage, commitOptions))\n        .on('error', function(error) {\n          // canProceed = false; bug in git commit <https://github.com/stevelacy/gulp-git/issues/49>\n        })\n        .on('finish', function(callback) {\n          if(canProceed) {\n            pushFiles();\n          }\n          else {\n            console.info('Nothing new to commit');\n            nextRepo();\n          }\n        })\n      ;\n    }\n\n    // push changes to remote\n    function pushFiles() {\n      console.info('Pushing files for ' + component);\n      git.push('origin', 'master', { args: '', cwd: outputDirectory }, function(error) {\n        console.info('Push completed successfully');\n        getSHA();\n      });\n    }\n\n    // gets SHA of last commit\n    function getSHA() {\n      git.exec(versionOptions, function(error, version) {\n        version = version.trim();\n        createRelease(version);\n      });\n    }\n\n    // create release on GitHub.com\n    function createRelease(version) {\n      if(version) {\n        releaseOptions.target_commitish = version;\n      }\n      github.repos.createRelease(releaseOptions, function() {\n        nextRepo();\n      });\n    }\n\n    // Steps to next repository\n    function nextRepo() {\n      console.log('Sleeping for 1 second...');\n      // avoid rate throttling\n      global.clearTimeout(timer);\n      timer = global.setTimeout(stepRepo, 100);\n    }\n\n\n    if(localRepoSetup) {\n      setConfig();\n    }\n    else {\n      console.error('Repository must be setup before running update components');\n    }\n\n  };\n\n  stepRepo();\n\n};\n","/*******************************\n     Create Distributions\n*******************************/\n\n/*\n This will create individual distribution repositories for each SUI distribution\n\n  * copy distribution files to release\n  * update package.json file\n*/\n\nvar\n  gulp            = require('gulp'),\n\n  // node dependencies\n  console         = require('better-console'),\n  del             = require('del'),\n  fs              = require('fs'),\n  path            = require('path'),\n  runSequence     = require('run-sequence'),\n  mergeStream     = require('merge-stream'),\n\n  // admin dependencies\n  concatFileNames = require('gulp-concat-filenames'),\n  debug           = require('gulp-debug'),\n  flatten         = require('gulp-flatten'),\n  git             = require('gulp-git'),\n  jsonEditor      = require('gulp-json-editor'),\n  plumber         = require('gulp-plumber'),\n  rename          = require('gulp-rename'),\n  replace         = require('gulp-replace'),\n  tap             = require('gulp-tap'),\n\n  // config\n  config          = require('../../config/user'),\n  release         = require('../../config/admin/release'),\n  project         = require('../../config/project/release'),\n\n  // shorthand\n  version         = project.version,\n  output          = config.paths.output\n\n;\n\n\nmodule.exports = function(callback) {\n  var\n    stream,\n    index,\n    tasks = []\n  ;\n\n  for(index in release.distributions) {\n\n    var\n      distribution = release.distributions[index]\n    ;\n\n    // streams... designed to save time and make coding fun...\n    (function(distribution) {\n\n      var\n        distLowerCase   = distribution.toLowerCase(),\n        outputDirectory = path.join(release.outputRoot, distLowerCase),\n        packageFile     = path.join(outputDirectory, release.files.npm),\n        repoName        = release.distRepoRoot + distribution,\n        regExp          = {\n          match : {\n            files   : '{files}',\n            version : '{version}'\n          }\n        },\n        task = {\n          all     : distribution + ' copying files',\n          repo    : distribution + ' create repo',\n          meteor  : distribution + ' create meteor package.js',\n          package : distribution + ' create package.json'\n        },\n        gatherFiles,\n        createList\n      ;\n\n      // get files for meteor\n      gatherFiles = function(dir) {\n        var\n          dir   = dir || path.resolve('.'),\n          list  = fs.readdirSync(dir),\n          omitted = [\n            '.git',\n            'node_modules',\n            'package.js',\n            'LICENSE',\n            'README.md',\n            'package.json',\n            'bower.json',\n            '.gitignore'\n          ],\n          files = []\n        ;\n        list.forEach(function(file) {\n          var\n            isOmitted = (omitted.indexOf(file) > -1),\n            filePath  = path.join(dir, file),\n            stat      = fs.statSync(filePath)\n          ;\n          if(!isOmitted) {\n            if(stat && stat.isDirectory()) {\n              files = files.concat(gatherFiles(filePath));\n            }\n            else {\n              files.push(filePath.replace(outputDirectory + path.sep, ''));\n            }\n          }\n        });\n        return files;\n      };\n\n      // spaces out list correctly\n      createList = function(files) {\n        var filenames = '';\n        for(var file in files) {\n          if(file == (files.length - 1) ) {\n            filenames += \"'\" + files[file] + \"'\";\n          }\n          else {\n            filenames += \"'\" + files[file] + \"',\\n    \";\n          }\n        }\n        return filenames;\n      };\n\n\n      gulp.task(task.meteor, function() {\n        var\n          files     = gatherFiles(outputDirectory),\n          filenames = createList(files)\n        ;\n        gulp.src(release.templates.meteor[distLowerCase])\n          .pipe(plumber())\n          .pipe(flatten())\n          .pipe(replace(regExp.match.version, version))\n          .pipe(replace(regExp.match.files, filenames))\n          .pipe(rename(release.files.meteor))\n          .pipe(gulp.dest(outputDirectory))\n        ;\n      });\n\n      if(distribution == 'CSS') {\n        gulp.task(task.repo, function() {\n          var\n            themes,\n            components,\n            releases\n          ;\n          themes = gulp.src('dist/themes/default/**/*', { base: 'dist/' })\n            .pipe(gulp.dest(outputDirectory))\n          ;\n          components = gulp.src('dist/components/*', { base: 'dist/' })\n            .pipe(gulp.dest(outputDirectory))\n          ;\n          releases = gulp.src('dist/*', { base: 'dist/' })\n            .pipe(gulp.dest(outputDirectory))\n          ;\n          return mergeStream(themes, components, releases);\n        });\n      }\n      else if(distribution == 'LESS') {\n        gulp.task(task.repo, function() {\n          var\n            definitions,\n            themeImport,\n            themeConfig,\n            siteTheme,\n            themes\n          ;\n          definitions = gulp.src('src/definitions/**/*', { base: 'src/' })\n            .pipe(gulp.dest(outputDirectory))\n          ;\n          themeImport = gulp.src('src/semantic.less', { base: 'src/' })\n            .pipe(gulp.dest(outputDirectory))\n          ;\n          themeImport = gulp.src('src/theme.less', { base: 'src/' })\n            .pipe(gulp.dest(outputDirectory))\n          ;\n          themeConfig = gulp.src('src/theme.config.example', { base: 'src/' })\n            .pipe(gulp.dest(outputDirectory))\n          ;\n          siteTheme = gulp.src('src/_site/**/*', { base: 'src/' })\n            .pipe(gulp.dest(outputDirectory))\n          ;\n          themes = gulp.src('src/themes/**/*', { base: 'src/' })\n            .pipe(gulp.dest(outputDirectory))\n          ;\n          return mergeStream(definitions, themeImport, themeConfig, siteTheme, themes);\n        });\n      }\n\n      // extend package.json\n      gulp.task(task.package, function() {\n        return gulp.src(packageFile)\n          .pipe(plumber())\n          .pipe(jsonEditor(function(package) {\n            if(version) {\n              package.version = version;\n            }\n            return package;\n          }))\n          .pipe(gulp.dest(outputDirectory))\n        ;\n      });\n\n      tasks.push(task.meteor);\n      tasks.push(task.repo);\n      tasks.push(task.package);\n\n    })(distribution);\n  }\n  runSequence(tasks, callback);\n};","/*******************************\n        Init Dist Repos\n*******************************/\n\n/*\n\n This task pulls the latest version of distribution from GitHub\n\n  * Creates new repo if doesnt exist (locally & GitHub)\n  * Adds remote it doesnt exists\n  * Pulls latest changes from repo\n\n*/\n\nvar\n  gulp      = require('gulp'),\n\n  // node dependencies\n  console   = require('better-console'),\n  del       = require('del'),\n  fs        = require('fs'),\n  path      = require('path'),\n  git       = require('gulp-git'),\n  githubAPI = require('github'),\n  mkdirp    = require('mkdirp'),\n\n  // admin files\n  github    = require('../../config/admin/github.js'),\n  release   = require('../../config/admin/release'),\n  project   = require('../../config/project/release'),\n\n\n  // oAuth configuration for GitHub\n  oAuth     = fs.existsSync(__dirname + '/../../config/admin/oauth.js')\n    ? require('../../config/admin/oauth')\n    : false,\n\n  // shorthand\n  version = project.version\n;\n\nmodule.exports = function(callback) {\n\n  var\n    index = -1,\n    total = release.distributions.length,\n    timer,\n    stream,\n    stepRepo\n  ;\n\n  if(!oAuth) {\n    console.error('Must add oauth token for GitHub in tasks/config/admin/oauth.js');\n    return;\n  }\n\n  // Do Git commands synchronously per component, to avoid issues\n  stepRepo = function() {\n\n    index = index + 1;\n\n    if(index >= total) {\n      callback();\n      return;\n    }\n\n    var\n      component          = release.distributions[index],\n      lowerCaseComponent = component.toLowerCase(),\n      outputDirectory    = path.resolve(release.outputRoot + lowerCaseComponent),\n      repoName           = release.distRepoRoot + component,\n\n      gitOptions         = { cwd: outputDirectory },\n      pullOptions        = { args: '-q', cwd: outputDirectory, quiet: true },\n      resetOptions       = { args: '-q --hard', cwd: outputDirectory, quiet: true },\n      gitURL             = 'git@github.com:' + release.org + '/' + repoName + '.git',\n      repoURL            = 'https://github.com/' + release.org + '/' + repoName + '/',\n      localRepoSetup     = fs.existsSync(path.join(outputDirectory, '.git'))\n    ;\n\n    console.log('Processing repository: ' + outputDirectory);\n\n    // create folder if doesn't exist\n    if( !fs.existsSync(outputDirectory) ) {\n      mkdirp.sync(outputDirectory);\n    }\n\n    // clean folder\n    if(release.outputRoot.search('../repos') == 0) {\n      console.info('Cleaning dir', outputDirectory);\n      del.sync([outputDirectory + '**/*'], {silent: true, force: true});\n    }\n\n    // set-up local repo\n    function setupRepo() {\n      if(localRepoSetup) {\n        addRemote();\n      }\n      else {\n        initRepo();\n      }\n    }\n\n    function initRepo() {\n      console.info('Initializing repository for ' + component);\n      git.init(gitOptions, function(error) {\n        if(error) {\n          console.error('Error initializing repo', error);\n        }\n        addRemote();\n      });\n    }\n\n    function createRepo() {\n      console.info('Creating GitHub repo ' + repoURL);\n      github.repos.createFromOrg({\n        org      : release.org,\n        name     : repoName,\n        homepage : release.homepage\n      }, function() {\n        setupRepo();\n      });\n    }\n\n    function addRemote() {\n      console.info('Adding remote origin as ' + gitURL);\n      git.addRemote('origin', gitURL, gitOptions, function(){\n        pullFiles();\n      });\n    }\n\n    function pullFiles() {\n      console.info('Pulling ' + component + ' files');\n      git.pull('origin', 'master', pullOptions, function(error) {\n        resetFiles();\n      });\n    }\n\n    function resetFiles() {\n      console.info('Resetting files to head');\n      git.reset('HEAD', resetOptions, function(error) {\n        nextRepo();\n      });\n    }\n\n    function nextRepo() {\n      //console.log('Sleeping for 1 second...');\n      // avoid rate throttling\n      global.clearTimeout(timer);\n      timer = global.setTimeout(function() {\n        stepRepo()\n      }, 0);\n    }\n\n\n    if(localRepoSetup) {\n      pullFiles();\n    }\n    else {\n      setupRepo();\n      // createRepo() only use to create remote repo (easier to do manually)\n    }\n\n  };\n\n  stepRepo();\n\n\n};\n","/*******************************\n          Update Repos\n*******************************/\n\n/*\n\n This task update all SUI individual distribution repos with new versions of distributions\n\n  * Commits changes from create repo\n  * Pushes changes to GitHub\n  * Tag new releases if version changed in main repo\n\n*/\n\nvar\n  gulp           = require('gulp'),\n\n  // node dependencies\n  console        = require('better-console'),\n  fs             = require('fs'),\n  path           = require('path'),\n  git            = require('gulp-git'),\n  githubAPI      = require('github'),\n  requireDotFile = require('require-dot-file'),\n\n  // admin files\n  github         = require('../../config/admin/github.js'),\n  release        = require('../../config/admin/release'),\n  project        = require('../../config/project/release'),\n\n\n  // oAuth configuration for GitHub\n  oAuth          = fs.existsSync(__dirname + '/../../config/admin/oauth.js')\n    ? require('../../config/admin/oauth')\n    : false,\n\n  // shorthand\n  version = project.version\n;\n\nmodule.exports = function(callback) {\n\n  var\n    index = -1,\n    total = release.distributions.length,\n    timer,\n    stream,\n    stepRepo\n  ;\n\n  if(!oAuth) {\n    console.error('Must add oauth token for GitHub in tasks/config/admin/oauth.js');\n    return;\n  }\n\n  // Do Git commands synchronously per distribution, to avoid issues\n  stepRepo = function() {\n\n    index = index + 1;\n    if(index >= total) {\n      callback();\n      return;\n    }\n\n    var\n      distribution         = release.distributions[index],\n      outputDirectory      = path.resolve(path.join(release.outputRoot, distribution.toLowerCase() )),\n      repoName             = release.distRepoRoot + distribution,\n\n      commitArgs = (oAuth.name !== undefined && oAuth.email !== undefined)\n        ? '--author \"' + oAuth.name + ' <' + oAuth.email + '>\"'\n        : '',\n\n      distributionPackage = fs.existsSync(outputDirectory + 'package.json' )\n        ? require(outputDirectory + 'package.json')\n        : false,\n\n      isNewVersion  = (version && distributionPackage.version != version),\n\n      commitMessage = (isNewVersion)\n        ? 'Updated distribution to version ' + version\n        : 'Updated files from main repo',\n\n      gitOptions      = { cwd: outputDirectory },\n      commitOptions   = { args: commitArgs, cwd: outputDirectory },\n      releaseOptions  = { tag_name: version, owner: release.org, repo: repoName },\n\n      fileModeOptions = { args : 'config core.fileMode false', cwd: outputDirectory },\n      usernameOptions = { args : 'config user.name \"' + oAuth.name + '\"', cwd: outputDirectory },\n      emailOptions    = { args : 'config user.email \"' + oAuth.email + '\"', cwd: outputDirectory },\n      versionOptions =  { args : 'rev-parse --verify HEAD', cwd: outputDirectory },\n\n      localRepoSetup  = fs.existsSync(path.join(outputDirectory, '.git')),\n      canProceed      = true\n    ;\n\n\n    console.info('Processing repository:' + outputDirectory);\n\n    function setConfig() {\n      git.exec(fileModeOptions, function() {\n        git.exec(usernameOptions, function () {\n          git.exec(emailOptions, function () {\n            commitFiles();\n          });\n        });\n      });\n    }\n\n    // standard path\n    function commitFiles() {\n      // commit files\n      console.info('Committing ' + distribution + ' files', commitArgs);\n      gulp.src('./', gitOptions)\n        .pipe(git.add(gitOptions))\n        .pipe(git.commit(commitMessage, commitOptions))\n        .on('error', function(error) {\n          // canProceed = false; bug in git commit <https://github.com/stevelacy/gulp-git/issues/49>\n        })\n        .on('finish', function(callback) {\n          if(canProceed) {\n            pushFiles();\n          }\n          else {\n            console.info('Nothing new to commit');\n            nextRepo();\n          }\n        })\n      ;\n    }\n\n    // push changes to remote\n    function pushFiles() {\n      console.info('Pushing files for ' + distribution);\n      git.push('origin', 'master', { args: '', cwd: outputDirectory }, function(error) {\n        console.info('Push completed successfully');\n        getSHA();\n      });\n    }\n\n    // gets SHA of last commit\n    function getSHA() {\n      git.exec(versionOptions, function(error, version) {\n        version = version.trim();\n        createRelease(version);\n      });\n    }\n\n    // create release on GitHub.com\n    function createRelease(version) {\n      if(version) {\n        releaseOptions.target_commitish = version;\n      }\n      github.repos.createRelease(releaseOptions, function() {\n        nextRepo();\n      });\n    }\n\n    // Steps to next repository\n    function nextRepo() {\n      console.log('Sleeping for 1 second...');\n      // avoid rate throttling\n      global.clearTimeout(timer);\n      timer = global.setTimeout(stepRepo, 100);\n    }\n\n\n    if(localRepoSetup) {\n      setConfig();\n    }\n    else {\n      console.error('Repository must be setup before running update distributions');\n    }\n\n  };\n\n  stepRepo();\n\n};\n","/*******************************\n          Release All\n*******************************/\n\n/*\n This task update all SUI individual component repos with new versions of components\n\n  * Commits changes from create components to GitHub and Tags\n\n*/\n\nvar\n  runSequence = require('run-sequence')\n;\n\n/* Release All */\nmodule.exports = function(callback) {\n\n  runSequence(\n    'update distributions', // commit less/css versions to github\n    'update components', // commit components to github\n    callback\n  );\n\n};","/*******************************\n          Register PM\n*******************************/\n\n/*\n  Task to register component repos with Package Managers\n  * Registers component with bower\n  * Registers component with NPM\n*/\n\nvar\n  // node dependencies\n  process = require('child_process'),\n\n  // config\n  release = require('../config/admin/release'),\n\n  // register components and distributions\n  repos   = release.distributions.concat(release.components),\n  total   = repos.length,\n  index   = -1,\n\n  stream,\n  stepRepo\n;\n\nmodule.exports = function(callback) {\n\n  console.log('Registering repos with package managers');\n\n  // Do Git commands synchronously per component, to avoid issues\n  stepRepo = function() {\n    index = index + 1;\n    if(index >= total) {\n      callback();\n      return;\n    }\n    var\n      repo            = repos[index].toLowerCase(),\n      outputDirectory = release.outputRoot + repo + '/',\n      exec            = process.exec,\n      execSettings    = {cwd: outputDirectory},\n      updateNPM       = 'npm publish;meteor publish;'\n    ;\n\n    /* Register with NPM */\n    exec(updateNPM, execSettings, function(err, stdout, stderr) {\n      console.log(err, stdout, stderr);\n      stepRepo();\n    });\n\n  };\n  stepRepo();\n};\n\n","/*******************************\n          Release\n*******************************/\n\n/*\n This task update all SUI individual component repos with new versions of components\n\n  * Initializes repositories with current versions\n  * Creates local files at ../distributions/ with each repo for release\n\n*/\n\nvar\n  runSequence = require('run-sequence')\n;\n\n/* Release All */\nmodule.exports = function(callback) {\n\n  runSequence(\n    //'build', // build Semantic\n    'init distributions', // sync with current github version\n    'create distributions', // update each repo with changes from master repo\n    'init components', // sync with current github version\n    'create components', // update each repo\n    callback\n  );\n\n};","/*******************************\n          Build Task\n*******************************/\n\nvar\n  gulp         = require('gulp'),\n\n  // gulp dependencies\n  chmod        = require('gulp-chmod'),\n  gulpif       = require('gulp-if'),\n\n  // config\n  config       = require('../config/user'),\n  tasks        = require('../config/tasks'),\n\n  // shorthand\n  globs        = config.globs,\n  assets       = config.paths.assets,\n  output       = config.paths.output,\n  source       = config.paths.source,\n\n  log          = tasks.log\n;\n\nmodule.exports = function(callback) {\n\n  console.info('Building assets');\n\n  // copy assets\n  return gulp.src(source.themes + '/**/assets/**/*.*')\n    .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n    .pipe(gulp.dest(output.themes))\n  ;\n\n};","/*******************************\n          Build Task\n*******************************/\n\nvar\n  gulp         = require('gulp'),\n\n  // node dependencies\n  console      = require('better-console'),\n  fs           = require('fs'),\n\n  // gulp dependencies\n  autoprefixer = require('gulp-autoprefixer'),\n  chmod        = require('gulp-chmod'),\n  clone        = require('gulp-clone'),\n  flatten      = require('gulp-flatten'),\n  gulpif       = require('gulp-if'),\n  less         = require('gulp-less'),\n  minifyCSS    = require('gulp-clean-css'),\n  plumber      = require('gulp-plumber'),\n  print        = require('gulp-print'),\n  rename       = require('gulp-rename'),\n  replace      = require('gulp-replace'),\n  runSequence  = require('run-sequence'),\n\n  // config\n  config       = require('../config/user'),\n  tasks        = require('../config/tasks'),\n  install      = require('../config/project/install'),\n\n  // shorthand\n  globs        = config.globs,\n  assets       = config.paths.assets,\n  output       = config.paths.output,\n  source       = config.paths.source,\n\n  banner       = tasks.banner,\n  comments     = tasks.regExp.comments,\n  log          = tasks.log,\n  settings     = tasks.settings\n;\n\n// add internal tasks (concat release)\nrequire('../collections/internal')(gulp);\n\nmodule.exports = function(callback) {\n\n  var\n    tasksCompleted = 0,\n    maybeCallback  = function() {\n      tasksCompleted++;\n      if(tasksCompleted === 2) {\n        callback();\n      }\n    },\n\n    stream,\n    compressedStream,\n    uncompressedStream\n  ;\n\n  console.info('Building CSS');\n\n  if( !install.isSetup() ) {\n    console.error('Cannot build files. Run \"gulp install\" to set-up Semantic');\n    return;\n  }\n\n  // unified css stream\n  stream = gulp.src(source.definitions + '/**/' + globs.components + '.less')\n    .pipe(plumber(settings.plumber.less))\n    .pipe(less(settings.less))\n    .pipe(autoprefixer(settings.prefix))\n    .pipe(replace(comments.variables.in, comments.variables.out))\n    .pipe(replace(comments.license.in, comments.license.out))\n    .pipe(replace(comments.large.in, comments.large.out))\n    .pipe(replace(comments.small.in, comments.small.out))\n    .pipe(replace(comments.tiny.in, comments.tiny.out))\n    .pipe(flatten())\n  ;\n\n  // two concurrent streams from same source to concat release\n  uncompressedStream = stream.pipe(clone());\n  compressedStream   = stream.pipe(clone());\n\n  // uncompressed component css\n  uncompressedStream\n    .pipe(plumber())\n    .pipe(replace(assets.source, assets.uncompressed))\n    .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n    .pipe(gulp.dest(output.uncompressed))\n    .pipe(print(log.created))\n    .on('end', function() {\n      runSequence('package uncompressed css', maybeCallback);\n    })\n  ;\n\n  // compressed component css\n  compressedStream = stream\n    .pipe(plumber())\n    .pipe(clone())\n    .pipe(replace(assets.source, assets.compressed))\n    .pipe(minifyCSS(settings.minify))\n    .pipe(rename(settings.rename.minCSS))\n    .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n    .pipe(gulp.dest(output.compressed))\n    .pipe(print(log.created))\n    .on('end', function() {\n      runSequence('package compressed css', maybeCallback);\n    })\n  ;\n\n};\n","/*******************************\n          Build Task\n*******************************/\n\nvar\n  gulp         = require('gulp'),\n\n  // node dependencies\n  console      = require('better-console'),\n  fs           = require('fs'),\n\n  // gulp dependencies\n  chmod        = require('gulp-chmod'),\n  flatten      = require('gulp-flatten'),\n  gulpif       = require('gulp-if'),\n  plumber      = require('gulp-plumber'),\n  print        = require('gulp-print'),\n  rename       = require('gulp-rename'),\n  replace      = require('gulp-replace'),\n  uglify       = require('gulp-uglify'),\n\n  // config\n  config       = require('../config/user'),\n  tasks        = require('../config/tasks'),\n  install      = require('../config/project/install'),\n\n  // shorthand\n  globs        = config.globs,\n  assets       = config.paths.assets,\n  output       = config.paths.output,\n  source       = config.paths.source,\n\n  banner       = tasks.banner,\n  comments     = tasks.regExp.comments,\n  log          = tasks.log,\n  settings     = tasks.settings\n;\n\n// add internal tasks (concat release)\nrequire('../collections/internal')(gulp);\n\nmodule.exports = function(callback) {\n\n  var\n    stream,\n    compressedStream,\n    uncompressedStream\n  ;\n\n  console.info('Building Javascript');\n\n  if( !install.isSetup() ) {\n    console.error('Cannot build files. Run \"gulp install\" to set-up Semantic');\n    return;\n  }\n\n  // copy source javascript\n  gulp.src(source.definitions + '/**/' + globs.components + '.js')\n    .pipe(plumber())\n    .pipe(flatten())\n    .pipe(replace(comments.license.in, comments.license.out))\n    .pipe(gulp.dest(output.uncompressed))\n    .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n    .pipe(print(log.created))\n    .pipe(uglify(settings.uglify))\n    .pipe(rename(settings.rename.minJS))\n    .pipe(gulp.dest(output.compressed))\n    .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n    .pipe(print(log.created))\n    .on('end', function() {\n      gulp.start('package compressed js');\n      gulp.start('package uncompressed js');\n      callback();\n    })\n  ;\n\n};","/*******************************\n     Admin Task Collection\n*******************************/\n\n/*\n  This are tasks to be run by project maintainers\n  - Creating Component Repos\n  - Syncing with GitHub via APIs\n  - Modifying package files\n*/\n\n/*******************************\n             Tasks\n*******************************/\n\n\nmodule.exports = function(gulp) {\n  var\n    // less/css distributions\n    initComponents      = require('../admin/components/init'),\n    createComponents    = require('../admin/components/create'),\n    updateComponents    = require('../admin/components/update'),\n\n    // single component releases\n    initDistributions   = require('../admin/distributions/init'),\n    createDistributions = require('../admin/distributions/create'),\n    updateDistributions = require('../admin/distributions/update'),\n\n    release             = require('../admin/release'),\n    publish             = require('../admin/publish'),\n    register            = require('../admin/register')\n  ;\n\n  /* Release */\n  gulp.task('init distributions', 'Grabs each component from GitHub', initDistributions);\n  gulp.task('create distributions', 'Updates files in each repo', createDistributions);\n  gulp.task('init components', 'Grabs each component from GitHub', initComponents);\n  gulp.task('create components', 'Updates files in each repo', createComponents);\n\n  /* Publish */\n  gulp.task('update distributions', 'Commits component updates from create to GitHub', updateDistributions);\n  gulp.task('update components', 'Commits component updates from create to GitHub', updateComponents);\n\n  /* Tasks */\n  gulp.task('release', 'Stages changes in GitHub repos for all distributions', release);\n  gulp.task('publish', 'Publishes all releases (components, package)', publish);\n  gulp.task('register', 'Registers all packages with NPM', register);\n\n};","/*******************************\n        Define Sub-Tasks\n*******************************/\n\nmodule.exports = function(gulp) {\n\n  var\n    // build sub-tasks\n    buildJS      = require('./../build/javascript'),\n    buildCSS     = require('./../build/css'),\n    buildAssets  = require('./../build/assets')\n  ;\n\n  // in case these tasks are undefined during import, less make sure these are available in scope\n  gulp.task('build-javascript', 'Builds all javascript from source', buildJS);\n  gulp.task('build-css', 'Builds all css from source', buildCSS);\n  gulp.task('build-assets', 'Copies all assets from source', buildAssets);\n\n};\n","/*******************************\n    Internal Task Collection\n*******************************/\n\n/* These tasks create packaged files from **dist** components\n   Not intended to be called directly by a user because\n   these do not build fresh from **src**\n*/\n\nmodule.exports = function(gulp) {\n\n  var\n    // node dependencies\n    fs         = require('fs'),\n    chmod      = require('gulp-chmod'),\n    concat     = require('gulp-concat'),\n    concatCSS  = require('gulp-concat-css'),\n    clone      = require('gulp-clone'),\n    dedupe     = require('gulp-dedupe'),\n    gulpif     = require('gulp-if'),\n    header     = require('gulp-header'),\n    less       = require('gulp-less'),\n    minifyCSS  = require('gulp-clean-css'),\n    plumber    = require('gulp-plumber'),\n    print      = require('gulp-print'),\n    rename     = require('gulp-rename'),\n    replace    = require('gulp-replace'),\n    uglify     = require('gulp-uglify'),\n\n    // user config\n    config     = require('./../config/user'),\n    docsConfig = require('./../config/docs'),\n\n    // install config\n    tasks      = require('./../config/tasks'),\n    release    = require('./../config/project/release'),\n\n    // shorthand\n    globs      = config.globs,\n    assets     = config.paths.assets,\n    output     = config.paths.output,\n\n    banner     = tasks.banner,\n    filenames  = tasks.filenames,\n    log        = tasks.log,\n    settings   = tasks.settings\n  ;\n\n  /*--------------\n      Packaged\n  ---------------*/\n\n  gulp.task('package uncompressed css', function() {\n    return gulp.src(output.uncompressed + '/**/' + globs.components + globs.ignored + '.css')\n      .pipe(plumber())\n      .pipe(dedupe())\n      .pipe(replace(assets.uncompressed, assets.packaged))\n      .pipe(concatCSS(filenames.concatenatedCSS, settings.concatCSS))\n        .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n        .pipe(header(banner, settings.header))\n        .pipe(gulp.dest(output.packaged))\n        .pipe(print(log.created))\n    ;\n  });\n\n  gulp.task('package compressed css', function() {\n    return gulp.src(output.uncompressed + '/**/' + globs.components + globs.ignored + '.css')\n      .pipe(plumber())\n      .pipe(dedupe())\n      .pipe(replace(assets.uncompressed, assets.packaged))\n      .pipe(concatCSS(filenames.concatenatedMinifiedCSS, settings.concatCSS))\n        .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n        .pipe(minifyCSS(settings.concatMinify))\n        .pipe(header(banner, settings.header))\n        .pipe(gulp.dest(output.packaged))\n        .pipe(print(log.created))\n    ;\n  });\n\n  gulp.task('package uncompressed js', function() {\n    return gulp.src(output.uncompressed + '/**/' + globs.components + globs.ignored + '.js')\n      .pipe(plumber())\n      .pipe(dedupe())\n      .pipe(replace(assets.uncompressed, assets.packaged))\n      .pipe(concat(filenames.concatenatedJS))\n        .pipe(header(banner, settings.header))\n        .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n        .pipe(gulp.dest(output.packaged))\n        .pipe(print(log.created))\n    ;\n  });\n\n  gulp.task('package compressed js', function() {\n    return gulp.src(output.uncompressed + '/**/' + globs.components + globs.ignored + '.js')\n      .pipe(plumber())\n      .pipe(dedupe())\n      .pipe(replace(assets.uncompressed, assets.packaged))\n      .pipe(concat(filenames.concatenatedMinifiedJS))\n        .pipe(uglify(settings.concatUglify))\n        .pipe(header(banner, settings.header))\n        .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n        .pipe(gulp.dest(output.packaged))\n        .pipe(print(log.created))\n    ;\n  });\n\n  /*--------------\n        RTL\n  ---------------*/\n\n  if(config.rtl) {\n\n    gulp.task('package uncompressed rtl css', function () {\n      return gulp.src(output.uncompressed + '/**/' + globs.components + globs.ignoredRTL + '.rtl.css')\n        .pipe(dedupe())\n        .pipe(replace(assets.uncompressed, assets.packaged))\n        .pipe(concatCSS(filenames.concatenatedRTLCSS, settings.concatCSS))\n          .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n          .pipe(header(banner, settings.header))\n          .pipe(gulp.dest(output.packaged))\n          .pipe(print(log.created))\n      ;\n    });\n\n    gulp.task('package compressed rtl css', function () {\n      return gulp.src(output.uncompressed + '/**/' + globs.components + globs.ignoredRTL + '.rtl.css')\n        .pipe(dedupe())\n        .pipe(replace(assets.uncompressed, assets.packaged))\n        .pipe(concatCSS(filenames.concatenatedMinifiedRTLCSS, settings.concatCSS))\n          .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n          .pipe(minifyCSS(settings.concatMinify))\n          .pipe(header(banner, settings.header))\n          .pipe(gulp.dest(output.packaged))\n          .pipe(print(log.created))\n      ;\n    });\n\n    gulp.task('package uncompressed docs css', function() {\n      return gulp.src(output.uncompressed + '/**/' + globs.components + globs.ignored + '.css')\n        .pipe(dedupe())\n        .pipe(plumber())\n        .pipe(replace(assets.uncompressed, assets.packaged))\n        .pipe(concatCSS(filenames.concatenatedCSS, settings.concatCSS))\n          .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n          .pipe(gulp.dest(output.packaged))\n          .pipe(print(log.created))\n      ;\n    });\n\n    gulp.task('package compressed docs css', function() {\n      return gulp.src(output.uncompressed + '/**/' + globs.components + globs.ignored + '.css')\n        .pipe(dedupe())\n        .pipe(plumber())\n        .pipe(replace(assets.uncompressed, assets.packaged))\n        .pipe(concatCSS(filenames.concatenatedMinifiedCSS, settings.concatCSS))\n          .pipe(minifyCSS(settings.concatMinify))\n          .pipe(header(banner, settings.header))\n          .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n          .pipe(gulp.dest(output.packaged))\n          .pipe(print(log.created))\n      ;\n    });\n\n  }\n\n  /*--------------\n        Docs\n  ---------------*/\n\n  var\n    docsOutput = docsConfig.paths.output\n  ;\n\n  gulp.task('package uncompressed docs css', function() {\n    return gulp.src(docsOutput.uncompressed + '/**/' + globs.components + globs.ignored + '.css')\n      .pipe(dedupe())\n      .pipe(plumber())\n      .pipe(replace(assets.uncompressed, assets.packaged))\n      .pipe(concatCSS(filenames.concatenatedCSS, settings.concatCSS))\n        .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n        .pipe(gulp.dest(docsOutput.packaged))\n        .pipe(print(log.created))\n    ;\n  });\n\n  gulp.task('package compressed docs css', function() {\n    return gulp.src(docsOutput.uncompressed + '/**/' + globs.components + globs.ignored + '.css')\n      .pipe(dedupe())\n      .pipe(plumber())\n      .pipe(replace(assets.uncompressed, assets.packaged))\n      .pipe(concatCSS(filenames.concatenatedMinifiedCSS, settings.concatCSS))\n        .pipe(minifyCSS(settings.concatMinify))\n        .pipe(header(banner, settings.header))\n        .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n        .pipe(gulp.dest(docsOutput.packaged))\n        .pipe(print(log.created))\n    ;\n  });\n\n  gulp.task('package uncompressed docs js', function() {\n    return gulp.src(docsOutput.uncompressed + '/**/' + globs.components + globs.ignored + '.js')\n      .pipe(dedupe())\n      .pipe(plumber())\n      .pipe(replace(assets.uncompressed, assets.packaged))\n      .pipe(concat(filenames.concatenatedJS))\n        .pipe(header(banner, settings.header))\n        .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n        .pipe(gulp.dest(docsOutput.packaged))\n        .pipe(print(log.created))\n    ;\n  });\n\n  gulp.task('package compressed docs js', function() {\n    return gulp.src(docsOutput.uncompressed + '/**/' + globs.components + globs.ignored + '.js')\n      .pipe(dedupe())\n      .pipe(plumber())\n      .pipe(replace(assets.uncompressed, assets.packaged))\n      .pipe(concat(filenames.concatenatedMinifiedJS))\n        .pipe(uglify(settings.concatUglify))\n        .pipe(header(banner, settings.header))\n        .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n        .pipe(gulp.dest(docsOutput.packaged))\n        .pipe(print(log.created))\n    ;\n  });\n\n};\n","/*******************************\n        Define Sub-Tasks\n*******************************/\n\nmodule.exports = function(gulp) {\n\n  var\n    // rtl\n    buildRTL     = require('./../rtl/build'),\n    watchRTL     = require('./../rtl/watch')\n  ;\n\n  gulp.task('watch-rtl', 'Build all files as RTL', watchRTL);\n  gulp.task('build-rtl', 'Watch files as RTL ', buildRTL);\n\n};\n","/*******************************\n           Build Docs\n*******************************/\n\nvar\n  gulp         = require('gulp'),\n\n  // node dependencies\n  console      = require('better-console'),\n  fs           = require('fs'),\n  map          = require('map-stream'),\n\n  // gulp dependencies\n  autoprefixer = require('gulp-autoprefixer'),\n  chmod        = require('gulp-chmod'),\n  clone        = require('gulp-clone'),\n  flatten      = require('gulp-flatten'),\n  gulpif       = require('gulp-if'),\n  header       = require('gulp-header'),\n  less         = require('gulp-less'),\n  minifyCSS    = require('gulp-clean-css'),\n  plumber      = require('gulp-plumber'),\n  print        = require('gulp-print'),\n  rename       = require('gulp-rename'),\n  replace      = require('gulp-replace'),\n  uglify       = require('gulp-uglify'),\n\n  // user config\n  config       = require('../config/docs'),\n\n  // install config\n  tasks        = require('../config/tasks'),\n  configSetup  = require('../config/project/config'),\n  install      = require('../config/project/install'),\n\n  // metadata parsing\n  metadata     = require('./metadata'),\n\n  // shorthand\n  globs,\n  assets,\n  output,\n  source,\n\n  banner       = tasks.banner,\n  comments     = tasks.regExp.comments,\n  log          = tasks.log,\n  settings     = tasks.settings\n;\n\n// add internal tasks (concat release)\nrequire('../collections/internal')(gulp);\n\nmodule.exports = function(callback) {\n\n  var\n    stream,\n    compressedStream,\n    uncompressedStream\n  ;\n\n  // use a different config\n  config = configSetup.addDerivedValues(config);\n\n  // shorthand\n  globs  = config.globs;\n  assets = config.paths.assets;\n  output = config.paths.output;\n  source = config.paths.source;\n\n  /*--------------\n   Parse metadata\n   ---------------*/\n\n  // parse all *.html.eco in docs repo, data will end up in\n  // metadata.result object.  Note this assumes that the docs\n  // repository is present and in proper directory location as\n  // specified by docs.json.\n  console.info('Building Metadata');\n  gulp.src(config.paths.template.eco + globs.eco)\n    .pipe(map(metadata.parser))\n    .on('end', function() {\n      fs.writeFile(output.metadata + '/metadata.json', JSON.stringify(metadata.result, null, 2));\n    })\n  ;\n\n  /*--------------\n    Copy Examples\n  ---------------*/\n\n  console.info('Copying examples');\n  // copy src/ to server\n  gulp.src('examples/**/*.*')\n    .pipe(gulp.dest(output.examples))\n    .pipe(print(log.created))\n  ;\n\n  /*--------------\n     Copy Source\n  ---------------*/\n\n  console.info('Copying LESS source');\n  // copy src/ to server\n  gulp.src('src/**/*.*')\n    .pipe(gulp.dest(output.less))\n    .pipe(print(log.created))\n  ;\n\n  /*--------------\n        Build\n  ---------------*/\n\n  console.info('Building Semantic for docs');\n\n  if( !install.isSetup() ) {\n    console.error('Cannot build files. Run \"gulp install\" to set-up Semantic');\n    return;\n  }\n\n  // unified css stream\n  stream = gulp.src(source.definitions + '/**/' + globs.components + '.less')\n    .pipe(plumber())\n    .pipe(less(settings.less))\n    .pipe(autoprefixer(settings.prefix))\n    .pipe(flatten())\n  ;\n\n  // two concurrent streams from same source to concat release\n  uncompressedStream = stream.pipe(clone());\n  compressedStream   = stream.pipe(clone());\n\n  uncompressedStream\n    .pipe(plumber())\n    .pipe(replace(comments.variables.in, comments.variables.out))\n    .pipe(replace(comments.large.in, comments.large.out))\n    .pipe(replace(comments.small.in, comments.small.out))\n    .pipe(replace(comments.tiny.in, comments.tiny.out))\n    .pipe(replace(assets.source, assets.uncompressed))\n    .pipe(header(banner, settings.header))\n    .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n    .pipe(gulp.dest(output.uncompressed))\n    .pipe(print(log.created))\n    .on('end', function() {\n      gulp.start('package uncompressed docs css');\n    })\n  ;\n\n  compressedStream = stream\n    .pipe(plumber())\n    .pipe(clone())\n    .pipe(replace(assets.source, assets.compressed))\n    .pipe(minifyCSS(settings.minify))\n    .pipe(rename(settings.rename.minCSS))\n    .pipe(header(banner, settings.header))\n    .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n    .pipe(gulp.dest(output.compressed))\n    .pipe(print(log.created))\n    .on('end', function() {\n      callback();\n      gulp.start('package compressed docs css');\n    })\n  ;\n\n  // copy assets\n  gulp.src(source.themes + '/**/assets/**/*.*')\n    .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n    .pipe(gulp.dest(output.themes))\n  ;\n\n  // copy source javascript\n  gulp.src(source.definitions + '/**/' + globs.components + '.js')\n    .pipe(plumber())\n    .pipe(flatten())\n    .pipe(gulp.dest(output.uncompressed))\n    .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n    .pipe(print(log.created))\n    .pipe(uglify(settings.uglify))\n    .pipe(rename(settings.rename.minJS))\n    .pipe(header(banner, settings.header))\n    .pipe(gulp.dest(output.compressed))\n    .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n    .pipe(print(log.created))\n    .on('end', function() {\n      gulp.start('package compressed docs js');\n      gulp.start('package uncompressed docs js');\n    })\n  ;\n\n};\n","\n/*******************************\n           Summarize Docs\n*******************************/\n\nvar\n  // node dependencies\n  console      = require('better-console'),\n  fs           = require('fs'),\n  YAML         = require('yamljs')\n;\n\nvar data = {};\n\n/**\n * Test for prefix in string.\n * @param {string} str\n * @param {string} prefix\n * @return {boolean}\n */\nfunction startsWith(str, prefix) {\n  return str.indexOf(prefix) === 0;\n};\n\nfunction inArray(needle, haystack) {\n  var length = haystack.length;\n  for(var i = 0; i < length; i++) {\n      if(haystack[i] == needle) return true;\n  }\n  return false;\n}\n\n/**\n * Parses a file for metadata and stores result in data object.\n * @param {File} file - object provided by map-stream.\n * @param {function(?,File)} - callback provided by map-stream to\n * reply when done.\n */\nfunction parser(file, callback) {\n  // file exit conditions\n  if(file.isNull()) {\n    return callback(null, file); // pass along\n  }\n\n  if(file.isStream()) {\n    return callback(new Error('Streaming not supported'));\n  }\n\n  try {\n\n    var\n      /** @type {string} */\n      text     = String(file.contents.toString('utf8')),\n      lines    = text.split('\\n'),\n      filename = file.path.substring(0, file.path.length - 4),\n      key      = 'server/documents',\n      position = filename.indexOf(key)\n    ;\n\n    // exit conditions\n    if(!lines) {\n      return;\n    }\n    if(position < 0) {\n      return callback(null, file);\n    }\n\n    filename = filename.substring(position + key.length + 1, filename.length);\n\n    var\n      lineCount = lines.length,\n      active    = false,\n      yaml      = [],\n      categories = [\n        'UI Element',\n        'UI Global',\n        'UI Collection',\n        'UI View',\n        'UI Module',\n        'UI Behavior'\n      ],\n      index,\n      meta,\n      line\n    ;\n\n    for(index = 0; index < lineCount; index++) {\n\n      line = lines[index];\n\n      // Wait for metadata block to begin\n      if(!active) {\n        if(startsWith(line, '---')) {\n          active = true;\n        }\n        continue;\n      }\n      // End of metadata block, stop parsing.\n      if(startsWith(line, '---')) {\n        break;\n      }\n      yaml.push(line);\n    }\n\n\n    // Parse yaml.\n    meta = YAML.parse(yaml.join('\\n'));\n    if(meta && meta.type && meta.title && inArray(meta.type, categories) ) {\n      meta.category = meta.type;\n      meta.filename = filename;\n      meta.url      = '/' + filename;\n      meta.title    = meta.title;\n      // Primary key will by filepath\n      data[meta.element] = meta;\n    }\n    else {\n      // skip\n      // console.log(meta);\n    }\n\n\n  }\n\n  catch(error) {\n    console.log(error, filename);\n  }\n\n  callback(null, file);\n\n}\n\n/**\n * Export function expected by map-stream.\n */\nmodule.exports = {\n  result : data,\n  parser : parser\n};\n","/*******************************\n           Serve Docs\n*******************************/\nvar\n  gulp         = require('gulp'),\n\n  // node dependencies\n  console      = require('better-console'),\n  fs           = require('fs'),\n\n  // gulp dependencies\n  autoprefixer = require('gulp-autoprefixer'),\n  chmod        = require('gulp-chmod'),\n  clone        = require('gulp-clone'),\n  gulpif       = require('gulp-if'),\n  header       = require('gulp-header'),\n  less         = require('gulp-less'),\n  minifyCSS    = require('gulp-clean-css'),\n  plumber      = require('gulp-plumber'),\n  print        = require('gulp-print'),\n  rename       = require('gulp-rename'),\n  replace      = require('gulp-replace'),\n  uglify       = require('gulp-uglify'),\n  util         = require('gulp-util'),\n  watch        = require('gulp-watch'),\n\n  // user config\n  config       = require('../config/docs'),\n\n  // task config\n  tasks        = require('../config/tasks'),\n  configSetup  = require('../config/project/config'),\n  install      = require('../config/project/install'),\n\n  // shorthand\n  banner       = tasks.banner,\n  comments     = tasks.regExp.comments,\n  log          = tasks.log,\n  settings     = tasks.settings,\n\n  globs,\n  assets,\n  output,\n  source\n;\n\nrequire('../collections/internal')(gulp);\n\nmodule.exports = function () {\n\n  // use a different config\n  config = configSetup.addDerivedValues(config);\n\n  // shorthand\n  globs  = config.globs;\n  assets = config.paths.assets;\n  output = config.paths.output;\n  source = config.paths.source;\n\n\n  /*--------------\n     Copy Source\n  ---------------*/\n\n  gulp\n    .watch([\n      'src/**/*.*'\n    ], function(file) {\n      console.clear();\n      return gulp.src(file.path, {\n          base: 'src/'\n        })\n        .pipe(gulp.dest(output.less))\n        .pipe(print(log.created))\n      ;\n    })\n  ;\n\n  /*--------------\n    Copy Examples\n  ---------------*/\n\n  gulp\n    .watch([\n      'examples/**/*.*'\n    ], function(file) {\n      console.clear();\n      return gulp.src(file.path, {\n          base: 'examples/'\n        })\n        .pipe(gulp.dest(output.examples))\n        .pipe(print(log.created))\n      ;\n    })\n  ;\n\n  /*--------------\n      Watch CSS\n  ---------------*/\n\n  gulp\n    .watch([\n      source.config,\n      source.definitions   + '/**/*.less',\n      source.site          + '/**/*.{overrides,variables}',\n      source.themes        + '/**/*.{overrides,variables}'\n    ], function(file) {\n\n      var\n        lessPath,\n\n        stream,\n        compressedStream,\n        uncompressedStream,\n\n        isDefinition,\n        isPackagedTheme,\n        isSiteTheme,\n        isConfig\n      ;\n\n      // log modified file\n      gulp.src(file.path)\n        .pipe(print(log.modified))\n      ;\n\n      /*--------------\n         Find Source\n      ---------------*/\n\n      // recompile on *.override , *.variable change\n      isConfig        = (file.path.indexOf('theme.config') !== -1 || file.path.indexOf('site.variables') !== -1);\n      isPackagedTheme = (file.path.indexOf(source.themes) !== -1);\n      isSiteTheme     = (file.path.indexOf(source.site) !== -1);\n      isDefinition    = (file.path.indexOf(source.definitions) !== -1);\n\n      if(isConfig) {\n        // console.info('Rebuilding all files');\n        // cant rebuild paths are wrong\n        // gulp.start('build-docs');\n        return;\n      }\n      else if(isPackagedTheme) {\n        console.log('Change detected in packaged theme');\n        lessPath = util.replaceExtension(file.path, '.less');\n        lessPath = lessPath.replace(tasks.regExp.theme, source.definitions);\n      }\n      else if(isSiteTheme) {\n        console.log('Change detected in site theme');\n        lessPath = util.replaceExtension(file.path, '.less');\n        lessPath = lessPath.replace(source.site, source.definitions);\n      }\n      else {\n        console.log('Change detected in definition');\n        lessPath = file.path;\n      }\n\n      /*--------------\n        Create CSS\n      ---------------*/\n\n      if( fs.existsSync(lessPath) ) {\n\n        // unified css stream\n        stream = gulp.src(lessPath)\n          .pipe(plumber())\n          .pipe(less(settings.less))\n          .pipe(replace(comments.variables.in, comments.variables.out))\n          .pipe(replace(comments.large.in, comments.large.out))\n          .pipe(replace(comments.small.in, comments.small.out))\n          .pipe(replace(comments.tiny.in, comments.tiny.out))\n          .pipe(autoprefixer(settings.prefix))\n          .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n        ;\n\n        // use 2 concurrent streams from same pipe\n        uncompressedStream = stream.pipe(clone());\n        compressedStream   = stream.pipe(clone());\n\n        uncompressedStream\n          .pipe(plumber())\n          .pipe(replace(assets.source, assets.uncompressed))\n          .pipe(header(banner, settings.header))\n          .pipe(gulp.dest(output.uncompressed))\n          .pipe(print(log.created))\n          .on('end', function() {\n            gulp.start('package uncompressed docs css');\n          })\n        ;\n\n        compressedStream = stream\n          .pipe(plumber())\n          .pipe(replace(assets.source, assets.compressed))\n          .pipe(minifyCSS(settings.minify))\n          .pipe(rename(settings.rename.minCSS))\n          .pipe(header(banner, settings.header))\n          .pipe(gulp.dest(output.compressed))\n          .pipe(print(log.created))\n          .on('end', function() {\n            gulp.start('package compressed docs css');\n          })\n        ;\n\n      }\n      else {\n        console.log('Cannot find UI definition at path', lessPath);\n      }\n    })\n  ;\n\n  /*--------------\n      Watch JS\n  ---------------*/\n\n  gulp\n    .watch([\n      source.definitions   + '/**/*.js'\n    ], function(file) {\n      gulp.src(file.path)\n        .pipe(plumber())\n        .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n        .pipe(gulp.dest(output.uncompressed))\n        .pipe(print(log.created))\n        .pipe(uglify(settings.uglify))\n        .pipe(rename(settings.rename.minJS))\n        .pipe(gulp.dest(output.compressed))\n        .pipe(print(log.created))\n        .on('end', function() {\n          gulp.start('package compressed docs js');\n          gulp.start('package uncompressed docs js');\n        })\n      ;\n    })\n  ;\n\n  /*--------------\n    Watch Assets\n  ---------------*/\n\n  // only copy assets that match component names (or their plural)\n  gulp\n    .watch([\n      source.themes   + '/**/assets/**/' + globs.components + '?(s).*'\n    ], function(file) {\n      // copy assets\n      gulp.src(file.path, { base: source.themes })\n        .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n        .pipe(gulp.dest(output.themes))\n        .pipe(print(log.created))\n      ;\n    })\n  ;\n\n\n};\n","/*******************************\n          Build Task\n*******************************/\n\nvar\n  gulp         = require('gulp'),\n\n  // node dependencies\n  fs           = require('fs'),\n\n  // gulp dependencies\n  autoprefixer = require('gulp-autoprefixer'),\n  chmod        = require('gulp-chmod'),\n  clone        = require('gulp-clone'),\n  flatten      = require('gulp-flatten'),\n  gulpif       = require('gulp-if'),\n  less         = require('gulp-less'),\n  minifyCSS    = require('gulp-clean-css'),\n  plumber      = require('gulp-plumber'),\n  print        = require('gulp-print'),\n  rename       = require('gulp-rename'),\n  replace      = require('gulp-replace'),\n  rtlcss       = require('gulp-rtlcss'),\n  uglify       = require('gulp-uglify'),\n\n  // user config\n  config       = require('../config/user'),\n\n  // install config\n  tasks        = require('../config/tasks'),\n  install      = require('../config/project/install'),\n\n  // shorthand\n  globs        = config.globs,\n  assets       = config.paths.assets,\n  output       = config.paths.output,\n  source       = config.paths.source,\n\n  banner       = tasks.banner,\n  comments     = tasks.regExp.comments,\n  log          = tasks.log,\n  settings     = tasks.settings\n;\n\n// add internal tasks (concat release)\nrequire('../collections/internal')(gulp);\n\nmodule.exports = function(callback) {\n\n  var\n    stream,\n    compressedStream,\n    uncompressedStream\n  ;\n\n  console.info('Building Semantic');\n\n  if( !install.isSetup() ) {\n    console.error('Cannot build files. Run \"gulp install\" to set-up Semantic');\n    return;\n  }\n\n  // unified css stream\n  stream = gulp.src(source.definitions + '/**/' + globs.components + '.less')\n    .pipe(plumber())\n    .pipe(less(settings.less))\n    .pipe(autoprefixer(settings.prefix))\n    .pipe(rtlcss())\n    .pipe(replace(comments.variables.in, comments.variables.out))\n    .pipe(replace(comments.license.in, comments.license.out))\n    .pipe(replace(comments.large.in, comments.large.out))\n    .pipe(replace(comments.small.in, comments.small.out))\n    .pipe(replace(comments.tiny.in, comments.tiny.out))\n    .pipe(flatten())\n  ;\n\n  // two concurrent streams from same source to concat release\n  uncompressedStream = stream.pipe(clone());\n  compressedStream   = stream.pipe(clone());\n\n  uncompressedStream\n    .pipe(plumber())\n    .pipe(replace(assets.source, assets.uncompressed))\n    .pipe(rename(settings.rename.rtlCSS))\n    .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n    .pipe(gulp.dest(output.uncompressed))\n    .pipe(print(log.created))\n    .on('end', function() {\n      gulp.start('package uncompressed rtl css');\n    })\n  ;\n\n  compressedStream = stream\n    .pipe(plumber())\n    .pipe(clone())\n    .pipe(replace(assets.source, assets.compressed))\n    .pipe(minifyCSS(settings.minify))\n    .pipe(rename(settings.rename.rtlMinCSS))\n    .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n    .pipe(gulp.dest(output.compressed))\n    .pipe(print(log.created))\n    .on('end', function() {\n      callback();\n      gulp.start('package compressed rtl css');\n    })\n  ;\n\n  // copy assets\n  gulp.src(source.themes + '/**/assets/**/' + globs.components + '?(s).*')\n    .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n    .pipe(gulp.dest(output.themes))\n  ;\n\n  // copy source javascript\n  gulp.src(source.definitions + '/**/' + globs.components + '.js')\n    .pipe(plumber())\n    .pipe(flatten())\n    .pipe(replace(comments.license.in, comments.license.out))\n    .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n    .pipe(gulp.dest(output.uncompressed))\n    .pipe(print(log.created))\n    .pipe(uglify(settings.uglify))\n    .pipe(rename(settings.rename.minJS))\n    .pipe(gulp.dest(output.compressed))\n    .pipe(print(log.created))\n    .on('end', function() {\n      gulp.start('package compressed js');\n      gulp.start('package uncompressed js');\n    })\n  ;\n\n};\n","/*******************************\n           Watch Task\n*******************************/\n\nvar\n  gulp         = require('gulp'),\n\n  // node deps\n  console      = require('better-console'),\n  fs           = require('fs'),\n\n  // gulp deps\n  autoprefixer = require('gulp-autoprefixer'),\n  chmod        = require('gulp-chmod'),\n  clone        = require('gulp-clone'),\n  gulpif       = require('gulp-if'),\n  less         = require('gulp-less'),\n  minifyCSS    = require('gulp-clean-css'),\n  plumber      = require('gulp-plumber'),\n  print        = require('gulp-print'),\n  rename       = require('gulp-rename'),\n  replace      = require('gulp-replace'),\n  rtlcss       = require('gulp-rtlcss'),\n  uglify       = require('gulp-uglify'),\n  util         = require('gulp-util'),\n  watch        = require('gulp-watch'),\n\n  // user config\n  config       = require('../config/user'),\n\n  // task config\n  tasks        = require('../config/tasks'),\n  install      = require('../config/project/install'),\n\n  // shorthand\n  globs        = config.globs,\n  assets       = config.paths.assets,\n  output       = config.paths.output,\n  source       = config.paths.source,\n\n  banner       = tasks.banner,\n  comments     = tasks.regExp.comments,\n  log          = tasks.log,\n  settings     = tasks.settings\n\n;\n\n// add internal tasks (concat release)\nrequire('../collections/internal')(gulp);\n\nmodule.exports = function(callback) {\n\n  if( !install.isSetup() ) {\n    console.error('Cannot watch files. Run \"gulp install\" to set-up Semantic');\n    return;\n  }\n\n  console.clear();\n  console.log('Watching source files for changes');\n\n  /*--------------\n      Watch CSS\n  ---------------*/\n\n  gulp\n    .watch([\n      source.config,\n      source.definitions   + '/**/*.less',\n      source.site          + '/**/*.{overrides,variables}',\n      source.themes        + '/**/*.{overrides,variables}'\n    ], function(file) {\n\n      var\n        lessPath,\n\n        stream,\n        compressedStream,\n        uncompressedStream,\n\n        isDefinition,\n        isPackagedTheme,\n        isSiteTheme,\n        isConfig\n      ;\n\n      // log modified file\n      gulp.src(file.path)\n        .pipe(print(log.modified))\n      ;\n\n      /*--------------\n         Find Source\n      ---------------*/\n\n      // recompile on *.override , *.variable change\n      isConfig        = (file.path.indexOf('.config') !== -1);\n      isPackagedTheme = (file.path.indexOf(source.themes) !== -1);\n      isSiteTheme     = (file.path.indexOf(source.site) !== -1);\n      isDefinition    = (file.path.indexOf(source.definitions) !== -1);\n\n\n      if(isConfig) {\n        console.log('Change detected in theme config');\n        // cant tell which theme was changed in theme.config, rebuild all\n        gulp.start('build');\n      }\n      else if(isPackagedTheme) {\n        console.log('Change detected in packaged theme');\n        lessPath = lessPath.replace(tasks.regExp.theme, source.definitions);\n        lessPath = util.replaceExtension(file.path, '.less');\n      }\n      else if(isSiteTheme) {\n        console.log('Change detected in site theme');\n        lessPath = lessPath.replace(source.site, source.definitions);\n        lessPath = util.replaceExtension(file.path, '.less');\n      }\n      else if(isDefinition) {\n        console.log('Change detected in definition');\n        lessPath = util.replaceExtension(file.path, '.less');\n      }\n\n      /*--------------\n         Create CSS\n      ---------------*/\n\n      if( fs.existsSync(lessPath) ) {\n\n        // unified css stream\n        stream = gulp.src(lessPath)\n          .pipe(plumber())\n          .pipe(less(settings.less))\n          .pipe(replace(comments.variables.in, comments.variables.out))\n          .pipe(replace(comments.license.in, comments.license.out))\n          .pipe(replace(comments.large.in, comments.large.out))\n          .pipe(replace(comments.small.in, comments.small.out))\n          .pipe(replace(comments.tiny.in, comments.tiny.out))\n          .pipe(autoprefixer(settings.prefix))\n          .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n          .pipe(rtlcss())\n        ;\n\n        // use 2 concurrent streams from same pipe\n        uncompressedStream = stream.pipe(clone());\n        compressedStream   = stream.pipe(clone());\n\n        uncompressedStream\n          .pipe(plumber())\n          .pipe(replace(assets.source, assets.uncompressed))\n          .pipe(rename(settings.rename.rtlCSS))\n          .pipe(gulp.dest(output.uncompressed))\n          .pipe(print(log.created))\n          .on('end', function() {\n            gulp.start('package uncompressed rtl css');\n          })\n        ;\n\n        compressedStream = stream\n          .pipe(plumber())\n          .pipe(replace(assets.source, assets.compressed))\n          .pipe(minifyCSS(settings.minify))\n          .pipe(rename(settings.rename.minCSS))\n          .pipe(rename(settings.rename.rtlMinCSS))\n          .pipe(gulp.dest(output.compressed))\n          .pipe(print(log.created))\n          .on('end', function() {\n            gulp.start('package compressed rtl css');\n          })\n        ;\n\n      }\n      else {\n        console.log('Cannot find UI definition at path', lessPath);\n      }\n    })\n  ;\n\n  /*--------------\n      Watch JS\n  ---------------*/\n\n  gulp\n    .watch([\n      source.definitions   + '/**/*.js'\n    ], function(file) {\n      gulp.src(file.path)\n        .pipe(plumber())\n        .pipe(replace(comments.license.in, comments.license.out))\n        .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n        .pipe(gulp.dest(output.uncompressed))\n        .pipe(print(log.created))\n        .pipe(uglify(settings.uglify))\n        .pipe(rename(settings.rename.minJS))\n        .pipe(gulp.dest(output.compressed))\n        .pipe(print(log.created))\n        .on('end', function() {\n          gulp.start('package compressed js');\n          gulp.start('package uncompressed js');\n        })\n      ;\n    })\n  ;\n\n  /*--------------\n    Watch Assets\n  ---------------*/\n\n  // only copy assets that match component names (or their plural)\n  gulp\n    .watch([\n      source.themes   + '/**/assets/**/' + globs.components + '?(s).*'\n    ], function(file) {\n      // copy assets\n      gulp.src(file.path, { base: source.themes })\n        .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n        .pipe(gulp.dest(output.themes))\n        .pipe(print(log.created))\n      ;\n    })\n  ;\n\n};\n","/*******************************\n          Build Task\n*******************************/\n\nvar\n  // dependencies\n  gulp         = require('gulp-help')(require('gulp')),\n  runSequence  = require('run-sequence'),\n\n  // config\n  config       = require('./config/user'),\n  install      = require('./config/project/install'),\n\n  // task sequence\n  tasks        = []\n;\n\n\n// sub-tasks\nif(config.rtl) {\n  require('./collections/rtl')(gulp);\n}\nrequire('./collections/build')(gulp);\n\n\nmodule.exports = function(callback) {\n\n  console.info('Building Semantic');\n\n  if( !install.isSetup() ) {\n    console.error('Cannot find semantic.json. Run \"gulp install\" to set-up Semantic');\n    return 1;\n  }\n\n  // check for right-to-left (RTL) language\n  if(config.rtl === true || config.rtl === 'Yes') {\n    gulp.start('build-rtl');\n    return;\n  }\n\n  if(config.rtl == 'both') {\n    tasks.push('build-rtl');\n  }\n\n  tasks.push('build-javascript');\n  tasks.push('build-css');\n  tasks.push('build-assets');\n\n  runSequence(tasks, callback);\n};\n","/*******************************\n         Check Install\n*******************************/\n\nvar\n  // node dependencies\n  gulp         = require('gulp'),\n  fs           = require('fs'),\n  console      = require('better-console'),\n  install      = require('./config/project/install')\n;\n\n// export task\nmodule.exports = function() {\n\n  setTimeout(function() {\n    if( !install.isSetup() ) {\n      console.log('Starting install...');\n      gulp.start('install');\n      return;\n    }\n    else {\n      gulp.start('watch');\n    }\n  }, 50); // Delay to allow console.clear to remove messages from check event\n\n\n};","/*******************************\n          Clean Task\n*******************************/\n\nvar\n  del    = require('del'),\n  config = require('./config/user'),\n  tasks  = require('./config/tasks')\n;\n\n// cleans distribution files\nmodule.exports = function(callback) {\n  return del([config.paths.clean], tasks.settings.del, callback);\n};","/*******************************\n         Install Task\n*******************************/\n\n/*\n   Install tasks\n\n   For more notes\n\n   * Runs automatically after npm update (hooks)\n   * (NPM) Install - Will ask for where to put semantic (outside pm folder)\n   * (NPM) Upgrade - Will look for semantic install, copy over files and update if new version\n   * Standard installer runs asking for paths to site files etc\n\n*/\n\nvar\n  gulp           = require('gulp'),\n\n  // node dependencies\n  console        = require('better-console'),\n  extend         = require('extend'),\n  fs             = require('fs'),\n  mkdirp         = require('mkdirp'),\n  path           = require('path'),\n  runSequence    = require('run-sequence'),\n\n  // gulp dependencies\n  chmod          = require('gulp-chmod'),\n  del            = require('del'),\n  jsonEditor     = require('gulp-json-editor'),\n  plumber        = require('gulp-plumber'),\n  prompt         = require('prompt-sui'),\n  rename         = require('gulp-rename'),\n  replace        = require('gulp-replace'),\n  requireDotFile = require('require-dot-file'),\n  wrench         = require('wrench-sui'),\n\n  // install config\n  install        = require('./config/project/install'),\n\n  // user config\n  config         = require('./config/user'),\n\n  // release config (name/title/etc)\n  release        = require('./config/project/release'),\n\n  // shorthand\n  questions      = install.questions,\n  files          = install.files,\n  folders        = install.folders,\n  regExp         = install.regExp,\n  settings       = install.settings,\n  source         = install.source\n;\n\n// Export install task\nmodule.exports = function (callback) {\n\nvar\n  currentConfig = requireDotFile('semantic.json'),\n  manager       = install.getPackageManager(),\n  rootQuestions = questions.root,\n  installFolder = false,\n  answers\n;\n\nconsole.clear();\n\n/* Test NPM install\nmanager = {\n  name : 'NPM',\n  root : path.normalize(__dirname + '/../')\n};\n*/\n\n\n/* Don't do end user config if SUI is a sub-module */\nif( install.isSubModule() ) {\n  console.info('SUI is a sub-module, skipping end-user install');\n  return;\n}\n\n/*-----------------\n    Update SUI\n-----------------*/\n\n// run update scripts if semantic.json exists\nif(currentConfig && manager.name === 'NPM') {\n\n  var\n    updateFolder = path.join(manager.root, currentConfig.base),\n    updatePaths  = {\n      config       : path.join(manager.root, files.config),\n      tasks        : path.join(updateFolder, folders.tasks),\n      themeImport  : path.join(updateFolder, folders.themeImport),\n      definition   : path.join(currentConfig.paths.source.definitions),\n      site         : path.join(currentConfig.paths.source.site),\n      theme        : path.join(currentConfig.paths.source.themes),\n      defaultTheme : path.join(currentConfig.paths.source.themes, folders.defaultTheme)\n    }\n  ;\n\n  // duck-type if there is a project installed\n  if( fs.existsSync(updatePaths.definition) ) {\n\n    // perform update if new version\n    if(currentConfig.version !== release.version) {\n      console.log('Updating Semantic UI from ' + currentConfig.version + ' to ' + release.version);\n\n      console.info('Updating ui definitions...');\n      wrench.copyDirSyncRecursive(source.definitions, updatePaths.definition, settings.wrench.overwrite);\n\n      console.info('Updating default theme...');\n      wrench.copyDirSyncRecursive(source.themes, updatePaths.theme, settings.wrench.merge);\n      wrench.copyDirSyncRecursive(source.defaultTheme, updatePaths.defaultTheme, settings.wrench.overwrite);\n\n      console.info('Updating tasks...');\n      wrench.copyDirSyncRecursive(source.tasks, updatePaths.tasks, settings.wrench.overwrite);\n\n      console.info('Updating gulpfile.js');\n      gulp.src(source.userGulpFile)\n        .pipe(plumber())\n        .pipe(gulp.dest(updateFolder))\n      ;\n\n      // copy theme import\n      console.info('Updating theme import file');\n      gulp.src(source.themeImport)\n        .pipe(plumber())\n        .pipe(gulp.dest(updatePaths.themeImport))\n      ;\n\n      console.info('Adding new site theme files...');\n      wrench.copyDirSyncRecursive(source.site, updatePaths.site, settings.wrench.merge);\n\n      console.info('Updating version...');\n\n      // update version number in semantic.json\n      gulp.src(updatePaths.config)\n        .pipe(plumber())\n        .pipe(rename(settings.rename.json)) // preserve file extension\n        .pipe(jsonEditor({\n          version: release.version\n        }))\n        .pipe(gulp.dest(manager.root))\n      ;\n\n      console.info('Update complete! Run \"\\x1b[92mgulp build\\x1b[0m\" to rebuild dist/ files.');\n\n      return;\n    }\n    else {\n      console.log('Current version of Semantic UI already installed');\n      return;\n    }\n\n  }\n  else {\n    console.error('Cannot locate files to update at path: ', updatePaths.definition);\n    console.log('Running installer');\n  }\n\n}\n\n/*--------------\n Determine Root\n---------------*/\n\n// PM that supports Build Tools (NPM Only Now)\nif(manager.name == 'NPM') {\n  rootQuestions[0].message = rootQuestions[0].message\n    .replace('{packageMessage}', 'We detected you are using ' + manager.name + ' Nice!')\n    .replace('{root}', manager.root)\n  ;\n  // set default path to detected PM root\n  rootQuestions[0].default = manager.root;\n  rootQuestions[1].default = manager.root;\n\n  // insert PM questions after \"Install Type\" question\n  Array.prototype.splice.apply(questions.setup, [2, 0].concat(rootQuestions));\n\n  // omit cleanup questions for managed install\n  questions.cleanup = [];\n}\n\n\n/*--------------\n   Create SUI\n---------------*/\n\ngulp.task('run setup', function() {\n\n  // If auto-install is switched on, we skip the configuration section and simply reuse the configuration from semantic.json\n  if(install.shouldAutoInstall()) {\n    answers = {\n      overwrite    : 'yes',\n      install      : 'auto',\n      useRoot      : true,\n      semanticRoot : currentConfig.base\n    };\n  }\n  else {\n    return gulp\n      .src('gulpfile.js')\n      .pipe(prompt.prompt(questions.setup, function(setupAnswers) {\n        // hoist\n        answers = setupAnswers;\n      }))\n    ;\n  }\n});\n\ngulp.task('create install files', function(callback) {\n\n  /*--------------\n   Exit Conditions\n  ---------------*/\n\n  // if config exists and user specifies not to proceed\n  if(answers.overwrite !== undefined && answers.overwrite == 'no') {\n    return;\n  }\n  console.clear();\n  if(install.shouldAutoInstall()) {\n    console.log('Auto-Installing (Without User Interaction)');\n  }\n  else {\n    console.log('Installing');\n  }\n  console.log('------------------------------');\n\n\n  /*--------------\n        Paths\n  ---------------*/\n\n  var\n    installPaths = {\n      config            : files.config,\n      configFolder      : folders.config,\n      site              : answers.site || folders.site,\n      themeConfig       : files.themeConfig,\n      themeConfigFolder : folders.themeConfig\n    }\n  ;\n\n  /*--------------\n    NPM Install\n  ---------------*/\n\n  // Check if PM install\n  if(manager && (answers.useRoot || answers.customRoot)) {\n\n    // Set root to custom root path if set\n    if(answers.customRoot) {\n      if(answers.customRoot === '') {\n        console.log('Unable to proceed, invalid project root');\n        return;\n      }\n      manager.root = answers.customRoot;\n    }\n\n    // special install paths only for PM install\n    installPaths = extend(false, {}, installPaths, {\n      definition   : folders.definitions,\n      lessImport   : folders.lessImport,\n      tasks        : folders.tasks,\n      theme        : folders.themes,\n      defaultTheme : path.join(folders.themes, folders.defaultTheme),\n      themeImport  : folders.themeImport\n    });\n\n    // add project root to semantic root\n    installFolder = path.join(manager.root, answers.semanticRoot);\n\n    // add install folder to all output paths\n    for(var destination in installPaths) {\n      if( installPaths.hasOwnProperty(destination) ) {\n        // config goes in project root, rest in install folder\n        installPaths[destination] = (destination == 'config' || destination == 'configFolder')\n          ? path.normalize( path.join(manager.root, installPaths[destination]) )\n          : path.normalize( path.join(installFolder, installPaths[destination]) )\n        ;\n      }\n    }\n\n    // create project folders\n    try {\n      mkdirp.sync(installFolder);\n      mkdirp.sync(installPaths.definition);\n      mkdirp.sync(installPaths.theme);\n      mkdirp.sync(installPaths.tasks);\n    }\n    catch(error) {\n      console.error('NPM does not have permissions to create folders at your specified path. Adjust your folders permissions and run \"npm install\" again');\n    }\n\n    console.log('Installing to \\x1b[92m' + answers.semanticRoot + '\\x1b[0m');\n\n    console.info('Copying UI definitions');\n    wrench.copyDirSyncRecursive(source.definitions, installPaths.definition, settings.wrench.overwrite);\n\n    console.info('Copying UI themes');\n    wrench.copyDirSyncRecursive(source.themes, installPaths.theme, settings.wrench.merge);\n    wrench.copyDirSyncRecursive(source.defaultTheme, installPaths.defaultTheme, settings.wrench.overwrite);\n\n    console.info('Copying gulp tasks');\n    wrench.copyDirSyncRecursive(source.tasks, installPaths.tasks, settings.wrench.overwrite);\n\n    // copy theme import\n    console.info('Adding theme files');\n    gulp.src(source.themeImport)\n      .pipe(plumber())\n      .pipe(gulp.dest(installPaths.themeImport))\n    ;\n    gulp.src(source.lessImport)\n      .pipe(plumber())\n      .pipe(gulp.dest(installPaths.lessImport))\n    ;\n\n    // create gulp file\n    console.info('Creating gulpfile.js');\n    gulp.src(source.userGulpFile)\n      .pipe(plumber())\n      .pipe(gulp.dest(installFolder))\n    ;\n\n  }\n\n\n  /*--------------\n     Site Theme\n  ---------------*/\n\n  // Copy _site templates folder to destination\n  if( fs.existsSync(installPaths.site) ) {\n    console.info('Site folder exists, merging files (no overwrite)', installPaths.site);\n  }\n  else {\n    console.info('Creating site theme folder', installPaths.site);\n  }\n  wrench.copyDirSyncRecursive(source.site, installPaths.site, settings.wrench.merge);\n\n  /*--------------\n    Theme Config\n  ---------------*/\n\n  gulp.task('create theme.config', function() {\n    var\n      // determine path to site theme folder from theme config\n      // force CSS path variable to use forward slashes for paths\n      pathToSite   = path.relative(path.resolve(installPaths.themeConfigFolder), path.resolve(installPaths.site)).replace(/\\\\/g,'/'),\n      siteVariable = \"@siteFolder   : '\" + pathToSite + \"/';\"\n    ;\n\n    // rewrite site variable in theme.less\n    console.info('Adjusting @siteFolder to: ', pathToSite + '/');\n\n    if(fs.existsSync(installPaths.themeConfig)) {\n      console.info('Modifying src/theme.config (LESS config)', installPaths.themeConfig);\n      return gulp.src(installPaths.themeConfig)\n        .pipe(plumber())\n        .pipe(replace(regExp.siteVariable, siteVariable))\n        .pipe(gulp.dest(installPaths.themeConfigFolder))\n      ;\n    }\n    else {\n      console.info('Creating src/theme.config (LESS config)', installPaths.themeConfig);\n      return gulp.src(source.themeConfig)\n        .pipe(plumber())\n        .pipe(rename({ extname : '' }))\n        .pipe(replace(regExp.siteVariable, siteVariable))\n        .pipe(gulp.dest(installPaths.themeConfigFolder))\n      ;\n    }\n  });\n\n  /*--------------\n    Semantic.json\n  ---------------*/\n\n  gulp.task('create semantic.json', function() {\n\n    var\n      jsonConfig = install.createJSON(answers)\n    ;\n\n    // adjust variables in theme.less\n    if( fs.existsSync(installPaths.config) ) {\n      console.info('Extending config file (semantic.json)', installPaths.config);\n      return gulp.src(installPaths.config)\n        .pipe(plumber())\n        .pipe(rename(settings.rename.json)) // preserve file extension\n        .pipe(jsonEditor(jsonConfig))\n        .pipe(gulp.dest(installPaths.configFolder))\n      ;\n    }\n    else {\n      console.info('Creating config file (semantic.json)', installPaths.config);\n      return gulp.src(source.config)\n        .pipe(plumber())\n        .pipe(rename({ extname : '' })) // remove .template from ext\n        .pipe(jsonEditor(jsonConfig))\n        .pipe(gulp.dest(installPaths.configFolder))\n      ;\n    }\n\n  });\n\n  runSequence(\n    'create theme.config',\n    'create semantic.json',\n    callback\n  );\n\n});\n\ngulp.task('clean up install', function() {\n\n  // Completion Message\n  if(installFolder && !install.shouldAutoInstall()) {\n    console.log('\\n Setup Complete! \\n Installing Peer Dependencies. \\x1b[0;31mPlease refrain from ctrl + c\\x1b[0m... \\n After completion navigate to \\x1b[92m' + answers.semanticRoot + '\\x1b[0m and run \"\\x1b[92mgulp build\\x1b[0m\" to build');\n    process.exit(0);\n  }\n  else {\n    console.log('');\n    console.log('');\n  }\n\n  // If auto-install is switched on, we skip the configuration section and simply build the dependencies\n  if(install.shouldAutoInstall()) {\n    return gulp.start('build');\n  }\n  else {\n    return gulp\n      .src('gulpfile.js')\n      .pipe(prompt.prompt(questions.cleanup, function(answers) {\n        if(answers.cleanup == 'yes') {\n          del(install.setupFiles);\n        }\n        if(answers.build == 'yes') {\n          gulp.start('build');\n        }\n      }))\n    ;\n  }\n\n\n});\n\nrunSequence(\n  'run setup',\n  'create install files',\n  'clean up install',\n  callback\n);\n\n};\n","/*******************************\n          Version Task\n*******************************/\n\nvar\n  release = require('./config/project/release')\n;\n\nmodule.exports = function(callback) {\n  console.log(release.title + ' ' + release.version);\n};","/*******************************\n           Watch Task\n*******************************/\n\nvar\n  gulp         = require('gulp-help')(require('gulp')),\n\n  // node dependencies\n  console      = require('better-console'),\n  fs           = require('fs'),\n\n  // gulp dependencies\n  autoprefixer = require('gulp-autoprefixer'),\n  chmod        = require('gulp-chmod'),\n  clone        = require('gulp-clone'),\n  gulpif       = require('gulp-if'),\n  less         = require('gulp-less'),\n  minifyCSS    = require('gulp-clean-css'),\n  plumber      = require('gulp-plumber'),\n  print        = require('gulp-print'),\n  rename       = require('gulp-rename'),\n  replace      = require('gulp-replace'),\n  uglify       = require('gulp-uglify'),\n  util         = require('gulp-util'),\n  watch        = require('gulp-watch'),\n\n  // user config\n  config       = require('./config/user'),\n\n  // task config\n  tasks        = require('./config/tasks'),\n  install      = require('./config/project/install'),\n\n  // shorthand\n  globs        = config.globs,\n  assets       = config.paths.assets,\n  output       = config.paths.output,\n  source       = config.paths.source,\n\n  banner       = tasks.banner,\n  comments     = tasks.regExp.comments,\n  log          = tasks.log,\n  settings     = tasks.settings\n\n;\n\n// add tasks referenced using gulp.run (sub-tasks)\nif(config.rtl) {\n  require('./collections/rtl')(gulp);\n}\nrequire('./collections/internal')(gulp);\n\n\n// export task\nmodule.exports = function(callback) {\n\n  if( !install.isSetup() ) {\n    console.error('Cannot watch files. Run \"gulp install\" to set-up Semantic');\n    return;\n  }\n\n  // check for right-to-left (RTL) language\n  if(config.rtl == 'both') {\n    gulp.start('watch-rtl');\n  }\n  if(config.rtl === true || config.rtl === 'Yes') {\n    gulp.start('watch-rtl');\n    return;\n  }\n\n  //console.clear();\n  console.log('Watching source files for changes');\n\n  /*--------------\n      Watch CSS\n  ---------------*/\n\n  gulp\n    .watch([\n      source.config,\n      source.definitions   + '/**/*.less',\n      source.site          + '/**/*.{overrides,variables}',\n      source.themes        + '/**/*.{overrides,variables}'\n    ], function(file) {\n\n      var\n        lessPath,\n\n        stream,\n        compressedStream,\n        uncompressedStream,\n\n        isDefinition,\n        isPackagedTheme,\n        isSiteTheme,\n        isConfig\n      ;\n\n      // log modified file\n      gulp.src(file.path)\n        .pipe(print(log.modified))\n      ;\n\n      /*--------------\n         Find Source\n      ---------------*/\n\n      // recompile on *.override , *.variable change\n      isConfig        = (file.path.indexOf('theme.config') !== -1 || file.path.indexOf('site.variables') !== -1);\n      isPackagedTheme = (file.path.indexOf(source.themes) !== -1);\n      isSiteTheme     = (file.path.indexOf(source.site) !== -1);\n      isDefinition    = (file.path.indexOf(source.definitions) !== -1);\n\n      if(isConfig) {\n        console.info('Rebuilding all UI');\n        // impossible to tell which file was updated in theme.config, rebuild all\n        gulp.start('build-css');\n        return;\n      }\n      else if(isPackagedTheme) {\n        console.log('Change detected in packaged theme');\n        lessPath = util.replaceExtension(file.path, '.less');\n        lessPath = lessPath.replace(tasks.regExp.theme, source.definitions);\n      }\n      else if(isSiteTheme) {\n        console.log('Change detected in site theme');\n        lessPath = util.replaceExtension(file.path, '.less');\n        lessPath = lessPath.replace(source.site, source.definitions);\n      }\n      else {\n        console.log('Change detected in definition');\n        lessPath = file.path;\n      }\n\n      /*--------------\n         Create CSS\n      ---------------*/\n\n      if( fs.existsSync(lessPath) ) {\n\n        // unified css stream\n        stream = gulp.src(lessPath)\n          .pipe(plumber(settings.plumber.less))\n          .pipe(less(settings.less))\n          .pipe(print(log.created))\n          .pipe(replace(comments.variables.in, comments.variables.out))\n          .pipe(replace(comments.license.in, comments.license.out))\n          .pipe(replace(comments.large.in, comments.large.out))\n          .pipe(replace(comments.small.in, comments.small.out))\n          .pipe(replace(comments.tiny.in, comments.tiny.out))\n          .pipe(autoprefixer(settings.prefix))\n          .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n        ;\n\n        // use 2 concurrent streams from same pipe\n        uncompressedStream = stream.pipe(clone());\n        compressedStream   = stream.pipe(clone());\n\n        uncompressedStream\n          .pipe(plumber())\n          .pipe(replace(assets.source, assets.uncompressed))\n          .pipe(gulp.dest(output.uncompressed))\n          .pipe(print(log.created))\n          .on('end', function() {\n            gulp.start('package uncompressed css');\n          })\n        ;\n\n        compressedStream = stream\n          .pipe(plumber())\n          .pipe(replace(assets.source, assets.compressed))\n          .pipe(minifyCSS(settings.minify))\n          .pipe(rename(settings.rename.minCSS))\n          .pipe(gulp.dest(output.compressed))\n          .pipe(print(log.created))\n          .on('end', function() {\n            gulp.start('package compressed css');\n          })\n        ;\n      }\n      else {\n        console.log('Cannot find UI definition at path', lessPath);\n      }\n    })\n  ;\n\n  /*--------------\n      Watch JS\n  ---------------*/\n\n  gulp\n    .watch([\n      source.definitions   + '/**/*.js'\n    ], function(file) {\n      gulp.src(file.path)\n        .pipe(plumber())\n        .pipe(replace(comments.license.in, comments.license.out))\n        .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n        .pipe(gulp.dest(output.uncompressed))\n        .pipe(print(log.created))\n        .pipe(uglify(settings.uglify))\n        .pipe(rename(settings.rename.minJS))\n        .pipe(gulp.dest(output.compressed))\n        .pipe(print(log.created))\n        .on('end', function() {\n          gulp.start('package compressed js');\n          gulp.start('package uncompressed js');\n        })\n      ;\n    })\n  ;\n\n  /*--------------\n    Watch Assets\n  ---------------*/\n\n  // only copy assets that match component names (or their plural)\n  gulp\n    .watch([\n      source.themes   + '/**/assets/**/*.*'\n    ], function(file) {\n      // copy assets\n      gulp.src(file.path, { base: source.themes })\n        .pipe(gulpif(config.hasPermission, chmod(config.permission)))\n        .pipe(gulp.dest(output.themes))\n        .pipe(print(log.created))\n      ;\n    })\n  ;\n\n};\n","/*!\n * # Semantic UI - API\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nvar\n  window = (typeof window != 'undefined' && window.Math == Math)\n    ? window\n    : (typeof self != 'undefined' && self.Math == Math)\n      ? self\n      : Function('return this')()\n;\n\n$.api = $.fn.api = function(parameters) {\n\n  var\n    // use window context if none specified\n    $allModules     = $.isFunction(this)\n        ? $(window)\n        : $(this),\n    moduleSelector = $allModules.selector || '',\n    time           = new Date().getTime(),\n    performance    = [],\n\n    query          = arguments[0],\n    methodInvoked  = (typeof query == 'string'),\n    queryArguments = [].slice.call(arguments, 1),\n\n    returnedValue\n  ;\n\n  $allModules\n    .each(function() {\n      var\n        settings          = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.api.settings, parameters)\n          : $.extend({}, $.fn.api.settings),\n\n        // internal aliases\n        namespace       = settings.namespace,\n        metadata        = settings.metadata,\n        selector        = settings.selector,\n        error           = settings.error,\n        className       = settings.className,\n\n        // define namespaces for modules\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n\n        // element that creates request\n        $module         = $(this),\n        $form           = $module.closest(selector.form),\n\n        // context used for state\n        $context        = (settings.stateContext)\n          ? $(settings.stateContext)\n          : $module,\n\n        // request details\n        ajaxSettings,\n        requestSettings,\n        url,\n        data,\n        requestStartTime,\n\n        // standard module\n        element         = this,\n        context         = $context[0],\n        instance        = $module.data(moduleNamespace),\n        module\n      ;\n\n      module = {\n\n        initialize: function() {\n          if(!methodInvoked) {\n            module.bind.events();\n          }\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, instance)\n          ;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous module for', element);\n          $module\n            .removeData(moduleNamespace)\n            .off(eventNamespace)\n          ;\n        },\n\n        bind: {\n          events: function() {\n            var\n              triggerEvent = module.get.event()\n            ;\n            if( triggerEvent ) {\n              module.verbose('Attaching API events to element', triggerEvent);\n              $module\n                .on(triggerEvent + eventNamespace, module.event.trigger)\n              ;\n            }\n            else if(settings.on == 'now') {\n              module.debug('Querying API endpoint immediately');\n              module.query();\n            }\n          }\n        },\n\n        decode: {\n          json: function(response) {\n            if(response !== undefined && typeof response == 'string') {\n              try {\n               response = JSON.parse(response);\n              }\n              catch(e) {\n                // isnt json string\n              }\n            }\n            return response;\n          }\n        },\n\n        read: {\n          cachedResponse: function(url) {\n            var\n              response\n            ;\n            if(window.Storage === undefined) {\n              module.error(error.noStorage);\n              return;\n            }\n            response = sessionStorage.getItem(url);\n            module.debug('Using cached response', url, response);\n            response = module.decode.json(response);\n            return response;\n          }\n        },\n        write: {\n          cachedResponse: function(url, response) {\n            if(response && response === '') {\n              module.debug('Response empty, not caching', response);\n              return;\n            }\n            if(window.Storage === undefined) {\n              module.error(error.noStorage);\n              return;\n            }\n            if( $.isPlainObject(response) ) {\n              response = JSON.stringify(response);\n            }\n            sessionStorage.setItem(url, response);\n            module.verbose('Storing cached response for url', url, response);\n          }\n        },\n\n        query: function() {\n\n          if(module.is.disabled()) {\n            module.debug('Element is disabled API request aborted');\n            return;\n          }\n\n          if(module.is.loading()) {\n            if(settings.interruptRequests) {\n              module.debug('Interrupting previous request');\n              module.abort();\n            }\n            else {\n              module.debug('Cancelling request, previous request is still pending');\n              return;\n            }\n          }\n\n          // pass element metadata to url (value, text)\n          if(settings.defaultData) {\n            $.extend(true, settings.urlData, module.get.defaultData());\n          }\n\n          // Add form content\n          if(settings.serializeForm) {\n            settings.data = module.add.formData(settings.data);\n          }\n\n          // call beforesend and get any settings changes\n          requestSettings = module.get.settings();\n\n          // check if before send cancelled request\n          if(requestSettings === false) {\n            module.cancelled = true;\n            module.error(error.beforeSend);\n            return;\n          }\n          else {\n            module.cancelled = false;\n          }\n\n          // get url\n          url = module.get.templatedURL();\n\n          if(!url && !module.is.mocked()) {\n            module.error(error.missingURL);\n            return;\n          }\n\n          // replace variables\n          url = module.add.urlData( url );\n          // missing url parameters\n          if( !url && !module.is.mocked()) {\n            return;\n          }\n\n          requestSettings.url = settings.base + url;\n\n          // look for jQuery ajax parameters in settings\n          ajaxSettings = $.extend(true, {}, settings, {\n            type       : settings.method || settings.type,\n            data       : data,\n            url        : settings.base + url,\n            beforeSend : settings.beforeXHR,\n            success    : function() {},\n            failure    : function() {},\n            complete   : function() {}\n          });\n\n          module.debug('Querying URL', ajaxSettings.url);\n          module.verbose('Using AJAX settings', ajaxSettings);\n          if(settings.cache === 'local' && module.read.cachedResponse(url)) {\n            module.debug('Response returned from local cache');\n            module.request = module.create.request();\n            module.request.resolveWith(context, [ module.read.cachedResponse(url) ]);\n            return;\n          }\n\n          if( !settings.throttle ) {\n            module.debug('Sending request', data, ajaxSettings.method);\n            module.send.request();\n          }\n          else {\n            if(!settings.throttleFirstRequest && !module.timer) {\n              module.debug('Sending request', data, ajaxSettings.method);\n              module.send.request();\n              module.timer = setTimeout(function(){}, settings.throttle);\n            }\n            else {\n              module.debug('Throttling request', settings.throttle);\n              clearTimeout(module.timer);\n              module.timer = setTimeout(function() {\n                if(module.timer) {\n                  delete module.timer;\n                }\n                module.debug('Sending throttled request', data, ajaxSettings.method);\n                module.send.request();\n              }, settings.throttle);\n            }\n          }\n\n        },\n\n        should: {\n          removeError: function() {\n            return ( settings.hideError === true || (settings.hideError === 'auto' && !module.is.form()) );\n          }\n        },\n\n        is: {\n          disabled: function() {\n            return ($module.filter(selector.disabled).length > 0);\n          },\n          expectingJSON: function() {\n            return settings.dataType === 'json' || settings.dataType === 'jsonp';\n          },\n          form: function() {\n            return $module.is('form') || $context.is('form');\n          },\n          mocked: function() {\n            return (settings.mockResponse || settings.mockResponseAsync || settings.response || settings.responseAsync);\n          },\n          input: function() {\n            return $module.is('input');\n          },\n          loading: function() {\n            return (module.request)\n              ? (module.request.state() == 'pending')\n              : false\n            ;\n          },\n          abortedRequest: function(xhr) {\n            if(xhr && xhr.readyState !== undefined && xhr.readyState === 0) {\n              module.verbose('XHR request determined to be aborted');\n              return true;\n            }\n            else {\n              module.verbose('XHR request was not aborted');\n              return false;\n            }\n          },\n          validResponse: function(response) {\n            if( (!module.is.expectingJSON()) || !$.isFunction(settings.successTest) ) {\n              module.verbose('Response is not JSON, skipping validation', settings.successTest, response);\n              return true;\n            }\n            module.debug('Checking JSON returned success', settings.successTest, response);\n            if( settings.successTest(response) ) {\n              module.debug('Response passed success test', response);\n              return true;\n            }\n            else {\n              module.debug('Response failed success test', response);\n              return false;\n            }\n          }\n        },\n\n        was: {\n          cancelled: function() {\n            return (module.cancelled || false);\n          },\n          succesful: function() {\n            return (module.request && module.request.state() == 'resolved');\n          },\n          failure: function() {\n            return (module.request && module.request.state() == 'rejected');\n          },\n          complete: function() {\n            return (module.request && (module.request.state() == 'resolved' || module.request.state() == 'rejected') );\n          }\n        },\n\n        add: {\n          urlData: function(url, urlData) {\n            var\n              requiredVariables,\n              optionalVariables\n            ;\n            if(url) {\n              requiredVariables = url.match(settings.regExp.required);\n              optionalVariables = url.match(settings.regExp.optional);\n              urlData           = urlData || settings.urlData;\n              if(requiredVariables) {\n                module.debug('Looking for required URL variables', requiredVariables);\n                $.each(requiredVariables, function(index, templatedString) {\n                  var\n                    // allow legacy {$var} style\n                    variable = (templatedString.indexOf('$') !== -1)\n                      ? templatedString.substr(2, templatedString.length - 3)\n                      : templatedString.substr(1, templatedString.length - 2),\n                    value   = ($.isPlainObject(urlData) && urlData[variable] !== undefined)\n                      ? urlData[variable]\n                      : ($module.data(variable) !== undefined)\n                        ? $module.data(variable)\n                        : ($context.data(variable) !== undefined)\n                          ? $context.data(variable)\n                          : urlData[variable]\n                  ;\n                  // remove value\n                  if(value === undefined) {\n                    module.error(error.requiredParameter, variable, url);\n                    url = false;\n                    return false;\n                  }\n                  else {\n                    module.verbose('Found required variable', variable, value);\n                    value = (settings.encodeParameters)\n                      ? module.get.urlEncodedValue(value)\n                      : value\n                    ;\n                    url = url.replace(templatedString, value);\n                  }\n                });\n              }\n              if(optionalVariables) {\n                module.debug('Looking for optional URL variables', requiredVariables);\n                $.each(optionalVariables, function(index, templatedString) {\n                  var\n                    // allow legacy {/$var} style\n                    variable = (templatedString.indexOf('$') !== -1)\n                      ? templatedString.substr(3, templatedString.length - 4)\n                      : templatedString.substr(2, templatedString.length - 3),\n                    value   = ($.isPlainObject(urlData) && urlData[variable] !== undefined)\n                      ? urlData[variable]\n                      : ($module.data(variable) !== undefined)\n                        ? $module.data(variable)\n                        : ($context.data(variable) !== undefined)\n                          ? $context.data(variable)\n                          : urlData[variable]\n                  ;\n                  // optional replacement\n                  if(value !== undefined) {\n                    module.verbose('Optional variable Found', variable, value);\n                    url = url.replace(templatedString, value);\n                  }\n                  else {\n                    module.verbose('Optional variable not found', variable);\n                    // remove preceding slash if set\n                    if(url.indexOf('/' + templatedString) !== -1) {\n                      url = url.replace('/' + templatedString, '');\n                    }\n                    else {\n                      url = url.replace(templatedString, '');\n                    }\n                  }\n                });\n              }\n            }\n            return url;\n          },\n          formData: function(data) {\n            var\n              canSerialize = ($.fn.serializeObject !== undefined),\n              formData     = (canSerialize)\n                ? $form.serializeObject()\n                : $form.serialize(),\n              hasOtherData\n            ;\n            data         = data || settings.data;\n            hasOtherData = $.isPlainObject(data);\n\n            if(hasOtherData) {\n              if(canSerialize) {\n                module.debug('Extending existing data with form data', data, formData);\n                data = $.extend(true, {}, data, formData);\n              }\n              else {\n                module.error(error.missingSerialize);\n                module.debug('Cant extend data. Replacing data with form data', data, formData);\n                data = formData;\n              }\n            }\n            else {\n              module.debug('Adding form data', formData);\n              data = formData;\n            }\n            return data;\n          }\n        },\n\n        send: {\n          request: function() {\n            module.set.loading();\n            module.request = module.create.request();\n            if( module.is.mocked() ) {\n              module.mockedXHR = module.create.mockedXHR();\n            }\n            else {\n              module.xhr = module.create.xhr();\n            }\n            settings.onRequest.call(context, module.request, module.xhr);\n          }\n        },\n\n        event: {\n          trigger: function(event) {\n            module.query();\n            if(event.type == 'submit' || event.type == 'click') {\n              event.preventDefault();\n            }\n          },\n          xhr: {\n            always: function() {\n              // nothing special\n            },\n            done: function(response, textStatus, xhr) {\n              var\n                context            = this,\n                elapsedTime        = (new Date().getTime() - requestStartTime),\n                timeLeft           = (settings.loadingDuration - elapsedTime),\n                translatedResponse = ( $.isFunction(settings.onResponse) )\n                  ? module.is.expectingJSON()\n                    ? settings.onResponse.call(context, $.extend(true, {}, response))\n                    : settings.onResponse.call(context, response)\n                  : false\n              ;\n              timeLeft = (timeLeft > 0)\n                ? timeLeft\n                : 0\n              ;\n              if(translatedResponse) {\n                module.debug('Modified API response in onResponse callback', settings.onResponse, translatedResponse, response);\n                response = translatedResponse;\n              }\n              if(timeLeft > 0) {\n                module.debug('Response completed early delaying state change by', timeLeft);\n              }\n              setTimeout(function() {\n                if( module.is.validResponse(response) ) {\n                  module.request.resolveWith(context, [response, xhr]);\n                }\n                else {\n                  module.request.rejectWith(context, [xhr, 'invalid']);\n                }\n              }, timeLeft);\n            },\n            fail: function(xhr, status, httpMessage) {\n              var\n                context     = this,\n                elapsedTime = (new Date().getTime() - requestStartTime),\n                timeLeft    = (settings.loadingDuration - elapsedTime)\n              ;\n              timeLeft = (timeLeft > 0)\n                ? timeLeft\n                : 0\n              ;\n              if(timeLeft > 0) {\n                module.debug('Response completed early delaying state change by', timeLeft);\n              }\n              setTimeout(function() {\n                if( module.is.abortedRequest(xhr) ) {\n                  module.request.rejectWith(context, [xhr, 'aborted', httpMessage]);\n                }\n                else {\n                  module.request.rejectWith(context, [xhr, 'error', status, httpMessage]);\n                }\n              }, timeLeft);\n            }\n          },\n          request: {\n            done: function(response, xhr) {\n              module.debug('Successful API Response', response);\n              if(settings.cache === 'local' && url) {\n                module.write.cachedResponse(url, response);\n                module.debug('Saving server response locally', module.cache);\n              }\n              settings.onSuccess.call(context, response, $module, xhr);\n            },\n            complete: function(firstParameter, secondParameter) {\n              var\n                xhr,\n                response\n              ;\n              // have to guess callback parameters based on request success\n              if( module.was.succesful() ) {\n                response = firstParameter;\n                xhr      = secondParameter;\n              }\n              else {\n                xhr      = firstParameter;\n                response = module.get.responseFromXHR(xhr);\n              }\n              module.remove.loading();\n              settings.onComplete.call(context, response, $module, xhr);\n            },\n            fail: function(xhr, status, httpMessage) {\n              var\n                // pull response from xhr if available\n                response     = module.get.responseFromXHR(xhr),\n                errorMessage = module.get.errorFromRequest(response, status, httpMessage)\n              ;\n              if(status == 'aborted') {\n                module.debug('XHR Aborted (Most likely caused by page navigation or CORS Policy)', status, httpMessage);\n                settings.onAbort.call(context, status, $module, xhr);\n                return true;\n              }\n              else if(status == 'invalid') {\n                module.debug('JSON did not pass success test. A server-side error has most likely occurred', response);\n              }\n              else if(status == 'error') {\n                if(xhr !== undefined) {\n                  module.debug('XHR produced a server error', status, httpMessage);\n                  // make sure we have an error to display to console\n                  if( xhr.status != 200 && httpMessage !== undefined && httpMessage !== '') {\n                    module.error(error.statusMessage + httpMessage, ajaxSettings.url);\n                  }\n                  settings.onError.call(context, errorMessage, $module, xhr);\n                }\n              }\n\n              if(settings.errorDuration && status !== 'aborted') {\n                module.debug('Adding error state');\n                module.set.error();\n                if( module.should.removeError() ) {\n                  setTimeout(module.remove.error, settings.errorDuration);\n                }\n              }\n              module.debug('API Request failed', errorMessage, xhr);\n              settings.onFailure.call(context, response, $module, xhr);\n            }\n          }\n        },\n\n        create: {\n\n          request: function() {\n            // api request promise\n            return $.Deferred()\n              .always(module.event.request.complete)\n              .done(module.event.request.done)\n              .fail(module.event.request.fail)\n            ;\n          },\n\n          mockedXHR: function () {\n            var\n              // xhr does not simulate these properties of xhr but must return them\n              textStatus     = false,\n              status         = false,\n              httpMessage    = false,\n              responder      = settings.mockResponse      || settings.response,\n              asyncResponder = settings.mockResponseAsync || settings.responseAsync,\n              asyncCallback,\n              response,\n              mockedXHR\n            ;\n\n            mockedXHR = $.Deferred()\n              .always(module.event.xhr.complete)\n              .done(module.event.xhr.done)\n              .fail(module.event.xhr.fail)\n            ;\n\n            if(responder) {\n              if( $.isFunction(responder) ) {\n                module.debug('Using specified synchronous callback', responder);\n                response = responder.call(context, requestSettings);\n              }\n              else {\n                module.debug('Using settings specified response', responder);\n                response = responder;\n              }\n              // simulating response\n              mockedXHR.resolveWith(context, [ response, textStatus, { responseText: response }]);\n            }\n            else if( $.isFunction(asyncResponder) ) {\n              asyncCallback = function(response) {\n                module.debug('Async callback returned response', response);\n\n                if(response) {\n                  mockedXHR.resolveWith(context, [ response, textStatus, { responseText: response }]);\n                }\n                else {\n                  mockedXHR.rejectWith(context, [{ responseText: response }, status, httpMessage]);\n                }\n              };\n              module.debug('Using specified async response callback', asyncResponder);\n              asyncResponder.call(context, requestSettings, asyncCallback);\n            }\n            return mockedXHR;\n          },\n\n          xhr: function() {\n            var\n              xhr\n            ;\n            // ajax request promise\n            xhr = $.ajax(ajaxSettings)\n              .always(module.event.xhr.always)\n              .done(module.event.xhr.done)\n              .fail(module.event.xhr.fail)\n            ;\n            module.verbose('Created server request', xhr, ajaxSettings);\n            return xhr;\n          }\n        },\n\n        set: {\n          error: function() {\n            module.verbose('Adding error state to element', $context);\n            $context.addClass(className.error);\n          },\n          loading: function() {\n            module.verbose('Adding loading state to element', $context);\n            $context.addClass(className.loading);\n            requestStartTime = new Date().getTime();\n          }\n        },\n\n        remove: {\n          error: function() {\n            module.verbose('Removing error state from element', $context);\n            $context.removeClass(className.error);\n          },\n          loading: function() {\n            module.verbose('Removing loading state from element', $context);\n            $context.removeClass(className.loading);\n          }\n        },\n\n        get: {\n          responseFromXHR: function(xhr) {\n            return $.isPlainObject(xhr)\n              ? (module.is.expectingJSON())\n                ? module.decode.json(xhr.responseText)\n                : xhr.responseText\n              : false\n            ;\n          },\n          errorFromRequest: function(response, status, httpMessage) {\n            return ($.isPlainObject(response) && response.error !== undefined)\n              ? response.error // use json error message\n              : (settings.error[status] !== undefined) // use server error message\n                ? settings.error[status]\n                : httpMessage\n            ;\n          },\n          request: function() {\n            return module.request || false;\n          },\n          xhr: function() {\n            return module.xhr || false;\n          },\n          settings: function() {\n            var\n              runSettings\n            ;\n            runSettings = settings.beforeSend.call(context, settings);\n            if(runSettings) {\n              if(runSettings.success !== undefined) {\n                module.debug('Legacy success callback detected', runSettings);\n                module.error(error.legacyParameters, runSettings.success);\n                runSettings.onSuccess = runSettings.success;\n              }\n              if(runSettings.failure !== undefined) {\n                module.debug('Legacy failure callback detected', runSettings);\n                module.error(error.legacyParameters, runSettings.failure);\n                runSettings.onFailure = runSettings.failure;\n              }\n              if(runSettings.complete !== undefined) {\n                module.debug('Legacy complete callback detected', runSettings);\n                module.error(error.legacyParameters, runSettings.complete);\n                runSettings.onComplete = runSettings.complete;\n              }\n            }\n            if(runSettings === undefined) {\n              module.error(error.noReturnedValue);\n            }\n            if(runSettings === false) {\n              return runSettings;\n            }\n            return (runSettings !== undefined)\n              ? $.extend(true, {}, runSettings)\n              : $.extend(true, {}, settings)\n            ;\n          },\n          urlEncodedValue: function(value) {\n            var\n              decodedValue   = window.decodeURIComponent(value),\n              encodedValue   = window.encodeURIComponent(value),\n              alreadyEncoded = (decodedValue !== value)\n            ;\n            if(alreadyEncoded) {\n              module.debug('URL value is already encoded, avoiding double encoding', value);\n              return value;\n            }\n            module.verbose('Encoding value using encodeURIComponent', value, encodedValue);\n            return encodedValue;\n          },\n          defaultData: function() {\n            var\n              data = {}\n            ;\n            if( !$.isWindow(element) ) {\n              if( module.is.input() ) {\n                data.value = $module.val();\n              }\n              else if( module.is.form() ) {\n\n              }\n              else {\n                data.text = $module.text();\n              }\n            }\n            return data;\n          },\n          event: function() {\n            if( $.isWindow(element) || settings.on == 'now' ) {\n              module.debug('API called without element, no events attached');\n              return false;\n            }\n            else if(settings.on == 'auto') {\n              if( $module.is('input') ) {\n                return (element.oninput !== undefined)\n                  ? 'input'\n                  : (element.onpropertychange !== undefined)\n                    ? 'propertychange'\n                    : 'keyup'\n                ;\n              }\n              else if( $module.is('form') ) {\n                return 'submit';\n              }\n              else {\n                return 'click';\n              }\n            }\n            else {\n              return settings.on;\n            }\n          },\n          templatedURL: function(action) {\n            action = action || $module.data(metadata.action) || settings.action || false;\n            url    = $module.data(metadata.url) || settings.url || false;\n            if(url) {\n              module.debug('Using specified url', url);\n              return url;\n            }\n            if(action) {\n              module.debug('Looking up url for action', action, settings.api);\n              if(settings.api[action] === undefined && !module.is.mocked()) {\n                module.error(error.missingAction, settings.action, settings.api);\n                return;\n              }\n              url = settings.api[action];\n            }\n            else if( module.is.form() ) {\n              url = $module.attr('action') || $context.attr('action') || false;\n              module.debug('No url or action specified, defaulting to form action', url);\n            }\n            return url;\n          }\n        },\n\n        abort: function() {\n          var\n            xhr = module.get.xhr()\n          ;\n          if( xhr && xhr.state() !== 'resolved') {\n            module.debug('Cancelling API request');\n            xhr.abort();\n          }\n        },\n\n        // reset state\n        reset: function() {\n          module.remove.error();\n          module.remove.loading();\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                //'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.api.settings = {\n\n  name              : 'API',\n  namespace         : 'api',\n\n  debug             : false,\n  verbose           : false,\n  performance       : true,\n\n  // object containing all templates endpoints\n  api               : {},\n\n  // whether to cache responses\n  cache             : true,\n\n  // whether new requests should abort previous requests\n  interruptRequests : true,\n\n  // event binding\n  on                : 'auto',\n\n  // context for applying state classes\n  stateContext      : false,\n\n  // duration for loading state\n  loadingDuration   : 0,\n\n  // whether to hide errors after a period of time\n  hideError         : 'auto',\n\n  // duration for error state\n  errorDuration     : 2000,\n\n  // whether parameters should be encoded with encodeURIComponent\n  encodeParameters  : true,\n\n  // API action to use\n  action            : false,\n\n  // templated URL to use\n  url               : false,\n\n  // base URL to apply to all endpoints\n  base              : '',\n\n  // data that will\n  urlData           : {},\n\n  // whether to add default data to url data\n  defaultData          : true,\n\n  // whether to serialize closest form\n  serializeForm        : false,\n\n  // how long to wait before request should occur\n  throttle             : 0,\n\n  // whether to throttle first request or only repeated\n  throttleFirstRequest : true,\n\n  // standard ajax settings\n  method            : 'get',\n  data              : {},\n  dataType          : 'json',\n\n  // mock response\n  mockResponse      : false,\n  mockResponseAsync : false,\n\n  // aliases for mock\n  response          : false,\n  responseAsync     : false,\n\n  // callbacks before request\n  beforeSend  : function(settings) { return settings; },\n  beforeXHR   : function(xhr) {},\n  onRequest   : function(promise, xhr) {},\n\n  // after request\n  onResponse  : false, // function(response) { },\n\n  // response was successful, if JSON passed validation\n  onSuccess   : function(response, $module) {},\n\n  // request finished without aborting\n  onComplete  : function(response, $module) {},\n\n  // failed JSON success test\n  onFailure   : function(response, $module) {},\n\n  // server error\n  onError     : function(errorMessage, $module) {},\n\n  // request aborted\n  onAbort     : function(errorMessage, $module) {},\n\n  successTest : false,\n\n  // errors\n  error : {\n    beforeSend        : 'The before send function has aborted the request',\n    error             : 'There was an error with your request',\n    exitConditions    : 'API Request Aborted. Exit conditions met',\n    JSONParse         : 'JSON could not be parsed during error handling',\n    legacyParameters  : 'You are using legacy API success callback names',\n    method            : 'The method you called is not defined',\n    missingAction     : 'API action used but no url was defined',\n    missingSerialize  : 'jquery-serialize-object is required to add form data to an existing data object',\n    missingURL        : 'No URL specified for api event',\n    noReturnedValue   : 'The beforeSend callback must return a settings object, beforeSend ignored.',\n    noStorage         : 'Caching responses locally requires session storage',\n    parseError        : 'There was an error parsing your request',\n    requiredParameter : 'Missing a required URL parameter: ',\n    statusMessage     : 'Server gave an error: ',\n    timeout           : 'Your request timed out'\n  },\n\n  regExp  : {\n    required : /\\{\\$*[A-z0-9]+\\}/g,\n    optional : /\\{\\/\\$*[A-z0-9]+\\}/g,\n  },\n\n  className: {\n    loading : 'loading',\n    error   : 'error'\n  },\n\n  selector: {\n    disabled : '.disabled',\n    form      : 'form'\n  },\n\n  metadata: {\n    action  : 'action',\n    url     : 'url'\n  }\n};\n\n\n\n})( jQuery, window, document );\n","/*!\n * # Semantic UI - Form Validation\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.form = function(parameters) {\n  var\n    $allModules      = $(this),\n    moduleSelector   = $allModules.selector || '',\n\n    time             = new Date().getTime(),\n    performance      = [],\n\n    query            = arguments[0],\n    legacyParameters = arguments[1],\n    methodInvoked    = (typeof query == 'string'),\n    queryArguments   = [].slice.call(arguments, 1),\n    returnedValue\n  ;\n  $allModules\n    .each(function() {\n      var\n        $module     = $(this),\n        element     = this,\n\n        formErrors  = [],\n        keyHeldDown = false,\n\n        // set at run-time\n        $field,\n        $group,\n        $message,\n        $prompt,\n        $submit,\n        $clear,\n        $reset,\n\n        settings,\n        validation,\n\n        metadata,\n        selector,\n        className,\n        regExp,\n        error,\n\n        namespace,\n        moduleNamespace,\n        eventNamespace,\n\n        instance,\n        module\n      ;\n\n      module      = {\n\n        initialize: function() {\n\n          // settings grabbed at run time\n          module.get.settings();\n          if(methodInvoked) {\n            if(instance === undefined) {\n              module.instantiate();\n            }\n            module.invoke(query);\n          }\n          else {\n            if(instance !== undefined) {\n              instance.invoke('destroy');\n            }\n            module.verbose('Initializing form validation', $module, settings);\n            module.bindEvents();\n            module.set.defaults();\n            module.instantiate();\n          }\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous module', instance);\n          module.removeEvents();\n          $module\n            .removeData(moduleNamespace)\n          ;\n        },\n\n        refresh: function() {\n          module.verbose('Refreshing selector cache');\n          $field      = $module.find(selector.field);\n          $group      = $module.find(selector.group);\n          $message    = $module.find(selector.message);\n          $prompt     = $module.find(selector.prompt);\n\n          $submit     = $module.find(selector.submit);\n          $clear      = $module.find(selector.clear);\n          $reset      = $module.find(selector.reset);\n        },\n\n        submit: function() {\n          module.verbose('Submitting form', $module);\n          $module\n            .submit()\n          ;\n        },\n\n        attachEvents: function(selector, action) {\n          action = action || 'submit';\n          $(selector)\n            .on('click' + eventNamespace, function(event) {\n              module[action]();\n              event.preventDefault();\n            })\n          ;\n        },\n\n        bindEvents: function() {\n          module.verbose('Attaching form events');\n          $module\n            .on('submit' + eventNamespace, module.validate.form)\n            .on('blur'   + eventNamespace, selector.field, module.event.field.blur)\n            .on('click'  + eventNamespace, selector.submit, module.submit)\n            .on('click'  + eventNamespace, selector.reset, module.reset)\n            .on('click'  + eventNamespace, selector.clear, module.clear)\n          ;\n          if(settings.keyboardShortcuts) {\n            $module\n              .on('keydown' + eventNamespace, selector.field, module.event.field.keydown)\n            ;\n          }\n          $field\n            .each(function() {\n              var\n                $input     = $(this),\n                type       = $input.prop('type'),\n                inputEvent = module.get.changeEvent(type, $input)\n              ;\n              $(this)\n                .on(inputEvent + eventNamespace, module.event.field.change)\n              ;\n            })\n          ;\n        },\n\n        clear: function() {\n          $field\n            .each(function () {\n              var\n                $field       = $(this),\n                $element     = $field.parent(),\n                $fieldGroup  = $field.closest($group),\n                $prompt      = $fieldGroup.find(selector.prompt),\n                defaultValue = $field.data(metadata.defaultValue) || '',\n                isCheckbox   = $element.is(selector.uiCheckbox),\n                isDropdown   = $element.is(selector.uiDropdown),\n                isErrored    = $fieldGroup.hasClass(className.error)\n              ;\n              if(isErrored) {\n                module.verbose('Resetting error on field', $fieldGroup);\n                $fieldGroup.removeClass(className.error);\n                $prompt.remove();\n              }\n              if(isDropdown) {\n                module.verbose('Resetting dropdown value', $element, defaultValue);\n                $element.dropdown('clear');\n              }\n              else if(isCheckbox) {\n                $field.prop('checked', false);\n              }\n              else {\n                module.verbose('Resetting field value', $field, defaultValue);\n                $field.val('');\n              }\n            })\n          ;\n        },\n\n        reset: function() {\n          $field\n            .each(function () {\n              var\n                $field       = $(this),\n                $element     = $field.parent(),\n                $fieldGroup  = $field.closest($group),\n                $prompt      = $fieldGroup.find(selector.prompt),\n                defaultValue = $field.data(metadata.defaultValue),\n                isCheckbox   = $element.is(selector.uiCheckbox),\n                isDropdown   = $element.is(selector.uiDropdown),\n                isErrored    = $fieldGroup.hasClass(className.error)\n              ;\n              if(defaultValue === undefined) {\n                return;\n              }\n              if(isErrored) {\n                module.verbose('Resetting error on field', $fieldGroup);\n                $fieldGroup.removeClass(className.error);\n                $prompt.remove();\n              }\n              if(isDropdown) {\n                module.verbose('Resetting dropdown value', $element, defaultValue);\n                $element.dropdown('restore defaults');\n              }\n              else if(isCheckbox) {\n                module.verbose('Resetting checkbox value', $element, defaultValue);\n                $field.prop('checked', defaultValue);\n              }\n              else {\n                module.verbose('Resetting field value', $field, defaultValue);\n                $field.val(defaultValue);\n              }\n            })\n          ;\n        },\n\n        determine: {\n          isValid: function() {\n            var\n              allValid = true\n            ;\n            $.each(validation, function(fieldName, field) {\n              if( !( module.validate.field(field, fieldName, true) ) ) {\n                allValid = false;\n              }\n            });\n            return allValid;\n          }\n        },\n\n        is: {\n          bracketedRule: function(rule) {\n            return (rule.type && rule.type.match(settings.regExp.bracket));\n          },\n          shorthandFields: function(fields) {\n            var\n              fieldKeys = Object.keys(fields),\n              firstRule = fields[fieldKeys[0]]\n            ;\n            return module.is.shorthandRules(firstRule);\n          },\n          // duck type rule test\n          shorthandRules: function(rules) {\n            return (typeof rules == 'string' || $.isArray(rules));\n          },\n          empty: function($field) {\n            if(!$field || $field.length === 0) {\n              return true;\n            }\n            else if($field.is('input[type=\"checkbox\"]')) {\n              return !$field.is(':checked');\n            }\n            else {\n              return module.is.blank($field);\n            }\n          },\n          blank: function($field) {\n            return $.trim($field.val()) === '';\n          },\n          valid: function(field) {\n            var\n              allValid = true\n            ;\n            if(field) {\n              module.verbose('Checking if field is valid', field);\n              return module.validate.field(validation[field], field, false);\n            }\n            else {\n              module.verbose('Checking if form is valid');\n              $.each(validation, function(fieldName, field) {\n                if( !module.is.valid(fieldName) ) {\n                  allValid = false;\n                }\n              });\n              return allValid;\n            }\n          }\n        },\n\n        removeEvents: function() {\n          $module\n            .off(eventNamespace)\n          ;\n          $field\n            .off(eventNamespace)\n          ;\n          $submit\n            .off(eventNamespace)\n          ;\n          $field\n            .off(eventNamespace)\n          ;\n        },\n\n        event: {\n          field: {\n            keydown: function(event) {\n              var\n                $field       = $(this),\n                key          = event.which,\n                isInput      = $field.is(selector.input),\n                isCheckbox   = $field.is(selector.checkbox),\n                isInDropdown = ($field.closest(selector.uiDropdown).length > 0),\n                keyCode      = {\n                  enter  : 13,\n                  escape : 27\n                }\n              ;\n              if( key == keyCode.escape) {\n                module.verbose('Escape key pressed blurring field');\n                $field\n                  .blur()\n                ;\n              }\n              if(!event.ctrlKey && key == keyCode.enter && isInput && !isInDropdown && !isCheckbox) {\n                if(!keyHeldDown) {\n                  $field\n                    .one('keyup' + eventNamespace, module.event.field.keyup)\n                  ;\n                  module.submit();\n                  module.debug('Enter pressed on input submitting form');\n                }\n                keyHeldDown = true;\n              }\n            },\n            keyup: function() {\n              keyHeldDown = false;\n            },\n            blur: function(event) {\n              var\n                $field          = $(this),\n                $fieldGroup     = $field.closest($group),\n                validationRules = module.get.validation($field)\n              ;\n              if( $fieldGroup.hasClass(className.error) ) {\n                module.debug('Revalidating field', $field, validationRules);\n                if(validationRules) {\n                  module.validate.field( validationRules );\n                }\n              }\n              else if(settings.on == 'blur') {\n                if(validationRules) {\n                  module.validate.field( validationRules );\n                }\n              }\n            },\n            change: function(event) {\n              var\n                $field      = $(this),\n                $fieldGroup = $field.closest($group),\n                validationRules = module.get.validation($field)\n              ;\n              if(validationRules && (settings.on == 'change' || ( $fieldGroup.hasClass(className.error) && settings.revalidate) )) {\n                clearTimeout(module.timer);\n                module.timer = setTimeout(function() {\n                  module.debug('Revalidating field', $field,  module.get.validation($field));\n                  module.validate.field( validationRules );\n                }, settings.delay);\n              }\n            }\n          }\n\n        },\n\n        get: {\n          ancillaryValue: function(rule) {\n            if(!rule.type || (!rule.value && !module.is.bracketedRule(rule))) {\n              return false;\n            }\n            return (rule.value !== undefined)\n              ? rule.value\n              : rule.type.match(settings.regExp.bracket)[1] + ''\n            ;\n          },\n          ruleName: function(rule) {\n            if( module.is.bracketedRule(rule) ) {\n              return rule.type.replace(rule.type.match(settings.regExp.bracket)[0], '');\n            }\n            return rule.type;\n          },\n          changeEvent: function(type, $input) {\n            if(type == 'checkbox' || type == 'radio' || type == 'hidden' || $input.is('select')) {\n              return 'change';\n            }\n            else {\n              return module.get.inputEvent();\n            }\n          },\n          inputEvent: function() {\n            return (document.createElement('input').oninput !== undefined)\n              ? 'input'\n              : (document.createElement('input').onpropertychange !== undefined)\n                ? 'propertychange'\n                : 'keyup'\n            ;\n          },\n          fieldsFromShorthand: function(fields) {\n            var\n              fullFields = {}\n            ;\n            $.each(fields, function(name, rules) {\n              if(typeof rules == 'string') {\n                rules = [rules];\n              }\n              fullFields[name] = {\n                rules: []\n              };\n              $.each(rules, function(index, rule) {\n                fullFields[name].rules.push({ type: rule });\n              });\n            });\n            return fullFields;\n          },\n          prompt: function(rule, field) {\n            var\n              ruleName      = module.get.ruleName(rule),\n              ancillary     = module.get.ancillaryValue(rule),\n              $field        = module.get.field(field.identifier),\n              value         = $field.val(),\n              prompt        = $.isFunction(rule.prompt)\n                ? rule.prompt(value)\n                : rule.prompt || settings.prompt[ruleName] || settings.text.unspecifiedRule,\n              requiresValue = (prompt.search('{value}') !== -1),\n              requiresName  = (prompt.search('{name}') !== -1),\n              $label,\n              name\n            ;\n            if(requiresValue) {\n              prompt = prompt.replace('{value}', $field.val());\n            }\n            if(requiresName) {\n              $label = $field.closest(selector.group).find('label').eq(0);\n              name = ($label.length == 1)\n                ? $label.text()\n                : $field.prop('placeholder') || settings.text.unspecifiedField\n              ;\n              prompt = prompt.replace('{name}', name);\n            }\n            prompt = prompt.replace('{identifier}', field.identifier);\n            prompt = prompt.replace('{ruleValue}', ancillary);\n            if(!rule.prompt) {\n              module.verbose('Using default validation prompt for type', prompt, ruleName);\n            }\n            return prompt;\n          },\n          settings: function() {\n            if($.isPlainObject(parameters)) {\n              var\n                keys     = Object.keys(parameters),\n                isLegacySettings = (keys.length > 0)\n                  ? (parameters[keys[0]].identifier !== undefined && parameters[keys[0]].rules !== undefined)\n                  : false,\n                ruleKeys\n              ;\n              if(isLegacySettings) {\n                // 1.x (ducktyped)\n                settings   = $.extend(true, {}, $.fn.form.settings, legacyParameters);\n                validation = $.extend({}, $.fn.form.settings.defaults, parameters);\n                module.error(settings.error.oldSyntax, element);\n                module.verbose('Extending settings from legacy parameters', validation, settings);\n              }\n              else {\n                // 2.x\n                if(parameters.fields && module.is.shorthandFields(parameters.fields)) {\n                  parameters.fields = module.get.fieldsFromShorthand(parameters.fields);\n                }\n                settings   = $.extend(true, {}, $.fn.form.settings, parameters);\n                validation = $.extend({}, $.fn.form.settings.defaults, settings.fields);\n                module.verbose('Extending settings', validation, settings);\n              }\n            }\n            else {\n              settings   = $.fn.form.settings;\n              validation = $.fn.form.settings.defaults;\n              module.verbose('Using default form validation', validation, settings);\n            }\n\n            // shorthand\n            namespace       = settings.namespace;\n            metadata        = settings.metadata;\n            selector        = settings.selector;\n            className       = settings.className;\n            regExp          = settings.regExp;\n            error           = settings.error;\n            moduleNamespace = 'module-' + namespace;\n            eventNamespace  = '.' + namespace;\n\n            // grab instance\n            instance = $module.data(moduleNamespace);\n\n            // refresh selector cache\n            module.refresh();\n          },\n          field: function(identifier) {\n            module.verbose('Finding field with identifier', identifier);\n            identifier = module.escape.string(identifier);\n            if($field.filter('#' + identifier).length > 0 ) {\n              return $field.filter('#' + identifier);\n            }\n            else if( $field.filter('[name=\"' + identifier +'\"]').length > 0 ) {\n              return $field.filter('[name=\"' + identifier +'\"]');\n            }\n            else if( $field.filter('[name=\"' + identifier +'[]\"]').length > 0 ) {\n              return $field.filter('[name=\"' + identifier +'[]\"]');\n            }\n            else if( $field.filter('[data-' + metadata.validate + '=\"'+ identifier +'\"]').length > 0 ) {\n              return $field.filter('[data-' + metadata.validate + '=\"'+ identifier +'\"]');\n            }\n            return $('<input/>');\n          },\n          fields: function(fields) {\n            var\n              $fields = $()\n            ;\n            $.each(fields, function(index, name) {\n              $fields = $fields.add( module.get.field(name) );\n            });\n            return $fields;\n          },\n          validation: function($field) {\n            var\n              fieldValidation,\n              identifier\n            ;\n            if(!validation) {\n              return false;\n            }\n            $.each(validation, function(fieldName, field) {\n              identifier = field.identifier || fieldName;\n              if( module.get.field(identifier)[0] == $field[0] ) {\n                field.identifier = identifier;\n                fieldValidation = field;\n              }\n            });\n            return fieldValidation || false;\n          },\n          value: function (field) {\n            var\n              fields = [],\n              results\n            ;\n            fields.push(field);\n            results = module.get.values.call(element, fields);\n            return results[field];\n          },\n          values: function (fields) {\n            var\n              $fields = $.isArray(fields)\n                ? module.get.fields(fields)\n                : $field,\n              values = {}\n            ;\n            $fields.each(function(index, field) {\n              var\n                $field     = $(field),\n                type       = $field.prop('type'),\n                name       = $field.prop('name'),\n                value      = $field.val(),\n                isCheckbox = $field.is(selector.checkbox),\n                isRadio    = $field.is(selector.radio),\n                isMultiple = (name.indexOf('[]') !== -1),\n                isChecked  = (isCheckbox)\n                  ? $field.is(':checked')\n                  : false\n              ;\n              if(name) {\n                if(isMultiple) {\n                  name = name.replace('[]', '');\n                  if(!values[name]) {\n                    values[name] = [];\n                  }\n                  if(isCheckbox) {\n                    if(isChecked) {\n                      values[name].push(value || true);\n                    }\n                    else {\n                      values[name].push(false);\n                    }\n                  }\n                  else {\n                    values[name].push(value);\n                  }\n                }\n                else {\n                  if(isRadio) {\n                    if(values[name] === undefined || values[name] == false) {\n                      values[name] = (isChecked)\n                        ? value || true\n                        : false\n                      ;\n                    }\n                  }\n                  else if(isCheckbox) {\n                    if(isChecked) {\n                      values[name] = value || true;\n                    }\n                    else {\n                      values[name] = false;\n                    }\n                  }\n                  else {\n                    values[name] = value;\n                  }\n                }\n              }\n            });\n            return values;\n          }\n        },\n\n        has: {\n\n          field: function(identifier) {\n            module.verbose('Checking for existence of a field with identifier', identifier);\n            identifier = module.escape.string(identifier);\n            if(typeof identifier !== 'string') {\n              module.error(error.identifier, identifier);\n            }\n            if($field.filter('#' + identifier).length > 0 ) {\n              return true;\n            }\n            else if( $field.filter('[name=\"' + identifier +'\"]').length > 0 ) {\n              return true;\n            }\n            else if( $field.filter('[data-' + metadata.validate + '=\"'+ identifier +'\"]').length > 0 ) {\n              return true;\n            }\n            return false;\n          }\n\n        },\n\n        escape: {\n          string: function(text) {\n            text =  String(text);\n            return text.replace(regExp.escape, '\\\\$&');\n          }\n        },\n\n        add: {\n          // alias\n          rule: function(name, rules) {\n            module.add.field(name, rules);\n          },\n          field: function(name, rules) {\n            var\n              newValidation = {}\n            ;\n            if(module.is.shorthandRules(rules)) {\n              rules = $.isArray(rules)\n                ? rules\n                : [rules]\n              ;\n              newValidation[name] = {\n                rules: []\n              };\n              $.each(rules, function(index, rule) {\n                newValidation[name].rules.push({ type: rule });\n              });\n            }\n            else {\n              newValidation[name] = rules;\n            }\n            validation = $.extend({}, validation, newValidation);\n            module.debug('Adding rules', newValidation, validation);\n          },\n          fields: function(fields) {\n            var\n              newValidation\n            ;\n            if(fields && module.is.shorthandFields(fields)) {\n              newValidation = module.get.fieldsFromShorthand(fields);\n            }\n            else {\n              newValidation = fields;\n            }\n            validation = $.extend({}, validation, newValidation);\n          },\n          prompt: function(identifier, errors) {\n            var\n              $field       = module.get.field(identifier),\n              $fieldGroup  = $field.closest($group),\n              $prompt      = $fieldGroup.children(selector.prompt),\n              promptExists = ($prompt.length !== 0)\n            ;\n            errors = (typeof errors == 'string')\n              ? [errors]\n              : errors\n            ;\n            module.verbose('Adding field error state', identifier);\n            $fieldGroup\n              .addClass(className.error)\n            ;\n            if(settings.inline) {\n              if(!promptExists) {\n                $prompt = settings.templates.prompt(errors);\n                $prompt\n                  .appendTo($fieldGroup)\n                ;\n              }\n              $prompt\n                .html(errors[0])\n              ;\n              if(!promptExists) {\n                if(settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n                  module.verbose('Displaying error with css transition', settings.transition);\n                  $prompt.transition(settings.transition + ' in', settings.duration);\n                }\n                else {\n                  module.verbose('Displaying error with fallback javascript animation');\n                  $prompt\n                    .fadeIn(settings.duration)\n                  ;\n                }\n              }\n              else {\n                module.verbose('Inline errors are disabled, no inline error added', identifier);\n              }\n            }\n          },\n          errors: function(errors) {\n            module.debug('Adding form error messages', errors);\n            module.set.error();\n            $message\n              .html( settings.templates.error(errors) )\n            ;\n          }\n        },\n\n        remove: {\n          rule: function(field, rule) {\n            var\n              rules = $.isArray(rule)\n                ? rule\n                : [rule]\n            ;\n            if(rule == undefined) {\n              module.debug('Removed all rules');\n              validation[field].rules = [];\n              return;\n            }\n            if(validation[field] == undefined || !$.isArray(validation[field].rules)) {\n              return;\n            }\n            $.each(validation[field].rules, function(index, rule) {\n              if(rules.indexOf(rule.type) !== -1) {\n                module.debug('Removed rule', rule.type);\n                validation[field].rules.splice(index, 1);\n              }\n            });\n          },\n          field: function(field) {\n            var\n              fields = $.isArray(field)\n                ? field\n                : [field]\n            ;\n            $.each(fields, function(index, field) {\n              module.remove.rule(field);\n            });\n          },\n          // alias\n          rules: function(field, rules) {\n            if($.isArray(field)) {\n              $.each(fields, function(index, field) {\n                module.remove.rule(field, rules);\n              });\n            }\n            else {\n              module.remove.rule(field, rules);\n            }\n          },\n          fields: function(fields) {\n            module.remove.field(fields);\n          },\n          prompt: function(identifier) {\n            var\n              $field      = module.get.field(identifier),\n              $fieldGroup = $field.closest($group),\n              $prompt     = $fieldGroup.children(selector.prompt)\n            ;\n            $fieldGroup\n              .removeClass(className.error)\n            ;\n            if(settings.inline && $prompt.is(':visible')) {\n              module.verbose('Removing prompt for field', identifier);\n              if(settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n                $prompt.transition(settings.transition + ' out', settings.duration, function() {\n                  $prompt.remove();\n                });\n              }\n              else {\n                $prompt\n                  .fadeOut(settings.duration, function(){\n                    $prompt.remove();\n                  })\n                ;\n              }\n            }\n          }\n        },\n\n        set: {\n          success: function() {\n            $module\n              .removeClass(className.error)\n              .addClass(className.success)\n            ;\n          },\n          defaults: function () {\n            $field\n              .each(function () {\n                var\n                  $field     = $(this),\n                  isCheckbox = ($field.filter(selector.checkbox).length > 0),\n                  value      = (isCheckbox)\n                    ? $field.is(':checked')\n                    : $field.val()\n                ;\n                $field.data(metadata.defaultValue, value);\n              })\n            ;\n          },\n          error: function() {\n            $module\n              .removeClass(className.success)\n              .addClass(className.error)\n            ;\n          },\n          value: function (field, value) {\n            var\n              fields = {}\n            ;\n            fields[field] = value;\n            return module.set.values.call(element, fields);\n          },\n          values: function (fields) {\n            if($.isEmptyObject(fields)) {\n              return;\n            }\n            $.each(fields, function(key, value) {\n              var\n                $field      = module.get.field(key),\n                $element    = $field.parent(),\n                isMultiple  = $.isArray(value),\n                isCheckbox  = $element.is(selector.uiCheckbox),\n                isDropdown  = $element.is(selector.uiDropdown),\n                isRadio     = ($field.is(selector.radio) && isCheckbox),\n                fieldExists = ($field.length > 0),\n                $multipleField\n              ;\n              if(fieldExists) {\n                if(isMultiple && isCheckbox) {\n                  module.verbose('Selecting multiple', value, $field);\n                  $element.checkbox('uncheck');\n                  $.each(value, function(index, value) {\n                    $multipleField = $field.filter('[value=\"' + value + '\"]');\n                    $element       = $multipleField.parent();\n                    if($multipleField.length > 0) {\n                      $element.checkbox('check');\n                    }\n                  });\n                }\n                else if(isRadio) {\n                  module.verbose('Selecting radio value', value, $field);\n                  $field.filter('[value=\"' + value + '\"]')\n                    .parent(selector.uiCheckbox)\n                      .checkbox('check')\n                  ;\n                }\n                else if(isCheckbox) {\n                  module.verbose('Setting checkbox value', value, $element);\n                  if(value === true) {\n                    $element.checkbox('check');\n                  }\n                  else {\n                    $element.checkbox('uncheck');\n                  }\n                }\n                else if(isDropdown) {\n                  module.verbose('Setting dropdown value', value, $element);\n                  $element.dropdown('set selected', value);\n                }\n                else {\n                  module.verbose('Setting field value', value, $field);\n                  $field.val(value);\n                }\n              }\n            });\n          }\n        },\n\n        validate: {\n\n          form: function(event, ignoreCallbacks) {\n            var\n              values = module.get.values(),\n              apiRequest\n            ;\n\n            // input keydown event will fire submit repeatedly by browser default\n            if(keyHeldDown) {\n              return false;\n            }\n\n            // reset errors\n            formErrors = [];\n            if( module.determine.isValid() ) {\n              module.debug('Form has no validation errors, submitting');\n              module.set.success();\n              if(ignoreCallbacks !== true) {\n                return settings.onSuccess.call(element, event, values);\n              }\n            }\n            else {\n              module.debug('Form has errors');\n              module.set.error();\n              if(!settings.inline) {\n                module.add.errors(formErrors);\n              }\n              // prevent ajax submit\n              if($module.data('moduleApi') !== undefined) {\n                event.stopImmediatePropagation();\n              }\n              if(ignoreCallbacks !== true) {\n                return settings.onFailure.call(element, formErrors, values);\n              }\n            }\n          },\n\n          // takes a validation object and returns whether field passes validation\n          field: function(field, fieldName, showErrors) {\n            showErrors = (showErrors !== undefined)\n              ? showErrors\n              : true\n            ;\n            if(typeof field == 'string') {\n              module.verbose('Validating field', field);\n              fieldName = field;\n              field     = validation[field];\n            }\n            var\n              identifier    = field.identifier || fieldName,\n              $field        = module.get.field(identifier),\n              $dependsField = (field.depends)\n                ? module.get.field(field.depends)\n                : false,\n              fieldValid  = true,\n              fieldErrors = []\n            ;\n            if(!field.identifier) {\n              module.debug('Using field name as identifier', identifier);\n              field.identifier = identifier;\n            }\n            if($field.prop('disabled')) {\n              module.debug('Field is disabled. Skipping', identifier);\n              fieldValid = true;\n            }\n            else if(field.optional && module.is.blank($field)){\n              module.debug('Field is optional and blank. Skipping', identifier);\n              fieldValid = true;\n            }\n            else if(field.depends && module.is.empty($dependsField)) {\n              module.debug('Field depends on another value that is not present or empty. Skipping', $dependsField);\n              fieldValid = true;\n            }\n            else if(field.rules !== undefined) {\n              $.each(field.rules, function(index, rule) {\n                if( module.has.field(identifier) && !( module.validate.rule(field, rule) ) ) {\n                  module.debug('Field is invalid', identifier, rule.type);\n                  fieldErrors.push(module.get.prompt(rule, field));\n                  fieldValid = false;\n                }\n              });\n            }\n            if(fieldValid) {\n              if(showErrors) {\n                module.remove.prompt(identifier, fieldErrors);\n                settings.onValid.call($field);\n              }\n            }\n            else {\n              if(showErrors) {\n                formErrors = formErrors.concat(fieldErrors);\n                module.add.prompt(identifier, fieldErrors);\n                settings.onInvalid.call($field, fieldErrors);\n              }\n              return false;\n            }\n            return true;\n          },\n\n          // takes validation rule and returns whether field passes rule\n          rule: function(field, rule) {\n            var\n              $field       = module.get.field(field.identifier),\n              type         = rule.type,\n              value        = $field.val(),\n              isValid      = true,\n              ancillary    = module.get.ancillaryValue(rule),\n              ruleName     = module.get.ruleName(rule),\n              ruleFunction = settings.rules[ruleName]\n            ;\n            if( !$.isFunction(ruleFunction) ) {\n              module.error(error.noRule, ruleName);\n              return;\n            }\n            // cast to string avoiding encoding special values\n            value = (value === undefined || value === '' || value === null)\n              ? ''\n              : $.trim(value + '')\n            ;\n            return ruleFunction.call($field, value, ancillary);\n          }\n        },\n\n        setting: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            settings[name] = value;\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                return false;\n              }\n            });\n          }\n          if( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n      module.initialize();\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.form.settings = {\n\n  name              : 'Form',\n  namespace         : 'form',\n\n  debug             : false,\n  verbose           : false,\n  performance       : true,\n\n  fields            : false,\n\n  keyboardShortcuts : true,\n  on                : 'submit',\n  inline            : false,\n\n  delay             : 200,\n  revalidate        : true,\n\n  transition        : 'scale',\n  duration          : 200,\n\n  onValid           : function() {},\n  onInvalid         : function() {},\n  onSuccess         : function() { return true; },\n  onFailure         : function() { return false; },\n\n  metadata : {\n    defaultValue : 'default',\n    validate     : 'validate'\n  },\n\n  regExp: {\n    htmlID  : /^[a-zA-Z][\\w:.-]*$/g,\n    bracket : /\\[(.*)\\]/i,\n    decimal : /^\\d+\\.?\\d*$/,\n    email   : /^[a-z0-9!#$%&'*+\\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,\n    escape  : /[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g,\n    flags   : /^\\/(.*)\\/(.*)?/,\n    integer : /^\\-?\\d+$/,\n    number  : /^\\-?\\d*(\\.\\d+)?$/,\n    url     : /(https?:\\/\\/(?:www\\.|(?!www))[^\\s\\.]+\\.[^\\s]{2,}|www\\.[^\\s]+\\.[^\\s]{2,})/i\n  },\n\n  text: {\n    unspecifiedRule  : 'Please enter a valid value',\n    unspecifiedField : 'This field'\n  },\n\n  prompt: {\n    empty                : '{name} must have a value',\n    checked              : '{name} must be checked',\n    email                : '{name} must be a valid e-mail',\n    url                  : '{name} must be a valid url',\n    regExp               : '{name} is not formatted correctly',\n    integer              : '{name} must be an integer',\n    decimal              : '{name} must be a decimal number',\n    number               : '{name} must be set to a number',\n    is                   : '{name} must be \"{ruleValue}\"',\n    isExactly            : '{name} must be exactly \"{ruleValue}\"',\n    not                  : '{name} cannot be set to \"{ruleValue}\"',\n    notExactly           : '{name} cannot be set to exactly \"{ruleValue}\"',\n    contain              : '{name} must contain \"{ruleValue}\"',\n    containExactly       : '{name} must contain exactly \"{ruleValue}\"',\n    doesntContain        : '{name} cannot contain  \"{ruleValue}\"',\n    doesntContainExactly : '{name} cannot contain exactly \"{ruleValue}\"',\n    minLength            : '{name} must be at least {ruleValue} characters',\n    length               : '{name} must be at least {ruleValue} characters',\n    exactLength          : '{name} must be exactly {ruleValue} characters',\n    maxLength            : '{name} cannot be longer than {ruleValue} characters',\n    match                : '{name} must match {ruleValue} field',\n    different            : '{name} must have a different value than {ruleValue} field',\n    creditCard           : '{name} must be a valid credit card number',\n    minCount             : '{name} must have at least {ruleValue} choices',\n    exactCount           : '{name} must have exactly {ruleValue} choices',\n    maxCount             : '{name} must have {ruleValue} or less choices'\n  },\n\n  selector : {\n    checkbox   : 'input[type=\"checkbox\"], input[type=\"radio\"]',\n    clear      : '.clear',\n    field      : 'input, textarea, select',\n    group      : '.field',\n    input      : 'input',\n    message    : '.error.message',\n    prompt     : '.prompt.label',\n    radio      : 'input[type=\"radio\"]',\n    reset      : '.reset:not([type=\"reset\"])',\n    submit     : '.submit:not([type=\"submit\"])',\n    uiCheckbox : '.ui.checkbox',\n    uiDropdown : '.ui.dropdown'\n  },\n\n  className : {\n    error   : 'error',\n    label   : 'ui prompt label',\n    pressed : 'down',\n    success : 'success'\n  },\n\n  error: {\n    identifier : 'You must specify a string identifier for each field',\n    method     : 'The method you called is not defined.',\n    noRule     : 'There is no rule matching the one you specified',\n    oldSyntax  : 'Starting in 2.0 forms now only take a single settings object. Validation settings converted to new syntax automatically.'\n  },\n\n  templates: {\n\n    // template that produces error message\n    error: function(errors) {\n      var\n        html = '<ul class=\"list\">'\n      ;\n      $.each(errors, function(index, value) {\n        html += '<li>' + value + '</li>';\n      });\n      html += '</ul>';\n      return $(html);\n    },\n\n    // template that produces label\n    prompt: function(errors) {\n      return $('<div/>')\n        .addClass('ui basic red pointing prompt label')\n        .html(errors[0])\n      ;\n    }\n  },\n\n  rules: {\n\n    // is not empty or blank string\n    empty: function(value) {\n      return !(value === undefined || '' === value || $.isArray(value) && value.length === 0);\n    },\n\n    // checkbox checked\n    checked: function() {\n      return ($(this).filter(':checked').length > 0);\n    },\n\n    // is most likely an email\n    email: function(value){\n      return $.fn.form.settings.regExp.email.test(value);\n    },\n\n    // value is most likely url\n    url: function(value) {\n      return $.fn.form.settings.regExp.url.test(value);\n    },\n\n    // matches specified regExp\n    regExp: function(value, regExp) {\n      if(regExp instanceof RegExp) {\n        return value.match(regExp);\n      }\n      var\n        regExpParts = regExp.match($.fn.form.settings.regExp.flags),\n        flags\n      ;\n      // regular expression specified as /baz/gi (flags)\n      if(regExpParts) {\n        regExp = (regExpParts.length >= 2)\n          ? regExpParts[1]\n          : regExp\n        ;\n        flags = (regExpParts.length >= 3)\n          ? regExpParts[2]\n          : ''\n        ;\n      }\n      return value.match( new RegExp(regExp, flags) );\n    },\n\n    // is valid integer or matches range\n    integer: function(value, range) {\n      var\n        intRegExp = $.fn.form.settings.regExp.integer,\n        min,\n        max,\n        parts\n      ;\n      if( !range || ['', '..'].indexOf(range) !== -1) {\n        // do nothing\n      }\n      else if(range.indexOf('..') == -1) {\n        if(intRegExp.test(range)) {\n          min = max = range - 0;\n        }\n      }\n      else {\n        parts = range.split('..', 2);\n        if(intRegExp.test(parts[0])) {\n          min = parts[0] - 0;\n        }\n        if(intRegExp.test(parts[1])) {\n          max = parts[1] - 0;\n        }\n      }\n      return (\n        intRegExp.test(value) &&\n        (min === undefined || value >= min) &&\n        (max === undefined || value <= max)\n      );\n    },\n\n    // is valid number (with decimal)\n    decimal: function(value) {\n      return $.fn.form.settings.regExp.decimal.test(value);\n    },\n\n    // is valid number\n    number: function(value) {\n      return $.fn.form.settings.regExp.number.test(value);\n    },\n\n    // is value (case insensitive)\n    is: function(value, text) {\n      text = (typeof text == 'string')\n        ? text.toLowerCase()\n        : text\n      ;\n      value = (typeof value == 'string')\n        ? value.toLowerCase()\n        : value\n      ;\n      return (value == text);\n    },\n\n    // is value\n    isExactly: function(value, text) {\n      return (value == text);\n    },\n\n    // value is not another value (case insensitive)\n    not: function(value, notValue) {\n      value = (typeof value == 'string')\n        ? value.toLowerCase()\n        : value\n      ;\n      notValue = (typeof notValue == 'string')\n        ? notValue.toLowerCase()\n        : notValue\n      ;\n      return (value != notValue);\n    },\n\n    // value is not another value (case sensitive)\n    notExactly: function(value, notValue) {\n      return (value != notValue);\n    },\n\n    // value contains text (insensitive)\n    contains: function(value, text) {\n      // escape regex characters\n      text = text.replace($.fn.form.settings.regExp.escape, \"\\\\$&\");\n      return (value.search( new RegExp(text, 'i') ) !== -1);\n    },\n\n    // value contains text (case sensitive)\n    containsExactly: function(value, text) {\n      // escape regex characters\n      text = text.replace($.fn.form.settings.regExp.escape, \"\\\\$&\");\n      return (value.search( new RegExp(text) ) !== -1);\n    },\n\n    // value contains text (insensitive)\n    doesntContain: function(value, text) {\n      // escape regex characters\n      text = text.replace($.fn.form.settings.regExp.escape, \"\\\\$&\");\n      return (value.search( new RegExp(text, 'i') ) === -1);\n    },\n\n    // value contains text (case sensitive)\n    doesntContainExactly: function(value, text) {\n      // escape regex characters\n      text = text.replace($.fn.form.settings.regExp.escape, \"\\\\$&\");\n      return (value.search( new RegExp(text) ) === -1);\n    },\n\n    // is at least string length\n    minLength: function(value, requiredLength) {\n      return (value !== undefined)\n        ? (value.length >= requiredLength)\n        : false\n      ;\n    },\n\n    // see rls notes for 2.0.6 (this is a duplicate of minLength)\n    length: function(value, requiredLength) {\n      return (value !== undefined)\n        ? (value.length >= requiredLength)\n        : false\n      ;\n    },\n\n    // is exactly length\n    exactLength: function(value, requiredLength) {\n      return (value !== undefined)\n        ? (value.length == requiredLength)\n        : false\n      ;\n    },\n\n    // is less than length\n    maxLength: function(value, maxLength) {\n      return (value !== undefined)\n        ? (value.length <= maxLength)\n        : false\n      ;\n    },\n\n    // matches another field\n    match: function(value, identifier) {\n      var\n        $form = $(this),\n        matchingValue\n      ;\n      if( $('[data-validate=\"'+ identifier +'\"]').length > 0 ) {\n        matchingValue = $('[data-validate=\"'+ identifier +'\"]').val();\n      }\n      else if($('#' + identifier).length > 0) {\n        matchingValue = $('#' + identifier).val();\n      }\n      else if($('[name=\"' + identifier +'\"]').length > 0) {\n        matchingValue = $('[name=\"' + identifier + '\"]').val();\n      }\n      else if( $('[name=\"' + identifier +'[]\"]').length > 0 ) {\n        matchingValue = $('[name=\"' + identifier +'[]\"]');\n      }\n      return (matchingValue !== undefined)\n        ? ( value.toString() == matchingValue.toString() )\n        : false\n      ;\n    },\n\n    // different than another field\n    different: function(value, identifier) {\n      // use either id or name of field\n      var\n        $form = $(this),\n        matchingValue\n      ;\n      if( $('[data-validate=\"'+ identifier +'\"]').length > 0 ) {\n        matchingValue = $('[data-validate=\"'+ identifier +'\"]').val();\n      }\n      else if($('#' + identifier).length > 0) {\n        matchingValue = $('#' + identifier).val();\n      }\n      else if($('[name=\"' + identifier +'\"]').length > 0) {\n        matchingValue = $('[name=\"' + identifier + '\"]').val();\n      }\n      else if( $('[name=\"' + identifier +'[]\"]').length > 0 ) {\n        matchingValue = $('[name=\"' + identifier +'[]\"]');\n      }\n      return (matchingValue !== undefined)\n        ? ( value.toString() !== matchingValue.toString() )\n        : false\n      ;\n    },\n\n    creditCard: function(cardNumber, cardTypes) {\n      var\n        cards = {\n          visa: {\n            pattern : /^4/,\n            length  : [16]\n          },\n          amex: {\n            pattern : /^3[47]/,\n            length  : [15]\n          },\n          mastercard: {\n            pattern : /^5[1-5]/,\n            length  : [16]\n          },\n          discover: {\n            pattern : /^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,\n            length  : [16]\n          },\n          unionPay: {\n            pattern : /^(62|88)/,\n            length  : [16, 17, 18, 19]\n          },\n          jcb: {\n            pattern : /^35(2[89]|[3-8][0-9])/,\n            length  : [16]\n          },\n          maestro: {\n            pattern : /^(5018|5020|5038|6304|6759|676[1-3])/,\n            length  : [12, 13, 14, 15, 16, 17, 18, 19]\n          },\n          dinersClub: {\n            pattern : /^(30[0-5]|^36)/,\n            length  : [14]\n          },\n          laser: {\n            pattern : /^(6304|670[69]|6771)/,\n            length  : [16, 17, 18, 19]\n          },\n          visaElectron: {\n            pattern : /^(4026|417500|4508|4844|491(3|7))/,\n            length  : [16]\n          }\n        },\n        valid         = {},\n        validCard     = false,\n        requiredTypes = (typeof cardTypes == 'string')\n          ? cardTypes.split(',')\n          : false,\n        unionPay,\n        validation\n      ;\n\n      if(typeof cardNumber !== 'string' || cardNumber.length === 0) {\n        return;\n      }\n\n      // allow dashes in card\n      cardNumber = cardNumber.replace(/[\\-]/g, '');\n\n      // verify card types\n      if(requiredTypes) {\n        $.each(requiredTypes, function(index, type){\n          // verify each card type\n          validation = cards[type];\n          if(validation) {\n            valid = {\n              length  : ($.inArray(cardNumber.length, validation.length) !== -1),\n              pattern : (cardNumber.search(validation.pattern) !== -1)\n            };\n            if(valid.length && valid.pattern) {\n              validCard = true;\n            }\n          }\n        });\n\n        if(!validCard) {\n          return false;\n        }\n      }\n\n      // skip luhn for UnionPay\n      unionPay = {\n        number  : ($.inArray(cardNumber.length, cards.unionPay.length) !== -1),\n        pattern : (cardNumber.search(cards.unionPay.pattern) !== -1)\n      };\n      if(unionPay.number && unionPay.pattern) {\n        return true;\n      }\n\n      // verify luhn, adapted from  <https://gist.github.com/2134376>\n      var\n        length        = cardNumber.length,\n        multiple      = 0,\n        producedValue = [\n          [0, 1, 2, 3, 4, 5, 6, 7, 8, 9],\n          [0, 2, 4, 6, 8, 1, 3, 5, 7, 9]\n        ],\n        sum           = 0\n      ;\n      while (length--) {\n        sum += producedValue[multiple][parseInt(cardNumber.charAt(length), 10)];\n        multiple ^= 1;\n      }\n      return (sum % 10 === 0 && sum > 0);\n    },\n\n    minCount: function(value, minCount) {\n      if(minCount == 0) {\n        return true;\n      }\n      if(minCount == 1) {\n        return (value !== '');\n      }\n      return (value.split(',').length >= minCount);\n    },\n\n    exactCount: function(value, exactCount) {\n      if(exactCount == 0) {\n        return (value === '');\n      }\n      if(exactCount == 1) {\n        return (value !== '' && value.search(',') === -1);\n      }\n      return (value.split(',').length == exactCount);\n    },\n\n    maxCount: function(value, maxCount) {\n      if(maxCount == 0) {\n        return false;\n      }\n      if(maxCount == 1) {\n        return (value.search(',') === -1);\n      }\n      return (value.split(',').length <= maxCount);\n    }\n  }\n\n};\n\n})( jQuery, window, document );\n","/*!\n * # Semantic UI - Visibility\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.visibility = function(parameters) {\n  var\n    $allModules    = $(this),\n    moduleSelector = $allModules.selector || '',\n\n    time           = new Date().getTime(),\n    performance    = [],\n\n    query          = arguments[0],\n    methodInvoked  = (typeof query == 'string'),\n    queryArguments = [].slice.call(arguments, 1),\n    returnedValue,\n\n    moduleCount    = $allModules.length,\n    loadedCount    = 0\n  ;\n\n  $allModules\n    .each(function() {\n      var\n        settings        = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.visibility.settings, parameters)\n          : $.extend({}, $.fn.visibility.settings),\n\n        className       = settings.className,\n        namespace       = settings.namespace,\n        error           = settings.error,\n        metadata        = settings.metadata,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n\n        $window         = $(window),\n\n        $module         = $(this),\n        $context        = $(settings.context),\n\n        $placeholder,\n\n        selector        = $module.selector || '',\n        instance        = $module.data(moduleNamespace),\n\n        requestAnimationFrame = window.requestAnimationFrame\n          || window.mozRequestAnimationFrame\n          || window.webkitRequestAnimationFrame\n          || window.msRequestAnimationFrame\n          || function(callback) { setTimeout(callback, 0); },\n\n        element         = this,\n        disabled        = false,\n\n        contextObserver,\n        observer,\n        module\n      ;\n\n      module = {\n\n        initialize: function() {\n          module.debug('Initializing', settings);\n\n          module.setup.cache();\n\n          if( module.should.trackChanges() ) {\n\n            if(settings.type == 'image') {\n              module.setup.image();\n            }\n            if(settings.type == 'fixed') {\n              module.setup.fixed();\n            }\n\n            if(settings.observeChanges) {\n              module.observeChanges();\n            }\n            module.bind.events();\n          }\n\n          module.save.position();\n          if( !module.is.visible() ) {\n            module.error(error.visible, $module);\n          }\n\n          if(settings.initialCheck) {\n            module.checkVisibility();\n          }\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.debug('Storing instance', module);\n          $module\n            .data(moduleNamespace, module)\n          ;\n          instance = module;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous module');\n          if(observer) {\n            observer.disconnect();\n          }\n          if(contextObserver) {\n            contextObserver.disconnect();\n          }\n          $window\n            .off('load'   + eventNamespace, module.event.load)\n            .off('resize' + eventNamespace, module.event.resize)\n          ;\n          $context\n            .off('scroll'       + eventNamespace, module.event.scroll)\n            .off('scrollchange' + eventNamespace, module.event.scrollchange)\n          ;\n          if(settings.type == 'fixed') {\n            module.resetFixed();\n            module.remove.placeholder();\n          }\n          $module\n            .off(eventNamespace)\n            .removeData(moduleNamespace)\n          ;\n        },\n\n        observeChanges: function() {\n          if('MutationObserver' in window) {\n            contextObserver = new MutationObserver(module.event.contextChanged);\n            observer        = new MutationObserver(module.event.changed);\n            contextObserver.observe(document, {\n              childList : true,\n              subtree   : true\n            });\n            observer.observe(element, {\n              childList : true,\n              subtree   : true\n            });\n            module.debug('Setting up mutation observer', observer);\n          }\n        },\n\n        bind: {\n          events: function() {\n            module.verbose('Binding visibility events to scroll and resize');\n            if(settings.refreshOnLoad) {\n              $window\n                .on('load'   + eventNamespace, module.event.load)\n              ;\n            }\n            $window\n              .on('resize' + eventNamespace, module.event.resize)\n            ;\n            // pub/sub pattern\n            $context\n              .off('scroll'      + eventNamespace)\n              .on('scroll'       + eventNamespace, module.event.scroll)\n              .on('scrollchange' + eventNamespace, module.event.scrollchange)\n            ;\n          }\n        },\n\n        event: {\n          changed: function(mutations) {\n            module.verbose('DOM tree modified, updating visibility calculations');\n            module.timer = setTimeout(function() {\n              module.verbose('DOM tree modified, updating sticky menu');\n              module.refresh();\n            }, 100);\n          },\n          contextChanged: function(mutations) {\n            [].forEach.call(mutations, function(mutation) {\n              if(mutation.removedNodes) {\n                [].forEach.call(mutation.removedNodes, function(node) {\n                  if(node == element || $(node).find(element).length > 0) {\n                    module.debug('Element removed from DOM, tearing down events');\n                    module.destroy();\n                  }\n                });\n              }\n            });\n          },\n          resize: function() {\n            module.debug('Window resized');\n            if(settings.refreshOnResize) {\n              requestAnimationFrame(module.refresh);\n            }\n          },\n          load: function() {\n            module.debug('Page finished loading');\n            requestAnimationFrame(module.refresh);\n          },\n          // publishes scrollchange event on one scroll\n          scroll: function() {\n            if(settings.throttle) {\n              clearTimeout(module.timer);\n              module.timer = setTimeout(function() {\n                $context.triggerHandler('scrollchange' + eventNamespace, [ $context.scrollTop() ]);\n              }, settings.throttle);\n            }\n            else {\n              requestAnimationFrame(function() {\n                $context.triggerHandler('scrollchange' + eventNamespace, [ $context.scrollTop() ]);\n              });\n            }\n          },\n          // subscribes to scrollchange\n          scrollchange: function(event, scrollPosition) {\n            module.checkVisibility(scrollPosition);\n          },\n        },\n\n        precache: function(images, callback) {\n          if (!(images instanceof Array)) {\n            images = [images];\n          }\n          var\n            imagesLength  = images.length,\n            loadedCounter = 0,\n            cache         = [],\n            cacheImage    = document.createElement('img'),\n            handleLoad    = function() {\n              loadedCounter++;\n              if (loadedCounter >= images.length) {\n                if ($.isFunction(callback)) {\n                  callback();\n                }\n              }\n            }\n          ;\n          while (imagesLength--) {\n            cacheImage         = document.createElement('img');\n            cacheImage.onload  = handleLoad;\n            cacheImage.onerror = handleLoad;\n            cacheImage.src     = images[imagesLength];\n            cache.push(cacheImage);\n          }\n        },\n\n        enableCallbacks: function() {\n          module.debug('Allowing callbacks to occur');\n          disabled = false;\n        },\n\n        disableCallbacks: function() {\n          module.debug('Disabling all callbacks temporarily');\n          disabled = true;\n        },\n\n        should: {\n          trackChanges: function() {\n            if(methodInvoked) {\n              module.debug('One time query, no need to bind events');\n              return false;\n            }\n            module.debug('Callbacks being attached');\n            return true;\n          }\n        },\n\n        setup: {\n          cache: function() {\n            module.cache = {\n              occurred : {},\n              screen   : {},\n              element  : {},\n            };\n          },\n          image: function() {\n            var\n              src = $module.data(metadata.src)\n            ;\n            if(src) {\n              module.verbose('Lazy loading image', src);\n              settings.once           = true;\n              settings.observeChanges = false;\n\n              // show when top visible\n              settings.onOnScreen = function() {\n                module.debug('Image on screen', element);\n                module.precache(src, function() {\n                  module.set.image(src, function() {\n                    loadedCount++;\n                    if(loadedCount == moduleCount) {\n                      settings.onAllLoaded.call(this);\n                    }\n                    settings.onLoad.call(this);\n                  });\n                });\n              };\n            }\n          },\n          fixed: function() {\n            module.debug('Setting up fixed');\n            settings.once           = false;\n            settings.observeChanges = false;\n            settings.initialCheck   = true;\n            settings.refreshOnLoad  = true;\n            if(!parameters.transition) {\n              settings.transition = false;\n            }\n            module.create.placeholder();\n            module.debug('Added placeholder', $placeholder);\n            settings.onTopPassed = function() {\n              module.debug('Element passed, adding fixed position', $module);\n              module.show.placeholder();\n              module.set.fixed();\n              if(settings.transition) {\n                if($.fn.transition !== undefined) {\n                  $module.transition(settings.transition, settings.duration);\n                }\n              }\n            };\n            settings.onTopPassedReverse = function() {\n              module.debug('Element returned to position, removing fixed', $module);\n              module.hide.placeholder();\n              module.remove.fixed();\n            };\n          }\n        },\n\n        create: {\n          placeholder: function() {\n            module.verbose('Creating fixed position placeholder');\n            $placeholder = $module\n              .clone(false)\n              .css('display', 'none')\n              .addClass(className.placeholder)\n              .insertAfter($module)\n            ;\n          }\n        },\n\n        show: {\n          placeholder: function() {\n            module.verbose('Showing placeholder');\n            $placeholder\n              .css('display', 'block')\n              .css('visibility', 'hidden')\n            ;\n          }\n        },\n        hide: {\n          placeholder: function() {\n            module.verbose('Hiding placeholder');\n            $placeholder\n              .css('display', 'none')\n              .css('visibility', '')\n            ;\n          }\n        },\n\n        set: {\n          fixed: function() {\n            module.verbose('Setting element to fixed position');\n            $module\n              .addClass(className.fixed)\n              .css({\n                position : 'fixed',\n                top      : settings.offset + 'px',\n                left     : 'auto',\n                zIndex   : settings.zIndex\n              })\n            ;\n            settings.onFixed.call(element);\n          },\n          image: function(src, callback) {\n            $module\n              .attr('src', src)\n            ;\n            if(settings.transition) {\n              if( $.fn.transition !== undefined) {\n                if($module.hasClass(className.visible)) {\n                  module.debug('Transition already occurred on this image, skipping animation');\n                  return;\n                }\n                $module.transition(settings.transition, settings.duration, callback);\n              }\n              else {\n                $module.fadeIn(settings.duration, callback);\n              }\n            }\n            else {\n              $module.show();\n            }\n          }\n        },\n\n        is: {\n          onScreen: function() {\n            var\n              calculations   = module.get.elementCalculations()\n            ;\n            return calculations.onScreen;\n          },\n          offScreen: function() {\n            var\n              calculations   = module.get.elementCalculations()\n            ;\n            return calculations.offScreen;\n          },\n          visible: function() {\n            if(module.cache && module.cache.element) {\n              return !(module.cache.element.width === 0 && module.cache.element.offset.top === 0);\n            }\n            return false;\n          },\n          verticallyScrollableContext: function() {\n            var\n              overflowY = ($context.get(0) !== window)\n                ? $context.css('overflow-y')\n                : false\n            ;\n            return (overflowY == 'auto' || overflowY == 'scroll');\n          },\n          horizontallyScrollableContext: function() {\n            var\n              overflowX = ($context.get(0) !== window)\n                ? $context.css('overflow-x')\n                : false\n            ;\n            return (overflowX == 'auto' || overflowX == 'scroll');\n          }\n        },\n\n        refresh: function() {\n          module.debug('Refreshing constants (width/height)');\n          if(settings.type == 'fixed') {\n            module.resetFixed();\n          }\n          module.reset();\n          module.save.position();\n          if(settings.checkOnRefresh) {\n            module.checkVisibility();\n          }\n          settings.onRefresh.call(element);\n        },\n\n        resetFixed: function () {\n          module.remove.fixed();\n          module.remove.occurred();\n        },\n\n        reset: function() {\n          module.verbose('Resetting all cached values');\n          if( $.isPlainObject(module.cache) ) {\n            module.cache.screen = {};\n            module.cache.element = {};\n          }\n        },\n\n        checkVisibility: function(scroll) {\n          module.verbose('Checking visibility of element', module.cache.element);\n\n          if( !disabled && module.is.visible() ) {\n\n            // save scroll position\n            module.save.scroll(scroll);\n\n            // update calculations derived from scroll\n            module.save.calculations();\n\n            // percentage\n            module.passed();\n\n            // reverse (must be first)\n            module.passingReverse();\n            module.topVisibleReverse();\n            module.bottomVisibleReverse();\n            module.topPassedReverse();\n            module.bottomPassedReverse();\n\n            // one time\n            module.onScreen();\n            module.offScreen();\n            module.passing();\n            module.topVisible();\n            module.bottomVisible();\n            module.topPassed();\n            module.bottomPassed();\n\n            // on update callback\n            if(settings.onUpdate) {\n              settings.onUpdate.call(element, module.get.elementCalculations());\n            }\n          }\n        },\n\n        passed: function(amount, newCallback) {\n          var\n            calculations   = module.get.elementCalculations(),\n            amountInPixels\n          ;\n          // assign callback\n          if(amount && newCallback) {\n            settings.onPassed[amount] = newCallback;\n          }\n          else if(amount !== undefined) {\n            return (module.get.pixelsPassed(amount) > calculations.pixelsPassed);\n          }\n          else if(calculations.passing) {\n            $.each(settings.onPassed, function(amount, callback) {\n              if(calculations.bottomVisible || calculations.pixelsPassed > module.get.pixelsPassed(amount)) {\n                module.execute(callback, amount);\n              }\n              else if(!settings.once) {\n                module.remove.occurred(callback);\n              }\n            });\n          }\n        },\n\n        onScreen: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onOnScreen,\n            callbackName = 'onScreen'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for onScreen', newCallback);\n            settings.onOnScreen = newCallback;\n          }\n          if(calculations.onScreen) {\n            module.execute(callback, callbackName);\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback !== undefined) {\n            return calculations.onOnScreen;\n          }\n        },\n\n        offScreen: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onOffScreen,\n            callbackName = 'offScreen'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for offScreen', newCallback);\n            settings.onOffScreen = newCallback;\n          }\n          if(calculations.offScreen) {\n            module.execute(callback, callbackName);\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback !== undefined) {\n            return calculations.onOffScreen;\n          }\n        },\n\n        passing: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onPassing,\n            callbackName = 'passing'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for passing', newCallback);\n            settings.onPassing = newCallback;\n          }\n          if(calculations.passing) {\n            module.execute(callback, callbackName);\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback !== undefined) {\n            return calculations.passing;\n          }\n        },\n\n\n        topVisible: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onTopVisible,\n            callbackName = 'topVisible'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for top visible', newCallback);\n            settings.onTopVisible = newCallback;\n          }\n          if(calculations.topVisible) {\n            module.execute(callback, callbackName);\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback === undefined) {\n            return calculations.topVisible;\n          }\n        },\n\n        bottomVisible: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onBottomVisible,\n            callbackName = 'bottomVisible'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for bottom visible', newCallback);\n            settings.onBottomVisible = newCallback;\n          }\n          if(calculations.bottomVisible) {\n            module.execute(callback, callbackName);\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback === undefined) {\n            return calculations.bottomVisible;\n          }\n        },\n\n        topPassed: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onTopPassed,\n            callbackName = 'topPassed'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for top passed', newCallback);\n            settings.onTopPassed = newCallback;\n          }\n          if(calculations.topPassed) {\n            module.execute(callback, callbackName);\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback === undefined) {\n            return calculations.topPassed;\n          }\n        },\n\n        bottomPassed: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onBottomPassed,\n            callbackName = 'bottomPassed'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for bottom passed', newCallback);\n            settings.onBottomPassed = newCallback;\n          }\n          if(calculations.bottomPassed) {\n            module.execute(callback, callbackName);\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback === undefined) {\n            return calculations.bottomPassed;\n          }\n        },\n\n        passingReverse: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onPassingReverse,\n            callbackName = 'passingReverse'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for passing reverse', newCallback);\n            settings.onPassingReverse = newCallback;\n          }\n          if(!calculations.passing) {\n            if(module.get.occurred('passing')) {\n              module.execute(callback, callbackName);\n            }\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback !== undefined) {\n            return !calculations.passing;\n          }\n        },\n\n\n        topVisibleReverse: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onTopVisibleReverse,\n            callbackName = 'topVisibleReverse'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for top visible reverse', newCallback);\n            settings.onTopVisibleReverse = newCallback;\n          }\n          if(!calculations.topVisible) {\n            if(module.get.occurred('topVisible')) {\n              module.execute(callback, callbackName);\n            }\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback === undefined) {\n            return !calculations.topVisible;\n          }\n        },\n\n        bottomVisibleReverse: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onBottomVisibleReverse,\n            callbackName = 'bottomVisibleReverse'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for bottom visible reverse', newCallback);\n            settings.onBottomVisibleReverse = newCallback;\n          }\n          if(!calculations.bottomVisible) {\n            if(module.get.occurred('bottomVisible')) {\n              module.execute(callback, callbackName);\n            }\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback === undefined) {\n            return !calculations.bottomVisible;\n          }\n        },\n\n        topPassedReverse: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onTopPassedReverse,\n            callbackName = 'topPassedReverse'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for top passed reverse', newCallback);\n            settings.onTopPassedReverse = newCallback;\n          }\n          if(!calculations.topPassed) {\n            if(module.get.occurred('topPassed')) {\n              module.execute(callback, callbackName);\n            }\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback === undefined) {\n            return !calculations.onTopPassed;\n          }\n        },\n\n        bottomPassedReverse: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onBottomPassedReverse,\n            callbackName = 'bottomPassedReverse'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for bottom passed reverse', newCallback);\n            settings.onBottomPassedReverse = newCallback;\n          }\n          if(!calculations.bottomPassed) {\n            if(module.get.occurred('bottomPassed')) {\n              module.execute(callback, callbackName);\n            }\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback === undefined) {\n            return !calculations.bottomPassed;\n          }\n        },\n\n        execute: function(callback, callbackName) {\n          var\n            calculations = module.get.elementCalculations(),\n            screen       = module.get.screenCalculations()\n          ;\n          callback = callback || false;\n          if(callback) {\n            if(settings.continuous) {\n              module.debug('Callback being called continuously', callbackName, calculations);\n              callback.call(element, calculations, screen);\n            }\n            else if(!module.get.occurred(callbackName)) {\n              module.debug('Conditions met', callbackName, calculations);\n              callback.call(element, calculations, screen);\n            }\n          }\n          module.save.occurred(callbackName);\n        },\n\n        remove: {\n          fixed: function() {\n            module.debug('Removing fixed position');\n            $module\n              .removeClass(className.fixed)\n              .css({\n                position : '',\n                top      : '',\n                left     : '',\n                zIndex   : ''\n              })\n            ;\n            settings.onUnfixed.call(element);\n          },\n          placeholder: function() {\n            module.debug('Removing placeholder content');\n            if($placeholder) {\n              $placeholder.remove();\n            }\n          },\n          occurred: function(callback) {\n            if(callback) {\n              var\n                occurred = module.cache.occurred\n              ;\n              if(occurred[callback] !== undefined && occurred[callback] === true) {\n                module.debug('Callback can now be called again', callback);\n                module.cache.occurred[callback] = false;\n              }\n            }\n            else {\n              module.cache.occurred = {};\n            }\n          }\n        },\n\n        save: {\n          calculations: function() {\n            module.verbose('Saving all calculations necessary to determine positioning');\n            module.save.direction();\n            module.save.screenCalculations();\n            module.save.elementCalculations();\n          },\n          occurred: function(callback) {\n            if(callback) {\n              if(module.cache.occurred[callback] === undefined || (module.cache.occurred[callback] !== true)) {\n                module.verbose('Saving callback occurred', callback);\n                module.cache.occurred[callback] = true;\n              }\n            }\n          },\n          scroll: function(scrollPosition) {\n            scrollPosition      = scrollPosition + settings.offset || $context.scrollTop() + settings.offset;\n            module.cache.scroll = scrollPosition;\n          },\n          direction: function() {\n            var\n              scroll     = module.get.scroll(),\n              lastScroll = module.get.lastScroll(),\n              direction\n            ;\n            if(scroll > lastScroll && lastScroll) {\n              direction = 'down';\n            }\n            else if(scroll < lastScroll && lastScroll) {\n              direction = 'up';\n            }\n            else {\n              direction = 'static';\n            }\n            module.cache.direction = direction;\n            return module.cache.direction;\n          },\n          elementPosition: function() {\n            var\n              element = module.cache.element,\n              screen  = module.get.screenSize()\n            ;\n            module.verbose('Saving element position');\n            // (quicker than $.extend)\n            element.fits          = (element.height < screen.height);\n            element.offset        = $module.offset();\n            element.width         = $module.outerWidth();\n            element.height        = $module.outerHeight();\n            // compensate for scroll in context\n            if(module.is.verticallyScrollableContext()) {\n              element.offset.top += $context.scrollTop() - $context.offset().top;\n            }\n            if(module.is.horizontallyScrollableContext()) {\n              element.offset.left += $context.scrollLeft - $context.offset().left;\n            }\n            // store\n            module.cache.element = element;\n            return element;\n          },\n          elementCalculations: function() {\n            var\n              screen     = module.get.screenCalculations(),\n              element    = module.get.elementPosition()\n            ;\n            // offset\n            if(settings.includeMargin) {\n              element.margin        = {};\n              element.margin.top    = parseInt($module.css('margin-top'), 10);\n              element.margin.bottom = parseInt($module.css('margin-bottom'), 10);\n              element.top    = element.offset.top - element.margin.top;\n              element.bottom = element.offset.top + element.height + element.margin.bottom;\n            }\n            else {\n              element.top    = element.offset.top;\n              element.bottom = element.offset.top + element.height;\n            }\n\n            // visibility\n            element.topPassed        = (screen.top >= element.top);\n            element.bottomPassed     = (screen.top >= element.bottom);\n            element.topVisible       = (screen.bottom >= element.top) && !element.topPassed;\n            element.bottomVisible    = (screen.bottom >= element.bottom) && !element.bottomPassed;\n            element.pixelsPassed     = 0;\n            element.percentagePassed = 0;\n\n            // meta calculations\n            element.onScreen  = ((element.topVisible || element.passing) && !element.bottomPassed);\n            element.passing   = (element.topPassed && !element.bottomPassed);\n            element.offScreen = (!element.onScreen);\n\n            // passing calculations\n            if(element.passing) {\n              element.pixelsPassed     = (screen.top - element.top);\n              element.percentagePassed = (screen.top - element.top) / element.height;\n            }\n            module.cache.element = element;\n            module.verbose('Updated element calculations', element);\n            return element;\n          },\n          screenCalculations: function() {\n            var\n              scroll = module.get.scroll()\n            ;\n            module.save.direction();\n            module.cache.screen.top    = scroll;\n            module.cache.screen.bottom = scroll + module.cache.screen.height;\n            return module.cache.screen;\n          },\n          screenSize: function() {\n            module.verbose('Saving window position');\n            module.cache.screen = {\n              height: $context.height()\n            };\n          },\n          position: function() {\n            module.save.screenSize();\n            module.save.elementPosition();\n          }\n        },\n\n        get: {\n          pixelsPassed: function(amount) {\n            var\n              element = module.get.elementCalculations()\n            ;\n            if(amount.search('%') > -1) {\n              return ( element.height * (parseInt(amount, 10) / 100) );\n            }\n            return parseInt(amount, 10);\n          },\n          occurred: function(callback) {\n            return (module.cache.occurred !== undefined)\n              ? module.cache.occurred[callback] || false\n              : false\n            ;\n          },\n          direction: function() {\n            if(module.cache.direction === undefined) {\n              module.save.direction();\n            }\n            return module.cache.direction;\n          },\n          elementPosition: function() {\n            if(module.cache.element === undefined) {\n              module.save.elementPosition();\n            }\n            return module.cache.element;\n          },\n          elementCalculations: function() {\n            if(module.cache.element === undefined) {\n              module.save.elementCalculations();\n            }\n            return module.cache.element;\n          },\n          screenCalculations: function() {\n            if(module.cache.screen === undefined) {\n              module.save.screenCalculations();\n            }\n            return module.cache.screen;\n          },\n          screenSize: function() {\n            if(module.cache.screen === undefined) {\n              module.save.screenSize();\n            }\n            return module.cache.screen;\n          },\n          scroll: function() {\n            if(module.cache.scroll === undefined) {\n              module.save.scroll();\n            }\n            return module.cache.scroll;\n          },\n          lastScroll: function() {\n            if(module.cache.screen === undefined) {\n              module.debug('First scroll event, no last scroll could be found');\n              return false;\n            }\n            return module.cache.screen.top;\n          }\n        },\n\n        setting: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            settings[name] = value;\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        instance.save.scroll();\n        instance.save.calculations();\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.visibility.settings = {\n\n  name                   : 'Visibility',\n  namespace              : 'visibility',\n\n  debug                  : false,\n  verbose                : false,\n  performance            : true,\n\n  // whether to use mutation observers to follow changes\n  observeChanges         : true,\n\n  // check position immediately on init\n  initialCheck           : true,\n\n  // whether to refresh calculations after all page images load\n  refreshOnLoad          : true,\n\n  // whether to refresh calculations after page resize event\n  refreshOnResize        : true,\n\n  // should call callbacks on refresh event (resize, etc)\n  checkOnRefresh         : true,\n\n  // callback should only occur one time\n  once                   : true,\n\n  // callback should fire continuously whe evaluates to true\n  continuous             : false,\n\n  // offset to use with scroll top\n  offset                 : 0,\n\n  // whether to include margin in elements position\n  includeMargin          : false,\n\n  // scroll context for visibility checks\n  context                : window,\n\n  // visibility check delay in ms (defaults to animationFrame)\n  throttle               : false,\n\n  // special visibility type (image, fixed)\n  type                   : false,\n\n  // z-index to use with visibility 'fixed'\n  zIndex                 : '10',\n\n  // image only animation settings\n  transition             : 'fade in',\n  duration               : 1000,\n\n  // array of callbacks for percentage\n  onPassed               : {},\n\n  // standard callbacks\n  onOnScreen             : false,\n  onOffScreen            : false,\n  onPassing              : false,\n  onTopVisible           : false,\n  onBottomVisible        : false,\n  onTopPassed            : false,\n  onBottomPassed         : false,\n\n  // reverse callbacks\n  onPassingReverse       : false,\n  onTopVisibleReverse    : false,\n  onBottomVisibleReverse : false,\n  onTopPassedReverse     : false,\n  onBottomPassedReverse  : false,\n\n  // special callbacks for image\n  onLoad                 : function() {},\n  onAllLoaded            : function() {},\n\n  // special callbacks for fixed position\n  onFixed                : function() {},\n  onUnfixed              : function() {},\n\n  // utility callbacks\n  onUpdate               : false, // disabled by default for performance\n  onRefresh              : function(){},\n\n  metadata : {\n    src: 'src'\n  },\n\n  className: {\n    fixed       : 'fixed',\n    placeholder : 'placeholder',\n    visible     : 'visible'\n  },\n\n  error : {\n    method  : 'The method you called is not defined.',\n    visible : 'Element is hidden, you must call refresh after element becomes visible'\n  }\n\n};\n\n})( jQuery, window, document );\n","/*!\n * # Semantic UI - Site\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n$.site = $.fn.site = function(parameters) {\n  var\n    time           = new Date().getTime(),\n    performance    = [],\n\n    query          = arguments[0],\n    methodInvoked  = (typeof query == 'string'),\n    queryArguments = [].slice.call(arguments, 1),\n\n    settings        = ( $.isPlainObject(parameters) )\n      ? $.extend(true, {}, $.site.settings, parameters)\n      : $.extend({}, $.site.settings),\n\n    namespace       = settings.namespace,\n    error           = settings.error,\n\n    eventNamespace  = '.' + namespace,\n    moduleNamespace = 'module-' + namespace,\n\n    $document       = $(document),\n    $module         = $document,\n    element         = this,\n    instance        = $module.data(moduleNamespace),\n\n    module,\n    returnedValue\n  ;\n  module = {\n\n    initialize: function() {\n      module.instantiate();\n    },\n\n    instantiate: function() {\n      module.verbose('Storing instance of site', module);\n      instance = module;\n      $module\n        .data(moduleNamespace, module)\n      ;\n    },\n\n    normalize: function() {\n      module.fix.console();\n      module.fix.requestAnimationFrame();\n    },\n\n    fix: {\n      console: function() {\n        module.debug('Normalizing window.console');\n        if (console === undefined || console.log === undefined) {\n          module.verbose('Console not available, normalizing events');\n          module.disable.console();\n        }\n        if (typeof console.group == 'undefined' || typeof console.groupEnd == 'undefined' || typeof console.groupCollapsed == 'undefined') {\n          module.verbose('Console group not available, normalizing events');\n          window.console.group = function() {};\n          window.console.groupEnd = function() {};\n          window.console.groupCollapsed = function() {};\n        }\n        if (typeof console.markTimeline == 'undefined') {\n          module.verbose('Mark timeline not available, normalizing events');\n          window.console.markTimeline = function() {};\n        }\n      },\n      consoleClear: function() {\n        module.debug('Disabling programmatic console clearing');\n        window.console.clear = function() {};\n      },\n      requestAnimationFrame: function() {\n        module.debug('Normalizing requestAnimationFrame');\n        if(window.requestAnimationFrame === undefined) {\n          module.debug('RequestAnimationFrame not available, normalizing event');\n          window.requestAnimationFrame = window.requestAnimationFrame\n            || window.mozRequestAnimationFrame\n            || window.webkitRequestAnimationFrame\n            || window.msRequestAnimationFrame\n            || function(callback) { setTimeout(callback, 0); }\n          ;\n        }\n      }\n    },\n\n    moduleExists: function(name) {\n      return ($.fn[name] !== undefined && $.fn[name].settings !== undefined);\n    },\n\n    enabled: {\n      modules: function(modules) {\n        var\n          enabledModules = []\n        ;\n        modules = modules || settings.modules;\n        $.each(modules, function(index, name) {\n          if(module.moduleExists(name)) {\n            enabledModules.push(name);\n          }\n        });\n        return enabledModules;\n      }\n    },\n\n    disabled: {\n      modules: function(modules) {\n        var\n          disabledModules = []\n        ;\n        modules = modules || settings.modules;\n        $.each(modules, function(index, name) {\n          if(!module.moduleExists(name)) {\n            disabledModules.push(name);\n          }\n        });\n        return disabledModules;\n      }\n    },\n\n    change: {\n      setting: function(setting, value, modules, modifyExisting) {\n        modules = (typeof modules === 'string')\n          ? (modules === 'all')\n            ? settings.modules\n            : [modules]\n          : modules || settings.modules\n        ;\n        modifyExisting = (modifyExisting !== undefined)\n          ? modifyExisting\n          : true\n        ;\n        $.each(modules, function(index, name) {\n          var\n            namespace = (module.moduleExists(name))\n              ? $.fn[name].settings.namespace || false\n              : true,\n            $existingModules\n          ;\n          if(module.moduleExists(name)) {\n            module.verbose('Changing default setting', setting, value, name);\n            $.fn[name].settings[setting] = value;\n            if(modifyExisting && namespace) {\n              $existingModules = $(':data(module-' + namespace + ')');\n              if($existingModules.length > 0) {\n                module.verbose('Modifying existing settings', $existingModules);\n                $existingModules[name]('setting', setting, value);\n              }\n            }\n          }\n        });\n      },\n      settings: function(newSettings, modules, modifyExisting) {\n        modules = (typeof modules === 'string')\n          ? [modules]\n          : modules || settings.modules\n        ;\n        modifyExisting = (modifyExisting !== undefined)\n          ? modifyExisting\n          : true\n        ;\n        $.each(modules, function(index, name) {\n          var\n            $existingModules\n          ;\n          if(module.moduleExists(name)) {\n            module.verbose('Changing default setting', newSettings, name);\n            $.extend(true, $.fn[name].settings, newSettings);\n            if(modifyExisting && namespace) {\n              $existingModules = $(':data(module-' + namespace + ')');\n              if($existingModules.length > 0) {\n                module.verbose('Modifying existing settings', $existingModules);\n                $existingModules[name]('setting', newSettings);\n              }\n            }\n          }\n        });\n      }\n    },\n\n    enable: {\n      console: function() {\n        module.console(true);\n      },\n      debug: function(modules, modifyExisting) {\n        modules = modules || settings.modules;\n        module.debug('Enabling debug for modules', modules);\n        module.change.setting('debug', true, modules, modifyExisting);\n      },\n      verbose: function(modules, modifyExisting) {\n        modules = modules || settings.modules;\n        module.debug('Enabling verbose debug for modules', modules);\n        module.change.setting('verbose', true, modules, modifyExisting);\n      }\n    },\n    disable: {\n      console: function() {\n        module.console(false);\n      },\n      debug: function(modules, modifyExisting) {\n        modules = modules || settings.modules;\n        module.debug('Disabling debug for modules', modules);\n        module.change.setting('debug', false, modules, modifyExisting);\n      },\n      verbose: function(modules, modifyExisting) {\n        modules = modules || settings.modules;\n        module.debug('Disabling verbose debug for modules', modules);\n        module.change.setting('verbose', false, modules, modifyExisting);\n      }\n    },\n\n    console: function(enable) {\n      if(enable) {\n        if(instance.cache.console === undefined) {\n          module.error(error.console);\n          return;\n        }\n        module.debug('Restoring console function');\n        window.console = instance.cache.console;\n      }\n      else {\n        module.debug('Disabling console function');\n        instance.cache.console = window.console;\n        window.console = {\n          clear          : function(){},\n          error          : function(){},\n          group          : function(){},\n          groupCollapsed : function(){},\n          groupEnd       : function(){},\n          info           : function(){},\n          log            : function(){},\n          markTimeline   : function(){},\n          warn           : function(){}\n        };\n      }\n    },\n\n    destroy: function() {\n      module.verbose('Destroying previous site for', $module);\n      $module\n        .removeData(moduleNamespace)\n      ;\n    },\n\n    cache: {},\n\n    setting: function(name, value) {\n      if( $.isPlainObject(name) ) {\n        $.extend(true, settings, name);\n      }\n      else if(value !== undefined) {\n        settings[name] = value;\n      }\n      else {\n        return settings[name];\n      }\n    },\n    internal: function(name, value) {\n      if( $.isPlainObject(name) ) {\n        $.extend(true, module, name);\n      }\n      else if(value !== undefined) {\n        module[name] = value;\n      }\n      else {\n        return module[name];\n      }\n    },\n    debug: function() {\n      if(settings.debug) {\n        if(settings.performance) {\n          module.performance.log(arguments);\n        }\n        else {\n          module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n          module.debug.apply(console, arguments);\n        }\n      }\n    },\n    verbose: function() {\n      if(settings.verbose && settings.debug) {\n        if(settings.performance) {\n          module.performance.log(arguments);\n        }\n        else {\n          module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n          module.verbose.apply(console, arguments);\n        }\n      }\n    },\n    error: function() {\n      module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n      module.error.apply(console, arguments);\n    },\n    performance: {\n      log: function(message) {\n        var\n          currentTime,\n          executionTime,\n          previousTime\n        ;\n        if(settings.performance) {\n          currentTime   = new Date().getTime();\n          previousTime  = time || currentTime;\n          executionTime = currentTime - previousTime;\n          time          = currentTime;\n          performance.push({\n            'Element'        : element,\n            'Name'           : message[0],\n            'Arguments'      : [].slice.call(message, 1) || '',\n            'Execution Time' : executionTime\n          });\n        }\n        clearTimeout(module.performance.timer);\n        module.performance.timer = setTimeout(module.performance.display, 500);\n      },\n      display: function() {\n        var\n          title = settings.name + ':',\n          totalTime = 0\n        ;\n        time = false;\n        clearTimeout(module.performance.timer);\n        $.each(performance, function(index, data) {\n          totalTime += data['Execution Time'];\n        });\n        title += ' ' + totalTime + 'ms';\n        if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n          console.groupCollapsed(title);\n          if(console.table) {\n            console.table(performance);\n          }\n          else {\n            $.each(performance, function(index, data) {\n              console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n            });\n          }\n          console.groupEnd();\n        }\n        performance = [];\n      }\n    },\n    invoke: function(query, passedArguments, context) {\n      var\n        object = instance,\n        maxDepth,\n        found,\n        response\n      ;\n      passedArguments = passedArguments || queryArguments;\n      context         = element         || context;\n      if(typeof query == 'string' && object !== undefined) {\n        query    = query.split(/[\\. ]/);\n        maxDepth = query.length - 1;\n        $.each(query, function(depth, value) {\n          var camelCaseValue = (depth != maxDepth)\n            ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n            : query\n          ;\n          if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n            object = object[camelCaseValue];\n          }\n          else if( object[camelCaseValue] !== undefined ) {\n            found = object[camelCaseValue];\n            return false;\n          }\n          else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n            object = object[value];\n          }\n          else if( object[value] !== undefined ) {\n            found = object[value];\n            return false;\n          }\n          else {\n            module.error(error.method, query);\n            return false;\n          }\n        });\n      }\n      if ( $.isFunction( found ) ) {\n        response = found.apply(context, passedArguments);\n      }\n      else if(found !== undefined) {\n        response = found;\n      }\n      if($.isArray(returnedValue)) {\n        returnedValue.push(response);\n      }\n      else if(returnedValue !== undefined) {\n        returnedValue = [returnedValue, response];\n      }\n      else if(response !== undefined) {\n        returnedValue = response;\n      }\n      return found;\n    }\n  };\n\n  if(methodInvoked) {\n    if(instance === undefined) {\n      module.initialize();\n    }\n    module.invoke(query);\n  }\n  else {\n    if(instance !== undefined) {\n      module.destroy();\n    }\n    module.initialize();\n  }\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.site.settings = {\n\n  name        : 'Site',\n  namespace   : 'site',\n\n  error : {\n    console : 'Console cannot be restored, most likely it was overwritten outside of module',\n    method : 'The method you called is not defined.'\n  },\n\n  debug       : false,\n  verbose     : false,\n  performance : true,\n\n  modules: [\n    'accordion',\n    'api',\n    'checkbox',\n    'dimmer',\n    'dropdown',\n    'embed',\n    'form',\n    'modal',\n    'nag',\n    'popup',\n    'rating',\n    'shape',\n    'sidebar',\n    'state',\n    'sticky',\n    'tab',\n    'transition',\n    'visit',\n    'visibility'\n  ],\n\n  siteNamespace   : 'site',\n  namespaceStub   : {\n    cache     : {},\n    config    : {},\n    sections  : {},\n    section   : {},\n    utilities : {}\n  }\n\n};\n\n// allows for selection of elements with data attributes\n$.extend($.expr[ \":\" ], {\n  data: ($.expr.createPseudo)\n    ? $.expr.createPseudo(function(dataName) {\n        return function(elem) {\n          return !!$.data(elem, dataName);\n        };\n      })\n    : function(elem, i, match) {\n      // support: jQuery < 1.8\n      return !!$.data(elem, match[ 3 ]);\n    }\n});\n\n\n})( jQuery, window, document );\n","/*!\n * # Semantic UI - Accordion\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.accordion = function(parameters) {\n  var\n    $allModules     = $(this),\n\n    time            = new Date().getTime(),\n    performance     = [],\n\n    query           = arguments[0],\n    methodInvoked   = (typeof query == 'string'),\n    queryArguments  = [].slice.call(arguments, 1),\n\n    requestAnimationFrame = window.requestAnimationFrame\n      || window.mozRequestAnimationFrame\n      || window.webkitRequestAnimationFrame\n      || window.msRequestAnimationFrame\n      || function(callback) { setTimeout(callback, 0); },\n\n    returnedValue\n  ;\n  $allModules\n    .each(function() {\n      var\n        settings        = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.accordion.settings, parameters)\n          : $.extend({}, $.fn.accordion.settings),\n\n        className       = settings.className,\n        namespace       = settings.namespace,\n        selector        = settings.selector,\n        error           = settings.error,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n        moduleSelector  = $allModules.selector || '',\n\n        $module  = $(this),\n        $title   = $module.find(selector.title),\n        $content = $module.find(selector.content),\n\n        element  = this,\n        instance = $module.data(moduleNamespace),\n        observer,\n        module\n      ;\n\n      module = {\n\n        initialize: function() {\n          module.debug('Initializing', $module);\n          module.bind.events();\n          if(settings.observeChanges) {\n            module.observeChanges();\n          }\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n\n        destroy: function() {\n          module.debug('Destroying previous instance', $module);\n          $module\n            .off(eventNamespace)\n            .removeData(moduleNamespace)\n          ;\n        },\n\n        refresh: function() {\n          $title   = $module.find(selector.title);\n          $content = $module.find(selector.content);\n        },\n\n        observeChanges: function() {\n          if('MutationObserver' in window) {\n            observer = new MutationObserver(function(mutations) {\n              module.debug('DOM tree modified, updating selector cache');\n              module.refresh();\n            });\n            observer.observe(element, {\n              childList : true,\n              subtree   : true\n            });\n            module.debug('Setting up mutation observer', observer);\n          }\n        },\n\n        bind: {\n          events: function() {\n            module.debug('Binding delegated events');\n            $module\n              .on(settings.on + eventNamespace, selector.trigger, module.event.click)\n            ;\n          }\n        },\n\n        event: {\n          click: function() {\n            module.toggle.call(this);\n          }\n        },\n\n        toggle: function(query) {\n          var\n            $activeTitle = (query !== undefined)\n              ? (typeof query === 'number')\n                ? $title.eq(query)\n                : $(query).closest(selector.title)\n              : $(this).closest(selector.title),\n            $activeContent = $activeTitle.next($content),\n            isAnimating = $activeContent.hasClass(className.animating),\n            isActive    = $activeContent.hasClass(className.active),\n            isOpen      = (isActive && !isAnimating),\n            isOpening   = (!isActive && isAnimating)\n          ;\n          module.debug('Toggling visibility of content', $activeTitle);\n          if(isOpen || isOpening) {\n            if(settings.collapsible) {\n              module.close.call($activeTitle);\n            }\n            else {\n              module.debug('Cannot close accordion content collapsing is disabled');\n            }\n          }\n          else {\n            module.open.call($activeTitle);\n          }\n        },\n\n        open: function(query) {\n          var\n            $activeTitle = (query !== undefined)\n              ? (typeof query === 'number')\n                ? $title.eq(query)\n                : $(query).closest(selector.title)\n              : $(this).closest(selector.title),\n            $activeContent = $activeTitle.next($content),\n            isAnimating = $activeContent.hasClass(className.animating),\n            isActive    = $activeContent.hasClass(className.active),\n            isOpen      = (isActive || isAnimating)\n          ;\n          if(isOpen) {\n            module.debug('Accordion already open, skipping', $activeContent);\n            return;\n          }\n          module.debug('Opening accordion content', $activeTitle);\n          settings.onOpening.call($activeContent);\n          settings.onChanging.call($activeContent);\n          if(settings.exclusive) {\n            module.closeOthers.call($activeTitle);\n          }\n          $activeTitle\n            .addClass(className.active)\n          ;\n          $activeContent\n            .stop(true, true)\n            .addClass(className.animating)\n          ;\n          if(settings.animateChildren) {\n            if($.fn.transition !== undefined && $module.transition('is supported')) {\n              $activeContent\n                .children()\n                  .transition({\n                    animation   : 'fade in',\n                    queue       : false,\n                    useFailSafe : true,\n                    debug       : settings.debug,\n                    verbose     : settings.verbose,\n                    duration    : settings.duration\n                  })\n              ;\n            }\n            else {\n              $activeContent\n                .children()\n                  .stop(true, true)\n                  .animate({\n                    opacity: 1\n                  }, settings.duration, module.resetOpacity)\n              ;\n            }\n          }\n          $activeContent\n            .slideDown(settings.duration, settings.easing, function() {\n              $activeContent\n                .removeClass(className.animating)\n                .addClass(className.active)\n              ;\n              module.reset.display.call(this);\n              settings.onOpen.call(this);\n              settings.onChange.call(this);\n            })\n          ;\n        },\n\n        close: function(query) {\n          var\n            $activeTitle = (query !== undefined)\n              ? (typeof query === 'number')\n                ? $title.eq(query)\n                : $(query).closest(selector.title)\n              : $(this).closest(selector.title),\n            $activeContent = $activeTitle.next($content),\n            isAnimating    = $activeContent.hasClass(className.animating),\n            isActive       = $activeContent.hasClass(className.active),\n            isOpening      = (!isActive && isAnimating),\n            isClosing      = (isActive && isAnimating)\n          ;\n          if((isActive || isOpening) && !isClosing) {\n            module.debug('Closing accordion content', $activeContent);\n            settings.onClosing.call($activeContent);\n            settings.onChanging.call($activeContent);\n            $activeTitle\n              .removeClass(className.active)\n            ;\n            $activeContent\n              .stop(true, true)\n              .addClass(className.animating)\n            ;\n            if(settings.animateChildren) {\n              if($.fn.transition !== undefined && $module.transition('is supported')) {\n                $activeContent\n                  .children()\n                    .transition({\n                      animation   : 'fade out',\n                      queue       : false,\n                      useFailSafe : true,\n                      debug       : settings.debug,\n                      verbose     : settings.verbose,\n                      duration    : settings.duration\n                    })\n                ;\n              }\n              else {\n                $activeContent\n                  .children()\n                    .stop(true, true)\n                    .animate({\n                      opacity: 0\n                    }, settings.duration, module.resetOpacity)\n                ;\n              }\n            }\n            $activeContent\n              .slideUp(settings.duration, settings.easing, function() {\n                $activeContent\n                  .removeClass(className.animating)\n                  .removeClass(className.active)\n                ;\n                module.reset.display.call(this);\n                settings.onClose.call(this);\n                settings.onChange.call(this);\n              })\n            ;\n          }\n        },\n\n        closeOthers: function(index) {\n          var\n            $activeTitle = (index !== undefined)\n              ? $title.eq(index)\n              : $(this).closest(selector.title),\n            $parentTitles    = $activeTitle.parents(selector.content).prev(selector.title),\n            $activeAccordion = $activeTitle.closest(selector.accordion),\n            activeSelector   = selector.title + '.' + className.active + ':visible',\n            activeContent    = selector.content + '.' + className.active + ':visible',\n            $openTitles,\n            $nestedTitles,\n            $openContents\n          ;\n          if(settings.closeNested) {\n            $openTitles   = $activeAccordion.find(activeSelector).not($parentTitles);\n            $openContents = $openTitles.next($content);\n          }\n          else {\n            $openTitles   = $activeAccordion.find(activeSelector).not($parentTitles);\n            $nestedTitles = $activeAccordion.find(activeContent).find(activeSelector).not($parentTitles);\n            $openTitles   = $openTitles.not($nestedTitles);\n            $openContents = $openTitles.next($content);\n          }\n          if( ($openTitles.length > 0) ) {\n            module.debug('Exclusive enabled, closing other content', $openTitles);\n            $openTitles\n              .removeClass(className.active)\n            ;\n            $openContents\n              .removeClass(className.animating)\n              .stop(true, true)\n            ;\n            if(settings.animateChildren) {\n              if($.fn.transition !== undefined && $module.transition('is supported')) {\n                $openContents\n                  .children()\n                    .transition({\n                      animation   : 'fade out',\n                      useFailSafe : true,\n                      debug       : settings.debug,\n                      verbose     : settings.verbose,\n                      duration    : settings.duration\n                    })\n                ;\n              }\n              else {\n                $openContents\n                  .children()\n                    .stop(true, true)\n                    .animate({\n                      opacity: 0\n                    }, settings.duration, module.resetOpacity)\n                ;\n              }\n            }\n            $openContents\n              .slideUp(settings.duration , settings.easing, function() {\n                $(this).removeClass(className.active);\n                module.reset.display.call(this);\n              })\n            ;\n          }\n        },\n\n        reset: {\n\n          display: function() {\n            module.verbose('Removing inline display from element', this);\n            $(this).css('display', '');\n            if( $(this).attr('style') === '') {\n              $(this)\n                .attr('style', '')\n                .removeAttr('style')\n              ;\n            }\n          },\n\n          opacity: function() {\n            module.verbose('Removing inline opacity from element', this);\n            $(this).css('opacity', '');\n            if( $(this).attr('style') === '') {\n              $(this)\n                .attr('style', '')\n                .removeAttr('style')\n              ;\n            }\n          },\n\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          module.debug('Changing internal', name, value);\n          if(value !== undefined) {\n            if( $.isPlainObject(name) ) {\n              $.extend(true, module, name);\n            }\n            else {\n              module[name] = value;\n            }\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.accordion.settings = {\n\n  name            : 'Accordion',\n  namespace       : 'accordion',\n\n  silent          : false,\n  debug           : false,\n  verbose         : false,\n  performance     : true,\n\n  on              : 'click', // event on title that opens accordion\n\n  observeChanges  : true,  // whether accordion should automatically refresh on DOM insertion\n\n  exclusive       : true,  // whether a single accordion content panel should be open at once\n  collapsible     : true,  // whether accordion content can be closed\n  closeNested     : false, // whether nested content should be closed when a panel is closed\n  animateChildren : true,  // whether children opacity should be animated\n\n  duration        : 350, // duration of animation\n  easing          : 'easeOutQuad', // easing equation for animation\n\n  onOpening       : function(){}, // callback before open animation\n  onClosing       : function(){}, // callback before closing animation\n  onChanging      : function(){}, // callback before closing or opening animation\n\n  onOpen          : function(){}, // callback after open animation\n  onClose         : function(){}, // callback after closing animation\n  onChange        : function(){}, // callback after closing or opening animation\n\n  error: {\n    method : 'The method you called is not defined'\n  },\n\n  className   : {\n    active    : 'active',\n    animating : 'animating'\n  },\n\n  selector    : {\n    accordion : '.accordion',\n    title     : '.title',\n    trigger   : '.title',\n    content   : '.content'\n  }\n\n};\n\n// Adds easing\n$.extend( $.easing, {\n  easeOutQuad: function (x, t, b, c, d) {\n    return -c *(t/=d)*(t-2) + b;\n  }\n});\n\n})( jQuery, window, document );\n\n","/*!\n * # Semantic UI - Checkbox\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.checkbox = function(parameters) {\n  var\n    $allModules    = $(this),\n    moduleSelector = $allModules.selector || '',\n\n    time           = new Date().getTime(),\n    performance    = [],\n\n    query          = arguments[0],\n    methodInvoked  = (typeof query == 'string'),\n    queryArguments = [].slice.call(arguments, 1),\n    returnedValue\n  ;\n\n  $allModules\n    .each(function() {\n      var\n        settings        = $.extend(true, {}, $.fn.checkbox.settings, parameters),\n\n        className       = settings.className,\n        namespace       = settings.namespace,\n        selector        = settings.selector,\n        error           = settings.error,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n\n        $module         = $(this),\n        $label          = $(this).children(selector.label),\n        $input          = $(this).children(selector.input),\n        input           = $input[0],\n\n        initialLoad     = false,\n        shortcutPressed = false,\n        instance        = $module.data(moduleNamespace),\n\n        observer,\n        element         = this,\n        module\n      ;\n\n      module      = {\n\n        initialize: function() {\n          module.verbose('Initializing checkbox', settings);\n\n          module.create.label();\n          module.bind.events();\n\n          module.set.tabbable();\n          module.hide.input();\n\n          module.observeChanges();\n          module.instantiate();\n          module.setup();\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying module');\n          module.unbind.events();\n          module.show.input();\n          $module.removeData(moduleNamespace);\n        },\n\n        fix: {\n          reference: function() {\n            if( $module.is(selector.input) ) {\n              module.debug('Behavior called on <input> adjusting invoked element');\n              $module = $module.closest(selector.checkbox);\n              module.refresh();\n            }\n          }\n        },\n\n        setup: function() {\n          module.set.initialLoad();\n          if( module.is.indeterminate() ) {\n            module.debug('Initial value is indeterminate');\n            module.indeterminate();\n          }\n          else if( module.is.checked() ) {\n            module.debug('Initial value is checked');\n            module.check();\n          }\n          else {\n            module.debug('Initial value is unchecked');\n            module.uncheck();\n          }\n          module.remove.initialLoad();\n        },\n\n        refresh: function() {\n          $label = $module.children(selector.label);\n          $input = $module.children(selector.input);\n          input  = $input[0];\n        },\n\n        hide: {\n          input: function() {\n            module.verbose('Modifying <input> z-index to be unselectable');\n            $input.addClass(className.hidden);\n          }\n        },\n        show: {\n          input: function() {\n            module.verbose('Modifying <input> z-index to be selectable');\n            $input.removeClass(className.hidden);\n          }\n        },\n\n        observeChanges: function() {\n          if('MutationObserver' in window) {\n            observer = new MutationObserver(function(mutations) {\n              module.debug('DOM tree modified, updating selector cache');\n              module.refresh();\n            });\n            observer.observe(element, {\n              childList : true,\n              subtree   : true\n            });\n            module.debug('Setting up mutation observer', observer);\n          }\n        },\n\n        attachEvents: function(selector, event) {\n          var\n            $element = $(selector)\n          ;\n          event = $.isFunction(module[event])\n            ? module[event]\n            : module.toggle\n          ;\n          if($element.length > 0) {\n            module.debug('Attaching checkbox events to element', selector, event);\n            $element\n              .on('click' + eventNamespace, event)\n            ;\n          }\n          else {\n            module.error(error.notFound);\n          }\n        },\n\n        event: {\n          click: function(event) {\n            var\n              $target = $(event.target)\n            ;\n            if( $target.is(selector.input) ) {\n              module.verbose('Using default check action on initialized checkbox');\n              return;\n            }\n            if( $target.is(selector.link) ) {\n              module.debug('Clicking link inside checkbox, skipping toggle');\n              return;\n            }\n            module.toggle();\n            $input.focus();\n            event.preventDefault();\n          },\n          keydown: function(event) {\n            var\n              key     = event.which,\n              keyCode = {\n                enter  : 13,\n                space  : 32,\n                escape : 27\n              }\n            ;\n            if(key == keyCode.escape) {\n              module.verbose('Escape key pressed blurring field');\n              $input.blur();\n              shortcutPressed = true;\n            }\n            else if(!event.ctrlKey && ( key == keyCode.space || key == keyCode.enter) ) {\n              module.verbose('Enter/space key pressed, toggling checkbox');\n              module.toggle();\n              shortcutPressed = true;\n            }\n            else {\n              shortcutPressed = false;\n            }\n          },\n          keyup: function(event) {\n            if(shortcutPressed) {\n              event.preventDefault();\n            }\n          }\n        },\n\n        check: function() {\n          if( !module.should.allowCheck() ) {\n            return;\n          }\n          module.debug('Checking checkbox', $input);\n          module.set.checked();\n          if( !module.should.ignoreCallbacks() ) {\n            settings.onChecked.call(input);\n            settings.onChange.call(input);\n          }\n        },\n\n        uncheck: function() {\n          if( !module.should.allowUncheck() ) {\n            return;\n          }\n          module.debug('Unchecking checkbox');\n          module.set.unchecked();\n          if( !module.should.ignoreCallbacks() ) {\n            settings.onUnchecked.call(input);\n            settings.onChange.call(input);\n          }\n        },\n\n        indeterminate: function() {\n          if( module.should.allowIndeterminate() ) {\n            module.debug('Checkbox is already indeterminate');\n            return;\n          }\n          module.debug('Making checkbox indeterminate');\n          module.set.indeterminate();\n          if( !module.should.ignoreCallbacks() ) {\n            settings.onIndeterminate.call(input);\n            settings.onChange.call(input);\n          }\n        },\n\n        determinate: function() {\n          if( module.should.allowDeterminate() ) {\n            module.debug('Checkbox is already determinate');\n            return;\n          }\n          module.debug('Making checkbox determinate');\n          module.set.determinate();\n          if( !module.should.ignoreCallbacks() ) {\n            settings.onDeterminate.call(input);\n            settings.onChange.call(input);\n          }\n        },\n\n        enable: function() {\n          if( module.is.enabled() ) {\n            module.debug('Checkbox is already enabled');\n            return;\n          }\n          module.debug('Enabling checkbox');\n          module.set.enabled();\n          settings.onEnable.call(input);\n          // preserve legacy callbacks\n          settings.onEnabled.call(input);\n        },\n\n        disable: function() {\n          if( module.is.disabled() ) {\n            module.debug('Checkbox is already disabled');\n            return;\n          }\n          module.debug('Disabling checkbox');\n          module.set.disabled();\n          settings.onDisable.call(input);\n          // preserve legacy callbacks\n          settings.onDisabled.call(input);\n        },\n\n        get: {\n          radios: function() {\n            var\n              name = module.get.name()\n            ;\n            return $('input[name=\"' + name + '\"]').closest(selector.checkbox);\n          },\n          otherRadios: function() {\n            return module.get.radios().not($module);\n          },\n          name: function() {\n            return $input.attr('name');\n          }\n        },\n\n        is: {\n          initialLoad: function() {\n            return initialLoad;\n          },\n          radio: function() {\n            return ($input.hasClass(className.radio) || $input.attr('type') == 'radio');\n          },\n          indeterminate: function() {\n            return $input.prop('indeterminate') !== undefined && $input.prop('indeterminate');\n          },\n          checked: function() {\n            return $input.prop('checked') !== undefined && $input.prop('checked');\n          },\n          disabled: function() {\n            return $input.prop('disabled') !== undefined && $input.prop('disabled');\n          },\n          enabled: function() {\n            return !module.is.disabled();\n          },\n          determinate: function() {\n            return !module.is.indeterminate();\n          },\n          unchecked: function() {\n            return !module.is.checked();\n          }\n        },\n\n        should: {\n          allowCheck: function() {\n            if(module.is.determinate() && module.is.checked() && !module.should.forceCallbacks() ) {\n              module.debug('Should not allow check, checkbox is already checked');\n              return false;\n            }\n            if(settings.beforeChecked.apply(input) === false) {\n              module.debug('Should not allow check, beforeChecked cancelled');\n              return false;\n            }\n            return true;\n          },\n          allowUncheck: function() {\n            if(module.is.determinate() && module.is.unchecked() && !module.should.forceCallbacks() ) {\n              module.debug('Should not allow uncheck, checkbox is already unchecked');\n              return false;\n            }\n            if(settings.beforeUnchecked.apply(input) === false) {\n              module.debug('Should not allow uncheck, beforeUnchecked cancelled');\n              return false;\n            }\n            return true;\n          },\n          allowIndeterminate: function() {\n            if(module.is.indeterminate() && !module.should.forceCallbacks() ) {\n              module.debug('Should not allow indeterminate, checkbox is already indeterminate');\n              return false;\n            }\n            if(settings.beforeIndeterminate.apply(input) === false) {\n              module.debug('Should not allow indeterminate, beforeIndeterminate cancelled');\n              return false;\n            }\n            return true;\n          },\n          allowDeterminate: function() {\n            if(module.is.determinate() && !module.should.forceCallbacks() ) {\n              module.debug('Should not allow determinate, checkbox is already determinate');\n              return false;\n            }\n            if(settings.beforeDeterminate.apply(input) === false) {\n              module.debug('Should not allow determinate, beforeDeterminate cancelled');\n              return false;\n            }\n            return true;\n          },\n          forceCallbacks: function() {\n            return (module.is.initialLoad() && settings.fireOnInit);\n          },\n          ignoreCallbacks: function() {\n            return (initialLoad && !settings.fireOnInit);\n          }\n        },\n\n        can: {\n          change: function() {\n            return !( $module.hasClass(className.disabled) || $module.hasClass(className.readOnly) || $input.prop('disabled') || $input.prop('readonly') );\n          },\n          uncheck: function() {\n            return (typeof settings.uncheckable === 'boolean')\n              ? settings.uncheckable\n              : !module.is.radio()\n            ;\n          }\n        },\n\n        set: {\n          initialLoad: function() {\n            initialLoad = true;\n          },\n          checked: function() {\n            module.verbose('Setting class to checked');\n            $module\n              .removeClass(className.indeterminate)\n              .addClass(className.checked)\n            ;\n            if( module.is.radio() ) {\n              module.uncheckOthers();\n            }\n            if(!module.is.indeterminate() && module.is.checked()) {\n              module.debug('Input is already checked, skipping input property change');\n              return;\n            }\n            module.verbose('Setting state to checked', input);\n            $input\n              .prop('indeterminate', false)\n              .prop('checked', true)\n            ;\n            module.trigger.change();\n          },\n          unchecked: function() {\n            module.verbose('Removing checked class');\n            $module\n              .removeClass(className.indeterminate)\n              .removeClass(className.checked)\n            ;\n            if(!module.is.indeterminate() &&  module.is.unchecked() ) {\n              module.debug('Input is already unchecked');\n              return;\n            }\n            module.debug('Setting state to unchecked');\n            $input\n              .prop('indeterminate', false)\n              .prop('checked', false)\n            ;\n            module.trigger.change();\n          },\n          indeterminate: function() {\n            module.verbose('Setting class to indeterminate');\n            $module\n              .addClass(className.indeterminate)\n            ;\n            if( module.is.indeterminate() ) {\n              module.debug('Input is already indeterminate, skipping input property change');\n              return;\n            }\n            module.debug('Setting state to indeterminate');\n            $input\n              .prop('indeterminate', true)\n            ;\n            module.trigger.change();\n          },\n          determinate: function() {\n            module.verbose('Removing indeterminate class');\n            $module\n              .removeClass(className.indeterminate)\n            ;\n            if( module.is.determinate() ) {\n              module.debug('Input is already determinate, skipping input property change');\n              return;\n            }\n            module.debug('Setting state to determinate');\n            $input\n              .prop('indeterminate', false)\n            ;\n          },\n          disabled: function() {\n            module.verbose('Setting class to disabled');\n            $module\n              .addClass(className.disabled)\n            ;\n            if( module.is.disabled() ) {\n              module.debug('Input is already disabled, skipping input property change');\n              return;\n            }\n            module.debug('Setting state to disabled');\n            $input\n              .prop('disabled', 'disabled')\n            ;\n            module.trigger.change();\n          },\n          enabled: function() {\n            module.verbose('Removing disabled class');\n            $module.removeClass(className.disabled);\n            if( module.is.enabled() ) {\n              module.debug('Input is already enabled, skipping input property change');\n              return;\n            }\n            module.debug('Setting state to enabled');\n            $input\n              .prop('disabled', false)\n            ;\n            module.trigger.change();\n          },\n          tabbable: function() {\n            module.verbose('Adding tabindex to checkbox');\n            if( $input.attr('tabindex') === undefined) {\n              $input.attr('tabindex', 0);\n            }\n          }\n        },\n\n        remove: {\n          initialLoad: function() {\n            initialLoad = false;\n          }\n        },\n\n        trigger: {\n          change: function() {\n            var\n              events       = document.createEvent('HTMLEvents'),\n              inputElement = $input[0]\n            ;\n            if(inputElement) {\n              module.verbose('Triggering native change event');\n              events.initEvent('change', true, false);\n              inputElement.dispatchEvent(events);\n            }\n          }\n        },\n\n\n        create: {\n          label: function() {\n            if($input.prevAll(selector.label).length > 0) {\n              $input.prev(selector.label).detach().insertAfter($input);\n              module.debug('Moving existing label', $label);\n            }\n            else if( !module.has.label() ) {\n              $label = $('<label>').insertAfter($input);\n              module.debug('Creating label', $label);\n            }\n          }\n        },\n\n        has: {\n          label: function() {\n            return ($label.length > 0);\n          }\n        },\n\n        bind: {\n          events: function() {\n            module.verbose('Attaching checkbox events');\n            $module\n              .on('click'   + eventNamespace, module.event.click)\n              .on('keydown' + eventNamespace, selector.input, module.event.keydown)\n              .on('keyup'   + eventNamespace, selector.input, module.event.keyup)\n            ;\n          }\n        },\n\n        unbind: {\n          events: function() {\n            module.debug('Removing events');\n            $module\n              .off(eventNamespace)\n            ;\n          }\n        },\n\n        uncheckOthers: function() {\n          var\n            $radios = module.get.otherRadios()\n          ;\n          module.debug('Unchecking other radios', $radios);\n          $radios.removeClass(className.checked);\n        },\n\n        toggle: function() {\n          if( !module.can.change() ) {\n            if(!module.is.radio()) {\n              module.debug('Checkbox is read-only or disabled, ignoring toggle');\n            }\n            return;\n          }\n          if( module.is.indeterminate() || module.is.unchecked() ) {\n            module.debug('Currently unchecked');\n            module.check();\n          }\n          else if( module.is.checked() && module.can.uncheck() ) {\n            module.debug('Currently checked');\n            module.uncheck();\n          }\n        },\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.checkbox.settings = {\n\n  name                : 'Checkbox',\n  namespace           : 'checkbox',\n\n  silent              : false,\n  debug               : false,\n  verbose             : true,\n  performance         : true,\n\n  // delegated event context\n  uncheckable         : 'auto',\n  fireOnInit          : false,\n\n  onChange            : function(){},\n\n  beforeChecked       : function(){},\n  beforeUnchecked     : function(){},\n  beforeDeterminate   : function(){},\n  beforeIndeterminate : function(){},\n\n  onChecked           : function(){},\n  onUnchecked         : function(){},\n\n  onDeterminate       : function() {},\n  onIndeterminate     : function() {},\n\n  onEnable            : function(){},\n  onDisable           : function(){},\n\n  // preserve misspelled callbacks (will be removed in 3.0)\n  onEnabled           : function(){},\n  onDisabled          : function(){},\n\n  className       : {\n    checked       : 'checked',\n    indeterminate : 'indeterminate',\n    disabled      : 'disabled',\n    hidden        : 'hidden',\n    radio         : 'radio',\n    readOnly      : 'read-only'\n  },\n\n  error     : {\n    method       : 'The method you called is not defined'\n  },\n\n  selector : {\n    checkbox : '.ui.checkbox',\n    label    : 'label, .box',\n    input    : 'input[type=\"checkbox\"], input[type=\"radio\"]',\n    link     : 'a[href]'\n  }\n\n};\n\n})( jQuery, window, document );\n","/*!\n * # Semantic UI - Dimmer\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.dimmer = function(parameters) {\n  var\n    $allModules     = $(this),\n\n    time            = new Date().getTime(),\n    performance     = [],\n\n    query           = arguments[0],\n    methodInvoked   = (typeof query == 'string'),\n    queryArguments  = [].slice.call(arguments, 1),\n\n    returnedValue\n  ;\n\n  $allModules\n    .each(function() {\n      var\n        settings        = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.dimmer.settings, parameters)\n          : $.extend({}, $.fn.dimmer.settings),\n\n        selector        = settings.selector,\n        namespace       = settings.namespace,\n        className       = settings.className,\n        error           = settings.error,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n        moduleSelector  = $allModules.selector || '',\n\n        clickEvent      = ('ontouchstart' in document.documentElement)\n          ? 'touchstart'\n          : 'click',\n\n        $module = $(this),\n        $dimmer,\n        $dimmable,\n\n        element   = this,\n        instance  = $module.data(moduleNamespace),\n        module\n      ;\n\n      module = {\n\n        preinitialize: function() {\n          if( module.is.dimmer() ) {\n\n            $dimmable = $module.parent();\n            $dimmer   = $module;\n          }\n          else {\n            $dimmable = $module;\n            if( module.has.dimmer() ) {\n              if(settings.dimmerName) {\n                $dimmer = $dimmable.find(selector.dimmer).filter('.' + settings.dimmerName);\n              }\n              else {\n                $dimmer = $dimmable.find(selector.dimmer);\n              }\n            }\n            else {\n              $dimmer = module.create();\n            }\n            module.set.variation();\n          }\n        },\n\n        initialize: function() {\n          module.debug('Initializing dimmer', settings);\n\n          module.bind.events();\n          module.set.dimmable();\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, instance)\n          ;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous module', $dimmer);\n          module.unbind.events();\n          module.remove.variation();\n          $dimmable\n            .off(eventNamespace)\n          ;\n        },\n\n        bind: {\n          events: function() {\n            if(module.is.page()) {\n              // touch events default to passive, due to changes in chrome to optimize mobile perf\n              $dimmable.get(0).addEventListener('touchmove', module.event.preventScroll, { passive: false });\n            }\n            if(settings.on == 'hover') {\n              $dimmable\n                .on('mouseenter' + eventNamespace, module.show)\n                .on('mouseleave' + eventNamespace, module.hide)\n              ;\n            }\n            else if(settings.on == 'click') {\n              $dimmable\n                .on(clickEvent + eventNamespace, module.toggle)\n              ;\n            }\n            if( module.is.page() ) {\n              module.debug('Setting as a page dimmer', $dimmable);\n              module.set.pageDimmer();\n            }\n\n            if( module.is.closable() ) {\n              module.verbose('Adding dimmer close event', $dimmer);\n              $dimmable\n                .on(clickEvent + eventNamespace, selector.dimmer, module.event.click)\n              ;\n            }\n          }\n        },\n\n        unbind: {\n          events: function() {\n            if(module.is.page()) {\n              $dimmable.get(0).removeEventListener('touchmove', module.event.preventScroll, { passive: false });\n            }\n            $module\n              .removeData(moduleNamespace)\n            ;\n            $dimmable\n              .off(eventNamespace)\n            ;\n          }\n        },\n\n        event: {\n          click: function(event) {\n            module.verbose('Determining if event occured on dimmer', event);\n            if( $dimmer.find(event.target).length === 0 || $(event.target).is(selector.content) ) {\n              module.hide();\n              event.stopImmediatePropagation();\n            }\n          },\n          preventScroll: function(event) {\n            event.preventDefault();\n          }\n        },\n\n        addContent: function(element) {\n          var\n            $content = $(element)\n          ;\n          module.debug('Add content to dimmer', $content);\n          if($content.parent()[0] !== $dimmer[0]) {\n            $content.detach().appendTo($dimmer);\n          }\n        },\n\n        create: function() {\n          var\n            $element = $( settings.template.dimmer() )\n          ;\n          if(settings.dimmerName) {\n            module.debug('Creating named dimmer', settings.dimmerName);\n            $element.addClass(settings.dimmerName);\n          }\n          $element\n            .appendTo($dimmable)\n          ;\n          return $element;\n        },\n\n        show: function(callback) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          module.debug('Showing dimmer', $dimmer, settings);\n          if( (!module.is.dimmed() || module.is.animating()) && module.is.enabled() ) {\n            module.animate.show(callback);\n            settings.onShow.call(element);\n            settings.onChange.call(element);\n          }\n          else {\n            module.debug('Dimmer is already shown or disabled');\n          }\n        },\n\n        hide: function(callback) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          if( module.is.dimmed() || module.is.animating() ) {\n            module.debug('Hiding dimmer', $dimmer);\n            module.animate.hide(callback);\n            settings.onHide.call(element);\n            settings.onChange.call(element);\n          }\n          else {\n            module.debug('Dimmer is not visible');\n          }\n        },\n\n        toggle: function() {\n          module.verbose('Toggling dimmer visibility', $dimmer);\n          if( !module.is.dimmed() ) {\n            module.show();\n          }\n          else {\n            module.hide();\n          }\n        },\n\n        animate: {\n          show: function(callback) {\n            callback = $.isFunction(callback)\n              ? callback\n              : function(){}\n            ;\n            if(settings.useCSS && $.fn.transition !== undefined && $dimmer.transition('is supported')) {\n              if(settings.opacity !== 'auto') {\n                module.set.opacity();\n              }\n              $dimmer\n                .transition({\n                  displayType : 'flex',\n                  animation   : settings.transition + ' in',\n                  queue       : false,\n                  duration    : module.get.duration(),\n                  useFailSafe : true,\n                  onStart     : function() {\n                    module.set.dimmed();\n                  },\n                  onComplete  : function() {\n                    module.set.active();\n                    callback();\n                  }\n                })\n              ;\n            }\n            else {\n              module.verbose('Showing dimmer animation with javascript');\n              module.set.dimmed();\n              if(settings.opacity == 'auto') {\n                settings.opacity = 0.8;\n              }\n              $dimmer\n                .stop()\n                .css({\n                  opacity : 0,\n                  width   : '100%',\n                  height  : '100%'\n                })\n                .fadeTo(module.get.duration(), settings.opacity, function() {\n                  $dimmer.removeAttr('style');\n                  module.set.active();\n                  callback();\n                })\n              ;\n            }\n          },\n          hide: function(callback) {\n            callback = $.isFunction(callback)\n              ? callback\n              : function(){}\n            ;\n            if(settings.useCSS && $.fn.transition !== undefined && $dimmer.transition('is supported')) {\n              module.verbose('Hiding dimmer with css');\n              $dimmer\n                .transition({\n                  displayType : 'flex',\n                  animation   : settings.transition + ' out',\n                  queue       : false,\n                  duration    : module.get.duration(),\n                  useFailSafe : true,\n                  onStart     : function() {\n                    module.remove.dimmed();\n                  },\n                  onComplete  : function() {\n                    module.remove.active();\n                    callback();\n                  }\n                })\n              ;\n            }\n            else {\n              module.verbose('Hiding dimmer with javascript');\n              module.remove.dimmed();\n              $dimmer\n                .stop()\n                .fadeOut(module.get.duration(), function() {\n                  module.remove.active();\n                  $dimmer.removeAttr('style');\n                  callback();\n                })\n              ;\n            }\n          }\n        },\n\n        get: {\n          dimmer: function() {\n            return $dimmer;\n          },\n          duration: function() {\n            if(typeof settings.duration == 'object') {\n              if( module.is.active() ) {\n                return settings.duration.hide;\n              }\n              else {\n                return settings.duration.show;\n              }\n            }\n            return settings.duration;\n          }\n        },\n\n        has: {\n          dimmer: function() {\n            if(settings.dimmerName) {\n              return ($module.find(selector.dimmer).filter('.' + settings.dimmerName).length > 0);\n            }\n            else {\n              return ( $module.find(selector.dimmer).length > 0 );\n            }\n          }\n        },\n\n        is: {\n          active: function() {\n            return $dimmer.hasClass(className.active);\n          },\n          animating: function() {\n            return ( $dimmer.is(':animated') || $dimmer.hasClass(className.animating) );\n          },\n          closable: function() {\n            if(settings.closable == 'auto') {\n              if(settings.on == 'hover') {\n                return false;\n              }\n              return true;\n            }\n            return settings.closable;\n          },\n          dimmer: function() {\n            return $module.hasClass(className.dimmer);\n          },\n          dimmable: function() {\n            return $module.hasClass(className.dimmable);\n          },\n          dimmed: function() {\n            return $dimmable.hasClass(className.dimmed);\n          },\n          disabled: function() {\n            return $dimmable.hasClass(className.disabled);\n          },\n          enabled: function() {\n            return !module.is.disabled();\n          },\n          page: function () {\n            return $dimmable.is('body');\n          },\n          pageDimmer: function() {\n            return $dimmer.hasClass(className.pageDimmer);\n          }\n        },\n\n        can: {\n          show: function() {\n            return !$dimmer.hasClass(className.disabled);\n          }\n        },\n\n        set: {\n          opacity: function(opacity) {\n            var\n              color      = $dimmer.css('background-color'),\n              colorArray = color.split(','),\n              isRGB      = (colorArray && colorArray.length == 3),\n              isRGBA     = (colorArray && colorArray.length == 4)\n            ;\n            opacity    = settings.opacity === 0 ? 0 : settings.opacity || opacity;\n            if(isRGB || isRGBA) {\n              colorArray[3] = opacity + ')';\n              color         = colorArray.join(',');\n            }\n            else {\n              color = 'rgba(0, 0, 0, ' + opacity + ')';\n            }\n            module.debug('Setting opacity to', opacity);\n            $dimmer.css('background-color', color);\n          },\n          active: function() {\n            $dimmer.addClass(className.active);\n          },\n          dimmable: function() {\n            $dimmable.addClass(className.dimmable);\n          },\n          dimmed: function() {\n            $dimmable.addClass(className.dimmed);\n          },\n          pageDimmer: function() {\n            $dimmer.addClass(className.pageDimmer);\n          },\n          disabled: function() {\n            $dimmer.addClass(className.disabled);\n          },\n          variation: function(variation) {\n            variation = variation || settings.variation;\n            if(variation) {\n              $dimmer.addClass(variation);\n            }\n          }\n        },\n\n        remove: {\n          active: function() {\n            $dimmer\n              .removeClass(className.active)\n            ;\n          },\n          dimmed: function() {\n            $dimmable.removeClass(className.dimmed);\n          },\n          disabled: function() {\n            $dimmer.removeClass(className.disabled);\n          },\n          variation: function(variation) {\n            variation = variation || settings.variation;\n            if(variation) {\n              $dimmer.removeClass(variation);\n            }\n          }\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      module.preinitialize();\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.dimmer.settings = {\n\n  name        : 'Dimmer',\n  namespace   : 'dimmer',\n\n  silent      : false,\n  debug       : false,\n  verbose     : false,\n  performance : true,\n\n  // name to distinguish between multiple dimmers in context\n  dimmerName  : false,\n\n  // whether to add a variation type\n  variation   : false,\n\n  // whether to bind close events\n  closable    : 'auto',\n\n  // whether to use css animations\n  useCSS      : true,\n\n  // css animation to use\n  transition  : 'fade',\n\n  // event to bind to\n  on          : false,\n\n  // overriding opacity value\n  opacity     : 'auto',\n\n  // transition durations\n  duration    : {\n    show : 500,\n    hide : 500\n  },\n\n  onChange    : function(){},\n  onShow      : function(){},\n  onHide      : function(){},\n\n  error   : {\n    method   : 'The method you called is not defined.'\n  },\n\n  className : {\n    active     : 'active',\n    animating  : 'animating',\n    dimmable   : 'dimmable',\n    dimmed     : 'dimmed',\n    dimmer     : 'dimmer',\n    disabled   : 'disabled',\n    hide       : 'hide',\n    pageDimmer : 'page',\n    show       : 'show'\n  },\n\n  selector: {\n    dimmer   : '> .ui.dimmer',\n    content  : '.ui.dimmer > .content, .ui.dimmer > .content > .center'\n  },\n\n  template: {\n    dimmer: function() {\n     return $('<div />').attr('class', 'ui dimmer');\n    }\n  }\n\n};\n\n})( jQuery, window, document );\n","/*!\n * # Semantic UI - Dropdown\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.dropdown = function(parameters) {\n  var\n    $allModules    = $(this),\n    $document      = $(document),\n\n    moduleSelector = $allModules.selector || '',\n\n    hasTouch       = ('ontouchstart' in document.documentElement),\n    time           = new Date().getTime(),\n    performance    = [],\n\n    query          = arguments[0],\n    methodInvoked  = (typeof query == 'string'),\n    queryArguments = [].slice.call(arguments, 1),\n    returnedValue\n  ;\n\n  $allModules\n    .each(function(elementIndex) {\n      var\n        settings          = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.dropdown.settings, parameters)\n          : $.extend({}, $.fn.dropdown.settings),\n\n        className       = settings.className,\n        message         = settings.message,\n        fields          = settings.fields,\n        keys            = settings.keys,\n        metadata        = settings.metadata,\n        namespace       = settings.namespace,\n        regExp          = settings.regExp,\n        selector        = settings.selector,\n        error           = settings.error,\n        templates       = settings.templates,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n\n        $module         = $(this),\n        $context        = $(settings.context),\n        $text           = $module.find(selector.text),\n        $search         = $module.find(selector.search),\n        $sizer          = $module.find(selector.sizer),\n        $input          = $module.find(selector.input),\n        $icon           = $module.find(selector.icon),\n\n        $combo = ($module.prev().find(selector.text).length > 0)\n          ? $module.prev().find(selector.text)\n          : $module.prev(),\n\n        $menu           = $module.children(selector.menu),\n        $item           = $menu.find(selector.item),\n\n        activated       = false,\n        itemActivated   = false,\n        internalChange  = false,\n        element         = this,\n        instance        = $module.data(moduleNamespace),\n\n        initialLoad,\n        pageLostFocus,\n        willRefocus,\n        elementNamespace,\n        id,\n        selectObserver,\n        menuObserver,\n        module\n      ;\n\n      module = {\n\n        initialize: function() {\n          module.debug('Initializing dropdown', settings);\n\n          if( module.is.alreadySetup() ) {\n            module.setup.reference();\n          }\n          else {\n\n            module.setup.layout();\n\n            if(settings.values) {\n              module.change.values(settings.values);\n            }\n\n            module.refreshData();\n\n            module.save.defaults();\n            module.restore.selected();\n\n            module.create.id();\n            module.bind.events();\n\n            module.observeChanges();\n            module.instantiate();\n          }\n\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of dropdown', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous dropdown', $module);\n          module.remove.tabbable();\n          $module\n            .off(eventNamespace)\n            .removeData(moduleNamespace)\n          ;\n          $menu\n            .off(eventNamespace)\n          ;\n          $document\n            .off(elementNamespace)\n          ;\n          module.disconnect.menuObserver();\n          module.disconnect.selectObserver();\n        },\n\n        observeChanges: function() {\n          if('MutationObserver' in window) {\n            selectObserver = new MutationObserver(module.event.select.mutation);\n            menuObserver   = new MutationObserver(module.event.menu.mutation);\n            module.debug('Setting up mutation observer', selectObserver, menuObserver);\n            module.observe.select();\n            module.observe.menu();\n          }\n        },\n\n        disconnect: {\n          menuObserver: function() {\n            if(menuObserver) {\n              menuObserver.disconnect();\n            }\n          },\n          selectObserver: function() {\n            if(selectObserver) {\n              selectObserver.disconnect();\n            }\n          }\n        },\n        observe: {\n          select: function() {\n            if(module.has.input()) {\n              selectObserver.observe($module[0], {\n                childList : true,\n                subtree   : true\n              });\n            }\n          },\n          menu: function() {\n            if(module.has.menu()) {\n              menuObserver.observe($menu[0], {\n                childList : true,\n                subtree   : true\n              });\n            }\n          }\n        },\n\n        create: {\n          id: function() {\n            id = (Math.random().toString(16) + '000000000').substr(2, 8);\n            elementNamespace = '.' + id;\n            module.verbose('Creating unique id for element', id);\n          },\n          userChoice: function(values) {\n            var\n              $userChoices,\n              $userChoice,\n              isUserValue,\n              html\n            ;\n            values = values || module.get.userValues();\n            if(!values) {\n              return false;\n            }\n            values = $.isArray(values)\n              ? values\n              : [values]\n            ;\n            $.each(values, function(index, value) {\n              if(module.get.item(value) === false) {\n                html         = settings.templates.addition( module.add.variables(message.addResult, value) );\n                $userChoice  = $('<div />')\n                  .html(html)\n                  .attr('data-' + metadata.value, value)\n                  .attr('data-' + metadata.text, value)\n                  .addClass(className.addition)\n                  .addClass(className.item)\n                ;\n                if(settings.hideAdditions) {\n                  $userChoice.addClass(className.hidden);\n                }\n                $userChoices = ($userChoices === undefined)\n                  ? $userChoice\n                  : $userChoices.add($userChoice)\n                ;\n                module.verbose('Creating user choices for value', value, $userChoice);\n              }\n            });\n            return $userChoices;\n          },\n          userLabels: function(value) {\n            var\n              userValues = module.get.userValues()\n            ;\n            if(userValues) {\n              module.debug('Adding user labels', userValues);\n              $.each(userValues, function(index, value) {\n                module.verbose('Adding custom user value');\n                module.add.label(value, value);\n              });\n            }\n          },\n          menu: function() {\n            $menu = $('<div />')\n              .addClass(className.menu)\n              .appendTo($module)\n            ;\n          },\n          sizer: function() {\n            $sizer = $('<span />')\n              .addClass(className.sizer)\n              .insertAfter($search)\n            ;\n          }\n        },\n\n        search: function(query) {\n          query = (query !== undefined)\n            ? query\n            : module.get.query()\n          ;\n          module.verbose('Searching for query', query);\n          if(module.has.minCharacters(query)) {\n            module.filter(query);\n          }\n          else {\n            module.hide();\n          }\n        },\n\n        select: {\n          firstUnfiltered: function() {\n            module.verbose('Selecting first non-filtered element');\n            module.remove.selectedItem();\n            $item\n              .not(selector.unselectable)\n              .not(selector.addition + selector.hidden)\n                .eq(0)\n                .addClass(className.selected)\n            ;\n          },\n          nextAvailable: function($selected) {\n            $selected = $selected.eq(0);\n            var\n              $nextAvailable = $selected.nextAll(selector.item).not(selector.unselectable).eq(0),\n              $prevAvailable = $selected.prevAll(selector.item).not(selector.unselectable).eq(0),\n              hasNext        = ($nextAvailable.length > 0)\n            ;\n            if(hasNext) {\n              module.verbose('Moving selection to', $nextAvailable);\n              $nextAvailable.addClass(className.selected);\n            }\n            else {\n              module.verbose('Moving selection to', $prevAvailable);\n              $prevAvailable.addClass(className.selected);\n            }\n          }\n        },\n\n        setup: {\n          api: function() {\n            var\n              apiSettings = {\n                debug   : settings.debug,\n                urlData : {\n                  value : module.get.value(),\n                  query : module.get.query()\n                },\n                on    : false\n              }\n            ;\n            module.verbose('First request, initializing API');\n            $module\n              .api(apiSettings)\n            ;\n          },\n          layout: function() {\n            if( $module.is('select') ) {\n              module.setup.select();\n              module.setup.returnedObject();\n            }\n            if( !module.has.menu() ) {\n              module.create.menu();\n            }\n            if( module.is.search() && !module.has.search() ) {\n              module.verbose('Adding search input');\n              $search = $('<input />')\n                .addClass(className.search)\n                .prop('autocomplete', 'off')\n                .insertBefore($text)\n              ;\n            }\n            if( module.is.multiple() && module.is.searchSelection() && !module.has.sizer()) {\n              module.create.sizer();\n            }\n            if(settings.allowTab) {\n              module.set.tabbable();\n            }\n          },\n          select: function() {\n            var\n              selectValues  = module.get.selectValues()\n            ;\n            module.debug('Dropdown initialized on a select', selectValues);\n            if( $module.is('select') ) {\n              $input = $module;\n            }\n            // see if select is placed correctly already\n            if($input.parent(selector.dropdown).length > 0) {\n              module.debug('UI dropdown already exists. Creating dropdown menu only');\n              $module = $input.closest(selector.dropdown);\n              if( !module.has.menu() ) {\n                module.create.menu();\n              }\n              $menu = $module.children(selector.menu);\n              module.setup.menu(selectValues);\n            }\n            else {\n              module.debug('Creating entire dropdown from select');\n              $module = $('<div />')\n                .attr('class', $input.attr('class') )\n                .addClass(className.selection)\n                .addClass(className.dropdown)\n                .html( templates.dropdown(selectValues) )\n                .insertBefore($input)\n              ;\n              if($input.hasClass(className.multiple) && $input.prop('multiple') === false) {\n                module.error(error.missingMultiple);\n                $input.prop('multiple', true);\n              }\n              if($input.is('[multiple]')) {\n                module.set.multiple();\n              }\n              if ($input.prop('disabled')) {\n                module.debug('Disabling dropdown');\n                $module.addClass(className.disabled);\n              }\n              $input\n                .removeAttr('class')\n                .detach()\n                .prependTo($module)\n              ;\n            }\n            module.refresh();\n          },\n          menu: function(values) {\n            $menu.html( templates.menu(values, fields));\n            $item = $menu.find(selector.item);\n          },\n          reference: function() {\n            module.debug('Dropdown behavior was called on select, replacing with closest dropdown');\n            // replace module reference\n            $module  = $module.parent(selector.dropdown);\n            instance = $module.data(moduleNamespace);\n            element  = $module.get(0);\n            module.refresh();\n            module.setup.returnedObject();\n          },\n          returnedObject: function() {\n            var\n              $firstModules = $allModules.slice(0, elementIndex),\n              $lastModules  = $allModules.slice(elementIndex + 1)\n            ;\n            // adjust all modules to use correct reference\n            $allModules = $firstModules.add($module).add($lastModules);\n          }\n        },\n\n        refresh: function() {\n          module.refreshSelectors();\n          module.refreshData();\n        },\n\n        refreshItems: function() {\n          $item = $menu.find(selector.item);\n        },\n\n        refreshSelectors: function() {\n          module.verbose('Refreshing selector cache');\n          $text   = $module.find(selector.text);\n          $search = $module.find(selector.search);\n          $input  = $module.find(selector.input);\n          $icon   = $module.find(selector.icon);\n          $combo  = ($module.prev().find(selector.text).length > 0)\n            ? $module.prev().find(selector.text)\n            : $module.prev()\n          ;\n          $menu    = $module.children(selector.menu);\n          $item    = $menu.find(selector.item);\n        },\n\n        refreshData: function() {\n          module.verbose('Refreshing cached metadata');\n          $item\n            .removeData(metadata.text)\n            .removeData(metadata.value)\n          ;\n        },\n\n        clearData: function() {\n          module.verbose('Clearing metadata');\n          $item\n            .removeData(metadata.text)\n            .removeData(metadata.value)\n          ;\n          $module\n            .removeData(metadata.defaultText)\n            .removeData(metadata.defaultValue)\n            .removeData(metadata.placeholderText)\n          ;\n        },\n\n        toggle: function() {\n          module.verbose('Toggling menu visibility');\n          if( !module.is.active() ) {\n            module.show();\n          }\n          else {\n            module.hide();\n          }\n        },\n\n        show: function(callback) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          if(!module.can.show() && module.is.remote()) {\n            module.debug('No API results retrieved, searching before show');\n            module.queryRemote(module.get.query(), module.show);\n          }\n          if( module.can.show() && !module.is.active() ) {\n            module.debug('Showing dropdown');\n            if(module.has.message() && !(module.has.maxSelections() || module.has.allResultsFiltered()) ) {\n              module.remove.message();\n            }\n            if(module.is.allFiltered()) {\n              return true;\n            }\n            if(settings.onShow.call(element) !== false) {\n              module.animate.show(function() {\n                if( module.can.click() ) {\n                  module.bind.intent();\n                }\n                if(module.has.menuSearch()) {\n                  module.focusSearch();\n                }\n                module.set.visible();\n                callback.call(element);\n              });\n            }\n          }\n        },\n\n        hide: function(callback) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          if( module.is.active() && !module.is.animatingOutward() ) {\n            module.debug('Hiding dropdown');\n            if(settings.onHide.call(element) !== false) {\n              module.animate.hide(function() {\n                module.remove.visible();\n                callback.call(element);\n              });\n            }\n          }\n        },\n\n        hideOthers: function() {\n          module.verbose('Finding other dropdowns to hide');\n          $allModules\n            .not($module)\n              .has(selector.menu + '.' + className.visible)\n                .dropdown('hide')\n          ;\n        },\n\n        hideMenu: function() {\n          module.verbose('Hiding menu  instantaneously');\n          module.remove.active();\n          module.remove.visible();\n          $menu.transition('hide');\n        },\n\n        hideSubMenus: function() {\n          var\n            $subMenus = $menu.children(selector.item).find(selector.menu)\n          ;\n          module.verbose('Hiding sub menus', $subMenus);\n          $subMenus.transition('hide');\n        },\n\n        bind: {\n          events: function() {\n            if(hasTouch) {\n              module.bind.touchEvents();\n            }\n            module.bind.keyboardEvents();\n            module.bind.inputEvents();\n            module.bind.mouseEvents();\n          },\n          touchEvents: function() {\n            module.debug('Touch device detected binding additional touch events');\n            if( module.is.searchSelection() ) {\n              // do nothing special yet\n            }\n            else if( module.is.single() ) {\n              $module\n                .on('touchstart' + eventNamespace, module.event.test.toggle)\n              ;\n            }\n            $menu\n              .on('touchstart' + eventNamespace, selector.item, module.event.item.mouseenter)\n            ;\n          },\n          keyboardEvents: function() {\n            module.verbose('Binding keyboard events');\n            $module\n              .on('keydown' + eventNamespace, module.event.keydown)\n            ;\n            if( module.has.search() ) {\n              $module\n                .on(module.get.inputEvent() + eventNamespace, selector.search, module.event.input)\n              ;\n            }\n            if( module.is.multiple() ) {\n              $document\n                .on('keydown' + elementNamespace, module.event.document.keydown)\n              ;\n            }\n          },\n          inputEvents: function() {\n            module.verbose('Binding input change events');\n            $module\n              .on('change' + eventNamespace, selector.input, module.event.change)\n            ;\n          },\n          mouseEvents: function() {\n            module.verbose('Binding mouse events');\n            if(module.is.multiple()) {\n              $module\n                .on('click'   + eventNamespace, selector.label,  module.event.label.click)\n                .on('click'   + eventNamespace, selector.remove, module.event.remove.click)\n              ;\n            }\n            if( module.is.searchSelection() ) {\n              $module\n                .on('mousedown' + eventNamespace, module.event.mousedown)\n                .on('mouseup'   + eventNamespace, module.event.mouseup)\n                .on('mousedown' + eventNamespace, selector.menu,   module.event.menu.mousedown)\n                .on('mouseup'   + eventNamespace, selector.menu,   module.event.menu.mouseup)\n                .on('click'     + eventNamespace, selector.icon,   module.event.icon.click)\n                .on('focus'     + eventNamespace, selector.search, module.event.search.focus)\n                .on('click'     + eventNamespace, selector.search, module.event.search.focus)\n                .on('blur'      + eventNamespace, selector.search, module.event.search.blur)\n                .on('click'     + eventNamespace, selector.text,   module.event.text.focus)\n              ;\n              if(module.is.multiple()) {\n                $module\n                  .on('click' + eventNamespace, module.event.click)\n                ;\n              }\n            }\n            else {\n              if(settings.on == 'click') {\n                $module\n                  .on('click' + eventNamespace, selector.icon, module.event.icon.click)\n                  .on('click' + eventNamespace, module.event.test.toggle)\n                ;\n              }\n              else if(settings.on == 'hover') {\n                $module\n                  .on('mouseenter' + eventNamespace, module.delay.show)\n                  .on('mouseleave' + eventNamespace, module.delay.hide)\n                ;\n              }\n              else {\n                $module\n                  .on(settings.on + eventNamespace, module.toggle)\n                ;\n              }\n              $module\n                .on('mousedown' + eventNamespace, module.event.mousedown)\n                .on('mouseup'   + eventNamespace, module.event.mouseup)\n                .on('focus'     + eventNamespace, module.event.focus)\n              ;\n              if(module.has.menuSearch() ) {\n                $module\n                  .on('blur' + eventNamespace, selector.search, module.event.search.blur)\n                ;\n              }\n              else {\n                $module\n                  .on('blur' + eventNamespace, module.event.blur)\n                ;\n              }\n            }\n            $menu\n              .on('mouseenter' + eventNamespace, selector.item, module.event.item.mouseenter)\n              .on('mouseleave' + eventNamespace, selector.item, module.event.item.mouseleave)\n              .on('click'      + eventNamespace, selector.item, module.event.item.click)\n            ;\n          },\n          intent: function() {\n            module.verbose('Binding hide intent event to document');\n            if(hasTouch) {\n              $document\n                .on('touchstart' + elementNamespace, module.event.test.touch)\n                .on('touchmove'  + elementNamespace, module.event.test.touch)\n              ;\n            }\n            $document\n              .on('click' + elementNamespace, module.event.test.hide)\n            ;\n          }\n        },\n\n        unbind: {\n          intent: function() {\n            module.verbose('Removing hide intent event from document');\n            if(hasTouch) {\n              $document\n                .off('touchstart' + elementNamespace)\n                .off('touchmove' + elementNamespace)\n              ;\n            }\n            $document\n              .off('click' + elementNamespace)\n            ;\n          }\n        },\n\n        filter: function(query) {\n          var\n            searchTerm = (query !== undefined)\n              ? query\n              : module.get.query(),\n            afterFiltered = function() {\n              if(module.is.multiple()) {\n                module.filterActive();\n              }\n              if(query || (!query && module.get.activeItem().length == 0)) {\n                module.select.firstUnfiltered();\n              }\n              if( module.has.allResultsFiltered() ) {\n                if( settings.onNoResults.call(element, searchTerm) ) {\n                  if(settings.allowAdditions) {\n                    if(settings.hideAdditions) {\n                      module.verbose('User addition with no menu, setting empty style');\n                      module.set.empty();\n                      module.hideMenu();\n                    }\n                  }\n                  else {\n                    module.verbose('All items filtered, showing message', searchTerm);\n                    module.add.message(message.noResults);\n                  }\n                }\n                else {\n                  module.verbose('All items filtered, hiding dropdown', searchTerm);\n                  module.hideMenu();\n                }\n              }\n              else {\n                module.remove.empty();\n                module.remove.message();\n              }\n              if(settings.allowAdditions) {\n                module.add.userSuggestion(query);\n              }\n              if(module.is.searchSelection() && module.can.show() && module.is.focusedOnSearch() ) {\n                module.show();\n              }\n            }\n          ;\n          if(settings.useLabels && module.has.maxSelections()) {\n            return;\n          }\n          if(settings.apiSettings) {\n            if( module.can.useAPI() ) {\n              module.queryRemote(searchTerm, function() {\n                if(settings.filterRemoteData) {\n                  module.filterItems(searchTerm);\n                }\n                afterFiltered();\n              });\n            }\n            else {\n              module.error(error.noAPI);\n            }\n          }\n          else {\n            module.filterItems(searchTerm);\n            afterFiltered();\n          }\n        },\n\n        queryRemote: function(query, callback) {\n          var\n            apiSettings = {\n              errorDuration : false,\n              cache         : 'local',\n              throttle      : settings.throttle,\n              urlData       : {\n                query: query\n              },\n              onError: function() {\n                module.add.message(message.serverError);\n                callback();\n              },\n              onFailure: function() {\n                module.add.message(message.serverError);\n                callback();\n              },\n              onSuccess : function(response) {\n                var\n                  values          = response[fields.remoteValues],\n                  hasRemoteValues = ($.isArray(values) && values.length > 0)\n                ;\n                if(hasRemoteValues) {\n                  module.remove.message();\n                  module.setup.menu({\n                    values: response[fields.remoteValues]\n                  });\n                }\n                else {\n                  module.add.message(message.noResults);\n                }\n                callback();\n              }\n            }\n          ;\n          if( !$module.api('get request') ) {\n            module.setup.api();\n          }\n          apiSettings = $.extend(true, {}, apiSettings, settings.apiSettings);\n          $module\n            .api('setting', apiSettings)\n            .api('query')\n          ;\n        },\n\n        filterItems: function(query) {\n          var\n            searchTerm = (query !== undefined)\n              ? query\n              : module.get.query(),\n            results          =  null,\n            escapedTerm      = module.escape.string(searchTerm),\n            beginsWithRegExp = new RegExp('^' + escapedTerm, 'igm')\n          ;\n          // avoid loop if we're matching nothing\n          if( module.has.query() ) {\n            results = [];\n\n            module.verbose('Searching for matching values', searchTerm);\n            $item\n              .each(function(){\n                var\n                  $choice = $(this),\n                  text,\n                  value\n                ;\n                if(settings.match == 'both' || settings.match == 'text') {\n                  text = String(module.get.choiceText($choice, false));\n                  if(text.search(beginsWithRegExp) !== -1) {\n                    results.push(this);\n                    return true;\n                  }\n                  else if (settings.fullTextSearch === 'exact' && module.exactSearch(searchTerm, text)) {\n                    results.push(this);\n                    return true;\n                  }\n                  else if (settings.fullTextSearch === true && module.fuzzySearch(searchTerm, text)) {\n                    results.push(this);\n                    return true;\n                  }\n                }\n                if(settings.match == 'both' || settings.match == 'value') {\n                  value = String(module.get.choiceValue($choice, text));\n                  if(value.search(beginsWithRegExp) !== -1) {\n                    results.push(this);\n                    return true;\n                  }\n                  else if (settings.fullTextSearch === 'exact' && module.exactSearch(searchTerm, value)) {\n                    results.push(this);\n                    return true;\n                  }\n                  else if (settings.fullTextSearch === true && module.fuzzySearch(searchTerm, value)) {\n                    results.push(this);\n                    return true;\n                  }\n                }\n              })\n            ;\n          }\n          module.debug('Showing only matched items', searchTerm);\n          module.remove.filteredItem();\n          if(results) {\n            $item\n              .not(results)\n              .addClass(className.filtered)\n            ;\n          }\n        },\n\n        fuzzySearch: function(query, term) {\n          var\n            termLength  = term.length,\n            queryLength = query.length\n          ;\n          query = query.toLowerCase();\n          term  = term.toLowerCase();\n          if(queryLength > termLength) {\n            return false;\n          }\n          if(queryLength === termLength) {\n            return (query === term);\n          }\n          search: for (var characterIndex = 0, nextCharacterIndex = 0; characterIndex < queryLength; characterIndex++) {\n            var\n              queryCharacter = query.charCodeAt(characterIndex)\n            ;\n            while(nextCharacterIndex < termLength) {\n              if(term.charCodeAt(nextCharacterIndex++) === queryCharacter) {\n                continue search;\n              }\n            }\n            return false;\n          }\n          return true;\n        },\n        exactSearch: function (query, term) {\n          query = query.toLowerCase();\n          term  = term.toLowerCase();\n          if(term.indexOf(query) > -1) {\n             return true;\n          }\n          return false;\n        },\n        filterActive: function() {\n          if(settings.useLabels) {\n            $item.filter('.' + className.active)\n              .addClass(className.filtered)\n            ;\n          }\n        },\n\n        focusSearch: function(skipHandler) {\n          if( module.has.search() && !module.is.focusedOnSearch() ) {\n            if(skipHandler) {\n              $module.off('focus' + eventNamespace, selector.search);\n              $search.focus();\n              $module.on('focus'  + eventNamespace, selector.search, module.event.search.focus);\n            }\n            else {\n              $search.focus();\n            }\n          }\n        },\n\n        forceSelection: function() {\n          var\n            $currentlySelected = $item.not(className.filtered).filter('.' + className.selected).eq(0),\n            $activeItem        = $item.not(className.filtered).filter('.' + className.active).eq(0),\n            $selectedItem      = ($currentlySelected.length > 0)\n              ? $currentlySelected\n              : $activeItem,\n            hasSelected = ($selectedItem.length > 0)\n          ;\n          if(hasSelected && !module.is.multiple()) {\n            module.debug('Forcing partial selection to selected item', $selectedItem);\n            module.event.item.click.call($selectedItem, {}, true);\n            return;\n          }\n          else {\n            if(settings.allowAdditions) {\n              module.set.selected(module.get.query());\n              module.remove.searchTerm();\n            }\n            else {\n              module.remove.searchTerm();\n            }\n          }\n        },\n\n        change: {\n          values: function(values) {\n            if(!settings.allowAdditions) {\n              module.clear();\n            }\n            module.debug('Creating dropdown with specified values', values);\n            module.setup.menu({values: values});\n            $.each(values, function(index, item) {\n              if(item.selected == true) {\n                module.debug('Setting initial selection to', item.value);\n                module.set.selected(item.value);\n                return true;\n              }\n            });\n          }\n        },\n\n        event: {\n          change: function() {\n            if(!internalChange) {\n              module.debug('Input changed, updating selection');\n              module.set.selected();\n            }\n          },\n          focus: function() {\n            if(settings.showOnFocus && !activated && module.is.hidden() && !pageLostFocus) {\n              module.show();\n            }\n          },\n          blur: function(event) {\n            pageLostFocus = (document.activeElement === this);\n            if(!activated && !pageLostFocus) {\n              module.remove.activeLabel();\n              module.hide();\n            }\n          },\n          mousedown: function() {\n            if(module.is.searchSelection()) {\n              // prevent menu hiding on immediate re-focus\n              willRefocus = true;\n            }\n            else {\n              // prevents focus callback from occurring on mousedown\n              activated = true;\n            }\n          },\n          mouseup: function() {\n            if(module.is.searchSelection()) {\n              // prevent menu hiding on immediate re-focus\n              willRefocus = false;\n            }\n            else {\n              activated = false;\n            }\n          },\n          click: function(event) {\n            var\n              $target = $(event.target)\n            ;\n            // focus search\n            if($target.is($module)) {\n              if(!module.is.focusedOnSearch()) {\n                module.focusSearch();\n              }\n              else {\n                module.show();\n              }\n            }\n          },\n          search: {\n            focus: function() {\n              activated = true;\n              if(module.is.multiple()) {\n                module.remove.activeLabel();\n              }\n              if(settings.showOnFocus) {\n                module.search();\n              }\n            },\n            blur: function(event) {\n              pageLostFocus = (document.activeElement === this);\n              if(module.is.searchSelection() && !willRefocus) {\n                if(!itemActivated && !pageLostFocus) {\n                  if(settings.forceSelection) {\n                    module.forceSelection();\n                  }\n                  module.hide();\n                }\n              }\n              willRefocus = false;\n            }\n          },\n          icon: {\n            click: function(event) {\n              module.toggle();\n            }\n          },\n          text: {\n            focus: function(event) {\n              activated = true;\n              module.focusSearch();\n            }\n          },\n          input: function(event) {\n            if(module.is.multiple() || module.is.searchSelection()) {\n              module.set.filtered();\n            }\n            clearTimeout(module.timer);\n            module.timer = setTimeout(module.search, settings.delay.search);\n          },\n          label: {\n            click: function(event) {\n              var\n                $label        = $(this),\n                $labels       = $module.find(selector.label),\n                $activeLabels = $labels.filter('.' + className.active),\n                $nextActive   = $label.nextAll('.' + className.active),\n                $prevActive   = $label.prevAll('.' + className.active),\n                $range = ($nextActive.length > 0)\n                  ? $label.nextUntil($nextActive).add($activeLabels).add($label)\n                  : $label.prevUntil($prevActive).add($activeLabels).add($label)\n              ;\n              if(event.shiftKey) {\n                $activeLabels.removeClass(className.active);\n                $range.addClass(className.active);\n              }\n              else if(event.ctrlKey) {\n                $label.toggleClass(className.active);\n              }\n              else {\n                $activeLabels.removeClass(className.active);\n                $label.addClass(className.active);\n              }\n              settings.onLabelSelect.apply(this, $labels.filter('.' + className.active));\n            }\n          },\n          remove: {\n            click: function() {\n              var\n                $label = $(this).parent()\n              ;\n              if( $label.hasClass(className.active) ) {\n                // remove all selected labels\n                module.remove.activeLabels();\n              }\n              else {\n                // remove this label only\n                module.remove.activeLabels( $label );\n              }\n            }\n          },\n          test: {\n            toggle: function(event) {\n              var\n                toggleBehavior = (module.is.multiple())\n                  ? module.show\n                  : module.toggle\n              ;\n              if(module.is.bubbledLabelClick(event) || module.is.bubbledIconClick(event)) {\n                return;\n              }\n              if( module.determine.eventOnElement(event, toggleBehavior) ) {\n                event.preventDefault();\n              }\n            },\n            touch: function(event) {\n              module.determine.eventOnElement(event, function() {\n                if(event.type == 'touchstart') {\n                  module.timer = setTimeout(function() {\n                    module.hide();\n                  }, settings.delay.touch);\n                }\n                else if(event.type == 'touchmove') {\n                  clearTimeout(module.timer);\n                }\n              });\n              event.stopPropagation();\n            },\n            hide: function(event) {\n              module.determine.eventInModule(event, module.hide);\n            }\n          },\n          select: {\n            mutation: function(mutations) {\n              module.debug('<select> modified, recreating menu');\n              var\n                isSelectMutation = false\n              ;\n              $.each(mutations, function(index, mutation) {\n                if($(mutation.target).is('select') || $(mutation.addedNodes).is('select')) {\n                  isSelectMutation = true;\n                  return true;\n                }\n              });\n              if(isSelectMutation) {\n                module.disconnect.selectObserver();\n                module.refresh();\n                module.setup.select();\n                module.set.selected();\n                module.observe.select();\n              }\n            }\n          },\n          menu: {\n            mutation: function(mutations) {\n              var\n                mutation   = mutations[0],\n                $addedNode = mutation.addedNodes\n                  ? $(mutation.addedNodes[0])\n                  : $(false),\n                $removedNode = mutation.removedNodes\n                  ? $(mutation.removedNodes[0])\n                  : $(false),\n                $changedNodes  = $addedNode.add($removedNode),\n                isUserAddition = $changedNodes.is(selector.addition) || $changedNodes.closest(selector.addition).length > 0,\n                isMessage      = $changedNodes.is(selector.message)  || $changedNodes.closest(selector.message).length > 0\n              ;\n              if(isUserAddition || isMessage) {\n                module.debug('Updating item selector cache');\n                module.refreshItems();\n              }\n              else {\n                module.debug('Menu modified, updating selector cache');\n                module.refresh();\n              }\n            },\n            mousedown: function() {\n              itemActivated = true;\n            },\n            mouseup: function() {\n              itemActivated = false;\n            }\n          },\n          item: {\n            mouseenter: function(event) {\n              var\n                $target        = $(event.target),\n                $item          = $(this),\n                $subMenu       = $item.children(selector.menu),\n                $otherMenus    = $item.siblings(selector.item).children(selector.menu),\n                hasSubMenu     = ($subMenu.length > 0),\n                isBubbledEvent = ($subMenu.find($target).length > 0)\n              ;\n              if( !isBubbledEvent && hasSubMenu ) {\n                clearTimeout(module.itemTimer);\n                module.itemTimer = setTimeout(function() {\n                  module.verbose('Showing sub-menu', $subMenu);\n                  $.each($otherMenus, function() {\n                    module.animate.hide(false, $(this));\n                  });\n                  module.animate.show(false, $subMenu);\n                }, settings.delay.show);\n                event.preventDefault();\n              }\n            },\n            mouseleave: function(event) {\n              var\n                $subMenu = $(this).children(selector.menu)\n              ;\n              if($subMenu.length > 0) {\n                clearTimeout(module.itemTimer);\n                module.itemTimer = setTimeout(function() {\n                  module.verbose('Hiding sub-menu', $subMenu);\n                  module.animate.hide(false, $subMenu);\n                }, settings.delay.hide);\n              }\n            },\n            click: function (event, skipRefocus) {\n              var\n                $choice        = $(this),\n                $target        = (event)\n                  ? $(event.target)\n                  : $(''),\n                $subMenu       = $choice.find(selector.menu),\n                text           = module.get.choiceText($choice),\n                value          = module.get.choiceValue($choice, text),\n                hasSubMenu     = ($subMenu.length > 0),\n                isBubbledEvent = ($subMenu.find($target).length > 0)\n              ;\n              // prevents IE11 bug where menu receives focus even though `tabindex=-1`\n              if(module.has.menuSearch()) {\n                $(document.activeElement).blur();\n              }\n              if(!isBubbledEvent && (!hasSubMenu || settings.allowCategorySelection)) {\n                if(module.is.searchSelection()) {\n                  if(settings.allowAdditions) {\n                    module.remove.userAddition();\n                  }\n                  module.remove.searchTerm();\n                  if(!module.is.focusedOnSearch() && !(skipRefocus == true)) {\n                    module.focusSearch(true);\n                  }\n                }\n                if(!settings.useLabels) {\n                  module.remove.filteredItem();\n                  module.set.scrollPosition($choice);\n                }\n                module.determine.selectAction.call(this, text, value);\n              }\n            }\n          },\n\n          document: {\n            // label selection should occur even when element has no focus\n            keydown: function(event) {\n              var\n                pressedKey    = event.which,\n                isShortcutKey = module.is.inObject(pressedKey, keys)\n              ;\n              if(isShortcutKey) {\n                var\n                  $label            = $module.find(selector.label),\n                  $activeLabel      = $label.filter('.' + className.active),\n                  activeValue       = $activeLabel.data(metadata.value),\n                  labelIndex        = $label.index($activeLabel),\n                  labelCount        = $label.length,\n                  hasActiveLabel    = ($activeLabel.length > 0),\n                  hasMultipleActive = ($activeLabel.length > 1),\n                  isFirstLabel      = (labelIndex === 0),\n                  isLastLabel       = (labelIndex + 1 == labelCount),\n                  isSearch          = module.is.searchSelection(),\n                  isFocusedOnSearch = module.is.focusedOnSearch(),\n                  isFocused         = module.is.focused(),\n                  caretAtStart      = (isFocusedOnSearch && module.get.caretPosition() === 0),\n                  $nextLabel\n                ;\n                if(isSearch && !hasActiveLabel && !isFocusedOnSearch) {\n                  return;\n                }\n\n                if(pressedKey == keys.leftArrow) {\n                  // activate previous label\n                  if((isFocused || caretAtStart) && !hasActiveLabel) {\n                    module.verbose('Selecting previous label');\n                    $label.last().addClass(className.active);\n                  }\n                  else if(hasActiveLabel) {\n                    if(!event.shiftKey) {\n                      module.verbose('Selecting previous label');\n                      $label.removeClass(className.active);\n                    }\n                    else {\n                      module.verbose('Adding previous label to selection');\n                    }\n                    if(isFirstLabel && !hasMultipleActive) {\n                      $activeLabel.addClass(className.active);\n                    }\n                    else {\n                      $activeLabel.prev(selector.siblingLabel)\n                        .addClass(className.active)\n                        .end()\n                      ;\n                    }\n                    event.preventDefault();\n                  }\n                }\n                else if(pressedKey == keys.rightArrow) {\n                  // activate first label\n                  if(isFocused && !hasActiveLabel) {\n                    $label.first().addClass(className.active);\n                  }\n                  // activate next label\n                  if(hasActiveLabel) {\n                    if(!event.shiftKey) {\n                      module.verbose('Selecting next label');\n                      $label.removeClass(className.active);\n                    }\n                    else {\n                      module.verbose('Adding next label to selection');\n                    }\n                    if(isLastLabel) {\n                      if(isSearch) {\n                        if(!isFocusedOnSearch) {\n                          module.focusSearch();\n                        }\n                        else {\n                          $label.removeClass(className.active);\n                        }\n                      }\n                      else if(hasMultipleActive) {\n                        $activeLabel.next(selector.siblingLabel).addClass(className.active);\n                      }\n                      else {\n                        $activeLabel.addClass(className.active);\n                      }\n                    }\n                    else {\n                      $activeLabel.next(selector.siblingLabel).addClass(className.active);\n                    }\n                    event.preventDefault();\n                  }\n                }\n                else if(pressedKey == keys.deleteKey || pressedKey == keys.backspace) {\n                  if(hasActiveLabel) {\n                    module.verbose('Removing active labels');\n                    if(isLastLabel) {\n                      if(isSearch && !isFocusedOnSearch) {\n                        module.focusSearch();\n                      }\n                    }\n                    $activeLabel.last().next(selector.siblingLabel).addClass(className.active);\n                    module.remove.activeLabels($activeLabel);\n                    event.preventDefault();\n                  }\n                  else if(caretAtStart && !hasActiveLabel && pressedKey == keys.backspace) {\n                    module.verbose('Removing last label on input backspace');\n                    $activeLabel = $label.last().addClass(className.active);\n                    module.remove.activeLabels($activeLabel);\n                  }\n                }\n                else {\n                  $activeLabel.removeClass(className.active);\n                }\n              }\n            }\n          },\n\n          keydown: function(event) {\n            var\n              pressedKey    = event.which,\n              isShortcutKey = module.is.inObject(pressedKey, keys)\n            ;\n            if(isShortcutKey) {\n              var\n                $currentlySelected = $item.not(selector.unselectable).filter('.' + className.selected).eq(0),\n                $activeItem        = $menu.children('.' + className.active).eq(0),\n                $selectedItem      = ($currentlySelected.length > 0)\n                  ? $currentlySelected\n                  : $activeItem,\n                $visibleItems = ($selectedItem.length > 0)\n                  ? $selectedItem.siblings(':not(.' + className.filtered +')').addBack()\n                  : $menu.children(':not(.' + className.filtered +')'),\n                $subMenu              = $selectedItem.children(selector.menu),\n                $parentMenu           = $selectedItem.closest(selector.menu),\n                inVisibleMenu         = ($parentMenu.hasClass(className.visible) || $parentMenu.hasClass(className.animating) || $parentMenu.parent(selector.menu).length > 0),\n                hasSubMenu            = ($subMenu.length> 0),\n                hasSelectedItem       = ($selectedItem.length > 0),\n                selectedIsSelectable  = ($selectedItem.not(selector.unselectable).length > 0),\n                delimiterPressed      = (pressedKey == keys.delimiter && settings.allowAdditions && module.is.multiple()),\n                isAdditionWithoutMenu = (settings.allowAdditions && settings.hideAdditions && (pressedKey == keys.enter || delimiterPressed) && selectedIsSelectable),\n                $nextItem,\n                isSubMenuItem,\n                newIndex\n              ;\n              // allow selection with menu closed\n              if(isAdditionWithoutMenu) {\n                module.verbose('Selecting item from keyboard shortcut', $selectedItem);\n                module.event.item.click.call($selectedItem, event);\n                if(module.is.searchSelection()) {\n                  module.remove.searchTerm();\n                }\n              }\n\n              // visible menu keyboard shortcuts\n              if( module.is.visible() ) {\n\n                // enter (select or open sub-menu)\n                if(pressedKey == keys.enter || delimiterPressed) {\n                  if(pressedKey == keys.enter && hasSelectedItem && hasSubMenu && !settings.allowCategorySelection) {\n                    module.verbose('Pressed enter on unselectable category, opening sub menu');\n                    pressedKey = keys.rightArrow;\n                  }\n                  else if(selectedIsSelectable) {\n                    module.verbose('Selecting item from keyboard shortcut', $selectedItem);\n                    module.event.item.click.call($selectedItem, event);\n                    if(module.is.searchSelection()) {\n                      module.remove.searchTerm();\n                    }\n                  }\n                  event.preventDefault();\n                }\n\n                // sub-menu actions\n                if(hasSelectedItem) {\n\n                  if(pressedKey == keys.leftArrow) {\n\n                    isSubMenuItem = ($parentMenu[0] !== $menu[0]);\n\n                    if(isSubMenuItem) {\n                      module.verbose('Left key pressed, closing sub-menu');\n                      module.animate.hide(false, $parentMenu);\n                      $selectedItem\n                        .removeClass(className.selected)\n                      ;\n                      $parentMenu\n                        .closest(selector.item)\n                          .addClass(className.selected)\n                      ;\n                      event.preventDefault();\n                    }\n                  }\n\n                  // right arrow (show sub-menu)\n                  if(pressedKey == keys.rightArrow) {\n                    if(hasSubMenu) {\n                      module.verbose('Right key pressed, opening sub-menu');\n                      module.animate.show(false, $subMenu);\n                      $selectedItem\n                        .removeClass(className.selected)\n                      ;\n                      $subMenu\n                        .find(selector.item).eq(0)\n                          .addClass(className.selected)\n                      ;\n                      event.preventDefault();\n                    }\n                  }\n                }\n\n                // up arrow (traverse menu up)\n                if(pressedKey == keys.upArrow) {\n                  $nextItem = (hasSelectedItem && inVisibleMenu)\n                    ? $selectedItem.prevAll(selector.item + ':not(' + selector.unselectable + ')').eq(0)\n                    : $item.eq(0)\n                  ;\n                  if($visibleItems.index( $nextItem ) < 0) {\n                    module.verbose('Up key pressed but reached top of current menu');\n                    event.preventDefault();\n                    return;\n                  }\n                  else {\n                    module.verbose('Up key pressed, changing active item');\n                    $selectedItem\n                      .removeClass(className.selected)\n                    ;\n                    $nextItem\n                      .addClass(className.selected)\n                    ;\n                    module.set.scrollPosition($nextItem);\n                    if(settings.selectOnKeydown && module.is.single()) {\n                      module.set.selectedItem($nextItem);\n                    }\n                  }\n                  event.preventDefault();\n                }\n\n                // down arrow (traverse menu down)\n                if(pressedKey == keys.downArrow) {\n                  $nextItem = (hasSelectedItem && inVisibleMenu)\n                    ? $nextItem = $selectedItem.nextAll(selector.item + ':not(' + selector.unselectable + ')').eq(0)\n                    : $item.eq(0)\n                  ;\n                  if($nextItem.length === 0) {\n                    module.verbose('Down key pressed but reached bottom of current menu');\n                    event.preventDefault();\n                    return;\n                  }\n                  else {\n                    module.verbose('Down key pressed, changing active item');\n                    $item\n                      .removeClass(className.selected)\n                    ;\n                    $nextItem\n                      .addClass(className.selected)\n                    ;\n                    module.set.scrollPosition($nextItem);\n                    if(settings.selectOnKeydown && module.is.single()) {\n                      module.set.selectedItem($nextItem);\n                    }\n                  }\n                  event.preventDefault();\n                }\n\n                // page down (show next page)\n                if(pressedKey == keys.pageUp) {\n                  module.scrollPage('up');\n                  event.preventDefault();\n                }\n                if(pressedKey == keys.pageDown) {\n                  module.scrollPage('down');\n                  event.preventDefault();\n                }\n\n                // escape (close menu)\n                if(pressedKey == keys.escape) {\n                  module.verbose('Escape key pressed, closing dropdown');\n                  module.hide();\n                }\n\n              }\n              else {\n                // delimiter key\n                if(delimiterPressed) {\n                  event.preventDefault();\n                }\n                // down arrow (open menu)\n                if(pressedKey == keys.downArrow && !module.is.visible()) {\n                  module.verbose('Down key pressed, showing dropdown');\n                  module.show();\n                  event.preventDefault();\n                }\n              }\n            }\n            else {\n              if( !module.has.search() ) {\n                module.set.selectedLetter( String.fromCharCode(pressedKey) );\n              }\n            }\n          }\n        },\n\n        trigger: {\n          change: function() {\n            var\n              events       = document.createEvent('HTMLEvents'),\n              inputElement = $input[0]\n            ;\n            if(inputElement) {\n              module.verbose('Triggering native change event');\n              events.initEvent('change', true, false);\n              inputElement.dispatchEvent(events);\n            }\n          }\n        },\n\n        determine: {\n          selectAction: function(text, value) {\n            module.verbose('Determining action', settings.action);\n            if( $.isFunction( module.action[settings.action] ) ) {\n              module.verbose('Triggering preset action', settings.action, text, value);\n              module.action[ settings.action ].call(element, text, value, this);\n            }\n            else if( $.isFunction(settings.action) ) {\n              module.verbose('Triggering user action', settings.action, text, value);\n              settings.action.call(element, text, value, this);\n            }\n            else {\n              module.error(error.action, settings.action);\n            }\n          },\n          eventInModule: function(event, callback) {\n            var\n              $target    = $(event.target),\n              inDocument = ($target.closest(document.documentElement).length > 0),\n              inModule   = ($target.closest($module).length > 0)\n            ;\n            callback = $.isFunction(callback)\n              ? callback\n              : function(){}\n            ;\n            if(inDocument && !inModule) {\n              module.verbose('Triggering event', callback);\n              callback();\n              return true;\n            }\n            else {\n              module.verbose('Event occurred in dropdown, canceling callback');\n              return false;\n            }\n          },\n          eventOnElement: function(event, callback) {\n            var\n              $target      = $(event.target),\n              $label       = $target.closest(selector.siblingLabel),\n              inVisibleDOM = document.body.contains(event.target),\n              notOnLabel   = ($module.find($label).length === 0),\n              notInMenu    = ($target.closest($menu).length === 0)\n            ;\n            callback = $.isFunction(callback)\n              ? callback\n              : function(){}\n            ;\n            if(inVisibleDOM && notOnLabel && notInMenu) {\n              module.verbose('Triggering event', callback);\n              callback();\n              return true;\n            }\n            else {\n              module.verbose('Event occurred in dropdown menu, canceling callback');\n              return false;\n            }\n          }\n        },\n\n        action: {\n\n          nothing: function() {},\n\n          activate: function(text, value, element) {\n            value = (value !== undefined)\n              ? value\n              : text\n            ;\n            if( module.can.activate( $(element) ) ) {\n              module.set.selected(value, $(element));\n              if(module.is.multiple() && !module.is.allFiltered()) {\n                return;\n              }\n              else {\n                module.hideAndClear();\n              }\n            }\n          },\n\n          select: function(text, value, element) {\n            value = (value !== undefined)\n              ? value\n              : text\n            ;\n            if( module.can.activate( $(element) ) ) {\n              module.set.value(value, text, $(element));\n              if(module.is.multiple() && !module.is.allFiltered()) {\n                return;\n              }\n              else {\n                module.hideAndClear();\n              }\n            }\n          },\n\n          combo: function(text, value, element) {\n            value = (value !== undefined)\n              ? value\n              : text\n            ;\n            module.set.selected(value, $(element));\n            module.hideAndClear();\n          },\n\n          hide: function(text, value, element) {\n            module.set.value(value, text);\n            module.hideAndClear();\n          }\n\n        },\n\n        get: {\n          id: function() {\n            return id;\n          },\n          defaultText: function() {\n            return $module.data(metadata.defaultText);\n          },\n          defaultValue: function() {\n            return $module.data(metadata.defaultValue);\n          },\n          placeholderText: function() {\n            if(settings.placeholder != 'auto' && typeof settings.placeholder == 'string') {\n              return settings.placeholder;\n            }\n            return $module.data(metadata.placeholderText) || '';\n          },\n          text: function() {\n            return $text.text();\n          },\n          query: function() {\n            return $.trim($search.val());\n          },\n          searchWidth: function(value) {\n            value = (value !== undefined)\n              ? value\n              : $search.val()\n            ;\n            $sizer.text(value);\n            // prevent rounding issues\n            return Math.ceil( $sizer.width() + 1);\n          },\n          selectionCount: function() {\n            var\n              values = module.get.values(),\n              count\n            ;\n            count = ( module.is.multiple() )\n              ? $.isArray(values)\n                ? values.length\n                : 0\n              : (module.get.value() !== '')\n                ? 1\n                : 0\n            ;\n            return count;\n          },\n          transition: function($subMenu) {\n            return (settings.transition == 'auto')\n              ? module.is.upward($subMenu)\n                ? 'slide up'\n                : 'slide down'\n              : settings.transition\n            ;\n          },\n          userValues: function() {\n            var\n              values = module.get.values()\n            ;\n            if(!values) {\n              return false;\n            }\n            values = $.isArray(values)\n              ? values\n              : [values]\n            ;\n            return $.grep(values, function(value) {\n              return (module.get.item(value) === false);\n            });\n          },\n          uniqueArray: function(array) {\n            return $.grep(array, function (value, index) {\n                return $.inArray(value, array) === index;\n            });\n          },\n          caretPosition: function() {\n            var\n              input = $search.get(0),\n              range,\n              rangeLength\n            ;\n            if('selectionStart' in input) {\n              return input.selectionStart;\n            }\n            else if (document.selection) {\n              input.focus();\n              range       = document.selection.createRange();\n              rangeLength = range.text.length;\n              range.moveStart('character', -input.value.length);\n              return range.text.length - rangeLength;\n            }\n          },\n          value: function() {\n            var\n              value = ($input.length > 0)\n                ? $input.val()\n                : $module.data(metadata.value),\n              isEmptyMultiselect = ($.isArray(value) && value.length === 1 && value[0] === '')\n            ;\n            // prevents placeholder element from being selected when multiple\n            return (value === undefined || isEmptyMultiselect)\n              ? ''\n              : value\n            ;\n          },\n          values: function() {\n            var\n              value = module.get.value()\n            ;\n            if(value === '') {\n              return '';\n            }\n            return ( !module.has.selectInput() && module.is.multiple() )\n              ? (typeof value == 'string') // delimited string\n                ? value.split(settings.delimiter)\n                : ''\n              : value\n            ;\n          },\n          remoteValues: function() {\n            var\n              values = module.get.values(),\n              remoteValues = false\n            ;\n            if(values) {\n              if(typeof values == 'string') {\n                values = [values];\n              }\n              $.each(values, function(index, value) {\n                var\n                  name = module.read.remoteData(value)\n                ;\n                module.verbose('Restoring value from session data', name, value);\n                if(name) {\n                  if(!remoteValues) {\n                    remoteValues = {};\n                  }\n                  remoteValues[value] = name;\n                }\n              });\n            }\n            return remoteValues;\n          },\n          choiceText: function($choice, preserveHTML) {\n            preserveHTML = (preserveHTML !== undefined)\n              ? preserveHTML\n              : settings.preserveHTML\n            ;\n            if($choice) {\n              if($choice.find(selector.menu).length > 0) {\n                module.verbose('Retrieving text of element with sub-menu');\n                $choice = $choice.clone();\n                $choice.find(selector.menu).remove();\n                $choice.find(selector.menuIcon).remove();\n              }\n              return ($choice.data(metadata.text) !== undefined)\n                ? $choice.data(metadata.text)\n                : (preserveHTML)\n                  ? $.trim($choice.html())\n                  : $.trim($choice.text())\n              ;\n            }\n          },\n          choiceValue: function($choice, choiceText) {\n            choiceText = choiceText || module.get.choiceText($choice);\n            if(!$choice) {\n              return false;\n            }\n            return ($choice.data(metadata.value) !== undefined)\n              ? String( $choice.data(metadata.value) )\n              : (typeof choiceText === 'string')\n                ? $.trim(choiceText.toLowerCase())\n                : String(choiceText)\n            ;\n          },\n          inputEvent: function() {\n            var\n              input = $search[0]\n            ;\n            if(input) {\n              return (input.oninput !== undefined)\n                ? 'input'\n                : (input.onpropertychange !== undefined)\n                  ? 'propertychange'\n                  : 'keyup'\n              ;\n            }\n            return false;\n          },\n          selectValues: function() {\n            var\n              select = {}\n            ;\n            select.values = [];\n            $module\n              .find('option')\n                .each(function() {\n                  var\n                    $option  = $(this),\n                    name     = $option.html(),\n                    disabled = $option.attr('disabled'),\n                    value    = ( $option.attr('value') !== undefined )\n                      ? $option.attr('value')\n                      : name\n                  ;\n                  if(settings.placeholder === 'auto' && value === '') {\n                    select.placeholder = name;\n                  }\n                  else {\n                    select.values.push({\n                      name     : name,\n                      value    : value,\n                      disabled : disabled\n                    });\n                  }\n                })\n            ;\n            if(settings.placeholder && settings.placeholder !== 'auto') {\n              module.debug('Setting placeholder value to', settings.placeholder);\n              select.placeholder = settings.placeholder;\n            }\n            if(settings.sortSelect) {\n              select.values.sort(function(a, b) {\n                return (a.name > b.name)\n                  ? 1\n                  : -1\n                ;\n              });\n              module.debug('Retrieved and sorted values from select', select);\n            }\n            else {\n              module.debug('Retrieved values from select', select);\n            }\n            return select;\n          },\n          activeItem: function() {\n            return $item.filter('.'  + className.active);\n          },\n          selectedItem: function() {\n            var\n              $selectedItem = $item.not(selector.unselectable).filter('.'  + className.selected)\n            ;\n            return ($selectedItem.length > 0)\n              ? $selectedItem\n              : $item.eq(0)\n            ;\n          },\n          itemWithAdditions: function(value) {\n            var\n              $items       = module.get.item(value),\n              $userItems   = module.create.userChoice(value),\n              hasUserItems = ($userItems && $userItems.length > 0)\n            ;\n            if(hasUserItems) {\n              $items = ($items.length > 0)\n                ? $items.add($userItems)\n                : $userItems\n              ;\n            }\n            return $items;\n          },\n          item: function(value, strict) {\n            var\n              $selectedItem = false,\n              shouldSearch,\n              isMultiple\n            ;\n            value = (value !== undefined)\n              ? value\n              : ( module.get.values() !== undefined)\n                ? module.get.values()\n                : module.get.text()\n            ;\n            shouldSearch = (isMultiple)\n              ? (value.length > 0)\n              : (value !== undefined && value !== null)\n            ;\n            isMultiple = (module.is.multiple() && $.isArray(value));\n            strict     = (value === '' || value === 0)\n              ? true\n              : strict || false\n            ;\n            if(shouldSearch) {\n              $item\n                .each(function() {\n                  var\n                    $choice       = $(this),\n                    optionText    = module.get.choiceText($choice),\n                    optionValue   = module.get.choiceValue($choice, optionText)\n                  ;\n                  // safe early exit\n                  if(optionValue === null || optionValue === undefined) {\n                    return;\n                  }\n                  if(isMultiple) {\n                    if($.inArray( String(optionValue), value) !== -1 || $.inArray(optionText, value) !== -1) {\n                      $selectedItem = ($selectedItem)\n                        ? $selectedItem.add($choice)\n                        : $choice\n                      ;\n                    }\n                  }\n                  else if(strict) {\n                    module.verbose('Ambiguous dropdown value using strict type check', $choice, value);\n                    if( optionValue === value || optionText === value) {\n                      $selectedItem = $choice;\n                      return true;\n                    }\n                  }\n                  else {\n                    if( String(optionValue) == String(value) || optionText == value) {\n                      module.verbose('Found select item by value', optionValue, value);\n                      $selectedItem = $choice;\n                      return true;\n                    }\n                  }\n                })\n              ;\n            }\n            return $selectedItem;\n          }\n        },\n\n        check: {\n          maxSelections: function(selectionCount) {\n            if(settings.maxSelections) {\n              selectionCount = (selectionCount !== undefined)\n                ? selectionCount\n                : module.get.selectionCount()\n              ;\n              if(selectionCount >= settings.maxSelections) {\n                module.debug('Maximum selection count reached');\n                if(settings.useLabels) {\n                  $item.addClass(className.filtered);\n                  module.add.message(message.maxSelections);\n                }\n                return true;\n              }\n              else {\n                module.verbose('No longer at maximum selection count');\n                module.remove.message();\n                module.remove.filteredItem();\n                if(module.is.searchSelection()) {\n                  module.filterItems();\n                }\n                return false;\n              }\n            }\n            return true;\n          }\n        },\n\n        restore: {\n          defaults: function() {\n            module.clear();\n            module.restore.defaultText();\n            module.restore.defaultValue();\n          },\n          defaultText: function() {\n            var\n              defaultText     = module.get.defaultText(),\n              placeholderText = module.get.placeholderText\n            ;\n            if(defaultText === placeholderText) {\n              module.debug('Restoring default placeholder text', defaultText);\n              module.set.placeholderText(defaultText);\n            }\n            else {\n              module.debug('Restoring default text', defaultText);\n              module.set.text(defaultText);\n            }\n          },\n          placeholderText: function() {\n            module.set.placeholderText();\n          },\n          defaultValue: function() {\n            var\n              defaultValue = module.get.defaultValue()\n            ;\n            if(defaultValue !== undefined) {\n              module.debug('Restoring default value', defaultValue);\n              if(defaultValue !== '') {\n                module.set.value(defaultValue);\n                module.set.selected();\n              }\n              else {\n                module.remove.activeItem();\n                module.remove.selectedItem();\n              }\n            }\n          },\n          labels: function() {\n            if(settings.allowAdditions) {\n              if(!settings.useLabels) {\n                module.error(error.labels);\n                settings.useLabels = true;\n              }\n              module.debug('Restoring selected values');\n              module.create.userLabels();\n            }\n            module.check.maxSelections();\n          },\n          selected: function() {\n            module.restore.values();\n            if(module.is.multiple()) {\n              module.debug('Restoring previously selected values and labels');\n              module.restore.labels();\n            }\n            else {\n              module.debug('Restoring previously selected values');\n            }\n          },\n          values: function() {\n            // prevents callbacks from occurring on initial load\n            module.set.initialLoad();\n            if(settings.apiSettings && settings.saveRemoteData && module.get.remoteValues()) {\n              module.restore.remoteValues();\n            }\n            else {\n              module.set.selected();\n            }\n            module.remove.initialLoad();\n          },\n          remoteValues: function() {\n            var\n              values = module.get.remoteValues()\n            ;\n            module.debug('Recreating selected from session data', values);\n            if(values) {\n              if( module.is.single() ) {\n                $.each(values, function(value, name) {\n                  module.set.text(name);\n                });\n              }\n              else {\n                $.each(values, function(value, name) {\n                  module.add.label(value, name);\n                });\n              }\n            }\n          }\n        },\n\n        read: {\n          remoteData: function(value) {\n            var\n              name\n            ;\n            if(window.Storage === undefined) {\n              module.error(error.noStorage);\n              return;\n            }\n            name = sessionStorage.getItem(value);\n            return (name !== undefined)\n              ? name\n              : false\n            ;\n          }\n        },\n\n        save: {\n          defaults: function() {\n            module.save.defaultText();\n            module.save.placeholderText();\n            module.save.defaultValue();\n          },\n          defaultValue: function() {\n            var\n              value = module.get.value()\n            ;\n            module.verbose('Saving default value as', value);\n            $module.data(metadata.defaultValue, value);\n          },\n          defaultText: function() {\n            var\n              text = module.get.text()\n            ;\n            module.verbose('Saving default text as', text);\n            $module.data(metadata.defaultText, text);\n          },\n          placeholderText: function() {\n            var\n              text\n            ;\n            if(settings.placeholder !== false && $text.hasClass(className.placeholder)) {\n              text = module.get.text();\n              module.verbose('Saving placeholder text as', text);\n              $module.data(metadata.placeholderText, text);\n            }\n          },\n          remoteData: function(name, value) {\n            if(window.Storage === undefined) {\n              module.error(error.noStorage);\n              return;\n            }\n            module.verbose('Saving remote data to session storage', value, name);\n            sessionStorage.setItem(value, name);\n          }\n        },\n\n        clear: function() {\n          if(module.is.multiple() && settings.useLabels) {\n            module.remove.labels();\n          }\n          else {\n            module.remove.activeItem();\n            module.remove.selectedItem();\n          }\n          module.set.placeholderText();\n          module.clearValue();\n        },\n\n        clearValue: function() {\n          module.set.value('');\n        },\n\n        scrollPage: function(direction, $selectedItem) {\n          var\n            $currentItem  = $selectedItem || module.get.selectedItem(),\n            $menu         = $currentItem.closest(selector.menu),\n            menuHeight    = $menu.outerHeight(),\n            currentScroll = $menu.scrollTop(),\n            itemHeight    = $item.eq(0).outerHeight(),\n            itemsPerPage  = Math.floor(menuHeight / itemHeight),\n            maxScroll     = $menu.prop('scrollHeight'),\n            newScroll     = (direction == 'up')\n              ? currentScroll - (itemHeight * itemsPerPage)\n              : currentScroll + (itemHeight * itemsPerPage),\n            $selectableItem = $item.not(selector.unselectable),\n            isWithinRange,\n            $nextSelectedItem,\n            elementIndex\n          ;\n          elementIndex      = (direction == 'up')\n            ? $selectableItem.index($currentItem) - itemsPerPage\n            : $selectableItem.index($currentItem) + itemsPerPage\n          ;\n          isWithinRange = (direction == 'up')\n            ? (elementIndex >= 0)\n            : (elementIndex < $selectableItem.length)\n          ;\n          $nextSelectedItem = (isWithinRange)\n            ? $selectableItem.eq(elementIndex)\n            : (direction == 'up')\n              ? $selectableItem.first()\n              : $selectableItem.last()\n          ;\n          if($nextSelectedItem.length > 0) {\n            module.debug('Scrolling page', direction, $nextSelectedItem);\n            $currentItem\n              .removeClass(className.selected)\n            ;\n            $nextSelectedItem\n              .addClass(className.selected)\n            ;\n            if(settings.selectOnKeydown && module.is.single()) {\n              module.set.selectedItem($nextSelectedItem);\n            }\n            $menu\n              .scrollTop(newScroll)\n            ;\n          }\n        },\n\n        set: {\n          filtered: function() {\n            var\n              isMultiple       = module.is.multiple(),\n              isSearch         = module.is.searchSelection(),\n              isSearchMultiple = (isMultiple && isSearch),\n              searchValue      = (isSearch)\n                ? module.get.query()\n                : '',\n              hasSearchValue   = (typeof searchValue === 'string' && searchValue.length > 0),\n              searchWidth      = module.get.searchWidth(),\n              valueIsSet       = searchValue !== ''\n            ;\n            if(isMultiple && hasSearchValue) {\n              module.verbose('Adjusting input width', searchWidth, settings.glyphWidth);\n              $search.css('width', searchWidth);\n            }\n            if(hasSearchValue || (isSearchMultiple && valueIsSet)) {\n              module.verbose('Hiding placeholder text');\n              $text.addClass(className.filtered);\n            }\n            else if(!isMultiple || (isSearchMultiple && !valueIsSet)) {\n              module.verbose('Showing placeholder text');\n              $text.removeClass(className.filtered);\n            }\n          },\n          empty: function() {\n            $module.addClass(className.empty);\n          },\n          loading: function() {\n            $module.addClass(className.loading);\n          },\n          placeholderText: function(text) {\n            text = text || module.get.placeholderText();\n            module.debug('Setting placeholder text', text);\n            module.set.text(text);\n            $text.addClass(className.placeholder);\n          },\n          tabbable: function() {\n            if( module.is.searchSelection() ) {\n              module.debug('Added tabindex to searchable dropdown');\n              $search\n                .val('')\n                .attr('tabindex', 0)\n              ;\n              $menu\n                .attr('tabindex', -1)\n              ;\n            }\n            else {\n              module.debug('Added tabindex to dropdown');\n              if( $module.attr('tabindex') === undefined) {\n                $module\n                  .attr('tabindex', 0)\n                ;\n                $menu\n                  .attr('tabindex', -1)\n                ;\n              }\n            }\n          },\n          initialLoad: function() {\n            module.verbose('Setting initial load');\n            initialLoad = true;\n          },\n          activeItem: function($item) {\n            if( settings.allowAdditions && $item.filter(selector.addition).length > 0 ) {\n              $item.addClass(className.filtered);\n            }\n            else {\n              $item.addClass(className.active);\n            }\n          },\n          partialSearch: function(text) {\n            var\n              length = module.get.query().length\n            ;\n            $search.val( text.substr(0, length));\n          },\n          scrollPosition: function($item, forceScroll) {\n            var\n              edgeTolerance = 5,\n              $menu,\n              hasActive,\n              offset,\n              itemHeight,\n              itemOffset,\n              menuOffset,\n              menuScroll,\n              menuHeight,\n              abovePage,\n              belowPage\n            ;\n\n            $item       = $item || module.get.selectedItem();\n            $menu       = $item.closest(selector.menu);\n            hasActive   = ($item && $item.length > 0);\n            forceScroll = (forceScroll !== undefined)\n              ? forceScroll\n              : false\n            ;\n            if($item && $menu.length > 0 && hasActive) {\n              itemOffset = $item.position().top;\n\n              $menu.addClass(className.loading);\n              menuScroll = $menu.scrollTop();\n              menuOffset = $menu.offset().top;\n              itemOffset = $item.offset().top;\n              offset     = menuScroll - menuOffset + itemOffset;\n              if(!forceScroll) {\n                menuHeight = $menu.height();\n                belowPage  = menuScroll + menuHeight < (offset + edgeTolerance);\n                abovePage  = ((offset - edgeTolerance) < menuScroll);\n              }\n              module.debug('Scrolling to active item', offset);\n              if(forceScroll || abovePage || belowPage) {\n                $menu.scrollTop(offset);\n              }\n              $menu.removeClass(className.loading);\n            }\n          },\n          text: function(text) {\n            if(settings.action !== 'select') {\n              if(settings.action == 'combo') {\n                module.debug('Changing combo button text', text, $combo);\n                if(settings.preserveHTML) {\n                  $combo.html(text);\n                }\n                else {\n                  $combo.text(text);\n                }\n              }\n              else {\n                if(text !== module.get.placeholderText()) {\n                  $text.removeClass(className.placeholder);\n                }\n                module.debug('Changing text', text, $text);\n                $text\n                  .removeClass(className.filtered)\n                ;\n                if(settings.preserveHTML) {\n                  $text.html(text);\n                }\n                else {\n                  $text.text(text);\n                }\n              }\n            }\n          },\n          selectedItem: function($item) {\n            var\n              value      = module.get.choiceValue($item),\n              searchText = module.get.choiceText($item, false),\n              text       = module.get.choiceText($item, true)\n            ;\n            module.debug('Setting user selection to item', $item);\n            module.remove.activeItem();\n            module.set.partialSearch(searchText);\n            module.set.activeItem($item);\n            module.set.selected(value, $item);\n            module.set.text(text);\n          },\n          selectedLetter: function(letter) {\n            var\n              $selectedItem         = $item.filter('.' + className.selected),\n              alreadySelectedLetter = $selectedItem.length > 0 && module.has.firstLetter($selectedItem, letter),\n              $nextValue            = false,\n              $nextItem\n            ;\n            // check next of same letter\n            if(alreadySelectedLetter) {\n              $nextItem = $selectedItem.nextAll($item).eq(0);\n              if( module.has.firstLetter($nextItem, letter) ) {\n                $nextValue  = $nextItem;\n              }\n            }\n            // check all values\n            if(!$nextValue) {\n              $item\n                .each(function(){\n                  if(module.has.firstLetter($(this), letter)) {\n                    $nextValue = $(this);\n                    return false;\n                  }\n                })\n              ;\n            }\n            // set next value\n            if($nextValue) {\n              module.verbose('Scrolling to next value with letter', letter);\n              module.set.scrollPosition($nextValue);\n              $selectedItem.removeClass(className.selected);\n              $nextValue.addClass(className.selected);\n              if(settings.selectOnKeydown && module.is.single()) {\n                module.set.selectedItem($nextValue);\n              }\n            }\n          },\n          direction: function($menu) {\n            if(settings.direction == 'auto') {\n              // reset position\n              module.remove.upward();\n\n              if(module.can.openDownward($menu)) {\n                module.remove.upward($menu);\n              }\n              else {\n                module.set.upward($menu);\n              }\n              if(!module.is.leftward($menu) && !module.can.openRightward($menu)) {\n                module.set.leftward($menu);\n              }\n            }\n            else if(settings.direction == 'upward') {\n              module.set.upward($menu);\n            }\n          },\n          upward: function($currentMenu) {\n            var $element = $currentMenu || $module;\n            $element.addClass(className.upward);\n          },\n          leftward: function($currentMenu) {\n            var $element = $currentMenu || $menu;\n            $element.addClass(className.leftward);\n          },\n          value: function(value, text, $selected) {\n            var\n              escapedValue = module.escape.value(value),\n              hasInput     = ($input.length > 0),\n              currentValue = module.get.values(),\n              stringValue  = (value !== undefined)\n                ? String(value)\n                : value,\n              newValue\n            ;\n            if(hasInput) {\n              if(!settings.allowReselection && stringValue == currentValue) {\n                module.verbose('Skipping value update already same value', value, currentValue);\n                if(!module.is.initialLoad()) {\n                  return;\n                }\n              }\n\n              if( module.is.single() && module.has.selectInput() && module.can.extendSelect() ) {\n                module.debug('Adding user option', value);\n                module.add.optionValue(value);\n              }\n              module.debug('Updating input value', escapedValue, currentValue);\n              internalChange = true;\n              $input\n                .val(escapedValue)\n              ;\n              if(settings.fireOnInit === false && module.is.initialLoad()) {\n                module.debug('Input native change event ignored on initial load');\n              }\n              else {\n                module.trigger.change();\n              }\n              internalChange = false;\n            }\n            else {\n              module.verbose('Storing value in metadata', escapedValue, $input);\n              if(escapedValue !== currentValue) {\n                $module.data(metadata.value, stringValue);\n              }\n            }\n            if(settings.fireOnInit === false && module.is.initialLoad()) {\n              module.verbose('No callback on initial load', settings.onChange);\n            }\n            else {\n              settings.onChange.call(element, value, text, $selected);\n            }\n          },\n          active: function() {\n            $module\n              .addClass(className.active)\n            ;\n          },\n          multiple: function() {\n            $module.addClass(className.multiple);\n          },\n          visible: function() {\n            $module.addClass(className.visible);\n          },\n          exactly: function(value, $selectedItem) {\n            module.debug('Setting selected to exact values');\n            module.clear();\n            module.set.selected(value, $selectedItem);\n          },\n          selected: function(value, $selectedItem) {\n            var\n              isMultiple = module.is.multiple(),\n              $userSelectedItem\n            ;\n            $selectedItem = (settings.allowAdditions)\n              ? $selectedItem || module.get.itemWithAdditions(value)\n              : $selectedItem || module.get.item(value)\n            ;\n            if(!$selectedItem) {\n              return;\n            }\n            module.debug('Setting selected menu item to', $selectedItem);\n            if(module.is.multiple()) {\n              module.remove.searchWidth();\n            }\n            if(module.is.single()) {\n              module.remove.activeItem();\n              module.remove.selectedItem();\n            }\n            else if(settings.useLabels) {\n              module.remove.selectedItem();\n            }\n            // select each item\n            $selectedItem\n              .each(function() {\n                var\n                  $selected      = $(this),\n                  selectedText   = module.get.choiceText($selected),\n                  selectedValue  = module.get.choiceValue($selected, selectedText),\n\n                  isFiltered     = $selected.hasClass(className.filtered),\n                  isActive       = $selected.hasClass(className.active),\n                  isUserValue    = $selected.hasClass(className.addition),\n                  shouldAnimate  = (isMultiple && $selectedItem.length == 1)\n                ;\n                if(isMultiple) {\n                  if(!isActive || isUserValue) {\n                    if(settings.apiSettings && settings.saveRemoteData) {\n                      module.save.remoteData(selectedText, selectedValue);\n                    }\n                    if(settings.useLabels) {\n                      module.add.label(selectedValue, selectedText, shouldAnimate);\n                      module.add.value(selectedValue, selectedText, $selected);\n                      module.set.activeItem($selected);\n                      module.filterActive();\n                      module.select.nextAvailable($selectedItem);\n                    }\n                    else {\n                      module.add.value(selectedValue, selectedText, $selected);\n                      module.set.text(module.add.variables(message.count));\n                      module.set.activeItem($selected);\n                    }\n                  }\n                  else if(!isFiltered) {\n                    module.debug('Selected active value, removing label');\n                    module.remove.selected(selectedValue);\n                  }\n                }\n                else {\n                  if(settings.apiSettings && settings.saveRemoteData) {\n                    module.save.remoteData(selectedText, selectedValue);\n                  }\n                  module.set.text(selectedText);\n                  module.set.value(selectedValue, selectedText, $selected);\n                  $selected\n                    .addClass(className.active)\n                    .addClass(className.selected)\n                  ;\n                }\n              })\n            ;\n          }\n        },\n\n        add: {\n          label: function(value, text, shouldAnimate) {\n            var\n              $next  = module.is.searchSelection()\n                ? $search\n                : $text,\n              escapedValue = module.escape.value(value),\n              $label\n            ;\n            if(settings.ignoreCase) {\n              escapedValue = escapedValue.toLowerCase();\n            }\n            $label =  $('<a />')\n              .addClass(className.label)\n              .attr('data-' + metadata.value, escapedValue)\n              .html(templates.label(escapedValue, text))\n            ;\n            $label = settings.onLabelCreate.call($label, escapedValue, text);\n\n            if(module.has.label(value)) {\n              module.debug('User selection already exists, skipping', escapedValue);\n              return;\n            }\n            if(settings.label.variation) {\n              $label.addClass(settings.label.variation);\n            }\n            if(shouldAnimate === true) {\n              module.debug('Animating in label', $label);\n              $label\n                .addClass(className.hidden)\n                .insertBefore($next)\n                .transition(settings.label.transition, settings.label.duration)\n              ;\n            }\n            else {\n              module.debug('Adding selection label', $label);\n              $label\n                .insertBefore($next)\n              ;\n            }\n          },\n          message: function(message) {\n            var\n              $message = $menu.children(selector.message),\n              html     = settings.templates.message(module.add.variables(message))\n            ;\n            if($message.length > 0) {\n              $message\n                .html(html)\n              ;\n            }\n            else {\n              $message = $('<div/>')\n                .html(html)\n                .addClass(className.message)\n                .appendTo($menu)\n              ;\n            }\n          },\n          optionValue: function(value) {\n            var\n              escapedValue = module.escape.value(value),\n              $option      = $input.find('option[value=\"' + module.escape.string(escapedValue) + '\"]'),\n              hasOption    = ($option.length > 0)\n            ;\n            if(hasOption) {\n              return;\n            }\n            // temporarily disconnect observer\n            module.disconnect.selectObserver();\n            if( module.is.single() ) {\n              module.verbose('Removing previous user addition');\n              $input.find('option.' + className.addition).remove();\n            }\n            $('<option/>')\n              .prop('value', escapedValue)\n              .addClass(className.addition)\n              .html(value)\n              .appendTo($input)\n            ;\n            module.verbose('Adding user addition as an <option>', value);\n            module.observe.select();\n          },\n          userSuggestion: function(value) {\n            var\n              $addition         = $menu.children(selector.addition),\n              $existingItem     = module.get.item(value),\n              alreadyHasValue   = $existingItem && $existingItem.not(selector.addition).length,\n              hasUserSuggestion = $addition.length > 0,\n              html\n            ;\n            if(settings.useLabels && module.has.maxSelections()) {\n              return;\n            }\n            if(value === '' || alreadyHasValue) {\n              $addition.remove();\n              return;\n            }\n            if(hasUserSuggestion) {\n              $addition\n                .data(metadata.value, value)\n                .data(metadata.text, value)\n                .attr('data-' + metadata.value, value)\n                .attr('data-' + metadata.text, value)\n                .removeClass(className.filtered)\n              ;\n              if(!settings.hideAdditions) {\n                html = settings.templates.addition( module.add.variables(message.addResult, value) );\n                $addition\n                  .html(html)\n                ;\n              }\n              module.verbose('Replacing user suggestion with new value', $addition);\n            }\n            else {\n              $addition = module.create.userChoice(value);\n              $addition\n                .prependTo($menu)\n              ;\n              module.verbose('Adding item choice to menu corresponding with user choice addition', $addition);\n            }\n            if(!settings.hideAdditions || module.is.allFiltered()) {\n              $addition\n                .addClass(className.selected)\n                .siblings()\n                .removeClass(className.selected)\n              ;\n            }\n            module.refreshItems();\n          },\n          variables: function(message, term) {\n            var\n              hasCount    = (message.search('{count}') !== -1),\n              hasMaxCount = (message.search('{maxCount}') !== -1),\n              hasTerm     = (message.search('{term}') !== -1),\n              values,\n              count,\n              query\n            ;\n            module.verbose('Adding templated variables to message', message);\n            if(hasCount) {\n              count  = module.get.selectionCount();\n              message = message.replace('{count}', count);\n            }\n            if(hasMaxCount) {\n              count  = module.get.selectionCount();\n              message = message.replace('{maxCount}', settings.maxSelections);\n            }\n            if(hasTerm) {\n              query   = term || module.get.query();\n              message = message.replace('{term}', query);\n            }\n            return message;\n          },\n          value: function(addedValue, addedText, $selectedItem) {\n            var\n              currentValue = module.get.values(),\n              newValue\n            ;\n            if(module.has.value(addedValue)) {\n              module.debug('Value already selected');\n              return;\n            }\n            if(addedValue === '') {\n              module.debug('Cannot select blank values from multiselect');\n              return;\n            }\n            // extend current array\n            if($.isArray(currentValue)) {\n              newValue = currentValue.concat([addedValue]);\n              newValue = module.get.uniqueArray(newValue);\n            }\n            else {\n              newValue = [addedValue];\n            }\n            // add values\n            if( module.has.selectInput() ) {\n              if(module.can.extendSelect()) {\n                module.debug('Adding value to select', addedValue, newValue, $input);\n                module.add.optionValue(addedValue);\n              }\n            }\n            else {\n              newValue = newValue.join(settings.delimiter);\n              module.debug('Setting hidden input to delimited value', newValue, $input);\n            }\n\n            if(settings.fireOnInit === false && module.is.initialLoad()) {\n              module.verbose('Skipping onadd callback on initial load', settings.onAdd);\n            }\n            else {\n              settings.onAdd.call(element, addedValue, addedText, $selectedItem);\n            }\n            module.set.value(newValue, addedValue, addedText, $selectedItem);\n            module.check.maxSelections();\n          }\n        },\n\n        remove: {\n          active: function() {\n            $module.removeClass(className.active);\n          },\n          activeLabel: function() {\n            $module.find(selector.label).removeClass(className.active);\n          },\n          empty: function() {\n            $module.removeClass(className.empty);\n          },\n          loading: function() {\n            $module.removeClass(className.loading);\n          },\n          initialLoad: function() {\n            initialLoad = false;\n          },\n          upward: function($currentMenu) {\n            var $element = $currentMenu || $module;\n            $element.removeClass(className.upward);\n          },\n          leftward: function($currentMenu) {\n            var $element = $currentMenu || $menu;\n            $element.removeClass(className.leftward);\n          },\n          visible: function() {\n            $module.removeClass(className.visible);\n          },\n          activeItem: function() {\n            $item.removeClass(className.active);\n          },\n          filteredItem: function() {\n            if(settings.useLabels && module.has.maxSelections() ) {\n              return;\n            }\n            if(settings.useLabels && module.is.multiple()) {\n              $item.not('.' + className.active).removeClass(className.filtered);\n            }\n            else {\n              $item.removeClass(className.filtered);\n            }\n            module.remove.empty();\n          },\n          optionValue: function(value) {\n            var\n              escapedValue = module.escape.value(value),\n              $option      = $input.find('option[value=\"' + module.escape.string(escapedValue) + '\"]'),\n              hasOption    = ($option.length > 0)\n            ;\n            if(!hasOption || !$option.hasClass(className.addition)) {\n              return;\n            }\n            // temporarily disconnect observer\n            if(selectObserver) {\n              selectObserver.disconnect();\n              module.verbose('Temporarily disconnecting mutation observer');\n            }\n            $option.remove();\n            module.verbose('Removing user addition as an <option>', escapedValue);\n            if(selectObserver) {\n              selectObserver.observe($input[0], {\n                childList : true,\n                subtree   : true\n              });\n            }\n          },\n          message: function() {\n            $menu.children(selector.message).remove();\n          },\n          searchWidth: function() {\n            $search.css('width', '');\n          },\n          searchTerm: function() {\n            module.verbose('Cleared search term');\n            $search.val('');\n            module.set.filtered();\n          },\n          userAddition: function() {\n            $item.filter(selector.addition).remove();\n          },\n          selected: function(value, $selectedItem) {\n            $selectedItem = (settings.allowAdditions)\n              ? $selectedItem || module.get.itemWithAdditions(value)\n              : $selectedItem || module.get.item(value)\n            ;\n\n            if(!$selectedItem) {\n              return false;\n            }\n\n            $selectedItem\n              .each(function() {\n                var\n                  $selected     = $(this),\n                  selectedText  = module.get.choiceText($selected),\n                  selectedValue = module.get.choiceValue($selected, selectedText)\n                ;\n                if(module.is.multiple()) {\n                  if(settings.useLabels) {\n                    module.remove.value(selectedValue, selectedText, $selected);\n                    module.remove.label(selectedValue);\n                  }\n                  else {\n                    module.remove.value(selectedValue, selectedText, $selected);\n                    if(module.get.selectionCount() === 0) {\n                      module.set.placeholderText();\n                    }\n                    else {\n                      module.set.text(module.add.variables(message.count));\n                    }\n                  }\n                }\n                else {\n                  module.remove.value(selectedValue, selectedText, $selected);\n                }\n                $selected\n                  .removeClass(className.filtered)\n                  .removeClass(className.active)\n                ;\n                if(settings.useLabels) {\n                  $selected.removeClass(className.selected);\n                }\n              })\n            ;\n          },\n          selectedItem: function() {\n            $item.removeClass(className.selected);\n          },\n          value: function(removedValue, removedText, $removedItem) {\n            var\n              values = module.get.values(),\n              newValue\n            ;\n            if( module.has.selectInput() ) {\n              module.verbose('Input is <select> removing selected option', removedValue);\n              newValue = module.remove.arrayValue(removedValue, values);\n              module.remove.optionValue(removedValue);\n            }\n            else {\n              module.verbose('Removing from delimited values', removedValue);\n              newValue = module.remove.arrayValue(removedValue, values);\n              newValue = newValue.join(settings.delimiter);\n            }\n            if(settings.fireOnInit === false && module.is.initialLoad()) {\n              module.verbose('No callback on initial load', settings.onRemove);\n            }\n            else {\n              settings.onRemove.call(element, removedValue, removedText, $removedItem);\n            }\n            module.set.value(newValue, removedText, $removedItem);\n            module.check.maxSelections();\n          },\n          arrayValue: function(removedValue, values) {\n            if( !$.isArray(values) ) {\n              values = [values];\n            }\n            values = $.grep(values, function(value){\n              return (removedValue != value);\n            });\n            module.verbose('Removed value from delimited string', removedValue, values);\n            return values;\n          },\n          label: function(value, shouldAnimate) {\n            var\n              $labels       = $module.find(selector.label),\n              $removedLabel = $labels.filter('[data-' + metadata.value + '=\"' + module.escape.string(value) +'\"]')\n            ;\n            module.verbose('Removing label', $removedLabel);\n            $removedLabel.remove();\n          },\n          activeLabels: function($activeLabels) {\n            $activeLabels = $activeLabels || $module.find(selector.label).filter('.' + className.active);\n            module.verbose('Removing active label selections', $activeLabels);\n            module.remove.labels($activeLabels);\n          },\n          labels: function($labels) {\n            $labels = $labels || $module.find(selector.label);\n            module.verbose('Removing labels', $labels);\n            $labels\n              .each(function(){\n                var\n                  $label      = $(this),\n                  value       = $label.data(metadata.value),\n                  stringValue = (value !== undefined)\n                    ? String(value)\n                    : value,\n                  isUserValue = module.is.userValue(stringValue)\n                ;\n                if(settings.onLabelRemove.call($label, value) === false) {\n                  module.debug('Label remove callback cancelled removal');\n                  return;\n                }\n                module.remove.message();\n                if(isUserValue) {\n                  module.remove.value(stringValue);\n                  module.remove.label(stringValue);\n                }\n                else {\n                  // selected will also remove label\n                  module.remove.selected(stringValue);\n                }\n              })\n            ;\n          },\n          tabbable: function() {\n            if( module.is.searchSelection() ) {\n              module.debug('Searchable dropdown initialized');\n              $search\n                .removeAttr('tabindex')\n              ;\n              $menu\n                .removeAttr('tabindex')\n              ;\n            }\n            else {\n              module.debug('Simple selection dropdown initialized');\n              $module\n                .removeAttr('tabindex')\n              ;\n              $menu\n                .removeAttr('tabindex')\n              ;\n            }\n          }\n        },\n\n        has: {\n          menuSearch: function() {\n            return (module.has.search() && $search.closest($menu).length > 0);\n          },\n          search: function() {\n            return ($search.length > 0);\n          },\n          sizer: function() {\n            return ($sizer.length > 0);\n          },\n          selectInput: function() {\n            return ( $input.is('select') );\n          },\n          minCharacters: function(searchTerm) {\n            if(settings.minCharacters) {\n              searchTerm = (searchTerm !== undefined)\n                ? String(searchTerm)\n                : String(module.get.query())\n              ;\n              return (searchTerm.length >= settings.minCharacters);\n            }\n            return true;\n          },\n          firstLetter: function($item, letter) {\n            var\n              text,\n              firstLetter\n            ;\n            if(!$item || $item.length === 0 || typeof letter !== 'string') {\n              return false;\n            }\n            text        = module.get.choiceText($item, false);\n            letter      = letter.toLowerCase();\n            firstLetter = String(text).charAt(0).toLowerCase();\n            return (letter == firstLetter);\n          },\n          input: function() {\n            return ($input.length > 0);\n          },\n          items: function() {\n            return ($item.length > 0);\n          },\n          menu: function() {\n            return ($menu.length > 0);\n          },\n          message: function() {\n            return ($menu.children(selector.message).length !== 0);\n          },\n          label: function(value) {\n            var\n              escapedValue = module.escape.value(value),\n              $labels      = $module.find(selector.label)\n            ;\n            if(settings.ignoreCase) {\n              escapedValue = escapedValue.toLowerCase();\n            }\n            return ($labels.filter('[data-' + metadata.value + '=\"' + module.escape.string(escapedValue) +'\"]').length > 0);\n          },\n          maxSelections: function() {\n            return (settings.maxSelections && module.get.selectionCount() >= settings.maxSelections);\n          },\n          allResultsFiltered: function() {\n            var\n              $normalResults = $item.not(selector.addition)\n            ;\n            return ($normalResults.filter(selector.unselectable).length === $normalResults.length);\n          },\n          userSuggestion: function() {\n            return ($menu.children(selector.addition).length > 0);\n          },\n          query: function() {\n            return (module.get.query() !== '');\n          },\n          value: function(value) {\n            return (settings.ignoreCase)\n              ? module.has.valueIgnoringCase(value)\n              : module.has.valueMatchingCase(value)\n            ;\n          },\n          valueMatchingCase: function(value) {\n            var\n              values   = module.get.values(),\n              hasValue = $.isArray(values)\n               ? values && ($.inArray(value, values) !== -1)\n               : (values == value)\n            ;\n            return (hasValue)\n              ? true\n              : false\n            ;\n          },\n          valueIgnoringCase: function(value) {\n            var\n              values   = module.get.values(),\n              hasValue = false\n            ;\n            if(!$.isArray(values)) {\n              values = [values];\n            }\n            $.each(values, function(index, existingValue) {\n              if(String(value).toLowerCase() == String(existingValue).toLowerCase()) {\n                hasValue = true;\n                return false;\n              }\n            });\n            return hasValue;\n          }\n        },\n\n        is: {\n          active: function() {\n            return $module.hasClass(className.active);\n          },\n          animatingInward: function() {\n            return $menu.transition('is inward');\n          },\n          animatingOutward: function() {\n            return $menu.transition('is outward');\n          },\n          bubbledLabelClick: function(event) {\n            return $(event.target).is('select, input') && $module.closest('label').length > 0;\n          },\n          bubbledIconClick: function(event) {\n            return $(event.target).closest($icon).length > 0;\n          },\n          alreadySetup: function() {\n            return ($module.is('select') && $module.parent(selector.dropdown).data(moduleNamespace) !== undefined && $module.prev().length === 0);\n          },\n          animating: function($subMenu) {\n            return ($subMenu)\n              ? $subMenu.transition && $subMenu.transition('is animating')\n              : $menu.transition    && $menu.transition('is animating')\n            ;\n          },\n          leftward: function($subMenu) {\n            var $selectedMenu = $subMenu || $menu;\n            return $selectedMenu.hasClass(className.leftward);\n          },\n          disabled: function() {\n            return $module.hasClass(className.disabled);\n          },\n          focused: function() {\n            return (document.activeElement === $module[0]);\n          },\n          focusedOnSearch: function() {\n            return (document.activeElement === $search[0]);\n          },\n          allFiltered: function() {\n            return( (module.is.multiple() || module.has.search()) && !(settings.hideAdditions == false && module.has.userSuggestion()) && !module.has.message() && module.has.allResultsFiltered() );\n          },\n          hidden: function($subMenu) {\n            return !module.is.visible($subMenu);\n          },\n          initialLoad: function() {\n            return initialLoad;\n          },\n          inObject: function(needle, object) {\n            var\n              found = false\n            ;\n            $.each(object, function(index, property) {\n              if(property == needle) {\n                found = true;\n                return true;\n              }\n            });\n            return found;\n          },\n          multiple: function() {\n            return $module.hasClass(className.multiple);\n          },\n          remote: function() {\n            return settings.apiSettings && module.can.useAPI();\n          },\n          single: function() {\n            return !module.is.multiple();\n          },\n          selectMutation: function(mutations) {\n            var\n              selectChanged = false\n            ;\n            $.each(mutations, function(index, mutation) {\n              if(mutation.target && $(mutation.target).is('select')) {\n                selectChanged = true;\n                return true;\n              }\n            });\n            return selectChanged;\n          },\n          search: function() {\n            return $module.hasClass(className.search);\n          },\n          searchSelection: function() {\n            return ( module.has.search() && $search.parent(selector.dropdown).length === 1 );\n          },\n          selection: function() {\n            return $module.hasClass(className.selection);\n          },\n          userValue: function(value) {\n            return ($.inArray(value, module.get.userValues()) !== -1);\n          },\n          upward: function($menu) {\n            var $element = $menu || $module;\n            return $element.hasClass(className.upward);\n          },\n          visible: function($subMenu) {\n            return ($subMenu)\n              ? $subMenu.hasClass(className.visible)\n              : $menu.hasClass(className.visible)\n            ;\n          },\n          verticallyScrollableContext: function() {\n            var\n              overflowY = ($context.get(0) !== window)\n                ? $context.css('overflow-y')\n                : false\n            ;\n            return (overflowY == 'auto' || overflowY == 'scroll');\n          },\n          horizontallyScrollableContext: function() {\n            var\n              overflowX = ($context.get(0) !== window)\n                ? $context.css('overflow-X')\n                : false\n            ;\n            return (overflowX == 'auto' || overflowX == 'scroll');\n          }\n        },\n\n        can: {\n          activate: function($item) {\n            if(settings.useLabels) {\n              return true;\n            }\n            if(!module.has.maxSelections()) {\n              return true;\n            }\n            if(module.has.maxSelections() && $item.hasClass(className.active)) {\n              return true;\n            }\n            return false;\n          },\n          openDownward: function($subMenu) {\n            var\n              $currentMenu    = $subMenu || $menu,\n              canOpenDownward = true,\n              onScreen        = {},\n              calculations\n            ;\n            $currentMenu\n              .addClass(className.loading)\n            ;\n            calculations = {\n              context: {\n                offset    : ($context.get(0) === window)\n                  ? { top: 0, left: 0}\n                  : $context.offset(),\n                scrollTop : $context.scrollTop(),\n                height    : $context.outerHeight()\n              },\n              menu : {\n                offset: $currentMenu.offset(),\n                height: $currentMenu.outerHeight()\n              }\n            };\n            if(module.is.verticallyScrollableContext()) {\n              calculations.menu.offset.top += calculations.context.scrollTop;\n            }\n            onScreen = {\n              above : (calculations.context.scrollTop) <= calculations.menu.offset.top - calculations.context.offset.top - calculations.menu.height,\n              below : (calculations.context.scrollTop + calculations.context.height) >= calculations.menu.offset.top - calculations.context.offset.top + calculations.menu.height\n            };\n            if(onScreen.below) {\n              module.verbose('Dropdown can fit in context downward', onScreen);\n              canOpenDownward = true;\n            }\n            else if(!onScreen.below && !onScreen.above) {\n              module.verbose('Dropdown cannot fit in either direction, favoring downward', onScreen);\n              canOpenDownward = true;\n            }\n            else {\n              module.verbose('Dropdown cannot fit below, opening upward', onScreen);\n              canOpenDownward = false;\n            }\n            $currentMenu.removeClass(className.loading);\n            return canOpenDownward;\n          },\n          openRightward: function($subMenu) {\n            var\n              $currentMenu     = $subMenu || $menu,\n              canOpenRightward = true,\n              isOffscreenRight = false,\n              calculations\n            ;\n            $currentMenu\n              .addClass(className.loading)\n            ;\n            calculations = {\n              context: {\n                offset     : ($context.get(0) === window)\n                  ? { top: 0, left: 0}\n                  : $context.offset(),\n                scrollLeft : $context.scrollLeft(),\n                width      : $context.outerWidth()\n              },\n              menu: {\n                offset : $currentMenu.offset(),\n                width  : $currentMenu.outerWidth()\n              }\n            };\n            if(module.is.horizontallyScrollableContext()) {\n              calculations.menu.offset.left += calculations.context.scrollLeft;\n            }\n            isOffscreenRight = (calculations.menu.offset.left - calculations.context.offset.left + calculations.menu.width >= calculations.context.scrollLeft + calculations.context.width);\n            if(isOffscreenRight) {\n              module.verbose('Dropdown cannot fit in context rightward', isOffscreenRight);\n              canOpenRightward = false;\n            }\n            $currentMenu.removeClass(className.loading);\n            return canOpenRightward;\n          },\n          click: function() {\n            return (hasTouch || settings.on == 'click');\n          },\n          extendSelect: function() {\n            return settings.allowAdditions || settings.apiSettings;\n          },\n          show: function() {\n            return !module.is.disabled() && (module.has.items() || module.has.message());\n          },\n          useAPI: function() {\n            return $.fn.api !== undefined;\n          }\n        },\n\n        animate: {\n          show: function(callback, $subMenu) {\n            var\n              $currentMenu = $subMenu || $menu,\n              start = ($subMenu)\n                ? function() {}\n                : function() {\n                  module.hideSubMenus();\n                  module.hideOthers();\n                  module.set.active();\n                },\n              transition\n            ;\n            callback = $.isFunction(callback)\n              ? callback\n              : function(){}\n            ;\n            module.verbose('Doing menu show animation', $currentMenu);\n            module.set.direction($subMenu);\n            transition = module.get.transition($subMenu);\n            if( module.is.selection() ) {\n              module.set.scrollPosition(module.get.selectedItem(), true);\n            }\n            if( module.is.hidden($currentMenu) || module.is.animating($currentMenu) ) {\n              if(transition == 'none') {\n                start();\n                $currentMenu.transition('show');\n                callback.call(element);\n              }\n              else if($.fn.transition !== undefined && $module.transition('is supported')) {\n                $currentMenu\n                  .transition({\n                    animation  : transition + ' in',\n                    debug      : settings.debug,\n                    verbose    : settings.verbose,\n                    duration   : settings.duration,\n                    queue      : true,\n                    onStart    : start,\n                    onComplete : function() {\n                      callback.call(element);\n                    }\n                  })\n                ;\n              }\n              else {\n                module.error(error.noTransition, transition);\n              }\n            }\n          },\n          hide: function(callback, $subMenu) {\n            var\n              $currentMenu = $subMenu || $menu,\n              duration = ($subMenu)\n                ? (settings.duration * 0.9)\n                : settings.duration,\n              start = ($subMenu)\n                ? function() {}\n                : function() {\n                  if( module.can.click() ) {\n                    module.unbind.intent();\n                  }\n                  module.remove.active();\n                },\n              transition = module.get.transition($subMenu)\n            ;\n            callback = $.isFunction(callback)\n              ? callback\n              : function(){}\n            ;\n            if( module.is.visible($currentMenu) || module.is.animating($currentMenu) ) {\n              module.verbose('Doing menu hide animation', $currentMenu);\n\n              if(transition == 'none') {\n                start();\n                $currentMenu.transition('hide');\n                callback.call(element);\n              }\n              else if($.fn.transition !== undefined && $module.transition('is supported')) {\n                $currentMenu\n                  .transition({\n                    animation  : transition + ' out',\n                    duration   : settings.duration,\n                    debug      : settings.debug,\n                    verbose    : settings.verbose,\n                    queue      : false,\n                    onStart    : start,\n                    onComplete : function() {\n                      callback.call(element);\n                    }\n                  })\n                ;\n              }\n              else {\n                module.error(error.transition);\n              }\n            }\n          }\n        },\n\n        hideAndClear: function() {\n          module.remove.searchTerm();\n          if( module.has.maxSelections() ) {\n            return;\n          }\n          if(module.has.search()) {\n            module.hide(function() {\n              module.remove.filteredItem();\n            });\n          }\n          else {\n            module.hide();\n          }\n        },\n\n        delay: {\n          show: function() {\n            module.verbose('Delaying show event to ensure user intent');\n            clearTimeout(module.timer);\n            module.timer = setTimeout(module.show, settings.delay.show);\n          },\n          hide: function() {\n            module.verbose('Delaying hide event to ensure user intent');\n            clearTimeout(module.timer);\n            module.timer = setTimeout(module.hide, settings.delay.hide);\n          }\n        },\n\n        escape: {\n          value: function(value) {\n            var\n              multipleValues = $.isArray(value),\n              stringValue    = (typeof value === 'string'),\n              isUnparsable   = (!stringValue && !multipleValues),\n              hasQuotes      = (stringValue && value.search(regExp.quote) !== -1),\n              values         = []\n            ;\n            if(isUnparsable || !hasQuotes) {\n              return value;\n            }\n            module.debug('Encoding quote values for use in select', value);\n            if(multipleValues) {\n              $.each(value, function(index, value){\n                values.push(value.replace(regExp.quote, '&quot;'));\n              });\n              return values;\n            }\n            return value.replace(regExp.quote, '&quot;');\n          },\n          string: function(text) {\n            text =  String(text);\n            return text.replace(regExp.escape, '\\\\$&');\n          }\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : $allModules\n  ;\n};\n\n$.fn.dropdown.settings = {\n\n  silent                 : false,\n  debug                  : false,\n  verbose                : false,\n  performance            : true,\n\n  on                     : 'click',    // what event should show menu action on item selection\n  action                 : 'activate', // action on item selection (nothing, activate, select, combo, hide, function(){})\n\n  values                 : false,      // specify values to use for dropdown\n\n  apiSettings            : false,\n  selectOnKeydown        : true,       // Whether selection should occur automatically when keyboard shortcuts used\n  minCharacters          : 0,          // Minimum characters required to trigger API call\n\n  filterRemoteData       : false,      // Whether API results should be filtered after being returned for query term\n  saveRemoteData         : true,       // Whether remote name/value pairs should be stored in sessionStorage to allow remote data to be restored on page refresh\n\n  throttle               : 200,        // How long to wait after last user input to search remotely\n\n  context                : window,     // Context to use when determining if on screen\n  direction              : 'auto',     // Whether dropdown should always open in one direction\n  keepOnScreen           : true,       // Whether dropdown should check whether it is on screen before showing\n\n  match                  : 'both',     // what to match against with search selection (both, text, or label)\n  fullTextSearch         : false,      // search anywhere in value (set to 'exact' to require exact matches)\n\n  placeholder            : 'auto',     // whether to convert blank <select> values to placeholder text\n  preserveHTML           : true,       // preserve html when selecting value\n  sortSelect             : false,      // sort selection on init\n\n  forceSelection         : true,       // force a choice on blur with search selection\n\n  allowAdditions         : false,      // whether multiple select should allow user added values\n  ignoreCase             : false,       // whether to consider values not matching in case to be the same\n  hideAdditions          : true,       // whether or not to hide special message prompting a user they can enter a value\n\n  maxSelections          : false,      // When set to a number limits the number of selections to this count\n  useLabels              : true,       // whether multiple select should filter currently active selections from choices\n  delimiter              : ',',        // when multiselect uses normal <input> the values will be delimited with this character\n\n  showOnFocus            : true,       // show menu on focus\n  allowReselection       : false,      // whether current value should trigger callbacks when reselected\n  allowTab               : true,       // add tabindex to element\n  allowCategorySelection : false,      // allow elements with sub-menus to be selected\n\n  fireOnInit             : false,      // Whether callbacks should fire when initializing dropdown values\n\n  transition             : 'auto',     // auto transition will slide down or up based on direction\n  duration               : 200,        // duration of transition\n\n  glyphWidth             : 1.037,      // widest glyph width in em (W is 1.037 em) used to calculate multiselect input width\n\n  // label settings on multi-select\n  label: {\n    transition : 'scale',\n    duration   : 200,\n    variation  : false\n  },\n\n  // delay before event\n  delay : {\n    hide   : 300,\n    show   : 200,\n    search : 20,\n    touch  : 50\n  },\n\n  /* Callbacks */\n  onChange      : function(value, text, $selected){},\n  onAdd         : function(value, text, $selected){},\n  onRemove      : function(value, text, $selected){},\n\n  onLabelSelect : function($selectedLabels){},\n  onLabelCreate : function(value, text) { return $(this); },\n  onLabelRemove : function(value) { return true; },\n  onNoResults   : function(searchTerm) { return true; },\n  onShow        : function(){},\n  onHide        : function(){},\n\n  /* Component */\n  name           : 'Dropdown',\n  namespace      : 'dropdown',\n\n  message: {\n    addResult     : 'Add <b>{term}</b>',\n    count         : '{count} selected',\n    maxSelections : 'Max {maxCount} selections',\n    noResults     : 'No results found.',\n    serverError   : 'There was an error contacting the server'\n  },\n\n  error : {\n    action          : 'You called a dropdown action that was not defined',\n    alreadySetup    : 'Once a select has been initialized behaviors must be called on the created ui dropdown',\n    labels          : 'Allowing user additions currently requires the use of labels.',\n    missingMultiple : '<select> requires multiple property to be set to correctly preserve multiple values',\n    method          : 'The method you called is not defined.',\n    noAPI           : 'The API module is required to load resources remotely',\n    noStorage       : 'Saving remote data requires session storage',\n    noTransition    : 'This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>'\n  },\n\n  regExp : {\n    escape   : /[-[\\]{}()*+?.,\\\\^$|#\\s]/g,\n    quote    : /\"/g\n  },\n\n  metadata : {\n    defaultText     : 'defaultText',\n    defaultValue    : 'defaultValue',\n    placeholderText : 'placeholder',\n    text            : 'text',\n    value           : 'value'\n  },\n\n  // property names for remote query\n  fields: {\n    remoteValues : 'results',  // grouping for api results\n    values       : 'values',   // grouping for all dropdown values\n    disabled     : 'disabled', // whether value should be disabled\n    name         : 'name',     // displayed dropdown text\n    value        : 'value',    // actual dropdown value\n    text         : 'text'      // displayed text when selected\n  },\n\n  keys : {\n    backspace  : 8,\n    delimiter  : 188, // comma\n    deleteKey  : 46,\n    enter      : 13,\n    escape     : 27,\n    pageUp     : 33,\n    pageDown   : 34,\n    leftArrow  : 37,\n    upArrow    : 38,\n    rightArrow : 39,\n    downArrow  : 40\n  },\n\n  selector : {\n    addition     : '.addition',\n    dropdown     : '.ui.dropdown',\n    hidden       : '.hidden',\n    icon         : '> .dropdown.icon',\n    input        : '> input[type=\"hidden\"], > select',\n    item         : '.item',\n    label        : '> .label',\n    remove       : '> .label > .delete.icon',\n    siblingLabel : '.label',\n    menu         : '.menu',\n    message      : '.message',\n    menuIcon     : '.dropdown.icon',\n    search       : 'input.search, .menu > .search > input, .menu input.search',\n    sizer        : '> input.sizer',\n    text         : '> .text:not(.icon)',\n    unselectable : '.disabled, .filtered'\n  },\n\n  className : {\n    active      : 'active',\n    addition    : 'addition',\n    animating   : 'animating',\n    disabled    : 'disabled',\n    empty       : 'empty',\n    dropdown    : 'ui dropdown',\n    filtered    : 'filtered',\n    hidden      : 'hidden transition',\n    item        : 'item',\n    label       : 'ui label',\n    loading     : 'loading',\n    menu        : 'menu',\n    message     : 'message',\n    multiple    : 'multiple',\n    placeholder : 'default',\n    sizer       : 'sizer',\n    search      : 'search',\n    selected    : 'selected',\n    selection   : 'selection',\n    upward      : 'upward',\n    leftward    : 'left',\n    visible     : 'visible'\n  }\n\n};\n\n/* Templates */\n$.fn.dropdown.settings.templates = {\n\n  // generates dropdown from select values\n  dropdown: function(select) {\n    var\n      placeholder = select.placeholder || false,\n      values      = select.values || {},\n      html        = ''\n    ;\n    html +=  '<i class=\"dropdown icon\"></i>';\n    if(select.placeholder) {\n      html += '<div class=\"default text\">' + placeholder + '</div>';\n    }\n    else {\n      html += '<div class=\"text\"></div>';\n    }\n    html += '<div class=\"menu\">';\n    $.each(select.values, function(index, option) {\n      html += (option.disabled)\n        ? '<div class=\"disabled item\" data-value=\"' + option.value + '\">' + option.name + '</div>'\n        : '<div class=\"item\" data-value=\"' + option.value + '\">' + option.name + '</div>'\n      ;\n    });\n    html += '</div>';\n    return html;\n  },\n\n  // generates just menu from select\n  menu: function(response, fields) {\n    var\n      values = response[fields.values] || {},\n      html   = ''\n    ;\n    $.each(values, function(index, option) {\n      var\n        maybeText = (option[fields.text])\n          ? 'data-text=\"' + option[fields.text] + '\"'\n          : '',\n        maybeDisabled = (option[fields.disabled])\n          ? 'disabled '\n          : ''\n      ;\n      html += '<div class=\"'+ maybeDisabled +'item\" data-value=\"' + option[fields.value] + '\"' + maybeText + '>';\n      html +=   option[fields.name];\n      html += '</div>';\n    });\n    return html;\n  },\n\n  // generates label for multiselect\n  label: function(value, text) {\n    return text + '<i class=\"delete icon\"></i>';\n  },\n\n\n  // generates messages like \"No results\"\n  message: function(message) {\n    return message;\n  },\n\n  // generates user addition to selection menu\n  addition: function(choice) {\n    return choice;\n  }\n\n};\n\n})( jQuery, window, document );\n","/*!\n * # Semantic UI - Embed\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.embed = function(parameters) {\n\n  var\n    $allModules     = $(this),\n\n    moduleSelector  = $allModules.selector || '',\n\n    time            = new Date().getTime(),\n    performance     = [],\n\n    query           = arguments[0],\n    methodInvoked   = (typeof query == 'string'),\n    queryArguments  = [].slice.call(arguments, 1),\n\n    returnedValue\n  ;\n\n  $allModules\n    .each(function() {\n      var\n        settings        = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.embed.settings, parameters)\n          : $.extend({}, $.fn.embed.settings),\n\n        selector        = settings.selector,\n        className       = settings.className,\n        sources         = settings.sources,\n        error           = settings.error,\n        metadata        = settings.metadata,\n        namespace       = settings.namespace,\n        templates       = settings.templates,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n\n        $window         = $(window),\n        $module         = $(this),\n        $placeholder    = $module.find(selector.placeholder),\n        $icon           = $module.find(selector.icon),\n        $embed          = $module.find(selector.embed),\n\n        element         = this,\n        instance        = $module.data(moduleNamespace),\n        module\n      ;\n\n      module = {\n\n        initialize: function() {\n          module.debug('Initializing embed');\n          module.determine.autoplay();\n          module.create();\n          module.bind.events();\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous instance of embed');\n          module.reset();\n          $module\n            .removeData(moduleNamespace)\n            .off(eventNamespace)\n          ;\n        },\n\n        refresh: function() {\n          module.verbose('Refreshing selector cache');\n          $placeholder = $module.find(selector.placeholder);\n          $icon        = $module.find(selector.icon);\n          $embed       = $module.find(selector.embed);\n        },\n\n        bind: {\n          events: function() {\n            if( module.has.placeholder() ) {\n              module.debug('Adding placeholder events');\n              $module\n                .on('click' + eventNamespace, selector.placeholder, module.createAndShow)\n                .on('click' + eventNamespace, selector.icon, module.createAndShow)\n              ;\n            }\n          }\n        },\n\n        create: function() {\n          var\n            placeholder = module.get.placeholder()\n          ;\n          if(placeholder) {\n            module.createPlaceholder();\n          }\n          else {\n            module.createAndShow();\n          }\n        },\n\n        createPlaceholder: function(placeholder) {\n          var\n            icon  = module.get.icon(),\n            url   = module.get.url(),\n            embed = module.generate.embed(url)\n          ;\n          placeholder = placeholder || module.get.placeholder();\n          $module.html( templates.placeholder(placeholder, icon) );\n          module.debug('Creating placeholder for embed', placeholder, icon);\n        },\n\n        createEmbed: function(url) {\n          module.refresh();\n          url = url || module.get.url();\n          $embed = $('<div/>')\n            .addClass(className.embed)\n            .html( module.generate.embed(url) )\n            .appendTo($module)\n          ;\n          settings.onCreate.call(element, url);\n          module.debug('Creating embed object', $embed);\n        },\n\n        changeEmbed: function(url) {\n          $embed\n            .html( module.generate.embed(url) )\n          ;\n        },\n\n        createAndShow: function() {\n          module.createEmbed();\n          module.show();\n        },\n\n        // sets new embed\n        change: function(source, id, url) {\n          module.debug('Changing video to ', source, id, url);\n          $module\n            .data(metadata.source, source)\n            .data(metadata.id, id)\n          ;\n          if(url) {\n            $module.data(metadata.url, url);\n          }\n          else {\n            $module.removeData(metadata.url);\n          }\n          if(module.has.embed()) {\n            module.changeEmbed();\n          }\n          else {\n            module.create();\n          }\n        },\n\n        // clears embed\n        reset: function() {\n          module.debug('Clearing embed and showing placeholder');\n          module.remove.active();\n          module.remove.embed();\n          module.showPlaceholder();\n          settings.onReset.call(element);\n        },\n\n        // shows current embed\n        show: function() {\n          module.debug('Showing embed');\n          module.set.active();\n          settings.onDisplay.call(element);\n        },\n\n        hide: function() {\n          module.debug('Hiding embed');\n          module.showPlaceholder();\n        },\n\n        showPlaceholder: function() {\n          module.debug('Showing placeholder image');\n          module.remove.active();\n          settings.onPlaceholderDisplay.call(element);\n        },\n\n        get: {\n          id: function() {\n            return settings.id || $module.data(metadata.id);\n          },\n          placeholder: function() {\n            return settings.placeholder || $module.data(metadata.placeholder);\n          },\n          icon: function() {\n            return (settings.icon)\n              ? settings.icon\n              : ($module.data(metadata.icon) !== undefined)\n                ? $module.data(metadata.icon)\n                : module.determine.icon()\n            ;\n          },\n          source: function(url) {\n            return (settings.source)\n              ? settings.source\n              : ($module.data(metadata.source) !== undefined)\n                ? $module.data(metadata.source)\n                : module.determine.source()\n            ;\n          },\n          type: function() {\n            var source = module.get.source();\n            return (sources[source] !== undefined)\n              ? sources[source].type\n              : false\n            ;\n          },\n          url: function() {\n            return (settings.url)\n              ? settings.url\n              : ($module.data(metadata.url) !== undefined)\n                ? $module.data(metadata.url)\n                : module.determine.url()\n            ;\n          }\n        },\n\n        determine: {\n          autoplay: function() {\n            if(module.should.autoplay()) {\n              settings.autoplay = true;\n            }\n          },\n          source: function(url) {\n            var\n              matchedSource = false\n            ;\n            url = url || module.get.url();\n            if(url) {\n              $.each(sources, function(name, source) {\n                if(url.search(source.domain) !== -1) {\n                  matchedSource = name;\n                  return false;\n                }\n              });\n            }\n            return matchedSource;\n          },\n          icon: function() {\n            var\n              source = module.get.source()\n            ;\n            return (sources[source] !== undefined)\n              ? sources[source].icon\n              : false\n            ;\n          },\n          url: function() {\n            var\n              id     = settings.id     || $module.data(metadata.id),\n              source = settings.source || $module.data(metadata.source),\n              url\n            ;\n            url = (sources[source] !== undefined)\n              ? sources[source].url.replace('{id}', id)\n              : false\n            ;\n            if(url) {\n              $module.data(metadata.url, url);\n            }\n            return url;\n          }\n        },\n\n\n        set: {\n          active: function() {\n            $module.addClass(className.active);\n          }\n        },\n\n        remove: {\n          active: function() {\n            $module.removeClass(className.active);\n          },\n          embed: function() {\n            $embed.empty();\n          }\n        },\n\n        encode: {\n          parameters: function(parameters) {\n            var\n              urlString = [],\n              index\n            ;\n            for (index in parameters) {\n              urlString.push( encodeURIComponent(index) + '=' + encodeURIComponent( parameters[index] ) );\n            }\n            return urlString.join('&amp;');\n          }\n        },\n\n        generate: {\n          embed: function(url) {\n            module.debug('Generating embed html');\n            var\n              source = module.get.source(),\n              html,\n              parameters\n            ;\n            url = module.get.url(url);\n            if(url) {\n              parameters = module.generate.parameters(source);\n              html       = templates.iframe(url, parameters);\n            }\n            else {\n              module.error(error.noURL, $module);\n            }\n            return html;\n          },\n          parameters: function(source, extraParameters) {\n            var\n              parameters = (sources[source] && sources[source].parameters !== undefined)\n                ? sources[source].parameters(settings)\n                : {}\n            ;\n            extraParameters = extraParameters || settings.parameters;\n            if(extraParameters) {\n              parameters = $.extend({}, parameters, extraParameters);\n            }\n            parameters = settings.onEmbed(parameters);\n            return module.encode.parameters(parameters);\n          }\n        },\n\n        has: {\n          embed: function() {\n            return ($embed.length > 0);\n          },\n          placeholder: function() {\n            return settings.placeholder || $module.data(metadata.placeholder);\n          }\n        },\n\n        should: {\n          autoplay: function() {\n            return (settings.autoplay === 'auto')\n              ? (settings.placeholder || $module.data(metadata.placeholder) !== undefined)\n              : settings.autoplay\n            ;\n          }\n        },\n\n        is: {\n          video: function() {\n            return module.get.type() == 'video';\n          }\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.embed.settings = {\n\n  name        : 'Embed',\n  namespace   : 'embed',\n\n  silent      : false,\n  debug       : false,\n  verbose     : false,\n  performance : true,\n\n  icon     : false,\n  source   : false,\n  url      : false,\n  id       : false,\n\n  // standard video settings\n  autoplay  : 'auto',\n  color     : '#444444',\n  hd        : true,\n  brandedUI : false,\n\n  // additional parameters to include with the embed\n  parameters: false,\n\n  onDisplay            : function() {},\n  onPlaceholderDisplay : function() {},\n  onReset              : function() {},\n  onCreate             : function(url) {},\n  onEmbed              : function(parameters) {\n    return parameters;\n  },\n\n  metadata    : {\n    id          : 'id',\n    icon        : 'icon',\n    placeholder : 'placeholder',\n    source      : 'source',\n    url         : 'url'\n  },\n\n  error : {\n    noURL  : 'No URL specified',\n    method : 'The method you called is not defined'\n  },\n\n  className : {\n    active : 'active',\n    embed  : 'embed'\n  },\n\n  selector : {\n    embed       : '.embed',\n    placeholder : '.placeholder',\n    icon        : '.icon'\n  },\n\n  sources: {\n    youtube: {\n      name   : 'youtube',\n      type   : 'video',\n      icon   : 'video play',\n      domain : 'youtube.com',\n      url    : '//www.youtube.com/embed/{id}',\n      parameters: function(settings) {\n        return {\n          autohide       : !settings.brandedUI,\n          autoplay       : settings.autoplay,\n          color          : settings.color || undefined,\n          hq             : settings.hd,\n          jsapi          : settings.api,\n          modestbranding : !settings.brandedUI\n        };\n      }\n    },\n    vimeo: {\n      name   : 'vimeo',\n      type   : 'video',\n      icon   : 'video play',\n      domain : 'vimeo.com',\n      url    : '//player.vimeo.com/video/{id}',\n      parameters: function(settings) {\n        return {\n          api      : settings.api,\n          autoplay : settings.autoplay,\n          byline   : settings.brandedUI,\n          color    : settings.color || undefined,\n          portrait : settings.brandedUI,\n          title    : settings.brandedUI\n        };\n      }\n    }\n  },\n\n  templates: {\n    iframe : function(url, parameters) {\n      var src = url;\n      if (parameters) {\n          src += '?' + parameters;\n      }\n      return ''\n        + '<iframe src=\"' + src + '\"'\n        + ' width=\"100%\" height=\"100%\"'\n        + ' frameborder=\"0\" scrolling=\"no\" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'\n      ;\n    },\n    placeholder : function(image, icon) {\n      var\n        html = ''\n      ;\n      if(icon) {\n        html += '<i class=\"' + icon + ' icon\"></i>';\n      }\n      if(image) {\n        html += '<img class=\"placeholder\" src=\"' + image + '\">';\n      }\n      return html;\n    }\n  },\n\n  // NOT YET IMPLEMENTED\n  api     : false,\n  onPause : function() {},\n  onPlay  : function() {},\n  onStop  : function() {}\n\n};\n\n\n\n})( jQuery, window, document );\n","/*!\n * # Semantic UI - Modal\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.modal = function(parameters) {\n  var\n    $allModules    = $(this),\n    $window        = $(window),\n    $document      = $(document),\n    $body          = $('body'),\n\n    moduleSelector = $allModules.selector || '',\n\n    time           = new Date().getTime(),\n    performance    = [],\n\n    query          = arguments[0],\n    methodInvoked  = (typeof query == 'string'),\n    queryArguments = [].slice.call(arguments, 1),\n\n    requestAnimationFrame = window.requestAnimationFrame\n      || window.mozRequestAnimationFrame\n      || window.webkitRequestAnimationFrame\n      || window.msRequestAnimationFrame\n      || function(callback) { setTimeout(callback, 0); },\n\n    returnedValue\n  ;\n\n  $allModules\n    .each(function() {\n      var\n        settings    = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.modal.settings, parameters)\n          : $.extend({}, $.fn.modal.settings),\n\n        selector        = settings.selector,\n        className       = settings.className,\n        namespace       = settings.namespace,\n        error           = settings.error,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n\n        $module         = $(this),\n        $context        = $(settings.context),\n        $close          = $module.find(selector.close),\n\n        $allModals,\n        $otherModals,\n        $focusedElement,\n        $dimmable,\n        $dimmer,\n\n        element         = this,\n        instance        = $module.data(moduleNamespace),\n\n        ignoreRepeatedEvents = false,\n\n        elementEventNamespace,\n        id,\n        observer,\n        module\n      ;\n      module  = {\n\n        initialize: function() {\n          module.verbose('Initializing dimmer', $context);\n\n          module.create.id();\n          module.create.dimmer();\n          module.refreshModals();\n\n          module.bind.events();\n          if(settings.observeChanges) {\n            module.observeChanges();\n          }\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of modal');\n          instance = module;\n          $module\n            .data(moduleNamespace, instance)\n          ;\n        },\n\n        create: {\n          dimmer: function() {\n            var\n              defaultSettings = {\n                debug      : settings.debug,\n                variation  : settings.centered\n                  ? false\n                  : 'top aligned'\n                ,\n                dimmerName : 'modals'\n              },\n              dimmerSettings = $.extend(true, defaultSettings, settings.dimmerSettings)\n            ;\n            if($.fn.dimmer === undefined) {\n              module.error(error.dimmer);\n              return;\n            }\n            module.debug('Creating dimmer');\n            $dimmable = $context.dimmer(dimmerSettings);\n            if(settings.detachable) {\n              module.verbose('Modal is detachable, moving content into dimmer');\n              $dimmable.dimmer('add content', $module);\n            }\n            else {\n              module.set.undetached();\n            }\n            $dimmer = $dimmable.dimmer('get dimmer');\n          },\n          id: function() {\n            id = (Math.random().toString(16) + '000000000').substr(2,8);\n            elementEventNamespace = '.' + id;\n            module.verbose('Creating unique id for element', id);\n          }\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous modal');\n          $module\n            .removeData(moduleNamespace)\n            .off(eventNamespace)\n          ;\n          $window.off(elementEventNamespace);\n          $dimmer.off(elementEventNamespace);\n          $close.off(eventNamespace);\n          $context.dimmer('destroy');\n        },\n\n        observeChanges: function() {\n          if('MutationObserver' in window) {\n            observer = new MutationObserver(function(mutations) {\n              module.debug('DOM tree modified, refreshing');\n              module.refresh();\n            });\n            observer.observe(element, {\n              childList : true,\n              subtree   : true\n            });\n            module.debug('Setting up mutation observer', observer);\n          }\n        },\n\n        refresh: function() {\n          module.remove.scrolling();\n          module.cacheSizes();\n          module.set.screenHeight();\n          module.set.type();\n        },\n\n        refreshModals: function() {\n          $otherModals = $module.siblings(selector.modal);\n          $allModals   = $otherModals.add($module);\n        },\n\n        attachEvents: function(selector, event) {\n          var\n            $toggle = $(selector)\n          ;\n          event = $.isFunction(module[event])\n            ? module[event]\n            : module.toggle\n          ;\n          if($toggle.length > 0) {\n            module.debug('Attaching modal events to element', selector, event);\n            $toggle\n              .off(eventNamespace)\n              .on('click' + eventNamespace, event)\n            ;\n          }\n          else {\n            module.error(error.notFound, selector);\n          }\n        },\n\n        bind: {\n          events: function() {\n            module.verbose('Attaching events');\n            $module\n              .on('click' + eventNamespace, selector.close, module.event.close)\n              .on('click' + eventNamespace, selector.approve, module.event.approve)\n              .on('click' + eventNamespace, selector.deny, module.event.deny)\n            ;\n            $window\n              .on('resize' + elementEventNamespace, module.event.resize)\n            ;\n          }\n        },\n\n        get: {\n          id: function() {\n            return (Math.random().toString(16) + '000000000').substr(2,8);\n          }\n        },\n\n        event: {\n          approve: function() {\n            if(ignoreRepeatedEvents || settings.onApprove.call(element, $(this)) === false) {\n              module.verbose('Approve callback returned false cancelling hide');\n              return;\n            }\n            ignoreRepeatedEvents = true;\n            module.hide(function() {\n              ignoreRepeatedEvents = false;\n            });\n          },\n          deny: function() {\n            if(ignoreRepeatedEvents || settings.onDeny.call(element, $(this)) === false) {\n              module.verbose('Deny callback returned false cancelling hide');\n              return;\n            }\n            ignoreRepeatedEvents = true;\n            module.hide(function() {\n              ignoreRepeatedEvents = false;\n            });\n          },\n          close: function() {\n            module.hide();\n          },\n          click: function(event) {\n            if(!settings.closable) {\n              module.verbose('Dimmer clicked but closable setting is disabled');\n              return;\n            }\n            var\n              $target   = $(event.target),\n              isInModal = ($target.closest(selector.modal).length > 0),\n              isInDOM   = $.contains(document.documentElement, event.target)\n            ;\n            if(!isInModal && isInDOM && module.is.active()) {\n              module.debug('Dimmer clicked, hiding all modals');\n              module.remove.clickaway();\n              if(settings.allowMultiple) {\n                module.hide();\n              }\n              else {\n                module.hideAll();\n              }\n            }\n          },\n          debounce: function(method, delay) {\n            clearTimeout(module.timer);\n            module.timer = setTimeout(method, delay);\n          },\n          keyboard: function(event) {\n            var\n              keyCode   = event.which,\n              escapeKey = 27\n            ;\n            if(keyCode == escapeKey) {\n              if(settings.closable) {\n                module.debug('Escape key pressed hiding modal');\n                module.hide();\n              }\n              else {\n                module.debug('Escape key pressed, but closable is set to false');\n              }\n              event.preventDefault();\n            }\n          },\n          resize: function() {\n            if( $dimmable.dimmer('is active') && ( module.is.animating() || module.is.active() ) ) {\n              requestAnimationFrame(module.refresh);\n            }\n          }\n        },\n\n        toggle: function() {\n          if( module.is.active() || module.is.animating() ) {\n            module.hide();\n          }\n          else {\n            module.show();\n          }\n        },\n\n        show: function(callback) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          module.refreshModals();\n          module.set.dimmerSettings();\n          module.showModal(callback);\n        },\n\n        hide: function(callback) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          module.refreshModals();\n          module.hideModal(callback);\n        },\n\n        showModal: function(callback) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          if( module.is.animating() || !module.is.active() ) {\n\n            module.showDimmer();\n            module.cacheSizes();\n            module.set.screenHeight();\n            module.set.type();\n            module.set.clickaway();\n\n            if( !settings.allowMultiple && module.others.active() ) {\n              module.hideOthers(module.showModal);\n            }\n            else {\n              if(settings.allowMultiple && settings.detachable) {\n                $module.detach().appendTo($dimmer);\n              }\n              settings.onShow.call(element);\n              if(settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n                module.debug('Showing modal with css animations');\n                $module\n                  .transition({\n                    debug       : settings.debug,\n                    animation   : settings.transition + ' in',\n                    queue       : settings.queue,\n                    duration    : settings.duration,\n                    useFailSafe : true,\n                    onComplete : function() {\n                      settings.onVisible.apply(element);\n                      if(settings.keyboardShortcuts) {\n                        module.add.keyboardShortcuts();\n                      }\n                      module.save.focus();\n                      module.set.active();\n                      if(settings.autofocus) {\n                        module.set.autofocus();\n                      }\n                      callback();\n                    }\n                  })\n                ;\n              }\n              else {\n                module.error(error.noTransition);\n              }\n            }\n          }\n          else {\n            module.debug('Modal is already visible');\n          }\n        },\n\n        hideModal: function(callback, keepDimmed) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          module.debug('Hiding modal');\n          if(settings.onHide.call(element, $(this)) === false) {\n            module.verbose('Hide callback returned false cancelling hide');\n            return;\n          }\n\n          if( module.is.animating() || module.is.active() ) {\n            if(settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n              module.remove.active();\n              $module\n                .transition({\n                  debug       : settings.debug,\n                  animation   : settings.transition + ' out',\n                  queue       : settings.queue,\n                  duration    : settings.duration,\n                  useFailSafe : true,\n                  onStart     : function() {\n                    if(!module.others.active() && !keepDimmed) {\n                      module.hideDimmer();\n                    }\n                    if(settings.keyboardShortcuts) {\n                      module.remove.keyboardShortcuts();\n                    }\n                  },\n                  onComplete : function() {\n                    settings.onHidden.call(element);\n                    module.restore.focus();\n                    callback();\n                  }\n                })\n              ;\n            }\n            else {\n              module.error(error.noTransition);\n            }\n          }\n        },\n\n        showDimmer: function() {\n          if($dimmable.dimmer('is animating') || !$dimmable.dimmer('is active') ) {\n            module.debug('Showing dimmer');\n            $dimmable.dimmer('show');\n          }\n          else {\n            module.debug('Dimmer already visible');\n          }\n        },\n\n        hideDimmer: function() {\n          if( $dimmable.dimmer('is animating') || ($dimmable.dimmer('is active')) ) {\n            $dimmable.dimmer('hide', function() {\n              module.remove.clickaway();\n              module.remove.screenHeight();\n            });\n          }\n          else {\n            module.debug('Dimmer is not visible cannot hide');\n            return;\n          }\n        },\n\n        hideAll: function(callback) {\n          var\n            $visibleModals = $allModals.filter('.' + className.active + ', .' + className.animating)\n          ;\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          if( $visibleModals.length > 0 ) {\n            module.debug('Hiding all visible modals');\n            module.hideDimmer();\n            $visibleModals\n              .modal('hide modal', callback)\n            ;\n          }\n        },\n\n        hideOthers: function(callback) {\n          var\n            $visibleModals = $otherModals.filter('.' + className.active + ', .' + className.animating)\n          ;\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          if( $visibleModals.length > 0 ) {\n            module.debug('Hiding other modals', $otherModals);\n            $visibleModals\n              .modal('hide modal', callback, true)\n            ;\n          }\n        },\n\n        others: {\n          active: function() {\n            return ($otherModals.filter('.' + className.active).length > 0);\n          },\n          animating: function() {\n            return ($otherModals.filter('.' + className.animating).length > 0);\n          }\n        },\n\n\n        add: {\n          keyboardShortcuts: function() {\n            module.verbose('Adding keyboard shortcuts');\n            $document\n              .on('keyup' + eventNamespace, module.event.keyboard)\n            ;\n          }\n        },\n\n        save: {\n          focus: function() {\n            var\n              $activeElement = $(document.activeElement),\n              inCurrentModal = $activeElement.closest($module).length > 0\n            ;\n            if(!inCurrentModal) {\n              $focusedElement = $(document.activeElement).blur();\n            }\n          }\n        },\n\n        restore: {\n          focus: function() {\n            if($focusedElement && $focusedElement.length > 0) {\n              $focusedElement.focus();\n            }\n          }\n        },\n\n        remove: {\n          active: function() {\n            $module.removeClass(className.active);\n          },\n          clickaway: function() {\n            $dimmer\n              .off('click' + elementEventNamespace)\n            ;\n          },\n          bodyStyle: function() {\n            if($body.attr('style') === '') {\n              module.verbose('Removing style attribute');\n              $body.removeAttr('style');\n            }\n          },\n          screenHeight: function() {\n            module.debug('Removing page height');\n            $body\n              .css('height', '')\n            ;\n          },\n          keyboardShortcuts: function() {\n            module.verbose('Removing keyboard shortcuts');\n            $document\n              .off('keyup' + eventNamespace)\n            ;\n          },\n          scrolling: function() {\n            $dimmable.removeClass(className.scrolling);\n            $module.removeClass(className.scrolling);\n          }\n        },\n\n        cacheSizes: function() {\n          $module.addClass(className.loading);\n          var\n            scrollHeight = $module.prop('scrollHeight'),\n            modalHeight  = $module.outerHeight()\n          ;\n          if(module.cache === undefined || modalHeight !== 0) {\n            module.cache = {\n              pageHeight    : $(document).outerHeight(),\n              height        : modalHeight + settings.offset,\n              scrollHeight  : scrollHeight + settings.offset,\n              contextHeight : (settings.context == 'body')\n                ? $(window).height()\n                : $dimmable.height(),\n            };\n            module.cache.topOffset = -(module.cache.height / 2);\n          }\n          $module.removeClass(className.loading);\n          module.debug('Caching modal and container sizes', module.cache);\n        },\n\n        can: {\n          fit: function() {\n            var\n              contextHeight  = module.cache.contextHeight,\n              verticalCenter = module.cache.contextHeight / 2,\n              topOffset      = module.cache.topOffset,\n              scrollHeight   = module.cache.scrollHeight,\n              height         = module.cache.height,\n              paddingHeight  = settings.padding,\n              startPosition  = (verticalCenter + topOffset)\n            ;\n            return (scrollHeight > height)\n              ? (startPosition + scrollHeight + paddingHeight < contextHeight)\n              : (height + (paddingHeight * 2) < contextHeight)\n            ;\n          }\n        },\n\n        is: {\n          active: function() {\n            return $module.hasClass(className.active);\n          },\n          animating: function() {\n            return $module.transition('is supported')\n              ? $module.transition('is animating')\n              : $module.is(':visible')\n            ;\n          },\n          scrolling: function() {\n            return $dimmable.hasClass(className.scrolling);\n          },\n          modernBrowser: function() {\n            // appName for IE11 reports 'Netscape' can no longer use\n            return !(window.ActiveXObject || \"ActiveXObject\" in window);\n          }\n        },\n\n        set: {\n          autofocus: function() {\n            var\n              $inputs    = $module.find('[tabindex], :input').filter(':visible'),\n              $autofocus = $inputs.filter('[autofocus]'),\n              $input     = ($autofocus.length > 0)\n                ? $autofocus.first()\n                : $inputs.first()\n            ;\n            if($input.length > 0) {\n              $input.focus();\n            }\n          },\n          clickaway: function() {\n            $dimmer\n              .on('click' + elementEventNamespace, module.event.click)\n            ;\n          },\n          dimmerSettings: function() {\n            if($.fn.dimmer === undefined) {\n              module.error(error.dimmer);\n              return;\n            }\n            var\n              defaultSettings = {\n                debug      : settings.debug,\n                dimmerName : 'modals',\n                closable   : 'auto',\n                variation  : settings.centered\n                  ? false\n                  : 'top aligned'\n                ,\n                duration   : {\n                  show     : settings.duration,\n                  hide     : settings.duration\n                }\n              },\n              dimmerSettings = $.extend(true, defaultSettings, settings.dimmerSettings)\n            ;\n            if(settings.inverted) {\n              dimmerSettings.variation = (dimmerSettings.variation !== undefined)\n                ? dimmerSettings.variation + ' inverted'\n                : 'inverted'\n              ;\n              $dimmer.addClass(className.inverted);\n            }\n            else {\n              $dimmer.removeClass(className.inverted);\n            }\n            if(settings.blurring) {\n              $dimmable.addClass(className.blurring);\n            }\n            else {\n              $dimmable.removeClass(className.blurring);\n            }\n            $context.dimmer('setting', dimmerSettings);\n          },\n          screenHeight: function() {\n            if( module.can.fit() ) {\n              $body.css('height', '');\n            }\n            else {\n              module.debug('Modal is taller than page content, resizing page height');\n              $body\n                .css('height', module.cache.height + (settings.padding * 2) )\n              ;\n            }\n          },\n          active: function() {\n            $module.addClass(className.active);\n          },\n          scrolling: function() {\n            $dimmable.addClass(className.scrolling);\n            $module.addClass(className.scrolling);\n          },\n          type: function() {\n            if(module.can.fit()) {\n              module.verbose('Modal fits on screen');\n              if(!module.others.active() && !module.others.animating()) {\n                module.remove.scrolling();\n              }\n            }\n            else {\n              module.verbose('Modal cannot fit on screen setting to scrolling');\n              module.set.scrolling();\n            }\n          },\n          undetached: function() {\n            $dimmable.addClass(className.undetached);\n          }\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.modal.settings = {\n\n  name           : 'Modal',\n  namespace      : 'modal',\n\n  silent         : false,\n  debug          : false,\n  verbose        : false,\n  performance    : true,\n\n  observeChanges : false,\n\n  allowMultiple  : false,\n  detachable     : true,\n  closable       : true,\n  autofocus      : true,\n\n  inverted       : false,\n  blurring       : false,\n\n  centered       : true,\n\n  dimmerSettings : {\n    closable : false,\n    useCSS   : true\n  },\n\n  // whether to use keyboard shortcuts\n  keyboardShortcuts: true,\n\n  context    : 'body',\n\n  queue      : false,\n  duration   : 500,\n  offset     : 0,\n  transition : 'scale',\n\n  // padding with edge of page\n  padding    : 50,\n\n  // called before show animation\n  onShow     : function(){},\n\n  // called after show animation\n  onVisible  : function(){},\n\n  // called before hide animation\n  onHide     : function(){ return true; },\n\n  // called after hide animation\n  onHidden   : function(){},\n\n  // called after approve selector match\n  onApprove  : function(){ return true; },\n\n  // called after deny selector match\n  onDeny     : function(){ return true; },\n\n  selector    : {\n    close    : '> .close',\n    approve  : '.actions .positive, .actions .approve, .actions .ok',\n    deny     : '.actions .negative, .actions .deny, .actions .cancel',\n    modal    : '.ui.modal'\n  },\n  error : {\n    dimmer    : 'UI Dimmer, a required component is not included in this page',\n    method    : 'The method you called is not defined.',\n    notFound  : 'The element you specified could not be found'\n  },\n  className : {\n    active     : 'active',\n    animating  : 'animating',\n    blurring   : 'blurring',\n    inverted   : 'inverted',\n    loading    : 'loading',\n    scrolling  : 'scrolling',\n    undetached : 'undetached'\n  }\n};\n\n\n})( jQuery, window, document );\n","/*!\n * # Semantic UI - Nag\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.nag = function(parameters) {\n  var\n    $allModules    = $(this),\n    moduleSelector = $allModules.selector || '',\n\n    time           = new Date().getTime(),\n    performance    = [],\n\n    query          = arguments[0],\n    methodInvoked  = (typeof query == 'string'),\n    queryArguments = [].slice.call(arguments, 1),\n    returnedValue\n  ;\n  $allModules\n    .each(function() {\n      var\n        settings          = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.nag.settings, parameters)\n          : $.extend({}, $.fn.nag.settings),\n\n        className       = settings.className,\n        selector        = settings.selector,\n        error           = settings.error,\n        namespace       = settings.namespace,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = namespace + '-module',\n\n        $module         = $(this),\n\n        $close          = $module.find(selector.close),\n        $context        = (settings.context)\n          ? $(settings.context)\n          : $('body'),\n\n        element         = this,\n        instance        = $module.data(moduleNamespace),\n\n        moduleOffset,\n        moduleHeight,\n\n        contextWidth,\n        contextHeight,\n        contextOffset,\n\n        yOffset,\n        yPosition,\n\n        timer,\n        module,\n\n        requestAnimationFrame = window.requestAnimationFrame\n          || window.mozRequestAnimationFrame\n          || window.webkitRequestAnimationFrame\n          || window.msRequestAnimationFrame\n          || function(callback) { setTimeout(callback, 0); }\n      ;\n      module = {\n\n        initialize: function() {\n          module.verbose('Initializing element');\n\n          $module\n            .on('click' + eventNamespace, selector.close, module.dismiss)\n            .data(moduleNamespace, module)\n          ;\n\n          if(settings.detachable && $module.parent()[0] !== $context[0]) {\n            $module\n              .detach()\n              .prependTo($context)\n            ;\n          }\n\n          if(settings.displayTime > 0) {\n            setTimeout(module.hide, settings.displayTime);\n          }\n          module.show();\n        },\n\n        destroy: function() {\n          module.verbose('Destroying instance');\n          $module\n            .removeData(moduleNamespace)\n            .off(eventNamespace)\n          ;\n        },\n\n        show: function() {\n          if( module.should.show() && !$module.is(':visible') ) {\n            module.debug('Showing nag', settings.animation.show);\n            if(settings.animation.show == 'fade') {\n              $module\n                .fadeIn(settings.duration, settings.easing)\n              ;\n            }\n            else {\n              $module\n                .slideDown(settings.duration, settings.easing)\n              ;\n            }\n          }\n        },\n\n        hide: function() {\n          module.debug('Showing nag', settings.animation.hide);\n          if(settings.animation.show == 'fade') {\n            $module\n              .fadeIn(settings.duration, settings.easing)\n            ;\n          }\n          else {\n            $module\n              .slideUp(settings.duration, settings.easing)\n            ;\n          }\n        },\n\n        onHide: function() {\n          module.debug('Removing nag', settings.animation.hide);\n          $module.remove();\n          if (settings.onHide) {\n            settings.onHide();\n          }\n        },\n\n        dismiss: function(event) {\n          if(settings.storageMethod) {\n            module.storage.set(settings.key, settings.value);\n          }\n          module.hide();\n          event.stopImmediatePropagation();\n          event.preventDefault();\n        },\n\n        should: {\n          show: function() {\n            if(settings.persist) {\n              module.debug('Persistent nag is set, can show nag');\n              return true;\n            }\n            if( module.storage.get(settings.key) != settings.value.toString() ) {\n              module.debug('Stored value is not set, can show nag', module.storage.get(settings.key));\n              return true;\n            }\n            module.debug('Stored value is set, cannot show nag', module.storage.get(settings.key));\n            return false;\n          }\n        },\n\n        get: {\n          storageOptions: function() {\n            var\n              options = {}\n            ;\n            if(settings.expires) {\n              options.expires = settings.expires;\n            }\n            if(settings.domain) {\n              options.domain = settings.domain;\n            }\n            if(settings.path) {\n              options.path = settings.path;\n            }\n            return options;\n          }\n        },\n\n        clear: function() {\n          module.storage.remove(settings.key);\n        },\n\n        storage: {\n          set: function(key, value) {\n            var\n              options = module.get.storageOptions()\n            ;\n            if(settings.storageMethod == 'localstorage' && window.localStorage !== undefined) {\n              window.localStorage.setItem(key, value);\n              module.debug('Value stored using local storage', key, value);\n            }\n            else if(settings.storageMethod == 'sessionstorage' && window.sessionStorage !== undefined) {\n              window.sessionStorage.setItem(key, value);\n              module.debug('Value stored using session storage', key, value);\n            }\n            else if($.cookie !== undefined) {\n              $.cookie(key, value, options);\n              module.debug('Value stored using cookie', key, value, options);\n            }\n            else {\n              module.error(error.noCookieStorage);\n              return;\n            }\n          },\n          get: function(key, value) {\n            var\n              storedValue\n            ;\n            if(settings.storageMethod == 'localstorage' && window.localStorage !== undefined) {\n              storedValue = window.localStorage.getItem(key);\n            }\n            else if(settings.storageMethod == 'sessionstorage' && window.sessionStorage !== undefined) {\n              storedValue = window.sessionStorage.getItem(key);\n            }\n            // get by cookie\n            else if($.cookie !== undefined) {\n              storedValue = $.cookie(key);\n            }\n            else {\n              module.error(error.noCookieStorage);\n            }\n            if(storedValue == 'undefined' || storedValue == 'null' || storedValue === undefined || storedValue === null) {\n              storedValue = undefined;\n            }\n            return storedValue;\n          },\n          remove: function(key) {\n            var\n              options = module.get.storageOptions()\n            ;\n            if(settings.storageMethod == 'localstorage' && window.localStorage !== undefined) {\n              window.localStorage.removeItem(key);\n            }\n            else if(settings.storageMethod == 'sessionstorage' && window.sessionStorage !== undefined) {\n              window.sessionStorage.removeItem(key);\n            }\n            // store by cookie\n            else if($.cookie !== undefined) {\n              $.removeCookie(key, options);\n            }\n            else {\n              module.error(error.noStorage);\n            }\n          }\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.nag.settings = {\n\n  name        : 'Nag',\n\n  silent      : false,\n  debug       : false,\n  verbose     : false,\n  performance : true,\n\n  namespace   : 'Nag',\n\n  // allows cookie to be overridden\n  persist     : false,\n\n  // set to zero to require manually dismissal, otherwise hides on its own\n  displayTime : 0,\n\n  animation   : {\n    show : 'slide',\n    hide : 'slide'\n  },\n\n  context       : false,\n  detachable    : false,\n\n  expires       : 30,\n  domain        : false,\n  path          : '/',\n\n  // type of storage to use\n  storageMethod : 'cookie',\n\n  // value to store in dismissed localstorage/cookie\n  key           : 'nag',\n  value         : 'dismiss',\n\n  error: {\n    noCookieStorage : '$.cookie is not included. A storage solution is required.',\n    noStorage       : 'Neither $.cookie or store is defined. A storage solution is required for storing state',\n    method          : 'The method you called is not defined.'\n  },\n\n  className     : {\n    bottom : 'bottom',\n    fixed  : 'fixed'\n  },\n\n  selector      : {\n    close : '.close.icon'\n  },\n\n  speed         : 500,\n  easing        : 'easeOutQuad',\n\n  onHide: function() {}\n\n};\n\n// Adds easing\n$.extend( $.easing, {\n  easeOutQuad: function (x, t, b, c, d) {\n    return -c *(t/=d)*(t-2) + b;\n  }\n});\n\n})( jQuery, window, document );\n","/*!\n * # Semantic UI - Popup\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.popup = function(parameters) {\n  var\n    $allModules    = $(this),\n    $document      = $(document),\n    $window        = $(window),\n    $body          = $('body'),\n\n    moduleSelector = $allModules.selector || '',\n\n    hasTouch       = (true),\n    time           = new Date().getTime(),\n    performance    = [],\n\n    query          = arguments[0],\n    methodInvoked  = (typeof query == 'string'),\n    queryArguments = [].slice.call(arguments, 1),\n\n    returnedValue\n  ;\n  $allModules\n    .each(function() {\n      var\n        settings        = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.popup.settings, parameters)\n          : $.extend({}, $.fn.popup.settings),\n\n        selector           = settings.selector,\n        className          = settings.className,\n        error              = settings.error,\n        metadata           = settings.metadata,\n        namespace          = settings.namespace,\n\n        eventNamespace     = '.' + settings.namespace,\n        moduleNamespace    = 'module-' + namespace,\n\n        $module            = $(this),\n        $context           = $(settings.context),\n        $scrollContext     = $(settings.scrollContext),\n        $boundary          = $(settings.boundary),\n        $target            = (settings.target)\n          ? $(settings.target)\n          : $module,\n\n        $popup,\n        $offsetParent,\n\n        searchDepth        = 0,\n        triedPositions     = false,\n        openedWithTouch    = false,\n\n        element            = this,\n        instance           = $module.data(moduleNamespace),\n\n        documentObserver,\n        elementNamespace,\n        id,\n        module\n      ;\n\n      module = {\n\n        // binds events\n        initialize: function() {\n          module.debug('Initializing', $module);\n          module.createID();\n          module.bind.events();\n          if(!module.exists() && settings.preserve) {\n            module.create();\n          }\n          if(settings.observeChanges) {\n            module.observeChanges();\n          }\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, instance)\n          ;\n        },\n\n        observeChanges: function() {\n          if('MutationObserver' in window) {\n            documentObserver = new MutationObserver(module.event.documentChanged);\n            documentObserver.observe(document, {\n              childList : true,\n              subtree   : true\n            });\n            module.debug('Setting up mutation observer', documentObserver);\n          }\n        },\n\n        refresh: function() {\n          if(settings.popup) {\n            $popup = $(settings.popup).eq(0);\n          }\n          else {\n            if(settings.inline) {\n              $popup = $target.nextAll(selector.popup).eq(0);\n              settings.popup = $popup;\n            }\n          }\n          if(settings.popup) {\n            $popup.addClass(className.loading);\n            $offsetParent = module.get.offsetParent();\n            $popup.removeClass(className.loading);\n            if(settings.movePopup && module.has.popup() && module.get.offsetParent($popup)[0] !== $offsetParent[0]) {\n              module.debug('Moving popup to the same offset parent as target');\n              $popup\n                .detach()\n                .appendTo($offsetParent)\n              ;\n            }\n          }\n          else {\n            $offsetParent = (settings.inline)\n              ? module.get.offsetParent($target)\n              : module.has.popup()\n                ? module.get.offsetParent($popup)\n                : $body\n            ;\n          }\n          if( $offsetParent.is('html') && $offsetParent[0] !== $body[0] ) {\n            module.debug('Setting page as offset parent');\n            $offsetParent = $body;\n          }\n          if( module.get.variation() ) {\n            module.set.variation();\n          }\n        },\n\n        reposition: function() {\n          module.refresh();\n          module.set.position();\n        },\n\n        destroy: function() {\n          module.debug('Destroying previous module');\n          if(documentObserver) {\n            documentObserver.disconnect();\n          }\n          // remove element only if was created dynamically\n          if($popup && !settings.preserve) {\n            module.removePopup();\n          }\n          // clear all timeouts\n          clearTimeout(module.hideTimer);\n          clearTimeout(module.showTimer);\n          // remove events\n          module.unbind.close();\n          module.unbind.events();\n          $module\n            .removeData(moduleNamespace)\n          ;\n        },\n\n        event: {\n          start:  function(event) {\n            var\n              delay = ($.isPlainObject(settings.delay))\n                ? settings.delay.show\n                : settings.delay\n            ;\n            clearTimeout(module.hideTimer);\n            if(!openedWithTouch) {\n              module.showTimer = setTimeout(module.show, delay);\n            }\n          },\n          end:  function() {\n            var\n              delay = ($.isPlainObject(settings.delay))\n                ? settings.delay.hide\n                : settings.delay\n            ;\n            clearTimeout(module.showTimer);\n            module.hideTimer = setTimeout(module.hide, delay);\n          },\n          touchstart: function(event) {\n            openedWithTouch = true;\n            module.show();\n          },\n          resize: function() {\n            if( module.is.visible() ) {\n              module.set.position();\n            }\n          },\n          documentChanged: function(mutations) {\n            [].forEach.call(mutations, function(mutation) {\n              if(mutation.removedNodes) {\n                [].forEach.call(mutation.removedNodes, function(node) {\n                  if(node == element || $(node).find(element).length > 0) {\n                    module.debug('Element removed from DOM, tearing down events');\n                    module.destroy();\n                  }\n                });\n              }\n            });\n          },\n          hideGracefully: function(event) {\n            var\n              $target = $(event.target),\n              isInDOM = $.contains(document.documentElement, event.target),\n              inPopup = ($target.closest(selector.popup).length > 0)\n            ;\n            // don't close on clicks inside popup\n            if(event && !inPopup && isInDOM) {\n              module.debug('Click occurred outside popup hiding popup');\n              module.hide();\n            }\n            else {\n              module.debug('Click was inside popup, keeping popup open');\n            }\n          }\n        },\n\n        // generates popup html from metadata\n        create: function() {\n          var\n            html      = module.get.html(),\n            title     = module.get.title(),\n            content   = module.get.content()\n          ;\n\n          if(html || content || title) {\n            module.debug('Creating pop-up html');\n            if(!html) {\n              html = settings.templates.popup({\n                title   : title,\n                content : content\n              });\n            }\n            $popup = $('<div/>')\n              .addClass(className.popup)\n              .data(metadata.activator, $module)\n              .html(html)\n            ;\n            if(settings.inline) {\n              module.verbose('Inserting popup element inline', $popup);\n              $popup\n                .insertAfter($module)\n              ;\n            }\n            else {\n              module.verbose('Appending popup element to body', $popup);\n              $popup\n                .appendTo( $context )\n              ;\n            }\n            module.refresh();\n            module.set.variation();\n\n            if(settings.hoverable) {\n              module.bind.popup();\n            }\n            settings.onCreate.call($popup, element);\n          }\n          else if($target.next(selector.popup).length !== 0) {\n            module.verbose('Pre-existing popup found');\n            settings.inline = true;\n            settings.popup  = $target.next(selector.popup).data(metadata.activator, $module);\n            module.refresh();\n            if(settings.hoverable) {\n              module.bind.popup();\n            }\n          }\n          else if(settings.popup) {\n            $(settings.popup).data(metadata.activator, $module);\n            module.verbose('Used popup specified in settings');\n            module.refresh();\n            if(settings.hoverable) {\n              module.bind.popup();\n            }\n          }\n          else {\n            module.debug('No content specified skipping display', element);\n          }\n        },\n\n        createID: function() {\n          id = (Math.random().toString(16) + '000000000').substr(2, 8);\n          elementNamespace = '.' + id;\n          module.verbose('Creating unique id for element', id);\n        },\n\n        // determines popup state\n        toggle: function() {\n          module.debug('Toggling pop-up');\n          if( module.is.hidden() ) {\n            module.debug('Popup is hidden, showing pop-up');\n            module.unbind.close();\n            module.show();\n          }\n          else {\n            module.debug('Popup is visible, hiding pop-up');\n            module.hide();\n          }\n        },\n\n        show: function(callback) {\n          callback = callback || function(){};\n          module.debug('Showing pop-up', settings.transition);\n          if(module.is.hidden() && !( module.is.active() && module.is.dropdown()) ) {\n            if( !module.exists() ) {\n              module.create();\n            }\n            if(settings.onShow.call($popup, element) === false) {\n              module.debug('onShow callback returned false, cancelling popup animation');\n              return;\n            }\n            else if(!settings.preserve && !settings.popup) {\n              module.refresh();\n            }\n            if( $popup && module.set.position() ) {\n              module.save.conditions();\n              if(settings.exclusive) {\n                module.hideAll();\n              }\n              module.animate.show(callback);\n            }\n          }\n        },\n\n\n        hide: function(callback) {\n          callback = callback || function(){};\n          if( module.is.visible() || module.is.animating() ) {\n            if(settings.onHide.call($popup, element) === false) {\n              module.debug('onHide callback returned false, cancelling popup animation');\n              return;\n            }\n            module.remove.visible();\n            module.unbind.close();\n            module.restore.conditions();\n            module.animate.hide(callback);\n          }\n        },\n\n        hideAll: function() {\n          $(selector.popup)\n            .filter('.' + className.popupVisible)\n            .each(function() {\n              $(this)\n                .data(metadata.activator)\n                  .popup('hide')\n              ;\n            })\n          ;\n        },\n        exists: function() {\n          if(!$popup) {\n            return false;\n          }\n          if(settings.inline || settings.popup) {\n            return ( module.has.popup() );\n          }\n          else {\n            return ( $popup.closest($context).length >= 1 )\n              ? true\n              : false\n            ;\n          }\n        },\n\n        removePopup: function() {\n          if( module.has.popup() && !settings.popup) {\n            module.debug('Removing popup', $popup);\n            $popup.remove();\n            $popup = undefined;\n            settings.onRemove.call($popup, element);\n          }\n        },\n\n        save: {\n          conditions: function() {\n            module.cache = {\n              title: $module.attr('title')\n            };\n            if (module.cache.title) {\n              $module.removeAttr('title');\n            }\n            module.verbose('Saving original attributes', module.cache.title);\n          }\n        },\n        restore: {\n          conditions: function() {\n            if(module.cache && module.cache.title) {\n              $module.attr('title', module.cache.title);\n              module.verbose('Restoring original attributes', module.cache.title);\n            }\n            return true;\n          }\n        },\n        supports: {\n          svg: function() {\n            return (typeof SVGGraphicsElement === 'undefined');\n          }\n        },\n        animate: {\n          show: function(callback) {\n            callback = $.isFunction(callback) ? callback : function(){};\n            if(settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n              module.set.visible();\n              $popup\n                .transition({\n                  animation  : settings.transition + ' in',\n                  queue      : false,\n                  debug      : settings.debug,\n                  verbose    : settings.verbose,\n                  duration   : settings.duration,\n                  onComplete : function() {\n                    module.bind.close();\n                    callback.call($popup, element);\n                    settings.onVisible.call($popup, element);\n                  }\n                })\n              ;\n            }\n            else {\n              module.error(error.noTransition);\n            }\n          },\n          hide: function(callback) {\n            callback = $.isFunction(callback) ? callback : function(){};\n            module.debug('Hiding pop-up');\n            if(settings.onHide.call($popup, element) === false) {\n              module.debug('onHide callback returned false, cancelling popup animation');\n              return;\n            }\n            if(settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n              $popup\n                .transition({\n                  animation  : settings.transition + ' out',\n                  queue      : false,\n                  duration   : settings.duration,\n                  debug      : settings.debug,\n                  verbose    : settings.verbose,\n                  onComplete : function() {\n                    module.reset();\n                    callback.call($popup, element);\n                    settings.onHidden.call($popup, element);\n                  }\n                })\n              ;\n            }\n            else {\n              module.error(error.noTransition);\n            }\n          }\n        },\n\n        change: {\n          content: function(html) {\n            $popup.html(html);\n          }\n        },\n\n        get: {\n          html: function() {\n            $module.removeData(metadata.html);\n            return $module.data(metadata.html) || settings.html;\n          },\n          title: function() {\n            $module.removeData(metadata.title);\n            return $module.data(metadata.title) || settings.title;\n          },\n          content: function() {\n            $module.removeData(metadata.content);\n            return $module.data(metadata.content) || settings.content || $module.attr('title');\n          },\n          variation: function() {\n            $module.removeData(metadata.variation);\n            return $module.data(metadata.variation) || settings.variation;\n          },\n          popup: function() {\n            return $popup;\n          },\n          popupOffset: function() {\n            return $popup.offset();\n          },\n          calculations: function() {\n            var\n              $popupOffsetParent = module.get.offsetParent($popup),\n              targetElement      = $target[0],\n              isWindow           = ($boundary[0] == window),\n              targetPosition     = (settings.inline || (settings.popup && settings.movePopup))\n                ? $target.position()\n                : $target.offset(),\n              screenPosition = (isWindow)\n                ? { top: 0, left: 0 }\n                : $boundary.offset(),\n              calculations   = {},\n              scroll = (isWindow)\n                ? { top: $window.scrollTop(), left: $window.scrollLeft() }\n                : { top: 0, left: 0},\n              screen\n            ;\n            calculations = {\n              // element which is launching popup\n              target : {\n                element : $target[0],\n                width   : $target.outerWidth(),\n                height  : $target.outerHeight(),\n                top     : targetPosition.top,\n                left    : targetPosition.left,\n                margin  : {}\n              },\n              // popup itself\n              popup : {\n                width  : $popup.outerWidth(),\n                height : $popup.outerHeight()\n              },\n              // offset container (or 3d context)\n              parent : {\n                width  : $offsetParent.outerWidth(),\n                height : $offsetParent.outerHeight()\n              },\n              // screen boundaries\n              screen : {\n                top  : screenPosition.top,\n                left : screenPosition.left,\n                scroll: {\n                  top  : scroll.top,\n                  left : scroll.left\n                },\n                width  : $boundary.width(),\n                height : $boundary.height()\n              }\n            };\n\n            // if popup offset context is not same as target, then adjust calculations\n            if($popupOffsetParent.get(0) !== $offsetParent.get(0)) {\n              var\n                popupOffset        = $popupOffsetParent.offset()\n              ;\n              calculations.target.top -= popupOffset.top;\n              calculations.target.left -= popupOffset.left;\n              calculations.parent.width = $popupOffsetParent.outerWidth();\n              calculations.parent.height = $popupOffsetParent.outerHeight();\n            }\n\n            // add in container calcs if fluid\n            if( settings.setFluidWidth && module.is.fluid() ) {\n              calculations.container = {\n                width: $popup.parent().outerWidth()\n              };\n              calculations.popup.width = calculations.container.width;\n            }\n\n            // add in margins if inline\n            calculations.target.margin.top = (settings.inline)\n              ? parseInt( window.getComputedStyle(targetElement).getPropertyValue('margin-top'), 10)\n              : 0\n            ;\n            calculations.target.margin.left = (settings.inline)\n              ? module.is.rtl()\n                ? parseInt( window.getComputedStyle(targetElement).getPropertyValue('margin-right'), 10)\n                : parseInt( window.getComputedStyle(targetElement).getPropertyValue('margin-left'), 10)\n              : 0\n            ;\n            // calculate screen boundaries\n            screen = calculations.screen;\n            calculations.boundary = {\n              top    : screen.top + screen.scroll.top,\n              bottom : screen.top + screen.scroll.top + screen.height,\n              left   : screen.left + screen.scroll.left,\n              right  : screen.left + screen.scroll.left + screen.width\n            };\n            return calculations;\n          },\n          id: function() {\n            return id;\n          },\n          startEvent: function() {\n            if(settings.on == 'hover') {\n              return 'mouseenter';\n            }\n            else if(settings.on == 'focus') {\n              return 'focus';\n            }\n            return false;\n          },\n          scrollEvent: function() {\n            return 'scroll';\n          },\n          endEvent: function() {\n            if(settings.on == 'hover') {\n              return 'mouseleave';\n            }\n            else if(settings.on == 'focus') {\n              return 'blur';\n            }\n            return false;\n          },\n          distanceFromBoundary: function(offset, calculations) {\n            var\n              distanceFromBoundary = {},\n              popup,\n              boundary\n            ;\n            calculations = calculations || module.get.calculations();\n\n            // shorthand\n            popup        = calculations.popup;\n            boundary     = calculations.boundary;\n\n            if(offset) {\n              distanceFromBoundary = {\n                top    : (offset.top - boundary.top),\n                left   : (offset.left - boundary.left),\n                right  : (boundary.right - (offset.left + popup.width) ),\n                bottom : (boundary.bottom - (offset.top + popup.height) )\n              };\n              module.verbose('Distance from boundaries determined', offset, distanceFromBoundary);\n            }\n            return distanceFromBoundary;\n          },\n          offsetParent: function($element) {\n            var\n              element = ($element !== undefined)\n                ? $element[0]\n                : $target[0],\n              parentNode = element.parentNode,\n              $node    = $(parentNode)\n            ;\n            if(parentNode) {\n              var\n                is2D     = ($node.css('transform') === 'none'),\n                isStatic = ($node.css('position') === 'static'),\n                isBody   = $node.is('body')\n              ;\n              while(parentNode && !isBody && isStatic && is2D) {\n                parentNode = parentNode.parentNode;\n                $node    = $(parentNode);\n                is2D     = ($node.css('transform') === 'none');\n                isStatic = ($node.css('position') === 'static');\n                isBody   = $node.is('body');\n              }\n            }\n            return ($node && $node.length > 0)\n              ? $node\n              : $()\n            ;\n          },\n          positions: function() {\n            return {\n              'top left'      : false,\n              'top center'    : false,\n              'top right'     : false,\n              'bottom left'   : false,\n              'bottom center' : false,\n              'bottom right'  : false,\n              'left center'   : false,\n              'right center'  : false\n            };\n          },\n          nextPosition: function(position) {\n            var\n              positions          = position.split(' '),\n              verticalPosition   = positions[0],\n              horizontalPosition = positions[1],\n              opposite = {\n                top    : 'bottom',\n                bottom : 'top',\n                left   : 'right',\n                right  : 'left'\n              },\n              adjacent = {\n                left   : 'center',\n                center : 'right',\n                right  : 'left'\n              },\n              backup = {\n                'top left'      : 'top center',\n                'top center'    : 'top right',\n                'top right'     : 'right center',\n                'right center'  : 'bottom right',\n                'bottom right'  : 'bottom center',\n                'bottom center' : 'bottom left',\n                'bottom left'   : 'left center',\n                'left center'   : 'top left'\n              },\n              adjacentsAvailable = (verticalPosition == 'top' || verticalPosition == 'bottom'),\n              oppositeTried = false,\n              adjacentTried = false,\n              nextPosition  = false\n            ;\n            if(!triedPositions) {\n              module.verbose('All available positions available');\n              triedPositions = module.get.positions();\n            }\n\n            module.debug('Recording last position tried', position);\n            triedPositions[position] = true;\n\n            if(settings.prefer === 'opposite') {\n              nextPosition  = [opposite[verticalPosition], horizontalPosition];\n              nextPosition  = nextPosition.join(' ');\n              oppositeTried = (triedPositions[nextPosition] === true);\n              module.debug('Trying opposite strategy', nextPosition);\n            }\n            if((settings.prefer === 'adjacent') && adjacentsAvailable ) {\n              nextPosition  = [verticalPosition, adjacent[horizontalPosition]];\n              nextPosition  = nextPosition.join(' ');\n              adjacentTried = (triedPositions[nextPosition] === true);\n              module.debug('Trying adjacent strategy', nextPosition);\n            }\n            if(adjacentTried || oppositeTried) {\n              module.debug('Using backup position', nextPosition);\n              nextPosition = backup[position];\n            }\n            return nextPosition;\n          }\n        },\n\n        set: {\n          position: function(position, calculations) {\n\n            // exit conditions\n            if($target.length === 0 || $popup.length === 0) {\n              module.error(error.notFound);\n              return;\n            }\n            var\n              offset,\n              distanceAway,\n              target,\n              popup,\n              parent,\n              positioning,\n              popupOffset,\n              distanceFromBoundary\n            ;\n\n            calculations = calculations || module.get.calculations();\n            position     = position     || $module.data(metadata.position) || settings.position;\n\n            offset       = $module.data(metadata.offset) || settings.offset;\n            distanceAway = settings.distanceAway;\n\n            // shorthand\n            target = calculations.target;\n            popup  = calculations.popup;\n            parent = calculations.parent;\n\n            if(module.should.centerArrow(calculations)) {\n              module.verbose('Adjusting offset to center arrow on small target element');\n              if(position == 'top left' || position == 'bottom left') {\n                offset += (target.width / 2)\n                offset -= settings.arrowPixelsFromEdge;\n              }\n              if(position == 'top right' || position == 'bottom right') {\n                offset -= (target.width / 2)\n                offset += settings.arrowPixelsFromEdge;\n              }\n            }\n\n            if(target.width === 0 && target.height === 0 && !module.is.svg(target.element)) {\n              module.debug('Popup target is hidden, no action taken');\n              return false;\n            }\n\n            if(settings.inline) {\n              module.debug('Adding margin to calculation', target.margin);\n              if(position == 'left center' || position == 'right center') {\n                offset       +=  target.margin.top;\n                distanceAway += -target.margin.left;\n              }\n              else if (position == 'top left' || position == 'top center' || position == 'top right') {\n                offset       += target.margin.left;\n                distanceAway -= target.margin.top;\n              }\n              else {\n                offset       += target.margin.left;\n                distanceAway += target.margin.top;\n              }\n            }\n\n            module.debug('Determining popup position from calculations', position, calculations);\n\n            if (module.is.rtl()) {\n              position = position.replace(/left|right/g, function (match) {\n                return (match == 'left')\n                  ? 'right'\n                  : 'left'\n                ;\n              });\n              module.debug('RTL: Popup position updated', position);\n            }\n\n            // if last attempt use specified last resort position\n            if(searchDepth == settings.maxSearchDepth && typeof settings.lastResort === 'string') {\n              position = settings.lastResort;\n            }\n\n            switch (position) {\n              case 'top left':\n                positioning = {\n                  top    : 'auto',\n                  bottom : parent.height - target.top + distanceAway,\n                  left   : target.left + offset,\n                  right  : 'auto'\n                };\n              break;\n              case 'top center':\n                positioning = {\n                  bottom : parent.height - target.top + distanceAway,\n                  left   : target.left + (target.width / 2) - (popup.width / 2) + offset,\n                  top    : 'auto',\n                  right  : 'auto'\n                };\n              break;\n              case 'top right':\n                positioning = {\n                  bottom :  parent.height - target.top + distanceAway,\n                  right  :  parent.width - target.left - target.width - offset,\n                  top    : 'auto',\n                  left   : 'auto'\n                };\n              break;\n              case 'left center':\n                positioning = {\n                  top    : target.top + (target.height / 2) - (popup.height / 2) + offset,\n                  right  : parent.width - target.left + distanceAway,\n                  left   : 'auto',\n                  bottom : 'auto'\n                };\n              break;\n              case 'right center':\n                positioning = {\n                  top    : target.top + (target.height / 2) - (popup.height / 2) + offset,\n                  left   : target.left + target.width + distanceAway,\n                  bottom : 'auto',\n                  right  : 'auto'\n                };\n              break;\n              case 'bottom left':\n                positioning = {\n                  top    : target.top + target.height + distanceAway,\n                  left   : target.left + offset,\n                  bottom : 'auto',\n                  right  : 'auto'\n                };\n              break;\n              case 'bottom center':\n                positioning = {\n                  top    : target.top + target.height + distanceAway,\n                  left   : target.left + (target.width / 2) - (popup.width / 2) + offset,\n                  bottom : 'auto',\n                  right  : 'auto'\n                };\n              break;\n              case 'bottom right':\n                positioning = {\n                  top    : target.top + target.height + distanceAway,\n                  right  : parent.width - target.left  - target.width - offset,\n                  left   : 'auto',\n                  bottom : 'auto'\n                };\n              break;\n            }\n            if(positioning === undefined) {\n              module.error(error.invalidPosition, position);\n            }\n\n            module.debug('Calculated popup positioning values', positioning);\n\n            // tentatively place on stage\n            $popup\n              .css(positioning)\n              .removeClass(className.position)\n              .addClass(position)\n              .addClass(className.loading)\n            ;\n\n            popupOffset = module.get.popupOffset();\n\n            // see if any boundaries are surpassed with this tentative position\n            distanceFromBoundary = module.get.distanceFromBoundary(popupOffset, calculations);\n\n            if( module.is.offstage(distanceFromBoundary, position) ) {\n              module.debug('Position is outside viewport', position);\n              if(searchDepth < settings.maxSearchDepth) {\n                searchDepth++;\n                position = module.get.nextPosition(position);\n                module.debug('Trying new position', position);\n                return ($popup)\n                  ? module.set.position(position, calculations)\n                  : false\n                ;\n              }\n              else {\n                if(settings.lastResort) {\n                  module.debug('No position found, showing with last position');\n                }\n                else {\n                  module.debug('Popup could not find a position to display', $popup);\n                  module.error(error.cannotPlace, element);\n                  module.remove.attempts();\n                  module.remove.loading();\n                  module.reset();\n                  settings.onUnplaceable.call($popup, element);\n                  return false;\n                }\n              }\n            }\n            module.debug('Position is on stage', position);\n            module.remove.attempts();\n            module.remove.loading();\n            if( settings.setFluidWidth && module.is.fluid() ) {\n              module.set.fluidWidth(calculations);\n            }\n            return true;\n          },\n\n          fluidWidth: function(calculations) {\n            calculations = calculations || module.get.calculations();\n            module.debug('Automatically setting element width to parent width', calculations.parent.width);\n            $popup.css('width', calculations.container.width);\n          },\n\n          variation: function(variation) {\n            variation = variation || module.get.variation();\n            if(variation && module.has.popup() ) {\n              module.verbose('Adding variation to popup', variation);\n              $popup.addClass(variation);\n            }\n          },\n\n          visible: function() {\n            $module.addClass(className.visible);\n          }\n        },\n\n        remove: {\n          loading: function() {\n            $popup.removeClass(className.loading);\n          },\n          variation: function(variation) {\n            variation = variation || module.get.variation();\n            if(variation) {\n              module.verbose('Removing variation', variation);\n              $popup.removeClass(variation);\n            }\n          },\n          visible: function() {\n            $module.removeClass(className.visible);\n          },\n          attempts: function() {\n            module.verbose('Resetting all searched positions');\n            searchDepth    = 0;\n            triedPositions = false;\n          }\n        },\n\n        bind: {\n          events: function() {\n            module.debug('Binding popup events to module');\n            if(settings.on == 'click') {\n              $module\n                .on('click' + eventNamespace, module.toggle)\n              ;\n            }\n            if(settings.on == 'hover' && hasTouch) {\n              $module\n                .on('touchstart' + eventNamespace, module.event.touchstart)\n              ;\n            }\n            if( module.get.startEvent() ) {\n              $module\n                .on(module.get.startEvent() + eventNamespace, module.event.start)\n                .on(module.get.endEvent() + eventNamespace, module.event.end)\n              ;\n            }\n            if(settings.target) {\n              module.debug('Target set to element', $target);\n            }\n            $window.on('resize' + elementNamespace, module.event.resize);\n          },\n          popup: function() {\n            module.verbose('Allowing hover events on popup to prevent closing');\n            if( $popup && module.has.popup() ) {\n              $popup\n                .on('mouseenter' + eventNamespace, module.event.start)\n                .on('mouseleave' + eventNamespace, module.event.end)\n              ;\n            }\n          },\n          close: function() {\n            if(settings.hideOnScroll === true || (settings.hideOnScroll == 'auto' && settings.on != 'click')) {\n              module.bind.closeOnScroll();\n            }\n            if(settings.on == 'hover' && openedWithTouch) {\n              module.bind.touchClose();\n            }\n            if(settings.on == 'click' && settings.closable) {\n              module.bind.clickaway();\n            }\n          },\n          closeOnScroll: function() {\n            module.verbose('Binding scroll close event to document');\n            $scrollContext\n              .one(module.get.scrollEvent() + elementNamespace, module.event.hideGracefully)\n            ;\n          },\n          touchClose: function() {\n            module.verbose('Binding popup touchclose event to document');\n            $document\n              .on('touchstart' + elementNamespace, function(event) {\n                module.verbose('Touched away from popup');\n                module.event.hideGracefully.call(element, event);\n              })\n            ;\n          },\n          clickaway: function() {\n            module.verbose('Binding popup close event to document');\n            $document\n              .on('click' + elementNamespace, function(event) {\n                module.verbose('Clicked away from popup');\n                module.event.hideGracefully.call(element, event);\n              })\n            ;\n          }\n        },\n\n        unbind: {\n          events: function() {\n            $window\n              .off(elementNamespace)\n            ;\n            $module\n              .off(eventNamespace)\n            ;\n          },\n          close: function() {\n            $document\n              .off(elementNamespace)\n            ;\n            $scrollContext\n              .off(elementNamespace)\n            ;\n          },\n        },\n\n        has: {\n          popup: function() {\n            return ($popup && $popup.length > 0);\n          }\n        },\n\n        should: {\n          centerArrow: function(calculations) {\n            return !module.is.basic() && calculations.target.width <= (settings.arrowPixelsFromEdge * 2);\n          }\n        },\n\n        is: {\n          offstage: function(distanceFromBoundary, position) {\n            var\n              offstage = []\n            ;\n            // return boundaries that have been surpassed\n            $.each(distanceFromBoundary, function(direction, distance) {\n              if(distance < -settings.jitter) {\n                module.debug('Position exceeds allowable distance from edge', direction, distance, position);\n                offstage.push(direction);\n              }\n            });\n            if(offstage.length > 0) {\n              return true;\n            }\n            else {\n              return false;\n            }\n          },\n          svg: function(element) {\n            return module.supports.svg() && (element instanceof SVGGraphicsElement);\n          },\n          basic: function() {\n            return $module.hasClass(className.basic);\n          },\n          active: function() {\n            return $module.hasClass(className.active);\n          },\n          animating: function() {\n            return ($popup !== undefined && $popup.hasClass(className.animating) );\n          },\n          fluid: function() {\n            return ($popup !== undefined && $popup.hasClass(className.fluid));\n          },\n          visible: function() {\n            return ($popup !== undefined && $popup.hasClass(className.popupVisible));\n          },\n          dropdown: function() {\n            return $module.hasClass(className.dropdown);\n          },\n          hidden: function() {\n            return !module.is.visible();\n          },\n          rtl: function () {\n            return $module.css('direction') == 'rtl';\n          }\n        },\n\n        reset: function() {\n          module.remove.visible();\n          if(settings.preserve) {\n            if($.fn.transition !== undefined) {\n              $popup\n                .transition('remove transition')\n              ;\n            }\n          }\n          else {\n            module.removePopup();\n          }\n        },\n\n        setting: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            settings[name] = value;\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.popup.settings = {\n\n  name           : 'Popup',\n\n  // module settings\n  silent         : false,\n  debug          : false,\n  verbose        : false,\n  performance    : true,\n  namespace      : 'popup',\n\n  // whether it should use dom mutation observers\n  observeChanges : true,\n\n  // callback only when element added to dom\n  onCreate       : function(){},\n\n  // callback before element removed from dom\n  onRemove       : function(){},\n\n  // callback before show animation\n  onShow         : function(){},\n\n  // callback after show animation\n  onVisible      : function(){},\n\n  // callback before hide animation\n  onHide         : function(){},\n\n  // callback when popup cannot be positioned in visible screen\n  onUnplaceable  : function(){},\n\n  // callback after hide animation\n  onHidden       : function(){},\n\n  // when to show popup\n  on             : 'hover',\n\n  // element to use to determine if popup is out of boundary\n  boundary       : window,\n\n  // whether to add touchstart events when using hover\n  addTouchEvents : true,\n\n  // default position relative to element\n  position       : 'top left',\n\n  // name of variation to use\n  variation      : '',\n\n  // whether popup should be moved to context\n  movePopup      : true,\n\n  // element which popup should be relative to\n  target         : false,\n\n  // jq selector or element that should be used as popup\n  popup          : false,\n\n  // popup should remain inline next to activator\n  inline         : false,\n\n  // popup should be removed from page on hide\n  preserve       : false,\n\n  // popup should not close when being hovered on\n  hoverable      : false,\n\n  // explicitly set content\n  content        : false,\n\n  // explicitly set html\n  html           : false,\n\n  // explicitly set title\n  title          : false,\n\n  // whether automatically close on clickaway when on click\n  closable       : true,\n\n  // automatically hide on scroll\n  hideOnScroll   : 'auto',\n\n  // hide other popups on show\n  exclusive      : false,\n\n  // context to attach popups\n  context        : 'body',\n\n  // context for binding scroll events\n  scrollContext  : window,\n\n  // position to prefer when calculating new position\n  prefer         : 'opposite',\n\n  // specify position to appear even if it doesn't fit\n  lastResort     : false,\n\n  // number of pixels from edge of popup to pointing arrow center (used from centering)\n  arrowPixelsFromEdge: 20,\n\n  // delay used to prevent accidental refiring of animations due to user error\n  delay : {\n    show : 50,\n    hide : 70\n  },\n\n  // whether fluid variation should assign width explicitly\n  setFluidWidth  : true,\n\n  // transition settings\n  duration       : 200,\n  transition     : 'scale',\n\n  // distance away from activating element in px\n  distanceAway   : 0,\n\n  // number of pixels an element is allowed to be \"offstage\" for a position to be chosen (allows for rounding)\n  jitter         : 2,\n\n  // offset on aligning axis from calculated position\n  offset         : 0,\n\n  // maximum times to look for a position before failing (9 positions total)\n  maxSearchDepth : 15,\n\n  error: {\n    invalidPosition : 'The position you specified is not a valid position',\n    cannotPlace     : 'Popup does not fit within the boundaries of the viewport',\n    method          : 'The method you called is not defined.',\n    noTransition    : 'This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>',\n    notFound        : 'The target or popup you specified does not exist on the page'\n  },\n\n  metadata: {\n    activator : 'activator',\n    content   : 'content',\n    html      : 'html',\n    offset    : 'offset',\n    position  : 'position',\n    title     : 'title',\n    variation : 'variation'\n  },\n\n  className   : {\n    active       : 'active',\n    basic        : 'basic',\n    animating    : 'animating',\n    dropdown     : 'dropdown',\n    fluid        : 'fluid',\n    loading      : 'loading',\n    popup        : 'ui popup',\n    position     : 'top left center bottom right',\n    visible      : 'visible',\n    popupVisible : 'visible'\n  },\n\n  selector    : {\n    popup    : '.ui.popup'\n  },\n\n  templates: {\n    escape: function(string) {\n      var\n        badChars     = /[&<>\"'`]/g,\n        shouldEscape = /[&<>\"'`]/,\n        escape       = {\n          \"&\": \"&amp;\",\n          \"<\": \"&lt;\",\n          \">\": \"&gt;\",\n          '\"': \"&quot;\",\n          \"'\": \"&#x27;\",\n          \"`\": \"&#x60;\"\n        },\n        escapedChar  = function(chr) {\n          return escape[chr];\n        }\n      ;\n      if(shouldEscape.test(string)) {\n        return string.replace(badChars, escapedChar);\n      }\n      return string;\n    },\n    popup: function(text) {\n      var\n        html   = '',\n        escape = $.fn.popup.settings.templates.escape\n      ;\n      if(typeof text !== undefined) {\n        if(typeof text.title !== undefined && text.title) {\n          text.title = escape(text.title);\n          html += '<div class=\"header\">' + text.title + '</div>';\n        }\n        if(typeof text.content !== undefined && text.content) {\n          text.content = escape(text.content);\n          html += '<div class=\"content\">' + text.content + '</div>';\n        }\n      }\n      return html;\n    }\n  }\n\n};\n\n\n})( jQuery, window, document );\n","/*!\n * # Semantic UI - Progress\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\nvar\n  global = (typeof window != 'undefined' && window.Math == Math)\n    ? window\n    : (typeof self != 'undefined' && self.Math == Math)\n      ? self\n      : Function('return this')()\n;\n\n$.fn.progress = function(parameters) {\n  var\n    $allModules    = $(this),\n\n    moduleSelector = $allModules.selector || '',\n\n    time           = new Date().getTime(),\n    performance    = [],\n\n    query          = arguments[0],\n    methodInvoked  = (typeof query == 'string'),\n    queryArguments = [].slice.call(arguments, 1),\n\n    returnedValue\n  ;\n\n  $allModules\n    .each(function() {\n      var\n        settings          = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.progress.settings, parameters)\n          : $.extend({}, $.fn.progress.settings),\n\n        className       = settings.className,\n        metadata        = settings.metadata,\n        namespace       = settings.namespace,\n        selector        = settings.selector,\n        error           = settings.error,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n\n        $module         = $(this),\n        $bar            = $(this).find(selector.bar),\n        $progress       = $(this).find(selector.progress),\n        $label          = $(this).find(selector.label),\n\n        element         = this,\n        instance        = $module.data(moduleNamespace),\n\n        animating = false,\n        transitionEnd,\n        module\n      ;\n\n      module = {\n\n        initialize: function() {\n          module.debug('Initializing progress bar', settings);\n\n          module.set.duration();\n          module.set.transitionEvent();\n\n          module.read.metadata();\n          module.read.settings();\n\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of progress', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n        destroy: function() {\n          module.verbose('Destroying previous progress for', $module);\n          clearInterval(instance.interval);\n          module.remove.state();\n          $module.removeData(moduleNamespace);\n          instance = undefined;\n        },\n\n        reset: function() {\n          module.remove.nextValue();\n          module.update.progress(0);\n        },\n\n        complete: function() {\n          if(module.percent === undefined || module.percent < 100) {\n            module.remove.progressPoll();\n            module.set.percent(100);\n          }\n        },\n\n        read: {\n          metadata: function() {\n            var\n              data = {\n                percent : $module.data(metadata.percent),\n                total   : $module.data(metadata.total),\n                value   : $module.data(metadata.value)\n              }\n            ;\n            if(data.percent) {\n              module.debug('Current percent value set from metadata', data.percent);\n              module.set.percent(data.percent);\n            }\n            if(data.total) {\n              module.debug('Total value set from metadata', data.total);\n              module.set.total(data.total);\n            }\n            if(data.value) {\n              module.debug('Current value set from metadata', data.value);\n              module.set.value(data.value);\n              module.set.progress(data.value);\n            }\n          },\n          settings: function() {\n            if(settings.total !== false) {\n              module.debug('Current total set in settings', settings.total);\n              module.set.total(settings.total);\n            }\n            if(settings.value !== false) {\n              module.debug('Current value set in settings', settings.value);\n              module.set.value(settings.value);\n              module.set.progress(module.value);\n            }\n            if(settings.percent !== false) {\n              module.debug('Current percent set in settings', settings.percent);\n              module.set.percent(settings.percent);\n            }\n          }\n        },\n\n        bind: {\n          transitionEnd: function(callback) {\n            var\n              transitionEnd = module.get.transitionEnd()\n            ;\n            $bar\n              .one(transitionEnd + eventNamespace, function(event) {\n                clearTimeout(module.failSafeTimer);\n                callback.call(this, event);\n              })\n            ;\n            module.failSafeTimer = setTimeout(function() {\n              $bar.triggerHandler(transitionEnd);\n            }, settings.duration + settings.failSafeDelay);\n            module.verbose('Adding fail safe timer', module.timer);\n          }\n        },\n\n        increment: function(incrementValue) {\n          var\n            maxValue,\n            startValue,\n            newValue\n          ;\n          if( module.has.total() ) {\n            startValue     = module.get.value();\n            incrementValue = incrementValue || 1;\n            newValue       = startValue + incrementValue;\n          }\n          else {\n            startValue     = module.get.percent();\n            incrementValue = incrementValue || module.get.randomValue();\n\n            newValue       = startValue + incrementValue;\n            maxValue       = 100;\n            module.debug('Incrementing percentage by', startValue, newValue);\n          }\n          newValue = module.get.normalizedValue(newValue);\n          module.set.progress(newValue);\n        },\n        decrement: function(decrementValue) {\n          var\n            total     = module.get.total(),\n            startValue,\n            newValue\n          ;\n          if(total) {\n            startValue     =  module.get.value();\n            decrementValue =  decrementValue || 1;\n            newValue       =  startValue - decrementValue;\n            module.debug('Decrementing value by', decrementValue, startValue);\n          }\n          else {\n            startValue     =  module.get.percent();\n            decrementValue =  decrementValue || module.get.randomValue();\n            newValue       =  startValue - decrementValue;\n            module.debug('Decrementing percentage by', decrementValue, startValue);\n          }\n          newValue = module.get.normalizedValue(newValue);\n          module.set.progress(newValue);\n        },\n\n        has: {\n          progressPoll: function() {\n            return module.progressPoll;\n          },\n          total: function() {\n            return (module.get.total() !== false);\n          }\n        },\n\n        get: {\n          text: function(templateText) {\n            var\n              value   = module.value                || 0,\n              total   = module.total                || 0,\n              percent = (animating)\n                ? module.get.displayPercent()\n                : module.percent || 0,\n              left = (module.total > 0)\n                ? (total - value)\n                : (100 - percent)\n            ;\n            templateText = templateText || '';\n            templateText = templateText\n              .replace('{value}', value)\n              .replace('{total}', total)\n              .replace('{left}', left)\n              .replace('{percent}', percent)\n            ;\n            module.verbose('Adding variables to progress bar text', templateText);\n            return templateText;\n          },\n\n          normalizedValue: function(value) {\n            if(value < 0) {\n              module.debug('Value cannot decrement below 0');\n              return 0;\n            }\n            if(module.has.total()) {\n              if(value > module.total) {\n                module.debug('Value cannot increment above total', module.total);\n                return module.total;\n              }\n            }\n            else if(value > 100 ) {\n              module.debug('Value cannot increment above 100 percent');\n              return 100;\n            }\n            return value;\n          },\n\n          updateInterval: function() {\n            if(settings.updateInterval == 'auto') {\n              return settings.duration;\n            }\n            return settings.updateInterval;\n          },\n\n          randomValue: function() {\n            module.debug('Generating random increment percentage');\n            return Math.floor((Math.random() * settings.random.max) + settings.random.min);\n          },\n\n          numericValue: function(value) {\n            return (typeof value === 'string')\n              ? (value.replace(/[^\\d.]/g, '') !== '')\n                ? +(value.replace(/[^\\d.]/g, ''))\n                : false\n              : value\n            ;\n          },\n\n          transitionEnd: function() {\n            var\n              element     = document.createElement('element'),\n              transitions = {\n                'transition'       :'transitionend',\n                'OTransition'      :'oTransitionEnd',\n                'MozTransition'    :'transitionend',\n                'WebkitTransition' :'webkitTransitionEnd'\n              },\n              transition\n            ;\n            for(transition in transitions){\n              if( element.style[transition] !== undefined ){\n                return transitions[transition];\n              }\n            }\n          },\n\n          // gets current displayed percentage (if animating values this is the intermediary value)\n          displayPercent: function() {\n            var\n              barWidth       = $bar.width(),\n              totalWidth     = $module.width(),\n              minDisplay     = parseInt($bar.css('min-width'), 10),\n              displayPercent = (barWidth > minDisplay)\n                ? (barWidth / totalWidth * 100)\n                : module.percent\n            ;\n            return (settings.precision > 0)\n              ? Math.round(displayPercent * (10 * settings.precision)) / (10 * settings.precision)\n              : Math.round(displayPercent)\n            ;\n          },\n\n          percent: function() {\n            return module.percent || 0;\n          },\n          value: function() {\n            return module.nextValue || module.value || 0;\n          },\n          total: function() {\n            return module.total || false;\n          }\n        },\n\n        create: {\n          progressPoll: function() {\n            module.progressPoll = setTimeout(function() {\n              module.update.toNextValue();\n              module.remove.progressPoll();\n            }, module.get.updateInterval());\n          },\n        },\n\n        is: {\n          complete: function() {\n            return module.is.success() || module.is.warning() || module.is.error();\n          },\n          success: function() {\n            return $module.hasClass(className.success);\n          },\n          warning: function() {\n            return $module.hasClass(className.warning);\n          },\n          error: function() {\n            return $module.hasClass(className.error);\n          },\n          active: function() {\n            return $module.hasClass(className.active);\n          },\n          visible: function() {\n            return $module.is(':visible');\n          }\n        },\n\n        remove: {\n          progressPoll: function() {\n            module.verbose('Removing progress poll timer');\n            if(module.progressPoll) {\n              clearTimeout(module.progressPoll);\n              delete module.progressPoll;\n            }\n          },\n          nextValue: function() {\n            module.verbose('Removing progress value stored for next update');\n            delete module.nextValue;\n          },\n          state: function() {\n            module.verbose('Removing stored state');\n            delete module.total;\n            delete module.percent;\n            delete module.value;\n          },\n          active: function() {\n            module.verbose('Removing active state');\n            $module.removeClass(className.active);\n          },\n          success: function() {\n            module.verbose('Removing success state');\n            $module.removeClass(className.success);\n          },\n          warning: function() {\n            module.verbose('Removing warning state');\n            $module.removeClass(className.warning);\n          },\n          error: function() {\n            module.verbose('Removing error state');\n            $module.removeClass(className.error);\n          }\n        },\n\n        set: {\n          barWidth: function(value) {\n            if(value > 100) {\n              module.error(error.tooHigh, value);\n            }\n            else if (value < 0) {\n              module.error(error.tooLow, value);\n            }\n            else {\n              $bar\n                .css('width', value + '%')\n              ;\n              $module\n                .attr('data-percent', parseInt(value, 10))\n              ;\n            }\n          },\n          duration: function(duration) {\n            duration = duration || settings.duration;\n            duration = (typeof duration == 'number')\n              ? duration + 'ms'\n              : duration\n            ;\n            module.verbose('Setting progress bar transition duration', duration);\n            $bar\n              .css({\n                'transition-duration':  duration\n              })\n            ;\n          },\n          percent: function(percent) {\n            percent = (typeof percent == 'string')\n              ? +(percent.replace('%', ''))\n              : percent\n            ;\n            // round display percentage\n            percent = (settings.precision > 0)\n              ? Math.round(percent * (10 * settings.precision)) / (10 * settings.precision)\n              : Math.round(percent)\n            ;\n            module.percent = percent;\n            if( !module.has.total() ) {\n              module.value = (settings.precision > 0)\n                ? Math.round( (percent / 100) * module.total * (10 * settings.precision)) / (10 * settings.precision)\n                : Math.round( (percent / 100) * module.total * 10) / 10\n              ;\n              if(settings.limitValues) {\n                module.value = (module.value > 100)\n                  ? 100\n                  : (module.value < 0)\n                    ? 0\n                    : module.value\n                ;\n              }\n            }\n            module.set.barWidth(percent);\n            module.set.labelInterval();\n            module.set.labels();\n            settings.onChange.call(element, percent, module.value, module.total);\n          },\n          labelInterval: function() {\n            var\n              animationCallback = function() {\n                module.verbose('Bar finished animating, removing continuous label updates');\n                clearInterval(module.interval);\n                animating = false;\n                module.set.labels();\n              }\n            ;\n            clearInterval(module.interval);\n            module.bind.transitionEnd(animationCallback);\n            animating = true;\n            module.interval = setInterval(function() {\n              var\n                isInDOM = $.contains(document.documentElement, element)\n              ;\n              if(!isInDOM) {\n                clearInterval(module.interval);\n                animating = false;\n              }\n              module.set.labels();\n            }, settings.framerate);\n          },\n          labels: function() {\n            module.verbose('Setting both bar progress and outer label text');\n            module.set.barLabel();\n            module.set.state();\n          },\n          label: function(text) {\n            text = text || '';\n            if(text) {\n              text = module.get.text(text);\n              module.verbose('Setting label to text', text);\n              $label.text(text);\n            }\n          },\n          state: function(percent) {\n            percent = (percent !== undefined)\n              ? percent\n              : module.percent\n            ;\n            if(percent === 100) {\n              if(settings.autoSuccess && !(module.is.warning() || module.is.error() || module.is.success())) {\n                module.set.success();\n                module.debug('Automatically triggering success at 100%');\n              }\n              else {\n                module.verbose('Reached 100% removing active state');\n                module.remove.active();\n                module.remove.progressPoll();\n              }\n            }\n            else if(percent > 0) {\n              module.verbose('Adjusting active progress bar label', percent);\n              module.set.active();\n            }\n            else {\n              module.remove.active();\n              module.set.label(settings.text.active);\n            }\n          },\n          barLabel: function(text) {\n            if(text !== undefined) {\n              $progress.text( module.get.text(text) );\n            }\n            else if(settings.label == 'ratio' && module.total) {\n              module.verbose('Adding ratio to bar label');\n              $progress.text( module.get.text(settings.text.ratio) );\n            }\n            else if(settings.label == 'percent') {\n              module.verbose('Adding percentage to bar label');\n              $progress.text( module.get.text(settings.text.percent) );\n            }\n          },\n          active: function(text) {\n            text = text || settings.text.active;\n            module.debug('Setting active state');\n            if(settings.showActivity && !module.is.active() ) {\n              $module.addClass(className.active);\n            }\n            module.remove.warning();\n            module.remove.error();\n            module.remove.success();\n            text = settings.onLabelUpdate('active', text, module.value, module.total);\n            if(text) {\n              module.set.label(text);\n            }\n            module.bind.transitionEnd(function() {\n              settings.onActive.call(element, module.value, module.total);\n            });\n          },\n          success : function(text) {\n            text = text || settings.text.success || settings.text.active;\n            module.debug('Setting success state');\n            $module.addClass(className.success);\n            module.remove.active();\n            module.remove.warning();\n            module.remove.error();\n            module.complete();\n            if(settings.text.success) {\n              text = settings.onLabelUpdate('success', text, module.value, module.total);\n              module.set.label(text);\n            }\n            else {\n              text = settings.onLabelUpdate('active', text, module.value, module.total);\n              module.set.label(text);\n            }\n            module.bind.transitionEnd(function() {\n              settings.onSuccess.call(element, module.total);\n            });\n          },\n          warning : function(text) {\n            text = text || settings.text.warning;\n            module.debug('Setting warning state');\n            $module.addClass(className.warning);\n            module.remove.active();\n            module.remove.success();\n            module.remove.error();\n            module.complete();\n            text = settings.onLabelUpdate('warning', text, module.value, module.total);\n            if(text) {\n              module.set.label(text);\n            }\n            module.bind.transitionEnd(function() {\n              settings.onWarning.call(element, module.value, module.total);\n            });\n          },\n          error : function(text) {\n            text = text || settings.text.error;\n            module.debug('Setting error state');\n            $module.addClass(className.error);\n            module.remove.active();\n            module.remove.success();\n            module.remove.warning();\n            module.complete();\n            text = settings.onLabelUpdate('error', text, module.value, module.total);\n            if(text) {\n              module.set.label(text);\n            }\n            module.bind.transitionEnd(function() {\n              settings.onError.call(element, module.value, module.total);\n            });\n          },\n          transitionEvent: function() {\n            transitionEnd = module.get.transitionEnd();\n          },\n          total: function(totalValue) {\n            module.total = totalValue;\n          },\n          value: function(value) {\n            module.value = value;\n          },\n          progress: function(value) {\n            if(!module.has.progressPoll()) {\n              module.debug('First update in progress update interval, immediately updating', value);\n              module.update.progress(value);\n              module.create.progressPoll();\n            }\n            else {\n              module.debug('Updated within interval, setting next update to use new value', value);\n              module.set.nextValue(value);\n            }\n          },\n          nextValue: function(value) {\n            module.nextValue = value;\n          }\n        },\n\n        update: {\n          toNextValue: function() {\n            var\n              nextValue = module.nextValue\n            ;\n            if(nextValue) {\n              module.debug('Update interval complete using last updated value', nextValue);\n              module.update.progress(nextValue);\n              module.remove.nextValue();\n            }\n          },\n          progress: function(value) {\n            var\n              percentComplete\n            ;\n            value = module.get.numericValue(value);\n            if(value === false) {\n              module.error(error.nonNumeric, value);\n            }\n            value = module.get.normalizedValue(value);\n            if( module.has.total() ) {\n              module.set.value(value);\n              percentComplete = (value / module.total) * 100;\n              module.debug('Calculating percent complete from total', percentComplete);\n              module.set.percent( percentComplete );\n            }\n            else {\n              percentComplete = value;\n              module.debug('Setting value to exact percentage value', percentComplete);\n              module.set.percent( percentComplete );\n            }\n          }\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.progress.settings = {\n\n  name         : 'Progress',\n  namespace    : 'progress',\n\n  silent       : false,\n  debug        : false,\n  verbose      : false,\n  performance  : true,\n\n  random       : {\n    min : 2,\n    max : 5\n  },\n\n  duration       : 300,\n\n  updateInterval : 'auto',\n\n  autoSuccess    : true,\n  showActivity   : true,\n  limitValues    : true,\n\n  label          : 'percent',\n  precision      : 0,\n  framerate      : (1000 / 30), /// 30 fps\n\n  percent        : false,\n  total          : false,\n  value          : false,\n\n  // delay in ms for fail safe animation callback\n  failSafeDelay : 100,\n\n  onLabelUpdate : function(state, text, value, total){\n    return text;\n  },\n  onChange      : function(percent, value, total){},\n  onSuccess     : function(total){},\n  onActive      : function(value, total){},\n  onError       : function(value, total){},\n  onWarning     : function(value, total){},\n\n  error    : {\n    method     : 'The method you called is not defined.',\n    nonNumeric : 'Progress value is non numeric',\n    tooHigh    : 'Value specified is above 100%',\n    tooLow     : 'Value specified is below 0%'\n  },\n\n  regExp: {\n    variable: /\\{\\$*[A-z0-9]+\\}/g\n  },\n\n  metadata: {\n    percent : 'percent',\n    total   : 'total',\n    value   : 'value'\n  },\n\n  selector : {\n    bar      : '> .bar',\n    label    : '> .label',\n    progress : '.bar > .progress'\n  },\n\n  text : {\n    active  : false,\n    error   : false,\n    success : false,\n    warning : false,\n    percent : '{percent}%',\n    ratio   : '{value} of {total}'\n  },\n\n  className : {\n    active  : 'active',\n    error   : 'error',\n    success : 'success',\n    warning : 'warning'\n  }\n\n};\n\n\n})( jQuery, window, document );\n","/*!\n * # Semantic UI - Rating\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.rating = function(parameters) {\n  var\n    $allModules     = $(this),\n    moduleSelector  = $allModules.selector || '',\n\n    time            = new Date().getTime(),\n    performance     = [],\n\n    query           = arguments[0],\n    methodInvoked   = (typeof query == 'string'),\n    queryArguments  = [].slice.call(arguments, 1),\n    returnedValue\n  ;\n  $allModules\n    .each(function() {\n      var\n        settings        = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.rating.settings, parameters)\n          : $.extend({}, $.fn.rating.settings),\n\n        namespace       = settings.namespace,\n        className       = settings.className,\n        metadata        = settings.metadata,\n        selector        = settings.selector,\n        error           = settings.error,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n\n        element         = this,\n        instance        = $(this).data(moduleNamespace),\n\n        $module         = $(this),\n        $icon           = $module.find(selector.icon),\n\n        initialLoad,\n        module\n      ;\n\n      module = {\n\n        initialize: function() {\n          module.verbose('Initializing rating module', settings);\n\n          if($icon.length === 0) {\n            module.setup.layout();\n          }\n\n          if(settings.interactive) {\n            module.enable();\n          }\n          else {\n            module.disable();\n          }\n          module.set.initialLoad();\n          module.set.rating( module.get.initialRating() );\n          module.remove.initialLoad();\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.verbose('Instantiating module', settings);\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous instance', instance);\n          module.remove.events();\n          $module\n            .removeData(moduleNamespace)\n          ;\n        },\n\n        refresh: function() {\n          $icon   = $module.find(selector.icon);\n        },\n\n        setup: {\n          layout: function() {\n            var\n              maxRating = module.get.maxRating(),\n              html      = $.fn.rating.settings.templates.icon(maxRating)\n            ;\n            module.debug('Generating icon html dynamically');\n            $module\n              .html(html)\n            ;\n            module.refresh();\n          }\n        },\n\n        event: {\n          mouseenter: function() {\n            var\n              $activeIcon = $(this)\n            ;\n            $activeIcon\n              .nextAll()\n                .removeClass(className.selected)\n            ;\n            $module\n              .addClass(className.selected)\n            ;\n            $activeIcon\n              .addClass(className.selected)\n                .prevAll()\n                .addClass(className.selected)\n            ;\n          },\n          mouseleave: function() {\n            $module\n              .removeClass(className.selected)\n            ;\n            $icon\n              .removeClass(className.selected)\n            ;\n          },\n          click: function() {\n            var\n              $activeIcon   = $(this),\n              currentRating = module.get.rating(),\n              rating        = $icon.index($activeIcon) + 1,\n              canClear      = (settings.clearable == 'auto')\n               ? ($icon.length === 1)\n               : settings.clearable\n            ;\n            if(canClear && currentRating == rating) {\n              module.clearRating();\n            }\n            else {\n              module.set.rating( rating );\n            }\n          }\n        },\n\n        clearRating: function() {\n          module.debug('Clearing current rating');\n          module.set.rating(0);\n        },\n\n        bind: {\n          events: function() {\n            module.verbose('Binding events');\n            $module\n              .on('mouseenter' + eventNamespace, selector.icon, module.event.mouseenter)\n              .on('mouseleave' + eventNamespace, selector.icon, module.event.mouseleave)\n              .on('click'      + eventNamespace, selector.icon, module.event.click)\n            ;\n          }\n        },\n\n        remove: {\n          events: function() {\n            module.verbose('Removing events');\n            $module\n              .off(eventNamespace)\n            ;\n          },\n          initialLoad: function() {\n            initialLoad = false;\n          }\n        },\n\n        enable: function() {\n          module.debug('Setting rating to interactive mode');\n          module.bind.events();\n          $module\n            .removeClass(className.disabled)\n          ;\n        },\n\n        disable: function() {\n          module.debug('Setting rating to read-only mode');\n          module.remove.events();\n          $module\n            .addClass(className.disabled)\n          ;\n        },\n\n        is: {\n          initialLoad: function() {\n            return initialLoad;\n          }\n        },\n\n        get: {\n          initialRating: function() {\n            if($module.data(metadata.rating) !== undefined) {\n              $module.removeData(metadata.rating);\n              return $module.data(metadata.rating);\n            }\n            return settings.initialRating;\n          },\n          maxRating: function() {\n            if($module.data(metadata.maxRating) !== undefined) {\n              $module.removeData(metadata.maxRating);\n              return $module.data(metadata.maxRating);\n            }\n            return settings.maxRating;\n          },\n          rating: function() {\n            var\n              currentRating = $icon.filter('.' + className.active).length\n            ;\n            module.verbose('Current rating retrieved', currentRating);\n            return currentRating;\n          }\n        },\n\n        set: {\n          rating: function(rating) {\n            var\n              ratingIndex = (rating - 1 >= 0)\n                ? (rating - 1)\n                : 0,\n              $activeIcon = $icon.eq(ratingIndex)\n            ;\n            $module\n              .removeClass(className.selected)\n            ;\n            $icon\n              .removeClass(className.selected)\n              .removeClass(className.active)\n            ;\n            if(rating > 0) {\n              module.verbose('Setting current rating to', rating);\n              $activeIcon\n                .prevAll()\n                .addBack()\n                  .addClass(className.active)\n              ;\n            }\n            if(!module.is.initialLoad()) {\n              settings.onRate.call(element, rating);\n            }\n          },\n          initialLoad: function() {\n            initialLoad = true;\n          }\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.rating.settings = {\n\n  name          : 'Rating',\n  namespace     : 'rating',\n\n  slent         : false,\n  debug         : false,\n  verbose       : false,\n  performance   : true,\n\n  initialRating : 0,\n  interactive   : true,\n  maxRating     : 4,\n  clearable     : 'auto',\n\n  fireOnInit    : false,\n\n  onRate        : function(rating){},\n\n  error         : {\n    method    : 'The method you called is not defined',\n    noMaximum : 'No maximum rating specified. Cannot generate HTML automatically'\n  },\n\n\n  metadata: {\n    rating    : 'rating',\n    maxRating : 'maxRating'\n  },\n\n  className : {\n    active   : 'active',\n    disabled : 'disabled',\n    selected : 'selected',\n    loading  : 'loading'\n  },\n\n  selector  : {\n    icon : '.icon'\n  },\n\n  templates: {\n    icon: function(maxRating) {\n      var\n        icon = 1,\n        html = ''\n      ;\n      while(icon <= maxRating) {\n        html += '<i class=\"icon\"></i>';\n        icon++;\n      }\n      return html;\n    }\n  }\n\n};\n\n})( jQuery, window, document );\n","/*!\n * # Semantic UI - Search\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.search = function(parameters) {\n  var\n    $allModules     = $(this),\n    moduleSelector  = $allModules.selector || '',\n\n    time            = new Date().getTime(),\n    performance     = [],\n\n    query           = arguments[0],\n    methodInvoked   = (typeof query == 'string'),\n    queryArguments  = [].slice.call(arguments, 1),\n    returnedValue\n  ;\n  $(this)\n    .each(function() {\n      var\n        settings          = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.search.settings, parameters)\n          : $.extend({}, $.fn.search.settings),\n\n        className        = settings.className,\n        metadata         = settings.metadata,\n        regExp           = settings.regExp,\n        fields           = settings.fields,\n        selector         = settings.selector,\n        error            = settings.error,\n        namespace        = settings.namespace,\n\n        eventNamespace   = '.' + namespace,\n        moduleNamespace  = namespace + '-module',\n\n        $module          = $(this),\n        $prompt          = $module.find(selector.prompt),\n        $searchButton    = $module.find(selector.searchButton),\n        $results         = $module.find(selector.results),\n        $result          = $module.find(selector.result),\n        $category        = $module.find(selector.category),\n\n        element          = this,\n        instance         = $module.data(moduleNamespace),\n\n        disabledBubbled  = false,\n        resultsDismissed = false,\n\n        module\n      ;\n\n      module = {\n\n        initialize: function() {\n          module.verbose('Initializing module');\n          module.get.settings();\n          module.determine.searchFields();\n          module.bind.events();\n          module.set.type();\n          module.create.results();\n          module.instantiate();\n        },\n        instantiate: function() {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n        destroy: function() {\n          module.verbose('Destroying instance');\n          $module\n            .off(eventNamespace)\n            .removeData(moduleNamespace)\n          ;\n        },\n\n        refresh: function() {\n          module.debug('Refreshing selector cache');\n          $prompt         = $module.find(selector.prompt);\n          $searchButton   = $module.find(selector.searchButton);\n          $category       = $module.find(selector.category);\n          $results        = $module.find(selector.results);\n          $result         = $module.find(selector.result);\n        },\n\n        refreshResults: function() {\n          $results = $module.find(selector.results);\n          $result  = $module.find(selector.result);\n        },\n\n        bind: {\n          events: function() {\n            module.verbose('Binding events to search');\n            if(settings.automatic) {\n              $module\n                .on(module.get.inputEvent() + eventNamespace, selector.prompt, module.event.input)\n              ;\n              $prompt\n                .attr('autocomplete', 'off')\n              ;\n            }\n            $module\n              // prompt\n              .on('focus'     + eventNamespace, selector.prompt, module.event.focus)\n              .on('blur'      + eventNamespace, selector.prompt, module.event.blur)\n              .on('keydown'   + eventNamespace, selector.prompt, module.handleKeyboard)\n              // search button\n              .on('click'     + eventNamespace, selector.searchButton, module.query)\n              // results\n              .on('mousedown' + eventNamespace, selector.results, module.event.result.mousedown)\n              .on('mouseup'   + eventNamespace, selector.results, module.event.result.mouseup)\n              .on('click'     + eventNamespace, selector.result,  module.event.result.click)\n            ;\n          }\n        },\n\n        determine: {\n          searchFields: function() {\n            // this makes sure $.extend does not add specified search fields to default fields\n            // this is the only setting which should not extend defaults\n            if(parameters && parameters.searchFields !== undefined) {\n              settings.searchFields = parameters.searchFields;\n            }\n          }\n        },\n\n        event: {\n          input: function() {\n            if(settings.searchDelay) {\n              clearTimeout(module.timer);\n              module.timer = setTimeout(function() {\n                if(module.is.focused()) {\n                  module.query();\n                }\n              }, settings.searchDelay);\n            }\n            else {\n              module.query();\n            }\n          },\n          focus: function() {\n            module.set.focus();\n            if(settings.searchOnFocus && module.has.minimumCharacters() ) {\n              module.query(function() {\n                if(module.can.show() ) {\n                  module.showResults();\n                }\n              });\n            }\n          },\n          blur: function(event) {\n            var\n              pageLostFocus = (document.activeElement === this),\n              callback      = function() {\n                module.cancel.query();\n                module.remove.focus();\n                module.timer = setTimeout(module.hideResults, settings.hideDelay);\n              }\n            ;\n            if(pageLostFocus) {\n              return;\n            }\n            resultsDismissed = false;\n            if(module.resultsClicked) {\n              module.debug('Determining if user action caused search to close');\n              $module\n                .one('click.close' + eventNamespace, selector.results, function(event) {\n                  if(module.is.inMessage(event) || disabledBubbled) {\n                    $prompt.focus();\n                    return;\n                  }\n                  disabledBubbled = false;\n                  if( !module.is.animating() && !module.is.hidden()) {\n                    callback();\n                  }\n                })\n              ;\n            }\n            else {\n              module.debug('Input blurred without user action, closing results');\n              callback();\n            }\n          },\n          result: {\n            mousedown: function() {\n              module.resultsClicked = true;\n            },\n            mouseup: function() {\n              module.resultsClicked = false;\n            },\n            click: function(event) {\n              module.debug('Search result selected');\n              var\n                $result = $(this),\n                $title  = $result.find(selector.title).eq(0),\n                $link   = $result.is('a[href]')\n                  ? $result\n                  : $result.find('a[href]').eq(0),\n                href    = $link.attr('href')   || false,\n                target  = $link.attr('target') || false,\n                title   = $title.html(),\n                // title is used for result lookup\n                value   = ($title.length > 0)\n                  ? $title.text()\n                  : false,\n                results = module.get.results(),\n                result  = $result.data(metadata.result) || module.get.result(value, results),\n                returnedValue\n              ;\n              if( $.isFunction(settings.onSelect) ) {\n                if(settings.onSelect.call(element, result, results) === false) {\n                  module.debug('Custom onSelect callback cancelled default select action');\n                  disabledBubbled = true;\n                  return;\n                }\n              }\n              module.hideResults();\n              if(value) {\n                module.set.value(value);\n              }\n              if(href) {\n                module.verbose('Opening search link found in result', $link);\n                if(target == '_blank' || event.ctrlKey) {\n                  window.open(href);\n                }\n                else {\n                  window.location.href = (href);\n                }\n              }\n            }\n          }\n        },\n        handleKeyboard: function(event) {\n          var\n            // force selector refresh\n            $result         = $module.find(selector.result),\n            $category       = $module.find(selector.category),\n            $activeResult   = $result.filter('.' + className.active),\n            currentIndex    = $result.index( $activeResult ),\n            resultSize      = $result.length,\n            hasActiveResult = $activeResult.length > 0,\n\n            keyCode         = event.which,\n            keys            = {\n              backspace : 8,\n              enter     : 13,\n              escape    : 27,\n              upArrow   : 38,\n              downArrow : 40\n            },\n            newIndex\n          ;\n          // search shortcuts\n          if(keyCode == keys.escape) {\n            module.verbose('Escape key pressed, blurring search field');\n            module.hideResults();\n            resultsDismissed = true;\n          }\n          if( module.is.visible() ) {\n            if(keyCode == keys.enter) {\n              module.verbose('Enter key pressed, selecting active result');\n              if( $result.filter('.' + className.active).length > 0 ) {\n                module.event.result.click.call($result.filter('.' + className.active), event);\n                event.preventDefault();\n                return false;\n              }\n            }\n            else if(keyCode == keys.upArrow && hasActiveResult) {\n              module.verbose('Up key pressed, changing active result');\n              newIndex = (currentIndex - 1 < 0)\n                ? currentIndex\n                : currentIndex - 1\n              ;\n              $category\n                .removeClass(className.active)\n              ;\n              $result\n                .removeClass(className.active)\n                .eq(newIndex)\n                  .addClass(className.active)\n                  .closest($category)\n                    .addClass(className.active)\n              ;\n              event.preventDefault();\n            }\n            else if(keyCode == keys.downArrow) {\n              module.verbose('Down key pressed, changing active result');\n              newIndex = (currentIndex + 1 >= resultSize)\n                ? currentIndex\n                : currentIndex + 1\n              ;\n              $category\n                .removeClass(className.active)\n              ;\n              $result\n                .removeClass(className.active)\n                .eq(newIndex)\n                  .addClass(className.active)\n                  .closest($category)\n                    .addClass(className.active)\n              ;\n              event.preventDefault();\n            }\n          }\n          else {\n            // query shortcuts\n            if(keyCode == keys.enter) {\n              module.verbose('Enter key pressed, executing query');\n              module.query();\n              module.set.buttonPressed();\n              $prompt.one('keyup', module.remove.buttonFocus);\n            }\n          }\n        },\n\n        setup: {\n          api: function(searchTerm, callback) {\n            var\n              apiSettings = {\n                debug             : settings.debug,\n                on                : false,\n                cache             : settings.cache,\n                action            : 'search',\n                urlData           : {\n                  query : searchTerm\n                },\n                onSuccess         : function(response) {\n                  module.parse.response.call(element, response, searchTerm);\n                  callback();\n                },\n                onFailure         : function() {\n                  module.displayMessage(error.serverError);\n                  callback();\n                },\n                onAbort : function(response) {\n                },\n                onError           : module.error\n              },\n              searchHTML\n            ;\n            $.extend(true, apiSettings, settings.apiSettings);\n            module.verbose('Setting up API request', apiSettings);\n            $module.api(apiSettings);\n          }\n        },\n\n        can: {\n          useAPI: function() {\n            return $.fn.api !== undefined;\n          },\n          show: function() {\n            return module.is.focused() && !module.is.visible() && !module.is.empty();\n          },\n          transition: function() {\n            return settings.transition && $.fn.transition !== undefined && $module.transition('is supported');\n          }\n        },\n\n        is: {\n          animating: function() {\n            return $results.hasClass(className.animating);\n          },\n          hidden: function() {\n            return $results.hasClass(className.hidden);\n          },\n          inMessage: function(event) {\n            if(!event.target) {\n              return;\n            }\n            var\n              $target = $(event.target),\n              isInDOM = $.contains(document.documentElement, event.target)\n            ;\n            return (isInDOM && $target.closest(selector.message).length > 0);\n          },\n          empty: function() {\n            return ($results.html() === '');\n          },\n          visible: function() {\n            return ($results.filter(':visible').length > 0);\n          },\n          focused: function() {\n            return ($prompt.filter(':focus').length > 0);\n          }\n        },\n\n        get: {\n          settings: function() {\n            if($.isPlainObject(parameters) && parameters.searchFullText) {\n              settings.fullTextSearch = parameters.searchFullText;\n              module.error(settings.error.oldSearchSyntax, element);\n            }\n          },\n          inputEvent: function() {\n            var\n              prompt = $prompt[0],\n              inputEvent   = (prompt !== undefined && prompt.oninput !== undefined)\n                ? 'input'\n                : (prompt !== undefined && prompt.onpropertychange !== undefined)\n                  ? 'propertychange'\n                  : 'keyup'\n            ;\n            return inputEvent;\n          },\n          value: function() {\n            return $prompt.val();\n          },\n          results: function() {\n            var\n              results = $module.data(metadata.results)\n            ;\n            return results;\n          },\n          result: function(value, results) {\n            var\n              lookupFields = ['title', 'id'],\n              result       = false\n            ;\n            value = (value !== undefined)\n              ? value\n              : module.get.value()\n            ;\n            results = (results !== undefined)\n              ? results\n              : module.get.results()\n            ;\n            if(settings.type === 'category') {\n              module.debug('Finding result that matches', value);\n              $.each(results, function(index, category) {\n                if($.isArray(category.results)) {\n                  result = module.search.object(value, category.results, lookupFields)[0];\n                  // don't continue searching if a result is found\n                  if(result) {\n                    return false;\n                  }\n                }\n              });\n            }\n            else {\n              module.debug('Finding result in results object', value);\n              result = module.search.object(value, results, lookupFields)[0];\n            }\n            return result || false;\n          },\n        },\n\n        select: {\n          firstResult: function() {\n            module.verbose('Selecting first result');\n            $result.first().addClass(className.active);\n          }\n        },\n\n        set: {\n          focus: function() {\n            $module.addClass(className.focus);\n          },\n          loading: function() {\n            $module.addClass(className.loading);\n          },\n          value: function(value) {\n            module.verbose('Setting search input value', value);\n            $prompt\n              .val(value)\n            ;\n          },\n          type: function(type) {\n            type = type || settings.type;\n            if(settings.type == 'category') {\n              $module.addClass(settings.type);\n            }\n          },\n          buttonPressed: function() {\n            $searchButton.addClass(className.pressed);\n          }\n        },\n\n        remove: {\n          loading: function() {\n            $module.removeClass(className.loading);\n          },\n          focus: function() {\n            $module.removeClass(className.focus);\n          },\n          buttonPressed: function() {\n            $searchButton.removeClass(className.pressed);\n          }\n        },\n\n        query: function(callback) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          var\n            searchTerm = module.get.value(),\n            cache = module.read.cache(searchTerm)\n          ;\n          callback = callback || function() {};\n          if( module.has.minimumCharacters() )  {\n            if(cache) {\n              module.debug('Reading result from cache', searchTerm);\n              module.save.results(cache.results);\n              module.addResults(cache.html);\n              module.inject.id(cache.results);\n              callback();\n            }\n            else {\n              module.debug('Querying for', searchTerm);\n              if($.isPlainObject(settings.source) || $.isArray(settings.source)) {\n                module.search.local(searchTerm);\n                callback();\n              }\n              else if( module.can.useAPI() ) {\n                module.search.remote(searchTerm, callback);\n              }\n              else {\n                module.error(error.source);\n                callback();\n              }\n            }\n            settings.onSearchQuery.call(element, searchTerm);\n          }\n          else {\n            module.hideResults();\n          }\n        },\n\n        search: {\n          local: function(searchTerm) {\n            var\n              results = module.search.object(searchTerm, settings.content),\n              searchHTML\n            ;\n            module.set.loading();\n            module.save.results(results);\n            module.debug('Returned full local search results', results);\n            if(settings.maxResults > 0) {\n              module.debug('Using specified max results', results);\n              results = results.slice(0, settings.maxResults);\n            }\n            if(settings.type == 'category') {\n              results = module.create.categoryResults(results);\n            }\n            searchHTML = module.generateResults({\n              results: results\n            });\n            module.remove.loading();\n            module.addResults(searchHTML);\n            module.inject.id(results);\n            module.write.cache(searchTerm, {\n              html    : searchHTML,\n              results : results\n            });\n          },\n          remote: function(searchTerm, callback) {\n            callback = $.isFunction(callback)\n              ? callback\n              : function(){}\n            ;\n            if($module.api('is loading')) {\n              $module.api('abort');\n            }\n            module.setup.api(searchTerm, callback);\n            $module\n              .api('query')\n            ;\n          },\n          object: function(searchTerm, source, searchFields) {\n            var\n              results      = [],\n              exactResults = [],\n              fuzzyResults = [],\n              searchExp    = searchTerm.toString().replace(regExp.escape, '\\\\$&'),\n              matchRegExp  = new RegExp(regExp.beginsWith + searchExp, 'i'),\n\n              // avoid duplicates when pushing results\n              addResult = function(array, result) {\n                var\n                  notResult      = ($.inArray(result, results) == -1),\n                  notFuzzyResult = ($.inArray(result, fuzzyResults) == -1),\n                  notExactResults = ($.inArray(result, exactResults) == -1)\n                ;\n                if(notResult && notFuzzyResult && notExactResults) {\n                  array.push(result);\n                }\n              }\n            ;\n            source = source || settings.source;\n            searchFields = (searchFields !== undefined)\n              ? searchFields\n              : settings.searchFields\n            ;\n\n            // search fields should be array to loop correctly\n            if(!$.isArray(searchFields)) {\n              searchFields = [searchFields];\n            }\n\n            // exit conditions if no source\n            if(source === undefined || source === false) {\n              module.error(error.source);\n              return [];\n            }\n            // iterate through search fields looking for matches\n            $.each(searchFields, function(index, field) {\n              $.each(source, function(label, content) {\n                var\n                  fieldExists = (typeof content[field] == 'string')\n                ;\n                if(fieldExists) {\n                  if( content[field].search(matchRegExp) !== -1) {\n                    // content starts with value (first in results)\n                    addResult(results, content);\n                  }\n                  else if(settings.fullTextSearch === 'exact' && module.exactSearch(searchTerm, content[field]) ) {\n                    // content fuzzy matches (last in results)\n                    addResult(exactResults, content);\n                  }\n                  else if(settings.fullTextSearch == true && module.fuzzySearch(searchTerm, content[field]) ) {\n                    // content fuzzy matches (last in results)\n                    addResult(fuzzyResults, content);\n                  }\n                }\n              });\n            });\n            $.merge(exactResults, fuzzyResults)\n            $.merge(results, exactResults);\n            return results;\n          }\n        },\n        exactSearch: function (query, term) {\n          query = query.toLowerCase();\n          term  = term.toLowerCase();\n          if(term.indexOf(query) > -1) {\n             return true;\n          }\n          return false;\n        },\n        fuzzySearch: function(query, term) {\n          var\n            termLength  = term.length,\n            queryLength = query.length\n          ;\n          if(typeof query !== 'string') {\n            return false;\n          }\n          query = query.toLowerCase();\n          term  = term.toLowerCase();\n          if(queryLength > termLength) {\n            return false;\n          }\n          if(queryLength === termLength) {\n            return (query === term);\n          }\n          search: for (var characterIndex = 0, nextCharacterIndex = 0; characterIndex < queryLength; characterIndex++) {\n            var\n              queryCharacter = query.charCodeAt(characterIndex)\n            ;\n            while(nextCharacterIndex < termLength) {\n              if(term.charCodeAt(nextCharacterIndex++) === queryCharacter) {\n                continue search;\n              }\n            }\n            return false;\n          }\n          return true;\n        },\n\n        parse: {\n          response: function(response, searchTerm) {\n            var\n              searchHTML = module.generateResults(response)\n            ;\n            module.verbose('Parsing server response', response);\n            if(response !== undefined) {\n              if(searchTerm !== undefined && response[fields.results] !== undefined) {\n                module.addResults(searchHTML);\n                module.inject.id(response[fields.results]);\n                module.write.cache(searchTerm, {\n                  html    : searchHTML,\n                  results : response[fields.results]\n                });\n                module.save.results(response[fields.results]);\n              }\n            }\n          }\n        },\n\n        cancel: {\n          query: function() {\n            if( module.can.useAPI() ) {\n              $module.api('abort');\n            }\n          }\n        },\n\n        has: {\n          minimumCharacters: function() {\n            var\n              searchTerm    = module.get.value(),\n              numCharacters = searchTerm.length\n            ;\n            return (numCharacters >= settings.minCharacters);\n          },\n          results: function() {\n            if($results.length === 0) {\n              return false;\n            }\n            var\n              html = $results.html()\n            ;\n            return html != '';\n          }\n        },\n\n        clear: {\n          cache: function(value) {\n            var\n              cache = $module.data(metadata.cache)\n            ;\n            if(!value) {\n              module.debug('Clearing cache', value);\n              $module.removeData(metadata.cache);\n            }\n            else if(value && cache && cache[value]) {\n              module.debug('Removing value from cache', value);\n              delete cache[value];\n              $module.data(metadata.cache, cache);\n            }\n          }\n        },\n\n        read: {\n          cache: function(name) {\n            var\n              cache = $module.data(metadata.cache)\n            ;\n            if(settings.cache) {\n              module.verbose('Checking cache for generated html for query', name);\n              return (typeof cache == 'object') && (cache[name] !== undefined)\n                ? cache[name]\n                : false\n              ;\n            }\n            return false;\n          }\n        },\n\n        create: {\n          categoryResults: function(results) {\n            var\n              categoryResults = {}\n            ;\n            $.each(results, function(index, result) {\n              if(!result.category) {\n                return;\n              }\n              if(categoryResults[result.category] === undefined) {\n                module.verbose('Creating new category of results', result.category);\n                categoryResults[result.category] = {\n                  name    : result.category,\n                  results : [result]\n                }\n              }\n              else {\n                categoryResults[result.category].results.push(result);\n              }\n            });\n            return categoryResults;\n          },\n          id: function(resultIndex, categoryIndex) {\n            var\n              resultID      = (resultIndex + 1), // not zero indexed\n              categoryID    = (categoryIndex + 1),\n              firstCharCode,\n              letterID,\n              id\n            ;\n            if(categoryIndex !== undefined) {\n              // start char code for \"A\"\n              letterID = String.fromCharCode(97 + categoryIndex);\n              id          = letterID + resultID;\n              module.verbose('Creating category result id', id);\n            }\n            else {\n              id = resultID;\n              module.verbose('Creating result id', id);\n            }\n            return id;\n          },\n          results: function() {\n            if($results.length === 0) {\n              $results = $('<div />')\n                .addClass(className.results)\n                .appendTo($module)\n              ;\n            }\n          }\n        },\n\n        inject: {\n          result: function(result, resultIndex, categoryIndex) {\n            module.verbose('Injecting result into results');\n            var\n              $selectedResult = (categoryIndex !== undefined)\n                ? $results\n                    .children().eq(categoryIndex)\n                      .children(selector.results)\n                        .first()\n                        .children(selector.result)\n                          .eq(resultIndex)\n                : $results\n                    .children(selector.result).eq(resultIndex)\n            ;\n            module.verbose('Injecting results metadata', $selectedResult);\n            $selectedResult\n              .data(metadata.result, result)\n            ;\n          },\n          id: function(results) {\n            module.debug('Injecting unique ids into results');\n            var\n              // since results may be object, we must use counters\n              categoryIndex = 0,\n              resultIndex   = 0\n            ;\n            if(settings.type === 'category') {\n              // iterate through each category result\n              $.each(results, function(index, category) {\n                resultIndex = 0;\n                $.each(category.results, function(index, value) {\n                  var\n                    result = category.results[index]\n                  ;\n                  if(result.id === undefined) {\n                    result.id = module.create.id(resultIndex, categoryIndex);\n                  }\n                  module.inject.result(result, resultIndex, categoryIndex);\n                  resultIndex++;\n                });\n                categoryIndex++;\n              });\n            }\n            else {\n              // top level\n              $.each(results, function(index, value) {\n                var\n                  result = results[index]\n                ;\n                if(result.id === undefined) {\n                  result.id = module.create.id(resultIndex);\n                }\n                module.inject.result(result, resultIndex);\n                resultIndex++;\n              });\n            }\n            return results;\n          }\n        },\n\n        save: {\n          results: function(results) {\n            module.verbose('Saving current search results to metadata', results);\n            $module.data(metadata.results, results);\n          }\n        },\n\n        write: {\n          cache: function(name, value) {\n            var\n              cache = ($module.data(metadata.cache) !== undefined)\n                ? $module.data(metadata.cache)\n                : {}\n            ;\n            if(settings.cache) {\n              module.verbose('Writing generated html to cache', name, value);\n              cache[name] = value;\n              $module\n                .data(metadata.cache, cache)\n              ;\n            }\n          }\n        },\n\n        addResults: function(html) {\n          if( $.isFunction(settings.onResultsAdd) ) {\n            if( settings.onResultsAdd.call($results, html) === false ) {\n              module.debug('onResultsAdd callback cancelled default action');\n              return false;\n            }\n          }\n          if(html) {\n            $results\n              .html(html)\n            ;\n            module.refreshResults();\n            if(settings.selectFirstResult) {\n              module.select.firstResult();\n            }\n            module.showResults();\n          }\n          else {\n            module.hideResults(function() {\n              $results.empty();\n            });\n          }\n        },\n\n        showResults: function(callback) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          if(resultsDismissed) {\n            return;\n          }\n          if(!module.is.visible() && module.has.results()) {\n            if( module.can.transition() ) {\n              module.debug('Showing results with css animations');\n              $results\n                .transition({\n                  animation  : settings.transition + ' in',\n                  debug      : settings.debug,\n                  verbose    : settings.verbose,\n                  duration   : settings.duration,\n                  onComplete : function() {\n                    callback();\n                  },\n                  queue      : true\n                })\n              ;\n            }\n            else {\n              module.debug('Showing results with javascript');\n              $results\n                .stop()\n                .fadeIn(settings.duration, settings.easing)\n              ;\n            }\n            settings.onResultsOpen.call($results);\n          }\n        },\n        hideResults: function(callback) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          if( module.is.visible() ) {\n            if( module.can.transition() ) {\n              module.debug('Hiding results with css animations');\n              $results\n                .transition({\n                  animation  : settings.transition + ' out',\n                  debug      : settings.debug,\n                  verbose    : settings.verbose,\n                  duration   : settings.duration,\n                  onComplete : function() {\n                    callback();\n                  },\n                  queue      : true\n                })\n              ;\n            }\n            else {\n              module.debug('Hiding results with javascript');\n              $results\n                .stop()\n                .fadeOut(settings.duration, settings.easing)\n              ;\n            }\n            settings.onResultsClose.call($results);\n          }\n        },\n\n        generateResults: function(response) {\n          module.debug('Generating html from response', response);\n          var\n            template       = settings.templates[settings.type],\n            isProperObject = ($.isPlainObject(response[fields.results]) && !$.isEmptyObject(response[fields.results])),\n            isProperArray  = ($.isArray(response[fields.results]) && response[fields.results].length > 0),\n            html           = ''\n          ;\n          if(isProperObject || isProperArray ) {\n            if(settings.maxResults > 0) {\n              if(isProperObject) {\n                if(settings.type == 'standard') {\n                  module.error(error.maxResults);\n                }\n              }\n              else {\n                response[fields.results] = response[fields.results].slice(0, settings.maxResults);\n              }\n            }\n            if($.isFunction(template)) {\n              html = template(response, fields);\n            }\n            else {\n              module.error(error.noTemplate, false);\n            }\n          }\n          else if(settings.showNoResults) {\n            html = module.displayMessage(error.noResults, 'empty');\n          }\n          settings.onResults.call(element, response);\n          return html;\n        },\n\n        displayMessage: function(text, type) {\n          type = type || 'standard';\n          module.debug('Displaying message', text, type);\n          module.addResults( settings.templates.message(text, type) );\n          return settings.templates.message(text, type);\n        },\n\n        setting: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            settings[name] = value;\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                return false;\n              }\n            });\n          }\n          if( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.search.settings = {\n\n  name              : 'Search',\n  namespace         : 'search',\n\n  silent            : false,\n  debug             : false,\n  verbose           : false,\n  performance       : true,\n\n  // template to use (specified in settings.templates)\n  type              : 'standard',\n\n  // minimum characters required to search\n  minCharacters     : 1,\n\n  // whether to select first result after searching automatically\n  selectFirstResult : false,\n\n  // API config\n  apiSettings       : false,\n\n  // object to search\n  source            : false,\n\n  // Whether search should query current term on focus\n  searchOnFocus     : true,\n\n  // fields to search\n  searchFields   : [\n    'title',\n    'description'\n  ],\n\n  // field to display in standard results template\n  displayField   : '',\n\n  // search anywhere in value (set to 'exact' to require exact matches\n  fullTextSearch : 'exact',\n\n  // whether to add events to prompt automatically\n  automatic      : true,\n\n  // delay before hiding menu after blur\n  hideDelay      : 0,\n\n  // delay before searching\n  searchDelay    : 200,\n\n  // maximum results returned from search\n  maxResults     : 7,\n\n  // whether to store lookups in local cache\n  cache          : true,\n\n  // whether no results errors should be shown\n  showNoResults  : true,\n\n  // transition settings\n  transition     : 'scale',\n  duration       : 200,\n  easing         : 'easeOutExpo',\n\n  // callbacks\n  onSelect       : false,\n  onResultsAdd   : false,\n\n  onSearchQuery  : function(query){},\n  onResults      : function(response){},\n\n  onResultsOpen  : function(){},\n  onResultsClose : function(){},\n\n  className: {\n    animating : 'animating',\n    active    : 'active',\n    empty     : 'empty',\n    focus     : 'focus',\n    hidden    : 'hidden',\n    loading   : 'loading',\n    results   : 'results',\n    pressed   : 'down'\n  },\n\n  error : {\n    source          : 'Cannot search. No source used, and Semantic API module was not included',\n    noResults       : 'Your search returned no results',\n    logging         : 'Error in debug logging, exiting.',\n    noEndpoint      : 'No search endpoint was specified',\n    noTemplate      : 'A valid template name was not specified.',\n    oldSearchSyntax : 'searchFullText setting has been renamed fullTextSearch for consistency, please adjust your settings.',\n    serverError     : 'There was an issue querying the server.',\n    maxResults      : 'Results must be an array to use maxResults setting',\n    method          : 'The method you called is not defined.'\n  },\n\n  metadata: {\n    cache   : 'cache',\n    results : 'results',\n    result  : 'result'\n  },\n\n  regExp: {\n    escape     : /[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g,\n    beginsWith : '(?:\\s|^)'\n  },\n\n  // maps api response attributes to internal representation\n  fields: {\n    categories      : 'results',     // array of categories (category view)\n    categoryName    : 'name',        // name of category (category view)\n    categoryResults : 'results',     // array of results (category view)\n    description     : 'description', // result description\n    image           : 'image',       // result image\n    price           : 'price',       // result price\n    results         : 'results',     // array of results (standard)\n    title           : 'title',       // result title\n    url             : 'url',         // result url\n    action          : 'action',      // \"view more\" object name\n    actionText      : 'text',        // \"view more\" text\n    actionURL       : 'url'          // \"view more\" url\n  },\n\n  selector : {\n    prompt       : '.prompt',\n    searchButton : '.search.button',\n    results      : '.results',\n    message      : '.results > .message',\n    category     : '.category',\n    result       : '.result',\n    title        : '.title, .name'\n  },\n\n  templates: {\n    escape: function(string) {\n      var\n        badChars     = /[&<>\"'`]/g,\n        shouldEscape = /[&<>\"'`]/,\n        escape       = {\n          \"&\": \"&amp;\",\n          \"<\": \"&lt;\",\n          \">\": \"&gt;\",\n          '\"': \"&quot;\",\n          \"'\": \"&#x27;\",\n          \"`\": \"&#x60;\"\n        },\n        escapedChar  = function(chr) {\n          return escape[chr];\n        }\n      ;\n      if(shouldEscape.test(string)) {\n        return string.replace(badChars, escapedChar);\n      }\n      return string;\n    },\n    message: function(message, type) {\n      var\n        html = ''\n      ;\n      if(message !== undefined && type !== undefined) {\n        html +=  ''\n          + '<div class=\"message ' + type + '\">'\n        ;\n        // message type\n        if(type == 'empty') {\n          html += ''\n            + '<div class=\"header\">No Results</div class=\"header\">'\n            + '<div class=\"description\">' + message + '</div class=\"description\">'\n          ;\n        }\n        else {\n          html += ' <div class=\"description\">' + message + '</div>';\n        }\n        html += '</div>';\n      }\n      return html;\n    },\n    category: function(response, fields) {\n      var\n        html = '',\n        escape = $.fn.search.settings.templates.escape\n      ;\n      if(response[fields.categoryResults] !== undefined) {\n\n        // each category\n        $.each(response[fields.categoryResults], function(index, category) {\n          if(category[fields.results] !== undefined && category.results.length > 0) {\n\n            html  += '<div class=\"category\">';\n\n            if(category[fields.categoryName] !== undefined) {\n              html += '<div class=\"name\">' + category[fields.categoryName] + '</div>';\n            }\n\n            // each item inside category\n            html += '<div class=\"results\">';\n            $.each(category.results, function(index, result) {\n              if(result[fields.url]) {\n                html  += '<a class=\"result\" href=\"' + result[fields.url] + '\">';\n              }\n              else {\n                html  += '<a class=\"result\">';\n              }\n              if(result[fields.image] !== undefined) {\n                html += ''\n                  + '<div class=\"image\">'\n                  + ' <img src=\"' + result[fields.image] + '\">'\n                  + '</div>'\n                ;\n              }\n              html += '<div class=\"content\">';\n              if(result[fields.price] !== undefined) {\n                html += '<div class=\"price\">' + result[fields.price] + '</div>';\n              }\n              if(result[fields.title] !== undefined) {\n                html += '<div class=\"title\">' + result[fields.title] + '</div>';\n              }\n              if(result[fields.description] !== undefined) {\n                html += '<div class=\"description\">' + result[fields.description] + '</div>';\n              }\n              html  += ''\n                + '</div>'\n              ;\n              html += '</a>';\n            });\n            html += '</div>';\n            html  += ''\n              + '</div>'\n            ;\n          }\n        });\n        if(response[fields.action]) {\n          html += ''\n          + '<a href=\"' + response[fields.action][fields.actionURL] + '\" class=\"action\">'\n          +   response[fields.action][fields.actionText]\n          + '</a>';\n        }\n        return html;\n      }\n      return false;\n    },\n    standard: function(response, fields) {\n      var\n        html = ''\n      ;\n      if(response[fields.results] !== undefined) {\n\n        // each result\n        $.each(response[fields.results], function(index, result) {\n          if(result[fields.url]) {\n            html  += '<a class=\"result\" href=\"' + result[fields.url] + '\">';\n          }\n          else {\n            html  += '<a class=\"result\">';\n          }\n          if(result[fields.image] !== undefined) {\n            html += ''\n              + '<div class=\"image\">'\n              + ' <img src=\"' + result[fields.image] + '\">'\n              + '</div>'\n            ;\n          }\n          html += '<div class=\"content\">';\n          if(result[fields.price] !== undefined) {\n            html += '<div class=\"price\">' + result[fields.price] + '</div>';\n          }\n          if(result[fields.title] !== undefined) {\n            html += '<div class=\"title\">' + result[fields.title] + '</div>';\n          }\n          if(result[fields.description] !== undefined) {\n            html += '<div class=\"description\">' + result[fields.description] + '</div>';\n          }\n          html  += ''\n            + '</div>'\n          ;\n          html += '</a>';\n        });\n\n        if(response[fields.action]) {\n          html += ''\n          + '<a href=\"' + response[fields.action][fields.actionURL] + '\" class=\"action\">'\n          +   response[fields.action][fields.actionText]\n          + '</a>';\n        }\n        return html;\n      }\n      return false;\n    }\n  }\n};\n\n})( jQuery, window, document );\n","/*!\n * # Semantic UI - Shape\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.shape = function(parameters) {\n  var\n    $allModules     = $(this),\n    $body           = $('body'),\n\n    time            = new Date().getTime(),\n    performance     = [],\n\n    query           = arguments[0],\n    methodInvoked   = (typeof query == 'string'),\n    queryArguments  = [].slice.call(arguments, 1),\n\n    requestAnimationFrame = window.requestAnimationFrame\n      || window.mozRequestAnimationFrame\n      || window.webkitRequestAnimationFrame\n      || window.msRequestAnimationFrame\n      || function(callback) { setTimeout(callback, 0); },\n\n    returnedValue\n  ;\n\n  $allModules\n    .each(function() {\n      var\n        moduleSelector = $allModules.selector || '',\n        settings       = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.shape.settings, parameters)\n          : $.extend({}, $.fn.shape.settings),\n\n        // internal aliases\n        namespace     = settings.namespace,\n        selector      = settings.selector,\n        error         = settings.error,\n        className     = settings.className,\n\n        // define namespaces for modules\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n\n        // selector cache\n        $module       = $(this),\n        $sides        = $module.find(selector.sides),\n        $side         = $module.find(selector.side),\n\n        // private variables\n        nextIndex = false,\n        $activeSide,\n        $nextSide,\n\n        // standard module\n        element       = this,\n        instance      = $module.data(moduleNamespace),\n        module\n      ;\n\n      module = {\n\n        initialize: function() {\n          module.verbose('Initializing module for', element);\n          module.set.defaultSide();\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, instance)\n          ;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous module for', element);\n          $module\n            .removeData(moduleNamespace)\n            .off(eventNamespace)\n          ;\n        },\n\n        refresh: function() {\n          module.verbose('Refreshing selector cache for', element);\n          $module = $(element);\n          $sides  = $(this).find(selector.shape);\n          $side   = $(this).find(selector.side);\n        },\n\n        repaint: function() {\n          module.verbose('Forcing repaint event');\n          var\n            shape          = $sides[0] || document.createElement('div'),\n            fakeAssignment = shape.offsetWidth\n          ;\n        },\n\n        animate: function(propertyObject, callback) {\n          module.verbose('Animating box with properties', propertyObject);\n          callback = callback || function(event) {\n            module.verbose('Executing animation callback');\n            if(event !== undefined) {\n              event.stopPropagation();\n            }\n            module.reset();\n            module.set.active();\n          };\n          settings.beforeChange.call($nextSide[0]);\n          if(module.get.transitionEvent()) {\n            module.verbose('Starting CSS animation');\n            $module\n              .addClass(className.animating)\n            ;\n            $sides\n              .css(propertyObject)\n              .one(module.get.transitionEvent(), callback)\n            ;\n            module.set.duration(settings.duration);\n            requestAnimationFrame(function() {\n              $module\n                .addClass(className.animating)\n              ;\n              $activeSide\n                .addClass(className.hidden)\n              ;\n            });\n          }\n          else {\n            callback();\n          }\n        },\n\n        queue: function(method) {\n          module.debug('Queueing animation of', method);\n          $sides\n            .one(module.get.transitionEvent(), function() {\n              module.debug('Executing queued animation');\n              setTimeout(function(){\n                $module.shape(method);\n              }, 0);\n            })\n          ;\n        },\n\n        reset: function() {\n          module.verbose('Animating states reset');\n          $module\n            .removeClass(className.animating)\n            .attr('style', '')\n            .removeAttr('style')\n          ;\n          // removeAttr style does not consistently work in safari\n          $sides\n            .attr('style', '')\n            .removeAttr('style')\n          ;\n          $side\n            .attr('style', '')\n            .removeAttr('style')\n            .removeClass(className.hidden)\n          ;\n          $nextSide\n            .removeClass(className.animating)\n            .attr('style', '')\n            .removeAttr('style')\n          ;\n        },\n\n        is: {\n          complete: function() {\n            return ($side.filter('.' + className.active)[0] == $nextSide[0]);\n          },\n          animating: function() {\n            return $module.hasClass(className.animating);\n          }\n        },\n\n        set: {\n\n          defaultSide: function() {\n            $activeSide = $module.find('.' + settings.className.active);\n            $nextSide   = ( $activeSide.next(selector.side).length > 0 )\n              ? $activeSide.next(selector.side)\n              : $module.find(selector.side).first()\n            ;\n            nextIndex = false;\n            module.verbose('Active side set to', $activeSide);\n            module.verbose('Next side set to', $nextSide);\n          },\n\n          duration: function(duration) {\n            duration = duration || settings.duration;\n            duration = (typeof duration == 'number')\n              ? duration + 'ms'\n              : duration\n            ;\n            module.verbose('Setting animation duration', duration);\n            if(settings.duration || settings.duration === 0) {\n              $sides.add($side)\n                .css({\n                  '-webkit-transition-duration': duration,\n                  '-moz-transition-duration': duration,\n                  '-ms-transition-duration': duration,\n                  '-o-transition-duration': duration,\n                  'transition-duration': duration\n                })\n              ;\n            }\n          },\n\n          currentStageSize: function() {\n            var\n              $activeSide = $module.find('.' + settings.className.active),\n              width       = $activeSide.outerWidth(true),\n              height      = $activeSide.outerHeight(true)\n            ;\n            $module\n              .css({\n                width: width,\n                height: height\n              })\n            ;\n          },\n\n          stageSize: function() {\n            var\n              $clone      = $module.clone().addClass(className.loading),\n              $activeSide = $clone.find('.' + settings.className.active),\n              $nextSide   = (nextIndex)\n                ? $clone.find(selector.side).eq(nextIndex)\n                : ( $activeSide.next(selector.side).length > 0 )\n                  ? $activeSide.next(selector.side)\n                  : $clone.find(selector.side).first(),\n              newWidth    = (settings.width == 'next')\n                ? $nextSide.outerWidth(true)\n                : (settings.width == 'initial')\n                  ? $module.width()\n                  : settings.width,\n              newHeight    = (settings.height == 'next')\n                ? $nextSide.outerHeight(true)\n                : (settings.height == 'initial')\n                  ? $module.height()\n                  : settings.height\n            ;\n            $activeSide.removeClass(className.active);\n            $nextSide.addClass(className.active);\n            $clone.insertAfter($module);\n            $clone.remove();\n            if(settings.width != 'auto') {\n              $module.css('width', newWidth + settings.jitter);\n              module.verbose('Specifying width during animation', newWidth);\n            }\n            if(settings.height != 'auto') {\n              $module.css('height', newHeight + settings.jitter);\n              module.verbose('Specifying height during animation', newHeight);\n            }\n          },\n\n          nextSide: function(selector) {\n            nextIndex = selector;\n            $nextSide = $side.filter(selector);\n            nextIndex = $side.index($nextSide);\n            if($nextSide.length === 0) {\n              module.set.defaultSide();\n              module.error(error.side);\n            }\n            module.verbose('Next side manually set to', $nextSide);\n          },\n\n          active: function() {\n            module.verbose('Setting new side to active', $nextSide);\n            $side\n              .removeClass(className.active)\n            ;\n            $nextSide\n              .addClass(className.active)\n            ;\n            settings.onChange.call($nextSide[0]);\n            module.set.defaultSide();\n          }\n        },\n\n        flip: {\n\n          up: function() {\n            if(module.is.complete() && !module.is.animating() && !settings.allowRepeats) {\n              module.debug('Side already visible', $nextSide);\n              return;\n            }\n            if( !module.is.animating()) {\n              module.debug('Flipping up', $nextSide);\n              var\n                transform = module.get.transform.up()\n              ;\n              module.set.stageSize();\n              module.stage.above();\n              module.animate(transform);\n            }\n            else {\n              module.queue('flip up');\n            }\n          },\n\n          down: function() {\n            if(module.is.complete() && !module.is.animating() && !settings.allowRepeats) {\n              module.debug('Side already visible', $nextSide);\n              return;\n            }\n            if( !module.is.animating()) {\n              module.debug('Flipping down', $nextSide);\n              var\n                transform = module.get.transform.down()\n              ;\n              module.set.stageSize();\n              module.stage.below();\n              module.animate(transform);\n            }\n            else {\n              module.queue('flip down');\n            }\n          },\n\n          left: function() {\n            if(module.is.complete() && !module.is.animating() && !settings.allowRepeats) {\n              module.debug('Side already visible', $nextSide);\n              return;\n            }\n            if( !module.is.animating()) {\n              module.debug('Flipping left', $nextSide);\n              var\n                transform = module.get.transform.left()\n              ;\n              module.set.stageSize();\n              module.stage.left();\n              module.animate(transform);\n            }\n            else {\n              module.queue('flip left');\n            }\n          },\n\n          right: function() {\n            if(module.is.complete() && !module.is.animating() && !settings.allowRepeats) {\n              module.debug('Side already visible', $nextSide);\n              return;\n            }\n            if( !module.is.animating()) {\n              module.debug('Flipping right', $nextSide);\n              var\n                transform = module.get.transform.right()\n              ;\n              module.set.stageSize();\n              module.stage.right();\n              module.animate(transform);\n            }\n            else {\n              module.queue('flip right');\n            }\n          },\n\n          over: function() {\n            if(module.is.complete() && !module.is.animating() && !settings.allowRepeats) {\n              module.debug('Side already visible', $nextSide);\n              return;\n            }\n            if( !module.is.animating()) {\n              module.debug('Flipping over', $nextSide);\n              module.set.stageSize();\n              module.stage.behind();\n              module.animate(module.get.transform.over() );\n            }\n            else {\n              module.queue('flip over');\n            }\n          },\n\n          back: function() {\n            if(module.is.complete() && !module.is.animating() && !settings.allowRepeats) {\n              module.debug('Side already visible', $nextSide);\n              return;\n            }\n            if( !module.is.animating()) {\n              module.debug('Flipping back', $nextSide);\n              module.set.stageSize();\n              module.stage.behind();\n              module.animate(module.get.transform.back() );\n            }\n            else {\n              module.queue('flip back');\n            }\n          }\n\n        },\n\n        get: {\n\n          transform: {\n            up: function() {\n              var\n                translate = {\n                  y: -(($activeSide.outerHeight(true) - $nextSide.outerHeight(true)) / 2),\n                  z: -($activeSide.outerHeight(true) / 2)\n                }\n              ;\n              return {\n                transform: 'translateY(' + translate.y + 'px) translateZ('+ translate.z + 'px) rotateX(-90deg)'\n              };\n            },\n\n            down: function() {\n              var\n                translate = {\n                  y: -(($activeSide.outerHeight(true) - $nextSide.outerHeight(true)) / 2),\n                  z: -($activeSide.outerHeight(true) / 2)\n                }\n              ;\n              return {\n                transform: 'translateY(' + translate.y + 'px) translateZ('+ translate.z + 'px) rotateX(90deg)'\n              };\n            },\n\n            left: function() {\n              var\n                translate = {\n                  x : -(($activeSide.outerWidth(true) - $nextSide.outerWidth(true)) / 2),\n                  z : -($activeSide.outerWidth(true) / 2)\n                }\n              ;\n              return {\n                transform: 'translateX(' + translate.x + 'px) translateZ(' + translate.z + 'px) rotateY(90deg)'\n              };\n            },\n\n            right: function() {\n              var\n                translate = {\n                  x : -(($activeSide.outerWidth(true) - $nextSide.outerWidth(true)) / 2),\n                  z : -($activeSide.outerWidth(true) / 2)\n                }\n              ;\n              return {\n                transform: 'translateX(' + translate.x + 'px) translateZ(' + translate.z + 'px) rotateY(-90deg)'\n              };\n            },\n\n            over: function() {\n              var\n                translate = {\n                  x : -(($activeSide.outerWidth(true) - $nextSide.outerWidth(true)) / 2)\n                }\n              ;\n              return {\n                transform: 'translateX(' + translate.x + 'px) rotateY(180deg)'\n              };\n            },\n\n            back: function() {\n              var\n                translate = {\n                  x : -(($activeSide.outerWidth(true) - $nextSide.outerWidth(true)) / 2)\n                }\n              ;\n              return {\n                transform: 'translateX(' + translate.x + 'px) rotateY(-180deg)'\n              };\n            }\n          },\n\n          transitionEvent: function() {\n            var\n              element     = document.createElement('element'),\n              transitions = {\n                'transition'       :'transitionend',\n                'OTransition'      :'oTransitionEnd',\n                'MozTransition'    :'transitionend',\n                'WebkitTransition' :'webkitTransitionEnd'\n              },\n              transition\n            ;\n            for(transition in transitions){\n              if( element.style[transition] !== undefined ){\n                return transitions[transition];\n              }\n            }\n          },\n\n          nextSide: function() {\n            return ( $activeSide.next(selector.side).length > 0 )\n              ? $activeSide.next(selector.side)\n              : $module.find(selector.side).first()\n            ;\n          }\n\n        },\n\n        stage: {\n\n          above: function() {\n            var\n              box = {\n                origin : (($activeSide.outerHeight(true) - $nextSide.outerHeight(true)) / 2),\n                depth  : {\n                  active : ($nextSide.outerHeight(true) / 2),\n                  next   : ($activeSide.outerHeight(true) / 2)\n                }\n              }\n            ;\n            module.verbose('Setting the initial animation position as above', $nextSide, box);\n            $sides\n              .css({\n                'transform' : 'translateZ(-' + box.depth.active + 'px)'\n              })\n            ;\n            $activeSide\n              .css({\n                'transform' : 'rotateY(0deg) translateZ(' + box.depth.active + 'px)'\n              })\n            ;\n            $nextSide\n              .addClass(className.animating)\n              .css({\n                'top'       : box.origin + 'px',\n                'transform' : 'rotateX(90deg) translateZ(' + box.depth.next + 'px)'\n              })\n            ;\n          },\n\n          below: function() {\n            var\n              box = {\n                origin : (($activeSide.outerHeight(true) - $nextSide.outerHeight(true)) / 2),\n                depth  : {\n                  active : ($nextSide.outerHeight(true) / 2),\n                  next   : ($activeSide.outerHeight(true) / 2)\n                }\n              }\n            ;\n            module.verbose('Setting the initial animation position as below', $nextSide, box);\n            $sides\n              .css({\n                'transform' : 'translateZ(-' + box.depth.active + 'px)'\n              })\n            ;\n            $activeSide\n              .css({\n                'transform' : 'rotateY(0deg) translateZ(' + box.depth.active + 'px)'\n              })\n            ;\n            $nextSide\n              .addClass(className.animating)\n              .css({\n                'top'       : box.origin + 'px',\n                'transform' : 'rotateX(-90deg) translateZ(' + box.depth.next + 'px)'\n              })\n            ;\n          },\n\n          left: function() {\n            var\n              height = {\n                active : $activeSide.outerWidth(true),\n                next   : $nextSide.outerWidth(true)\n              },\n              box = {\n                origin : ( ( height.active - height.next ) / 2),\n                depth  : {\n                  active : (height.next / 2),\n                  next   : (height.active / 2)\n                }\n              }\n            ;\n            module.verbose('Setting the initial animation position as left', $nextSide, box);\n            $sides\n              .css({\n                'transform' : 'translateZ(-' + box.depth.active + 'px)'\n              })\n            ;\n            $activeSide\n              .css({\n                'transform' : 'rotateY(0deg) translateZ(' + box.depth.active + 'px)'\n              })\n            ;\n            $nextSide\n              .addClass(className.animating)\n              .css({\n                'left'      : box.origin + 'px',\n                'transform' : 'rotateY(-90deg) translateZ(' + box.depth.next + 'px)'\n              })\n            ;\n          },\n\n          right: function() {\n            var\n              height = {\n                active : $activeSide.outerWidth(true),\n                next   : $nextSide.outerWidth(true)\n              },\n              box = {\n                origin : ( ( height.active - height.next ) / 2),\n                depth  : {\n                  active : (height.next / 2),\n                  next   : (height.active / 2)\n                }\n              }\n            ;\n            module.verbose('Setting the initial animation position as left', $nextSide, box);\n            $sides\n              .css({\n                'transform' : 'translateZ(-' + box.depth.active + 'px)'\n              })\n            ;\n            $activeSide\n              .css({\n                'transform' : 'rotateY(0deg) translateZ(' + box.depth.active + 'px)'\n              })\n            ;\n            $nextSide\n              .addClass(className.animating)\n              .css({\n                'left'      : box.origin + 'px',\n                'transform' : 'rotateY(90deg) translateZ(' + box.depth.next + 'px)'\n              })\n            ;\n          },\n\n          behind: function() {\n            var\n              height = {\n                active : $activeSide.outerWidth(true),\n                next   : $nextSide.outerWidth(true)\n              },\n              box = {\n                origin : ( ( height.active - height.next ) / 2),\n                depth  : {\n                  active : (height.next / 2),\n                  next   : (height.active / 2)\n                }\n              }\n            ;\n            module.verbose('Setting the initial animation position as behind', $nextSide, box);\n            $activeSide\n              .css({\n                'transform' : 'rotateY(0deg)'\n              })\n            ;\n            $nextSide\n              .addClass(className.animating)\n              .css({\n                'left'      : box.origin + 'px',\n                'transform' : 'rotateY(-180deg)'\n              })\n            ;\n          }\n        },\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.shape.settings = {\n\n  // module info\n  name : 'Shape',\n\n  // hide all debug content\n  silent     : false,\n\n  // debug content outputted to console\n  debug      : false,\n\n  // verbose debug output\n  verbose    : false,\n\n  // fudge factor in pixels when swapping from 2d to 3d (can be useful to correct rounding errors)\n  jitter     : 0,\n\n  // performance data output\n  performance: true,\n\n  // event namespace\n  namespace  : 'shape',\n\n  // width during animation, can be set to 'auto', initial', 'next' or pixel amount\n  width: 'initial',\n\n  // height during animation, can be set to 'auto', 'initial', 'next' or pixel amount\n  height: 'initial',\n\n  // callback occurs on side change\n  beforeChange : function() {},\n  onChange     : function() {},\n\n  // allow animation to same side\n  allowRepeats: false,\n\n  // animation duration\n  duration   : false,\n\n  // possible errors\n  error: {\n    side   : 'You tried to switch to a side that does not exist.',\n    method : 'The method you called is not defined'\n  },\n\n  // classnames used\n  className   : {\n    animating : 'animating',\n    hidden    : 'hidden',\n    loading   : 'loading',\n    active    : 'active'\n  },\n\n  // selectors used\n  selector    : {\n    sides : '.sides',\n    side  : '.side'\n  }\n\n};\n\n\n})( jQuery, window, document );\n","/*!\n * # Semantic UI - Sidebar\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.sidebar = function(parameters) {\n  var\n    $allModules     = $(this),\n    $window         = $(window),\n    $document       = $(document),\n    $html           = $('html'),\n    $head           = $('head'),\n\n    moduleSelector  = $allModules.selector || '',\n\n    time            = new Date().getTime(),\n    performance     = [],\n\n    query           = arguments[0],\n    methodInvoked   = (typeof query == 'string'),\n    queryArguments  = [].slice.call(arguments, 1),\n\n    requestAnimationFrame = window.requestAnimationFrame\n      || window.mozRequestAnimationFrame\n      || window.webkitRequestAnimationFrame\n      || window.msRequestAnimationFrame\n      || function(callback) { setTimeout(callback, 0); },\n\n    returnedValue\n  ;\n\n  $allModules\n    .each(function() {\n      var\n        settings        = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.sidebar.settings, parameters)\n          : $.extend({}, $.fn.sidebar.settings),\n\n        selector        = settings.selector,\n        className       = settings.className,\n        namespace       = settings.namespace,\n        regExp          = settings.regExp,\n        error           = settings.error,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n\n        $module         = $(this),\n        $context        = $(settings.context),\n\n        $sidebars       = $module.children(selector.sidebar),\n        $fixed          = $context.children(selector.fixed),\n        $pusher         = $context.children(selector.pusher),\n        $style,\n\n        element         = this,\n        instance        = $module.data(moduleNamespace),\n\n        elementNamespace,\n        id,\n        currentScroll,\n        transitionEvent,\n\n        module\n      ;\n\n      module      = {\n\n        initialize: function() {\n          module.debug('Initializing sidebar', parameters);\n\n          module.create.id();\n\n          transitionEvent = module.get.transitionEvent();\n\n          // avoids locking rendering if initialized in onReady\n          if(settings.delaySetup) {\n            requestAnimationFrame(module.setup.layout);\n          }\n          else {\n            module.setup.layout();\n          }\n\n          requestAnimationFrame(function() {\n            module.setup.cache();\n          });\n\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n\n        create: {\n          id: function() {\n            id = (Math.random().toString(16) + '000000000').substr(2,8);\n            elementNamespace = '.' + id;\n            module.verbose('Creating unique id for element', id);\n          }\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous module for', $module);\n          $module\n            .off(eventNamespace)\n            .removeData(moduleNamespace)\n          ;\n          if(module.is.ios()) {\n            module.remove.ios();\n          }\n          // bound by uuid\n          $context.off(elementNamespace);\n          $window.off(elementNamespace);\n          $document.off(elementNamespace);\n        },\n\n        event: {\n          clickaway: function(event) {\n            var\n              clickedInPusher = ($pusher.find(event.target).length > 0 || $pusher.is(event.target)),\n              clickedContext  = ($context.is(event.target))\n            ;\n            if(clickedInPusher) {\n              module.verbose('User clicked on dimmed page');\n              module.hide();\n            }\n            if(clickedContext) {\n              module.verbose('User clicked on dimmable context (scaled out page)');\n              module.hide();\n            }\n          },\n          touch: function(event) {\n            //event.stopPropagation();\n          },\n          containScroll: function(event) {\n            if(element.scrollTop <= 0)  {\n              element.scrollTop = 1;\n            }\n            if((element.scrollTop + element.offsetHeight) >= element.scrollHeight) {\n              element.scrollTop = element.scrollHeight - element.offsetHeight - 1;\n            }\n          },\n          scroll: function(event) {\n            if( $(event.target).closest(selector.sidebar).length === 0 ) {\n              event.preventDefault();\n            }\n          }\n        },\n\n        bind: {\n          clickaway: function() {\n            module.verbose('Adding clickaway events to context', $context);\n            if(settings.closable) {\n              $context\n                .on('click'    + elementNamespace, module.event.clickaway)\n                .on('touchend' + elementNamespace, module.event.clickaway)\n              ;\n            }\n          },\n          scrollLock: function() {\n            if(settings.scrollLock) {\n              module.debug('Disabling page scroll');\n              $window\n                .on('DOMMouseScroll' + elementNamespace, module.event.scroll)\n              ;\n            }\n            module.verbose('Adding events to contain sidebar scroll');\n            $document\n              .on('touchmove' + elementNamespace, module.event.touch)\n            ;\n            $module\n              .on('scroll' + eventNamespace, module.event.containScroll)\n            ;\n          }\n        },\n        unbind: {\n          clickaway: function() {\n            module.verbose('Removing clickaway events from context', $context);\n            $context.off(elementNamespace);\n          },\n          scrollLock: function() {\n            module.verbose('Removing scroll lock from page');\n            $document.off(elementNamespace);\n            $window.off(elementNamespace);\n            $module.off('scroll' + eventNamespace);\n          }\n        },\n\n        add: {\n          inlineCSS: function() {\n            var\n              width     = module.cache.width  || $module.outerWidth(),\n              height    = module.cache.height || $module.outerHeight(),\n              isRTL     = module.is.rtl(),\n              direction = module.get.direction(),\n              distance  = {\n                left   : width,\n                right  : -width,\n                top    : height,\n                bottom : -height\n              },\n              style\n            ;\n\n            if(isRTL){\n              module.verbose('RTL detected, flipping widths');\n              distance.left = -width;\n              distance.right = width;\n            }\n\n            style  = '<style>';\n\n            if(direction === 'left' || direction === 'right') {\n              module.debug('Adding CSS rules for animation distance', width);\n              style  += ''\n                + ' .ui.visible.' + direction + '.sidebar ~ .fixed,'\n                + ' .ui.visible.' + direction + '.sidebar ~ .pusher {'\n                + '   -webkit-transform: translate3d('+ distance[direction] + 'px, 0, 0);'\n                + '           transform: translate3d('+ distance[direction] + 'px, 0, 0);'\n                + ' }'\n              ;\n            }\n            else if(direction === 'top' || direction == 'bottom') {\n              style  += ''\n                + ' .ui.visible.' + direction + '.sidebar ~ .fixed,'\n                + ' .ui.visible.' + direction + '.sidebar ~ .pusher {'\n                + '   -webkit-transform: translate3d(0, ' + distance[direction] + 'px, 0);'\n                + '           transform: translate3d(0, ' + distance[direction] + 'px, 0);'\n                + ' }'\n              ;\n            }\n\n            /* IE is only browser not to create context with transforms */\n            /* https://www.w3.org/Bugs/Public/show_bug.cgi?id=16328 */\n            if( module.is.ie() ) {\n              if(direction === 'left' || direction === 'right') {\n                module.debug('Adding CSS rules for animation distance', width);\n                style  += ''\n                  + ' body.pushable > .ui.visible.' + direction + '.sidebar ~ .pusher:after {'\n                  + '   -webkit-transform: translate3d('+ distance[direction] + 'px, 0, 0);'\n                  + '           transform: translate3d('+ distance[direction] + 'px, 0, 0);'\n                  + ' }'\n                ;\n              }\n              else if(direction === 'top' || direction == 'bottom') {\n                style  += ''\n                  + ' body.pushable > .ui.visible.' + direction + '.sidebar ~ .pusher:after {'\n                  + '   -webkit-transform: translate3d(0, ' + distance[direction] + 'px, 0);'\n                  + '           transform: translate3d(0, ' + distance[direction] + 'px, 0);'\n                  + ' }'\n                ;\n              }\n              /* opposite sides visible forces content overlay */\n              style += ''\n                + ' body.pushable > .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .pusher:after,'\n                + ' body.pushable > .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .pusher:after {'\n                + '   -webkit-transform: translate3d(0px, 0, 0);'\n                + '           transform: translate3d(0px, 0, 0);'\n                + ' }'\n              ;\n            }\n            style += '</style>';\n            $style = $(style)\n              .appendTo($head)\n            ;\n            module.debug('Adding sizing css to head', $style);\n          }\n        },\n\n        refresh: function() {\n          module.verbose('Refreshing selector cache');\n          $context  = $(settings.context);\n          $sidebars = $context.children(selector.sidebar);\n          $pusher   = $context.children(selector.pusher);\n          $fixed    = $context.children(selector.fixed);\n          module.clear.cache();\n        },\n\n        refreshSidebars: function() {\n          module.verbose('Refreshing other sidebars');\n          $sidebars = $context.children(selector.sidebar);\n        },\n\n        repaint: function() {\n          module.verbose('Forcing repaint event');\n          element.style.display = 'none';\n          var ignored = element.offsetHeight;\n          element.scrollTop = element.scrollTop;\n          element.style.display = '';\n        },\n\n        setup: {\n          cache: function() {\n            module.cache = {\n              width  : $module.outerWidth(),\n              height : $module.outerHeight(),\n              rtl    : ($module.css('direction') == 'rtl')\n            };\n          },\n          layout: function() {\n            if( $context.children(selector.pusher).length === 0 ) {\n              module.debug('Adding wrapper element for sidebar');\n              module.error(error.pusher);\n              $pusher = $('<div class=\"pusher\" />');\n              $context\n                .children()\n                  .not(selector.omitted)\n                  .not($sidebars)\n                  .wrapAll($pusher)\n              ;\n              module.refresh();\n            }\n            if($module.nextAll(selector.pusher).length === 0 || $module.nextAll(selector.pusher)[0] !== $pusher[0]) {\n              module.debug('Moved sidebar to correct parent element');\n              module.error(error.movedSidebar, element);\n              $module.detach().prependTo($context);\n              module.refresh();\n            }\n            module.clear.cache();\n            module.set.pushable();\n            module.set.direction();\n          }\n        },\n\n        attachEvents: function(selector, event) {\n          var\n            $toggle = $(selector)\n          ;\n          event = $.isFunction(module[event])\n            ? module[event]\n            : module.toggle\n          ;\n          if($toggle.length > 0) {\n            module.debug('Attaching sidebar events to element', selector, event);\n            $toggle\n              .on('click' + eventNamespace, event)\n            ;\n          }\n          else {\n            module.error(error.notFound, selector);\n          }\n        },\n\n        show: function(callback) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          if(module.is.hidden()) {\n            module.refreshSidebars();\n            if(settings.overlay)  {\n              module.error(error.overlay);\n              settings.transition = 'overlay';\n            }\n            module.refresh();\n            if(module.othersActive()) {\n              module.debug('Other sidebars currently visible');\n              if(settings.exclusive) {\n                // if not overlay queue animation after hide\n                if(settings.transition != 'overlay') {\n                  module.hideOthers(module.show);\n                  return;\n                }\n                else {\n                  module.hideOthers();\n                }\n              }\n              else {\n                settings.transition = 'overlay';\n              }\n            }\n            module.pushPage(function() {\n              callback.call(element);\n              settings.onShow.call(element);\n            });\n            settings.onChange.call(element);\n            settings.onVisible.call(element);\n          }\n          else {\n            module.debug('Sidebar is already visible');\n          }\n        },\n\n        hide: function(callback) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          if(module.is.visible() || module.is.animating()) {\n            module.debug('Hiding sidebar', callback);\n            module.refreshSidebars();\n            module.pullPage(function() {\n              callback.call(element);\n              settings.onHidden.call(element);\n            });\n            settings.onChange.call(element);\n            settings.onHide.call(element);\n          }\n        },\n\n        othersAnimating: function() {\n          return ($sidebars.not($module).filter('.' + className.animating).length > 0);\n        },\n        othersVisible: function() {\n          return ($sidebars.not($module).filter('.' + className.visible).length > 0);\n        },\n        othersActive: function() {\n          return(module.othersVisible() || module.othersAnimating());\n        },\n\n        hideOthers: function(callback) {\n          var\n            $otherSidebars = $sidebars.not($module).filter('.' + className.visible),\n            sidebarCount   = $otherSidebars.length,\n            callbackCount  = 0\n          ;\n          callback = callback || function(){};\n          $otherSidebars\n            .sidebar('hide', function() {\n              callbackCount++;\n              if(callbackCount == sidebarCount) {\n                callback();\n              }\n            })\n          ;\n        },\n\n        toggle: function() {\n          module.verbose('Determining toggled direction');\n          if(module.is.hidden()) {\n            module.show();\n          }\n          else {\n            module.hide();\n          }\n        },\n\n        pushPage: function(callback) {\n          var\n            transition = module.get.transition(),\n            $transition = (transition === 'overlay' || module.othersActive())\n              ? $module\n              : $pusher,\n            animate,\n            dim,\n            transitionEnd\n          ;\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          if(settings.transition == 'scale down') {\n            module.scrollToTop();\n          }\n          module.set.transition(transition);\n          module.repaint();\n          animate = function() {\n            module.bind.clickaway();\n            module.add.inlineCSS();\n            module.set.animating();\n            module.set.visible();\n          };\n          dim = function() {\n            module.set.dimmed();\n          };\n          transitionEnd = function(event) {\n            if( event.target == $transition[0] ) {\n              $transition.off(transitionEvent + elementNamespace, transitionEnd);\n              module.remove.animating();\n              module.bind.scrollLock();\n              callback.call(element);\n            }\n          };\n          $transition.off(transitionEvent + elementNamespace);\n          $transition.on(transitionEvent + elementNamespace, transitionEnd);\n          requestAnimationFrame(animate);\n          if(settings.dimPage && !module.othersVisible()) {\n            requestAnimationFrame(dim);\n          }\n        },\n\n        pullPage: function(callback) {\n          var\n            transition = module.get.transition(),\n            $transition = (transition == 'overlay' || module.othersActive())\n              ? $module\n              : $pusher,\n            animate,\n            transitionEnd\n          ;\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          module.verbose('Removing context push state', module.get.direction());\n\n          module.unbind.clickaway();\n          module.unbind.scrollLock();\n\n          animate = function() {\n            module.set.transition(transition);\n            module.set.animating();\n            module.remove.visible();\n            if(settings.dimPage && !module.othersVisible()) {\n              $pusher.removeClass(className.dimmed);\n            }\n          };\n          transitionEnd = function(event) {\n            if( event.target == $transition[0] ) {\n              $transition.off(transitionEvent + elementNamespace, transitionEnd);\n              module.remove.animating();\n              module.remove.transition();\n              module.remove.inlineCSS();\n              if(transition == 'scale down' || (settings.returnScroll && module.is.mobile()) ) {\n                module.scrollBack();\n              }\n              callback.call(element);\n            }\n          };\n          $transition.off(transitionEvent + elementNamespace);\n          $transition.on(transitionEvent + elementNamespace, transitionEnd);\n          requestAnimationFrame(animate);\n        },\n\n        scrollToTop: function() {\n          module.verbose('Scrolling to top of page to avoid animation issues');\n          currentScroll = $(window).scrollTop();\n          $module.scrollTop(0);\n          window.scrollTo(0, 0);\n        },\n\n        scrollBack: function() {\n          module.verbose('Scrolling back to original page position');\n          window.scrollTo(0, currentScroll);\n        },\n\n        clear: {\n          cache: function() {\n            module.verbose('Clearing cached dimensions');\n            module.cache = {};\n          }\n        },\n\n        set: {\n\n          // ios only (scroll on html not document). This prevent auto-resize canvas/scroll in ios\n          // (This is no longer necessary in latest iOS)\n          ios: function() {\n            $html.addClass(className.ios);\n          },\n\n          // container\n          pushed: function() {\n            $context.addClass(className.pushed);\n          },\n          pushable: function() {\n            $context.addClass(className.pushable);\n          },\n\n          // pusher\n          dimmed: function() {\n            $pusher.addClass(className.dimmed);\n          },\n\n          // sidebar\n          active: function() {\n            $module.addClass(className.active);\n          },\n          animating: function() {\n            $module.addClass(className.animating);\n          },\n          transition: function(transition) {\n            transition = transition || module.get.transition();\n            $module.addClass(transition);\n          },\n          direction: function(direction) {\n            direction = direction || module.get.direction();\n            $module.addClass(className[direction]);\n          },\n          visible: function() {\n            $module.addClass(className.visible);\n          },\n          overlay: function() {\n            $module.addClass(className.overlay);\n          }\n        },\n        remove: {\n\n          inlineCSS: function() {\n            module.debug('Removing inline css styles', $style);\n            if($style && $style.length > 0) {\n              $style.remove();\n            }\n          },\n\n          // ios scroll on html not document\n          ios: function() {\n            $html.removeClass(className.ios);\n          },\n\n          // context\n          pushed: function() {\n            $context.removeClass(className.pushed);\n          },\n          pushable: function() {\n            $context.removeClass(className.pushable);\n          },\n\n          // sidebar\n          active: function() {\n            $module.removeClass(className.active);\n          },\n          animating: function() {\n            $module.removeClass(className.animating);\n          },\n          transition: function(transition) {\n            transition = transition || module.get.transition();\n            $module.removeClass(transition);\n          },\n          direction: function(direction) {\n            direction = direction || module.get.direction();\n            $module.removeClass(className[direction]);\n          },\n          visible: function() {\n            $module.removeClass(className.visible);\n          },\n          overlay: function() {\n            $module.removeClass(className.overlay);\n          }\n        },\n\n        get: {\n          direction: function() {\n            if($module.hasClass(className.top)) {\n              return className.top;\n            }\n            else if($module.hasClass(className.right)) {\n              return className.right;\n            }\n            else if($module.hasClass(className.bottom)) {\n              return className.bottom;\n            }\n            return className.left;\n          },\n          transition: function() {\n            var\n              direction = module.get.direction(),\n              transition\n            ;\n            transition = ( module.is.mobile() )\n              ? (settings.mobileTransition == 'auto')\n                ? settings.defaultTransition.mobile[direction]\n                : settings.mobileTransition\n              : (settings.transition == 'auto')\n                ? settings.defaultTransition.computer[direction]\n                : settings.transition\n            ;\n            module.verbose('Determined transition', transition);\n            return transition;\n          },\n          transitionEvent: function() {\n            var\n              element     = document.createElement('element'),\n              transitions = {\n                'transition'       :'transitionend',\n                'OTransition'      :'oTransitionEnd',\n                'MozTransition'    :'transitionend',\n                'WebkitTransition' :'webkitTransitionEnd'\n              },\n              transition\n            ;\n            for(transition in transitions){\n              if( element.style[transition] !== undefined ){\n                return transitions[transition];\n              }\n            }\n          }\n        },\n\n        is: {\n\n          ie: function() {\n            var\n              isIE11 = (!(window.ActiveXObject) && 'ActiveXObject' in window),\n              isIE   = ('ActiveXObject' in window)\n            ;\n            return (isIE11 || isIE);\n          },\n\n          ios: function() {\n            var\n              userAgent      = navigator.userAgent,\n              isIOS          = userAgent.match(regExp.ios),\n              isMobileChrome = userAgent.match(regExp.mobileChrome)\n            ;\n            if(isIOS && !isMobileChrome) {\n              module.verbose('Browser was found to be iOS', userAgent);\n              return true;\n            }\n            else {\n              return false;\n            }\n          },\n          mobile: function() {\n            var\n              userAgent    = navigator.userAgent,\n              isMobile     = userAgent.match(regExp.mobile)\n            ;\n            if(isMobile) {\n              module.verbose('Browser was found to be mobile', userAgent);\n              return true;\n            }\n            else {\n              module.verbose('Browser is not mobile, using regular transition', userAgent);\n              return false;\n            }\n          },\n          hidden: function() {\n            return !module.is.visible();\n          },\n          visible: function() {\n            return $module.hasClass(className.visible);\n          },\n          // alias\n          open: function() {\n            return module.is.visible();\n          },\n          closed: function() {\n            return module.is.hidden();\n          },\n          vertical: function() {\n            return $module.hasClass(className.top);\n          },\n          animating: function() {\n            return $context.hasClass(className.animating);\n          },\n          rtl: function () {\n            if(module.cache.rtl === undefined) {\n              module.cache.rtl = ($module.css('direction') == 'rtl');\n            }\n            return module.cache.rtl;\n          }\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      }\n    ;\n\n    if(methodInvoked) {\n      if(instance === undefined) {\n        module.initialize();\n      }\n      module.invoke(query);\n    }\n    else {\n      if(instance !== undefined) {\n        module.invoke('destroy');\n      }\n      module.initialize();\n    }\n  });\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.sidebar.settings = {\n\n  name              : 'Sidebar',\n  namespace         : 'sidebar',\n\n  silent            : false,\n  debug             : false,\n  verbose           : false,\n  performance       : true,\n\n  transition        : 'auto',\n  mobileTransition  : 'auto',\n\n  defaultTransition : {\n    computer: {\n      left   : 'uncover',\n      right  : 'uncover',\n      top    : 'overlay',\n      bottom : 'overlay'\n    },\n    mobile: {\n      left   : 'uncover',\n      right  : 'uncover',\n      top    : 'overlay',\n      bottom : 'overlay'\n    }\n  },\n\n  context           : 'body',\n  exclusive         : false,\n  closable          : true,\n  dimPage           : true,\n  scrollLock        : false,\n  returnScroll      : false,\n  delaySetup        : false,\n\n  duration          : 500,\n\n  onChange          : function(){},\n  onShow            : function(){},\n  onHide            : function(){},\n\n  onHidden          : function(){},\n  onVisible         : function(){},\n\n  className         : {\n    active    : 'active',\n    animating : 'animating',\n    dimmed    : 'dimmed',\n    ios       : 'ios',\n    pushable  : 'pushable',\n    pushed    : 'pushed',\n    right     : 'right',\n    top       : 'top',\n    left      : 'left',\n    bottom    : 'bottom',\n    visible   : 'visible'\n  },\n\n  selector: {\n    fixed   : '.fixed',\n    omitted : 'script, link, style, .ui.modal, .ui.dimmer, .ui.nag, .ui.fixed',\n    pusher  : '.pusher',\n    sidebar : '.ui.sidebar'\n  },\n\n  regExp: {\n    ios          : /(iPad|iPhone|iPod)/g,\n    mobileChrome : /(CriOS)/g,\n    mobile       : /Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/g\n  },\n\n  error   : {\n    method       : 'The method you called is not defined.',\n    pusher       : 'Had to add pusher element. For optimal performance make sure body content is inside a pusher element',\n    movedSidebar : 'Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag',\n    overlay      : 'The overlay setting is no longer supported, use animation: overlay',\n    notFound     : 'There were no elements that matched the specified selector'\n  }\n\n};\n\n\n})( jQuery, window, document );\n","/*!\n * # Semantic UI - Sticky\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.sticky = function(parameters) {\n  var\n    $allModules    = $(this),\n    moduleSelector = $allModules.selector || '',\n\n    time           = new Date().getTime(),\n    performance    = [],\n\n    query          = arguments[0],\n    methodInvoked  = (typeof query == 'string'),\n    queryArguments = [].slice.call(arguments, 1),\n    returnedValue\n  ;\n\n  $allModules\n    .each(function() {\n      var\n        settings              = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.sticky.settings, parameters)\n          : $.extend({}, $.fn.sticky.settings),\n\n        className             = settings.className,\n        namespace             = settings.namespace,\n        error                 = settings.error,\n\n        eventNamespace        = '.' + namespace,\n        moduleNamespace       = 'module-' + namespace,\n\n        $module               = $(this),\n        $window               = $(window),\n        $scroll               = $(settings.scrollContext),\n        $container,\n        $context,\n\n        selector              = $module.selector || '',\n        instance              = $module.data(moduleNamespace),\n\n        requestAnimationFrame = window.requestAnimationFrame\n          || window.mozRequestAnimationFrame\n          || window.webkitRequestAnimationFrame\n          || window.msRequestAnimationFrame\n          || function(callback) { setTimeout(callback, 0); },\n\n        element         = this,\n\n        documentObserver,\n        observer,\n        module\n      ;\n\n      module      = {\n\n        initialize: function() {\n\n          module.determineContainer();\n          module.determineContext();\n          module.verbose('Initializing sticky', settings, $container);\n\n          module.save.positions();\n          module.checkErrors();\n          module.bind.events();\n\n          if(settings.observeChanges) {\n            module.observeChanges();\n          }\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous instance');\n          module.reset();\n          if(documentObserver) {\n            documentObserver.disconnect();\n          }\n          if(observer) {\n            observer.disconnect();\n          }\n          $window\n            .off('load' + eventNamespace, module.event.load)\n            .off('resize' + eventNamespace, module.event.resize)\n          ;\n          $scroll\n            .off('scrollchange' + eventNamespace, module.event.scrollchange)\n          ;\n          $module.removeData(moduleNamespace);\n        },\n\n        observeChanges: function() {\n          if('MutationObserver' in window) {\n            documentObserver = new MutationObserver(module.event.documentChanged);\n            observer         = new MutationObserver(module.event.changed);\n            documentObserver.observe(document, {\n              childList : true,\n              subtree   : true\n            });\n            observer.observe(element, {\n              childList : true,\n              subtree   : true\n            });\n            observer.observe($context[0], {\n              childList : true,\n              subtree   : true\n            });\n            module.debug('Setting up mutation observer', observer);\n          }\n        },\n\n        determineContainer: function() {\n          if(settings.container) {\n            $container = $(settings.container);\n          }\n          else {\n            $container = $module.offsetParent();\n          }\n        },\n\n        determineContext: function() {\n          if(settings.context) {\n            $context = $(settings.context);\n          }\n          else {\n            $context = $container;\n          }\n          if($context.length === 0) {\n            module.error(error.invalidContext, settings.context, $module);\n            return;\n          }\n        },\n\n        checkErrors: function() {\n          if( module.is.hidden() ) {\n            module.error(error.visible, $module);\n          }\n          if(module.cache.element.height > module.cache.context.height) {\n            module.reset();\n            module.error(error.elementSize, $module);\n            return;\n          }\n        },\n\n        bind: {\n          events: function() {\n            $window\n              .on('load' + eventNamespace, module.event.load)\n              .on('resize' + eventNamespace, module.event.resize)\n            ;\n            // pub/sub pattern\n            $scroll\n              .off('scroll' + eventNamespace)\n              .on('scroll' + eventNamespace, module.event.scroll)\n              .on('scrollchange' + eventNamespace, module.event.scrollchange)\n            ;\n          }\n        },\n\n        event: {\n          changed: function(mutations) {\n            clearTimeout(module.timer);\n            module.timer = setTimeout(function() {\n              module.verbose('DOM tree modified, updating sticky menu', mutations);\n              module.refresh();\n            }, 100);\n          },\n          documentChanged: function(mutations) {\n            [].forEach.call(mutations, function(mutation) {\n              if(mutation.removedNodes) {\n                [].forEach.call(mutation.removedNodes, function(node) {\n                  if(node == element || $(node).find(element).length > 0) {\n                    module.debug('Element removed from DOM, tearing down events');\n                    module.destroy();\n                  }\n                });\n              }\n            });\n          },\n          load: function() {\n            module.verbose('Page contents finished loading');\n            requestAnimationFrame(module.refresh);\n          },\n          resize: function() {\n            module.verbose('Window resized');\n            requestAnimationFrame(module.refresh);\n          },\n          scroll: function() {\n            requestAnimationFrame(function() {\n              $scroll.triggerHandler('scrollchange' + eventNamespace, $scroll.scrollTop() );\n            });\n          },\n          scrollchange: function(event, scrollPosition) {\n            module.stick(scrollPosition);\n            settings.onScroll.call(element);\n          }\n        },\n\n        refresh: function(hardRefresh) {\n          module.reset();\n          if(!settings.context) {\n            module.determineContext();\n          }\n          if(hardRefresh) {\n            module.determineContainer();\n          }\n          module.save.positions();\n          module.stick();\n          settings.onReposition.call(element);\n        },\n\n        supports: {\n          sticky: function() {\n            var\n              $element = $('<div/>'),\n              element = $element[0]\n            ;\n            $element.addClass(className.supported);\n            return($element.css('position').match('sticky'));\n          }\n        },\n\n        save: {\n          lastScroll: function(scroll) {\n            module.lastScroll = scroll;\n          },\n          elementScroll: function(scroll) {\n            module.elementScroll = scroll;\n          },\n          positions: function() {\n            var\n              scrollContext = {\n                height : $scroll.height()\n              },\n              element = {\n                margin: {\n                  top    : parseInt($module.css('margin-top'), 10),\n                  bottom : parseInt($module.css('margin-bottom'), 10),\n                },\n                offset : $module.offset(),\n                width  : $module.outerWidth(),\n                height : $module.outerHeight()\n              },\n              context = {\n                offset : $context.offset(),\n                height : $context.outerHeight()\n              },\n              container = {\n                height: $container.outerHeight()\n              }\n            ;\n            if( !module.is.standardScroll() ) {\n              module.debug('Non-standard scroll. Removing scroll offset from element offset');\n\n              scrollContext.top  = $scroll.scrollTop();\n              scrollContext.left = $scroll.scrollLeft();\n\n              element.offset.top  += scrollContext.top;\n              context.offset.top  += scrollContext.top;\n              element.offset.left += scrollContext.left;\n              context.offset.left += scrollContext.left;\n            }\n            module.cache = {\n              fits          : ( (element.height + settings.offset) <= scrollContext.height),\n              sameHeight    : (element.height == context.height),\n              scrollContext : {\n                height : scrollContext.height\n              },\n              element: {\n                margin : element.margin,\n                top    : element.offset.top - element.margin.top,\n                left   : element.offset.left,\n                width  : element.width,\n                height : element.height,\n                bottom : element.offset.top + element.height\n              },\n              context: {\n                top           : context.offset.top,\n                height        : context.height,\n                bottom        : context.offset.top + context.height\n              }\n            };\n            module.set.containerSize();\n\n            module.stick();\n            module.debug('Caching element positions', module.cache);\n          }\n        },\n\n        get: {\n          direction: function(scroll) {\n            var\n              direction = 'down'\n            ;\n            scroll = scroll || $scroll.scrollTop();\n            if(module.lastScroll !== undefined) {\n              if(module.lastScroll < scroll) {\n                direction = 'down';\n              }\n              else if(module.lastScroll > scroll) {\n                direction = 'up';\n              }\n            }\n            return direction;\n          },\n          scrollChange: function(scroll) {\n            scroll = scroll || $scroll.scrollTop();\n            return (module.lastScroll)\n              ? (scroll - module.lastScroll)\n              : 0\n            ;\n          },\n          currentElementScroll: function() {\n            if(module.elementScroll) {\n              return module.elementScroll;\n            }\n            return ( module.is.top() )\n              ? Math.abs(parseInt($module.css('top'), 10))    || 0\n              : Math.abs(parseInt($module.css('bottom'), 10)) || 0\n            ;\n          },\n\n          elementScroll: function(scroll) {\n            scroll = scroll || $scroll.scrollTop();\n            var\n              element        = module.cache.element,\n              scrollContext  = module.cache.scrollContext,\n              delta          = module.get.scrollChange(scroll),\n              maxScroll      = (element.height - scrollContext.height + settings.offset),\n              elementScroll  = module.get.currentElementScroll(),\n              possibleScroll = (elementScroll + delta)\n            ;\n            if(module.cache.fits || possibleScroll < 0) {\n              elementScroll = 0;\n            }\n            else if(possibleScroll > maxScroll ) {\n              elementScroll = maxScroll;\n            }\n            else {\n              elementScroll = possibleScroll;\n            }\n            return elementScroll;\n          }\n        },\n\n        remove: {\n          lastScroll: function() {\n            delete module.lastScroll;\n          },\n          elementScroll: function(scroll) {\n            delete module.elementScroll;\n          },\n          minimumSize: function() {\n            $container\n              .css('min-height', '')\n            ;\n          },\n          offset: function() {\n            $module.css('margin-top', '');\n          }\n        },\n\n        set: {\n          offset: function() {\n            module.verbose('Setting offset on element', settings.offset);\n            $module\n              .css('margin-top', settings.offset)\n            ;\n          },\n          containerSize: function() {\n            var\n              tagName = $container.get(0).tagName\n            ;\n            if(tagName === 'HTML' || tagName == 'body') {\n              // this can trigger for too many reasons\n              //module.error(error.container, tagName, $module);\n              module.determineContainer();\n            }\n            else {\n              if( Math.abs($container.outerHeight() - module.cache.context.height) > settings.jitter) {\n                module.debug('Context has padding, specifying exact height for container', module.cache.context.height);\n                $container.css({\n                  height: module.cache.context.height\n                });\n              }\n            }\n          },\n          minimumSize: function() {\n            var\n              element   = module.cache.element\n            ;\n            $container\n              .css('min-height', element.height)\n            ;\n          },\n          scroll: function(scroll) {\n            module.debug('Setting scroll on element', scroll);\n            if(module.elementScroll == scroll) {\n              return;\n            }\n            if( module.is.top() ) {\n              $module\n                .css('bottom', '')\n                .css('top', -scroll)\n              ;\n            }\n            if( module.is.bottom() ) {\n              $module\n                .css('top', '')\n                .css('bottom', scroll)\n              ;\n            }\n          },\n          size: function() {\n            if(module.cache.element.height !== 0 && module.cache.element.width !== 0) {\n              element.style.setProperty('width',  module.cache.element.width  + 'px', 'important');\n              element.style.setProperty('height', module.cache.element.height + 'px', 'important');\n            }\n          }\n        },\n\n        is: {\n          standardScroll: function() {\n            return ($scroll[0] == window);\n          },\n          top: function() {\n            return $module.hasClass(className.top);\n          },\n          bottom: function() {\n            return $module.hasClass(className.bottom);\n          },\n          initialPosition: function() {\n            return (!module.is.fixed() && !module.is.bound());\n          },\n          hidden: function() {\n            return (!$module.is(':visible'));\n          },\n          bound: function() {\n            return $module.hasClass(className.bound);\n          },\n          fixed: function() {\n            return $module.hasClass(className.fixed);\n          }\n        },\n\n        stick: function(scroll) {\n          var\n            cachedPosition = scroll || $scroll.scrollTop(),\n            cache          = module.cache,\n            fits           = cache.fits,\n            sameHeight     = cache.sameHeight,\n            element        = cache.element,\n            scrollContext  = cache.scrollContext,\n            context        = cache.context,\n            offset         = (module.is.bottom() && settings.pushing)\n              ? settings.bottomOffset\n              : settings.offset,\n            scroll         = {\n              top    : cachedPosition + offset,\n              bottom : cachedPosition + offset + scrollContext.height\n            },\n            direction      = module.get.direction(scroll.top),\n            elementScroll  = (fits)\n              ? 0\n              : module.get.elementScroll(scroll.top),\n\n            // shorthand\n            doesntFit      = !fits,\n            elementVisible = (element.height !== 0)\n          ;\n          if(elementVisible && !sameHeight) {\n\n            if( module.is.initialPosition() ) {\n              if(scroll.top >= context.bottom) {\n                module.debug('Initial element position is bottom of container');\n                module.bindBottom();\n              }\n              else if(scroll.top > element.top) {\n                if( (element.height + scroll.top - elementScroll) >= context.bottom ) {\n                  module.debug('Initial element position is bottom of container');\n                  module.bindBottom();\n                }\n                else {\n                  module.debug('Initial element position is fixed');\n                  module.fixTop();\n                }\n              }\n\n            }\n            else if( module.is.fixed() ) {\n\n              // currently fixed top\n              if( module.is.top() ) {\n                if( scroll.top <= element.top ) {\n                  module.debug('Fixed element reached top of container');\n                  module.setInitialPosition();\n                }\n                else if( (element.height + scroll.top - elementScroll) >= context.bottom ) {\n                  module.debug('Fixed element reached bottom of container');\n                  module.bindBottom();\n                }\n                // scroll element if larger than screen\n                else if(doesntFit) {\n                  module.set.scroll(elementScroll);\n                  module.save.lastScroll(scroll.top);\n                  module.save.elementScroll(elementScroll);\n                }\n              }\n\n              // currently fixed bottom\n              else if(module.is.bottom() ) {\n\n                // top edge\n                if( (scroll.bottom - element.height) <= element.top) {\n                  module.debug('Bottom fixed rail has reached top of container');\n                  module.setInitialPosition();\n                }\n                // bottom edge\n                else if(scroll.bottom >= context.bottom) {\n                  module.debug('Bottom fixed rail has reached bottom of container');\n                  module.bindBottom();\n                }\n                // scroll element if larger than screen\n                else if(doesntFit) {\n                  module.set.scroll(elementScroll);\n                  module.save.lastScroll(scroll.top);\n                  module.save.elementScroll(elementScroll);\n                }\n\n              }\n            }\n            else if( module.is.bottom() ) {\n              if( scroll.top <= element.top ) {\n                module.debug('Jumped from bottom fixed to top fixed, most likely used home/end button');\n                module.setInitialPosition();\n              }\n              else {\n                if(settings.pushing) {\n                  if(module.is.bound() && scroll.bottom <= context.bottom ) {\n                    module.debug('Fixing bottom attached element to bottom of browser.');\n                    module.fixBottom();\n                  }\n                }\n                else {\n                  if(module.is.bound() && (scroll.top <= context.bottom - element.height) ) {\n                    module.debug('Fixing bottom attached element to top of browser.');\n                    module.fixTop();\n                  }\n                }\n              }\n            }\n          }\n        },\n\n        bindTop: function() {\n          module.debug('Binding element to top of parent container');\n          module.remove.offset();\n          $module\n            .css({\n              left         : '',\n              top          : '',\n              marginBottom : ''\n            })\n            .removeClass(className.fixed)\n            .removeClass(className.bottom)\n            .addClass(className.bound)\n            .addClass(className.top)\n          ;\n          settings.onTop.call(element);\n          settings.onUnstick.call(element);\n        },\n        bindBottom: function() {\n          module.debug('Binding element to bottom of parent container');\n          module.remove.offset();\n          $module\n            .css({\n              left         : '',\n              top          : ''\n            })\n            .removeClass(className.fixed)\n            .removeClass(className.top)\n            .addClass(className.bound)\n            .addClass(className.bottom)\n          ;\n          settings.onBottom.call(element);\n          settings.onUnstick.call(element);\n        },\n\n        setInitialPosition: function() {\n          module.debug('Returning to initial position');\n          module.unfix();\n          module.unbind();\n        },\n\n\n        fixTop: function() {\n          module.debug('Fixing element to top of page');\n          if(settings.setSize) {\n            module.set.size();\n          }\n          module.set.minimumSize();\n          module.set.offset();\n          $module\n            .css({\n              left         : module.cache.element.left,\n              bottom       : '',\n              marginBottom : ''\n            })\n            .removeClass(className.bound)\n            .removeClass(className.bottom)\n            .addClass(className.fixed)\n            .addClass(className.top)\n          ;\n          settings.onStick.call(element);\n        },\n\n        fixBottom: function() {\n          module.debug('Sticking element to bottom of page');\n          if(settings.setSize) {\n            module.set.size();\n          }\n          module.set.minimumSize();\n          module.set.offset();\n          $module\n            .css({\n              left         : module.cache.element.left,\n              bottom       : '',\n              marginBottom : ''\n            })\n            .removeClass(className.bound)\n            .removeClass(className.top)\n            .addClass(className.fixed)\n            .addClass(className.bottom)\n          ;\n          settings.onStick.call(element);\n        },\n\n        unbind: function() {\n          if( module.is.bound() ) {\n            module.debug('Removing container bound position on element');\n            module.remove.offset();\n            $module\n              .removeClass(className.bound)\n              .removeClass(className.top)\n              .removeClass(className.bottom)\n            ;\n          }\n        },\n\n        unfix: function() {\n          if( module.is.fixed() ) {\n            module.debug('Removing fixed position on element');\n            module.remove.minimumSize();\n            module.remove.offset();\n            $module\n              .removeClass(className.fixed)\n              .removeClass(className.top)\n              .removeClass(className.bottom)\n            ;\n            settings.onUnstick.call(element);\n          }\n        },\n\n        reset: function() {\n          module.debug('Resetting elements position');\n          module.unbind();\n          module.unfix();\n          module.resetCSS();\n          module.remove.offset();\n          module.remove.lastScroll();\n        },\n\n        resetCSS: function() {\n          $module\n            .css({\n              width  : '',\n              height : ''\n            })\n          ;\n          $container\n            .css({\n              height: ''\n            })\n          ;\n        },\n\n        setting: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            settings[name] = value;\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 0);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.sticky.settings = {\n\n  name           : 'Sticky',\n  namespace      : 'sticky',\n\n  silent         : false,\n  debug          : false,\n  verbose        : true,\n  performance    : true,\n\n  // whether to stick in the opposite direction on scroll up\n  pushing        : false,\n\n  context        : false,\n  container      : false,\n\n  // Context to watch scroll events\n  scrollContext  : window,\n\n  // Offset to adjust scroll\n  offset         : 0,\n\n  // Offset to adjust scroll when attached to bottom of screen\n  bottomOffset   : 0,\n\n  // will only set container height if difference between context and container is larger than this number\n  jitter         : 5,\n\n  // set width of sticky element when it is fixed to page (used to make sure 100% width is maintained if no fixed size set)\n  setSize        : true,\n\n  // Whether to automatically observe changes with Mutation Observers\n  observeChanges : false,\n\n  // Called when position is recalculated\n  onReposition   : function(){},\n\n  // Called on each scroll\n  onScroll       : function(){},\n\n  // Called when element is stuck to viewport\n  onStick        : function(){},\n\n  // Called when element is unstuck from viewport\n  onUnstick      : function(){},\n\n  // Called when element reaches top of context\n  onTop          : function(){},\n\n  // Called when element reaches bottom of context\n  onBottom       : function(){},\n\n  error         : {\n    container      : 'Sticky element must be inside a relative container',\n    visible        : 'Element is hidden, you must call refresh after element becomes visible. Use silent setting to surpress this warning in production.',\n    method         : 'The method you called is not defined.',\n    invalidContext : 'Context specified does not exist',\n    elementSize    : 'Sticky element is larger than its container, cannot create sticky.'\n  },\n\n  className : {\n    bound     : 'bound',\n    fixed     : 'fixed',\n    supported : 'native',\n    top       : 'top',\n    bottom    : 'bottom'\n  }\n\n};\n\n})( jQuery, window, document );\n","/*!\n * # Semantic UI - Tab\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.tab = function(parameters) {\n\n  var\n    // use window context if none specified\n    $allModules     = $.isFunction(this)\n        ? $(window)\n        : $(this),\n\n    moduleSelector  = $allModules.selector || '',\n    time            = new Date().getTime(),\n    performance     = [],\n\n    query           = arguments[0],\n    methodInvoked   = (typeof query == 'string'),\n    queryArguments  = [].slice.call(arguments, 1),\n\n    initializedHistory = false,\n    returnedValue\n  ;\n\n  $allModules\n    .each(function() {\n      var\n\n        settings        = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.tab.settings, parameters)\n          : $.extend({}, $.fn.tab.settings),\n\n        className       = settings.className,\n        metadata        = settings.metadata,\n        selector        = settings.selector,\n        error           = settings.error,\n\n        eventNamespace  = '.' + settings.namespace,\n        moduleNamespace = 'module-' + settings.namespace,\n\n        $module         = $(this),\n        $context,\n        $tabs,\n\n        cache           = {},\n        firstLoad       = true,\n        recursionDepth  = 0,\n        element         = this,\n        instance        = $module.data(moduleNamespace),\n\n        activeTabPath,\n        parameterArray,\n        module,\n\n        historyEvent\n\n      ;\n\n      module = {\n\n        initialize: function() {\n          module.debug('Initializing tab menu item', $module);\n          module.fix.callbacks();\n          module.determineTabs();\n\n          module.debug('Determining tabs', settings.context, $tabs);\n          // set up automatic routing\n          if(settings.auto) {\n            module.set.auto();\n          }\n          module.bind.events();\n\n          if(settings.history && !initializedHistory) {\n            module.initializeHistory();\n            initializedHistory = true;\n          }\n\n          module.instantiate();\n        },\n\n        instantiate: function () {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n\n        destroy: function() {\n          module.debug('Destroying tabs', $module);\n          $module\n            .removeData(moduleNamespace)\n            .off(eventNamespace)\n          ;\n        },\n\n        bind: {\n          events: function() {\n            // if using $.tab don't add events\n            if( !$.isWindow( element ) ) {\n              module.debug('Attaching tab activation events to element', $module);\n              $module\n                .on('click' + eventNamespace, module.event.click)\n              ;\n            }\n          }\n        },\n\n        determineTabs: function() {\n          var\n            $reference\n          ;\n\n          // determine tab context\n          if(settings.context === 'parent') {\n            if($module.closest(selector.ui).length > 0) {\n              $reference = $module.closest(selector.ui);\n              module.verbose('Using closest UI element as parent', $reference);\n            }\n            else {\n              $reference = $module;\n            }\n            $context = $reference.parent();\n            module.verbose('Determined parent element for creating context', $context);\n          }\n          else if(settings.context) {\n            $context = $(settings.context);\n            module.verbose('Using selector for tab context', settings.context, $context);\n          }\n          else {\n            $context = $('body');\n          }\n          // find tabs\n          if(settings.childrenOnly) {\n            $tabs = $context.children(selector.tabs);\n            module.debug('Searching tab context children for tabs', $context, $tabs);\n          }\n          else {\n            $tabs = $context.find(selector.tabs);\n            module.debug('Searching tab context for tabs', $context, $tabs);\n          }\n        },\n\n        fix: {\n          callbacks: function() {\n            if( $.isPlainObject(parameters) && (parameters.onTabLoad || parameters.onTabInit) ) {\n              if(parameters.onTabLoad) {\n                parameters.onLoad = parameters.onTabLoad;\n                delete parameters.onTabLoad;\n                module.error(error.legacyLoad, parameters.onLoad);\n              }\n              if(parameters.onTabInit) {\n                parameters.onFirstLoad = parameters.onTabInit;\n                delete parameters.onTabInit;\n                module.error(error.legacyInit, parameters.onFirstLoad);\n              }\n              settings = $.extend(true, {}, $.fn.tab.settings, parameters);\n            }\n          }\n        },\n\n        initializeHistory: function() {\n          module.debug('Initializing page state');\n          if( $.address === undefined ) {\n            module.error(error.state);\n            return false;\n          }\n          else {\n            if(settings.historyType == 'state') {\n              module.debug('Using HTML5 to manage state');\n              if(settings.path !== false) {\n                $.address\n                  .history(true)\n                  .state(settings.path)\n                ;\n              }\n              else {\n                module.error(error.path);\n                return false;\n              }\n            }\n            $.address\n              .bind('change', module.event.history.change)\n            ;\n          }\n        },\n\n        event: {\n          click: function(event) {\n            var\n              tabPath = $(this).data(metadata.tab)\n            ;\n            if(tabPath !== undefined) {\n              if(settings.history) {\n                module.verbose('Updating page state', event);\n                $.address.value(tabPath);\n              }\n              else {\n                module.verbose('Changing tab', event);\n                module.changeTab(tabPath);\n              }\n              event.preventDefault();\n            }\n            else {\n              module.debug('No tab specified');\n            }\n          },\n          history: {\n            change: function(event) {\n              var\n                tabPath   = event.pathNames.join('/') || module.get.initialPath(),\n                pageTitle = settings.templates.determineTitle(tabPath) || false\n              ;\n              module.performance.display();\n              module.debug('History change event', tabPath, event);\n              historyEvent = event;\n              if(tabPath !== undefined) {\n                module.changeTab(tabPath);\n              }\n              if(pageTitle) {\n                $.address.title(pageTitle);\n              }\n            }\n          }\n        },\n\n        refresh: function() {\n          if(activeTabPath) {\n            module.debug('Refreshing tab', activeTabPath);\n            module.changeTab(activeTabPath);\n          }\n        },\n\n        cache: {\n\n          read: function(cacheKey) {\n            return (cacheKey !== undefined)\n              ? cache[cacheKey]\n              : false\n            ;\n          },\n          add: function(cacheKey, content) {\n            cacheKey = cacheKey || activeTabPath;\n            module.debug('Adding cached content for', cacheKey);\n            cache[cacheKey] = content;\n          },\n          remove: function(cacheKey) {\n            cacheKey = cacheKey || activeTabPath;\n            module.debug('Removing cached content for', cacheKey);\n            delete cache[cacheKey];\n          }\n        },\n\n        set: {\n          auto: function() {\n            var\n              url = (typeof settings.path == 'string')\n                ? settings.path.replace(/\\/$/, '') + '/{$tab}'\n                : '/{$tab}'\n            ;\n            module.verbose('Setting up automatic tab retrieval from server', url);\n            if($.isPlainObject(settings.apiSettings)) {\n              settings.apiSettings.url = url;\n            }\n            else {\n              settings.apiSettings = {\n                url: url\n              };\n            }\n          },\n          loading: function(tabPath) {\n            var\n              $tab      = module.get.tabElement(tabPath),\n              isLoading = $tab.hasClass(className.loading)\n            ;\n            if(!isLoading) {\n              module.verbose('Setting loading state for', $tab);\n              $tab\n                .addClass(className.loading)\n                .siblings($tabs)\n                  .removeClass(className.active + ' ' + className.loading)\n              ;\n              if($tab.length > 0) {\n                settings.onRequest.call($tab[0], tabPath);\n              }\n            }\n          },\n          state: function(state) {\n            $.address.value(state);\n          }\n        },\n\n        changeTab: function(tabPath) {\n          var\n            pushStateAvailable = (window.history && window.history.pushState),\n            shouldIgnoreLoad   = (pushStateAvailable && settings.ignoreFirstLoad && firstLoad),\n            remoteContent      = (settings.auto || $.isPlainObject(settings.apiSettings) ),\n            // only add default path if not remote content\n            pathArray = (remoteContent && !shouldIgnoreLoad)\n              ? module.utilities.pathToArray(tabPath)\n              : module.get.defaultPathArray(tabPath)\n          ;\n          tabPath = module.utilities.arrayToPath(pathArray);\n          $.each(pathArray, function(index, tab) {\n            var\n              currentPathArray   = pathArray.slice(0, index + 1),\n              currentPath        = module.utilities.arrayToPath(currentPathArray),\n\n              isTab              = module.is.tab(currentPath),\n              isLastIndex        = (index + 1 == pathArray.length),\n\n              $tab               = module.get.tabElement(currentPath),\n              $anchor,\n              nextPathArray,\n              nextPath,\n              isLastTab\n            ;\n            module.verbose('Looking for tab', tab);\n            if(isTab) {\n              module.verbose('Tab was found', tab);\n              // scope up\n              activeTabPath  = currentPath;\n              parameterArray = module.utilities.filterArray(pathArray, currentPathArray);\n\n              if(isLastIndex) {\n                isLastTab = true;\n              }\n              else {\n                nextPathArray = pathArray.slice(0, index + 2);\n                nextPath      = module.utilities.arrayToPath(nextPathArray);\n                isLastTab     = ( !module.is.tab(nextPath) );\n                if(isLastTab) {\n                  module.verbose('Tab parameters found', nextPathArray);\n                }\n              }\n              if(isLastTab && remoteContent) {\n                if(!shouldIgnoreLoad) {\n                  module.activate.navigation(currentPath);\n                  module.fetch.content(currentPath, tabPath);\n                }\n                else {\n                  module.debug('Ignoring remote content on first tab load', currentPath);\n                  firstLoad = false;\n                  module.cache.add(tabPath, $tab.html());\n                  module.activate.all(currentPath);\n                  settings.onFirstLoad.call($tab[0], currentPath, parameterArray, historyEvent);\n                  settings.onLoad.call($tab[0], currentPath, parameterArray, historyEvent);\n                }\n                return false;\n              }\n              else {\n                module.debug('Opened local tab', currentPath);\n                module.activate.all(currentPath);\n                if( !module.cache.read(currentPath) ) {\n                  module.cache.add(currentPath, true);\n                  module.debug('First time tab loaded calling tab init');\n                  settings.onFirstLoad.call($tab[0], currentPath, parameterArray, historyEvent);\n                }\n                settings.onLoad.call($tab[0], currentPath, parameterArray, historyEvent);\n              }\n\n            }\n            else if(tabPath.search('/') == -1 && tabPath !== '') {\n              // look for in page anchor\n              $anchor     = $('#' + tabPath + ', a[name=\"' + tabPath + '\"]');\n              currentPath = $anchor.closest('[data-tab]').data(metadata.tab);\n              $tab        = module.get.tabElement(currentPath);\n              // if anchor exists use parent tab\n              if($anchor && $anchor.length > 0 && currentPath) {\n                module.debug('Anchor link used, opening parent tab', $tab, $anchor);\n                if( !$tab.hasClass(className.active) ) {\n                  setTimeout(function() {\n                    module.scrollTo($anchor);\n                  }, 0);\n                }\n                module.activate.all(currentPath);\n                if( !module.cache.read(currentPath) ) {\n                  module.cache.add(currentPath, true);\n                  module.debug('First time tab loaded calling tab init');\n                  settings.onFirstLoad.call($tab[0], currentPath, parameterArray, historyEvent);\n                }\n                settings.onLoad.call($tab[0], currentPath, parameterArray, historyEvent);\n                return false;\n              }\n            }\n            else {\n              module.error(error.missingTab, $module, $context, currentPath);\n              return false;\n            }\n          });\n        },\n\n        scrollTo: function($element) {\n          var\n            scrollOffset = ($element && $element.length > 0)\n              ? $element.offset().top\n              : false\n          ;\n          if(scrollOffset !== false) {\n            module.debug('Forcing scroll to an in-page link in a hidden tab', scrollOffset, $element);\n            $(document).scrollTop(scrollOffset);\n          }\n        },\n\n        update: {\n          content: function(tabPath, html, evaluateScripts) {\n            var\n              $tab = module.get.tabElement(tabPath),\n              tab  = $tab[0]\n            ;\n            evaluateScripts = (evaluateScripts !== undefined)\n              ? evaluateScripts\n              : settings.evaluateScripts\n            ;\n            if(typeof settings.cacheType == 'string' && settings.cacheType.toLowerCase() == 'dom' && typeof html !== 'string') {\n              $tab\n                .empty()\n                .append($(html).clone(true))\n              ;\n            }\n            else {\n              if(evaluateScripts) {\n                module.debug('Updating HTML and evaluating inline scripts', tabPath, html);\n                $tab.html(html);\n              }\n              else {\n                module.debug('Updating HTML', tabPath, html);\n                tab.innerHTML = html;\n              }\n            }\n          }\n        },\n\n        fetch: {\n\n          content: function(tabPath, fullTabPath) {\n            var\n              $tab        = module.get.tabElement(tabPath),\n              apiSettings = {\n                dataType         : 'html',\n                encodeParameters : false,\n                on               : 'now',\n                cache            : settings.alwaysRefresh,\n                headers          : {\n                  'X-Remote': true\n                },\n                onSuccess : function(response) {\n                  if(settings.cacheType == 'response') {\n                    module.cache.add(fullTabPath, response);\n                  }\n                  module.update.content(tabPath, response);\n                  if(tabPath == activeTabPath) {\n                    module.debug('Content loaded', tabPath);\n                    module.activate.tab(tabPath);\n                  }\n                  else {\n                    module.debug('Content loaded in background', tabPath);\n                  }\n                  settings.onFirstLoad.call($tab[0], tabPath, parameterArray, historyEvent);\n                  settings.onLoad.call($tab[0], tabPath, parameterArray, historyEvent);\n\n                  if(settings.loadOnce) {\n                    module.cache.add(fullTabPath, true);\n                  }\n                  else if(typeof settings.cacheType == 'string' && settings.cacheType.toLowerCase() == 'dom' && $tab.children().length > 0) {\n                    setTimeout(function() {\n                      var\n                        $clone = $tab.children().clone(true)\n                      ;\n                      $clone = $clone.not('script');\n                      module.cache.add(fullTabPath, $clone);\n                    }, 0);\n                  }\n                  else {\n                    module.cache.add(fullTabPath, $tab.html());\n                  }\n                },\n                urlData: {\n                  tab: fullTabPath\n                }\n              },\n              request         = $tab.api('get request') || false,\n              existingRequest = ( request && request.state() === 'pending' ),\n              requestSettings,\n              cachedContent\n            ;\n\n            fullTabPath   = fullTabPath || tabPath;\n            cachedContent = module.cache.read(fullTabPath);\n\n\n            if(settings.cache && cachedContent) {\n              module.activate.tab(tabPath);\n              module.debug('Adding cached content', fullTabPath);\n              if(!settings.loadOnce) {\n                if(settings.evaluateScripts == 'once') {\n                  module.update.content(tabPath, cachedContent, false);\n                }\n                else {\n                  module.update.content(tabPath, cachedContent);\n                }\n              }\n              settings.onLoad.call($tab[0], tabPath, parameterArray, historyEvent);\n            }\n            else if(existingRequest) {\n              module.set.loading(tabPath);\n              module.debug('Content is already loading', fullTabPath);\n            }\n            else if($.api !== undefined) {\n              requestSettings = $.extend(true, {}, settings.apiSettings, apiSettings);\n              module.debug('Retrieving remote content', fullTabPath, requestSettings);\n              module.set.loading(tabPath);\n              $tab.api(requestSettings);\n            }\n            else {\n              module.error(error.api);\n            }\n          }\n        },\n\n        activate: {\n          all: function(tabPath) {\n            module.activate.tab(tabPath);\n            module.activate.navigation(tabPath);\n          },\n          tab: function(tabPath) {\n            var\n              $tab          = module.get.tabElement(tabPath),\n              $deactiveTabs = (settings.deactivate == 'siblings')\n                ? $tab.siblings($tabs)\n                : $tabs.not($tab),\n              isActive      = $tab.hasClass(className.active)\n            ;\n            module.verbose('Showing tab content for', $tab);\n            if(!isActive) {\n              $tab\n                .addClass(className.active)\n              ;\n              $deactiveTabs\n                .removeClass(className.active + ' ' + className.loading)\n              ;\n              if($tab.length > 0) {\n                settings.onVisible.call($tab[0], tabPath);\n              }\n            }\n          },\n          navigation: function(tabPath) {\n            var\n              $navigation         = module.get.navElement(tabPath),\n              $deactiveNavigation = (settings.deactivate == 'siblings')\n                ? $navigation.siblings($allModules)\n                : $allModules.not($navigation),\n              isActive    = $navigation.hasClass(className.active)\n            ;\n            module.verbose('Activating tab navigation for', $navigation, tabPath);\n            if(!isActive) {\n              $navigation\n                .addClass(className.active)\n              ;\n              $deactiveNavigation\n                .removeClass(className.active + ' ' + className.loading)\n              ;\n            }\n          }\n        },\n\n        deactivate: {\n          all: function() {\n            module.deactivate.navigation();\n            module.deactivate.tabs();\n          },\n          navigation: function() {\n            $allModules\n              .removeClass(className.active)\n            ;\n          },\n          tabs: function() {\n            $tabs\n              .removeClass(className.active + ' ' + className.loading)\n            ;\n          }\n        },\n\n        is: {\n          tab: function(tabName) {\n            return (tabName !== undefined)\n              ? ( module.get.tabElement(tabName).length > 0 )\n              : false\n            ;\n          }\n        },\n\n        get: {\n          initialPath: function() {\n            return $allModules.eq(0).data(metadata.tab) || $tabs.eq(0).data(metadata.tab);\n          },\n          path: function() {\n            return $.address.value();\n          },\n          // adds default tabs to tab path\n          defaultPathArray: function(tabPath) {\n            return module.utilities.pathToArray( module.get.defaultPath(tabPath) );\n          },\n          defaultPath: function(tabPath) {\n            var\n              $defaultNav = $allModules.filter('[data-' + metadata.tab + '^=\"' + tabPath + '/\"]').eq(0),\n              defaultTab  = $defaultNav.data(metadata.tab) || false\n            ;\n            if( defaultTab ) {\n              module.debug('Found default tab', defaultTab);\n              if(recursionDepth < settings.maxDepth) {\n                recursionDepth++;\n                return module.get.defaultPath(defaultTab);\n              }\n              module.error(error.recursion);\n            }\n            else {\n              module.debug('No default tabs found for', tabPath, $tabs);\n            }\n            recursionDepth = 0;\n            return tabPath;\n          },\n          navElement: function(tabPath) {\n            tabPath = tabPath || activeTabPath;\n            return $allModules.filter('[data-' + metadata.tab + '=\"' + tabPath + '\"]');\n          },\n          tabElement: function(tabPath) {\n            var\n              $fullPathTab,\n              $simplePathTab,\n              tabPathArray,\n              lastTab\n            ;\n            tabPath        = tabPath || activeTabPath;\n            tabPathArray   = module.utilities.pathToArray(tabPath);\n            lastTab        = module.utilities.last(tabPathArray);\n            $fullPathTab   = $tabs.filter('[data-' + metadata.tab + '=\"' + tabPath + '\"]');\n            $simplePathTab = $tabs.filter('[data-' + metadata.tab + '=\"' + lastTab + '\"]');\n            return ($fullPathTab.length > 0)\n              ? $fullPathTab\n              : $simplePathTab\n            ;\n          },\n          tab: function() {\n            return activeTabPath;\n          }\n        },\n\n        utilities: {\n          filterArray: function(keepArray, removeArray) {\n            return $.grep(keepArray, function(keepValue) {\n              return ( $.inArray(keepValue, removeArray) == -1);\n            });\n          },\n          last: function(array) {\n            return $.isArray(array)\n              ? array[ array.length - 1]\n              : false\n            ;\n          },\n          pathToArray: function(pathName) {\n            if(pathName === undefined) {\n              pathName = activeTabPath;\n            }\n            return typeof pathName == 'string'\n              ? pathName.split('/')\n              : [pathName]\n            ;\n          },\n          arrayToPath: function(pathArray) {\n            return $.isArray(pathArray)\n              ? pathArray.join('/')\n              : false\n            ;\n          }\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n\n};\n\n// shortcut for tabbed content with no defined navigation\n$.tab = function() {\n  $(window).tab.apply(this, arguments);\n};\n\n$.fn.tab.settings = {\n\n  name            : 'Tab',\n  namespace       : 'tab',\n\n  silent          : false,\n  debug           : false,\n  verbose         : false,\n  performance     : true,\n\n  auto            : false,      // uses pjax style endpoints fetching content from same url with remote-content headers\n  history         : false,      // use browser history\n  historyType     : 'hash',     // #/ or html5 state\n  path            : false,      // base path of url\n\n  context         : false,      // specify a context that tabs must appear inside\n  childrenOnly    : false,      // use only tabs that are children of context\n  maxDepth        : 25,         // max depth a tab can be nested\n\n  deactivate      : 'siblings', // whether tabs should deactivate sibling menu elements or all elements initialized together\n\n  alwaysRefresh   : false,      // load tab content new every tab click\n  cache           : true,       // cache the content requests to pull locally\n  loadOnce        : false,      // Whether tab data should only be loaded once when using remote content\n  cacheType       : 'response', // Whether to cache exact response, or to html cache contents after scripts execute\n  ignoreFirstLoad : false,      // don't load remote content on first load\n\n  apiSettings     : false,      // settings for api call\n  evaluateScripts : 'once',     // whether inline scripts should be parsed (true/false/once). Once will not re-evaluate on cached content\n\n  onFirstLoad : function(tabPath, parameterArray, historyEvent) {}, // called first time loaded\n  onLoad      : function(tabPath, parameterArray, historyEvent) {}, // called on every load\n  onVisible   : function(tabPath, parameterArray, historyEvent) {}, // called every time tab visible\n  onRequest   : function(tabPath, parameterArray, historyEvent) {}, // called ever time a tab beings loading remote content\n\n  templates : {\n    determineTitle: function(tabArray) {} // returns page title for path\n  },\n\n  error: {\n    api        : 'You attempted to load content without API module',\n    method     : 'The method you called is not defined',\n    missingTab : 'Activated tab cannot be found. Tabs are case-sensitive.',\n    noContent  : 'The tab you specified is missing a content url.',\n    path       : 'History enabled, but no path was specified',\n    recursion  : 'Max recursive depth reached',\n    legacyInit : 'onTabInit has been renamed to onFirstLoad in 2.0, please adjust your code.',\n    legacyLoad : 'onTabLoad has been renamed to onLoad in 2.0. Please adjust your code',\n    state      : 'History requires Asual\\'s Address library <https://github.com/asual/jquery-address>'\n  },\n\n  metadata : {\n    tab    : 'tab',\n    loaded : 'loaded',\n    promise: 'promise'\n  },\n\n  className   : {\n    loading : 'loading',\n    active  : 'active'\n  },\n\n  selector    : {\n    tabs : '.ui.tab',\n    ui   : '.ui'\n  }\n\n};\n\n})( jQuery, window, document );\n","/*!\n * # Semantic UI - Transition\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.transition = function() {\n  var\n    $allModules     = $(this),\n    moduleSelector  = $allModules.selector || '',\n\n    time            = new Date().getTime(),\n    performance     = [],\n\n    moduleArguments = arguments,\n    query           = moduleArguments[0],\n    queryArguments  = [].slice.call(arguments, 1),\n    methodInvoked   = (typeof query === 'string'),\n\n    requestAnimationFrame = window.requestAnimationFrame\n      || window.mozRequestAnimationFrame\n      || window.webkitRequestAnimationFrame\n      || window.msRequestAnimationFrame\n      || function(callback) { setTimeout(callback, 0); },\n\n    returnedValue\n  ;\n  $allModules\n    .each(function(index) {\n      var\n        $module  = $(this),\n        element  = this,\n\n        // set at run time\n        settings,\n        instance,\n\n        error,\n        className,\n        metadata,\n        animationEnd,\n        animationName,\n\n        namespace,\n        moduleNamespace,\n        eventNamespace,\n        module\n      ;\n\n      module = {\n\n        initialize: function() {\n\n          // get full settings\n          settings        = module.get.settings.apply(element, moduleArguments);\n\n          // shorthand\n          className       = settings.className;\n          error           = settings.error;\n          metadata        = settings.metadata;\n\n          // define namespace\n          eventNamespace  = '.' + settings.namespace;\n          moduleNamespace = 'module-' + settings.namespace;\n          instance        = $module.data(moduleNamespace) || module;\n\n          // get vendor specific events\n          animationEnd    = module.get.animationEndEvent();\n\n          if(methodInvoked) {\n            methodInvoked = module.invoke(query);\n          }\n\n          // method not invoked, lets run an animation\n          if(methodInvoked === false) {\n            module.verbose('Converted arguments into settings object', settings);\n            if(settings.interval) {\n              module.delay(settings.animate);\n            }\n            else  {\n              module.animate();\n            }\n            module.instantiate();\n          }\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, instance)\n          ;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous module for', element);\n          $module\n            .removeData(moduleNamespace)\n          ;\n        },\n\n        refresh: function() {\n          module.verbose('Refreshing display type on next animation');\n          delete module.displayType;\n        },\n\n        forceRepaint: function() {\n          module.verbose('Forcing element repaint');\n          var\n            $parentElement = $module.parent(),\n            $nextElement = $module.next()\n          ;\n          if($nextElement.length === 0) {\n            $module.detach().appendTo($parentElement);\n          }\n          else {\n            $module.detach().insertBefore($nextElement);\n          }\n        },\n\n        repaint: function() {\n          module.verbose('Repainting element');\n          var\n            fakeAssignment = element.offsetWidth\n          ;\n        },\n\n        delay: function(interval) {\n          var\n            direction = module.get.animationDirection(),\n            shouldReverse,\n            delay\n          ;\n          if(!direction) {\n            direction = module.can.transition()\n              ? module.get.direction()\n              : 'static'\n            ;\n          }\n          interval = (interval !== undefined)\n            ? interval\n            : settings.interval\n          ;\n          shouldReverse = (settings.reverse == 'auto' && direction == className.outward);\n          delay = (shouldReverse || settings.reverse == true)\n            ? ($allModules.length - index) * settings.interval\n            : index * settings.interval\n          ;\n          module.debug('Delaying animation by', delay);\n          setTimeout(module.animate, delay);\n        },\n\n        animate: function(overrideSettings) {\n          settings = overrideSettings || settings;\n          if(!module.is.supported()) {\n            module.error(error.support);\n            return false;\n          }\n          module.debug('Preparing animation', settings.animation);\n          if(module.is.animating()) {\n            if(settings.queue) {\n              if(!settings.allowRepeats && module.has.direction() && module.is.occurring() && module.queuing !== true) {\n                module.debug('Animation is currently occurring, preventing queueing same animation', settings.animation);\n              }\n              else {\n                module.queue(settings.animation);\n              }\n              return false;\n            }\n            else if(!settings.allowRepeats && module.is.occurring()) {\n              module.debug('Animation is already occurring, will not execute repeated animation', settings.animation);\n              return false;\n            }\n            else {\n              module.debug('New animation started, completing previous early', settings.animation);\n              instance.complete();\n            }\n          }\n          if( module.can.animate() ) {\n            module.set.animating(settings.animation);\n          }\n          else {\n            module.error(error.noAnimation, settings.animation, element);\n          }\n        },\n\n        reset: function() {\n          module.debug('Resetting animation to beginning conditions');\n          module.remove.animationCallbacks();\n          module.restore.conditions();\n          module.remove.animating();\n        },\n\n        queue: function(animation) {\n          module.debug('Queueing animation of', animation);\n          module.queuing = true;\n          $module\n            .one(animationEnd + '.queue' + eventNamespace, function() {\n              module.queuing = false;\n              module.repaint();\n              module.animate.apply(this, settings);\n            })\n          ;\n        },\n\n        complete: function (event) {\n          module.debug('Animation complete', settings.animation);\n          module.remove.completeCallback();\n          module.remove.failSafe();\n          if(!module.is.looping()) {\n            if( module.is.outward() ) {\n              module.verbose('Animation is outward, hiding element');\n              module.restore.conditions();\n              module.hide();\n            }\n            else if( module.is.inward() ) {\n              module.verbose('Animation is outward, showing element');\n              module.restore.conditions();\n              module.show();\n            }\n            else {\n              module.verbose('Static animation completed');\n              module.restore.conditions();\n              settings.onComplete.call(element);\n            }\n          }\n        },\n\n        force: {\n          visible: function() {\n            var\n              style          = $module.attr('style'),\n              userStyle      = module.get.userStyle(),\n              displayType    = module.get.displayType(),\n              overrideStyle  = userStyle + 'display: ' + displayType + ' !important;',\n              currentDisplay = $module.css('display'),\n              emptyStyle     = (style === undefined || style === '')\n            ;\n            if(currentDisplay !== displayType) {\n              module.verbose('Overriding default display to show element', displayType);\n              $module\n                .attr('style', overrideStyle)\n              ;\n            }\n            else if(emptyStyle) {\n              $module.removeAttr('style');\n            }\n          },\n          hidden: function() {\n            var\n              style          = $module.attr('style'),\n              currentDisplay = $module.css('display'),\n              emptyStyle     = (style === undefined || style === '')\n            ;\n            if(currentDisplay !== 'none' && !module.is.hidden()) {\n              module.verbose('Overriding default display to hide element');\n              $module\n                .css('display', 'none')\n              ;\n            }\n            else if(emptyStyle) {\n              $module\n                .removeAttr('style')\n              ;\n            }\n          }\n        },\n\n        has: {\n          direction: function(animation) {\n            var\n              hasDirection = false\n            ;\n            animation = animation || settings.animation;\n            if(typeof animation === 'string') {\n              animation = animation.split(' ');\n              $.each(animation, function(index, word){\n                if(word === className.inward || word === className.outward) {\n                  hasDirection = true;\n                }\n              });\n            }\n            return hasDirection;\n          },\n          inlineDisplay: function() {\n            var\n              style = $module.attr('style') || ''\n            ;\n            return $.isArray(style.match(/display.*?;/, ''));\n          }\n        },\n\n        set: {\n          animating: function(animation) {\n            var\n              animationClass,\n              direction\n            ;\n            // remove previous callbacks\n            module.remove.completeCallback();\n\n            // determine exact animation\n            animation      = animation || settings.animation;\n            animationClass = module.get.animationClass(animation);\n\n            // save animation class in cache to restore class names\n            module.save.animation(animationClass);\n\n            // override display if necessary so animation appears visibly\n            module.force.visible();\n\n            module.remove.hidden();\n            module.remove.direction();\n\n            module.start.animation(animationClass);\n\n          },\n          duration: function(animationName, duration) {\n            duration = duration || settings.duration;\n            duration = (typeof duration == 'number')\n              ? duration + 'ms'\n              : duration\n            ;\n            if(duration || duration === 0) {\n              module.verbose('Setting animation duration', duration);\n              $module\n                .css({\n                  'animation-duration':  duration\n                })\n              ;\n            }\n          },\n          direction: function(direction) {\n            direction = direction || module.get.direction();\n            if(direction == className.inward) {\n              module.set.inward();\n            }\n            else {\n              module.set.outward();\n            }\n          },\n          looping: function() {\n            module.debug('Transition set to loop');\n            $module\n              .addClass(className.looping)\n            ;\n          },\n          hidden: function() {\n            $module\n              .addClass(className.transition)\n              .addClass(className.hidden)\n            ;\n          },\n          inward: function() {\n            module.debug('Setting direction to inward');\n            $module\n              .removeClass(className.outward)\n              .addClass(className.inward)\n            ;\n          },\n          outward: function() {\n            module.debug('Setting direction to outward');\n            $module\n              .removeClass(className.inward)\n              .addClass(className.outward)\n            ;\n          },\n          visible: function() {\n            $module\n              .addClass(className.transition)\n              .addClass(className.visible)\n            ;\n          }\n        },\n\n        start: {\n          animation: function(animationClass) {\n            animationClass = animationClass || module.get.animationClass();\n            module.debug('Starting tween', animationClass);\n            $module\n              .addClass(animationClass)\n              .one(animationEnd + '.complete' + eventNamespace, module.complete)\n            ;\n            if(settings.useFailSafe) {\n              module.add.failSafe();\n            }\n            module.set.duration(settings.duration);\n            settings.onStart.call(element);\n          }\n        },\n\n        save: {\n          animation: function(animation) {\n            if(!module.cache) {\n              module.cache = {};\n            }\n            module.cache.animation = animation;\n          },\n          displayType: function(displayType) {\n            if(displayType !== 'none') {\n              $module.data(metadata.displayType, displayType);\n            }\n          },\n          transitionExists: function(animation, exists) {\n            $.fn.transition.exists[animation] = exists;\n            module.verbose('Saving existence of transition', animation, exists);\n          }\n        },\n\n        restore: {\n          conditions: function() {\n            var\n              animation = module.get.currentAnimation()\n            ;\n            if(animation) {\n              $module\n                .removeClass(animation)\n              ;\n              module.verbose('Removing animation class', module.cache);\n            }\n            module.remove.duration();\n          }\n        },\n\n        add: {\n          failSafe: function() {\n            var\n              duration = module.get.duration()\n            ;\n            module.timer = setTimeout(function() {\n              $module.triggerHandler(animationEnd);\n            }, duration + settings.failSafeDelay);\n            module.verbose('Adding fail safe timer', module.timer);\n          }\n        },\n\n        remove: {\n          animating: function() {\n            $module.removeClass(className.animating);\n          },\n          animationCallbacks: function() {\n            module.remove.queueCallback();\n            module.remove.completeCallback();\n          },\n          queueCallback: function() {\n            $module.off('.queue' + eventNamespace);\n          },\n          completeCallback: function() {\n            $module.off('.complete' + eventNamespace);\n          },\n          display: function() {\n            $module.css('display', '');\n          },\n          direction: function() {\n            $module\n              .removeClass(className.inward)\n              .removeClass(className.outward)\n            ;\n          },\n          duration: function() {\n            $module\n              .css('animation-duration', '')\n            ;\n          },\n          failSafe: function() {\n            module.verbose('Removing fail safe timer', module.timer);\n            if(module.timer) {\n              clearTimeout(module.timer);\n            }\n          },\n          hidden: function() {\n            $module.removeClass(className.hidden);\n          },\n          visible: function() {\n            $module.removeClass(className.visible);\n          },\n          looping: function() {\n            module.debug('Transitions are no longer looping');\n            if( module.is.looping() ) {\n              module.reset();\n              $module\n                .removeClass(className.looping)\n              ;\n            }\n          },\n          transition: function() {\n            $module\n              .removeClass(className.visible)\n              .removeClass(className.hidden)\n            ;\n          }\n        },\n        get: {\n          settings: function(animation, duration, onComplete) {\n            // single settings object\n            if(typeof animation == 'object') {\n              return $.extend(true, {}, $.fn.transition.settings, animation);\n            }\n            // all arguments provided\n            else if(typeof onComplete == 'function') {\n              return $.extend({}, $.fn.transition.settings, {\n                animation  : animation,\n                onComplete : onComplete,\n                duration   : duration\n              });\n            }\n            // only duration provided\n            else if(typeof duration == 'string' || typeof duration == 'number') {\n              return $.extend({}, $.fn.transition.settings, {\n                animation : animation,\n                duration  : duration\n              });\n            }\n            // duration is actually settings object\n            else if(typeof duration == 'object') {\n              return $.extend({}, $.fn.transition.settings, duration, {\n                animation : animation\n              });\n            }\n            // duration is actually callback\n            else if(typeof duration == 'function') {\n              return $.extend({}, $.fn.transition.settings, {\n                animation  : animation,\n                onComplete : duration\n              });\n            }\n            // only animation provided\n            else {\n              return $.extend({}, $.fn.transition.settings, {\n                animation : animation\n              });\n            }\n          },\n          animationClass: function(animation) {\n            var\n              animationClass = animation || settings.animation,\n              directionClass = (module.can.transition() && !module.has.direction())\n                ? module.get.direction() + ' '\n                : ''\n            ;\n            return className.animating + ' '\n              + className.transition + ' '\n              + directionClass\n              + animationClass\n            ;\n          },\n          currentAnimation: function() {\n            return (module.cache && module.cache.animation !== undefined)\n              ? module.cache.animation\n              : false\n            ;\n          },\n          currentDirection: function() {\n            return module.is.inward()\n              ? className.inward\n              : className.outward\n            ;\n          },\n          direction: function() {\n            return module.is.hidden() || !module.is.visible()\n              ? className.inward\n              : className.outward\n            ;\n          },\n          animationDirection: function(animation) {\n            var\n              direction\n            ;\n            animation = animation || settings.animation;\n            if(typeof animation === 'string') {\n              animation = animation.split(' ');\n              // search animation name for out/in class\n              $.each(animation, function(index, word){\n                if(word === className.inward) {\n                  direction = className.inward;\n                }\n                else if(word === className.outward) {\n                  direction = className.outward;\n                }\n              });\n            }\n            // return found direction\n            if(direction) {\n              return direction;\n            }\n            return false;\n          },\n          duration: function(duration) {\n            duration = duration || settings.duration;\n            if(duration === false) {\n              duration = $module.css('animation-duration') || 0;\n            }\n            return (typeof duration === 'string')\n              ? (duration.indexOf('ms') > -1)\n                ? parseFloat(duration)\n                : parseFloat(duration) * 1000\n              : duration\n            ;\n          },\n          displayType: function(shouldDetermine) {\n            shouldDetermine = (shouldDetermine !== undefined)\n              ? shouldDetermine\n              : true\n            ;\n            if(settings.displayType) {\n              return settings.displayType;\n            }\n            if(shouldDetermine && $module.data(metadata.displayType) === undefined) {\n              // create fake element to determine display state\n              module.can.transition(true);\n            }\n            return $module.data(metadata.displayType);\n          },\n          userStyle: function(style) {\n            style = style || $module.attr('style') || '';\n            return style.replace(/display.*?;/, '');\n          },\n          transitionExists: function(animation) {\n            return $.fn.transition.exists[animation];\n          },\n          animationStartEvent: function() {\n            var\n              element     = document.createElement('div'),\n              animations  = {\n                'animation'       :'animationstart',\n                'OAnimation'      :'oAnimationStart',\n                'MozAnimation'    :'mozAnimationStart',\n                'WebkitAnimation' :'webkitAnimationStart'\n              },\n              animation\n            ;\n            for(animation in animations){\n              if( element.style[animation] !== undefined ){\n                return animations[animation];\n              }\n            }\n            return false;\n          },\n          animationEndEvent: function() {\n            var\n              element     = document.createElement('div'),\n              animations  = {\n                'animation'       :'animationend',\n                'OAnimation'      :'oAnimationEnd',\n                'MozAnimation'    :'mozAnimationEnd',\n                'WebkitAnimation' :'webkitAnimationEnd'\n              },\n              animation\n            ;\n            for(animation in animations){\n              if( element.style[animation] !== undefined ){\n                return animations[animation];\n              }\n            }\n            return false;\n          }\n\n        },\n\n        can: {\n          transition: function(forced) {\n            var\n              animation         = settings.animation,\n              transitionExists  = module.get.transitionExists(animation),\n              displayType       = module.get.displayType(false),\n              elementClass,\n              tagName,\n              $clone,\n              currentAnimation,\n              inAnimation,\n              directionExists\n            ;\n            if( transitionExists === undefined || forced) {\n              module.verbose('Determining whether animation exists');\n              elementClass = $module.attr('class');\n              tagName      = $module.prop('tagName');\n\n              $clone = $('<' + tagName + ' />').addClass( elementClass ).insertAfter($module);\n              currentAnimation = $clone\n                .addClass(animation)\n                .removeClass(className.inward)\n                .removeClass(className.outward)\n                .addClass(className.animating)\n                .addClass(className.transition)\n                .css('animationName')\n              ;\n              inAnimation = $clone\n                .addClass(className.inward)\n                .css('animationName')\n              ;\n              if(!displayType) {\n                displayType = $clone\n                  .attr('class', elementClass)\n                  .removeAttr('style')\n                  .removeClass(className.hidden)\n                  .removeClass(className.visible)\n                  .show()\n                  .css('display')\n                ;\n                module.verbose('Determining final display state', displayType);\n                module.save.displayType(displayType);\n              }\n\n              $clone.remove();\n              if(currentAnimation != inAnimation) {\n                module.debug('Direction exists for animation', animation);\n                directionExists = true;\n              }\n              else if(currentAnimation == 'none' || !currentAnimation) {\n                module.debug('No animation defined in css', animation);\n                return;\n              }\n              else {\n                module.debug('Static animation found', animation, displayType);\n                directionExists = false;\n              }\n              module.save.transitionExists(animation, directionExists);\n            }\n            return (transitionExists !== undefined)\n              ? transitionExists\n              : directionExists\n            ;\n          },\n          animate: function() {\n            // can transition does not return a value if animation does not exist\n            return (module.can.transition() !== undefined);\n          }\n        },\n\n        is: {\n          animating: function() {\n            return $module.hasClass(className.animating);\n          },\n          inward: function() {\n            return $module.hasClass(className.inward);\n          },\n          outward: function() {\n            return $module.hasClass(className.outward);\n          },\n          looping: function() {\n            return $module.hasClass(className.looping);\n          },\n          occurring: function(animation) {\n            animation = animation || settings.animation;\n            animation = '.' + animation.replace(' ', '.');\n            return ( $module.filter(animation).length > 0 );\n          },\n          visible: function() {\n            return $module.is(':visible');\n          },\n          hidden: function() {\n            return $module.css('visibility') === 'hidden';\n          },\n          supported: function() {\n            return(animationEnd !== false);\n          }\n        },\n\n        hide: function() {\n          module.verbose('Hiding element');\n          if( module.is.animating() ) {\n            module.reset();\n          }\n          element.blur(); // IE will trigger focus change if element is not blurred before hiding\n          module.remove.display();\n          module.remove.visible();\n          module.set.hidden();\n          module.force.hidden();\n          settings.onHide.call(element);\n          settings.onComplete.call(element);\n          // module.repaint();\n        },\n\n        show: function(display) {\n          module.verbose('Showing element', display);\n          module.remove.hidden();\n          module.set.visible();\n          module.force.visible();\n          settings.onShow.call(element);\n          settings.onComplete.call(element);\n          // module.repaint();\n        },\n\n        toggle: function() {\n          if( module.is.visible() ) {\n            module.hide();\n          }\n          else {\n            module.show();\n          }\n        },\n\n        stop: function() {\n          module.debug('Stopping current animation');\n          $module.triggerHandler(animationEnd);\n        },\n\n        stopAll: function() {\n          module.debug('Stopping all animation');\n          module.remove.queueCallback();\n          $module.triggerHandler(animationEnd);\n        },\n\n        clear: {\n          queue: function() {\n            module.debug('Clearing animation queue');\n            module.remove.queueCallback();\n          }\n        },\n\n        enable: function() {\n          module.verbose('Starting animation');\n          $module.removeClass(className.disabled);\n        },\n\n        disable: function() {\n          module.debug('Stopping animation');\n          $module.addClass(className.disabled);\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        // modified for transition to return invoke success\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return (found !== undefined)\n            ? found\n            : false\n          ;\n        }\n      };\n      module.initialize();\n    })\n  ;\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n// Records if CSS transition is available\n$.fn.transition.exists = {};\n\n$.fn.transition.settings = {\n\n  // module info\n  name          : 'Transition',\n\n  // hide all output from this component regardless of other settings\n  silent        : false,\n\n  // debug content outputted to console\n  debug         : false,\n\n  // verbose debug output\n  verbose       : false,\n\n  // performance data output\n  performance   : true,\n\n  // event namespace\n  namespace     : 'transition',\n\n  // delay between animations in group\n  interval      : 0,\n\n  // whether group animations should be reversed\n  reverse       : 'auto',\n\n  // animation callback event\n  onStart       : function() {},\n  onComplete    : function() {},\n  onShow        : function() {},\n  onHide        : function() {},\n\n  // whether timeout should be used to ensure callback fires in cases animationend does not\n  useFailSafe   : true,\n\n  // delay in ms for fail safe\n  failSafeDelay : 100,\n\n  // whether EXACT animation can occur twice in a row\n  allowRepeats  : false,\n\n  // Override final display type on visible\n  displayType   : false,\n\n  // animation duration\n  animation     : 'fade',\n  duration      : false,\n\n  // new animations will occur after previous ones\n  queue         : true,\n\n  metadata : {\n    displayType: 'display'\n  },\n\n  className   : {\n    animating  : 'animating',\n    disabled   : 'disabled',\n    hidden     : 'hidden',\n    inward     : 'in',\n    loading    : 'loading',\n    looping    : 'looping',\n    outward    : 'out',\n    transition : 'transition',\n    visible    : 'visible'\n  },\n\n  // possible errors\n  error: {\n    noAnimation : 'Element is no longer attached to DOM. Unable to animate.  Use silent setting to surpress this warning in production.',\n    repeated    : 'That animation is already occurring, cancelling repeated animation',\n    method      : 'The method you called is not defined',\n    support     : 'This browser does not support CSS animations'\n  }\n\n};\n\n\n})( jQuery, window, document );\n","/*******************************\n            Set-up\n*******************************/\n\nvar\n  gulp         = require('gulp-help')(require('gulp')),\n\n  // read user config to know what task to load\n  config       = require('./tasks/config/user'),\n\n  // watch changes\n  watch        = require('./tasks/watch'),\n\n  // build all files\n  build        = require('./tasks/build'),\n  buildJS      = require('./tasks/build/javascript'),\n  buildCSS     = require('./tasks/build/css'),\n  buildAssets  = require('./tasks/build/assets'),\n\n  // utility\n  clean        = require('./tasks/clean'),\n  version      = require('./tasks/version'),\n\n  // docs tasks\n  serveDocs    = require('./tasks/docs/serve'),\n  buildDocs    = require('./tasks/docs/build'),\n\n  // rtl\n  buildRTL     = require('./tasks/rtl/build'),\n  watchRTL     = require('./tasks/rtl/watch')\n;\n\n\n/*******************************\n             Tasks\n*******************************/\n\ngulp.task('default', false, [\n  'watch'\n]);\n\ngulp.task('watch', 'Watch for site/theme changes', watch);\n\ngulp.task('build', 'Builds all files from source', build);\ngulp.task('build-javascript', 'Builds all javascript from source', buildJS);\ngulp.task('build-css', 'Builds all css from source', buildCSS);\ngulp.task('build-assets', 'Copies all assets from source', buildAssets);\n\ngulp.task('clean', 'Clean dist folder', clean);\ngulp.task('version', 'Displays current version of Semantic', version);\n\n/*--------------\n      Docs\n---------------*/\n\n/*\n  Lets you serve files to a local documentation instance\n  https://github.com/Semantic-Org/Semantic-UI-Docs/\n*/\n\ngulp.task('serve-docs', 'Serve file changes to SUI Docs', serveDocs);\ngulp.task('build-docs', 'Build all files and add to SUI Docs', buildDocs);\n\n\n/*--------------\n      RTL\n---------------*/\n\nif(config.rtl) {\n  gulp.task('watch-rtl', 'Watch files as RTL', watchRTL);\n  gulp.task('build-rtl', 'Build all files as RTL', buildRTL);\n}\n"]}}]